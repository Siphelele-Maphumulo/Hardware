"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1240],{1240:(w,a,u)=>{u.r(a),u.d(a,{ProductsPageModule:()=>C});var l=u(9808),s=u(2382),r=u(8161),p=u(6115),t=u(5e3),g=u(9792);function m(e,c){if(1&e&&t._UZ(0,"img",14),2&e){const o=t.oxw(2);t.Q6J("src",o.newProduct.image,t.LSH)}}function _(e,c){if(1&e&&(t.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title",12),t._uU(3),t.qZA()(),t.TgZ(4,"ion-card-content")(5,"p"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.YNc(10,m,1,1,"img",13),t.qZA()()),2&e){const o=t.oxw();t.xp6(3),t.hij(" ",o.newProduct.title," "),t.xp6(3),t.hij("Amount: ",t.gM2(7,4,o.newProduct.amount,"ZAR","symbol","1.2-2"),""),t.xp6(3),t.hij("Category ID: ",o.newProduct.catID,""),t.xp6(1),t.Q6J("ngIf",o.newProduct.image)}}function P(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"ion-button",15),t.NdJ("click",function(){return t.CHM(o),t.oxw().resetForm()}),t._uU(1," Cancel "),t.qZA()}}function h(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label")(2,"h2",12),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA()(),t._UZ(11,"img",16),t.TgZ(12,"ion-button",17),t.NdJ("click",function(){const i=t.CHM(o).$implicit;return t.oxw().updateProduct(i)}),t._uU(13," Edit "),t.qZA(),t.TgZ(14,"ion-button",18),t.NdJ("click",function(){const i=t.CHM(o).$implicit;return t.oxw().deleteProduct(i.id)}),t._uU(15," Delete "),t.qZA()()}if(2&e){const o=c.$implicit;t.xp6(3),t.Oqu(o.title),t.xp6(2),t.hij("Amount: ",t.gM2(6,5,o.amount,"ZAR","symbol","1.2-2"),""),t.xp6(3),t.hij("Category ID: ",o.catID,""),t.xp6(2),t.hij("Quantity: ",o.qty,""),t.xp6(1),t.Q6J("src",o.image,t.LSH)}}const f=[{path:"",component:(()=>{class e{constructor(o){this.fireService=o,this.products=[],this.newProduct={prodID:"",image:"",title:"",amount:0,catID:"",qty:0,item_total_amt:0},this.selectedProductId=null}ngOnInit(){this.loadProducts()}loadProducts(){this.fireService.firestore.collection("products").valueChanges({idField:"id"}).subscribe(o=>{this.products=o})}generateProductId(){return Math.floor(9e9*Math.random()+1e9).toString()}addOrUpdateProduct(){this.newProduct.item_total_amt=this.newProduct.amount*this.newProduct.qty,this.selectedProductId?this.fireService.firestore.collection("products").doc(this.selectedProductId).update(this.newProduct).then(()=>{alert("Product updated successfully!"),this.resetForm(),this.loadProducts()}).catch(o=>{console.error("Error updating product:",o)}):(this.newProduct.prodID=this.generateProductId(),this.fireService.firestore.collection("products").add(this.newProduct).then(()=>{alert("Product added successfully!"),this.resetForm(),this.loadProducts()}).catch(o=>{console.error("Error adding product:",o)}))}deleteProduct(o){this.fireService.firestore.collection("products").doc(o).delete().then(()=>{alert("Product deleted"),this.loadProducts()}).catch(n=>{console.error("Error deleting product:",n)})}updateProduct(o){this.selectedProductId=o.id,this.newProduct=Object.assign({},o),this.content.scrollToTop(300)}resetForm(){this.selectedProductId=null,this.newProduct={prodID:"",image:"",title:"",amount:0,catID:"",qty:0,item_total_amt:0}}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.Q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-products"]],viewQuery:function(o,n){if(1&o&&t.Gf(r.W2,5),2&o){let d;t.iGM(d=t.CRH())&&(n.content=d.first)}},decls:37,vars:10,consts:[["color","shade"],["slot","start","color","shade",1,"menu_btn"],["defaultHref","/"],[2,"text-align","center"],[4,"ngIf"],[2,"color","rgb(43, 41, 41)"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["expand","full",3,"click"],["expand","full","color","medium",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"product-title"],["alt","Preview Image","style","max-width: 100px; height: auto",3,"src",4,"ngIf"],["alt","Preview Image",2,"max-width","100px","height","auto",3,"src"],["expand","full","color","medium",3,"click"],["alt","Product Image",2,"max-width","60px","height","auto","margin-left","10px",3,"src"],["slot","end","fill","clear",3,"click"],["slot","end","color","danger","fill","clear",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5,"Products"),t.qZA()()(),t.TgZ(6,"ion-content"),t.YNc(7,_,11,9,"ion-card",4),t.TgZ(8,"ion-item",5)(9,"ion-label",6),t._uU(10,"Product ID"),t.qZA(),t.TgZ(11,"ion-input",7),t.NdJ("ngModelChange",function(i){return n.newProduct.prodID=i}),t.qZA()(),t.TgZ(12,"ion-item",5)(13,"ion-label",6),t._uU(14,"Title"),t.qZA(),t.TgZ(15,"ion-input",7),t.NdJ("ngModelChange",function(i){return n.newProduct.title=i}),t.qZA()(),t.TgZ(16,"ion-item",5)(17,"ion-label",6),t._uU(18,"Amount"),t.qZA(),t.TgZ(19,"ion-input",8),t.NdJ("ngModelChange",function(i){return n.newProduct.amount=i}),t.qZA()(),t.TgZ(20,"ion-item",5)(21,"ion-label",6),t._uU(22,"Category ID"),t.qZA(),t.TgZ(23,"ion-input",7),t.NdJ("ngModelChange",function(i){return n.newProduct.catID=i}),t.qZA()(),t.TgZ(24,"ion-item",5)(25,"ion-label",6),t._uU(26,"Quantity"),t.qZA(),t.TgZ(27,"ion-input",8),t.NdJ("ngModelChange",function(i){return n.newProduct.qty=i}),t.qZA()(),t.TgZ(28,"ion-item",5)(29,"ion-label",6),t._uU(30,"Image URL"),t.qZA(),t.TgZ(31,"ion-input",7),t.NdJ("ngModelChange",function(i){return n.newProduct.image=i}),t.qZA()(),t.TgZ(32,"ion-button",9),t.NdJ("click",function(){return n.addOrUpdateProduct()}),t._uU(33),t.qZA(),t.YNc(34,P,2,0,"ion-button",10),t.TgZ(35,"ion-list"),t.YNc(36,h,16,10,"ion-item",11),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("ngIf",n.newProduct.title||n.newProduct.image),t.xp6(4),t.Q6J("ngModel",n.newProduct.prodID),t.xp6(4),t.Q6J("ngModel",n.newProduct.title),t.xp6(4),t.Q6J("ngModel",n.newProduct.amount),t.xp6(4),t.Q6J("ngModel",n.newProduct.catID),t.xp6(4),t.Q6J("ngModel",n.newProduct.qty),t.xp6(4),t.Q6J("ngModel",n.newProduct.image),t.xp6(2),t.hij(" ",n.selectedProductId?"Update Product":"Add Product"," "),t.xp6(1),t.Q6J("ngIf",n.selectedProductId),t.xp6(2),t.Q6J("ngForOf",n.products))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,l.O5,r.PM,r.Zi,r.Dq,r.FN,r.Ie,r.Q$,r.pK,r.j9,s.JJ,s.On,r.as,r.YG,r.q_,l.sg],pipes:[l.H9],styles:[".product-title[_ngcontent-%COMP%] {\n    color: black;\n    font-weight: bold;\n  }"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(f)],p.Bz]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,s.u5,r.Pc,Z]]}),e})()}}]);