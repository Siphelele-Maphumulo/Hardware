var tb=Object.defineProperty,nb=Object.defineProperties,rb=Object.getOwnPropertyDescriptors,aE=Object.getOwnPropertySymbols,ib=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,lE=(en,ut,M)=>ut in en?tb(en,ut,{enumerable:!0,configurable:!0,writable:!0,value:M}):en[ut]=M,uE=(en,ut)=>{for(var M in ut||(ut={}))ib.call(ut,M)&&lE(en,M,ut[M]);if(aE)for(var M of aE(ut))sb.call(ut,M)&&lE(en,M,ut[M]);return en},cE=(en,ut)=>nb(en,rb(ut));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(en,ut,M)=>{"use strict";M.d(ut,{nm:()=>ne});var c=M(5813);M(5e3),M(5867);var We=M(5861),Ze=M(9681),st=M(4859),Ue=M(2090),Xe=M(1877);const se=new Map,Qe={activated:!1,tokenObservers:[]},dt={initialized:!1,enabled:!1};function rt(at){return se.get(at)||Qe}function Ke(at,et){se.set(at,et)}function ft(){return dt}class X{constructor(et,At,zt,rn,Mn){if(this.operation=et,this.retryPolicy=At,this.getWaitDuration=zt,this.lowerBound=rn,this.upperBound=Mn,this.pending=null,this.nextErrorWaitInterval=rn,rn>Mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(et){var At=this;return(0,We.Z)(function*(){At.stop();try{At.pending=new Ue.BH,yield function ce(at){return new Promise(et=>{setTimeout(et,at)})}(At.getNextRun(et)),At.pending.resolve(),yield At.pending.promise,At.pending=new Ue.BH,yield At.operation(),At.pending.resolve(),yield At.pending.promise,At.process(!0).catch(()=>{})}catch(zt){At.retryPolicy(zt)?At.process(!1).catch(()=>{}):At.stop()}})()}getNextRun(et){if(et)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const At=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),At}}}const _e=new Ue.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ye(at){if(!rt(at).activated)throw _e.create("use-before-activation",{appName:at.name})}function Gt(at,et){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,We.Z)(function*({url:at,body:et},At){const zt={"Content-Type":"application/json"},rn=At.getImmediate({optional:!0});if(rn){const zi=yield rn.getHeartbeatsHeader();zi&&(zt["X-Firebase-Client"]=zi)}const Mn={method:"POST",body:JSON.stringify(et),headers:zt};let ur,Si;try{ur=yield fetch(at,Mn)}catch(zi){throw _e.create("fetch-network-error",{originalErrorMessage:zi.message})}if(200!==ur.status)throw _e.create("fetch-status-error",{httpStatus:ur.status});try{Si=yield ur.json()}catch(zi){throw _e.create("fetch-parse-error",{originalErrorMessage:zi.message})}const yr=Si.ttl.match(/^([\d.]+)(s)$/);if(!yr||!yr[2]||isNaN(Number(yr[1])))throw _e.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Si.ttl}`});const is=1e3*Number(yr[1]),Ts=Date.now();return{token:Si.token,expireTimeMillis:Ts+is,issuedAtTimeMillis:Ts}})).apply(this,arguments)}function hn(at,et){const{projectId:At,appId:zt,apiKey:rn}=at.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${At}/apps/${zt}:exchangeDebugToken?key=${rn}`,body:{debug_token:et}}}const gr="firebase-app-check-store";let Zn=null;function Ir(){return Zn||(Zn=new Promise((at,et)=>{try{const At=indexedDB.open("firebase-app-check-database",1);At.onsuccess=zt=>{at(zt.target.result)},At.onerror=zt=>{var rn;et(_e.create("storage-open",{originalErrorMessage:null===(rn=zt.target.error)||void 0===rn?void 0:rn.message}))},At.onupgradeneeded=zt=>{0===zt.oldVersion&&zt.target.result.createObjectStore(gr,{keyPath:"compositeKey"})}}catch(At){et(_e.create("storage-open",{originalErrorMessage:At.message}))}}),Zn)}function pt(){return(pt=(0,We.Z)(function*(at,et){const zt=(yield Ir()).transaction(gr,"readwrite"),Mn=zt.objectStore(gr).put({compositeKey:at,value:et});return new Promise((ur,Si)=>{Mn.onsuccess=yr=>{ur()},zt.onerror=yr=>{var is;Si(_e.create("storage-set",{originalErrorMessage:null===(is=yr.target.error)||void 0===is?void 0:is.message}))}})})).apply(this,arguments)}const jn=new Xe.Yd("@firebase/app-check");function jr(at,et){return(0,Ue.hl)()?function Ft(at,et){return function Yt(at,et){return pt.apply(this,arguments)}(function Wn(at){return`${at.options.appId}-${at.name}`}(at),et)}(at,et).catch(At=>{jn.warn(`Failed to write token to IndexedDB. Error: ${At}`)}):Promise.resolve()}function Ge(){return ft().enabled}function it(){return $t.apply(this,arguments)}function $t(){return($t=(0,We.Z)(function*(){const at=ft();if(at.enabled&&at.token)return at.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _t={error:"UNKNOWN_ERROR"};function Zt(at){return Ue.US.encodeString(JSON.stringify(at),!1)}function fn(at){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,We.Z)(function*(at,et=!1){const At=at.app;ye(At);const zt=rt(At);let Mn,rn=zt.token;if(!rn){const yr=yield zt.cachedTokenPromise;yr&&Hi(yr)&&(rn=yr)}if(!et&&rn&&Hi(rn))return{token:rn.token};let Si,ur=!1;if(Ge()){zt.exchangeTokenPromise||(zt.exchangeTokenPromise=Gt(hn(At,yield it()),at.heartbeatServiceProvider).then(is=>(zt.exchangeTokenPromise=void 0,is)),ur=!0);const yr=yield zt.exchangeTokenPromise;return yield jr(At,yr),Ke(At,Object.assign(Object.assign({},zt),{token:yr})),{token:yr.token}}try{zt.exchangeTokenPromise||(zt.exchangeTokenPromise=zt.provider.getToken().then(yr=>(zt.exchangeTokenPromise=void 0,yr)),ur=!0),rn=yield zt.exchangeTokenPromise}catch(yr){"appCheck/throttled"===yr.code?jn.warn(yr.message):jn.error(yr),Mn=yr}return rn?(Si={token:rn.token},Ke(At,Object.assign(Object.assign({},zt),{token:rn})),yield jr(At,rn)):Si=Ei(Mn),ur&&Hr(At,Si),Si})).apply(this,arguments)}function dr(at,et){const At=rt(at),zt=At.tokenObservers.filter(rn=>rn.next!==et);0===zt.length&&At.tokenRefresher&&At.tokenRefresher.isRunning()&&At.tokenRefresher.stop(),Ke(at,Object.assign(Object.assign({},At),{tokenObservers:zt}))}function gn(at){const{app:et}=at,At=rt(et);let zt=At.tokenRefresher;zt||(zt=function Bn(at){const{app:et}=at;return new X((0,We.Z)(function*(){let zt;if(zt=rt(et).token?yield fn(at,!0):yield fn(at),zt.error)throw zt.error}),()=>!0,()=>{const At=rt(et);if(At.token){let zt=At.token.issuedAtTimeMillis+.5*(At.token.expireTimeMillis-At.token.issuedAtTimeMillis)+3e5;return zt=Math.min(zt,At.token.expireTimeMillis-3e5),Math.max(0,zt-Date.now())}return 0},3e4,96e4)}(at),Ke(et,Object.assign(Object.assign({},At),{tokenRefresher:zt}))),!zt.isRunning()&&At.isTokenAutoRefreshEnabled&&zt.start()}function Hr(at,et){const At=rt(at).tokenObservers;for(const zt of At)try{"EXTERNAL"===zt.type&&null!=et.error?zt.error(et.error):zt.next(et)}catch(rn){}}function Hi(at){return at.expireTimeMillis-Date.now()>0}function Ei(at){return{token:Zt(_t),error:at}}class Gi{constructor(et,At){this.app=et,this.heartbeatServiceProvider=At}_delete(){const{tokenObservers:et}=rt(this.app);for(const At of et)dr(this.app,At.next);return Promise.resolve()}}const Ci="app-check-internal";!function Xr(){(0,Ze._registerComponent)(new st.wA("app-check",at=>function Pi(at,et){return new Gi(at,et)}(at.getProvider("app").getImmediate(),at.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((at,et,At)=>{at.getProvider(Ci).initialize()})),(0,Ze._registerComponent)(new st.wA(Ci,at=>function Vr(at){return{getToken:et=>fn(at,et),addTokenListener:et=>function nn(at,et,At,zt){const{app:rn}=at,Mn=rt(rn),ur={next:At,error:zt,type:et};if(Ke(rn,Object.assign(Object.assign({},Mn),{tokenObservers:[...Mn.tokenObservers,ur]})),Mn.token&&Hi(Mn.token)){const Si=Mn.token;Promise.resolve().then(()=>{At({token:Si.token}),gn(at)}).catch(()=>{})}Mn.cachedTokenPromise.then(()=>gn(at))}(at,"INTERNAL",et),removeTokenListener:et=>dr(at.app,et)}}(at.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)("@firebase/app-check","0.5.8")}();class ne{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(en,ut,M)=>{"use strict";M.d(ut,{zQ:()=>rt,ww:()=>Ke,rT:()=>Xe,f7:()=>Qe,L6:()=>st,_Q:()=>Ue,lh:()=>se,Qv:()=>Ze,nw:()=>dt});var c=M(5e3),G=M(7579),Y=M(9646),Ne=M(8306),be=M(8996),De=M(6451),Ee=M(3900),ge=M(576);function Be(ft,vt){return(0,ge.m)(vt)?(0,Ee.w)(()=>ft,vt):(0,Ee.w)(()=>ft)}var te=M(5363),de=M(4004),Te=M(3151),Me=M(590),Oe=M(9468),qe=M(9300),ke=M(5813),Ae=M(2011),Le=M(9808),ht=M(440),Et=M(127);const Ze=new c.OlP("angularfire2.auth.use-emulator"),st=new c.OlP("angularfire2.auth.settings"),Ue=new c.OlP("angularfire2.auth.tenant-id"),Xe=new c.OlP("angularfire2.auth.langugage-code"),se=new c.OlP("angularfire2.auth.use-device-language"),Qe=new c.OlP("angularfire.auth.persistence"),dt=(ft,vt,un,Xt,Ct,Ye,ee,X)=>(0,Ae.cc)(`${ft.name}.auth`,"AngularFireAuth",ft.name,()=>{const ce=vt.runOutsideAngular(()=>ft.auth());if(un&&ce.useEmulator(...un),Xt&&(ce.tenantId=Xt),ce.languageCode=Ct,Ye&&ce.useDeviceLanguage(),ee)for(const[we,_e]of Object.entries(ee))ce.settings[we]=_e;return X&&ce.setPersistence(X),ce},[un,Xt,Ct,Ye,ee,X]);let rt=(()=>{class ft{constructor(un,Xt,Ct,Ye,ee,X,ce,we,_e,je,ye,Ce){const kt=new G.x,Kt=(0,Y.of)(void 0).pipe((0,te.Q)(ee.outsideAngular),(0,Ee.w)(()=>Ye.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,8775)))),(0,de.U)(()=>(0,Ae.on)(un,Ye,Xt)),(0,de.U)(Gt=>dt(Gt,Ye,X,we,_e,je,ce,ye)),(0,Te.d)({bufferSize:1,refCount:!1}));if((0,Le.PM)(Ct))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Y.of)(null);else{Kt.pipe((0,Me.P)()).subscribe();const Jt=Kt.pipe((0,Ee.w)(hn=>hn.getRedirectResult().then(Pn=>Pn,()=>null)),ke.iC,(0,Te.d)({bufferSize:1,refCount:!1})),In=Kt.pipe((0,Ee.w)(hn=>new Ne.y(Pn=>({unsubscribe:Ye.runOutsideAngular(()=>hn.onAuthStateChanged(vn=>Pn.next(vn),vn=>Pn.error(vn),()=>Pn.complete()))})))),er=Kt.pipe((0,Ee.w)(hn=>new Ne.y(Pn=>({unsubscribe:Ye.runOutsideAngular(()=>hn.onIdTokenChanged(vn=>Pn.next(vn),vn=>Pn.error(vn),()=>Pn.complete()))}))));this.authState=Jt.pipe(Be(In),(0,Oe.R)(ee.outsideAngular),(0,te.Q)(ee.insideAngular)),this.user=Jt.pipe(Be(er),(0,Oe.R)(ee.outsideAngular),(0,te.Q)(ee.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(hn=>hn?(0,be.D)(hn.getIdToken()):(0,Y.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(hn=>hn?(0,be.D)(hn.getIdTokenResult()):(0,Y.of)(null))),this.credential=(0,De.T)(Jt,kt,this.authState.pipe((0,qe.h)(hn=>!hn))).pipe((0,de.U)(hn=>(null==hn?void 0:hn.user)?hn:null),(0,Oe.R)(ee.outsideAngular),(0,te.Q)(ee.insideAngular))}return(0,Ae.pX)(this,Kt,Ye,{spy:{apply:(Gt,Jt,In)=>{(Gt.startsWith("signIn")||Gt.startsWith("createUser"))&&In.then(er=>kt.next(er))}}})}}return ft.\u0275fac=function(un){return new(un||ft)(c.LFG(Ae.Dh),c.LFG(Ae.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ke.HU),c.LFG(Ze,8),c.LFG(st,8),c.LFG(Ue,8),c.LFG(Xe,8),c.LFG(se,8),c.LFG(Qe,8),c.LFG(ht.nm,8))},ft.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"any"}),ft})(),Ke=(()=>{class ft{constructor(){Et.Z.registerVersion("angularfire",ke.q4.full,"auth-compat")}}return ft.\u0275fac=function(un){return new(un||ft)},ft.\u0275mod=c.oAB({type:ft}),ft.\u0275inj=c.cJS({providers:[rt]}),ft})()},4206:(en,ut,M)=>{"use strict";M.d(ut,{ST:()=>we});var c=M(5e3),G=M(4986),Y=M(8306),Ne=M(8996),be=M(9646),De=M(5813),Ee=M(4482),ge=M(5403);function Be(){return(0,Ee.e)((je,ye)=>{let Ce,kt=!1;je.subscribe((0,ge.x)(ye,Kt=>{const Gt=Ce;Ce=Kt,kt&&ye.next([Gt,Kt]),kt=!0}))})}var te=M(8675),de=M(4004),Te=M(5026),Me=M(1884),Oe=M(9300),qe=M(2011),ke=M(9808),ht=(M(8775),M(6463),M(3385)),Et=M(440);function st(je,ye){return function Ze(je,ye=G.z){return new Y.y(Ce=>{let kt;return null!=ye?ye.schedule(()=>{kt=je.onSnapshot({includeMetadataChanges:!0},Ce)}):kt=je.onSnapshot({includeMetadataChanges:!0},Ce),()=>{null!=kt&&kt()}})}(je,ye)}function Xe(je,ye){return st(je,ye).pipe((0,de.U)(Ce=>({payload:Ce,type:"query"})))}function se(je,ye){return Xe(je,ye).pipe((0,te.O)(void 0),Be(),(0,de.U)(([Ce,kt])=>{const Kt=kt.payload.docChanges(),Gt=Kt.map(Jt=>({type:Jt.type,payload:Jt}));return Ce&&JSON.stringify(Ce.payload.metadata)!==JSON.stringify(kt.payload.metadata)&&kt.payload.docs.forEach((Jt,In)=>{const er=Kt.find(Pn=>Pn.doc.ref.isEqual(Jt.ref)),hn=null==Ce?void 0:Ce.payload.docs.find(Pn=>Pn.ref.isEqual(Jt.ref));er&&JSON.stringify(er.doc.metadata)===JSON.stringify(Jt.metadata)||!er&&hn&&JSON.stringify(hn.metadata)===JSON.stringify(Jt.metadata)||Gt.push({type:"modified",payload:{oldIndex:In,newIndex:In,type:"modified",doc:Jt}})}),Gt}))}function Qe(je,ye,Ce){return se(je,Ce).pipe((0,Te.R)((kt,Kt)=>function dt(je,ye,Ce){return ye.forEach(kt=>{Ce.indexOf(kt.type)>-1&&(je=function Ke(je,ye){switch(ye.type){case"added":if(!je[ye.newIndex]||!je[ye.newIndex].doc.ref.isEqual(ye.doc.ref))return rt(je,ye.newIndex,0,ye);break;case"modified":if(null==je[ye.oldIndex]||je[ye.oldIndex].doc.ref.isEqual(ye.doc.ref)){if(ye.oldIndex!==ye.newIndex){const Ce=je.slice();return Ce.splice(ye.oldIndex,1),Ce.splice(ye.newIndex,0,ye),Ce}return rt(je,ye.newIndex,1,ye)}break;case"removed":if(je[ye.oldIndex]&&je[ye.oldIndex].doc.ref.isEqual(ye.doc.ref))return rt(je,ye.oldIndex,1)}return je}(je,kt))}),je}(kt,Kt.map(Gt=>Gt.payload),ye),[]),(0,Me.x)(),(0,de.U)(kt=>kt.map(Kt=>({type:Kt.type,payload:Kt}))))}function rt(je,ye,Ce,...kt){const Kt=je.slice();return Kt.splice(ye,Ce,...kt),Kt}function ft(je){return(!je||0===je.length)&&(je=["added","removed","modified"]),je}M(127);class vt{constructor(ye,Ce,kt){this.ref=ye,this.query=Ce,this.afs=kt}stateChanges(ye){let Ce=se(this.query,this.afs.schedulers.outsideAngular);return ye&&ye.length>0&&(Ce=Ce.pipe((0,de.U)(kt=>kt.filter(Kt=>ye.indexOf(Kt.type)>-1)))),Ce.pipe((0,te.O)(void 0),Be(),(0,Oe.h)(([kt,Kt])=>Kt.length>0||!kt),(0,de.U)(([kt,Kt])=>Kt),De.iC)}auditTrail(ye){return this.stateChanges(ye).pipe((0,Te.R)((Ce,kt)=>[...Ce,...kt],[]))}snapshotChanges(ye){const Ce=ft(ye);return Qe(this.query,Ce,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(ye={}){return Xe(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(Ce=>Ce.payload.docs.map(kt=>ye.idField?Object.assign(Object.assign({},kt.data()),{[ye.idField]:kt.id}):kt.data())),De.iC)}get(ye){return(0,Ne.D)(this.query.get(ye)).pipe(De.iC)}add(ye){return this.ref.add(ye)}doc(ye){return new un(this.ref.doc(ye),this.afs)}}class un{constructor(ye,Ce){this.ref=ye,this.afs=Ce}set(ye,Ce){return this.ref.set(ye,Ce)}update(ye){return this.ref.update(ye)}delete(){return this.ref.delete()}collection(ye,Ce){const kt=this.ref.collection(ye),{ref:Kt,query:Gt}=ce(kt,Ce);return new vt(Kt,Gt,this.afs)}snapshotChanges(){return function Ue(je,ye){return st(je,ye).pipe((0,te.O)(void 0),Be(),(0,de.U)(([Ce,kt])=>kt.exists?(null==Ce?void 0:Ce.exists)?{payload:kt,type:"modified"}:{payload:kt,type:"added"}:{payload:kt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(ye={}){return this.snapshotChanges().pipe((0,de.U)(({payload:Ce})=>ye.idField?Object.assign(Object.assign({},Ce.data()),{[ye.idField]:Ce.id}):Ce.data()))}get(ye){return(0,Ne.D)(this.ref.get(ye)).pipe(De.iC)}}class Xt{constructor(ye,Ce){this.query=ye,this.afs=Ce}stateChanges(ye){return ye&&0!==ye.length?se(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(Ce=>Ce.filter(kt=>ye.indexOf(kt.type)>-1)),(0,Oe.h)(Ce=>Ce.length>0),De.iC):se(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(ye){return this.stateChanges(ye).pipe((0,Te.R)((Ce,kt)=>[...Ce,...kt],[]))}snapshotChanges(ye){const Ce=ft(ye);return Qe(this.query,Ce,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(ye={}){return Xe(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(kt=>kt.payload.docs.map(Kt=>ye.idField?Object.assign({[ye.idField]:Kt.id},Kt.data()):Kt.data())),De.iC)}get(ye){return(0,Ne.D)(this.query.get(ye)).pipe(De.iC)}}const Ct=new c.OlP("angularfire2.enableFirestorePersistence"),Ye=new c.OlP("angularfire2.firestore.persistenceSettings"),ee=new c.OlP("angularfire2.firestore.settings"),X=new c.OlP("angularfire2.firestore.use-emulator");function ce(je,ye=(Ce=>Ce)){return{query:ye(je),ref:je}}let we=(()=>{class je{constructor(Ce,kt,Kt,Gt,Jt,In,er,hn,Pn,vn,gr,ln,Zn,Ir,ni,Ft,He){this.schedulers=er;const Je=(0,qe.on)(Ce,In,kt),Yt=Pn;vn&&(0,ht.nw)(Je,In,gr,Zn,Ir,ni,ln,Ft),[this.firestore,this.persistenceEnabled$]=(0,qe.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const pt=In.runOutsideAngular(()=>Je.firestore());if(Gt&&pt.settings(Gt),Yt&&pt.useEmulator(...Yt),Kt&&!(0,ke.PM)(Jt)){const Wt=()=>{try{return(0,Ne.D)(pt.enablePersistence(hn||void 0).then(()=>!0,()=>!1))}catch(Dt){return"undefined"!=typeof console&&console.warn(Dt),(0,be.of)(!1)}};return[pt,In.runOutsideAngular(Wt)]}return[pt,(0,be.of)(!1)]},[Gt,Yt,Kt])}collection(Ce,kt){let Kt;Kt="string"==typeof Ce?this.firestore.collection(Ce):Ce;const{ref:Gt,query:Jt}=ce(Kt,kt),In=this.schedulers.ngZone.run(()=>Gt);return new vt(In,Jt,this)}collectionGroup(Ce,kt){const Kt=kt||(Jt=>Jt),Gt=this.firestore.collectionGroup(Ce);return new Xt(Kt(Gt),this)}doc(Ce){let kt;kt="string"==typeof Ce?this.firestore.doc(Ce):Ce;const Kt=this.schedulers.ngZone.run(()=>kt);return new un(Kt,this)}createId(){return this.firestore.collection("_").doc().id}}return je.\u0275fac=function(Ce){return new(Ce||je)(c.LFG(qe.Dh),c.LFG(qe.xv,8),c.LFG(Ct,8),c.LFG(ee,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(De.HU),c.LFG(Ye,8),c.LFG(X,8),c.LFG(ht.zQ,8),c.LFG(ht.Qv,8),c.LFG(ht.L6,8),c.LFG(ht._Q,8),c.LFG(ht.rT,8),c.LFG(ht.lh,8),c.LFG(ht.f7,8),c.LFG(Et.nm,8))},je.\u0275prov=c.Yz7({token:je,factory:je.\u0275fac,providedIn:"any"}),je})()},2011:(en,ut,M)=>{"use strict";M.d(ut,{hO:()=>Me,xv:()=>Be,Dh:()=>ge,GT:()=>De,cc:()=>Oe,on:()=>te,pX:()=>be});var c=M(5e3),G=M(127),Y=M(5813);en=M.hmd(en);const Ne=["ngOnDestroy"],be=(Le,ht,Et,We={})=>new Proxy(Le,{get:(Ze,st)=>Et.runOutsideAngular(()=>{var Ue;if(Le[st])return(null===(Ue=null==We?void 0:We.spy)||void 0===Ue?void 0:Ue.get)&&We.spy.get(st,Le[st]),Le[st];if(Ne.indexOf(st)>-1)return()=>{};const Xe=ht.toPromise().then(se=>{const Qe=se&&se[st];return"function"==typeof Qe?Qe.bind(se):Qe&&Qe.then?Qe.then(dt=>Et.run(()=>dt)):Et.run(()=>Qe)});return new Proxy(()=>{},{get:(se,Qe)=>Xe[Qe],apply:(se,Qe,dt)=>Xe.then(rt=>{var Ke;const ft=rt&&rt(...dt);return(null===(Ke=null==We?void 0:We.spy)||void 0===Ke?void 0:Ke.apply)&&We.spy.apply(st,dt,ft),ft})})})}),De=(Le,ht)=>{ht.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(We=>{Object.defineProperty(Le.prototype,We,Object.getOwnPropertyDescriptor(Et.prototype||Et,We))})})};class Ee{constructor(ht){return ht}}const ge=new c.OlP("angularfire2.app.options"),Be=new c.OlP("angularfire2.app.name");function te(Le,ht,Et){const Ze="object"==typeof Et&&Et||{};Ze.name=Ze.name||"string"==typeof Et&&Et||"[DEFAULT]";const Ue=G.Z.apps.filter(Xe=>Xe&&Xe.name===Ze.name)[0]||ht.runOutsideAngular(()=>G.Z.initializeApp(Le,Ze));try{JSON.stringify(Le)!==JSON.stringify(Ue.options)&&de("error",`${Ue.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Xe){}return new Ee(Ue)}const de=(Le,...ht)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Le](...ht)},Te={provide:Ee,useFactory:te,deps:[ge,c.R0b,[new c.FiY,Be]]};let Me=(()=>{class Le{constructor(Et){G.Z.registerVersion("angularfire",Y.q4.full,"core"),G.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),G.Z.registerVersion("angular",c.q4F.full,Et.toString())}static initializeApp(Et,We){return{ngModule:Le,providers:[{provide:ge,useValue:Et},{provide:Be,useValue:We}]}}}return Le.\u0275fac=function(Et){return new(Et||Le)(c.LFG(c.Lbi))},Le.\u0275mod=c.oAB({type:Le}),Le.\u0275inj=c.cJS({providers:[Te]}),Le})();function Oe(Le,ht,Et,We,Ze){const[,st,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===Le)||[];if(st)return function qe(Le,ht){try{return Le.toString()===ht.toString()}catch(Et){return Le===ht}}(Ze,Ue)||(Ae("error",`${ht} was already initialized on the ${Et} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:Ze,was:Ue})),st;{const Xe=We();return globalThis.\u0275AngularfireInstanceCache.push([Le,Xe,Ze]),Xe}}const ke=!!en.hot,Ae=(Le,...ht)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Le](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(en,ut,M)=>{"use strict";M.d(ut,{q4:()=>_o,iC:()=>li,fc:()=>xo,HU:()=>Cu,vb:()=>Sa,JM:()=>Nc});var c=M(5e3),G=M(5867),Y=M(5861),Ne=M(9681),be=M(2090),De=M(4859),Ee=M(1877),ge=M(8766);const Be="@firebase/installations",Te="w:0.5.9",Me="FIS_v2",ht=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(F){return F instanceof be.ZR&&F.code.includes("request-failed")}function We({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function Ze(F){return{token:F.token,requestStatus:2,expiresIn:rt(F.expiresIn),creationTime:Date.now()}}function st(F,j){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,Y.Z)(function*(F,j){const Ve=(yield j.json()).error;return ht.create("request-failed",{requestName:F,serverCode:Ve.code,serverMessage:Ve.message,serverStatus:Ve.status})})).apply(this,arguments)}function Xe({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function se(F,{refreshToken:j}){const ue=Xe(F);return ue.append("Authorization",function Ke(F){return`${Me} ${F}`}(j)),ue}function Qe(F){return dt.apply(this,arguments)}function dt(){return(dt=(0,Y.Z)(function*(F){const j=yield F();return j.status>=500&&j.status<600?F():j})).apply(this,arguments)}function rt(F){return Number(F.replace("s","000"))}function ft(F,j){return vt.apply(this,arguments)}function vt(){return(vt=(0,Y.Z)(function*({appConfig:F,heartbeatServiceProvider:j},{fid:ue}){const Ve=We(F),bt=Xe(F),Mt=j.getImmediate({optional:!0});if(Mt){const pr=yield Mt.getHeartbeatsHeader();pr&&bt.append("x-firebase-client",pr)}const Tn={method:"POST",headers:bt,body:JSON.stringify({fid:ue,authVersion:Me,appId:F.appId,sdkVersion:Te})},zn=yield Qe(()=>fetch(Ve,Tn));if(zn.ok){const pr=yield zn.json();return{fid:pr.fid||ue,registrationStatus:2,refreshToken:pr.refreshToken,authToken:Ze(pr.authToken)}}throw yield st("Create Installation",zn)})).apply(this,arguments)}function un(F){return new Promise(j=>{setTimeout(j,F)})}const Ct=/^[cdef][\w-]{21}$/;function ee(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const ue=function X(F){return function Xt(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return Ct.test(ue)?ue:""}catch(F){return""}}function ce(F){return`${F.appName}!${F.appId}`}const we=new Map;function _e(F,j){const ue=ce(F);Ce(ue,j),function kt(F,j){const ue=function Gt(){return!Kt&&"BroadcastChannel"in self&&(Kt=new BroadcastChannel("[Firebase] FID Change"),Kt.onmessage=F=>{Ce(F.data.key,F.data.fid)}),Kt}();ue&&ue.postMessage({key:F,fid:j}),function Jt(){0===we.size&&Kt&&(Kt.close(),Kt=null)}()}(ue,j)}function Ce(F,j){const ue=we.get(F);if(ue)for(const Ve of ue)Ve(j)}let Kt=null;const hn="firebase-installations-store";let Pn=null;function vn(){return Pn||(Pn=(0,ge.X3)("firebase-installations-database",1,{upgrade:(F,j)=>{0===j&&F.createObjectStore(hn)}})),Pn}function gr(F,j){return ln.apply(this,arguments)}function ln(){return(ln=(0,Y.Z)(function*(F,j){const ue=ce(F),bt=(yield vn()).transaction(hn,"readwrite"),Mt=bt.objectStore(hn),dn=yield Mt.get(ue);return yield Mt.put(j,ue),yield bt.done,(!dn||dn.fid!==j.fid)&&_e(F,j.fid),j})).apply(this,arguments)}function Zn(F){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Y.Z)(function*(F){const j=ce(F),Ve=(yield vn()).transaction(hn,"readwrite");yield Ve.objectStore(hn).delete(j),yield Ve.done})).apply(this,arguments)}function ni(F,j){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,Y.Z)(function*(F,j){const ue=ce(F),bt=(yield vn()).transaction(hn,"readwrite"),Mt=bt.objectStore(hn),dn=yield Mt.get(ue),Tn=j(dn);return void 0===Tn?yield Mt.delete(ue):yield Mt.put(Tn,ue),yield bt.done,Tn&&(!dn||dn.fid!==Tn.fid)&&_e(F,Tn.fid),Tn})).apply(this,arguments)}function He(F){return Je.apply(this,arguments)}function Je(){return(Je=(0,Y.Z)(function*(F){let j;const ue=yield ni(F.appConfig,Ve=>{const bt=Yt(Ve),Mt=pt(F,bt);return j=Mt.registrationPromise,Mt.installationEntry});return""===ue.fid?{installationEntry:yield j}:{installationEntry:ue,registrationPromise:j}})).apply(this,arguments)}function Yt(F){return Mr(F||{fid:ee(),registrationStatus:0})}function pt(F,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(ht.create("app-offline"))};const ue={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},Ve=function Wt(F,j){return Dt.apply(this,arguments)}(F,ue);return{installationEntry:ue,registrationPromise:Ve}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Wn(F)}:{installationEntry:j}}function Dt(){return(Dt=(0,Y.Z)(function*(F,j){try{const ue=yield ft(F,j);return gr(F.appConfig,ue)}catch(ue){throw Et(ue)&&409===ue.customData.serverCode?yield Zn(F.appConfig):yield gr(F.appConfig,{fid:j.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function Wn(F){return jn.apply(this,arguments)}function jn(){return(jn=(0,Y.Z)(function*(F){let j=yield pn(F.appConfig);for(;1===j.registrationStatus;)yield un(100),j=yield pn(F.appConfig);if(0===j.registrationStatus){const{installationEntry:ue,registrationPromise:Ve}=yield He(F);return Ve||ue}return j})).apply(this,arguments)}function pn(F){return ni(F,j=>{if(!j)throw ht.create("installation-not-found");return Mr(j)})}function Mr(F){return function jr(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function Br(F,j){return xe.apply(this,arguments)}function xe(){return(xe=(0,Y.Z)(function*({appConfig:F,heartbeatServiceProvider:j},ue){const Ve=Ge(F,ue),bt=se(F,ue),Mt=j.getImmediate({optional:!0});if(Mt){const pr=yield Mt.getHeartbeatsHeader();pr&&bt.append("x-firebase-client",pr)}const Tn={method:"POST",headers:bt,body:JSON.stringify({installation:{sdkVersion:Te,appId:F.appId}})},zn=yield Qe(()=>fetch(Ve,Tn));if(zn.ok)return Ze(yield zn.json());throw yield st("Generate Auth Token",zn)})).apply(this,arguments)}function Ge(F,{fid:j}){return`${We(F)}/${j}/authTokens:generate`}function it(F){return $t.apply(this,arguments)}function $t(){return($t=(0,Y.Z)(function*(F,j=!1){let ue;const Ve=yield ni(F.appConfig,Mt=>{if(!nn(Mt))throw ht.create("not-registered");const dn=Mt.authToken;if(!j&&dr(dn))return Mt;if(1===dn.requestStatus)return ue=ze(F,j),Mt;{if(!navigator.onLine)throw ht.create("app-offline");const Tn=Bn(Mt);return ue=fn(F,Tn),Tn}});return ue?yield ue:Ve.authToken})).apply(this,arguments)}function ze(F,j){return _t.apply(this,arguments)}function _t(){return(_t=(0,Y.Z)(function*(F,j){let ue=yield Zt(F.appConfig);for(;1===ue.authToken.requestStatus;)yield un(100),ue=yield Zt(F.appConfig);const Ve=ue.authToken;return 0===Ve.requestStatus?it(F,j):Ve})).apply(this,arguments)}function Zt(F){return ni(F,j=>{if(!nn(j))throw ht.create("not-registered");return function Hr(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function fn(F,j){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,Y.Z)(function*(F,j){try{const ue=yield Br(F,j),Ve=Object.assign(Object.assign({},j),{authToken:ue});return yield gr(F.appConfig,Ve),ue}catch(ue){if(!Et(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Ve=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield gr(F.appConfig,Ve)}else yield Zn(F.appConfig);throw ue}})).apply(this,arguments)}function nn(F){return void 0!==F&&2===F.registrationStatus}function dr(F){return 2===F.requestStatus&&!function gn(F){const j=Date.now();return j<F.creationTime||F.creationTime+F.expiresIn<j+36e5}(F)}function Bn(F){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:j})}function Ei(){return(Ei=(0,Y.Z)(function*(F){const j=F,{installationEntry:ue,registrationPromise:Ve}=yield He(j);return Ve?Ve.catch(console.error):it(j).catch(console.error),ue.fid})).apply(this,arguments)}function Pi(){return(Pi=(0,Y.Z)(function*(F,j=!1){const ue=F;return yield Vr(ue),(yield it(ue,j)).token})).apply(this,arguments)}function Vr(F){return oi.apply(this,arguments)}function oi(){return(oi=(0,Y.Z)(function*(F){const{registrationPromise:j}=yield He(F);j&&(yield j)})).apply(this,arguments)}function ai(F){return ht.create("missing-app-config-values",{valueName:F})}const Tr="installations",Dn=F=>{const j=F.getProvider("app").getImmediate(),ue=function Qr(F){if(!F||!F.options)throw ai("App Configuration");if(!F.name)throw ai("App Name");const j=["projectId","apiKey","appId"];for(const ue of j)if(!F.options[ue])throw ai(ue);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(j);return{app:j,appConfig:ue,heartbeatServiceProvider:(0,Ne._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},rr=F=>{const j=F.getProvider("app").getImmediate(),ue=(0,Ne._getProvider)(j,Tr).getImmediate();return{getId:()=>function Hi(F){return Ei.apply(this,arguments)}(ue),getToken:bt=>function Gi(F){return Pi.apply(this,arguments)}(ue,bt)}};(function Zr(){(0,Ne._registerComponent)(new De.wA(Tr,Dn,"PUBLIC")),(0,Ne._registerComponent)(new De.wA("installations-internal",rr,"PRIVATE"))})(),(0,Ne.registerVersion)(Be,"0.5.9"),(0,Ne.registerVersion)(Be,"0.5.9","esm2017");const ri="@firebase/remote-config",Cr=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vn{constructor(j,ue,Ve,bt){this.client=j,this.storage=ue,this.storageCache=Ve,this.logger=bt}isCachedDataFresh(j,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ve=Date.now()-ue,bt=Ve<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${bt}.`),bt}fetch(j){var ue=this;return(0,Y.Z)(function*(){const[Ve,bt]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(bt&&ue.isCachedDataFresh(j.cacheMaxAgeMillis,Ve))return bt;j.eTag=bt&&bt.eTag;const Mt=yield ue.client.fetch(j),dn=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Mt.status&&dn.push(ue.storage.setLastSuccessfulFetchResponse(Mt)),yield Promise.all(dn),Mt})()}}function Jn(F=navigator){return F.languages&&F.languages[0]||F.language}class ir{constructor(j,ue,Ve,bt,Mt,dn){this.firebaseInstallations=j,this.sdkVersion=ue,this.namespace=Ve,this.projectId=bt,this.apiKey=Mt,this.appId=dn}fetch(j){var ue=this;return(0,Y.Z)(function*(){const[Ve,bt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),dn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,Tn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},zn={sdk_version:ue.sdkVersion,app_instance_id:Ve,app_instance_id_token:bt,app_id:ue.appId,language_code:Jn()},pr={method:"POST",headers:Tn,body:JSON.stringify(zn)},Jr=fetch(dn,pr),mr=new Promise((lo,Ks)=>{j.signal.addEventListener(()=>{const Fc=new Error("The operation was aborted.");Fc.name="AbortError",Ks(Fc)})});let Eo;try{yield Promise.race([Jr,mr]),Eo=yield Jr}catch(lo){let Ks="fetch-client-network";throw"AbortError"===lo.name&&(Ks="fetch-timeout"),Cr.create(Ks,{originalErrorMessage:lo.message})}let to=Eo.status;const Fl=Eo.headers.get("ETag")||void 0;let Ja,da;if(200===Eo.status){let lo;try{lo=yield Eo.json()}catch(Ks){throw Cr.create("fetch-client-parse",{originalErrorMessage:Ks.message})}Ja=lo.entries,da=lo.state}if("INSTANCE_STATE_UNSPECIFIED"===da?to=500:"NO_CHANGE"===da?to=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(Ja={}),304!==to&&200!==to)throw Cr.create("fetch-status",{httpStatus:to});return{status:to,eTag:Fl,config:Ja}})()}}class at{constructor(j,ue){this.client=j,this.storage=ue}fetch(j){var ue=this;return(0,Y.Z)(function*(){const Ve=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(j,Ve)})()}attemptFetch(j,{throttleEndTimeMillis:ue,backoffCount:Ve}){var bt=this;return(0,Y.Z)(function*(){yield function hi(F,j){return new Promise((ue,Ve)=>{const bt=Math.max(j-Date.now(),0),Mt=setTimeout(ue,bt);F.addEventListener(()=>{clearTimeout(Mt),Ve(Cr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ue);try{const Mt=yield bt.client.fetch(j);return yield bt.storage.deleteThrottleMetadata(),Mt}catch(Mt){if(!function Ti(F){if(!(F instanceof be.ZR&&F.customData))return!1;const j=Number(F.customData.httpStatus);return 429===j||500===j||503===j||504===j}(Mt))throw Mt;const dn={throttleEndTimeMillis:Date.now()+(0,be.$s)(Ve),backoffCount:Ve+1};return yield bt.storage.setThrottleMetadata(dn),bt.attemptFetch(j,dn)}})()}}class zt{constructor(j,ue,Ve,bt,Mt){this.app=j,this._client=ue,this._storageCache=Ve,this._storage=bt,this._logger=Mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rn(F,j){const ue=F.target.error||void 0;return Cr.create(j,{originalErrorMessage:ue&&ue.message})}const Mn="app_namespace_store";class is{constructor(j,ue,Ve,bt=function yr(){return new Promise((F,j)=>{try{const ue=indexedDB.open("firebase_remote_config",1);ue.onerror=Ve=>{j(rn(Ve,"storage-open"))},ue.onsuccess=Ve=>{F(Ve.target.result)},ue.onupgradeneeded=Ve=>{0===Ve.oldVersion&&Ve.target.result.createObjectStore(Mn,{keyPath:"compositeKey"})}}catch(ue){j(Cr.create("storage-open",{originalErrorMessage:ue}))}})}()){this.appId=j,this.appName=ue,this.namespace=Ve,this.openDbPromise=bt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ue=this;return(0,Y.Z)(function*(){const Ve=yield ue.openDbPromise;return new Promise((bt,Mt)=>{const Tn=Ve.transaction([Mn],"readonly").objectStore(Mn),zn=ue.createCompositeKey(j);try{const pr=Tn.get(zn);pr.onerror=Jr=>{Mt(rn(Jr,"storage-get"))},pr.onsuccess=Jr=>{const mr=Jr.target.result;bt(mr?mr.value:void 0)}}catch(pr){Mt(Cr.create("storage-get",{originalErrorMessage:pr&&pr.message}))}})})()}set(j,ue){var Ve=this;return(0,Y.Z)(function*(){const bt=yield Ve.openDbPromise;return new Promise((Mt,dn)=>{const zn=bt.transaction([Mn],"readwrite").objectStore(Mn),pr=Ve.createCompositeKey(j);try{const Jr=zn.put({compositeKey:pr,value:ue});Jr.onerror=mr=>{dn(rn(mr,"storage-set"))},Jr.onsuccess=()=>{Mt()}}catch(Jr){dn(Cr.create("storage-set",{originalErrorMessage:Jr&&Jr.message}))}})})()}delete(j){var ue=this;return(0,Y.Z)(function*(){const Ve=yield ue.openDbPromise;return new Promise((bt,Mt)=>{const Tn=Ve.transaction([Mn],"readwrite").objectStore(Mn),zn=ue.createCompositeKey(j);try{const pr=Tn.delete(zn);pr.onerror=Jr=>{Mt(rn(Jr,"storage-delete"))},pr.onsuccess=()=>{bt()}}catch(pr){Mt(Cr.create("storage-delete",{originalErrorMessage:pr&&pr.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class Ts{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,Y.Z)(function*(){const ue=j.storage.getLastFetchStatus(),Ve=j.storage.getLastSuccessfulFetchTimestampMillis(),bt=j.storage.getActiveConfig(),Mt=yield ue;Mt&&(j.lastFetchStatus=Mt);const dn=yield Ve;dn&&(j.lastSuccessfulFetchTimestampMillis=dn);const Tn=yield bt;Tn&&(j.activeConfig=Tn)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function Qi(){return go.apply(this,arguments)}function go(){return(go=(0,Y.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(F){return!1}})).apply(this,arguments)}!function zi(){(0,Ne._registerComponent)(new De.wA("remote-config",function F(j,{instanceIdentifier:ue}){const Ve=j.getProvider("app").getImmediate(),bt=j.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Cr.create("registration-window");if(!(0,be.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:Mt,apiKey:dn,appId:Tn}=Ve.options;if(!Mt)throw Cr.create("registration-project-id");if(!dn)throw Cr.create("registration-api-key");if(!Tn)throw Cr.create("registration-app-id");const zn=new is(Tn,Ve.name,ue=ue||"firebase"),pr=new Ts(zn),Jr=new Ee.Yd(ri);Jr.logLevel=Ee.in.ERROR;const mr=new ir(bt,Ne.SDK_VERSION,ue,Mt,dn,Tn),Eo=new at(mr,zn),to=new Vn(Eo,zn,pr,Jr),Fl=new zt(Ve,to,pr,zn,Jr);return function ve(F){const j=(0,be.m9)(F);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Fl),Fl},"PUBLIC").setMultipleInstances(!0)),(0,Ne.registerVersion)(ri,"0.3.8"),(0,Ne.registerVersion)(ri,"0.3.8","esm2017")}();const ss="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",fi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wi="google.c.a.c_id",Ps="google.c.a.c_l",Vs="google.c.a.ts",Co="google.c.a.e";var zr=(()=>{return(F=zr||(zr={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",zr;var F})();function Bi(F){const j=new Uint8Array(F);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ko(F){const ue=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ve=atob(ue),bt=new Uint8Array(Ve.length);for(let Mt=0;Mt<Ve.length;++Mt)bt[Mt]=Ve.charCodeAt(Mt);return bt}const ei="fcm_token_details_db",Vi="fcm_token_object_Store";function $s(F){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,Y.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Mt=>Mt.name).includes(ei))return null;let j=null;return(yield(0,ge.X3)(ei,5,{upgrade:(Ve=(0,Y.Z)(function*(bt,Mt,dn,Tn){var zn;if(Mt<2||!bt.objectStoreNames.contains(Vi))return;const pr=Tn.objectStore(Vi),Jr=yield pr.index("fcmSenderId").get(F);if(yield pr.clear(),Jr)if(2===Mt){const mr=Jr;if(!mr.auth||!mr.p256dh||!mr.endpoint)return;j={token:mr.fcmToken,createTime:null!==(zn=mr.createTime)&&void 0!==zn?zn:Date.now(),subscriptionOptions:{auth:mr.auth,p256dh:mr.p256dh,endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:"string"==typeof mr.vapidKey?mr.vapidKey:Bi(mr.vapidKey)}}}else if(3===Mt){const mr=Jr;j={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:Bi(mr.auth),p256dh:Bi(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:Bi(mr.vapidKey)}}}else if(4===Mt){const mr=Jr;j={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:Bi(mr.auth),p256dh:Bi(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:Bi(mr.vapidKey)}}}}),function(Mt,dn,Tn,zn){return Ve.apply(this,arguments)})})).close(),yield(0,ge.Lj)(ei),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Uo(j)?j:null;var Ve}),Ai.apply(this,arguments)}function Uo(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:j}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const Ki="firebase-messaging-store";let js=null;function Pr(){return js||(js=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(F,j)=>{0===j&&F.createObjectStore(Ki)}})),js}function $(F){return le.apply(this,arguments)}function le(){return(le=(0,Y.Z)(function*(F){const j=qt(F),Ve=yield(yield Pr()).transaction(Ki).objectStore(Ki).get(j);if(Ve)return Ve;{const bt=yield $s(F.appConfig.senderId);if(bt)return yield V(F,bt),bt}})).apply(this,arguments)}function V(F,j){return he.apply(this,arguments)}function he(){return(he=(0,Y.Z)(function*(F,j){const ue=qt(F),bt=(yield Pr()).transaction(Ki,"readwrite");return yield bt.objectStore(Ki).put(j,ue),yield bt.done,j})).apply(this,arguments)}function tt(F){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Y.Z)(function*(F){const j=qt(F),Ve=(yield Pr()).transaction(Ki,"readwrite");yield Ve.objectStore(Ki).delete(j),yield Ve.done})).apply(this,arguments)}function qt({appConfig:F}){return F.appId}const Hn=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fr(F,j){return sr.apply(this,arguments)}function sr(){return(sr=(0,Y.Z)(function*(F,j){const ue=yield Ss(F),Ve=vs(j),bt={method:"POST",headers:ue,body:JSON.stringify(Ve)};let Mt;try{Mt=yield(yield fetch(Xs(F.appConfig),bt)).json()}catch(dn){throw Hn.create("token-subscribe-failed",{errorInfo:dn})}if(Mt.error)throw Hn.create("token-subscribe-failed",{errorInfo:Mt.error.message});if(!Mt.token)throw Hn.create("token-subscribe-no-token");return Mt.token})).apply(this,arguments)}function cr(F,j){return gi.apply(this,arguments)}function gi(){return(gi=(0,Y.Z)(function*(F,j){const ue=yield Ss(F),Ve=vs(j.subscriptionOptions),bt={method:"PATCH",headers:ue,body:JSON.stringify(Ve)};let Mt;try{Mt=yield(yield fetch(`${Xs(F.appConfig)}/${j.token}`,bt)).json()}catch(dn){throw Hn.create("token-update-failed",{errorInfo:dn})}if(Mt.error)throw Hn.create("token-update-failed",{errorInfo:Mt.error.message});if(!Mt.token)throw Hn.create("token-update-no-token");return Mt.token})).apply(this,arguments)}function Wr(F,j){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,Y.Z)(function*(F,j){const Ve={method:"DELETE",headers:yield Ss(F)};try{const Mt=yield(yield fetch(`${Xs(F.appConfig)}/${j}`,Ve)).json();if(Mt.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:Mt.error.message})}catch(bt){throw Hn.create("token-unsubscribe-failed",{errorInfo:bt})}})).apply(this,arguments)}function Xs({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function Ss(F){return $n.apply(this,arguments)}function $n(){return($n=(0,Y.Z)(function*({appConfig:F,installations:j}){const ue=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function vs({p256dh:F,auth:j,endpoint:ue,vapidKey:Ve}){const bt={web:{endpoint:ue,auth:j,p256dh:F}};return Ve!==fi&&(bt.web.applicationPubKey=Ve),bt}const mo=6048e5;function Hs(F){return $o.apply(this,arguments)}function $o(){return($o=(0,Y.Z)(function*(F){const j=yield E(F.swRegistration,F.vapidKey),ue={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:j.endpoint,auth:Bi(j.getKey("auth")),p256dh:Bi(j.getKey("p256dh"))},Ve=yield $(F.firebaseDependencies);if(Ve){if(w(Ve.subscriptionOptions,ue))return Date.now()>=Ve.createTime+mo?k(F,{token:Ve.token,createTime:Date.now(),subscriptionOptions:ue}):Ve.token;try{yield Wr(F.firebaseDependencies,Ve.token)}catch(bt){console.warn(bt)}return wt(F.firebaseDependencies,ue)}return wt(F.firebaseDependencies,ue)})).apply(this,arguments)}function z(F){return L.apply(this,arguments)}function L(){return(L=(0,Y.Z)(function*(F){const j=yield $(F.firebaseDependencies);j&&(yield Wr(F.firebaseDependencies,j.token),yield tt(F.firebaseDependencies));const ue=yield F.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function k(F,j){return q.apply(this,arguments)}function q(){return(q=(0,Y.Z)(function*(F,j){try{const ue=yield cr(F.firebaseDependencies,j),Ve=Object.assign(Object.assign({},j),{token:ue,createTime:Date.now()});return yield V(F.firebaseDependencies,Ve),ue}catch(ue){throw yield z(F),ue}})).apply(this,arguments)}function wt(F,j){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,Y.Z)(function*(F,j){const Ve={token:yield fr(F,j),createTime:Date.now(),subscriptionOptions:j};return yield V(F,Ve),Ve.token})).apply(this,arguments)}function E(F,j){return H.apply(this,arguments)}function H(){return(H=(0,Y.Z)(function*(F,j){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ko(j)})})).apply(this,arguments)}function w(F,j){return j.vapidKey===F.vapidKey&&j.endpoint===F.endpoint&&j.auth===F.auth&&j.p256dh===F.p256dh}function B(F){const j={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function pe(F,j){if(!j.notification)return;F.notification={};const ue=j.notification.title;ue&&(F.notification.title=ue);const Ve=j.notification.body;Ve&&(F.notification.body=Ve);const bt=j.notification.image;bt&&(F.notification.image=bt)}(j,F),function Rt(F,j){!j.data||(F.data=j.data)}(j,F),function _n(F,j){if(!j.fcmOptions)return;F.fcmOptions={};const ue=j.fcmOptions.link;ue&&(F.fcmOptions.link=ue);const Ve=j.fcmOptions.analytics_label;Ve&&(F.fcmOptions.analyticsLabel=Ve)}(j,F),j}function kn(F){return"object"==typeof F&&!!F&&Wi in F}function or(F,j){const ue=[];for(let Ve=0;Ve<F.length;Ve++)ue.push(F.charAt(Ve)),Ve<j.length&&ue.push(j.charAt(Ve));return ue.join("")}function ar(F){return Hn.create("missing-app-config-values",{valueName:F})}or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),or("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mi{constructor(j,ue,Ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const bt=function Sr(F){if(!F||!F.options)throw ar("App Configuration Object");if(!F.name)throw ar("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=F;for(const Ve of j)if(!ue[Ve])throw ar(Ve);return{appName:F.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:bt,installations:ue,analyticsProvider:Ve}}_delete(){return Promise.resolve()}}function _s(F){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,Y.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(ss,{scope:Fi}),F.swRegistration.update().catch(()=>{})}catch(j){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:j.message})}})).apply(this,arguments)}function As(F,j){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,Y.Z)(function*(F,j){if(!j&&!F.swRegistration&&(yield _s(F)),j||!F.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");F.swRegistration=j}})).apply(this,arguments)}function Gs(F,j){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,Y.Z)(function*(F,j){j?F.vapidKey=j:F.vapidKey||(F.vapidKey=fi)})).apply(this,arguments)}function ta(){return(ta=(0,Y.Z)(function*(F,j){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield Gs(F,null==j?void 0:j.vapidKey),yield As(F,null==j?void 0:j.serviceWorkerRegistration),Hs(F)})).apply(this,arguments)}function Rl(F,j,ue){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,Y.Z)(function*(F,j,ue){const Ve=na(j);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(Ve,{message_id:ue[Wi],message_name:ue[Ps],message_time:ue[Vs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function na(F){switch(F){case zr.NOTIFICATION_CLICKED:return"notification_open";case zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function za(){return(za=(0,Y.Z)(function*(F,j){const ue=j.data;if(!ue.isFirebaseMessaging)return;F.onMessageHandler&&ue.messageType===zr.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(B(ue)):F.onMessageHandler.next(B(ue)));const Ve=ue.data;kn(Ve)&&"1"===Ve[Co]&&(yield Rl(F,ue.messageType,Ve))})).apply(this,arguments)}const Fo="@firebase/messaging",wu=F=>{const j=new mi(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function Jl(F,j){return za.apply(this,arguments)}(j,ue)),j},jo=F=>{const j=F.getProvider("messaging").getImmediate();return{getToken:Ve=>function Ga(F,j){return ta.apply(this,arguments)}(j,Ve)}};function Ia(){return ra.apply(this,arguments)}function ra(){return(ra=(0,Y.Z)(function*(){try{yield(0,be.eu)()}catch(F){return!1}return"undefined"!=typeof window&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dl(){(0,Ne._registerComponent)(new De.wA("messaging",wu,"PUBLIC")),(0,Ne._registerComponent)(new De.wA("messaging-internal",jo,"PRIVATE")),(0,Ne.registerVersion)(Fo,"0.9.13"),(0,Ne.registerVersion)(Fo,"0.9.13","esm2017")}();const Ho="analytics",ec="firebase_id",Go="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hl="https://www.googletagmanager.com/gtag/js",cs=new Ee.Yd("@firebase/analytics");function Iu(F){return Promise.all(F.map(j=>j.catch(ue=>ue)))}function To(F,j){const ue=document.createElement("script");ue.src=`${hl}?l=${F}&id=${j}`,ue.async=!0,document.head.appendChild(ue)}function pl(F,j,ue,Ve,bt,Mt){return os.apply(this,arguments)}function os(){return(os=(0,Y.Z)(function*(F,j,ue,Ve,bt,Mt){const dn=Ve[bt];try{if(dn)yield j[dn];else{const zn=(yield Iu(ue)).find(pr=>pr.measurementId===bt);zn&&(yield j[zn.appId])}}catch(Tn){cs.error(Tn)}F("config",bt,Mt)})).apply(this,arguments)}function Ws(F,j,ue,Ve,bt){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,Y.Z)(function*(F,j,ue,Ve,bt){try{let Mt=[];if(bt&&bt.send_to){let dn=bt.send_to;Array.isArray(dn)||(dn=[dn]);const Tn=yield Iu(ue);for(const zn of dn){const pr=Tn.find(mr=>mr.measurementId===zn),Jr=pr&&j[pr.appId];if(!Jr){Mt=[];break}Mt.push(Jr)}}0===Mt.length&&(Mt=Object.values(j)),yield Promise.all(Mt),F("event",Ve,bt||{})}catch(Mt){cs.error(Mt)}})).apply(this,arguments)}function yn(){const F=window.document.getElementsByTagName("script");for(const j of Object.values(F))if(j.src&&j.src.includes(hl))return j;return null}const Is=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Lo=new class Yn{constructor(j={},ue=1e3){this.throttleMetadata=j,this.intervalMillis=ue}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ue){this.throttleMetadata[j]=ue}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function An(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function xt(F){return sn.apply(this,arguments)}function sn(){return(sn=(0,Y.Z)(function*(F){var j;const{appId:ue,apiKey:Ve}=F,bt={method:"GET",headers:An(Ve)},Mt=Go.replace("{app-id}",ue),dn=yield fetch(Mt,bt);if(200!==dn.status&&304!==dn.status){let Tn="";try{const zn=yield dn.json();(null===(j=zn.error)||void 0===j?void 0:j.message)&&(Tn=zn.error.message)}catch(zn){}throw Is.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Tn})}return dn.json()})).apply(this,arguments)}function Ar(F){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,Y.Z)(function*(F,j=Lo,ue){const{appId:Ve,apiKey:bt,measurementId:Mt}=F.options;if(!Ve)throw Is.create("no-app-id");if(!bt){if(Mt)return{measurementId:Mt,appId:Ve};throw Is.create("no-api-key")}const dn=j.getThrottleMetadata(Ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Tn=new T;return setTimeout((0,Y.Z)(function*(){Tn.abort()}),void 0!==ue?ue:6e4),Ka({appId:Ve,apiKey:bt,measurementId:Mt},dn,Tn,j)})).apply(this,arguments)}function Ka(F,j,ue){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,Y.Z)(function*(F,{throttleEndTimeMillis:j,backoffCount:ue},Ve,bt=Lo){const{appId:Mt,measurementId:dn}=F;try{yield O(Ve,j)}catch(Tn){if(dn)return cs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${Tn.message}]`),{appId:Mt,measurementId:dn};throw Tn}try{const Tn=yield xt(F);return bt.deleteThrottleMetadata(Mt),Tn}catch(Tn){if(!A(Tn)){if(bt.deleteThrottleMetadata(Mt),dn)return cs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${Tn.message}]`),{appId:Mt,measurementId:dn};throw Tn}const zn=503===Number(Tn.customData.httpStatus)?(0,be.$s)(ue,bt.intervalMillis,30):(0,be.$s)(ue,bt.intervalMillis),pr={throttleEndTimeMillis:Date.now()+zn,backoffCount:ue+1};return bt.setThrottleMetadata(Mt,pr),cs.debug(`Calling attemptFetch again in ${zn} millis`),Ka(F,pr,Ve,bt)}})).apply(this,arguments)}function O(F,j){return new Promise((ue,Ve)=>{const bt=Math.max(j-Date.now(),0),Mt=setTimeout(ue,bt);F.addEventListener(()=>{clearTimeout(Mt),Ve(Is.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function A(F){if(!(F instanceof be.ZR&&F.customData))return!1;const j=Number(F.customData.httpStatus);return 429===j||500===j||503===j||504===j}class T{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}function U(){return W.apply(this,arguments)}function W(){return(W=(0,Y.Z)(function*(){if(!(0,be.hl)())return cs.warn(Is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(F){return cs.warn(Is.create("indexeddb-unavailable",{errorInfo:F}).message),!1}return!0})).apply(this,arguments)}function Pe(){return(Pe=(0,Y.Z)(function*(F,j,ue,Ve,bt,Mt,dn){var Tn;const zn=Ar(F);zn.then(to=>{ue[to.measurementId]=to.appId,F.options.measurementId&&to.measurementId!==F.options.measurementId&&cs.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${to.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(to=>cs.error(to)),j.push(zn);const pr=U().then(to=>{if(to)return Ve.getId()}),[Jr,mr]=yield Promise.all([zn,pr]);yn()||To(Mt,Jr.measurementId),bt("js",new Date);const Eo=null!==(Tn=null==dn?void 0:dn.config)&&void 0!==Tn?Tn:{};return Eo.origin="firebase",Eo.update=!0,null!=mr&&(Eo[ec]=mr),bt("config",Jr.measurementId,Eo),Jr.measurementId})).apply(this,arguments)}class nt{constructor(j){this.app=j}_delete(){return delete Bt[this.app.options.appId],Promise.resolve()}}let Bt={},tn=[];const wr={};let bn,ks,Gn="dataLayer",Fs=!1;function Yr(F,j,ue){!function Wo(){const F=[];if((0,be.ru)()&&F.push("This is a browser extension environment."),(0,be.zI)()||F.push("Cookies are not available."),F.length>0){const j=F.map((Ve,bt)=>`(${bt+1}) ${Ve}`).join(" "),ue=Is.create("invalid-analytics-context",{errorInfo:j});cs.warn(ue.message)}}();const Ve=F.options.appId;if(!Ve)throw Is.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Is.create("no-api-key");cs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bt[Ve])throw Is.create("already-exists",{id:Ve});if(!Fs){!function fl(F){let j=[];Array.isArray(window[F])?j=window[F]:window[F]=j}(Gn);const{wrappedGtag:Mt,gtagCore:dn}=function bd(F,j,ue,Ve,bt){let Mt=function(...dn){window[Ve].push(arguments)};return window[bt]&&"function"==typeof window[bt]&&(Mt=window[bt]),window[bt]=function tu(F,j,ue,Ve){function Mt(){return(Mt=(0,Y.Z)(function*(dn,Tn,zn){try{"event"===dn?yield Ws(F,j,ue,Tn,zn):"config"===dn?yield pl(F,j,ue,Ve,Tn,zn):F("set",Tn)}catch(pr){cs.error(pr)}})).apply(this,arguments)}return function bt(dn,Tn,zn){return Mt.apply(this,arguments)}}(Mt,F,j,ue),{gtagCore:Mt,wrappedGtag:window[bt]}}(Bt,tn,wr,Gn,"gtag");ks=Mt,bn=dn,Fs=!0}return Bt[Ve]=function fe(F,j,ue,Ve,bt,Mt,dn){return Pe.apply(this,arguments)}(F,tn,wr,j,bn,Gn,ue),new nt(F)}function ds(){return(ds=(0,Y.Z)(function*(F,j,ue,Ve,bt){if(bt&&bt.global)F("event",ue,Ve);else{const Mt=yield j;F("event",ue,Object.assign(Object.assign({},Ve),{send_to:Mt}))}})).apply(this,arguments)}function gh(){return Js.apply(this,arguments)}function Js(){return(Js=(0,Y.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(F){return!1}})).apply(this,arguments)}const Ca="@firebase/analytics";!function Da(){(0,Ne._registerComponent)(new De.wA(Ho,(j,{options:ue})=>Yr(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,Ne._registerComponent)(new De.wA("analytics-internal",function F(j){try{const ue=j.getProvider(Ho).getImmediate();return{logEvent:(Ve,bt,Mt)=>function oa(F,j,ue,Ve){F=(0,be.m9)(F),function Ya(F,j,ue,Ve,bt){return ds.apply(this,arguments)}(ks,Bt[F.app.options.appId],j,ue,Ve).catch(bt=>cs.error(bt))}(ue,Ve,bt,Mt)}}catch(ue){throw Is.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,Ne.registerVersion)(Ca,"0.7.9"),(0,Ne.registerVersion)(Ca,"0.7.9","esm2017")}();var Ui=M(4408),ts=M(7565);const ns=new class eo extends ts.v{}(class aa extends Ui.o{constructor(j,ue){super(j,ue),this.scheduler=j,this.work=ue}schedule(j,ue=0){return ue>0?super.schedule(j,ue):(this.delay=ue,this.state=j,this.scheduler.flush(this),this)}execute(j,ue){return ue>0||this.closed?super.execute(j,ue):this._execute(j,ue)}requestAsyncId(j,ue,Ve=0){return null!=Ve&&Ve>0||null==Ve&&this.delay>0?super.requestAsyncId(j,ue,Ve):(j.flush(this),0)}});var ml=M(4986),oo=M(8505),fs=M(5363),vo=M(9468);const _o=new c.GfV("7.3.0"),la="__angularfire_symbol__analyticsIsSupportedValue",ua="__angularfire_symbol__analyticsIsSupported",Xa="__angularfire_symbol__remoteConfigIsSupportedValue",Ta="__angularfire_symbol__remoteConfigIsSupported",ps="__angularfire_symbol__messagingIsSupportedValue",nc="__angularfire_symbol__messagingIsSupported";function Nc(F,j,ue){if(j){if(1===j.length)return j[0];const Mt=j.filter(dn=>dn.app===ue);if(1===Mt.length)return Mt[0]}return ue.container.getProvider(F).getImmediate({optional:!0})}globalThis[ua]||(globalThis[ua]=gh().then(F=>globalThis[la]=F).catch(()=>globalThis[la]=!1)),globalThis[nc]||(globalThis[nc]=Ia().then(F=>globalThis[ps]=F).catch(()=>globalThis[ps]=!1)),globalThis[Ta]||(globalThis[Ta]=Qi().then(F=>globalThis[Xa]=F).catch(()=>globalThis[Xa]=!1));const Sa=(F,j)=>{const ue=j?[j]:(0,G.C6)(),Ve=[];return ue.forEach(bt=>{bt.container.getProvider(F).instances.forEach(dn=>{Ve.includes(dn)||Ve.push(dn)})}),Ve};function Ao(){}class ca{constructor(j,ue=ns){this.zone=j,this.delegate=ue}now(){return this.delegate.now()}schedule(j,ue,Ve){const bt=this.zone;return this.delegate.schedule(function(dn){bt.runGuarded(()=>{j.apply(this,[dn])})},ue,Ve)}}class rc{constructor(j){this.zone=j,this.task=null}call(j,ue){const Ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)),ue.pipe((0,oo.b)({next:Ve,complete:Ve,error:Ve})).subscribe(j).add(Ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cu=(()=>{class F{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new ca(Zone.current)),this.insideAngular=ue.run(()=>new ca(Zone.current,ml.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(ue){return new(ue||F)(c.LFG(c.R0b))},F.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Bs(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function xo(F){return F.pipe((0,fs.Q)(Bs().outsideAngular))}function li(F){return Bs(),function kl(F){return function(ue){return(ue=ue.lift(new rc(F.ngZone))).pipe((0,vo.R)(F.outsideAngular),(0,fs.Q)(F.insideAngular))}}(Bs())(F)}},5525:(en,ut,M)=>{"use strict";M.d(ut,{u7:()=>Eu,Jj:()=>Ml,IX:()=>om,my:()=>ti,xU:()=>Ms,Lz:()=>Yu,WA:()=>sn,F8:()=>uh,$q:()=>Rs,W:()=>ji,EK:()=>tr,PU:()=>qu,l7:()=>Js,Ky:()=>xn,Xb:()=>ds,Cf:()=>_i,K9:()=>Lo,Me:()=>tc,yq:()=>Is,Wi:()=>dg,ET:()=>Ty,Ab:()=>ty,vr:()=>dm,Fc:()=>am,hJ:()=>gy,B$:()=>Gm,at:()=>vu,oe:()=>ev,AK:()=>xy,TF:()=>lm,JU:()=>fg,ST:()=>zm,fH:()=>Wm,Ix:()=>Km,Wu:()=>by,Lx:()=>Ky,qY:()=>no,GL:()=>mf,QT:()=>Zu,kl:()=>Dy,Xk:()=>Zy,PL:()=>Xy,UQ:()=>Qy,zN:()=>Jy,nP:()=>ny,b9:()=>Ey,vh:()=>Wy,Pb:()=>gp,L$:()=>yy,cf:()=>tv,sc:()=>Sy,Xo:()=>zy,IO:()=>hh,iE:()=>Xl,Eo:()=>my,i3:()=>Ay,Bt:()=>ey,pl:()=>Jm,Ub:()=>bd,qK:()=>gf,TQ:()=>_p,e0:()=>wy,r7:()=>Ig,Mx:()=>vg,ar:()=>Vo});var ge,c=M(5861),G=M(9681),Y=M(4859),Ne=M(1877),be=M(2090),De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ee={},Be=Be||{},te=De||self;function de(){}function Te(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Me(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var qe="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function Ae(i,e,n){return i.call.apply(i.bind,arguments)}function Le(i,e,n){if(!i)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function ht(i,e,n){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ae:Le).apply(null,arguments)}function Et(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var l=n.slice();return l.push.apply(l,arguments),i.apply(this,l)}}function We(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(l,h,v){for(var b=Array(arguments.length-2),P=2;P<arguments.length;P++)b[P-2]=arguments[P];return e.prototype[h].apply(l,b)}}function Ze(){this.s=this.s,this.o=this.o}var Ue={};Ze.prototype.s=!1,Ze.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Oe(i){return Object.prototype.hasOwnProperty.call(i,qe)&&i[qe]||(i[qe]=++ke)}(this);delete Ue[i]}},Ze.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},se=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const l=i.length,h="string"==typeof i?i.split(""):i;for(let v=0;v<l;v++)v in h&&e.call(n,h[v],v,i)};function dt(i){return Array.prototype.concat.apply([],arguments)}function rt(i){const e=i.length;if(0<e){const n=Array(e);for(let l=0;l<e;l++)n[l]=i[l];return n}return[]}function Ke(i){return/^[\s\xa0]*$/.test(i)}var Xt,ft=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function vt(i,e){return-1!=i.indexOf(e)}function un(i,e){return i<e?-1:i>e?1:0}e:{var Ct=te.navigator;if(Ct){var Ye=Ct.userAgent;if(Ye){Xt=Ye;break e}}Xt=""}function ee(i,e,n){for(const l in i)e.call(n,i[l],l,i)}function X(i){const e={};for(const n in i)e[n]=i[n];return e}var ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(i,e){let n,l;for(let h=1;h<arguments.length;h++){for(n in l=arguments[h],l)i[n]=l[n];for(let v=0;v<ce.length;v++)n=ce[v],Object.prototype.hasOwnProperty.call(l,n)&&(i[n]=l[n])}}function _e(i){return _e[" "](i),i}_e[" "]=de;var er,i,ye=vt(Xt,"Opera"),Ce=vt(Xt,"Trident")||vt(Xt,"MSIE"),kt=vt(Xt,"Edge"),Kt=kt||Ce,Gt=vt(Xt,"Gecko")&&!(vt(Xt.toLowerCase(),"webkit")&&!vt(Xt,"Edge"))&&!(vt(Xt,"Trident")||vt(Xt,"MSIE"))&&!vt(Xt,"Edge"),Jt=vt(Xt.toLowerCase(),"webkit")&&!vt(Xt,"Edge");function In(){var i=te.document;return i?i.documentMode:void 0}e:{var hn="",Pn=(i=Xt,Gt?/rv:([^\);]+)(\)|;)/.exec(i):kt?/Edge\/([\d\.]+)/.exec(i):Ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Jt?/WebKit\/(\S+)/.exec(i):ye?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Pn&&(hn=Pn?Pn[1]:""),Ce){var vn=In();if(null!=vn&&vn>parseFloat(hn)){er=String(vn);break e}}er=hn}var gr={};var ni=te.document&&Ce&&(In()||parseInt(er,10))||void 0,Ft=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{te.addEventListener("test",de,e),te.removeEventListener("test",de,e)}catch(n){}return i}();function He(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Je(i,e){if(He.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,l=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Gt){e:{try{_e(e.nodeName);var h=!0;break e}catch(v){}h=!1}h||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Yt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Je.Z.h.call(this)}}He.prototype.h=function(){this.defaultPrevented=!0},We(Je,He);var Yt={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Dt(i,e,n,l,h){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!l,this.ia=h,this.key=++Wt,this.ca=this.fa=!1}function Wn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function jn(i){this.src=i,this.g={},this.h=0}function pn(i,e){var n=e.type;if(n in i.g){var v,l=i.g[n],h=Xe(l,e);(v=0<=h)&&Array.prototype.splice.call(l,h,1),v&&(Wn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Mr(i,e,n,l){for(var h=0;h<i.length;++h){var v=i[h];if(!v.ca&&v.listener==e&&v.capture==!!n&&v.ia==l)return h}return-1}jn.prototype.add=function(i,e,n,l,h){var v=i.toString();(i=this.g[v])||(i=this.g[v]=[],this.h++);var b=Mr(i,e,l,h);return-1<b?(e=i[b],n||(e.fa=!1)):((e=new Dt(e,this.src,v,!!l,h)).fa=n,i.push(e)),e};var jr="closure_lm_"+(1e6*Math.random()|0),Br={};function xe(i,e,n,l,h){if(l&&l.once)return $t(i,e,n,l,h);if(Array.isArray(e)){for(var v=0;v<e.length;v++)xe(i,e[v],n,l,h);return null}return n=dr(n),i&&i[pt]?i.N(e,n,Me(l)?!!l.capture:!!l,h):Ge(i,e,n,!1,l,h)}function Ge(i,e,n,l,h,v){if(!e)throw Error("Invalid event type");var b=Me(h)?!!h.capture:!!h,P=Cn(i);if(P||(i[jr]=P=new jn(i)),(n=P.add(e,n,l,b,v)).proxy)return n;if(l=function it(){var e=fn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=l,l.src=i,l.listener=n,i.addEventListener)Ft||(h=b),void 0===h&&(h=!1),i.addEventListener(e.toString(),l,h);else if(i.attachEvent)i.attachEvent(Zt(e.toString()),l);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(l)}return n}function $t(i,e,n,l,h){if(Array.isArray(e)){for(var v=0;v<e.length;v++)$t(i,e[v],n,l,h);return null}return n=dr(n),i&&i[pt]?i.O(e,n,Me(l)?!!l.capture:!!l,h):Ge(i,e,n,!0,l,h)}function ze(i,e,n,l,h){if(Array.isArray(e))for(var v=0;v<e.length;v++)ze(i,e[v],n,l,h);else l=Me(l)?!!l.capture:!!l,n=dr(n),i&&i[pt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Mr(v=i.g[e],n,l,h))&&(Wn(v[n]),Array.prototype.splice.call(v,n,1),0==v.length&&(delete i.g[e],i.h--))):i&&(i=Cn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Mr(e,n,l,h)),(n=-1<i?e[i]:null)&&_t(n))}function _t(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[pt])pn(e.i,i);else{var n=i.type,l=i.proxy;e.removeEventListener?e.removeEventListener(n,l,i.capture):e.detachEvent?e.detachEvent(Zt(n),l):e.addListener&&e.removeListener&&e.removeListener(l),(n=Cn(e))?(pn(n,i),0==n.h&&(n.src=null,e[jr]=null)):Wn(i)}}}function Zt(i){return i in Br?Br[i]:Br[i]="on"+i}function fn(i,e){if(i.ca)i=!0;else{e=new Je(e,this);var n=i.listener,l=i.ia||i.src;i.fa&&_t(i),i=n.call(l,e)}return i}function Cn(i){return(i=i[jr])instanceof jn?i:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dr(i){return"function"==typeof i?i:(i[nn]||(i[nn]=function(e){return i.handleEvent(e)}),i[nn])}function gn(){Ze.call(this),this.i=new jn(this),this.P=this,this.I=null}function Bn(i,e){var n,l=i.I;if(l)for(n=[];l;l=l.I)n.push(l);if(i=i.P,l=e.type||e,"string"==typeof e)e=new He(e,i);else if(e instanceof He)e.target=e.target||i;else{var h=e;we(e=new He(l,i),h)}if(h=!0,n)for(var v=n.length-1;0<=v;v--){var b=e.g=n[v];h=Hr(b,l,!0,e)&&h}if(h=Hr(b=e.g=i,l,!0,e)&&h,h=Hr(b,l,!1,e)&&h,n)for(v=0;v<n.length;v++)h=Hr(b=e.g=n[v],l,!1,e)&&h}function Hr(i,e,n,l){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,v=0;v<e.length;++v){var b=e[v];if(b&&!b.ca&&b.capture==n){var P=b.listener,J=b.ia||b.src;b.fa&&pn(i.i,b),h=!1!==P.call(J,l)&&h}}return h&&!l.defaultPrevented}We(gn,Ze),gn.prototype[pt]=!0,gn.prototype.removeEventListener=function(i,e,n,l){ze(this,i,e,n,l)},gn.prototype.M=function(){if(gn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],l=0;l<n.length;l++)Wn(n[l]);delete i.g[e],i.h--}}this.I=null},gn.prototype.N=function(i,e,n,l){return this.i.add(String(i),e,!1,n,l)},gn.prototype.O=function(i,e,n,l){return this.i.add(String(i),e,!0,n,l)};var Hi=te.JSON.stringify;function Ei(){var i=Ii;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Gr,Pi=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Vr,i=>i.reset());class Vr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oi(i){te.setTimeout(()=>{throw i},0)}function wi(i,e){Gr||function ci(){var i=te.Promise.resolve(void 0);Gr=function(){i.then(Ni)}}(),Xi||(Gr(),Xi=!0),Ii.add(i,e)}var Xi=!1,Ii=new class Gi{constructor(){this.h=this.g=null}add(e,n){const l=Pi.get();l.set(e,n),this.h?this.h.next=l:this.g=l,this.h=l}};function Ni(){for(var i;i=Ei();){try{i.h.call(i.g)}catch(n){oi(n)}var e=Pi;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Xi=!1}function Rr(i,e){gn.call(this),this.h=i||1,this.g=e||te,this.j=ht(this.kb,this),this.l=Date.now()}function Qr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function ai(i,e,n){if("function"==typeof i)n&&(i=ht(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ht(i.handleEvent,i)}return 2147483647<Number(e)?-1:te.setTimeout(i,e||0)}function Tr(i){i.g=ai(()=>{i.g=null,i.i&&(i.i=!1,Tr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(Rr,gn),(ge=Rr.prototype).da=!1,ge.S=null,ge.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Bn(this,"tick"),this.da&&(Qr(this),this.start()))}},ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.M=function(){Rr.Z.M.call(this),Qr(this),delete this.g};class oe extends Ze{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tr(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(i){Ze.call(this),this.h=i,this.g={}}We(Dn,Ze);var rr=[];function Zr(i,e,n,l){Array.isArray(n)||(n&&(rr[0]=n.toString()),n=rr);for(var h=0;h<n.length;h++){var v=xe(e,n[h],l||i.handleEvent,!1,i.h||i);if(!v)break;i.g[v.key]=v}}function ri(i){ee(i.g,function(e,n){this.g.hasOwnProperty(n)&&_t(e)},i),i.g={}}function lr(){this.g=!0}function Or(i,e,n,l){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var l=n[i];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var v=h[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var b=1;b<h.length;b++)h[b]=""}}}return Hi(n)}catch(P){return e}}(i,n)+(l?" "+l:"")})}Dn.prototype.M=function(){Dn.Z.M.call(this),ri(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lr.prototype.Aa=function(){this.g=!1},lr.prototype.info=function(){};var di={},ki=null;function bi(){return ki=ki||new gn}function Ci(i){He.call(this,di.Ma,i)}function Xr(i){const e=bi();Bn(e,new Ci(e,i))}function Di(i,e){He.call(this,di.STAT_EVENT,i),this.stat=e}function Fr(i){const e=bi();Bn(e,new Di(e,i))}function ne(i,e){He.call(this,di.Na,i),this.size=e}function ve(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){i()},e)}di.Ma="serverreachability",We(Ci,He),di.STAT_EVENT="statevent",We(Di,He),di.Na="timingevent",We(ne,He);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ie(){}function yt(){}Ie.prototype.h=null;var mn,Lt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pt(){He.call(this,"d")}function Ot(){He.call(this,"c")}function Vn(){}function Jn(i,e,n,l){this.l=i,this.j=e,this.m=n,this.X=l||1,this.V=new Dn(this),this.P=hi,this.W=new Rr(i=Kt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}We(Pt,He),We(Ot,He),We(Vn,Ie),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},mn=new Vn;var hi=45e3,Ti={},at={};function et(i,e,n){i.K=1,i.v=Bi(Wi(e)),i.s=n,i.U=!0,At(i,null)}function At(i,e){i.F=Date.now(),ur(i),i.A=Wi(i.v);var n=i.A,l=i.X;Array.isArray(l)||(l=[String(l)]),V(n.h,"t",l),i.C=0,n=i.l.H,i.h=new ir,i.g=ia(i.l,n?e:null,!i.s),0<i.O&&(i.L=new oe(ht(i.Ia,i,i.g),i.O)),Zr(i.V,i.g,"readystatechange",i.gb),e=i.H?X(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Xr(1),function hr(i,e,n,l,h,v){i.info(function(){if(i.g)if(v)for(var b="",P=v.split("&"),J=0;J<P.length;J++){var re=P[J].split("=");if(1<re.length){var $e=re[0];re=re[1];var ct=$e.split("_");b=2<=ct.length&&"type"==ct[1]?b+($e+"=")+re+"&":b+($e+"=redacted&")}}else b=null;else b=v;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+n+"\n"+b})}(i.j,i.u,i.A,i.m,i.X,i.s)}function zt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function rn(i,e,n){let h,l=!0;for(;!i.I&&i.C<n.length;){if(h=Mn(i,n),h==at){4==e&&(i.o=4,Fr(14),l=!1),Or(i.j,i.m,null,"[Incomplete Response]");break}if(h==Ti){i.o=4,Fr(15),Or(i.j,i.m,n,"[Invalid Chunk]"),l=!1;break}Or(i.j,i.m,h,null),zi(i,h)}zt(i)&&h!=at&&h!=Ti&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Fr(16),l=!1),i.i=i.i&&l,l?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),wa(e),e.L=!0,Fr(11))):(Or(i.j,i.m,n,"[Invalid Chunked Response]"),Ts(i),is(i))}function Mn(i,e){var n=i.C,l=e.indexOf("\n",n);return-1==l?at:(n=Number(e.substring(n,l)),isNaN(n)?Ti:(l+=1)+n>e.length?at:(e=e.substr(l,n),i.C=l+n,e))}function ur(i){i.Y=Date.now()+i.P,Si(i,i.P)}function Si(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ve(ht(i.eb,i),e)}function yr(i){i.B&&(te.clearTimeout(i.B),i.B=null)}function is(i){0==i.l.G||i.I||dl(i.l,i)}function Ts(i){yr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Qr(i.W),ri(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function zi(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||sr(n.i,i)))if(n.I=i.N,!i.J&&sr(n.i,i)&&3==n.G){try{var l=n.Ca.g.parse(e)}catch(re){l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0])e:if(n.u)n.ta=h[1],0<n.ta-n.U&&37500>h[2]&&n.N&&0==n.A&&!n.v&&(n.v=ve(ht(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;jo(n),Gs(n)}Fo(n),Fr(18)}if(1>=fr(n.i)&&n.ka){try{n.ka()}catch(re){}n.ka=void 0}}else ra(n,11)}else if((i.J||n.g==i)&&jo(n),!Ke(e))for(h=n.Ca.g.parse(e),e=0;e<h.length;e++){let re=h[e];if(n.U=re[0],re=re[1],2==n.G)if("c"==re[0]){n.J=re[1],n.la=re[2];const $e=re[3];null!=$e&&(n.ma=$e,n.h.info("VER="+n.ma));const ct=re[4];null!=ct&&(n.za=ct,n.h.info("SVER="+n.za));const Vt=re[5];null!=Vt&&"number"==typeof Vt&&0<Vt&&(n.K=l=1.5*Vt,n.h.info("backChannelRequestTimeoutMs_="+l)),l=n;const an=i.g;if(an){const cn=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cn){var v=l.i;!v.g&&(vt(cn,"spdy")||vt(cn,"quic")||vt(cn,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(cr(v,v.h),v.h=null))}if(l.D){const Kn=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Kn&&(l.sa=Kn,zr(l.F,l.D,Kn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var b=i;if((l=n).oa=Es(l,l.H?l.la:null,l.W),b.J){gi(l.i,b);var P=b,J=l.K;J&&P.setTimeout(J),P.B&&(yr(P),ur(P)),l.g=b}else za(l);0<n.l.length&&ta(n)}else"stop"!=re[0]&&"close"!=re[0]||ra(n,7);else 3==n.G&&("stop"==re[0]||"close"==re[0]?"stop"==re[0]?ra(n,7):Ns(n):"noop"!=re[0]&&n.j&&n.j.wa(re),n.A=0)}Xr(4)}catch(re){}}function Os(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Te(i)||"string"==typeof i)se(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Te(i)||"string"==typeof i){n=[];for(var l=i.length,h=0;h<l;h++)n.push(h)}else for(h in n=[],l=0,i)n[l++]=h;l=function ja(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Te(i)){for(var e=[],n=i.length,l=0;l<n;l++)e.push(i[l]);return e}for(l in e=[],n=0,i)e[n++]=i[l];return e}(i),h=l.length;for(var v=0;v<h;v++)e.call(void 0,l[v],n&&n[v],i)}}function Qi(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var l=0;l<n;l+=2)this.set(arguments[l],arguments[l+1])}else if(i)if(i instanceof Qi)for(n=i.T(),l=0;l<n.length;l++)this.set(n[l],i.get(n[l]));else for(l in i)this.set(l,i[l])}function go(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var l=i.g[e];ss(i.h,l)&&(i.g[n++]=l),e++}i.g.length=n}if(i.i!=i.g.length){var h={};for(n=e=0;e<i.g.length;)ss(h,l=i.g[e])||(i.g[n++]=l,h[l]=1),e++;i.g.length=n}}function ss(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ge=Jn.prototype).setTimeout=function(i){this.P=i},ge.gb=function(i){i=i.target;const e=this.L;e&&3==Sr(i)?e.l():this.Ia(i)},ge.Ia=function(i){try{if(i==this.g)e:{const $e=Sr(this.g);var e=this.g.Da();const ct=this.g.ba();if(!(3>$e)&&(3!=$e||Kt||this.g&&(this.h.h||this.g.ga()||ar(this.g)))){this.I||4!=$e||7==e||Xr(8==e||0>=ct?3:2),yr(this);var n=this.g.ba();this.N=n;t:if(zt(this)){var l=ar(this.g);i="";var h=l.length,v=4==Sr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ts(this),is(this);var b="";break t}this.h.i=new te.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(l[e],{stream:v&&e==h-1});l.splice(0,h),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==n,function Er(i,e,n,l,h,v,b){i.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+n+"\n"+v+" "+b})}(this.j,this.u,this.A,this.m,this.X,$e,n),this.i){if(this.$&&!this.J){t:{if(this.g){var P,J=this.g;if((P=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ke(P)){var re=P;break t}}re=null}if(!(n=re)){this.i=!1,this.o=3,Fr(12),Ts(this),is(this);break e}Or(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zi(this,n)}this.U?(rn(this,$e,b),Kt&&this.i&&3==$e&&(Zr(this.V,this.W,"tick",this.fb),this.W.start())):(Or(this.j,this.m,b,null),zi(this,b)),4==$e&&Ts(this),this.i&&!this.I&&(4==$e?dl(this.l,this):(this.i=!1,ur(this)))}else 400==n&&0<b.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),Ts(this),is(this)}}}catch($e){}},ge.fb=function(){if(this.g){var i=Sr(this.g),e=this.g.ga();this.C<e.length&&(yr(this),rn(this,i,e),this.i&&4!=i&&ur(this))}},ge.cancel=function(){this.I=!0,Ts(this)},ge.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Cr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xr(3),Fr(17)),Ts(this),this.o=2,is(this)):Si(this,this.Y-i)},(ge=Qi.prototype).R=function(){go(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ge.T=function(){return go(this),this.g.concat()},ge.get=function(i,e){return ss(this.h,i)?this.h[i]:e},ge.set=function(i,e){ss(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ge.forEach=function(i,e){for(var n=this.T(),l=0;l<n.length;l++){var h=n[l],v=this.get(h);i.call(e,v,h,this)}};var Fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Li(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Li){this.g=void 0!==e?e:i.g,Ps(this,i.j),this.s=i.s,Vs(this,i.i),Co(this,i.m),this.l=i.l,e=i.h;var n=new js;n.i=e.i,e.g&&(n.g=new Qi(e.g),n.h=e.h),Ji(this,n),this.o=i.o}else i&&(n=String(i).match(Fi))?(this.g=!!e,Ps(this,n[1]||"",!0),this.s=Us(n[2]||""),Vs(this,n[3]||"",!0),Co(this,n[4]),this.l=Us(n[5]||"",!0),Ji(this,n[6]||"",!0),this.o=Us(n[7]||"")):(this.g=!!e,this.h=new js(null,this.g))}function Wi(i){return new Li(i)}function Ps(i,e,n){i.j=n?Us(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vs(i,e,n){i.i=n?Us(e,!0):e}function Co(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ji(i,e,n){e instanceof js?(i.h=e,function tt(i,e){e&&!i.j&&(Pr(i),i.i=null,i.g.forEach(function(n,l){var h=l.toLowerCase();l!=h&&($(this,l),V(this,h,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Vi(e,es)),i.h=new js(e,i.g))}function zr(i,e,n){i.h.set(e,n)}function Bi(i){return zr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Us(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Vi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,$s),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function $s(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Li.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Vi(e,Ai,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Vi(e,Ai,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Vi(n,"/"==n.charAt(0)?pi:Uo,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Vi(n,Ki)),i.join("")};var Ai=/[#\/\?@]/g,Uo=/[#\?:]/g,pi=/[#\?]/g,es=/[#\?@]/g,Ki=/#/g;function js(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Pr(i){i.g||(i.g=new Qi,i.h=0,i.i&&function fi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var l=i[n].indexOf("="),h=null;if(0<=l){var v=i[n].substring(0,l);h=i[n].substring(l+1)}else v=i[n];e(v,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $(i,e){Pr(i),e=he(i,e),ss(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ss((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&go(i)))}function le(i,e){return Pr(i),e=he(i,e),ss(i.g.h,e)}function V(i,e,n){$(i,e),0<n.length&&(i.i=null,i.g.set(he(i,e),rt(n)),i.h+=n.length)}function he(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function qt(i){this.l=i||On,i=te.PerformanceNavigationTiming?0<(i=te.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ge=js.prototype).add=function(i,e){Pr(this),this.i=null,i=he(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ge.forEach=function(i,e){Pr(this),this.g.forEach(function(n,l){se(n,function(h){i.call(e,h,l,this)},this)},this)},ge.T=function(){Pr(this);for(var i=this.g.R(),e=this.g.T(),n=[],l=0;l<e.length;l++)for(var h=i[l],v=0;v<h.length;v++)n.push(e[l]);return n},ge.R=function(i){Pr(this);var e=[];if("string"==typeof i)le(this,i)&&(e=dt(e,this.g.get(he(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=dt(e,i[n])}return e},ge.set=function(i,e){return Pr(this),this.i=null,le(this,i=he(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ge.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var l=e[n],h=encodeURIComponent(String(l));l=this.R(l);for(var v=0;v<l.length;v++){var b=h;""!==l[v]&&(b+="="+encodeURIComponent(String(l[v]))),i.push(b)}}return this.i=i.join("&")};var On=10;function Hn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fr(i){return i.h?1:i.g?i.g.size:0}function sr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function cr(i,e){i.g?i.g.add(e):i.h=e}function gi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Wr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return rt(i.i)}function Kr(){}function Xs(){this.g=new Kr}function Ss(i,e,n){const l=n||"";try{Os(i,function(h,v){let b=h;Me(h)&&(b=Hi(h)),e.push(l+v+"="+encodeURIComponent(b))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function vs(i,e,n,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch(v){}}function mo(i){this.l=i.$b||null,this.j=i.ib||!1}function Hs(i,e){gn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=$o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Kr.prototype.stringify=function(i){return te.JSON.stringify(i,void 0)},Kr.prototype.parse=function(i){return te.JSON.parse(i,void 0)},We(mo,Ie),mo.prototype.g=function(){return new Hs(this.l,this.j)},mo.prototype.i=function(i){return function(){return i}}({}),We(Hs,gn);var $o=0;function z(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function L(i){i.readyState=4,i.l=null,i.j=null,i.A=null,k(i)}function k(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ge=Hs.prototype).open=function(i,e){if(this.readyState!=$o)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,k(this)},ge.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,L(this)),this.readyState=$o},ge.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,k(this)),this.g&&(this.readyState=3,k(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==te.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ge.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?L(this):k(this),3==this.readyState&&z(this)}},ge.Ua=function(i){this.g&&(this.response=this.responseText=i,L(this))},ge.Ta=function(i){this.g&&(this.response=i,L(this))},ge.ha=function(){this.g&&L(this)},ge.setRequestHeader=function(i,e){this.v.append(i,e)},ge.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var q=te.JSON.parse;function wt(i){gn.call(this),this.headers=new Qi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nn,this.K=this.L=!1}We(wt,gn);var Nn="",E=/^https?$/i,H=["POST","PUT"];function B(i){return"content-type"==i.toLowerCase()}function pe(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Rt(i),kn(i)}function Rt(i){i.D||(i.D=!0,Bn(i,"complete"),Bn(i,"error"))}function _n(i){if(i.h&&void 0!==Be&&(!i.C[1]||4!=Sr(i)||2!=i.ba()))if(i.v&&4==Sr(i))ai(i.Fa,0,i);else if(Bn(i,"readystatechange"),4==Sr(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var l;if(l=0===P){var h=String(i.H).match(Fi)[1]||null;if(!h&&te.self&&te.self.location){var v=te.self.location.protocol;h=v.substr(0,v.length-1)}l=!E.test(h?h.toLowerCase():"")}n=l}if(n)Bn(i,"complete"),Bn(i,"success");else{i.m=6;try{var b=2<Sr(i)?i.g.statusText:""}catch(J){b=""}i.j=b+" ["+i.ba()+"]",Rt(i)}}finally{kn(i)}}}function kn(i,e){if(i.g){or(i);const n=i.g,l=i.C[0]?de:null;i.g=null,i.C=null,e||Bn(i,"ready");try{n.onreadystatechange=l}catch(h){}}}function or(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(te.clearTimeout(i.A),i.A=null)}function Sr(i){return i.g?i.g.readyState:0}function ar(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Nn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _s(i,e,n){e:{for(l in n){var l=!1;break e}l=!0}l||(n=function mi(i){let e="";return ee(i,function(n,l){e+=l,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):zr(i,e,n))}function Yi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function As(i){this.za=0,this.l=[],this.h=new lr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yi("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yi("baseRetryDelayMs",5e3,i),this.$a=Yi("retryDelaySeedMs",1e4,i),this.Ya=Yi("forwardChannelMaxRetries",2,i),this.ra=Yi("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new qt(i&&i.concurrentRequestLimit),this.Ca=new Xs,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ns(i){if(Ha(i),3==i.G){var e=i.V++,n=Wi(i.F);zr(n,"SID",i.J),zr(n,"RID",e),zr(n,"TYPE","terminate"),na(i,n),(e=new Jn(i,i.h,e,void 0)).K=2,e.v=Bi(Wi(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=ia(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ur(e)}Qu(i)}function Gs(i){i.g&&(wa(i),i.g.cancel(),i.g=null)}function Ha(i){Gs(i),i.u&&(te.clearTimeout(i.u),i.u=null),jo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&te.clearTimeout(i.m),i.m=null)}function Ga(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ta(i)}function ta(i){Hn(i.i)||i.m||(i.m=!0,wi(i.Ha,i),i.C=0)}function Ol(i,e){var n;n=e?e.m:i.V++;const l=Wi(i.F);zr(l,"SID",i.J),zr(l,"RID",n),zr(l,"AID",i.U),na(i,l),i.o&&i.s&&_s(l,i.o,i.s),n=new Jn(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Jl(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),cr(i.i,n),et(n,l,e)}function na(i,e){i.j&&Os({},function(n,l){zr(e,l,n)})}function Jl(i,e,n){n=Math.min(i.l.length,n);var l=i.j?ht(i.j.Oa,i.j,i):null;e:{var h=i.l;let v=-1;for(;;){const b=["count="+n];-1==v?0<n?(v=h[0].h,b.push("ofs="+v)):v=0:b.push("ofs="+v);let P=!0;for(let J=0;J<n;J++){let re=h[J].h;const $e=h[J].g;if(re-=v,0>re)v=Math.max(0,h[J].h-100),P=!1;else try{Ss($e,b,"req"+re+"_")}catch(ct){l&&l($e)}}if(P){l=b.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,l}function za(i){i.g||i.u||(i.Y=1,wi(i.Ga,i),i.A=0)}function Fo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=ve(ht(i.Ga,i),Ia(i,i.A)),i.A++,0))}function wa(i){null!=i.B&&(te.clearTimeout(i.B),i.B=null)}function wu(i){i.g=new Jn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Wi(i.oa);zr(e,"RID","rpc"),zr(e,"SID",i.J),zr(e,"CI",i.N?"0":"1"),zr(e,"AID",i.U),na(i,e),zr(e,"TYPE","xmlhttp"),i.o&&i.s&&_s(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Bi(Wi(e)),n.s=null,n.U=!0,At(n,i)}function jo(i){null!=i.v&&(te.clearTimeout(i.v),i.v=null)}function dl(i,e){var n=null;if(i.g==e){jo(i),wa(i),i.g=null;var l=2}else{if(!sr(i.i,e))return;n=e.D,gi(i.i,e),l=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==l){n=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;Bn(l=bi(),new ne(l,n,e,h)),ta(i)}else za(i);else if(3==(h=e.o)||0==h&&0<i.I||!(1==l&&function Rl(i,e){return!(fr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=ve(ht(i.Ha,i,e),Ia(i,i.C)),i.C++,0)))}(i,e)||2==l&&Fo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),h){case 1:ra(i,5);break;case 4:ra(i,10);break;case 3:ra(i,6);break;default:ra(i,2)}}function Ia(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function ra(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var l=ht(i.jb,i);n||(n=new Li("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Ps(n,"https"),Bi(n)),function $n(i,e){const n=new lr;if(te.Image){const l=new Image;l.onload=Et(vs,n,l,"TestLoadImage: loaded",!0,e),l.onerror=Et(vs,n,l,"TestLoadImage: error",!1,e),l.onabort=Et(vs,n,l,"TestLoadImage: abort",!1,e),l.ontimeout=Et(vs,n,l,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=i}else e(!1)}(n.toString(),l)}else Fr(2);i.G=0,i.j&&i.j.va(e),Qu(i),Ha(i)}function Qu(i){i.G=0,i.I=-1,i.j&&((0!=Wr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,rt(i.l),i.l.length=0),i.j.ua())}function Es(i,e,n){let l=function ko(i){return i instanceof Li?Wi(i):new Li(i,void 0)}(n);if(""!=l.i)e&&Vs(l,e+"."+l.i),Co(l,l.m);else{const h=te.location;l=function ei(i,e,n,l){var h=new Li(null,void 0);return i&&Ps(h,i),e&&Vs(h,e),n&&Co(h,n),l&&(h.l=l),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,n)}return i.aa&&ee(i.aa,function(h,v){zr(l,v,h)}),n=i.sa,(e=i.D)&&n&&zr(l,e,n),zr(l,"VER",i.ma),na(i,l),l}function ia(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wt(n&&i.Ba&&!i.qa?new mo({ib:!0}):i.qa)).L=i.H,e}function qi(){}function Ju(){if(Ce&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function zs(i,e){gn.call(this),this.g=new As(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Ke(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ke(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ho(this)}function so(i){Pt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Oc(){Ot.call(this),this.status=1}function Ho(i){this.g=i}(ge=wt.prototype).ea=function(i,e,n,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mn.g(),this.C=function Fe(i){return i.h||(i.h=i.i())}(this.u?this.u:mn),this.g.onreadystatechange=ht(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(v){return void pe(this,v)}i=n||"";const h=new Qi(this.headers);l&&Os(l,function(v,b){h.set(b,v)}),l=function Qe(i){e:{var e=B;const n=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<n;h++)if(h in l&&e.call(void 0,l[h],h,i)){e=h;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(h.T()),n=te.FormData&&i instanceof te.FormData,!(0<=Xe(H,e))||l||n||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(v,b){this.g.setRequestHeader(b,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{or(this),0<this.B&&((this.K=function w(i){return Ce&&function ln(){return function je(i){var e=gr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ft(String(er)).split("."),n=ft("9").split("."),l=Math.max(e.length,n.length);for(let b=0;0==i&&b<l;b++){var h=e[b]||"",v=n[b]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==h[0].length&&0==v[0].length)break;i=un(0==h[1].length?0:parseInt(h[1],10),0==v[1].length?0:parseInt(v[1],10))||un(0==h[2].length,0==v[2].length)||un(h[2],v[2]),h=h[3],v=v[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.pa,this)):this.A=ai(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(v){pe(this,v)}},ge.pa=function(){void 0!==Be&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},ge.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Bn(this,"complete"),Bn(this,"abort"),kn(this))},ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kn(this,!0)),wt.Z.M.call(this)},ge.Fa=function(){this.s||(this.F||this.v||this.l?_n(this):this.cb())},ge.cb=function(){_n(this)},ge.ba=function(){try{return 2<Sr(this)?this.g.status:-1}catch(i){return-1}},ge.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ge.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),q(e)}},ge.Da=function(){return this.m},ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=As.prototype).ma=8,ge.G=1,ge.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ge.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const h=new Jn(this,this.h,i,void 0);let v=this.s;if(this.P&&(v?(v=X(v),we(v,this.P)):v=this.P),null===this.o&&(h.H=v),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var l=this.l[n];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Jl(this,h,e),zr(n=Wi(this.F),"RID",i),zr(n,"CVER",22),this.D&&zr(n,"X-HTTP-Session-Id",this.D),na(this,n),this.o&&v&&_s(n,this.o,v),cr(this.i,h),this.Ra&&zr(n,"TYPE","init"),this.ja?(zr(n,"$req",e),zr(n,"SID","null"),h.$=!0,et(h,n,null)):et(h,n,e),this.G=2}}else 3==this.G&&(i?Ol(this,i):0==this.l.length||Hn(this.i)||Ol(this))},ge.Ga=function(){if(this.u=null,wu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=ve(ht(this.bb,this),i)}},ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fr(10),Gs(this),wu(this))},ge.ab=function(){null!=this.v&&(this.v=null,Gs(this),Fo(this),Fr(19))},ge.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Fr(2)):(this.h.info("Failed to ping google.com"),Fr(1))},(ge=qi.prototype).xa=function(){},ge.wa=function(){},ge.va=function(){},ge.ua=function(){},ge.Oa=function(){},Ju.prototype.g=function(i,e){return new zs(i,e)},We(zs,gn),zs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),wi(ht(i.hb,i,e))),Fr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Es(i,null,i.W),ta(i)},zs.prototype.close=function(){Ns(this.g)},zs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ga(this.g,e)}else this.v?((e={}).__data__=Hi(i),Ga(this.g,e)):Ga(this.g,i)},zs.prototype.M=function(){this.g.j=null,delete this.j,Ns(this.g),delete this.g,zs.Z.M.call(this)},We(so,Pt),We(Oc,Ot),We(Ho,qi),Ho.prototype.xa=function(){Bn(this.g,"a")},Ho.prototype.wa=function(i){Bn(this.g,new so(i))},Ho.prototype.va=function(i){Bn(this.g,new Oc(i))},Ho.prototype.ua=function(){Bn(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,zs.prototype.send=zs.prototype.u,zs.prototype.open=zs.prototype.m,zs.prototype.close=zs.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,mt.COMPLETE="complete",yt.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",gn.prototype.listen=gn.prototype.N,wt.prototype.listenOnce=wt.prototype.O,wt.prototype.getLastError=wt.prototype.La,wt.prototype.getLastErrorCode=wt.prototype.Da,wt.prototype.getStatus=wt.prototype.ba,wt.prototype.getResponseJson=wt.prototype.Qa,wt.prototype.getResponseText=wt.prototype.ga,wt.prototype.send=wt.prototype.ea;var ec=Ee.createWebChannelTransport=function(){return new Ju},eu=Ee.getStatEventTarget=function(){return bi()},Do=Ee.ErrorCode=ot,Go=Ee.EventType=mt,hl=Ee.Event=di,cs=Ee.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Iu=Ee.FetchXmlHttpFactory=mo,To=Ee.WebChannel=yt,fl=Ee.XhrIo=wt;const pl="@firebase/firestore";class os{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let Ws="9.8.0";const Qs=new Ne.Yd("@firebase/firestore");function tu(){return Qs.logLevel}function bd(i){Qs.setLogLevel(i)}function yn(i,...e){if(Qs.logLevel<=Ne.in.DEBUG){const n=e.map(zo);Qs.debug(`Firestore (${Ws}): ${i}`,...n)}}function ws(i,...e){if(Qs.logLevel<=Ne.in.ERROR){const n=e.map(zo);Qs.error(`Firestore (${Ws}): ${i}`,...n)}}function Is(i,...e){if(Qs.logLevel<=Ne.in.WARN){const n=e.map(zo);Qs.warn(`Firestore (${Ws}): ${i}`,...n)}}function zo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function Un(i="Unexpected state"){const e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+i;throw ws(e),new Error(e)}function Yn(i,e){i||Un()}function Lo(i,e){i||Un()}function An(i,e){return i}const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sn extends be.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Wa{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ka{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(os.UNAUTHENTICATED))}shutdown(){}}class Pc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O{constructor(e){this.t=e,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var l=this;let h=this.i;const v=re=>this.i!==h?(h=this.i,n(re)):Promise.resolve();let b=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ar,e.enqueueRetryable(()=>v(this.currentUser))};const P=()=>{const re=b;e.enqueueRetryable((0,c.Z)(function*(){yield re.promise,yield v(l.currentUser)}))},J=re=>{yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(re=>J(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?J(re):(yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ar)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(l=>this.i!==e?(yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Yn("string"==typeof l.accessToken),new Wa(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new os(e)}}class A{constructor(e,n,l){this.type="FirstParty",this.user=os.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),l&&this.headers.set("X-Goog-Iam-Authorization-Token",l)}}class T{constructor(e,n,l){this.h=e,this.l=n,this.m=l}getToken(){return Promise.resolve(new A(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const l=v=>{null!=v.error&&yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const b=v.token!==this.p;return this.p=v.token,yn("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?n(v.token):Promise.resolve()};this.o=v=>{e.enqueueRetryable(()=>l(v))};const h=v=>{yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.g.onInit(v=>h(v)),setTimeout(()=>{if(!this.appCheck){const v=this.g.getImmediate({optional:!0});v?h(v):yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Yn("string"==typeof n.token),this.p=n.token,new U(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Pe{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=l=>this.I(l),this.T=l=>n.writeSequenceNumber(l))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function nt(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let l=0;l<i;l++)n[l]=Math.floor(256*Math.random());return n}Pe.A=-1;class Bt{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const h=nt(40);for(let v=0;v<h.length;++v)l.length<20&&h[v]<n&&(l+=e.charAt(h[v]%e.length))}return l}}function tn(i,e){return i<e?-1:i>e?1:0}function wr(i,e,n){return i.length===e.length&&i.every((l,h)=>n(l,e[h]))}function Gn(i){return i+"\0"}class tr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new sn(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new sn(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new sn(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sn(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*n));return new tr(n,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new tr(0,0))}static max(){return new bn(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ks(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Fs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function gl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Wo{constructor(e,n,l){void 0===n?n=0:n>e.length&&Un(),void 0===l?l=e.length-n:l>e.length-n&&Un(),this.segments=e,this.offset=n,this.len=l}get length(){return this.len}isEqual(e){return 0===Wo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wo?e.forEach(l=>{n.push(l)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,l=this.limit();n<l;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const l=Math.min(e.length,n.length);for(let h=0;h<l;h++){const v=e.get(h),b=n.get(h);if(v<b)return-1;if(v>b)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Yr extends Wo{construct(e,n,l){return new Yr(e,n,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const l of e){if(l.indexOf("//")>=0)throw new sn(xt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);n.push(...l.split("/").filter(h=>h.length>0))}return new Yr(n)}static emptyPath(){return new Yr([])}}const Ya=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ds extends Wo{construct(e,n,l){return new ds(e,n,l)}static isValidIdentifier(e){return Ya.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ds.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ds(["__name__"])}static fromServerFormat(e){const n=[];let l="",h=0;const v=()=>{if(0===l.length)throw new sn(xt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(l),l=""};let b=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new sn(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const J=e[h+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new sn(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=J,h+=2}else"`"===P?(b=!b,h++):"."!==P||b?(l+=P,h++):(v(),h++)}if(v(),b)throw new sn(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ds(n)}static emptyPath(){return new ds([])}}class sa{constructor(e){this.fields=e,e.sort(ds.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wr(this.fields,e.fields,(n,l)=>n.isEqual(l))}}function tc(){return"undefined"!=typeof atob}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new hs(n)}static fromUint8Array(e){const n=function(l){let h="";for(let v=0;v<l.length;++v)h+=String.fromCharCode(l[v]);return h}(e);return new hs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const Pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(i){if(Yn(!!i),"string"==typeof i){let e=0;const n=Pl.exec(i);if(Yn(!!n),n[1]){let h=n[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(i);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:yi(i.seconds),nanos:yi(i.nanos)}}function yi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function So(i){return"string"==typeof i?hs.fromBase64String(i):hs.fromUint8Array(i)}function Nl(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nu(i){const e=i.mapValue.fields.__previous_value__;return Nl(e)?nu(e):e}function ba(i){const e=yo(i.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}class gh{constructor(e,n,l,h,v,b,P,J){this.databaseId=e,this.appId=n,this.persistenceKey=l,this.host=h,this.ssl=v,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.useFetchStreams=J}}class Js{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Js&&e.projectId===this.projectId&&e.database===this.database}}function Ri(i){return null==i}function qa(i){return 0===i&&1/i==-1/0}function mh(i){return"number"==typeof i&&Number.isInteger(i)&&!qa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class xn{constructor(e){this.path=e}static fromPath(e){return new xn(Yr.fromString(e))}static fromName(e){return new xn(Yr.fromString(e).popFirst(5))}static empty(){return new xn(Yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Yr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xn(new Yr(e.slice()))}}const oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ca={nullValue:"NULL_VALUE"};function Za(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nl(i)?4:ua(i)?9007199254740991:10:Un()}function Da(i,e){if(i===e)return!0;const n=Za(i);if(n!==Za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ba(i).isEqual(ba(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const v=yo(l.timestampValue),b=yo(h.timestampValue);return v.seconds===b.seconds&&v.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,So(i.bytesValue).isEqual(So(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,h){return yi(l.geoPointValue.latitude)===yi(h.geoPointValue.latitude)&&yi(l.geoPointValue.longitude)===yi(h.geoPointValue.longitude)}(i,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return yi(l.integerValue)===yi(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const v=yi(l.doubleValue),b=yi(h.doubleValue);return v===b?qa(v)===qa(b):isNaN(v)&&isNaN(b)}return!1}(i,e);case 9:return wr(i.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:return function(l,h){const v=l.mapValue.fields||{},b=h.mapValue.fields||{};if(ks(v)!==ks(b))return!1;for(const P in v)if(v.hasOwnProperty(P)&&(void 0===b[P]||!Da(v[P],b[P])))return!1;return!0}(i,e);default:return Un()}var h}function Ui(i,e){return void 0!==(i.values||[]).find(n=>Da(n,e))}function aa(i,e){if(i===e)return 0;const n=Za(i),l=Za(e);if(n!==l)return tn(n,l);switch(n){case 0:case 9007199254740991:return 0;case 1:return tn(i.booleanValue,e.booleanValue);case 2:return function(h,v){const b=yi(h.integerValue||h.doubleValue),P=yi(v.integerValue||v.doubleValue);return b<P?-1:b>P?1:b===P?0:isNaN(b)?isNaN(P)?0:-1:1}(i,e);case 3:return ts(i.timestampValue,e.timestampValue);case 4:return ts(ba(i),ba(e));case 5:return tn(i.stringValue,e.stringValue);case 6:return function(h,v){const b=So(h),P=So(v);return b.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(h,v){const b=h.split("/"),P=v.split("/");for(let J=0;J<b.length&&J<P.length;J++){const re=tn(b[J],P[J]);if(0!==re)return re}return tn(b.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,v){const b=tn(yi(h.latitude),yi(v.latitude));return 0!==b?b:tn(yi(h.longitude),yi(v.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,v){const b=h.values||[],P=v.values||[];for(let J=0;J<b.length&&J<P.length;++J){const re=aa(b[J],P[J]);if(re)return re}return tn(b.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,v){if(h===oa.mapValue&&v===oa.mapValue)return 0;if(h===oa.mapValue)return 1;if(v===oa.mapValue)return-1;const b=h.fields||{},P=Object.keys(b),J=v.fields||{},re=Object.keys(J);P.sort(),re.sort();for(let $e=0;$e<P.length&&$e<re.length;++$e){const ct=tn(P[$e],re[$e]);if(0!==ct)return ct;const Vt=aa(b[P[$e]],J[re[$e]]);if(0!==Vt)return Vt}return tn(P.length,re.length)}(i.mapValue,e.mapValue);default:throw Un()}}function ts(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return tn(i,e);const n=yo(i),l=yo(e),h=tn(n.seconds,l.seconds);return 0!==h?h:tn(n.nanos,l.nanos)}function eo(i){return ns(i)}function ns(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(l){const h=yo(l);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?So(i.bytesValue).toBase64():"referenceValue"in i?xn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(l){let h="[",v=!0;for(const b of l.values||[])v?v=!1:h+=",",h+=ns(b);return h+"]"}(i.arrayValue):"mapValue"in i?function(l){const h=Object.keys(l.fields||{}).sort();let v="{",b=!0;for(const P of h)b?b=!1:v+=",",v+=`${P}:${ns(l.fields[P])}`;return v+"}"}(i.mapValue):Un();var e}function bu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ml(i){return!!i&&"integerValue"in i}function oo(i){return!!i&&"arrayValue"in i}function fs(i){return!!i&&"nullValue"in i}function vo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _o(i){return!!i&&"mapValue"in i}function la(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fs(i.mapValue.fields,(n,l)=>e.mapValue.fields[n]=la(l)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=la(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ua(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xa(i){return"nullValue"in i?Ca:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?bu(Js.empty(),xn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Un()}function Ta(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?bu(Js.empty(),xn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?oa:Un()}function ps(i,e){const n=aa(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function nc(i,e){const n=aa(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let l=0;l<e.length-1;++l)if(n=(n.mapValue.fields||{})[e.get(l)],!_o(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(n)}setAll(e){let n=ds.emptyPath(),l={},h=[];e.forEach((b,P)=>{if(!n.isImmediateParentOf(P)){const J=this.getFieldsMap(n);this.applyChanges(J,l,h),l={},h=[],n=P.popLast()}b?l[P.lastSegment()]=la(b):h.push(P.lastSegment())});const v=this.getFieldsMap(n);this.applyChanges(v,l,h)}delete(e){const n=this.field(e.popLast());_o(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=n.mapValue.fields[e.get(l)];_o(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},n.mapValue.fields[e.get(l)]=h),n=h}return n.mapValue.fields}applyChanges(e,n,l){Fs(n,(h,v)=>e[h]=v);for(const h of l)delete e[h]}clone(){return new Ls(la(this.value))}}function Bo(i){const e=[];return Fs(i.fields,(n,l)=>{const h=new ds([n]);if(_o(l)){const v=Bo(l.mapValue).fields;if(0===v.length)e.push(h);else for(const b of v)e.push(h.child(b))}else e.push(h)}),new sa(e)}class Oi{constructor(e,n,l,h,v,b){this.key=e,this.documentType=n,this.version=l,this.readTime=h,this.data=v,this.documentState=b}static newInvalidDocument(e){return new Oi(e,0,bn.min(),bn.min(),Ls.empty(),0)}static newFoundDocument(e,n,l){return new Oi(e,1,n,bn.min(),l,0)}static newNoDocument(e,n){return new Oi(e,2,n,bn.min(),Ls.empty(),0)}static newUnknownDocument(e,n){return new Oi(e,3,n,bn.min(),Ls.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qa{constructor(e,n,l,h){this.indexId=e,this.collectionGroup=n,this.fields=l,this.indexState=h}}function Nc(i){return i.fields.find(e=>2===e.kind)}function Sa(i){return i.fields.filter(e=>2!==e.kind)}Qa.UNKNOWN_ID=-1;class Ao{constructor(e,n){this.fieldPath=e,this.kind=n}}class ca{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ca(0,Bs.min())}}function rc(i,e){const n=i.toTimestamp().seconds,l=i.toTimestamp().nanoseconds+1,h=bn.fromTimestamp(1e9===l?new tr(n+1,0):new tr(n,l));return new Bs(h,xn.empty(),e)}function Cu(i){return new Bs(i.readTime,i.key,-1)}class Bs{constructor(e,n,l){this.readTime=e,this.documentKey=n,this.largestBatchId=l}static min(){return new Bs(bn.min(),xn.empty(),-1)}static max(){return new Bs(bn.max(),xn.empty(),-1)}}function Du(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=xn.comparator(i.documentKey,e.documentKey),0!==n?n:tn(i.largestBatchId,e.largestBatchId))}class ii{constructor(e,n){this.comparator=e,this.root=n||ao.EMPTY}insert(e,n){return new ii(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const l=this.comparator(e,n.key);if(0===l)return n.value;l<0?n=n.left:l>0&&(n=n.right)}return null}indexOf(e){let n=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return n+l.left.size;h<0?l=l.left:(n+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,l)=>(e(n,l),!1))}toString(){const e=[];return this.inorderTraversal((n,l)=>(e.push(`${n}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xo(this.root,e,this.comparator,!0)}}class xo{constructor(e,n,l,h){this.isReverse=h,this.nodeStack=[];let v=1;for(;!e.isEmpty();)if(v=n?l(e.key,n):1,n&&h&&(v*=-1),v<0)e=this.isReverse?e.left:e.right;else{if(0===v){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ao{constructor(e,n,l,h,v){this.key=e,this.value=n,this.color=null!=l?l:ao.RED,this.left=null!=h?h:ao.EMPTY,this.right=null!=v?v:ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,l,h,v){return new ao(null!=e?e:this.key,null!=n?n:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,l){let h=this;const v=l(e,h.key);return h=v<0?h.copy(null,null,null,h.left.insert(e,n,l),null):0===v?h.copy(null,n,null,null,null):h.copy(null,null,null,null,h.right.insert(e,n,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return ao.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let l,h=this;if(n(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,n),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===n(e,h.key)){if(h.right.isEmpty())return ao.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,n))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Un();const e=this.left.check();if(e!==this.right.check())throw Un();return e+(this.isRed()?0:1)}}ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1,ao.EMPTY=new class{constructor(){this.size=0}get key(){throw Un()}get value(){throw Un()}get color(){throw Un()}get left(){throw Un()}get right(){throw Un()}copy(i,e,n,l,h){return this}insert(i,e,n){return new ao(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class li{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,l)=>(e(n),!1))}forEachInRange(e,n){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;n(h.key)}}forEachWhile(e,n){let l;for(l=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kl(this.data.getIterator())}getIteratorFrom(e){return new kl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(l=>{n=n.add(l)}),n}isEqual(e){if(!(e instanceof li)||this.size!==e.size)return!1;const n=this.data.getIterator(),l=e.data.getIterator();for(;n.hasNext();){const h=n.getNext().key,v=l.getNext().key;if(0!==this.comparator(h,v))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new li(this.comparator);return n.data=e,n}}class kl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ko(i){return i.hasNext()?i.getNext():void 0}class kc{constructor(e,n=null,l=[],h=[],v=null,b=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=l,this.filters=h,this.limit=v,this.startAt=b,this.endAt=P,this.P=null}}function F(i,e=null,n=[],l=[],h=null,v=null,b=null){return new kc(i,e,n,l,h,v,b)}function j(i){const e=An(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(l=>{return(h=l).field.canonicalString()+h.op.toString()+eo(h.value);var h}).join(","),n+="|ob:",n+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),Ri(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>eo(l)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>eo(l)).join(",")),e.P=n}return e.P}function Ve(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!Fc(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((n=i.filters[h]).op!==(l=e.filters[h]).op||!n.field.isEqual(l.field)||!Da(n.value,l.value))return!1;var n,l;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bc(i.startAt,e.startAt)&&Bc(i.endAt,e.endAt)}function bt(i){return xn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Mt(i,e){return i.filters.filter(n=>n instanceof zn&&n.field.isEqual(e))}function dn(i,e,n){let l=Ca,h=!0;for(const v of Mt(i,e)){let b=Ca,P=!0;switch(v.op){case"<":case"<=":b=Xa(v.value);break;case"==":case"in":case">=":b=v.value;break;case">":b=v.value,P=!1;break;case"!=":case"not-in":b=Ca}ps({value:l,inclusive:h},{value:b,inclusive:P})<0&&(l=b,h=P)}if(null!==n)for(let v=0;v<i.orderBy.length;++v)if(i.orderBy[v].field.isEqual(e)){const b=n.position[v];ps({value:l,inclusive:h},{value:b,inclusive:n.inclusive})<0&&(l=b,h=n.inclusive);break}return{value:l,inclusive:h}}function Tn(i,e,n){let l=oa,h=!0;for(const v of Mt(i,e)){let b=oa,P=!0;switch(v.op){case">=":case">":b=Ta(v.value),P=!1;break;case"==":case"in":case"<=":b=v.value;break;case"<":b=v.value,P=!1;break;case"!=":case"not-in":b=oa}nc({value:l,inclusive:h},{value:b,inclusive:P})>0&&(l=b,h=P)}if(null!==n)for(let v=0;v<i.orderBy.length;++v)if(i.orderBy[v].field.isEqual(e)){const b=n.position[v];nc({value:l,inclusive:h},{value:b,inclusive:n.inclusive})>0&&(l=b,h=n.inclusive);break}return{value:l,inclusive:h}}class zn extends class{}{constructor(e,n,l){super(),this.field=e,this.op=n,this.value=l}static create(e,n,l){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,l):new pr(e,n,l):"array-contains"===n?new to(e,l):"in"===n?new Fl(e,l):"not-in"===n?new Ja(e,l):"array-contains-any"===n?new da(e,l):new zn(e,n,l)}static V(e,n,l){return"in"===n?new Jr(e,l):new mr(e,l)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(aa(n,this.value)):null!==n&&Za(this.value)===Za(n)&&this.v(aa(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Un()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pr extends zn{constructor(e,n,l){super(e,n,l),this.key=xn.fromName(l.referenceValue)}matches(e){const n=xn.comparator(e.key,this.key);return this.v(n)}}class Jr extends zn{constructor(e,n){super(e,"in",n),this.keys=Eo(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mr extends zn{constructor(e,n){super(e,"not-in",n),this.keys=Eo(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Eo(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(l=>xn.fromName(l.referenceValue))}class to extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oo(n)&&Ui(n.arrayValue,this.value)}}class Fl extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ui(this.value.arrayValue,n)}}class Ja extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ui(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ui(this.value.arrayValue,n)}}class da extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(l=>Ui(this.value.arrayValue,l))}}class lo{constructor(e,n){this.position=e,this.inclusive=n}}class Ks{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Lc(i,e,n){let l=0;for(let h=0;h<i.position.length;h++){const v=e[h],b=i.position[h];if(l=v.field.isKeyField()?xn.comparator(xn.fromName(b.referenceValue),n.key):aa(b,n.data.field(v.field)),"desc"===v.dir&&(l*=-1),0!==l)break}return l}function Bc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Da(i.position[n],e.position[n]))return!1;return!0}class ha{constructor(e,n=null,l=[],h=[],v=null,b="F",P=null,J=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=l,this.filters=h,this.limit=v,this.limitType=b,this.startAt=P,this.endAt=J,this.D=null,this.C=null}}function yh(i,e,n,l,h,v,b,P){return new ha(i,e,n,l,h,v,b,P)}function Tu(i){return new ha(i)}function Ll(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ru(i){for(const e of i.filters)if(e.S())return e.field;return null}function _h(i){return null!==i.collectionGroup}function Su(i){const e=An(i);if(null===e.D){e.D=[];const n=ru(e),l=Ll(e);if(null!==n&&null===l)n.isKeyField()||e.D.push(new Ks(n)),e.D.push(new Ks(ds.keyField(),"asc"));else{let h=!1;for(const v of e.explicitOrderBy)e.D.push(v),v.field.isKeyField()&&(h=!0);if(!h){const v=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ks(ds.keyField(),v))}}}return e.D}function fa(i){const e=An(i);if(!e.C)if("F"===e.limitType)e.C=F(e.path,e.collectionGroup,Su(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const v of Su(e))n.push(new Ks(v.field,"desc"===v.dir?"asc":"desc"));const l=e.endAt?new lo(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new lo(e.startAt.position,e.startAt.inclusive):null;e.C=F(e.path,e.collectionGroup,n,e.filters,e.limit,l,h)}return e.C}function Bl(i,e,n){return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Au(i,e){return Ve(fa(i),fa(e))&&i.limitType===e.limitType}function yf(i){return`${j(fa(i))}|lt:${i.limitType}`}function ic(i){return`Query(target=${function ue(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(l=n).field.canonicalString()} ${l.op} ${eo(l.value)}`;var l}).join(", ")}]`),Ri(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(l=n).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>eo(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>eo(n)).join(",")),`Target(${e})`}(fa(i))}; limitType=${i.limitType})`}function sc(i,e){return e.isFoundDocument()&&function(n,l){const h=l.key.path;return null!==n.collectionGroup?l.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(h):xn.isDocumentKey(n.path)?n.path.isEqual(h):n.path.isImmediateParentOf(h)}(i,e)&&function(n,l){for(const h of n.explicitOrderBy)if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(i,e)&&function(n,l){for(const h of n.filters)if(!h.matches(l))return!1;return!0}(i,e)&&(l=e,!((n=i).startAt&&!function(h,v,b){const P=Lc(h,v,b);return h.inclusive?P<=0:P<0}(n.startAt,Su(n),l)||n.endAt&&!function(h,v,b){const P=Lc(h,v,b);return h.inclusive?P>=0:P>0}(n.endAt,Su(n),l)));var n,l}function yl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vc(i){return(e,n)=>{let l=!1;for(const h of Su(i)){const v=oc(h,e,n);if(0!==v)return v;l=l||h.field.isKeyField()}return 0}}function oc(i,e,n){const l=i.field.isKeyField()?xn.comparator(e.key,n.key):function(h,v,b){const P=v.data.field(h),J=b.data.field(h);return null!==P&&null!==J?aa(P,J):Un()}(i.field,e,n);switch(i.dir){case"asc":return l;case"desc":return-1*l;default:return Un()}}function vf(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qa(e)?"-0":e}}function _f(i){return{integerValue:""+i}}function Ip(i,e){return mh(e)?_f(e):vf(i,e)}class Vl{constructor(){this._=void 0}}function ac(i,e,n){return i instanceof xu?function(l,h){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&(v.fields.__previous_value__=h),{mapValue:v}}(n,e):i instanceof Ul?Eh(i,e):i instanceof $l?wh(i,e):function(l,h){const v=Cd(l,h),b=Ih(v)+Ih(l.k);return ml(v)&&ml(l.k)?_f(b):vf(l.M,b)}(i,e)}function Ef(i,e,n){return i instanceof Ul?Eh(i,e):i instanceof $l?wh(i,e):n}function Cd(i,e){return i instanceof lc?ml(n=e)||(l=n)&&"doubleValue"in l?e:{integerValue:0}:null;var l,n}class xu extends Vl{}class Ul extends Vl{constructor(e){super(),this.elements=e}}function Eh(i,e){const n=vl(e);for(const l of i.elements)n.some(h=>Da(h,l))||n.push(l);return{arrayValue:{values:n}}}class $l extends Vl{constructor(e){super(),this.elements=e}}function wh(i,e){let n=vl(e);for(const l of i.elements)n=n.filter(h=>!Da(h,l));return{arrayValue:{values:n}}}class lc extends Vl{constructor(e,n){super(),this.M=e,this.k=n}}function Ih(i){return yi(i.integerValue||i.doubleValue)}function vl(i){return oo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Aa{constructor(e,n){this.field=e,this.transform=n}}class bh{constructor(e,n){this.version=e,this.transformResults=n}}class Ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vi(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ui{}function qr(i,e,n){i instanceof jl?function(l,h,v){const b=l.value.clone(),P=vr(l.fieldTransforms,h,v.transformResults);b.setAll(P),h.convertToFoundDocument(v.version,b).setHasCommittedMutations()}(i,e,n):i instanceof Mu?function(l,h,v){if(!vi(l.precondition,h))return void h.convertToUnknownDocument(v.version);const b=vr(l.fieldTransforms,h,v.transformResults),P=h.data;P.setAll(gs(l)),P.setAll(b),h.convertToFoundDocument(v.version,P).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function el(i,e,n){var h;i instanceof jl?function(l,h,v){if(!vi(l.precondition,h))return;const b=l.value.clone(),P=wo(l.fieldTransforms,v,h);b.setAll(P),h.convertToFoundDocument(wf(h),b).setHasLocalMutations()}(i,e,n):i instanceof Mu?function(l,h,v){if(!vi(l.precondition,h))return;const b=wo(l.fieldTransforms,v,h),P=h.data;P.setAll(gs(l)),P.setAll(b),h.convertToFoundDocument(wf(h),P).setHasLocalMutations()}(i,e,n):vi(i.precondition,h=e)&&h.convertToNoDocument(bn.min())}function $i(i,e){let n=null;for(const l of i.fieldTransforms){const h=e.data.field(l.field),v=Cd(l.transform,h||null);null!=v&&(null==n&&(n=Ls.empty()),n.set(l.field,v))}return n||null}function Uc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===l||n&&l&&wr(n,l,(h,v)=>function Dd(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(n=i.transform)instanceof Ul&&l instanceof Ul||n instanceof $l&&l instanceof $l?wr(n.elements,l.elements,Da):n instanceof lc&&l instanceof lc?Da(n.k,l.k):n instanceof xu&&l instanceof xu);var n,l}(h,v))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,l}function wf(i){return i.isFoundDocument()?i.version:bn.min()}class jl extends ui{constructor(e,n,l,h=[]){super(),this.key=e,this.value=n,this.precondition=l,this.fieldTransforms=h,this.type=0}}class Mu extends ui{constructor(e,n,l,h,v=[]){super(),this.key=e,this.data=n,this.fieldMask=l,this.precondition=h,this.fieldTransforms=v,this.type=1}}function gs(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const l=i.data.field(n);e.set(n,l)}}),e}function vr(i,e,n){const l=new Map;Yn(i.length===n.length);for(let h=0;h<n.length;h++){const v=i[h],b=v.transform,P=e.data.field(v.field);l.set(v.field,Ef(b,P,n[h]))}return l}function wo(i,e,n){const l=new Map;for(const h of i){const v=h.transform,b=n.data.field(h.field);l.set(h.field,ac(v,b,e))}return l}class Yo extends ui{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class tl extends ui{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class pa{constructor(e){this.count=e}}var bs,si;function bp(i){switch(i){default:return Un();case xt.CANCELLED:case xt.UNKNOWN:case xt.DEADLINE_EXCEEDED:case xt.RESOURCE_EXHAUSTED:case xt.INTERNAL:case xt.UNAVAILABLE:case xt.UNAUTHENTICATED:return!1;case xt.INVALID_ARGUMENT:case xt.NOT_FOUND:case xt.ALREADY_EXISTS:case xt.PERMISSION_DENIED:case xt.FAILED_PRECONDITION:case xt.ABORTED:case xt.OUT_OF_RANGE:case xt.UNIMPLEMENTED:case xt.DATA_LOSS:return!0}}function Td(i){if(void 0===i)return ws("GRPC error has no .code"),xt.UNKNOWN;switch(i){case bs.OK:return xt.OK;case bs.CANCELLED:return xt.CANCELLED;case bs.UNKNOWN:return xt.UNKNOWN;case bs.DEADLINE_EXCEEDED:return xt.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return xt.RESOURCE_EXHAUSTED;case bs.INTERNAL:return xt.INTERNAL;case bs.UNAVAILABLE:return xt.UNAVAILABLE;case bs.UNAUTHENTICATED:return xt.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return xt.INVALID_ARGUMENT;case bs.NOT_FOUND:return xt.NOT_FOUND;case bs.ALREADY_EXISTS:return xt.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return xt.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return xt.FAILED_PRECONDITION;case bs.ABORTED:return xt.ABORTED;case bs.OUT_OF_RANGE:return xt.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return xt.UNIMPLEMENTED;case bs.DATA_LOSS:return xt.DATA_LOSS;default:return Un()}}(si=bs||(bs={}))[si.OK=0]="OK",si[si.CANCELLED=1]="CANCELLED",si[si.UNKNOWN=2]="UNKNOWN",si[si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",si[si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",si[si.NOT_FOUND=5]="NOT_FOUND",si[si.ALREADY_EXISTS=6]="ALREADY_EXISTS",si[si.PERMISSION_DENIED=7]="PERMISSION_DENIED",si[si.UNAUTHENTICATED=16]="UNAUTHENTICATED",si[si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",si[si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",si[si.ABORTED=10]="ABORTED",si[si.OUT_OF_RANGE=11]="OUT_OF_RANGE",si[si.UNIMPLEMENTED=12]="UNIMPLEMENTED",si[si.INTERNAL=13]="INTERNAL",si[si.UNAVAILABLE=14]="UNAVAILABLE",si[si.DATA_LOSS=15]="DATA_LOSS";class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0!==l)for(const[h,v]of l)if(this.equalsFn(h,e))return v}has(e){return void 0!==this.get(e)}set(e,n){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,n]],void this.innerSize++;for(let v=0;v<h.length;v++)if(this.equalsFn(h[v][0],e))return void(h[v]=[e,n]);h.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[n]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(n,l)=>{for(const[h,v]of l)e(h,v)})}isEmpty(){return gl(this.inner)}size(){return this.innerSize}}const $c=new ii(xn.comparator);function qs(){return $c}const Ch=new ii(xn.comparator);function If(...i){let e=Ch;for(const n of i)e=e.insert(n.key,n);return e}function jc(){return new ga(i=>i.toString(),(i,e)=>i.isEqual(e))}const bf=new ii(xn.comparator),Cp=new li(xn.comparator);function xi(...i){let e=Cp;for(const n of i)e=e.add(n);return e}const Sd=new li(tn);function _l(){return Sd}class Lr{constructor(e,n,l,h,v){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(e,n){const l=new Map;return l.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n)),new Lr(bn.min(),l,_l(),qs(),xi())}}class ma{constructor(e,n,l,h,v){this.resumeToken=e,this.current=n,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ma(hs.EMPTY_BYTE_STRING,n,xi(),xi(),xi())}}class Hl{constructor(e,n,l,h){this.O=e,this.removedTargetIds=n,this.key=l,this.F=h}}class Hc{constructor(e,n){this.targetId=e,this.$=n}}class nl{constructor(e,n,l=hs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=n,this.resumeToken=l,this.cause=h}}class Zi{constructor(){this.B=0,this.L=Io(),this.U=hs.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=xi(),n=xi(),l=xi();return this.L.forEach((h,v)=>{switch(v){case 0:e=e.add(h);break;case 2:n=n.add(h);break;case 1:l=l.add(h);break;default:Un()}}),new ma(this.U,this.q,e,n,l)}J(){this.K=!1,this.L=Io()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class rl{constructor(e){this.nt=e,this.st=new Map,this.it=qs(),this.rt=Cf(),this.ot=new li(tn)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const l=this.lt(n);switch(e.state){case 0:this.ft(n)&&l.W(e.resumeToken);break;case 1:l.tt(),l.G||l.J(),l.W(e.resumeToken);break;case 2:l.tt(),l.G||this.removeTarget(n);break;case 3:this.ft(n)&&(l.et(),l.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),l.W(e.resumeToken));break;default:Un()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((l,h)=>{this.ft(h)&&n(h)})}_t(e){const n=e.targetId,l=e.$.count,h=this.wt(n);if(h){const v=h.target;if(bt(v))if(0===l){const b=new xn(v.path);this.ct(n,b,Oi.newNoDocument(b,bn.min()))}else Yn(1===l);else this.gt(n)!==l&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((v,b)=>{const P=this.wt(b);if(P){if(v.current&&bt(P.target)){const J=new xn(P.target.path);null!==this.it.get(J)||this.It(b,J)||this.ct(b,J,Oi.newNoDocument(J,e))}v.j&&(n.set(b,v.H()),v.J())}});let l=xi();this.rt.forEach((v,b)=>{let P=!0;b.forEachWhile(J=>{const re=this.wt(J);return!re||2===re.purpose||(P=!1,!1)}),P&&(l=l.add(v))}),this.it.forEach((v,b)=>b.setReadTime(e));const h=new Lr(e,n,this.ot,this.it,l);return this.it=qs(),this.rt=Cf(),this.ot=new li(tn),h}at(e,n){if(!this.ft(e))return;const l=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,l),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,l){if(!this.ft(e))return;const h=this.lt(e);this.It(e,n)?h.Y(n,1):h.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),l&&(this.it=this.it.insert(n,l))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Zi,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new li(tn),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||yn("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Zi),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Cf(){return new ii(xn.comparator)}function Io(){return new ii(xn.comparator)}const Dh={asc:"ASCENDING",desc:"DESCENDING"},Th={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Sh{constructor(e,n){this.databaseId=e,this.N=n}}function Gc(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ah(i,e){return i.N?e.toBase64():e.toUint8Array()}function uc(i,e){return Gc(i,e.toTimestamp())}function uo(i){return Yn(!!i),bn.fromTimestamp(function(e){const n=yo(e);return new tr(n.seconds,n.nanos)}(i))}function iu(i,e){return(n=i,new Yr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ru(i){const e=Yr.fromString(i);return Yn(Mo(e)),e}function Zs(i,e){return iu(i.databaseId,e.path)}function xa(i,e){const n=Ru(e);if(n.get(1)!==i.databaseId.projectId)throw new sn(xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new sn(xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new xn(su(n))}function Ad(i,e){return iu(i.databaseId,e)}function xd(i){const e=Ru(i);return 4===e.length?Yr.emptyPath():su(e)}function br(i){return new Yr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function su(i){return Yn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function zc(i,e,n){return{name:Zs(i,e),fields:n.value.mapValue.fields}}function Wc(i,e,n){const l=xa(i,e.name),h=uo(e.updateTime),v=new Ls({mapValue:{fields:e.fields}}),b=Oi.newFoundDocument(l,h,v);return n&&b.setHasCommittedMutations(),n?b.setHasCommittedMutations():b}function as(i,e){let n;if(e instanceof jl)n={update:zc(i,e.key,e.value)};else if(e instanceof Yo)n={delete:Zs(i,e.key)};else if(e instanceof Mu)n={update:zc(i,e.key,e.data),updateMask:Tf(e.fieldMask)};else{if(!(e instanceof tl))return Un();n={verify:Zs(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(l=>function(h,v){const b=v.transform;if(b instanceof xu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ul)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof $l)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof lc)return{fieldPath:v.field.canonicalString(),increment:b.k};throw Un()}(0,l))),e.precondition.isNone||(n.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:uc(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Un()),n;var h}function Ma(i,e){const n=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Ys.updateTime(uo(h.updateTime)):void 0!==h.exists?Ys.exists(h.exists):Ys.none():Ys.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(v,b){let P=null;"setToServerValue"in b?(Yn("REQUEST_TIME"===b.setToServerValue),P=new xu):"appendMissingElements"in b?P=new Ul(b.appendMissingElements.values||[]):"removeAllFromArray"in b?P=new $l(b.removeAllFromArray.values||[]):"increment"in b?P=new lc(v,b.increment):Un();const J=ds.fromServerFormat(b.fieldPath);return new Aa(J,P)}(i,h)):[];var h;if(e.update){const h=xa(i,e.update.name),v=new Ls({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new sa((e.updateMask.fieldPaths||[]).map(re=>ds.fromServerFormat(re)));return new Mu(h,v,b,n,l)}return new jl(h,v,n,l)}if(e.delete){const h=xa(i,e.delete);return new Yo(h,n)}if(e.verify){const h=xa(i,e.verify);return new tl(h,n)}return Un()}function xh(i,e){return{documents:[Ad(i,e.path)]}}function ou(i,e){const n={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(n.parent=Ad(i,l),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ad(i,l.popLast()),n.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(J){if(0===J.length)return;const re=J.map($e=>function(ct){if("=="===ct.op){if(vo(ct.value))return{unaryFilter:{field:Oa(ct.field),op:"IS_NAN"}};if(fs(ct.value))return{unaryFilter:{field:Oa(ct.field),op:"IS_NULL"}}}else if("!="===ct.op){if(vo(ct.value))return{unaryFilter:{field:Oa(ct.field),op:"IS_NOT_NAN"}};if(fs(ct.value))return{unaryFilter:{field:Oa(ct.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(ct.field),op:Ra(ct.op),value:ct.value}}}($e));return 1===re.length?re[0]:{compositeFilter:{op:"AND",filters:re}}}(e.filters);h&&(n.structuredQuery.where=h);const v=function(J){if(0!==J.length)return J.map(re=>{return{field:Oa(($e=re).field),direction:Dp($e.dir)};var $e})}(e.orderBy);v&&(n.structuredQuery.orderBy=v);const b=(re=e.limit,i.N||Ri(re)?re:{value:re});var re,P,J;return null!==b&&(n.structuredQuery.limit=b),e.startAt&&(n.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(n.structuredQuery.endAt={before:!(J=e.endAt).inclusive,values:J.position}),n}function Md(i){let e=xd(i.parent);const n=i.structuredQuery,l=n.from?n.from.length:0;let h=null;if(l>0){Yn(1===l);const $e=n.from[0];$e.allDescendants?h=$e.collectionId:e=e.child($e.collectionId)}let v=[];n.where&&(v=Yc(n.where));let b=[];n.orderBy&&(b=n.orderBy.map($e=>{return new Ks(au((ct=$e).field),function(Vt){switch(Vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ct.direction));var ct}));let P=null;n.limit&&(P=function($e){let ct;return ct="object"==typeof $e?$e.value:$e,Ri(ct)?null:ct}(n.limit));let J=null;var $e;n.startAt&&(J=new lo(($e=n.startAt).values||[],!!$e.before));let re=null;return n.endAt&&(re=function($e){return new lo($e.values||[],!$e.before)}(n.endAt)),yh(e,h,b,v,P,"F",J,re)}function Yc(i){return i?void 0!==i.unaryFilter?[Df(i)]:void 0!==i.fieldFilter?[qc(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Yc(e)).reduce((e,n)=>e.concat(n)):Un():[]}function Dp(i){return Dh[i]}function Ra(i){return Th[i]}function Oa(i){return{fieldPath:i.canonicalString()}}function au(i){return ds.fromServerFormat(i.fieldPath)}function qc(i){return zn.create(au(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Un()}}(i.fieldFilter.op),i.fieldFilter.value)}function Df(i){switch(i.unaryFilter.op){case"IS_NAN":const e=au(i.unaryFilter.field);return zn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=au(i.unaryFilter.field);return zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=au(i.unaryFilter.field);return zn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=au(i.unaryFilter.field);return zn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Un()}}function Tf(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mo(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function co(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=lu(e)),e=Rd(i.get(n),e);return lu(e)}function Rd(i,e){let n=e;const l=i.length;for(let h=0;h<l;h++){const v=i.charAt(h);switch(v){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=v}}return n}function lu(i){return i+"\x01\x01"}function xs(i){const e=i.length;if(Yn(e>=2),2===e)return Yn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Yr.emptyPath();const n=e-2,l=[];let h="";for(let v=0;v<e;){const b=i.indexOf("\x01",v);switch((b<0||b>n)&&Un(),i.charAt(b+1)){case"\x01":const P=i.substring(v,b);let J;0===h.length?J=P:(h+=P,J=h,h=""),l.push(J);break;case"\x10":h+=i.substring(v,b),h+="\0";break;case"\x11":h+=i.substring(v,b+1);break;default:Un()}v=b+2}return new Yr(l)}const El=["userId","batchId"];function Zc(i,e){return[i,co(e)]}function Xc(i,e,n){return[i,co(e),n]}const Qc={},Mh=["prefixPath","collectionGroup","readTime","documentId"],Od=["prefixPath","collectionGroup","documentId"],Tp=["collectionGroup","readTime","prefixPath","documentId"],cc=["canonicalId","targetId"],wl=["targetId","path"],I=["path","targetId"],g=["collectionId","parent"],y=["indexId","uid"],S=["uid","sequenceNumber"],K=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],me=["indexId","uid","orderedDocumentKey"],gt=["userId","collectionPath","documentId"],Ht=["userId","collectionPath","largestBatchId"],wn=["userId","collectionGroup","largestBatchId"],Rn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nr=[...Rn,"documentOverlays"],Qn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cs=[...Qn,"indexConfiguration","indexState","indexEntries"],qo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class jt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new jt((l,h)=>{this.nextCallback=v=>{this.wrapSuccess(e,v).next(l,h)},this.catchCallback=v=>{this.wrapFailure(n,v).next(l,h)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof jt?n:jt.resolve(n)}catch(n){return jt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):jt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):jt.reject(n)}static resolve(e){return new jt((n,l)=>{n(e)})}static reject(e){return new jt((n,l)=>{l(e)})}static waitFor(e){return new jt((n,l)=>{let h=0,v=0,b=!1;e.forEach(P=>{++h,P.next(()=>{++v,b&&v===h&&n()},J=>l(J))}),b=!0,v===h&&n()})}static or(e){let n=jt.resolve(!1);for(const l of e)n=n.next(h=>h?jt.resolve(h):l());return n}static forEach(e,n){const l=[];return e.forEach((h,v)=>{l.push(n.call(this,h,v))}),this.waitFor(l)}}class il{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new Ar,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new ho(e,n.error)):this.At.resolve()},this.transaction.onerror=l=>{const h=Pu(l.target.error);this.At.reject(new ho(e,h))}}static open(e,n,l,h){try{return new il(n,e.transaction(h,l))}catch(v){throw new ho(n,v)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(yn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Pd(n)}}class Zo{constructor(e,n,l){this.name=e,this.version=n,this.Pt=l,12.2===Zo.Vt((0,be.z$)())&&ws("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yn("SimpleDb","Removing database:",e),sl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,be.hl)())return!1;if(Zo.St())return!0;const e=(0,be.z$)(),n=Zo.Vt(e),l=0<n&&n<10,h=Zo.Dt(e),v=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||v)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),l=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(l)}Nt(e){var n=this;return(0,c.Z)(function*(){return n.db||(yn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((l,h)=>{const v=indexedDB.open(n.name,n.version);v.onsuccess=b=>{l(b.target.result)},v.onblocked=()=>{h(new ho(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=b=>{const P=b.target.error;h("VersionError"===P.name?new sn(xt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new sn(xt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new ho(e,P))},v.onupgradeneeded=b=>{yn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',b.oldVersion),n.Pt.kt(b.target.result,v.transaction,b.oldVersion,n.version).next(()=>{yn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=l=>n.Mt(l)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,l,h){var v=this;return(0,c.Z)(function*(){const b="readonly"===n;let P=0;for(;;){++P;try{v.db=yield v.Nt(e);const J=il.open(v.db,e,b?"readonly":"readwrite",l),re=h(J).next($e=>(J.bt(),$e)).catch($e=>(J.abort($e),jt.reject($e))).toPromise();return re.catch(()=>{}),yield J.Rt,re}catch(J){const re="FirebaseError"!==J.name&&P<3;if(yn("SimpleDb","Transaction failed with error:",J.message,"Retrying:",re),v.close(),!re)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Rh{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return sl(this.Ft.delete())}}class ho extends sn{constructor(e,n){super(xt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Pa(i){return"IndexedDbTransactionError"===i.name}class Pd{constructor(e){this.store=e}put(e,n){let l;return void 0!==n?(yn("SimpleDb","PUT",this.store.name,e,n),l=this.store.put(n,e)):(yn("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),sl(l)}add(e){return yn("SimpleDb","ADD",this.store.name,e,e),sl(this.store.add(e))}get(e){return sl(this.store.get(e)).next(n=>(void 0===n&&(n=null),yn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return yn("SimpleDb","DELETE",this.store.name,e),sl(this.store.delete(e))}count(){return yn("SimpleDb","COUNT",this.store.name),sl(this.store.count())}qt(e,n){const l=this.options(e,n);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),v=[];return this.Kt(h,(b,P)=>{v.push(P)}).next(()=>v)}{const h=this.store.getAll(l.range);return new jt((v,b)=>{h.onerror=P=>{b(P.target.error)},h.onsuccess=P=>{v(P.target.result)}})}}Gt(e,n){const l=this.store.getAll(e,null===n?void 0:n);return new jt((h,v)=>{l.onerror=b=>{v(b.target.error)},l.onsuccess=b=>{h(b.target.result)}})}Qt(e,n){yn("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,n);l.jt=!1;const h=this.cursor(l);return this.Kt(h,(v,b,P)=>P.delete())}Wt(e,n){let l;n?l=e:(l={},n=e);const h=this.cursor(l);return this.Kt(h,n)}zt(e){const n=this.cursor({});return new jt((l,h)=>{n.onerror=v=>{const b=Pu(v.target.error);h(b)},n.onsuccess=v=>{const b=v.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():l()}):l()}})}Kt(e,n){const l=[];return new jt((h,v)=>{e.onerror=b=>{v(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void h();const J=new Rh(P),re=n(P.primaryKey,P.value,J);if(re instanceof jt){const $e=re.catch(ct=>(J.done(),jt.reject(ct)));l.push($e)}J.isDone?h():null===J.Lt?P.continue():P.continue(J.Lt)}}).next(()=>jt.waitFor(l))}options(e,n){let l;return void 0!==e&&("string"==typeof e?l=e:n=e),{index:l,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const l=this.store.index(e.index);return e.jt?l.openKeyCursor(e.range,n):l.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function sl(i){return new jt((e,n)=>{i.onsuccess=l=>{e(l.target.result)},i.onerror=l=>{const h=Pu(l.target.error);n(h)}})}let hc=!1;function Pu(i){const e=Zo.Vt((0,be.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const l=new sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hc||(hc=!0,setTimeout(()=>{throw l},0)),l}}return i}class Il extends dc{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Ds(i,e){const n=An(i);return Zo.xt(n.Ht,e)}class Gl{constructor(e,n,l,h){this.batchId=e,this.localWriteTime=n,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,n){const l=n.mutationResults;for(let h=0;h<this.mutations.length;h++){const v=this.mutations[h];v.key.isEqual(e.key)&&qr(v,e,l[h])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&el(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&el(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const l=e.get(n.key),h=l;this.applyToLocalView(h),l.isValidDocument()||h.convertToNoDocument(bn.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xi())}isEqual(e){return this.batchId===e.batchId&&wr(this.mutations,e.mutations,(n,l)=>Uc(n,l))&&wr(this.baseMutations,e.baseMutations,(n,l)=>Uc(n,l))}}class Oh{constructor(e,n,l,h){this.batch=e,this.commitVersion=n,this.mutationResults=l,this.docVersions=h}static from(e,n,l){Yn(e.mutations.length===l.length);let h=bf;const v=e.mutations;for(let b=0;b<v.length;b++)h=h.insert(v[b].key,l[b].version);return new Oh(e,n,l,h)}}class Sf{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Na{constructor(e,n,l,h,v=bn.min(),b=bn.min(),P=hs.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Tg{constructor(e){this.Jt=e}}function Nd(i,e){const n=e.key,l={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Zs(h=i.Jt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Gc(h,v.version.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:n.path.toArray(),readTime:ka(e.version)};else{if(!e.isUnknownDocument())return Un();l.unknownDocument={path:n.path.toArray(),version:ka(e.version)}}var h,v;return l}function Nu(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ka(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zl(i){const e=new tr(i.seconds,i.nanoseconds);return bn.fromTimestamp(e)}function ol(i,e){const n=(e.baseMutations||[]).map(v=>Ma(i.Jt,v));for(let v=0;v<e.mutations.length-1;++v){const b=e.mutations[v];v+1<e.mutations.length&&void 0!==e.mutations[v+1].transform&&(b.updateTransforms=e.mutations[v+1].transform.fieldTransforms,e.mutations.splice(v+1,1),++v)}const l=e.mutations.map(v=>Ma(i.Jt,v)),h=tr.fromMillis(e.localWriteTimeMs);return new Gl(e.batchId,h,n,l)}function Jc(i){const e=zl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?zl(i.lastLimboFreeSnapshotVersion):bn.min();let l;var h;return void 0!==i.query.documents?(Yn(1===(h=i.query).documents.length),l=fa(Tu(xd(h.documents[0])))):l=fa(Md(i.query)),new Na(l,i.targetId,0,i.lastListenSequenceNumber,e,n,hs.fromBase64String(i.resumeToken))}function Ph(i,e){const n=ka(e.snapshotVersion),l=ka(e.lastLimboFreeSnapshotVersion);let h;h=bt(e.target)?xh(i.Jt,e.target):ou(i.Jt,e.target);const v=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:j(e.target),readTime:n,resumeToken:v,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function rs(i){const e=Md({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Bl(e,e.limit,"L"):e}function Fa(i,e){return new Sf(e.largestBatchId,Ma(i.Jt,e.overlayMutation))}function ed(i,e){const n=e.path.lastSegment();return[i,co(e.path.popLast()),n]}class Af{getBundleMetadata(e,n){return Nh(e).get(n).next(l=>{if(l)return{id:(h=l).bundleId,createTime:zl(h.createTime),version:h.version};var h})}saveBundleMetadata(e,n){return Nh(e).put({bundleId:(l=n).id,createTime:ka(uo(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return kh(e).get(n).next(l=>{if(l)return{name:(h=l).name,query:rs(h.bundledQuery),readTime:zl(h.readTime)};var h})}saveNamedQuery(e,n){return kh(e).put({name:(l=n).name,readTime:ka(uo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Nh(i){return Ds(i,"bundles")}function kh(i){return Ds(i,"namedQueries")}class bl{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new bl(e,n.uid||"")}getOverlay(e,n){return ku(e).get(ed(this.userId,n)).next(l=>l?Fa(this.M,l):null)}saveOverlays(e,n,l){const h=[];return l.forEach((v,b)=>{const P=new Sf(n,b);h.push(this.Xt(e,P))}),jt.waitFor(h)}removeOverlaysForBatchId(e,n,l){const h=new Set;n.forEach(b=>h.add(co(b.getCollectionPath())));const v=[];return h.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,l],[this.userId,b,l+1],!1,!0);v.push(ku(e).Qt("collectionPathOverlayIndex",P))}),jt.waitFor(v)}getOverlaysForCollection(e,n,l){const h=jc(),v=co(n),b=IDBKeyRange.bound([this.userId,v,l],[this.userId,v,Number.POSITIVE_INFINITY],!0);return ku(e).qt("collectionPathOverlayIndex",b).next(P=>{for(const J of P){const re=Fa(this.M,J);h.set(re.getKey(),re)}return h})}getOverlaysForCollectionGroup(e,n,l,h){const v=jc();let b;const P=IDBKeyRange.bound([this.userId,n,l],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ku(e).Wt({index:"collectionGroupOverlayIndex",range:P},(J,re,$e)=>{const ct=Fa(this.M,re);v.size()<h||ct.largestBatchId===b?(v.set(ct.getKey(),ct),b=ct.largestBatchId):$e.done()}).next(()=>v)}Xt(e,n){return ku(e).put(function(l,h,v){const[b,P,J]=ed(h,v.mutation.key);return{userId:h,collectionPath:P,documentId:J,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:as(l.Jt,v.mutation)}}(this.M,this.userId,n))}}function ku(i){return Ds(i,"documentOverlays")}class ya{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(yi(e.integerValue));else if("doubleValue"in e){const l=yi(e.doubleValue);isNaN(l)?this.ne(n,13):(this.ne(n,15),qa(l)?n.se(0):n.se(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ne(n,20),"string"==typeof l?n.ie(l):(n.ie(`${l.seconds||""}`),n.se(l.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(So(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const l=e.geoPointValue;this.ne(n,45),n.se(l.latitude||0),n.se(l.longitude||0)}else"mapValue"in e?ua(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):Un()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const l=e.fields||{};this.ne(n,55);for(const h of Object.keys(l))this.re(h,n),this.te(l[h],n)}he(e,n){const l=e.values||[];this.ne(n,50);for(const h of l)this.te(h,n)}ae(e,n){this.ne(n,37),xn.fromName(e).path.forEach(l=>{this.ne(n,60),this.le(l,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Fh(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function fc(i){const e=64-function(n){let l=0;for(let h=0;h<8;++h){const v=Fh(255&n[h]);if(l+=v,8!==v)break}return l}(i);return Math.ceil(e/8)}ya.fe=new ya;class xf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this._e(l.value),l=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this.ge(l.value),l=n.next();this.ye()}pe(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this._e(l);else if(l<2048)this._e(960|l>>>6),this._e(128|63&l);else if(n<"\ud800"||"\udbff"<n)this._e(480|l>>>12),this._e(128|63&l>>>6),this._e(128|63&l);else{const h=n.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this.ge(l);else if(l<2048)this.ge(960|l>>>6),this.ge(128|63&l);else if(n<"\ud800"||"\udbff"<n)this.ge(480|l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l);else{const h=n.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const n=this.Ee(e),l=fc(n);this.Ae(1+l),this.buffer[this.position++]=255&l;for(let h=n.length-l;h<n.length;++h)this.buffer[this.position++]=255&n[h]}Re(e){const n=this.Ee(e),l=fc(n);this.Ae(1+l),this.buffer[this.position++]=~(255&l);for(let h=n.length-l;h<n.length;++h)this.buffer[this.position++]=~(255&n[h])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(h){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,h,!1),new Uint8Array(v.buffer)}(e),l=0!=(128&n[0]);n[0]^=l?255:128;for(let h=1;h<n.length;++h)n[h]^=l?255:0;return n}_e(e){const n=255&e;0===n?(this.Pe(0),this.Pe(255)):255===n?(this.Pe(255),this.Pe(0)):this.Pe(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let l=2*this.buffer.length;l<n&&(l=n);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class pc{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class _m{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class kd{constructor(){this.De=new xf,this.Ce=new pc(this.De),this.xe=new _m(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class td{constructor(e,n,l,h){this.indexId=e,this.documentKey=n,this.arrayValue=l,this.directionalValue=h}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(n);return l.set(this.directionalValue,0),n!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new td(this.indexId,this.documentKey,this.arrayValue,l)}}function nd(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Sp(i.arrayValue,e.arrayValue),0!==n?n:(n=Sp(i.directionalValue,e.directionalValue),0!==n?n:xn.comparator(i.documentKey,e.documentKey)))}function Sp(i,e){for(let n=0;n<i.length&&n<e.length;++n){const l=i[n]-e[n];if(0!==l)return l}return i.length-e.length}class Ap{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const l=n;l.S()?this.Fe=l:this.Oe.push(l)}}$e(e){const n=Nc(e);if(void 0!==n&&!this.Be(n))return!1;const l=Sa(e);let h=0,v=0;for(;h<l.length&&this.Be(l[h]);++h);if(h===l.length)return!0;if(void 0!==this.Fe){const b=l[h];if(!this.Le(this.Fe,b)||!this.Ue(this.Me[v++],b))return!1;++h}for(;h<l.length;++h){const b=l[h];if(v>=this.Me.length||!this.Ue(this.Me[v++],b))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Sg{constructor(){this.qe=new xp}addToCollectionParentIndex(e,n){return this.qe.add(n),jt.resolve()}getCollectionParents(e,n){return jt.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return jt.resolve()}deleteFieldIndex(e,n){return jt.resolve()}getDocumentsMatchingTarget(e,n){return jt.resolve(null)}getIndexType(e,n){return jt.resolve(0)}getFieldIndexes(e,n){return jt.resolve([])}getNextCollectionGroupToUpdate(e){return jt.resolve(null)}getMinOffset(e,n){return jt.resolve(Bs.min())}updateCollectionGroup(e,n,l){return jt.resolve()}updateIndexEntries(e,n){return jt.resolve()}}class xp{constructor(){this.index={}}add(e){const n=e.lastSegment(),l=e.popLast(),h=this.index[n]||new li(Yr.comparator),v=!h.has(l);return this.index[n]=h.add(l),v}has(e){const n=e.lastSegment(),l=e.popLast(),h=this.index[n];return h&&h.has(l)}getEntries(e){return(this.index[e]||new li(Yr.comparator)).toArray()}}const Fd=new Uint8Array(0);class Em{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new xp,this.Ge=new ga(l=>j(l),(l,h)=>Ve(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const l=n.lastSegment(),h=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const v={collectionId:l,parent:co(h)};return Mp(e).put(v)}return jt.resolve()}getCollectionParents(e,n){const l=[],h=IDBKeyRange.bound([n,""],[Gn(n),""],!1,!0);return Mp(e).qt(h).next(v=>{for(const b of v){if(b.collectionId!==n)break;l.push(xs(b.parent))}return l})}addFieldIndex(e,n){const l=Mf(e),h={indexId:(v=n).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var v;return delete h.indexId,l.add(h).next()}deleteFieldIndex(e,n){const l=Mf(e),h=La(e),v=Lh(e);return l.delete(n.indexId).next(()=>h.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const l=Lh(e);let h=!0;const v=new Map;return jt.forEach(this.Qe(n),b=>this.je(e,b).next(P=>{h&&(h=!!P),v.set(b,P)})).next(()=>{if(h){let b=xi();const P=[];return jt.forEach(v,(J,re)=>{var $e;yn("IndexedDbIndexManager",`Using index ${$e=J,`id=${$e.indexId}|cg=${$e.collectionGroup}|f=${$e.fields.map(io=>`${io.fieldPath}:${io.kind}`).join(",")}`} to execute ${j(n)}`);const ct=function(io,$a){const Po=Nc($a);if(void 0===Po)return null;for(const po of Mt(io,Po.fieldPath))switch(po.op){case"array-contains-any":return po.value.arrayValue.values||[];case"array-contains":return[po.value]}return null}(re,J),Vt=function(io,$a){const Po=new Map;for(const po of Sa($a))for(const cl of Mt(io,po.fieldPath))switch(cl.op){case"==":case"in":Po.set(po.fieldPath.canonicalString(),cl.value);break;case"not-in":case"!=":return Po.set(po.fieldPath.canonicalString(),cl.value),Array.from(Po.values())}return null}(re,J),an=function(io,$a){const Po=[];let po=!0;for(const cl of Sa($a)){const wp=0===cl.kind?dn(io,cl.fieldPath,io.startAt):Tn(io,cl.fieldPath,io.startAt);Po.push(wp.value),po&&(po=wp.inclusive)}return new lo(Po,po)}(re,J),cn=function(io,$a){const Po=[];let po=!0;for(const cl of Sa($a)){const wp=0===cl.kind?Tn(io,cl.fieldPath,io.endAt):dn(io,cl.fieldPath,io.endAt);Po.push(wp.value),po&&(po=wp.inclusive)}return new lo(Po,po)}(re,J),Kn=this.We(J,re,an),$r=this.We(J,re,cn),ro=this.ze(J,re,Vt),Oo=this.He(J.indexId,ct,Kn,an.inclusive,$r,cn.inclusive,ro);return jt.forEach(Oo,io=>l.Gt(io,n.limit).next($a=>{$a.forEach(Po=>{const po=xn.fromSegments(Po.documentKey);b.has(po)||(b=b.add(po),P.push(po))})}))}).next(()=>P)}return jt.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}He(e,n,l,h,v,b,P){const J=(null!=n?n.length:1)*Math.max(l.length,v.length),re=J/(null!=n?n.length:1),$e=[];for(let ct=0;ct<J;++ct){const Vt=n?this.Je(n[ct/re]):Fd,an=this.Ye(e,Vt,l[ct%re],h),cn=this.Xe(e,Vt,v[ct%re],b),Kn=P.map($r=>this.Ye(e,Vt,$r,!0));$e.push(...this.createRange(an,cn,Kn))}return $e}Ye(e,n,l,h){const v=new td(e,xn.empty(),n,l);return h?v:v.ke()}Xe(e,n,l,h){const v=new td(e,xn.empty(),n,l);return h?v.ke():v}je(e,n){const l=new Ap(n),h=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,h).next(v=>{let b=null;for(const P of v)l.$e(P)&&(!b||P.fields.length>b.fields.length)&&(b=P);return b})}getIndexType(e,n){let l=2;return jt.forEach(this.Qe(n),h=>this.je(e,h).next(v=>{v?0!==l&&v.fields.length<function(b){let P=new li(ds.comparator),J=!1;for(const re of b.filters){const $e=re;$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?J=!0:P=P.add($e.field))}for(const re of b.orderBy)re.field.isKeyField()||(P=P.add(re.field));return P.size+(J?1:0)}(h)&&(l=1):l=0})).next(()=>l)}Ze(e,n){const l=new kd;for(const h of Sa(e)){const v=n.data.field(h.fieldPath);if(null==v)return null;const b=l.Ne(h.kind);ya.fe.Zt(v,b)}return l.Se()}Je(e){const n=new kd;return ya.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const l=new kd;return ya.fe.Zt(bu(this.databaseId,n),l.Ne(function(h){const v=Sa(h);return 0===v.length?0:v[v.length-1].kind}(e))),l.Se()}ze(e,n,l){if(null===l)return[];let h=[];h.push(new kd);let v=0;for(const b of Sa(e)){const P=l[v++];for(const J of h)if(this.en(n,b.fieldPath)&&oo(P))h=this.nn(h,b,P);else{const re=J.Ne(b.kind);ya.fe.Zt(P,re)}}return this.sn(h)}We(e,n,l){return this.ze(e,n,l.position)}sn(e){const n=[];for(let l=0;l<e.length;++l)n[l]=e[l].Se();return n}nn(e,n,l){const h=[...e],v=[];for(const b of l.arrayValue.values||[])for(const P of h){const J=new kd;J.seed(P.Se()),ya.fe.Zt(b,J.Ne(n.kind)),v.push(J)}return v}en(e,n){return!!e.filters.find(l=>l instanceof zn&&l.field.isEqual(n)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,n){const l=Mf(e),h=La(e);return(n?l.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):l.qt()).next(v=>{const b=[];return jt.forEach(v,P=>h.get([P.indexId,this.uid]).next(J=>{b.push(function(re,$e){const ct=$e?new ca($e.sequenceNumber,new Bs(zl($e.readTime),new xn(xs($e.documentKey)),$e.largestBatchId)):ca.empty(),Vt=re.fields.map(([an,cn])=>new Ao(ds.fromServerFormat(an),cn));return new Qa(re.indexId,re.collectionGroup,Vt,ct)}(P,J))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((l,h)=>{const v=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==v?v:tn(l.collectionGroup,h.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,l){const h=Mf(e),v=La(e);return this.rn(e).next(b=>h.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>jt.forEach(P,J=>{return v.put({indexId:J.indexId,uid:this.user.uid||"",sequenceNumber:b,readTime:ka((Vt=l).readTime),documentKey:co(Vt.documentKey.path),largestBatchId:Vt.largestBatchId});var Vt})))}updateIndexEntries(e,n){const l=new Map;return jt.forEach(n,(h,v)=>{const b=l.get(h.collectionGroup);return(b?jt.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(l.set(h.collectionGroup,P),jt.forEach(P,J=>this.on(e,h,J).next(re=>{const $e=this.un(v,J);return re.isEqual($e)?jt.resolve():this.an(e,v,J,re,$e)}))))})}cn(e,n,l,h){return Lh(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(l,n.key),documentKey:n.key.path.toArray()})}hn(e,n,l,h){return Lh(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(l,n.key),n.key.path.toArray()])}on(e,n,l){const h=Lh(e);let v=new li(nd);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.tn(l,n)])},(b,P)=>{v=v.add(new td(l.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>v)}un(e,n){let l=new li(nd);const h=this.Ze(n,e);if(null==h)return l;const v=Nc(n);if(null!=v){const b=e.data.field(v.fieldPath);if(oo(b))for(const P of b.arrayValue.values||[])l=l.add(new td(n.indexId,e.key,this.Je(P),h))}else l=l.add(new td(n.indexId,e.key,Fd,h));return l}an(e,n,l,h,v){yn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const b=[];return function(P,J,re,$e,ct){const Vt=P.getIterator(),an=J.getIterator();let cn=Ko(Vt),Kn=Ko(an);for(;cn||Kn;){let $r=!1,ro=!1;if(cn&&Kn){const Oo=re(cn,Kn);Oo<0?ro=!0:Oo>0&&($r=!0)}else null!=cn?ro=!0:$r=!0;$r?($e(Kn),Kn=Ko(an)):ro?(ct(cn),cn=Ko(Vt)):(cn=Ko(Vt),Kn=Ko(an))}}(h,v,nd,P=>{b.push(this.cn(e,n,l,P))},P=>{b.push(this.hn(e,n,l,P))}),jt.waitFor(b)}rn(e){let n=1;return La(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,v)=>{v.done(),n=h.sequenceNumber+1}).next(()=>n)}createRange(e,n,l){l=l.sort((b,P)=>nd(b,P)).filter((b,P,J)=>!P||0!==nd(b,J[P-1]));const h=[];h.push(e);for(const b of l){const P=nd(b,e),J=nd(b,n);if(0===P)h[0]=e.ke();else if(P>0&&J<0)h.push(b),h.push(b.ke());else if(J>0)break}h.push(n);const v=[];for(let b=0;b<h.length;b+=2)v.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,Fd,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,Fd,[]]));return v}getMinOffset(e,n){let l;return jt.forEach(this.Qe(n),h=>this.je(e,h).next(v=>{v?(!l||Du(v.indexState.offset,l)<0)&&(l=v.indexState.offset):l=Bs.min()})).next(()=>l)}}function Mp(i){return Ds(i,"collectionParents")}function Lh(i){return Ds(i,"indexEntries")}function Mf(i){return Ds(i,"indexConfiguration")}function La(i){return Ds(i,"indexState")}const Ag={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ro{constructor(e,n,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rf(i,e,n){const l=i.store("mutations"),h=i.store("documentMutations"),v=[],b=IDBKeyRange.only(n.batchId);let P=0;const J=l.Wt({range:b},($e,ct,Vt)=>(P++,Vt.delete()));v.push(J.next(()=>{Yn(1===P)}));const re=[];for(const $e of n.mutations){const ct=Xc(e,$e.key.path,n.batchId);v.push(h.delete(ct)),re.push($e.key)}return jt.waitFor(v).next(()=>re)}function Bh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Un();e=i.noDocument}return JSON.stringify(e).length}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class Ld{constructor(e,n,l,h){this.userId=e,this.M=n,this.indexManager=l,this.referenceDelegate=h,this.ln={}}static Yt(e,n,l,h){Yn(""!==e.uid);const v=e.isAuthenticated()?e.uid:"";return new Ld(v,n,l,h)}checkEmpty(e){let n=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wl(e).Wt({index:"userMutationsIndex",range:l},(h,v,b)=>{n=!1,b.done()}).next(()=>n)}addMutationBatch(e,n,l,h){const v=rd(e),b=Wl(e);return b.add({}).next(P=>{Yn("number"==typeof P);const J=new Gl(P,n,l,h),re=function(Vt,an,cn){const Kn=cn.baseMutations.map(ro=>as(Vt.Jt,ro)),$r=cn.mutations.map(ro=>as(Vt.Jt,ro));return{userId:an,batchId:cn.batchId,localWriteTimeMs:cn.localWriteTime.toMillis(),baseMutations:Kn,mutations:$r}}(this.M,this.userId,J),$e=[];let ct=new li((Vt,an)=>tn(Vt.canonicalString(),an.canonicalString()));for(const Vt of h){const an=Xc(this.userId,Vt.key.path,P);ct=ct.add(Vt.key.path.popLast()),$e.push(b.put(re)),$e.push(v.put(an,Qc))}return ct.forEach(Vt=>{$e.push(this.indexManager.addToCollectionParentIndex(e,Vt))}),e.addOnCommittedListener(()=>{this.ln[P]=J.keys()}),jt.waitFor($e).next(()=>J)})}lookupMutationBatch(e,n){return Wl(e).get(n).next(l=>l?(Yn(l.userId===this.userId),ol(this.M,l)):null)}fn(e,n){return this.ln[n]?jt.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(l=>{if(l){const h=l.keys();return this.ln[n]=h,h}return null})}getNextMutationBatchAfterBatchId(e,n){const l=n+1,h=IDBKeyRange.lowerBound([this.userId,l]);let v=null;return Wl(e).Wt({index:"userMutationsIndex",range:h},(b,P,J)=>{P.userId===this.userId&&(Yn(P.batchId>=l),v=ol(this.M,P)),J.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Wl(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(h,v,b)=>{l=v.batchId,b.done()}).next(()=>l)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wl(e).qt("userMutationsIndex",n).next(l=>l.map(h=>ol(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,n){const l=Zc(this.userId,n.path),h=IDBKeyRange.lowerBound(l),v=[];return rd(e).Wt({range:h},(b,P,J)=>{const[re,$e,ct]=b,Vt=xs($e);if(re===this.userId&&n.path.isEqual(Vt))return Wl(e).get(ct).next(an=>{if(!an)throw Un();Yn(an.userId===this.userId),v.push(ol(this.M,an))});J.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new li(tn);const h=[];return n.forEach(v=>{const b=Zc(this.userId,v.path),P=IDBKeyRange.lowerBound(b),J=rd(e).Wt({range:P},(re,$e,ct)=>{const[Vt,an,cn]=re,Kn=xs(an);Vt===this.userId&&v.path.isEqual(Kn)?l=l.add(cn):ct.done()});h.push(J)}),jt.waitFor(h).next(()=>this.dn(e,l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,h=l.length+1,v=Zc(this.userId,l),b=IDBKeyRange.lowerBound(v);let P=new li(tn);return rd(e).Wt({range:b},(J,re,$e)=>{const[ct,Vt,an]=J,cn=xs(Vt);ct===this.userId&&l.isPrefixOf(cn)?cn.length===h&&(P=P.add(an)):$e.done()}).next(()=>this.dn(e,P))}dn(e,n){const l=[],h=[];return n.forEach(v=>{h.push(Wl(e).get(v).next(b=>{if(null===b)throw Un();Yn(b.userId===this.userId),l.push(ol(this.M,b))}))}),jt.waitFor(h).next(()=>l)}removeMutationBatch(e,n){return Rf(e.Ht,this.userId,n).next(l=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),jt.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return jt.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return rd(e).Wt({range:l},(v,b,P)=>{if(v[0]===this.userId){const J=xs(v[1]);h.push(J)}else P.done()}).next(()=>{Yn(0===h.length)})})}containsKey(e,n){return xg(e,this.userId,n)}wn(e){return Rp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xg(i,e,n){const l=Zc(e,n.path),h=l[1],v=IDBKeyRange.lowerBound(l);let b=!1;return rd(i).Wt({range:v,jt:!0},(P,J,re)=>{const[$e,ct,Vt]=P;$e===e&&ct===h&&(b=!0),re.done()}).next(()=>b)}function Wl(i){return Ds(i,"mutations")}function rd(i){return Ds(i,"documentMutations")}function Rp(i){return Ds(i,"mutationQueues")}class id{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new id(0)}static yn(){return new id(-1)}}class Ur{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const l=new id(n.highestTargetId);return n.highestTargetId=l.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>bn.fromTimestamp(new tr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,l){return this.pn(e).next(h=>(h.highestListenSequenceNumber=n,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),n>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=n),this.In(e,h)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(l=>(l.targetCount+=1,this.En(n,l),this.In(e,l))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>gc(e).delete(n.targetId)).next(()=>this.pn(e)).next(l=>(Yn(l.targetCount>0),l.targetCount-=1,this.In(e,l)))}removeTargets(e,n,l){let h=0;const v=[];return gc(e).Wt((b,P)=>{const J=Jc(P);J.sequenceNumber<=n&&null===l.get(J.targetId)&&(h++,v.push(this.removeTargetData(e,J)))}).next(()=>jt.waitFor(v)).next(()=>h)}forEachTarget(e,n){return gc(e).Wt((l,h)=>{const v=Jc(h);n(v)})}pn(e){return Vh(e).get("targetGlobalKey").next(n=>(Yn(null!==n),n))}In(e,n){return Vh(e).put("targetGlobalKey",n)}Tn(e,n){return gc(e).put(Ph(this.M,n))}En(e,n){let l=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,l=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const l=j(n),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let v=null;return gc(e).Wt({range:h,index:"queryTargetsIndex"},(b,P,J)=>{const re=Jc(P);Ve(n,re.target)&&(v=re,J.done())}).next(()=>v)}addMatchingKeys(e,n,l){const h=[],v=Fu(e);return n.forEach(b=>{const P=co(b.path);h.push(v.put({targetId:l,path:P})),h.push(this.referenceDelegate.addReference(e,l,b))}),jt.waitFor(h)}removeMatchingKeys(e,n,l){const h=Fu(e);return jt.forEach(n,v=>{const b=co(v.path);return jt.waitFor([h.delete([l,b]),this.referenceDelegate.removeReference(e,l,v)])})}removeMatchingKeysForTargetId(e,n){const l=Fu(e),h=IDBKeyRange.bound([n],[n+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,n){const l=IDBKeyRange.bound([n],[n+1],!1,!0),h=Fu(e);let v=xi();return h.Wt({range:l,jt:!0},(b,P,J)=>{const re=xs(b[1]),$e=new xn(re);v=v.add($e)}).next(()=>v)}containsKey(e,n){const l=co(n.path),h=IDBKeyRange.bound([l],[Gn(l)],!1,!0);let v=0;return Fu(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([b,P],J,re)=>{0!==b&&(v++,re.done())}).next(()=>v>0)}Et(e,n){return gc(e).get(n).next(l=>l?Jc(l):null)}}function gc(i){return Ds(i,"targets")}function Vh(i){return Ds(i,"targetGlobal")}function Fu(i){return Ds(i,"targetDocuments")}function uu(i){return al.apply(this,arguments)}function al(){return al=(0,c.Z)(function*(i){if(i.code!==xt.FAILED_PRECONDITION||i.message!==qo)throw i;yn("LocalStore","Unexpectedly lost primary lease")}),al.apply(this,arguments)}function Op([i,e],[n,l]){const h=tn(i,n);return 0===h?tn(e,l):h}class Mg{constructor(e){this.An=e,this.buffer=new li(Op),this.Rn=0}bn(){return++this.Rn}Pn(e){const n=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const l=this.buffer.last();Op(n,l)<0&&(this.buffer=this.buffer.delete(l).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bd{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const l=this.Vn?3e5:6e4;yn("LruGarbageCollector",`Garbage collection scheduled in ${l}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",l,(0,c.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(h){Pa(h)?yn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield uu(h)}yield n.Sn(e)}))}}class Kl{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(l=>Math.floor(n/100*l))}nthSequenceNumber(e,n){if(0===n)return jt.resolve(Pe.A);const l=new Mg(n);return this.Dn.forEachTarget(e,h=>l.Pn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>l.Pn(h))).next(()=>l.maxValue)}removeTargets(e,n,l){return this.Dn.removeTargets(e,n,l)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(Ag)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ag):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let l,h,v,b,P,J,re;const $e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ct=>(ct>this.params.maximumSequenceNumbersToCollect?(yn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ct}`),h=this.params.maximumSequenceNumbersToCollect):h=ct,b=Date.now(),this.nthSequenceNumber(e,h))).next(ct=>(l=ct,P=Date.now(),this.removeTargets(e,l,n))).next(ct=>(v=ct,J=Date.now(),this.removeOrphanedDocuments(e,l))).next(ct=>(re=Date.now(),tu()<=Ne.in.DEBUG&&yn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-$e}ms\n\tDetermined least recently used ${h} in `+(P-b)+`ms\n\tRemoved ${v} targets in `+(J-P)+`ms\n\tRemoved ${ct} documents in `+(re-J)+`ms\nTotal Duration: ${re-$e}ms`),jt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:v,documentsRemoved:ct})))}}class Of{constructor(e,n){this.db=e,this.garbageCollector=new Kl(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>n.next(h=>l+h))}kn(e){let n=0;return this.xn(e,l=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(l,h)=>n(h))}addReference(e,n,l){return Uh(e,l)}removeReference(e,n,l){return Uh(e,l)}removeTargets(e,n,l){return this.db.getTargetCache().removeTargets(e,n,l)}markPotentiallyOrphaned(e,n){return Uh(e,n)}On(e,n){return function(l,h){let v=!1;return Rp(l).zt(b=>xg(l,b,h).next(P=>(P&&(v=!0),jt.resolve(!P)))).next(()=>v)}(e,n)}removeOrphanedDocuments(e,n){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let v=0;return this.Mn(e,(b,P)=>{if(P<=n){const J=this.On(e,b).next(re=>{if(!re)return v++,l.getEntry(e,b).next(()=>(l.removeEntry(b,bn.min()),Fu(e).delete([0,co(b.path)])))});h.push(J)}}).next(()=>jt.waitFor(h)).next(()=>l.apply(e)).next(()=>v)}removeTarget(e,n){const l=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,n){return Uh(e,n)}Mn(e,n){const l=Fu(e);let h,v=Pe.A;return l.Wt({index:"documentTargetsIndex"},([b,P],{path:J,sequenceNumber:re})=>{0===b?(v!==Pe.A&&n(new xn(xs(h)),v),v=re,h=J):v=Pe.A}).next(()=>{v!==Pe.A&&n(new xn(xs(h)),v)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uh(i,e){return Fu(i).put((l=i.currentSequenceNumber,{targetId:0,path:co(e.path),sequenceNumber:l}));var l}class $h{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const l=this.changes.get(n);return void 0!==l?jt.resolve(l):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,l){return cu(e).put(l)}removeEntry(e,n,l){return cu(e).delete(function(h,v){const b=h.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Nu(v),b[b.length-1]]}(n,l))}updateMetadata(e,n){return this.getMetadata(e).next(l=>(l.byteSize+=n,this.Fn(e,l)))}getEntry(e,n){let l=Oi.newInvalidDocument(n);return cu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mc(n))},(h,v)=>{l=this.$n(n,v)}).next(()=>l)}Bn(e,n){let l={size:0,document:Oi.newInvalidDocument(n)};return cu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mc(n))},(h,v)=>{l={document:this.$n(n,v),size:Bh(v)}}).next(()=>l)}getEntries(e,n){let l=qs();return this.Ln(e,n,(h,v)=>{const b=this.$n(h,v);l=l.insert(h,b)}).next(()=>l)}Un(e,n){let l=qs(),h=new ii(xn.comparator);return this.Ln(e,n,(v,b)=>{const P=this.$n(v,b);l=l.insert(v,P),h=h.insert(v,Bh(b))}).next(()=>({documents:l,qn:h}))}Ln(e,n,l){if(n.isEmpty())return jt.resolve();let h=new li(Nf);n.forEach(J=>h=h.add(J));const v=IDBKeyRange.bound(mc(h.first()),mc(h.last())),b=h.getIterator();let P=b.getNext();return cu(e).Wt({index:"documentKeyIndex",range:v},(J,re,$e)=>{const ct=xn.fromSegments([...re.prefixPath,re.collectionGroup,re.documentId]);for(;P&&Nf(P,ct)<0;)l(P,null),P=b.getNext();P&&P.isEqual(ct)&&(l(P,re),P=b.hasNext()?b.getNext():null),P?$e.Ut(mc(P)):$e.done()}).next(()=>{for(;P;)l(P,null),P=b.hasNext()?b.getNext():null})}getAllFromCollection(e,n,l){const h=[n.popLast().toArray(),n.lastSegment(),Nu(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],v=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cu(e).qt(IDBKeyRange.bound(h,v,!0)).next(b=>{let P=qs();for(const J of b){const re=this.$n(xn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);P=P.insert(re.key,re)}return P})}getAllFromCollectionGroup(e,n,l,h){let v=qs();const b=Pf(n,l),P=Pf(n,Bs.max());return cu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(J,re,$e)=>{const ct=this.$n(xn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);v=v.insert(ct.key,ct),v.size===h&&$e.done()}).next(()=>v)}newChangeBuffer(e){return new Og(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wm(e).get("remoteDocumentGlobalKey").next(n=>(Yn(!!n),n))}Fn(e,n){return wm(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const l=function vm(i,e){let n;if(e.document)n=Wc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=xn.fromSegments(e.noDocument.path),h=zl(e.noDocument.readTime);n=Oi.newNoDocument(l,h),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Un();{const l=xn.fromSegments(e.unknownDocument.path),h=zl(e.unknownDocument.version);n=Oi.newUnknownDocument(l,h)}}return e.readTime&&n.setReadTime(function(l){const h=new tr(l[0],l[1]);return bn.fromTimestamp(h)}(e.readTime)),n}(this.M,n);if(!l.isNoDocument()||!l.version.isEqual(bn.min()))return l}return Oi.newInvalidDocument(e)}}class Og extends $h{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new ga(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const n=[];let l=0,h=new li((v,b)=>tn(v.canonicalString(),b.canonicalString()));return this.changes.forEach((v,b)=>{const P=this.Gn.get(v);if(n.push(this.Kn.removeEntry(e,v,P.readTime)),b.isValidDocument()){const J=Nd(this.Kn.M,b);h=h.add(v.path.popLast()),l+=Bh(J)-P.size,n.push(this.Kn.addEntry(e,v,J))}else if(l-=P.size,this.trackRemovals){const J=Nd(this.Kn.M,b.convertToNoDocument(bn.min()));n.push(this.Kn.addEntry(e,v,J))}}),h.forEach(v=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,v))}),n.push(this.Kn.updateMetadata(e,l)),jt.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(l=>(this.Gn.set(n,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:l,qn:h})=>(h.forEach((v,b)=>{this.Gn.set(v,{size:b,readTime:l.get(v).readTime})}),l))}}function wm(i){return Ds(i,"remoteDocumentGlobal")}function cu(i){return Ds(i,"remoteDocumentsV14")}function mc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Pf(i,e){const n=e.documentKey.path.toArray();return[i,Nu(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Nf(i,e){const n=i.path.toArray(),l=e.path.toArray();let h=0;for(let v=0;v<n.length-2&&v<l.length-2;++v)if(h=tn(n[v],l[v]),h)return h;return h=tn(n.length,l.length),h||(h=tn(n[n.length-2],l[l.length-2]),h||tn(n[n.length-1],l[l.length-1]))}class Pp{constructor(e){this.M=e}kt(e,n,l,h){const v=new il("createOrUpgrade",n);var P;l<1&&h>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",El,{unique:!0}),P.createObjectStore("documentMutations"),Pg(e),function(P){P.createObjectStore("remoteDocuments")}(e));let b=jt.resolve();return l<3&&h>=3&&(0!==l&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),Pg(e)),b=b.next(()=>function(P){const J=P.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",re)}(v))),l<4&&h>=4&&(0!==l&&(b=b.next(()=>function(P,J){return J.store("mutations").qt().next(re=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",El,{unique:!0});const $e=J.store("mutations"),ct=re.map(Vt=>$e.put(Vt));return jt.waitFor(ct)})}(e,v))),b=b.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(b=b.next(()=>this.Qn(v))),l<6&&h>=6&&(b=b.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.jn(v)))),l<7&&h>=7&&(b=b.next(()=>this.Wn(v))),l<8&&h>=8&&(b=b.next(()=>this.zn(e,v))),l<9&&h>=9&&(b=b.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(b=b.next(()=>this.Hn(v))),l<11&&h>=11&&(b=b.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(b=b.next(()=>{!function(P){const J=P.createObjectStore("documentOverlays",{keyPath:gt});J.createIndex("collectionPathOverlayIndex",Ht,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",wn,{unique:!1})}(e)})),l<13&&h>=13&&(b=b.next(()=>function(P){const J=P.createObjectStore("remoteDocumentsV14",{keyPath:Mh});J.createIndex("documentKeyIndex",Od),J.createIndex("collectionGroupIndex",Tp)}(e)).next(()=>this.Jn(e,v)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(b=b.next(()=>{!function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:y}).createIndex("sequenceNumberIndex",S,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:K}).createIndex("documentKeyIndex",me,{unique:!1})}(e)})),b}jn(e){let n=0;return e.store("remoteDocuments").Wt((l,h)=>{n+=Bh(h)}).next(()=>{const l={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Qn(e){const n=e.store("mutationQueues"),l=e.store("mutations");return n.qt().next(h=>jt.forEach(h,v=>{const b=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return l.qt("userMutationsIndex",b).next(P=>jt.forEach(P,J=>{Yn(J.userId===v.userId);const re=ol(this.M,J);return Rf(e,v.userId,re).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const v=[];return l.Wt((b,P)=>{const J=new Yr(b),re=[0,co(J)];v.push(n.get(re).next($e=>$e?jt.resolve():n.put({targetId:0,path:co(J),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>jt.waitFor(v))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:g});const l=n.store("collectionParents"),h=new xp,v=b=>{if(h.add(b)){const P=b.lastSegment(),J=b.popLast();return l.put({collectionId:P,parent:co(J)})}};return n.store("remoteDocuments").Wt({jt:!0},(b,P)=>{const J=new Yr(b);return v(J.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([b,P,J],re)=>{const $e=xs(P);return v($e.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((l,h)=>{const v=Jc(h),b=Ph(this.M,v);return n.put(b)})}Jn(e,n){const l=n.store("remoteDocuments"),h=[];return l.Wt((v,b)=>{const P=n.store("remoteDocumentsV14"),J=(re=b,re.document?new xn(Yr.fromString(re.document.name).popFirst(5)):re.noDocument?xn.fromSegments(re.noDocument.path):re.unknownDocument?xn.fromSegments(re.unknownDocument.path):Un()).path.toArray();var re;const $e={prefixPath:J.slice(0,J.length-2),collectionGroup:J[J.length-2],documentId:J[J.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};h.push(P.put($e))}).next(()=>jt.waitFor(h))}}function Pg(i){i.createObjectStore("targetDocuments",{keyPath:wl}).createIndex("documentTargetsIndex",I,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cc,{unique:!0}),i.createObjectStore("targetGlobal")}const Np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kf{constructor(e,n,l,h,v,b,P,J,re,$e,ct=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=l,this.Yn=v,this.window=b,this.document=P,this.Xn=re,this.Zn=$e,this.ts=ct,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Vt=>Promise.resolve(),!kf.vt())throw new sn(xt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Of(this,h),this.hs=n+"main",this.M=new Tg(J),this.ls=new Zo(this.hs,this.ts,new Pp(this.M)),this.fs=new Ur(this.referenceDelegate,this.M),this.ds=new Rg(this.M),this._s=new Af,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===$e&&ws("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sn(xt.FAILED_PRECONDITION,Np);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Pe(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var l=(0,c.Z)(function*(h){if(n.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,c.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.bs(e).next(()=>!0))).catch(e=>{if(Pa(e))return yn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Vd(e).get("owner").next(n=>jt.resolve(this.Ps(n)))}Vs(e){return Ff(e).delete(this.clientId)}vs(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=Ds(l,"clientMetadata");return h.qt().next(v=>{const b=e.Ds(v,18e5),P=v.filter(J=>-1===b.indexOf(J));return jt.forEach(P,J=>h.delete(J.clientId)).next(()=>P)})}).catch(()=>[]);if(e.ws)for(const l of n)e.ws.removeItem(e.Cs(l.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?jt.resolve(!0):Vd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.Ps(n)&&this.networkEnabled)return!0;if(!this.Ps(n)){if(!n.allowTabSynchronization)throw new sn(xt.FAILED_PRECONDITION,Np);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ff(e).qt().next(l=>void 0===this.Ds(l,5e3).find(h=>{if(this.clientId!==h.clientId){const b=!this.inForeground&&h.inForeground,P=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||b&&P)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&yn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const l=new Il(n,Pe.A);return e.Rs(l).next(()=>e.Vs(l))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(l=>this.Ss(l.updateTimeMs,n)&&!this.xs(l.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Ff(e).qt().next(n=>this.Ds(n,18e5).map(l=>l.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return Ld.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Em(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return bl.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,l){yn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===n?"readonly":"readwrite",v=14===(b=this.ts)?Cs:13===b?Qn:12===b?nr:11===b?Rn:void Un();var b;let P;return this.ls.runTransaction(e,h,v,J=>(P=new Il(J,this.es?this.es.next():Pe.A),"readwrite-primary"===n?this.Es(P).next(re=>!!re||this.As(P)).next(re=>{if(!re)throw ws(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new sn(xt.FAILED_PRECONDITION,qo);return l(P)}).next(re=>this.bs(P).next(()=>re)):this.$s(P).next(()=>l(P)))).then(J=>(P.raiseOnCommittedEvent(),J))}$s(e){return Vd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.Ps(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new sn(xt.FAILED_PRECONDITION,Np)})}bs(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vd(e).put("owner",n)}static vt(){return Zo.vt()}Rs(e){const n=Vd(e);return n.get("owner").next(l=>this.Ps(l)?(yn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):jt.resolve())}Ss(e,n){const l=Date.now();return!(e<l-n||e>l&&(ws(`Detected an update time that is in the future: ${e} > ${l}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,be.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const l=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return yn("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return ws("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ws("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vd(i){return Ds(i,"owner")}function Ff(i){return Ds(i,"clientMetadata")}function jh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class kp{constructor(e,n,l){this.ds=e,this.Bs=n,this.indexManager=l}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(l=>this.Us(e,n,l))}Us(e,n,l){return this.ds.getEntry(e,n).next(h=>{for(const v of l)v.applyToLocalView(h);return h})}qs(e,n){e.forEach((l,h)=>{for(const v of n)v.applyToLocalView(h)})}Ks(e,n){return this.ds.getEntries(e,n).next(l=>this.Gs(e,l).next(()=>l))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>this.qs(n,l))}Qs(e,n,l){return xn.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,n.path):_h(n)?this.Ws(e,n,l):this.zs(e,n,l);var h}js(e,n){return this.Ls(e,new xn(n)).next(l=>{let h=If();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}Ws(e,n,l){const h=n.collectionGroup;let v=If();return this.indexManager.getCollectionParents(e,h).next(b=>jt.forEach(b,P=>{const J=(re=n,$e=P.child(h),new ha($e,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,$e;return this.zs(e,J,l).next(re=>{re.forEach(($e,ct)=>{v=v.insert($e,ct)})})}).next(()=>v))}zs(e,n,l){let h;return this.ds.getAllFromCollection(e,n.path,l).next(v=>(h=v,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(v=>{for(const b of v)for(const P of b.mutations){const J=P.key;let re=h.get(J);null==re&&(re=Oi.newInvalidDocument(J),h=h.insert(J,re)),el(P,re,b.localWriteTime),re.isFoundDocument()||(h=h.remove(J))}}).next(()=>(h.forEach((v,b)=>{sc(n,b)||(h=h.remove(v))}),h))}}class Lf{constructor(e,n,l,h){this.targetId=e,this.fromCache=n,this.Hs=l,this.Js=h}static Ys(e,n){let l=xi(),h=xi();for(const v of n.docChanges)switch(v.type){case 0:l=l.add(v.doc.key);break;case 1:h=h.add(v.doc.key)}return new Lf(e,n.fromCache,l,h)}}class Im{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,l,h){return this.ti(e,n).next(v=>v||this.ei(e,n,h,l)).next(v=>v||this.ni(e,n))}ti(e,n){return jt.resolve(null)}ei(e,n,l,h){return function vh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||h.isEqual(bn.min())?this.ni(e,n):this.Zs.Ks(e,l).next(v=>{const b=this.si(n,v);return this.ii(n,b,l,h)?this.ni(e,n):(tu()<=Ne.in.DEBUG&&yn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ic(n)),this.ri(e,b,n,rc(h,-1)))})}si(e,n){let l=new li(Vc(e));return n.forEach((h,v)=>{sc(e,v)&&(l=l.add(v))}),l}ii(e,n,l,h){if(null===e.limit)return!1;if(l.size!==n.size)return!0;const v="F"===e.limitType?n.last():n.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(h)>0)}ni(e,n){return tu()<=Ne.in.DEBUG&&yn("QueryEngine","Using full collection scan to execute query:",ic(n)),this.Zs.Qs(e,n,Bs.min())}ri(e,n,l,h){return this.Zs.Qs(e,l,h).next(v=>(n.forEach(b=>{v=v.insert(b.key,b)}),v))}}class Ng{constructor(e,n,l,h){this.persistence=e,this.oi=n,this.M=h,this.ui=new ii(tn),this.ai=new ga(v=>j(v),Ve),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(l)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new kp(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function Fp(i,e,n,l){return new Ng(i,e,n,l)}function Bf(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,c.Z)(function*(i,e){const n=An(i);return yield n.persistence.runTransaction("Handle user change","readonly",l=>{let h;return n.Bs.getAllMutationBatches(l).next(v=>(h=v,n.li(e),n.Bs.getAllMutationBatches(l))).next(v=>{const b=[],P=[];let J=xi();for(const re of h){b.push(re.batchId);for(const $e of re.mutations)J=J.add($e.key)}for(const re of v){P.push(re.batchId);for(const $e of re.mutations)J=J.add($e.key)}return n.fi.Ks(l,J).next(re=>({di:re,removedBatchIds:b,addedBatchIds:P}))})})}),Ud.apply(this,arguments)}function py(i,e){const n=An(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),v=n.hi.newChangeBuffer({trackRemovals:!0});return function(b,P,J,re){const $e=J.batch,ct=$e.keys();let Vt=jt.resolve();return ct.forEach(an=>{Vt=Vt.next(()=>re.getEntry(P,an)).next(cn=>{const Kn=J.docVersions.get(an);Yn(null!==Kn),cn.version.compareTo(Kn)<0&&($e.applyToRemoteDocument(cn,J),cn.isValidDocument()&&(cn.setReadTime(J.commitVersion),re.addEntry(cn)))})}),Vt.next(()=>b.Bs.removeMutationBatch(P,$e))}(n,l,e,v).next(()=>v.apply(l)).next(()=>n.Bs.performConsistencyCheck(l)).next(()=>n.fi.Ks(l,h))})}function bm(i){const e=An(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Cm(i,e){const n=An(i),l=e.snapshotVersion;let h=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const b=n.hi.newChangeBuffer({trackRemovals:!0});h=n.ui;const P=[];e.targetChanges.forEach((re,$e)=>{const ct=h.get($e);if(!ct)return;P.push(n.fs.removeMatchingKeys(v,re.removedDocuments,$e).next(()=>n.fs.addMatchingKeys(v,re.addedDocuments,$e)));let Vt=ct.withSequenceNumber(v.currentSequenceNumber);var an,cn,Kn;e.targetMismatches.has($e)?Vt=Vt.withResumeToken(hs.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):re.resumeToken.approximateByteSize()>0&&(Vt=Vt.withResumeToken(re.resumeToken,l)),h=h.insert($e,Vt),cn=Vt,Kn=re,(0===(an=ct).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-an.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&P.push(n.fs.updateTargetData(v,Vt))});let J=qs();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(v,re))}),P.push(yc(v,b,e.documentUpdates).next(re=>{J=re})),!l.isEqual(bn.min())){const re=n.fs.getLastRemoteSnapshotVersion(v).next($e=>n.fs.setTargetsMetadata(v,v.currentSequenceNumber,l));P.push(re)}return jt.waitFor(P).next(()=>b.apply(v)).next(()=>n.fi.Gs(v,J)).next(()=>J)}).then(v=>(n.ui=h,v))}function yc(i,e,n){let l=xi();return n.forEach(h=>l=l.add(h)),e.getEntries(i,l).next(h=>{let v=qs();return n.forEach((b,P)=>{const J=h.get(b);P.isNoDocument()&&P.version.isEqual(bn.min())?(e.removeEntry(b,P.readTime),v=v.insert(b,P)):!J.isValidDocument()||P.version.compareTo(J.version)>0||0===P.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(P),v=v.insert(b,P)):yn("LocalStore","Ignoring outdated watch update for ",b,". Current version:",J.version," Watch version:",P.version)}),v})}function Dm(i,e){const n=An(i);return n.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(l,e)))}function $d(i,e){const n=An(i);return n.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return n.fs.getTargetData(l,e).next(v=>v?(h=v,jt.resolve(h)):n.fs.allocateTargetId(l).next(b=>(h=new Na(e,b,0,l.currentSequenceNumber),n.fs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=n.ui.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(n.ui=n.ui.insert(l.targetId,l),n.ai.set(e,l.targetId)),l})}function Cl(i,e,n){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,c.Z)(function*(i,e,n){const l=An(i),h=l.ui.get(e),v=n?"readwrite":"readwrite-primary";try{n||(yield l.persistence.runTransaction("Release target",v,b=>l.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Pa(b))throw b;yn("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}l.ui=l.ui.remove(e),l.ai.delete(h.target)}),Hh.apply(this,arguments)}function jd(i,e,n){const l=An(i);let h=bn.min(),v=xi();return l.persistence.runTransaction("Execute query","readonly",b=>function(P,J,re){const $e=An(P),ct=$e.ai.get(re);return void 0!==ct?jt.resolve($e.ui.get(ct)):$e.fs.getTargetData(J,re)}(l,b,fa(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,l.fs.getMatchingKeysForTargetId(b,P.targetId).next(J=>{v=J})}).next(()=>l.oi.Qs(b,e,n?h:bn.min(),n?v:xi())).next(P=>(Vf(l,yl(e),P),{documents:P,_i:v})))}function Tm(i,e){const n=An(i),l=An(n.fs),h=n.ui.get(e);return h?Promise.resolve(h.target):n.persistence.runTransaction("Get target data","readonly",v=>l.Et(v,e).next(b=>b?b.target:null))}function Lu(i,e){const n=An(i),l=n.ci.get(e)||bn.min();return n.persistence.runTransaction("Get new document changes","readonly",h=>n.hi.getAllFromCollectionGroup(h,e,rc(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Vf(n,e,h),h))}function Vf(i,e,n){let l=bn.min();n.forEach((h,v)=>{v.readTime.compareTo(l)>0&&(l=v.readTime)}),i.ci.set(e,l)}function Hd(){return Hd=(0,c.Z)(function*(i,e,n,l){const h=An(i);let v=xi(),b=qs();for(const re of n){const $e=e.wi(re.metadata.name);re.document&&(v=v.add($e));const ct=e.mi(re);ct.setReadTime(e.gi(re.metadata.readTime)),b=b.insert($e,ct)}const P=h.hi.newChangeBuffer({trackRemovals:!0}),J=yield $d(h,(re=l,fa(Tu(Yr.fromString(`__bundle__/docs/${re}`)))));var re;return h.persistence.runTransaction("Apply bundle documents","readwrite",re=>yc(re,P,b).next($e=>(P.apply(re),$e)).next($e=>h.fs.removeMatchingKeysForTargetId(re,J.targetId).next(()=>h.fs.addMatchingKeys(re,v,J.targetId)).next(()=>h.fi.Gs(re,$e)).next(()=>$e)))}),Hd.apply(this,arguments)}function Lp(i,e){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,c.Z)(function*(i,e,n=xi()){const l=yield $d(i,fa(rs(e.bundledQuery))),h=An(i);return h.persistence.runTransaction("Save named query","readwrite",v=>{const b=uo(e.readTime);if(l.snapshotVersion.compareTo(b)>=0)return h._s.saveNamedQuery(v,e);const P=l.withResumeToken(hs.EMPTY_BYTE_STRING,b);return h.ui=h.ui.insert(P.targetId,P),h.fs.updateTargetData(v,P).next(()=>h.fs.removeMatchingKeysForTargetId(v,l.targetId)).next(()=>h.fs.addMatchingKeys(v,n,l.targetId)).next(()=>h._s.saveNamedQuery(v,e))})}),Yl.apply(this,arguments)}class sd{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return jt.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var l;return this.yi.set(n.id,{id:(l=n).id,version:l.version,createTime:uo(l.createTime)}),jt.resolve()}getNamedQuery(e,n){return jt.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(l=n).name,query:rs(l.bundledQuery),readTime:uo(l.readTime)}),jt.resolve();var l}}class Sm{constructor(){this.overlays=new ii(xn.comparator),this.Ii=new Map}getOverlay(e,n){return jt.resolve(this.overlays.get(n))}saveOverlays(e,n,l){return l.forEach((h,v)=>{this.Xt(e,n,v)}),jt.resolve()}removeOverlaysForBatchId(e,n,l){const h=this.Ii.get(l);return void 0!==h&&(h.forEach(v=>this.overlays=this.overlays.remove(v)),this.Ii.delete(l)),jt.resolve()}getOverlaysForCollection(e,n,l){const h=jc(),v=n.length+1,b=new xn(n.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const J=P.getNext().value,re=J.getKey();if(!n.isPrefixOf(re.path))break;re.path.length===v&&J.largestBatchId>l&&h.set(J.getKey(),J)}return jt.resolve(h)}getOverlaysForCollectionGroup(e,n,l,h){let v=new ii((re,$e)=>re-$e);const b=this.overlays.getIterator();for(;b.hasNext();){const re=b.getNext().value;if(re.getKey().getCollectionGroup()===n&&re.largestBatchId>l){let $e=v.get(re.largestBatchId);null===$e&&($e=jc(),v=v.insert(re.largestBatchId,$e)),$e.set(re.getKey(),re)}}const P=jc(),J=v.getIterator();for(;J.hasNext()&&(J.getNext().value.forEach((re,$e)=>P.set(re,$e)),!(P.size()>=h)););return jt.resolve(P)}Xt(e,n,l){if(null===l)return;const h=this.overlays.get(l.key);if(null!==h){const b=this.Ii.get(h.largestBatchId).delete(l.key);this.Ii.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(l.key,new Sf(n,l));let v=this.Ii.get(n);void 0===v&&(v=xi(),this.Ii.set(n,v)),this.Ii.set(n,v.add(l.key))}}class du{constructor(){this.Ti=new li(bo.Ei),this.Ai=new li(bo.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const l=new bo(e,n);this.Ti=this.Ti.add(l),this.Ai=this.Ai.add(l)}bi(e,n){e.forEach(l=>this.addReference(l,n))}removeReference(e,n){this.Pi(new bo(e,n))}Vi(e,n){e.forEach(l=>this.removeReference(l,n))}vi(e){const n=new xn(new Yr([])),l=new bo(n,e),h=new bo(n,e+1),v=[];return this.Ai.forEachInRange([l,h],b=>{this.Pi(b),v.push(b.key)}),v}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new xn(new Yr([])),l=new bo(n,e),h=new bo(n,e+1);let v=xi();return this.Ai.forEachInRange([l,h],b=>{v=v.add(b.key)}),v}containsKey(e){const n=new bo(e,0),l=this.Ti.firstAfterOrEqual(n);return null!==l&&e.isEqual(l.key)}}class bo{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return xn.comparator(e.key,n.key)||tn(e.Ci,n.Ci)}static Ri(e,n){return tn(e.Ci,n.Ci)||xn.comparator(e.key,n.key)}}class Bp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new li(bo.Ei)}checkEmpty(e){return jt.resolve(0===this.Bs.length)}addMutationBatch(e,n,l,h){const v=this.xi;this.xi++;const b=new Gl(v,n,l,h);this.Bs.push(b);for(const P of h)this.Ni=this.Ni.add(new bo(P.key,v)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return jt.resolve(b)}lookupMutationBatch(e,n){return jt.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const h=this.Mi(n+1),v=h<0?0:h;return jt.resolve(this.Bs.length>v?this.Bs[v]:null)}getHighestUnacknowledgedBatchId(){return jt.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return jt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const l=new bo(n,0),h=new bo(n,Number.POSITIVE_INFINITY),v=[];return this.Ni.forEachInRange([l,h],b=>{const P=this.ki(b.Ci);v.push(P)}),jt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new li(tn);return n.forEach(h=>{const v=new bo(h,0),b=new bo(h,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([v,b],P=>{l=l.add(P.Ci)})}),jt.resolve(this.Oi(l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,h=l.length+1;let v=l;xn.isDocumentKey(v)||(v=v.child(""));const b=new bo(new xn(v),0);let P=new li(tn);return this.Ni.forEachWhile(J=>{const re=J.key.path;return!!l.isPrefixOf(re)&&(re.length===h&&(P=P.add(J.Ci)),!0)},b),jt.resolve(this.Oi(P))}Oi(e){const n=[];return e.forEach(l=>{const h=this.ki(l);null!==h&&n.push(h)}),n}removeMutationBatch(e,n){Yn(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let l=this.Ni;return jt.forEach(n.mutations,h=>{const v=new bo(h.key,n.batchId);return l=l.delete(v),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Ni=l})}_n(e){}containsKey(e,n){const l=new bo(n,0),h=this.Ni.firstAfterOrEqual(l);return jt.resolve(n.isEqual(h&&h.key))}performConsistencyCheck(e){return jt.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class Vp{constructor(e){this.$i=e,this.docs=new ii(xn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const l=n.key,h=this.docs.get(l),v=h?h.size:0,b=this.$i(n);return this.docs=this.docs.insert(l,{document:n.mutableCopy(),size:b}),this.size+=b-v,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const l=this.docs.get(n);return jt.resolve(l?l.document.mutableCopy():Oi.newInvalidDocument(n))}getEntries(e,n){let l=qs();return n.forEach(h=>{const v=this.docs.get(h);l=l.insert(h,v?v.document.mutableCopy():Oi.newInvalidDocument(h))}),jt.resolve(l)}getAllFromCollection(e,n,l){let h=qs();const v=new xn(n.child("")),b=this.docs.getIteratorFrom(v);for(;b.hasNext();){const{key:P,value:{document:J}}=b.getNext();if(!n.isPrefixOf(P.path))break;P.path.length>n.length+1||Du(Cu(J),l)<=0||(h=h.insert(J.key,J.mutableCopy()))}return jt.resolve(h)}getAllFromCollectionGroup(e,n,l,h){Un()}Bi(e,n){return jt.forEach(this.docs,l=>n(l))}newChangeBuffer(e){return new Am(this)}getSize(e){return jt.resolve(this.size)}}class Am extends $h{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?n.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(l)}),jt.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class Up{constructor(e){this.persistence=e,this.Li=new ga(n=>j(n),Ve),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new du,this.targetCount=0,this.Ki=id.gn()}forEachTarget(e,n){return this.Li.forEach((l,h)=>n(h)),jt.resolve()}getLastRemoteSnapshotVersion(e){return jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jt.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),jt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,l){return l&&(this.lastRemoteSnapshotVersion=l),n>this.Ui&&(this.Ui=n),jt.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new id(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,jt.resolve()}updateTargetData(e,n){return this.Tn(n),jt.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,jt.resolve()}removeTargets(e,n,l){let h=0;const v=[];return this.Li.forEach((b,P)=>{P.sequenceNumber<=n&&null===l.get(P.targetId)&&(this.Li.delete(b),v.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),jt.waitFor(v).next(()=>h)}getTargetCount(e){return jt.resolve(this.targetCount)}getTargetData(e,n){const l=this.Li.get(n)||null;return jt.resolve(l)}addMatchingKeys(e,n,l){return this.qi.bi(n,l),jt.resolve()}removeMatchingKeys(e,n,l){this.qi.Vi(n,l);const h=this.persistence.referenceDelegate,v=[];return h&&n.forEach(b=>{v.push(h.markPotentiallyOrphaned(e,b))}),jt.waitFor(v)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),jt.resolve()}getMatchingKeysForTargetId(e,n){const l=this.qi.Di(n);return jt.resolve(l)}containsKey(e,n){return jt.resolve(this.qi.containsKey(n))}}class Uf{constructor(e,n){this.Gi={},this.overlays={},this.es=new Pe(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Up(this),this.indexManager=new Sg,this.ds=new Vp(l=>this.referenceDelegate.Qi(l)),this.M=new Tg(n),this._s=new sd(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let l=this.Gi[e.toKey()];return l||(l=new Bp(n,this.referenceDelegate),this.Gi[e.toKey()]=l),l}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,l){yn("MemoryPersistence","Starting transaction:",e);const h=new xm(this.es.next());return this.referenceDelegate.ji(),l(h).next(v=>this.referenceDelegate.Wi(h).next(()=>v)).toPromise().then(v=>(h.raiseOnCommittedEvent(),v))}zi(e,n){return jt.or(Object.values(this.Gi).map(l=>()=>l.containsKey(e,n)))}}class xm extends dc{constructor(e){super(),this.currentSequenceNumber=e}}class Dl{constructor(e){this.persistence=e,this.Hi=new du,this.Ji=null}static Yi(e){return new Dl(e)}get Xi(){if(this.Ji)return this.Ji;throw Un()}addReference(e,n,l){return this.Hi.addReference(l,n),this.Xi.delete(l.toString()),jt.resolve()}removeReference(e,n,l){return this.Hi.removeReference(l,n),this.Xi.add(l.toString()),jt.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),jt.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(h=>this.Xi.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,n.targetId).next(h=>{h.forEach(v=>this.Xi.add(v.toString()))}).next(()=>l.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jt.forEach(this.Xi,l=>{const h=xn.fromPath(l);return this.Zi(e,h).next(v=>{v||n.removeEntry(h,bn.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(l=>{l?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return jt.or([()=>jt.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}function vc(i,e){return`firestore_clients_${i}_${e}`}function Gh(i,e,n){let l=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Bu(i,e){return`firestore_targets_${i}_${e}`}class ql{constructor(e,n,l,h){this.user=e,this.batchId=n,this.state=l,this.error=h}static tr(e,n,l){const h=JSON.parse(l);let v,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(v=new sn(h.error.code,h.error.message))),b?new ql(e,n,h.state,v):(ws("SharedClientState",`Failed to parse mutation state for ID '${n}': ${l}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ll{constructor(e,n,l){this.targetId=e,this.state=n,this.error=l}static tr(e,n){const l=JSON.parse(n);let h,v="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(h=new sn(l.error.code,l.error.message))),v?new ll(e,l.state,h):(ws("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static tr(e,n){const l=JSON.parse(n);let h="object"==typeof l&&l.activeTargetIds instanceof Array,v=_l();for(let b=0;h&&b<l.activeTargetIds.length;++b)h=mh(l.activeTargetIds[b]),v=v.add(l.activeTargetIds[b]);return h?new Gd(e,v):(ws("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class zd{constructor(e,n){this.clientId=e,this.onlineState=n}static tr(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new zd(n.clientId,n.onlineState):(ws("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wd{constructor(){this.activeTargetIds=_l()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zh{constructor(e,n,l,h,v){this.window=e,this.Yn=n,this.persistenceKey=l,this.ir=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ii(tn),this.started=!1,this.cr=[];const b=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.hr=vc(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Wd),this.dr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Fs();for(const h of n){if(h===e.ir)continue;const v=e.getItem(vc(e.persistenceKey,h));if(v){const b=Gd.tr(h,v);b&&(e.ar=e.ar.insert(b.clientId,b))}}e.yr();const l=e.storage.getItem(e.mr);if(l){const h=e.pr(l);h&&e.Ir(h)}for(const h of e.cr)e.ur(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((l,h)=>{h.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,n,l){this.Er(e,n,l),this.Ar(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(Bu(this.persistenceKey,e));if(l){const h=ll.tr(e,l);h&&(n=h.state)}}return this.Rr.nr(e),this.yr(),n}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Bu(this.persistenceKey,e))}updateQueryState(e,n,l){this.br(e,n,l)}handleUserChange(e,n,l){n.forEach(h=>{this.Ar(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return yn("SharedClientState","READ",e,n),n}setItem(e,n){yn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){yn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var n=this;const l=e;if(l.storageArea===this.storage){if(yn("SharedClientState","EVENT",l.key,l.newValue),l.key===this.hr)return void ws("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==l.key)if(n.dr.test(l.key)){if(null==l.newValue){const h=n.vr(l.key);return n.Sr(h,null)}{const h=n.Dr(l.key,l.newValue);if(h)return n.Sr(h.clientId,h)}}else if(n._r.test(l.key)){if(null!==l.newValue){const h=n.Cr(l.key,l.newValue);if(h)return n.Nr(h)}}else if(n.wr.test(l.key)){if(null!==l.newValue){const h=n.kr(l.key,l.newValue);if(h)return n.Mr(h)}}else if(l.key===n.mr){if(null!==l.newValue){const h=n.pr(l.newValue);if(h)return n.Ir(h)}}else if(l.key===n.lr){const h=function(v){let b=Pe.A;if(null!=v)try{const P=JSON.parse(v);Yn("number"==typeof P),b=P}catch(P){ws("SharedClientState","Failed to read sequence number from WebStorage",P)}return b}(l.newValue);h!==Pe.A&&n.sequenceNumberHandler(h)}else if(l.key===n.gr){const h=n.Or(l.newValue);yield Promise.all(h.map(v=>n.syncEngine.Fr(v)))}}else n.cr.push(l)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,n,l){const h=new ql(this.currentUser,e,n,l),v=Gh(this.persistenceKey,this.currentUser,e);this.setItem(v,h.er())}Ar(e){const n=Gh(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,n,l){const h=Bu(this.persistenceKey,e),v=new ll(e,n,l);this.setItem(h,v.er())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.gr,n)}vr(e){const n=this.dr.exec(e);return n?n[1]:null}Dr(e,n){const l=this.vr(e);return Gd.tr(l,n)}Cr(e,n){const l=this._r.exec(e),h=Number(l[1]);return ql.tr(new os(void 0!==l[2]?l[2]:null),h,n)}kr(e,n){const l=this.wr.exec(e),h=Number(l[1]);return ll.tr(h,n)}pr(e){return zd.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.$r(e.batchId,e.state,e.error);yn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,n){const l=n?this.ar.insert(e,n):this.ar.remove(e),h=this.Tr(this.ar),v=this.Tr(l),b=[],P=[];return v.forEach(J=>{h.has(J)||b.push(J)}),h.forEach(J=>{v.has(J)||P.push(J)}),this.syncEngine.Lr(b,P).then(()=>{this.ar=l})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let n=_l();return e.forEach((l,h)=>{n=n.unionWith(h.activeTargetIds)}),n}}class _c{constructor(){this.Ur=new Wd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,l){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,l){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Wd,Promise.resolve()}handleUserChange(e,n,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fg{Kr(e){}shutdown(){}}class Wh{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){yn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){yn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $f{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Lg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,l,h,v){const b=this.ho(e,n);yn("RestConnection","Sending: ",b,l);const P={};return this.lo(P,h,v),this.fo(e,b,P,l).then(J=>(yn("RestConnection","Received: ",J),J),J=>{throw Is("RestConnection",`${e} failed with error: `,J,"url: ",b,"request:",l),J})}_o(e,n,l,h,v){return this.co(e,n,l,h,v)}lo(e,n,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ws,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((h,v)=>e[v]=h),l&&l.headers.forEach((h,v)=>e[v]=h)}ho(e,n){return`${this.uo}/v1/${n}:${Mm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,l,h){return new Promise((v,b)=>{const P=new fl;P.listenOnce(Go.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Do.NO_ERROR:const re=P.getResponseJson();yn("Connection","XHR received:",JSON.stringify(re)),v(re);break;case Do.TIMEOUT:yn("Connection",'RPC "'+e+'" timed out'),b(new sn(xt.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:const $e=P.getStatus();if(yn("Connection",'RPC "'+e+'" failed with status:',$e,"response text:",P.getResponseText()),$e>0){const ct=P.getResponseJson().error;if(ct&&ct.status&&ct.message){const Vt=function(an){const cn=an.toLowerCase().replace(/_/g,"-");return Object.values(xt).indexOf(cn)>=0?cn:xt.UNKNOWN}(ct.status);b(new sn(Vt,ct.message))}else b(new sn(xt.UNKNOWN,"Server responded with status "+P.getStatus()))}else b(new sn(xt.UNAVAILABLE,"Connection failed."));break;default:Un()}}finally{yn("Connection",'RPC "'+e+'" completed.')}});const J=JSON.stringify(h);P.send(n,"POST",J,l,15)})}wo(e,n,l){const h=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=ec(),b=eu(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new Iu({})),this.lo(P.initMessageHeaders,n,l),(0,be.uI)()||(0,be.b$)()||(0,be.d)()||(0,be.w1)()||(0,be.Mn)()||(0,be.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const J=h.join("");yn("Connection","Creating WebChannel: "+J,P);const re=v.createWebChannel(J,P);let $e=!1,ct=!1;const Vt=new $f({Jr:cn=>{ct?yn("Connection","Not sending because WebChannel is closed:",cn):($e||(yn("Connection","Opening WebChannel transport."),re.open(),$e=!0),yn("Connection","WebChannel sending:",cn),re.send(cn))},Yr:()=>re.close()}),an=(cn,Kn,$r)=>{cn.listen(Kn,ro=>{try{$r(ro)}catch(Oo){setTimeout(()=>{throw Oo},0)}})};return an(re,To.EventType.OPEN,()=>{ct||yn("Connection","WebChannel transport opened.")}),an(re,To.EventType.CLOSE,()=>{ct||(ct=!0,yn("Connection","WebChannel transport closed"),Vt.ro())}),an(re,To.EventType.ERROR,cn=>{ct||(ct=!0,Is("Connection","WebChannel transport errored:",cn),Vt.ro(new sn(xt.UNAVAILABLE,"The operation could not be completed")))}),an(re,To.EventType.MESSAGE,cn=>{var Kn;if(!ct){const $r=cn.data[0];Yn(!!$r);const ro=$r,Oo=ro.error||(null===(Kn=ro[0])||void 0===Kn?void 0:Kn.error);if(Oo){yn("Connection","WebChannel received error:",Oo);const io=Oo.status;let $a=function(po){const cl=bs[po];if(void 0!==cl)return Td(cl)}(io),Po=Oo.message;void 0===$a&&($a=xt.INTERNAL,Po="Unknown error status: "+io+" with message "+Oo.message),ct=!0,Vt.ro(new sn($a,Po)),re.close()}else yn("Connection","WebChannel received:",$r),Vt.oo($r)}}),an(b,hl.STAT_EVENT,cn=>{cn.stat===cs.PROXY?yn("Connection","Detected buffering proxy"):cn.stat===cs.NOPROXY&&yn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Vt.io()},0),Vt}}function $p(){return"undefined"!=typeof window?window:null}function Kd(){return"undefined"!=typeof document?document:null}function Kh(i){return new Sh(i,!0)}class jf{constructor(e,n,l=1e3,h=1.5,v=6e4){this.Yn=e,this.timerId=n,this.mo=l,this.yo=h,this.po=v,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),l=Math.max(0,Date.now()-this.Eo),h=Math.max(0,n-l);h>0&&yn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${l} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class jp{constructor(e,n,l,h,v,b,P,J){this.Yn=e,this.Vo=l,this.vo=h,this.So=v,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=J,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new jf(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,c.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,c.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var l=this;return(0,c.Z)(function*(){l.Uo(),l.qo(),l.No.cancel(),l.Do++,4!==e?l.No.reset():n&&n.code===xt.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),l.No.Ao()):n&&n.code===xt.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Ko(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Do===n&&this.Qo(l,h)},l=>{e(()=>{const h=new sn(xt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.jo(h)})})}Qo(e,n){const l=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{l(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(h=>{l(()=>this.jo(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.No.Ro((0,c.Z)(function*(){e.state=0,e.start()}))}jo(e){return yn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(yn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hp extends jp{constructor(e,n,l,h,v,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,l,h,b),this.M=v}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function Ou(i,e){let n;if("targetChange"in e){const l="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:Un(),h=e.targetChange.targetIds||[],v=function(J,re){return J.N?(Yn(void 0===re||"string"==typeof re),hs.fromBase64String(re||"")):(Yn(void 0===re||re instanceof Uint8Array),hs.fromUint8Array(re||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(J){const re=void 0===J.code?xt.UNKNOWN:Td(J.code);return new sn(re,J.message||"")}(b);n=new nl(l,h,v,P||null)}else if("documentChange"in e){const l=e.documentChange,h=xa(i,l.document.name),v=uo(l.document.updateTime),b=new Ls({mapValue:{fields:l.document.fields}}),P=Oi.newFoundDocument(h,v,b);n=new Hl(l.targetIds||[],l.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const l=e.documentDelete,h=xa(i,l.document),v=l.readTime?uo(l.readTime):bn.min(),b=Oi.newNoDocument(h,v);n=new Hl([],l.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const l=e.documentRemove,h=xa(i,l.document);n=new Hl([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Un();{const l=e.filter,v=new pa(l.count||0);n=new Hc(l.targetId,v)}}var J;return n}(this.M,e),l=function(h){if(!("targetChange"in h))return bn.min();const v=h.targetChange;return v.targetIds&&v.targetIds.length?bn.min():v.readTime?uo(v.readTime):bn.min()}(e);return this.listener.zo(n,l)}Ho(e){const n={};n.database=br(this.M),n.addTarget=function(h,v){let b;const P=v.target;return b=bt(P)?{documents:xh(h,P)}:{query:ou(h,P)},b.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?b.resumeToken=Ah(h,v.resumeToken):v.snapshotVersion.compareTo(bn.min())>0&&(b.readTime=Gc(h,v.snapshotVersion.toTimestamp())),b}(this.M,e);const l=function ls(i,e){const n=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Un()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);l&&(n.labels=l),this.Lo(n)}Jo(e){const n={};n.database=br(this.M),n.removeTarget=e,this.Lo(n)}}class va extends jp{constructor(e,n,l,h,v,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,l,h,b),this.M=v,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function Nr(i,e){return i&&i.length>0?(Yn(void 0!==e),i.map(n=>function(l,h){let v=uo(l.updateTime?l.updateTime:h);return v.isEqual(bn.min())&&(v=uo(h)),new bh(v,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),l=uo(e.commitTime);return this.listener.tu(l,n)}return Yn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=br(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(l=>as(this.M,l))};this.Lo(n)}}class Gp extends class{}{constructor(e,n,l,h){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=l,this.M=h,this.su=!1}iu(){if(this.su)throw new sn(xt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,l){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,v])=>this.So.co(e,n,l,h,v)).catch(h=>{throw"FirebaseError"===h.name?(h.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new sn(xt.UNKNOWN,h.toString())})}_o(e,n,l){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,v])=>this.So._o(e,n,l,h,v)).catch(h=>{throw"FirebaseError"===h.name?(h.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new sn(xt.UNKNOWN,h.toString())})}terminate(){this.su=!0}}class Hf{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ws(n),this.uu=!1):yn("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Yd{constructor(e,n,l,h,v){var b=this;this.localStore=e,this.datastore=n,this.asyncQueue=l,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=v,this.gu.Kr(P=>{l.enqueueAndForget((0,c.Z)(function*(){var J;Ec(b)&&(yn("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,c.Z)(function*(re){const $e=An(re);$e.wu.add(4),yield qh($e),$e.yu.set("Unknown"),$e.wu.delete(4),yield qd($e)}),function(re){return J.apply(this,arguments)})(b))}))}),this.yu=new Hf(l,h)}}function qd(i){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,c.Z)(function*(i){if(Ec(i))for(const e of i.mu)yield e(!0)}),Yh.apply(this,arguments)}function qh(i){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,c.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Zd.apply(this,arguments)}function od(i,e){const n=An(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),zf(n)?zp(n):ld(n).Mo()&&ad(n,e))}function Xd(i,e){const n=An(i),l=ld(n);n._u.delete(e),l.Mo()&&Gf(n,e),0===n._u.size&&(l.Mo()?l.$o():Ec(n)&&n.yu.set("Unknown"))}function ad(i,e){i.pu.Z(e.targetId),ld(i).Ho(e)}function Gf(i,e){i.pu.Z(e),ld(i).Jo(e)}function zp(i){i.pu=new rl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),ld(i).start(),i.yu.au()}function zf(i){return Ec(i)&&!ld(i).ko()&&i._u.size>0}function Ec(i){return 0===An(i).wu.size}function Zh(i){i.pu=void 0}function Wf(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,c.Z)(function*(i){i._u.forEach((e,n)=>{ad(i,e)})}),Kf.apply(this,arguments)}function Bg(i,e){return wc.apply(this,arguments)}function wc(){return wc=(0,c.Z)(function*(i,e){Zh(i),zf(i)?(i.yu.lu(e),zp(i)):i.yu.set("Unknown")}),wc.apply(this,arguments)}function hu(i,e,n){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,c.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof nl&&2===e.state&&e.cause)try{yield(l=(0,c.Z)(function*(h,v){const b=v.cause;for(const P of v.targetIds)h._u.has(P)&&(yield h.remoteSyncer.rejectListen(P,b),h._u.delete(P),h.pu.removeTarget(P))}),function(h,v){return l.apply(this,arguments)})(i,e)}catch(l){yn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Qd(i,l)}else if(e instanceof Hl?i.pu.ut(e):e instanceof Hc?i.pu._t(e):i.pu.ht(e),!n.isEqual(bn.min()))try{const l=yield bm(i.localStore);n.compareTo(l)>=0&&(yield function(h,v){const b=h.pu.yt(v);return b.targetChanges.forEach((P,J)=>{if(P.resumeToken.approximateByteSize()>0){const re=h._u.get(J);re&&h._u.set(J,re.withResumeToken(P.resumeToken,v))}}),b.targetMismatches.forEach(P=>{const J=h._u.get(P);if(!J)return;h._u.set(P,J.withResumeToken(hs.EMPTY_BYTE_STRING,J.snapshotVersion)),Gf(h,P);const re=new Na(J.target,P,1,J.sequenceNumber);ad(h,re)}),h.remoteSyncer.applyRemoteEvent(b)}(i,n))}catch(l){yn("RemoteStore","Failed to raise snapshot:",l),yield Qd(i,l)}var l}),Xo.apply(this,arguments)}function Qd(i,e,n){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,c.Z)(function*(i,e,n){if(!Pa(e))throw e;i.wu.add(1),yield qh(i),i.yu.set("Offline"),n||(n=()=>bm(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){yn("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield qd(i)}))}),Yf.apply(this,arguments)}function qf(i,e){return e().catch(n=>Qd(i,n,e))}function Vu(i){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,c.Z)(function*(i){const e=An(i),n=$u(e);let l=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Rm(e);)try{const h=yield Dm(e.localStore,l);if(null===h){0===e.du.length&&n.$o();break}l=h.batchId,Tl(e,h)}catch(h){yield Qd(e,h)}Wp(e)&&Zf(e)}),Ic.apply(this,arguments)}function Rm(i){return Ec(i)&&i.du.length<10}function Tl(i,e){i.du.push(e);const n=$u(i);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function Wp(i){return Ec(i)&&!$u(i).ko()&&i.du.length>0}function Zf(i){$u(i).start()}function Xf(i){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,c.Z)(function*(i){$u(i).nu()}),Xh.apply(this,arguments)}function _a(i){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,c.Z)(function*(i){const e=$u(i);for(const n of i.du)e.Zo(n.mutations)}),Jd.apply(this,arguments)}function Om(i,e,n){return eh.apply(this,arguments)}function eh(){return eh=(0,c.Z)(function*(i,e,n){const l=i.du.shift(),h=Oh.from(l,e,n);yield qf(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield Vu(i)}),eh.apply(this,arguments)}function Kp(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,c.Z)(function*(i,e){var n;e&&$u(i).Xo&&(yield(n=(0,c.Z)(function*(l,h){if(bp(v=h.code)&&v!==xt.ABORTED){const b=l.du.shift();$u(l).Fo(),yield qf(l,()=>l.remoteSyncer.rejectFailedWrite(b.batchId,h)),yield Vu(l)}var v}),function(l,h){return n.apply(this,arguments)})(i,e)),Wp(i)&&Zf(i)}),Qf.apply(this,arguments)}function Vg(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,c.Z)(function*(i,e){const n=An(i);n.asyncQueue.verifyOperationInProgress(),yn("RemoteStore","RemoteStore received new credentials");const l=Ec(n);n.wu.add(3),yield qh(n),l&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield qd(n)}),Jf.apply(this,arguments)}function Uu(i,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,c.Z)(function*(i,e){const n=An(i);e?(n.wu.delete(2),yield qd(n)):e||(n.wu.add(2),yield qh(n),n.yu.set("Unknown"))}),Yp.apply(this,arguments)}function ld(i){return i.Iu||(i.Iu=function(e,n,l){const h=An(e);return h.iu(),new Hp(n,h.So,h.authCredentials,h.appCheckCredentials,h.M,l)}(i.datastore,i.asyncQueue,{Xr:Wf.bind(null,i),eo:Bg.bind(null,i),zo:hu.bind(null,i)}),i.mu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Iu.Fo(),zf(i)?zp(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Zh(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function $u(i){return i.Tu||(i.Tu=function(e,n,l){const h=An(e);return h.iu(),new va(n,h.So,h.authCredentials,h.appCheckCredentials,h.M,l)}(i.datastore,i.asyncQueue,{Xr:Xf.bind(null,i),eo:Kp.bind(null,i),eu:_a.bind(null,i),tu:Om.bind(null,i)}),i.mu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Tu.Fo(),yield Vu(i)):(yield i.Tu.stop(),i.du.length>0&&(yn("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class th{constructor(e,n,l,h,v){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=l,this.op=h,this.removalCallback=v,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,n,l,h,v){const b=Date.now()+l,P=new th(e,n,b,h,v);return P.start(l),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sn(xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(i,e){if(ws("AsyncQueue",`${e}: ${i}`),Pa(i))return new sn(xt.UNAVAILABLE,`${e}: ${i}`);throw i}class ud{constructor(e){this.comparator=e?(n,l)=>e(n,l)||xn.comparator(n.key,l.key):(n,l)=>xn.comparator(n.key,l.key),this.keyedMap=If(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,l)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;n.hasNext();){const h=n.getNext().key,v=l.getNext().key;if(!h.isEqual(v))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const l=new ud;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=n,l}}class Qh{constructor(){this.Eu=new ii(xn.comparator)}track(e){const n=e.doc.key,l=this.Eu.get(n);l?0!==e.type&&3===l.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==l.type?this.Eu=this.Eu.insert(n,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Eu=this.Eu.remove(n):1===e.type&&2===l.type?this.Eu=this.Eu.insert(n,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):Un():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,l)=>{e.push(l)}),e}}class Ba{constructor(e,n,l,h,v,b,P,J){this.query=e,this.docs=n,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=v,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=J}static fromInitialDocuments(e,n,l,h){const v=[];return n.forEach(b=>{v.push({type:0,doc:b})}),new Ba(e,n,ud.emptySet(n),v,l,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,l=e.docChanges;if(n.length!==l.length)return!1;for(let h=0;h<n.length;h++)if(n[h].type!==l[h].type||!n[h].doc.isEqual(l[h].doc))return!1;return!0}}class ep{constructor(){this.Ru=void 0,this.listeners=[]}}class Pm{constructor(){this.queries=new ga(e=>yf(e),Au),this.onlineState="Unknown",this.bu=new Set}}function tp(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,c.Z)(function*(i,e){const n=An(i),l=e.query;let h=!1,v=n.queries.get(l);if(v||(h=!0,v=new ep),h)try{v.Ru=yield n.onListen(l)}catch(b){const P=fu(b,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(P)}n.queries.set(l,v),v.listeners.push(e),e.Pu(n.onlineState),v.Ru&&e.Vu(v.Ru)&&qp(n)}),Ug.apply(this,arguments)}function Jh(i,e){return np.apply(this,arguments)}function np(){return np=(0,c.Z)(function*(i,e){const n=An(i),l=e.query;let h=!1;const v=n.queries.get(l);if(v){const b=v.listeners.indexOf(e);b>=0&&(v.listeners.splice(b,1),h=0===v.listeners.length)}if(h)return n.queries.delete(l),n.onUnlisten(l)}),np.apply(this,arguments)}function ef(i,e){const n=An(i);let l=!1;for(const h of e){const b=n.queries.get(h.query);if(b){for(const P of b.listeners)P.Vu(h)&&(l=!0);b.Ru=h}}l&&qp(n)}function nh(i,e,n){const l=An(i),h=l.queries.get(e);if(h)for(const v of h.listeners)v.onError(n);l.queries.delete(e)}function qp(i){i.bu.forEach(e=>{e.next()})}class pu{constructor(e,n,l){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=l||{}}Vu(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new Ba(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class ju{constructor(e,n){this.payload=e,this.byteLength=n}Mu(){return"metadata"in this.payload}}class Zp{constructor(e){this.M=e}wi(e){return xa(this.M,e)}mi(e){return e.metadata.exists?Wc(this.M,e.document,!1):Oi.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return uo(e)}}class rp{constructor(e,n,l){this.Ou=e,this.localStore=n,this.M=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tf(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const l=Yr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,l=new Zp(this.M);for(const h of e)if(h.metadata.queries){const v=l.wi(h.metadata.name);for(const b of h.metadata.queries){const P=(n.get(b)||xi()).add(v);n.set(b,P)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function kg(i,e,n,l){return Hd.apply(this,arguments)}(e.localStore,new Zp(e.M),e.documents,e.Ou.id),l=e.$u(e.documents);for(const h of e.queries)yield Lp(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function tf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ip{constructor(e){this.key=e}}class cd{constructor(e){this.key=e}}class $g{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=xi(),this.mutatedKeys=xi(),this.Gu=Vc(e),this.Qu=new ud(this.Gu)}get ju(){return this.Uu}Wu(e,n){const l=n?n.zu:new Qh,h=n?n.Qu:this.Qu;let v=n?n.mutatedKeys:this.mutatedKeys,b=h,P=!1;const J="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,re="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal(($e,ct)=>{const Vt=h.get($e),an=sc(this.query,ct)?ct:null,cn=!!Vt&&this.mutatedKeys.has(Vt.key),Kn=!!an&&(an.hasLocalMutations||this.mutatedKeys.has(an.key)&&an.hasCommittedMutations);let $r=!1;Vt&&an?Vt.data.isEqual(an.data)?cn!==Kn&&(l.track({type:3,doc:an}),$r=!0):this.Hu(Vt,an)||(l.track({type:2,doc:an}),$r=!0,(J&&this.Gu(an,J)>0||re&&this.Gu(an,re)<0)&&(P=!0)):!Vt&&an?(l.track({type:0,doc:an}),$r=!0):Vt&&!an&&(l.track({type:1,doc:Vt}),$r=!0,(J||re)&&(P=!0)),$r&&(an?(b=b.add(an),v=Kn?v.add($e):v.delete($e)):(b=b.delete($e),v=v.delete($e)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const $e="F"===this.query.limitType?b.last():b.first();b=b.delete($e.key),v=v.delete($e.key),l.track({type:1,doc:$e})}return{Qu:b,zu:l,ii:P,mutatedKeys:v}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,l){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const v=e.zu.Au();v.sort((re,$e)=>function(ct,Vt){const an=cn=>{switch(cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Un()}};return an(ct)-an(Vt)}(re.type,$e.type)||this.Gu(re.doc,$e.doc)),this.Ju(l);const b=n?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,J=P!==this.qu;return this.qu=P,0!==v.length||J?{snapshot:new Ba(this.query,e.Qu,h,v,e.mutatedKeys,0===P,J,!1),Xu:b}:{Xu:b}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Qh,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xi(),this.Qu.forEach(l=>{this.Zu(l.key)&&(this.Ku=this.Ku.add(l.key))});const n=[];return e.forEach(l=>{this.Ku.has(l)||n.push(new cd(l))}),this.Ku.forEach(l=>{e.has(l)||n.push(new ip(l))}),n}ta(e){this.Uu=e._i,this.Ku=xi();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Ba.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Xp{constructor(e,n,l){this.query=e,this.targetId=n,this.view=l}}class dd{constructor(e){this.key=e,this.na=!1}}class Qp{constructor(e,n,l,h,v,b){this.localStore=e,this.remoteStore=n,this.eventManager=l,this.sharedClientState=h,this.currentUser=v,this.maxConcurrentLimboResolutions=b,this.sa={},this.ia=new ga(P=>yf(P),Au),this.ra=new Map,this.oa=new Set,this.ua=new ii(xn.comparator),this.aa=new Map,this.ca=new du,this.ha={},this.la=new Map,this.fa=id.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function sp(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,c.Z)(function*(i,e){const n=oh(i);let l,h;const v=n.ia.get(e);if(v)l=v.targetId,n.sharedClientState.addLocalQueryTarget(l),h=v.view.ea();else{const b=yield $d(n.localStore,fa(e));n.isPrimaryClient&&od(n.remoteStore,b);const P=n.sharedClientState.addLocalQueryTarget(b.targetId);l=b.targetId,h=yield gu(n,e,l,"current"===P)}return h}),nf.apply(this,arguments)}function gu(i,e,n,l){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,c.Z)(function*(i,e,n,l){i._a=($e,ct,Vt)=>{return(an=(0,c.Z)(function*(cn,Kn,$r,ro){let Oo=Kn.view.Wu($r);Oo.ii&&(Oo=yield jd(cn.localStore,Kn.query,!1).then(({documents:Po})=>Kn.view.Wu(Po,Oo)));const io=ro&&ro.targetChanges.get(Kn.targetId),$a=Kn.view.applyChanges(Oo,cn.isPrimaryClient,io);return ap(cn,Kn.targetId,$a.Xu),$a.snapshot}),function(cn,Kn,$r,ro){return an.apply(this,arguments)})(i,$e,ct,Vt);var an};const h=yield jd(i.localStore,e,!0),v=new $g(e,h._i),b=v.Wu(h.documents),P=ma.createSynthesizedTargetChangeForCurrentChange(n,l&&"Offline"!==i.onlineState),J=v.applyChanges(b,i.isPrimaryClient,P);ap(i,n,J.Xu);const re=new Xp(e,n,v);return i.ia.set(e,re),i.ra.has(n)?i.ra.get(n).push(e):i.ra.set(n,[e]),J.snapshot}),Jp.apply(this,arguments)}function Nm(i,e){return rf.apply(this,arguments)}function rf(){return rf=(0,c.Z)(function*(i,e){const n=An(i),l=n.ia.get(e),h=n.ra.get(l.targetId);if(h.length>1)return n.ra.set(l.targetId,h.filter(v=>!Au(v,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(l.targetId),n.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Cl(n.localStore,l.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(l.targetId),Xd(n.remoteStore,l.targetId),ih(n,l.targetId)}).catch(uu))):(ih(n,l.targetId),yield Cl(n.localStore,l.targetId,!0))}),rf.apply(this,arguments)}function Va(){return Va=(0,c.Z)(function*(i,e,n){const l=Cc(i);try{const h=yield function(v,b){const P=An(v),J=tr.now(),re=b.reduce((ct,Vt)=>ct.add(Vt.key),xi());let $e;return P.persistence.runTransaction("Locally write mutations","readwrite",ct=>P.fi.Ks(ct,re).next(Vt=>{$e=Vt;const an=[];for(const cn of b){const Kn=$i(cn,$e.get(cn.key));null!=Kn&&an.push(new Mu(cn.key,Kn,Bo(Kn.value.mapValue),Ys.exists(!0)))}return P.Bs.addMutationBatch(ct,J,an,b)})).then(ct=>(ct.applyToLocalDocumentSet($e),{batchId:ct.batchId,changes:$e}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(v,b,P){let J=v.ha[v.currentUser.toKey()];J||(J=new ii(tn)),J=J.insert(b,P),v.ha[v.currentUser.toKey()]=J}(l,h.batchId,n),yield yu(l,h.changes),yield Vu(l.remoteStore)}catch(h){const v=fu(h,"Failed to persist write");n.reject(v)}}),Va.apply(this,arguments)}function sf(i,e){return af.apply(this,arguments)}function af(){return af=(0,c.Z)(function*(i,e){const n=An(i);try{const l=yield Cm(n.localStore,e);e.targetChanges.forEach((h,v)=>{const b=n.aa.get(v);b&&(Yn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.na=!0:h.modifiedDocuments.size>0?Yn(b.na):h.removedDocuments.size>0&&(Yn(b.na),b.na=!1))}),yield yu(n,l,e)}catch(l){yield uu(l)}}),af.apply(this,arguments)}function op(i,e,n){const l=An(i);if(l.isPrimaryClient&&0===n||!l.isPrimaryClient&&1===n){const h=[];l.ia.forEach((v,b)=>{const P=b.view.Pu(e);P.snapshot&&h.push(P.snapshot)}),function(v,b){const P=An(v);P.onlineState=b;let J=!1;P.queries.forEach((re,$e)=>{for(const ct of $e.listeners)ct.Pu(b)&&(J=!0)}),J&&qp(P)}(l.eventManager,e),h.length&&l.sa.zo(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Ea(i,e,n){return hd.apply(this,arguments)}function hd(){return hd=(0,c.Z)(function*(i,e,n){const l=An(i);l.sharedClientState.updateQueryState(e,"rejected",n);const h=l.aa.get(e),v=h&&h.key;if(v){let b=new ii(xn.comparator);b=b.insert(v,Oi.newNoDocument(v,bn.min()));const P=xi().add(v),J=new Lr(bn.min(),new Map,new li(tn),b,P);yield sf(l,J),l.ua=l.ua.remove(v),l.aa.delete(e),rg(l)}else yield Cl(l.localStore,e,!1).then(()=>ih(l,e,n)).catch(uu)}),hd.apply(this,arguments)}function bc(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,c.Z)(function*(i,e){const n=An(i),l=e.batch.batchId;try{const h=yield py(n.localStore,e);jg(n,l,null),mu(n,l),n.sharedClientState.updateMutationState(l,"acknowledged"),yield yu(n,h)}catch(h){yield uu(h)}}),rh.apply(this,arguments)}function Sl(i,e,n){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,c.Z)(function*(i,e,n){const l=An(i);try{const h=yield function(v,b){const P=An(v);return P.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let re;return P.Bs.lookupMutationBatch(J,b).next($e=>(Yn(null!==$e),re=$e.keys(),P.Bs.removeMutationBatch(J,$e))).next(()=>P.Bs.performConsistencyCheck(J)).next(()=>P.fi.Ks(J,re))})}(l.localStore,e);jg(l,e,n),mu(l,e),l.sharedClientState.updateMutationState(e,"rejected",n),yield yu(l,h)}catch(h){yield uu(h)}}),Hu.apply(this,arguments)}function tg(){return tg=(0,c.Z)(function*(i,e){const n=An(i);Ec(n.remoteStore)||yn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(v){const b=An(v);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>b.Bs.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===l)return void e.resolve();const h=n.la.get(l)||[];h.push(e),n.la.set(l,h)}catch(l){const h=fu(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),tg.apply(this,arguments)}function mu(i,e){(i.la.get(e)||[]).forEach(n=>{n.resolve()}),i.la.delete(e)}function jg(i,e,n){const l=An(i);let h=l.ha[l.currentUser.toKey()];if(h){const v=h.get(e);v&&(n?v.reject(n):v.resolve(),h=h.remove(e)),l.ha[l.currentUser.toKey()]=h}}function ih(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const l of i.ra.get(e))i.ia.delete(l),n&&i.sa.wa(l,n);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(l=>{i.ca.containsKey(l)||Fm(i,l)})}function Fm(i,e){i.oa.delete(e.path.canonicalString());const n=i.ua.get(e);null!==n&&(Xd(i.remoteStore,n),i.ua=i.ua.remove(e),i.aa.delete(n),rg(i))}function ap(i,e,n){for(const l of n)l instanceof ip?(i.ca.addReference(l.key,e),ng(i,l)):l instanceof cd?(yn("SyncEngine","Document no longer in limbo: "+l.key),i.ca.removeReference(l.key,e),i.ca.containsKey(l.key)||Fm(i,l.key)):Un()}function ng(i,e){const n=e.key,l=n.path.canonicalString();i.ua.get(n)||i.oa.has(l)||(yn("SyncEngine","New document in limbo: "+n),i.oa.add(l),rg(i))}function rg(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const n=new xn(Yr.fromString(e)),l=i.fa.next();i.aa.set(l,new dd(n)),i.ua=i.ua.insert(n,l),od(i.remoteStore,new Na(fa(Tu(n.path)),l,2,Pe.A))}}function yu(i,e,n){return lp.apply(this,arguments)}function lp(){return lp=(0,c.Z)(function*(i,e,n){const l=An(i),h=[],v=[],b=[];var P;l.ia.isEmpty()||(l.ia.forEach((P,J)=>{b.push(l._a(J,e,n).then(re=>{if(re){l.isPrimaryClient&&l.sharedClientState.updateQueryState(J.targetId,re.fromCache?"not-current":"current"),h.push(re);const $e=Lf.Ys(J.targetId,re);v.push($e)}}))}),yield Promise.all(b),l.sa.zo(h),yield(P=(0,c.Z)(function*(J,re){const $e=An(J);try{yield $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",ct=>jt.forEach(re,Vt=>jt.forEach(Vt.Hs,an=>$e.persistence.referenceDelegate.addReference(ct,Vt.targetId,an)).next(()=>jt.forEach(Vt.Js,an=>$e.persistence.referenceDelegate.removeReference(ct,Vt.targetId,an)))))}catch(ct){if(!Pa(ct))throw ct;yn("LocalStore","Failed to update sequence numbers: "+ct)}for(const ct of re){const Vt=ct.targetId;if(!ct.fromCache){const an=$e.ui.get(Vt),Kn=an.withLastLimboFreeSnapshotVersion(an.snapshotVersion);$e.ui=$e.ui.insert(Vt,Kn)}}}),function(J,re){return P.apply(this,arguments)})(l.localStore,v))}),lp.apply(this,arguments)}function ig(i,e){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,c.Z)(function*(i,e){const n=An(i);if(!n.currentUser.isEqual(e)){yn("SyncEngine","User change. New user:",e.toKey());const l=yield Bf(n.localStore,e);n.currentUser=e,(h=n).la.forEach(b=>{b.forEach(P=>{P.reject(new sn(xt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.la.clear(),n.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield yu(n,l.di)}var h}),Qo.apply(this,arguments)}function up(i,e){const n=An(i),l=n.aa.get(e);if(l&&l.na)return xi().add(l.key);{let h=xi();const v=n.ra.get(e);if(!v)return h;for(const b of v){const P=n.ia.get(b);h=h.unionWith(P.view.ju)}return h}}function Hg(i,e){return lf.apply(this,arguments)}function lf(){return lf=(0,c.Z)(function*(i,e){const n=An(i),l=yield jd(n.localStore,e.query,!0),h=e.view.ta(l);return n.isPrimaryClient&&ap(n,e.targetId,h.Xu),h}),lf.apply(this,arguments)}function sg(i,e){return uf.apply(this,arguments)}function uf(){return uf=(0,c.Z)(function*(i,e){const n=An(i);return Lu(n.localStore,e).then(l=>yu(n,l))}),uf.apply(this,arguments)}function Gg(i,e,n,l){return og.apply(this,arguments)}function og(){return og=(0,c.Z)(function*(i,e,n,l){const h=An(i),v=yield function(b,P){const J=An(b),re=An(J.Bs);return J.persistence.runTransaction("Lookup mutation documents","readonly",$e=>re.fn($e,P).next(ct=>ct?J.fi.Ks($e,ct):jt.resolve(null)))}(h.localStore,e);var P;null!==v?("pending"===n?yield Vu(h.remoteStore):"acknowledged"===n||"rejected"===n?(jg(h,e,l||null),mu(h,e),P=e,An(An(h.localStore).Bs)._n(P)):Un(),yield yu(h,v)):yn("SyncEngine","Cannot apply mutation batch with id: "+e)}),og.apply(this,arguments)}function sh(){return sh=(0,c.Z)(function*(i,e){const n=An(i);if(oh(n),Cc(n),!0===e&&!0!==n.da){const l=n.sharedClientState.getAllActiveQueryTargets(),h=yield zg(n,l.toArray());n.da=!0,yield Uu(n.remoteStore,!0);for(const v of h)od(n.remoteStore,v)}else if(!1===e&&!1!==n.da){const l=[];let h=Promise.resolve();n.ra.forEach((v,b)=>{n.sharedClientState.isLocalQueryTarget(b)?l.push(b):h=h.then(()=>(ih(n,b),Cl(n.localStore,b,!0))),Xd(n.remoteStore,b)}),yield h,yield zg(n,l),function(v){const b=An(v);b.aa.forEach((P,J)=>{Xd(b.remoteStore,J)}),b.ca.Si(),b.aa=new Map,b.ua=new ii(xn.comparator)}(n),n.da=!1,yield Uu(n.remoteStore,!1)}}),sh.apply(this,arguments)}function zg(i,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,c.Z)(function*(i,e,n){const l=An(i),h=[],v=[];for(const b of e){let P;const J=l.ra.get(b);if(J&&0!==J.length){P=yield $d(l.localStore,fa(J[0]));for(const re of J){const $e=l.ia.get(re),ct=yield Hg(l,$e);ct.snapshot&&v.push(ct.snapshot)}}else{const re=yield Tm(l.localStore,b);P=yield $d(l.localStore,re),yield gu(l,Wg(re),b,!1)}h.push(P)}return l.sa.zo(v),h}),cf.apply(this,arguments)}function Wg(i){return yh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Kg(i){const e=An(i);return An(An(e.localStore).persistence).Fs()}function Lm(i,e,n,l){return ag.apply(this,arguments)}function ag(){return ag=(0,c.Z)(function*(i,e,n,l){const h=An(i);if(h.da)return void yn("SyncEngine","Ignoring unexpected query state notification.");const v=h.ra.get(e);if(v&&v.length>0)switch(n){case"current":case"not-current":{const b=yield Lu(h.localStore,yl(v[0])),P=Lr.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield yu(h,b,P);break}case"rejected":yield Cl(h.localStore,e,!0),ih(h,e,l);break;default:Un()}}),ag.apply(this,arguments)}function Bm(i,e,n){return lg.apply(this,arguments)}function lg(){return lg=(0,c.Z)(function*(i,e,n){const l=oh(i);if(l.da){for(const h of e){if(l.ra.has(h)){yn("SyncEngine","Adding an already active target "+h);continue}const v=yield Tm(l.localStore,h),b=yield $d(l.localStore,v);yield gu(l,Wg(v),b.targetId,!1),od(l.remoteStore,b)}for(const h of n)l.ra.has(h)&&(yield Cl(l.localStore,h,!1).then(()=>{Xd(l.remoteStore,h),ih(l,h)}).catch(uu))}}),lg.apply(this,arguments)}function oh(i){const e=An(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=up.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ea.bind(null,e),e.sa.zo=ef.bind(null,e.eventManager),e.sa.wa=nh.bind(null,e.eventManager),e}function Cc(i){const e=An(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sl.bind(null,e),e}class ah{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.M=Kh(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return Fp(this.persistence,new Im,e.initialUser,this.M)}ya(e){return new Uf(Dl.Yi,this.M)}ga(e){return new _c}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yg extends ah{constructor(e,n,l){super(),this.Ta=e,this.cacheSizeBytes=n,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,l=this;return(0,c.Z)(function*(){yield n().call(l,e),yield l.Ta.initialize(l,e),yield Cc(l.Ta.syncEngine),yield Vu(l.Ta.remoteStore),yield l.persistence.Ts(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(l.localStore),Promise.resolve()))})()}Ia(e){return Fp(this.persistence,new Im,e.initialUser,this.M)}pa(e){return new Bd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const n=jh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new kf(this.synchronizeTabs,n,e.clientId,l,e.asyncQueue,$p(),Kd(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new _c}}class Um extends Yg{constructor(e,n){super(e,n,!1),this.Ta=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,l=this;return(0,c.Z)(function*(){yield n().call(l,e);const h=l.Ta.syncEngine;l.sharedClientState instanceof zh&&(l.sharedClientState.syncEngine={$r:Gg.bind(null,h),Br:Lm.bind(null,h),Lr:Bm.bind(null,h),Fs:Kg.bind(null,h),Fr:sg.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ts(function(){var v=(0,c.Z)(function*(b){yield function Al(i,e){return sh.apply(this,arguments)}(l.Ta.syncEngine,b),l.gcScheduler&&(b&&!l.gcScheduler.started?l.gcScheduler.start(l.localStore):b||l.gcScheduler.stop())});return function(b){return v.apply(this,arguments)}}())})()}ga(e){const n=$p();if(!zh.vt(n))throw new sn(xt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=jh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zh(n,e.asyncQueue,l,e.clientId,e.initialUser)}}class df{initialize(e,n){var l=this;return(0,c.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(n),l.remoteStore=l.createRemoteStore(n),l.eventManager=l.createEventManager(n),l.syncEngine=l.createSyncEngine(n,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>op(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=ig.bind(null,l.syncEngine),yield Uu(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pm}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),l=new Lg(e.databaseInfo);return new Gp(e.authCredentials,e.appCheckCredentials,l,n)}createRemoteStore(e){return n=this.localStore,l=this.datastore,h=e.asyncQueue,v=P=>op(this.syncEngine,P,0),b=Wh.vt()?new Wh:new Fg,new Yd(n,l,h,v,b);var n,l,h,v,b}createSyncEngine(e,n){return function(l,h,v,b,P,J,re){const $e=new Qp(l,h,v,b,P,J);return re&&($e.da=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const l=An(n);yn("RemoteStore","RemoteStore shutting down."),l.wu.add(5),yield qh(l),l.gu.shutdown(),l.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Zl(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const l={value:i.slice(n,n+e),done:!1};return n+=e,l}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Dc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Jo{constructor(e,n){this.Ra=e,this.M=n,this.metadata=new Ar,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(l=>{l&&l.Mu()?this.metadata.resolve(l.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.payload)}`))},l=>this.metadata.reject(l))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,c.Z)(function*(){const n=yield e.Va();if(null===n)return null;const l=e.ba.decode(n),h=Number(l);isNaN(h)&&e.va(`length string (${l}) is not valid number`);const v=yield e.Sa(h);return new ju(JSON.parse(v),n.length+h)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,c.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const n=e.Da();n<0&&e.va("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),l})()}Sa(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ca())&&n.va("Reached the end of bundle when more is expected.");const l=n.ba.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),l})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ra.read();if(!n.done){const l=new Uint8Array(e.buffer.length+n.value.length);l.set(e.buffer),l.set(n.value,e.buffer.length),e.buffer=l}return n.done})()}}class fd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new sn(xt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,c.Z)(function*(v,b){const P=An(v),J=br(P.M)+"/documents",re={documents:b.map(an=>Zs(P.M,an))},$e=yield P._o("BatchGetDocuments",J,re),ct=new Map;$e.forEach(an=>{const cn=function Kc(i,e){return"found"in e?function(n,l){Yn(!!l.found);const h=xa(n,l.found.name),v=uo(l.found.updateTime),b=new Ls({mapValue:{fields:l.found.fields}});return Oi.newFoundDocument(h,v,b)}(i,e):"missing"in e?function(n,l){Yn(!!l.missing),Yn(!!l.readTime);const h=xa(n,l.missing),v=uo(l.readTime);return Oi.newNoDocument(h,v)}(i,e):Un()}(P.M,an);ct.set(cn.key.toString(),cn)});const Vt=[];return b.forEach(an=>{const cn=ct.get(an.toString());Yn(!!cn),Vt.push(cn)}),Vt}),function(v,b){return h.apply(this,arguments)})(n.datastore,e);var h;return l.forEach(h=>n.recordVersion(h)),l})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var l;e.mutations.forEach(l=>{n.delete(l.key.toString())}),n.forEach((l,h)=>{const v=xn.fromPath(h);e.mutations.push(new tl(v,e.precondition(v)))}),yield(l=(0,c.Z)(function*(h,v){const b=An(h),P=br(b.M)+"/documents",J={writes:v.map(re=>as(b.M,re))};yield b.co("Commit",P,J)}),function(h,v){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Un();n=bn.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!n.isEqual(l))throw new sn(xt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Ys.updateTime(n):Ys.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(bn.min()))throw new sn(xt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ys.updateTime(n)}return Ys.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cp{constructor(e,n,l,h,v){this.asyncQueue=e,this.datastore=n,this.options=l,this.updateFunction=h,this.deferred=v,this.xa=l.maxAttempts,this.No=new jf(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,c.Z)(function*(){const n=new fd(e.datastore),l=e.ka(n);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(h)}).catch(v=>{e.Ma(v)}))}).catch(h=>{e.Ma(h)})}))}ka(e){try{const n=this.updateFunction(e);return!Ri(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!bp(n)}return!1}}class xl{constructor(e,n,l,h){var v=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=l,this.databaseInfo=h,this.user=os.UNAUTHENTICATED,this.clientId=Bt.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var b=(0,c.Z)(function*(P){yn("FirestoreClient","Received user=",P.uid),yield v.authCredentialListener(P),v.user=P});return function(P){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(l,b=>(yn("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sn(xt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(l){const h=fu(l,"Failed to shutdown persistence");n.reject(h)}})),n.promise}}function Ua(i,e){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),yn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let l=n.initialUser;i.setCredentialChangeListener(function(){var h=(0,c.Z)(function*(v){l.isEqual(v)||(yield Bf(e.localStore,v),l=v)});return function(v){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Tc.apply(this,arguments)}function Gu(i,e){return zu.apply(this,arguments)}function zu(){return zu=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Sc(i);yn("FirestoreClient","Initializing OnlineComponentProvider");const l=yield i.getConfiguration();yield e.initialize(n,l),i.setCredentialChangeListener(h=>Vg(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,v)=>Vg(e.remoteStore,v)),i.onlineComponents=e}),zu.apply(this,arguments)}function Sc(i){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,c.Z)(function*(i){return i.offlineComponents||(yn("FirestoreClient","Using default OfflineComponentProvider"),yield Ua(i,new ah)),i.offlineComponents}),Wu.apply(this,arguments)}function Ku(i){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,c.Z)(function*(i){return i.onlineComponents||(yn("FirestoreClient","Using default OnlineComponentProvider"),yield Gu(i,new df)),i.onlineComponents}),Ac.apply(this,arguments)}function pd(i){return Sc(i).then(e=>e.persistence)}function xc(i){return Sc(i).then(e=>e.localStore)}function dp(i){return Ku(i).then(e=>e.remoteStore)}function hp(i){return Ku(i).then(e=>e.syncEngine)}function gd(i){return ug.apply(this,arguments)}function ug(){return ug=(0,c.Z)(function*(i){const e=yield Ku(i),n=e.eventManager;return n.onListen=sp.bind(null,e.syncEngine),n.onUnlisten=Nm.bind(null,e.syncEngine),n}),ug.apply(this,arguments)}function cg(i,e,n={}){const l=new Ar;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(h,v,b,P,J){const re=new Dc({next:ct=>{v.enqueueAndForget(()=>Jh(h,$e));const Vt=ct.docs.has(b);!Vt&&ct.fromCache?J.reject(new sn(xt.UNAVAILABLE,"Failed to get document because the client is offline.")):Vt&&ct.fromCache&&P&&"server"===P.source?J.reject(new sn(xt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(ct)},error:ct=>J.reject(ct)}),$e=new pu(Tu(b.path),re,{includeMetadataChanges:!0,ku:!0});return tp(h,$e)}(yield gd(i),i.asyncQueue,e,n,l)})),l.promise}function Jg(i,e,n={}){const l=new Ar;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(h,v,b,P,J){const re=new Dc({next:ct=>{v.enqueueAndForget(()=>Jh(h,$e)),ct.fromCache&&"server"===P.source?J.reject(new sn(xt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(ct)},error:ct=>J.reject(ct)}),$e=new pu(b,re,{includeMetadataChanges:!0,ku:!0});return tp(h,$e)}(yield gd(i),i.asyncQueue,e,n,l)})),l.promise}const jm=new Map;function rm(i,e,n){if(!n)throw new sn(xt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function dg(i,e,n,l){if(!0===e&&!0===l)throw new sn(xt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function im(i){if(!xn.isDocumentKey(i))throw new sn(xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hg(i){if(xn.isDocumentKey(i))throw new sn(xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Un()}function _i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new sn(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(i);throw new sn(xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Hm(i,e){if(e<=0)throw new sn(xt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class sm{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new sn(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sn(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,l){this._authCredentials=n,this._appCheckCredentials=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sm({}),this._settingsFrozen=!1,e instanceof Js?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new sn(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(h.options.projectId)}(e))}get app(){if(!this._app)throw new sn(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sn(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sm(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ka;switch(n.type){case"gapi":const l=n.client;return Yn(!("object"!=typeof l||null===l||!l.auth||!l.auth.getAuthHeaderValueForFirstParty)),new T(l,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new sn(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=jm.get(e);n&&(yn("ComponentProvider","Removing Datastore"),jm.delete(e),n.terminate())}(this),Promise.resolve()}}function vu(i,e,n,l={}){var h;const v=(i=_i(i,md))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==e&&Is("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},v),{host:`${e}:${n}`,ssl:!1})),l.mockUserToken){let b,P;if("string"==typeof l.mockUserToken)b=l.mockUserToken,P=os.MOCK_USER;else{b=(0,be.Sg)(l.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const J=l.mockUserToken.sub||l.mockUserToken.user_id;if(!J)throw new sn(xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new os(J)}i._authCredentials=new Pc(new Wa(b,P))}}class ti{constructor(e,n,l){this.converter=n,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class us{constructor(e,n,l){this.converter=n,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class ul extends us{constructor(e,n,l){super(e,n,Tu(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new xn(e))}withConverter(e){return new ul(this.firestore,e,this._path)}}function gy(i,e,...n){if(i=(0,be.m9)(i),rm("collection","path",e),i instanceof md){const l=Yr.fromString(e,...n);return hg(l),new ul(i,null,l)}{if(!(i instanceof ti||i instanceof ul))throw new sn(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Yr.fromString(e,...n));return hg(l),new ul(i.firestore,null,l)}}function Gm(i,e){if(i=_i(i,md),rm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sn(xt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(i,null,(n=e,new ha(Yr.emptyPath(),n)));var n}function fg(i,e,...n){if(i=(0,be.m9)(i),1===arguments.length&&(e=Bt.R()),rm("doc","path",e),i instanceof md){const l=Yr.fromString(e,...n);return im(l),new ti(i,null,new xn(l))}{if(!(i instanceof ti||i instanceof ul))throw new sn(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Yr.fromString(e,...n));return im(l),new ti(i.firestore,i instanceof ul?i.converter:null,new xn(l))}}function my(i,e){return i=(0,be.m9)(i),e=(0,be.m9)(e),(i instanceof ti||i instanceof ul)&&(e instanceof ti||e instanceof ul)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Xl(i,e){return i=(0,be.m9)(i),e=(0,be.m9)(e),i instanceof us&&e instanceof us&&i.firestore===e.firestore&&Au(i._query,e._query)&&i.converter===e.converter}class lh{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new jf(this,"async_queue_retry"),this.Qa=()=>{const n=Kd();n&&yn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Kd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Kd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new Ar;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,c.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Pa(n))throw n;yn("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(l=>{throw this.Ua=l,this.qa=!1,ws("INTERNAL UNHANDLED ERROR: ",function(v){let b=v.message||"";return v.stack&&(b=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),b}(l)),l}).then(l=>(this.qa=!1,l))));return this.Fa=n,n}enqueueAfterDelay(e,n,l){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const h=th.createAndSchedule(this,e,n,l,v=>this.Ha(v));return this.La.push(h),h}ja(){this.Ua&&Un()}verifyOperationInProgress(){}Ja(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,l)=>n.targetTimeMs-l.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function pg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(i)}class gg{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,l){this._progressObserver={next:e,error:n,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const om=-1;class ms extends md{constructor(e,n,l){super(e,n,l),this.type="firestore",this._queue=new lh,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mg(this),this._firestoreClient.terminate()}}function no(i){return i._firestoreClient||mg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function mg(i){var e;const n=i._freezeSettings(),l=(v=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new gh(i._databaseId,v,i._persistenceKey,(P=n).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var v,P;i._firestoreClient=new xl(i._authCredentials,i._appCheckCredentials,i._queue,l)}function zm(i,e){mp(i=_i(i,ms));const n=no(i),l=i._freezeSettings(),h=new df;return yg(n,h,new Yg(h,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Wm(i){mp(i=_i(i,ms));const e=no(i),n=i._freezeSettings(),l=new df;return yg(e,l,new Um(l,n.cacheSizeBytes))}function yg(i,e,n){const l=new Ar;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield Ua(i,n),yield Gu(i,e),l.resolve()}catch(h){if(!("FirebaseError"===(v=h).name?v.code===xt.FAILED_PRECONDITION||v.code===xt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),l.reject(h)}var v})).then(()=>l.promise)}function am(i){if(i._initialized&&!i._terminated)throw new sn(xt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ar;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(l){if(!Zo.vt())return Promise.resolve();const h=l+"main";yield Zo.delete(h)}),function(l){return n.apply(this,arguments)})(jh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function vg(i){return function(e){const n=new Ar;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function eg(i,e){return tg.apply(this,arguments)}(yield hp(e),n)})),n.promise}(no(i=_i(i,ms)))}function Km(i){return function qg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield pd(i),n=yield dp(i);return e.setNetworkEnabled(!0),function(l){const h=An(l);return h.wu.delete(0),qd(h)}(n)}))}(no(i=_i(i,ms)))}function lm(i){return function Zg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield pd(i),n=yield dp(i);return e.setNetworkEnabled(!1),(l=(0,c.Z)(function*(h){const v=An(h);v.wu.add(0),yield qh(v),v.yu.set("Offline")}),function(h){return l.apply(this,arguments)})(n);var l}))}(no(i=_i(i,ms)))}function gp(i,e){const n=no(i=_i(i,ms)),l=new gg;return function tm(i,e,n,l){const h=function(v,b){let P;return P="string"==typeof v?(new TextEncoder).encode(v):v,J=function(J,re){if(J instanceof Uint8Array)return Zl(J,void 0);if(J instanceof ArrayBuffer)return Zl(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Jo(J,b);var J}(n,Kh(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function Vm(i,e,n){const l=An(i);var h;(h=(0,c.Z)(function*(v,b,P){try{const J=yield b.getMetadata();if(yield function(Vt,an){const cn=An(Vt),Kn=uo(an.createTime);return cn.persistence.runTransaction("hasNewerBundle","readonly",$r=>cn._s.getBundleMetadata($r,an.id)).then($r=>!!$r&&$r.createTime.compareTo(Kn)>=0)}(v.localStore,J))return yield b.close(),P._completeWith({taskState:"Success",documentsLoaded:(Vt=J).totalDocuments,bytesLoaded:Vt.totalBytes,totalDocuments:Vt.totalDocuments,totalBytes:Vt.totalBytes}),Promise.resolve(new Set);P._updateProgress(tf(J));const re=new rp(J,v.localStore,b.M);let $e=yield b.ma();for(;$e;){const Vt=yield re.Fu($e);Vt&&P._updateProgress(Vt),$e=yield b.ma()}const ct=yield re.complete();return yield yu(v,ct.Lu,void 0),yield function(Vt,an){const cn=An(Vt);return cn.persistence.runTransaction("Save bundle","readwrite",Kn=>cn._s.saveBundleMetadata(Kn,an))}(v.localStore,J),P._completeWith(ct.progress),Promise.resolve(ct.Bu)}catch(J){return Is("SyncEngine",`Loading bundle failed with ${J}`),P._failWith(J),Promise.resolve(new Set)}var Vt}),function(v,b,P){return h.apply(this,arguments)})(l,e,n).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield hp(i),h,l)}))}(n,i._databaseId,e,l),l}function yy(i,e){return function nm(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,l){const h=An(n);return h.persistence.runTransaction("Get named query","readonly",v=>h._s.getNamedQuery(v,l))}(yield xc(i),e)}))}(no(i=_i(i,ms)),e).then(n=>n?new us(i,null,n.query):null)}function mp(i){if(i._initialized||i._terminated)throw new sn(xt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new sn(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ds(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(hs.fromBase64String(e))}catch(n){throw new sn(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ml(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mc{constructor(e){this._methodName=e}}class uh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new sn(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new sn(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const _g=/^__.*__$/;class ff{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return null!==this.fieldMask?new Mu(e,this.data,this.fieldMask,n,this.fieldTransforms):new jl(e,this.data,n,this.fieldTransforms)}}class ch{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return new Mu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Un()}}class dh{constructor(e,n,l,h,v,b){this.settings=e,this.databaseId=n,this.M=l,this.ignoreUndefinedProperties=h,void 0===v&&this.tc(),this.fieldTransforms=v||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new dh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.nc({path:l,ic:!1});return h.rc(e),h}oc(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.nc({path:l,ic:!1});return h.tc(),h}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Tt(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(pf(this.ec)&&_g.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class _u{constructor(e,n,l){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=l||Kh(e)}lc(e,n,l,h=!1){return new dh({ec:e,methodName:n,hc:l,path:ds.emptyPath(),ic:!1,cc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function yd(i){const e=i._freezeSettings(),n=Kh(i._databaseId);return new _u(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vd(i,e,n,l,h,v={}){const b=i.lc(v.merge||v.mergeFields?2:0,e,n,h);Q("Data must be an object, but it was:",b,l);const P=D(l,b);let J,re;if(v.merge)J=new sa(b.fieldMask),re=b.fieldTransforms;else if(v.mergeFields){const $e=[];for(const ct of v.mergeFields){const Vt=ae(e,ct,n);if(!b.contains(Vt))throw new sn(xt.INVALID_ARGUMENT,`Field '${Vt}' is specified in your field mask but missing from your input data.`);Ut($e,Vt)||$e.push(Vt)}J=new sa($e),re=b.fieldTransforms.filter(ct=>J.covers(ct.field))}else J=null,re=b.fieldTransforms;return new ff(new Ls(P),J,re)}class Rc extends Mc{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}function yp(i,e,n){return new dh({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class vp extends Mc{_toFieldTransform(e){return new Aa(e.path,new xu)}isEqual(e){return e instanceof vp}}class Eg extends Mc{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=yp(this,e,!0),l=this.fc.map(v=>_(v,n)),h=new Ul(l);return new Aa(e.path,h)}isEqual(e){return this===e}}class um extends Mc{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=yp(this,e,!0),l=this.fc.map(v=>_(v,n)),h=new $l(l);return new Aa(e.path,h)}isEqual(e){return this===e}}class u extends Mc{constructor(e,n){super(e),this.dc=n}_toFieldTransform(e){const n=new lc(e.M,Ip(e.M,this.dc));return new Aa(e.path,n)}isEqual(e){return this===e}}function s(i,e,n,l){const h=i.lc(1,e,n);Q("Data must be an object, but it was:",h,l);const v=[],b=Ls.empty();Fs(l,(J,re)=>{const $e=It(e,J,n);re=(0,be.m9)(re);const ct=h.oc($e);if(re instanceof Rc)v.push($e);else{const Vt=_(re,ct);null!=Vt&&(v.push($e),b.set($e,Vt))}});const P=new sa(v);return new ch(b,P,h.fieldTransforms)}function a(i,e,n,l,h,v){const b=i.lc(1,e,n),P=[ae(e,l,n)],J=[h];if(v.length%2!=0)throw new sn(xt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Vt=0;Vt<v.length;Vt+=2)P.push(ae(e,v[Vt])),J.push(v[Vt+1]);const re=[],$e=Ls.empty();for(let Vt=P.length-1;Vt>=0;--Vt)if(!Ut(re,P[Vt])){const an=P[Vt];let cn=J[Vt];cn=(0,be.m9)(cn);const Kn=b.oc(an);if(cn instanceof Rc)re.push(an);else{const $r=_(cn,Kn);null!=$r&&(re.push(an),$e.set(an,$r))}}const ct=new sa(re);return new ch($e,ct,b.fieldTransforms)}function f(i,e,n,l=!1){return _(n,i.lc(l?4:3,e))}function _(i,e){if(R(i=(0,be.m9)(i)))return Q("Unsupported field value:",e,i),D(i,e);if(i instanceof Mc)return function(n,l){if(!pf(l.ec))throw l.ac(`${n._methodName}() can only be used with update() and set()`);if(!l.path)throw l.ac(`${n._methodName}() is not currently supported inside arrays`);const h=n._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,l){const h=[];let v=0;for(const b of n){let P=_(b,l.uc(v));null==P&&(P={nullValue:"NULL_VALUE"}),h.push(P),v++}return{arrayValue:{values:h}}}(i,e)}return function(n,l){if(null===(n=(0,be.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Ip(l.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const h=tr.fromDate(n);return{timestampValue:Gc(l.M,h)}}if(n instanceof tr){const h=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gc(l.M,h)}}if(n instanceof uh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ml)return{bytesValue:Ah(l.M,n._byteString)};if(n instanceof ti){const h=l.databaseId,v=n.firestore._databaseId;if(!v.isEqual(h))throw l.ac(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:iu(n.firestore._databaseId||l.databaseId,n._key.path)}}throw l.ac(`Unsupported field value: ${hf(n)}`)}(i,e)}function D(i,e){const n={};return gl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(i,(l,h)=>{const v=_(h,e.sc(l));null!=v&&(n[l]=v)}),{mapValue:{fields:n}}}function R(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof tr||i instanceof uh||i instanceof Ml||i instanceof ti||i instanceof Mc)}function Q(i,e,n){if(!R(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=hf(n);throw e.ac("an object"===l?i+" a custom object":i+" "+l)}var l}function ae(i,e,n){if((e=(0,be.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return It(i,e);throw Tt("Field path arguments must be of type string or ",i,!1,void 0,n)}const Se=new RegExp("[~\\*/\\[\\]]");function It(i,e,n){if(e.search(Se)>=0)throw Tt(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch(l){throw Tt(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Tt(i,e,n,l,h){const v=l&&!l.isEmpty(),b=void 0!==h;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let J="";return(v||b)&&(J+=" (found",v&&(J+=` in field ${l}`),b&&(J+=` in document ${h}`),J+=")"),new sn(xt.INVALID_ARGUMENT,P+i+J)}function Ut(i,e){return i.some(n=>n.isEqual(e))}class En{constructor(e,n,l,h,v){this._firestore=e,this._userDataWriter=n,this._key=l,this._document=h,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xr("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fn extends En{data(){return super.data()}}function xr(i,e){return"string"==typeof e?It(i,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}class kr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ms extends En{constructor(e,n,l,h,v,b){super(e,n,l,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=v}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const l=this._document.data.field(xr("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,n.serverTimestamps)}}}class Rs extends Ms{data(e={}){return super.data(e)}}class ji{constructor(e,n,l,h){this._firestore=e,this._userDataWriter=n,this._snapshot=h,this.metadata=new kr(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(l=>{e.call(n,new Rs(this._firestore,this._userDataWriter,l.key,l,new kr(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new sn(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let v=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new Rs(l._firestore,l._userDataWriter,b.doc.key,b.doc,new kr(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:v++}))}{let v=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>h||3!==b.type).map(b=>{const P=new Rs(l._firestore,l._userDataWriter,b.doc.key,b.doc,new kr(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let J=-1,re=-1;return 0!==b.type&&(J=v.indexOf(b.doc.key),v=v.delete(b.doc.key)),1!==b.type&&(v=v.add(b.doc),re=v.indexOf(b.doc.key)),{type:fo(b.type),doc:P,oldIndex:J,newIndex:re}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fo(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Un()}}function gf(i,e){return i instanceof Ms&&e instanceof Ms?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ji&&e instanceof ji&&i._firestore===e._firestore&&Xl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function _d(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new sn(xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ed{}function hh(i,...e){for(const n of e)i=n._apply(i);return i}class wg extends Ed{constructor(e,n,l){super(),this._c=e,this.wc=n,this.mc=l,this.type="where"}_apply(e){const n=yd(e.firestore),l=function(h,v,b,P,J,re,$e){let ct;if(J.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new sn(xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){Yy($e,re);const an=[];for(const cn of $e)an.push(Zm(P,h,cn));ct={arrayValue:{values:an}}}else ct=Zm(P,h,$e)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||Yy($e,re),ct=f(b,"where",$e,"in"===re||"not-in"===re);const Vt=zn.create(J,re,ct);return function(an,cn){if(cn.S()){const $r=ru(an);if(null!==$r&&!$r.isEqual(cn.field))throw new sn(xt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$r.toString()}' and '${cn.field.toString()}'`);const ro=Ll(an);null!==ro&&Xm(0,cn.field,ro)}const Kn=function($r,ro){for(const Oo of $r.filters)if(ro.indexOf(Oo.op)>=0)return Oo.op;return null}(an,function($r){switch($r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(cn.op));if(null!==Kn)throw new sn(xt.INVALID_ARGUMENT,Kn===cn.op?`Invalid query. You cannot use more than one '${cn.op.toString()}' filter.`:`Invalid query. You cannot use '${cn.op.toString()}' filters with '${Kn.toString()}' filters.`)}(h,Vt),Vt}(e._query,0,n,e.firestore._databaseId,this._c,this.wc,this.mc);return new us(e.firestore,e.converter,function(h,v){const b=h.filters.concat([v]);return new ha(h.path,h.collectionGroup,h.explicitOrderBy.slice(),b,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,l))}}function Vo(i,e,n){const l=e,h=xr("where",i);return new wg(h,l,n)}class vy extends Ed{constructor(e,n){super(),this._c=e,this.gc=n,this.type="orderBy"}_apply(e){const n=function(l,h,v){if(null!==l.startAt)throw new sn(xt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new sn(xt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Ks(h,v);return function(P,J){if(null===Ll(P)){const re=ru(P);null!==re&&Xm(0,re,J.field)}}(l,b),b}(e._query,this._c,this.gc);return new us(e.firestore,e.converter,function(l,h){const v=l.explicitOrderBy.concat([h]);return new ha(l.path,l.collectionGroup,v,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function zy(i,e="asc"){const n=e,l=xr("orderBy",i);return new vy(l,n)}class _y extends Ed{constructor(e,n,l){super(),this.type=e,this.yc=n,this.Ic=l}_apply(e){return new us(e.firestore,e.converter,Bl(e._query,this.yc,this.Ic))}}function Ey(i){return Hm("limit",i),new _y("limit",i,"F")}function Wy(i){return Hm("limitToLast",i),new _y("limitToLast",i,"L")}class qm extends Ed{constructor(e,n,l){super(),this.type=e,this.Tc=n,this.Ec=l}_apply(e){const n=Cy(e,this.type,this.Tc,this.Ec);return new us(e.firestore,e.converter,(h=n,new ha((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}function wy(...i){return new qm("startAt",i,!0)}function _p(...i){return new qm("startAfter",i,!1)}class Iy extends Ed{constructor(e,n,l){super(),this.type=e,this.Tc=n,this.Ec=l}_apply(e){const n=Cy(e,this.type,this.Tc,this.Ec);return new us(e.firestore,e.converter,(h=n,new ha((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function Ky(...i){return new Iy("endBefore",i,!1)}function by(...i){return new Iy("endAt",i,!0)}function Cy(i,e,n,l){if(n[0]=(0,be.m9)(n[0]),n[0]instanceof En)return function(h,v,b,P,J){if(!P)throw new sn(xt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const re=[];for(const $e of Su(h))if($e.field.isKeyField())re.push(bu(v,P.key));else{const ct=P.data.field($e.field);if(Nl(ct))throw new sn(xt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+$e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ct){const Vt=$e.field.canonicalString();throw new sn(xt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Vt}' (used as the orderBy) does not exist.`)}re.push(ct)}return new lo(re,J)}(i._query,i.firestore._databaseId,e,n[0]._document,l);{const h=yd(i.firestore);return function(v,b,P,J,re,$e){const ct=v.explicitOrderBy;if(re.length>ct.length)throw new sn(xt.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Vt=[];for(let an=0;an<re.length;an++){const cn=re[an];if(ct[an].field.isKeyField()){if("string"!=typeof cn)throw new sn(xt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof cn}`);if(!_h(v)&&-1!==cn.indexOf("/"))throw new sn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${cn}' contains a slash.`);const Kn=v.path.child(Yr.fromString(cn));if(!xn.isDocumentKey(Kn))throw new sn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${Kn}' is not because it contains an odd number of segments.`);const $r=new xn(Kn);Vt.push(bu(b,$r))}else{const Kn=f(P,J,cn);Vt.push(Kn)}}return new lo(Vt,$e)}(i._query,i.firestore._databaseId,h,e,n,l)}}function Zm(i,e,n){if("string"==typeof(n=(0,be.m9)(n))){if(""===n)throw new sn(xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_h(e)&&-1!==n.indexOf("/"))throw new sn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const l=e.path.child(Yr.fromString(n));if(!xn.isDocumentKey(l))throw new sn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return bu(i,new xn(l))}if(n instanceof ti)return bu(i,n._key);throw new sn(xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function Yy(i,e){if(!Array.isArray(i)||0===i.length)throw new sn(xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new sn(xt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xm(i,e,n){if(!n.isEqual(e))throw new sn(xt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const Qm={maxAttempts:5};class Eu{convertValue(e,n="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Un()}}convertObject(e,n){const l={};return Fs(e.fields,(h,v)=>{l[h]=this.convertValue(v,n)}),l}convertGeoPoint(e){return new uh(yi(e.latitude),yi(e.longitude))}convertArray(e,n){return(e.values||[]).map(l=>this.convertValue(l,n))}convertServerTimestamp(e,n){switch(n){case"previous":const l=nu(e);return null==l?null:this.convertValue(l,n);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const n=yo(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const l=Yr.fromString(e);Yn(Mo(l));const h=new Js(l.get(1),l.get(3)),v=new xn(l.popFirst(5));return h.isEqual(n)||ws(`Document ${v} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),v}}function cm(i,e,n){let l;return l=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,l}class qy extends Eu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,n)}}class qu{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yd(e)}set(e,n,l){this._verifyNotCommitted();const h=ea(e,this._firestore),v=cm(h.converter,n,l),b=vd(this._dataReader,"WriteBatch.set",h._key,v,null!==h.converter,l);return this._mutations.push(b.toMutation(h._key,Ys.none())),this}update(e,n,l,...h){this._verifyNotCommitted();const v=ea(e,this._firestore);let b;return b="string"==typeof(n=(0,be.m9)(n))||n instanceof Yu?a(this._dataReader,"WriteBatch.update",v._key,n,l,h):s(this._dataReader,"WriteBatch.update",v._key,n),this._mutations.push(b.toMutation(v._key,Ys.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ea(e,this._firestore);return this._mutations=this._mutations.concat(new Yo(n._key,Ys.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sn(xt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ea(i,e){if((i=(0,be.m9)(i)).firestore!==e)throw new sn(xt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Zu(i){i=_i(i,ti);const e=_i(i.firestore,ms);return cg(no(e),i._key).then(n=>Ep(e,i,n))}class fh extends Eu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function Dy(i){i=_i(i,ti);const e=_i(i.firestore,ms),n=no(e),l=new fh(e);return function Xg(i,e){const n=new Ar;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(l=(0,c.Z)(function*(h,v,b){try{const P=yield function(J,re){const $e=An(J);return $e.persistence.runTransaction("read document","readonly",ct=>$e.fi.Ls(ct,re))}(h,v);P.isFoundDocument()?b.resolve(P):P.isNoDocument()?b.resolve(null):b.reject(new sn(xt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const J=fu(P,`Failed to get document '${v} from cache`);b.reject(J)}}),function(h,v,b){return l.apply(this,arguments)})(yield xc(i),e,n);var l})),n.promise}(n,i._key).then(h=>new Ms(e,l,i._key,h,new kr(null!==h&&h.hasLocalMutations,!0),i.converter))}function Zy(i){i=_i(i,ti);const e=_i(i.firestore,ms);return cg(no(e),i._key,{source:"server"}).then(n=>Ep(e,i,n))}function Xy(i){i=_i(i,us);const e=_i(i.firestore,ms),n=no(e),l=new fh(e);return _d(i._query),Jg(n,i._query).then(h=>new ji(e,l,i,h))}function Qy(i){i=_i(i,us);const e=_i(i.firestore,ms),n=no(e),l=new fh(e);return function Qg(i,e){const n=new Ar;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(l=(0,c.Z)(function*(h,v,b){try{const P=yield jd(h,v,!0),J=new $g(v,P._i),re=J.Wu(P.documents),$e=J.applyChanges(re,!1);b.resolve($e.snapshot)}catch(P){const J=fu(P,`Failed to execute query '${v} against cache`);b.reject(J)}}),function(h,v,b){return l.apply(this,arguments)})(yield xc(i),e,n);var l})),n.promise}(n,i._query).then(h=>new ji(e,l,i,h))}function Jy(i){i=_i(i,us);const e=_i(i.firestore,ms),n=no(e),l=new fh(e);return Jg(n,i._query,{source:"server"}).then(h=>new ji(e,l,i,h))}function Jm(i,e,n){i=_i(i,ti);const l=_i(i.firestore,ms),h=cm(i.converter,e,n);return mf(l,[vd(yd(l),"setDoc",i._key,h,null!==i.converter,n).toMutation(i._key,Ys.none())])}function Ig(i,e,n,...l){i=_i(i,ti);const h=_i(i.firestore,ms),v=yd(h);let b;return b="string"==typeof(e=(0,be.m9)(e))||e instanceof Yu?a(v,"updateDoc",i._key,e,n,l):s(v,"updateDoc",i._key,e),mf(h,[b.toMutation(i._key,Ys.exists(!0))])}function ev(i){return mf(_i(i.firestore,ms),[new Yo(i._key,Ys.none())])}function Ty(i,e){const n=_i(i.firestore,ms),l=fg(i),h=cm(i.converter,e);return mf(n,[vd(yd(i.firestore),"addDoc",l._key,h,null!==i.converter,{}).toMutation(l._key,Ys.exists(!1))]).then(()=>l)}function tv(i,...e){var n,l,h;i=(0,be.m9)(i);let v={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||pg(e[b])||(v=e[b],b++);const P={includeMetadataChanges:v.includeMetadataChanges};if(pg(e[b])){const ct=e[b];e[b]=null===(n=ct.next)||void 0===n?void 0:n.bind(ct),e[b+1]=null===(l=ct.error)||void 0===l?void 0:l.bind(ct),e[b+2]=null===(h=ct.complete)||void 0===h?void 0:h.bind(ct)}let J,re,$e;if(i instanceof ti)re=_i(i.firestore,ms),$e=Tu(i._key.path),J={next:ct=>{e[b]&&e[b](Ep(re,i,ct))},error:e[b+1],complete:e[b+2]};else{const ct=_i(i,us);re=_i(ct.firestore,ms),$e=ct._query;const Vt=new fh(re);J={next:an=>{e[b]&&e[b](new ji(re,Vt,ct,an))},error:e[b+1],complete:e[b+2]},_d(i._query)}return function(ct,Vt,an,cn){const Kn=new Dc(cn),$r=new pu(Vt,Kn,an);return ct.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return tp(yield gd(ct),$r)})),()=>{Kn.Aa(),ct.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Jh(yield gd(ct),$r)}))}}(no(re),$e,P,J)}function Sy(i,e){return function em(i,e){const n=new Dc(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return l=yield gd(i),h=n,An(l).bu.add(h),void h.next();var l,h})),()=>{n.Aa(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return l=yield gd(i),h=n,void An(l).bu.delete(h);var l,h}))}}(no(i=_i(i,ms)),pg(e)?e:{next:e})}function mf(i,e){return function(n,l){const h=new Ar;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function km(i,e,n){return Va.apply(this,arguments)}(yield hp(n),l,h)})),h.promise}(no(i),e)}function Ep(i,e,n){const l=n.docs.get(e._key),h=new fh(i);return new Ms(i,h,e._key,l,new kr(n.hasPendingWrites,n.fromCache),e.converter)}class nv extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=yd(e)}get(e){const n=ea(e,this._firestore),l=new qy(this._firestore);return this._transaction.lookup([n._key]).then(h=>{if(!h||1!==h.length)return Un();const v=h[0];if(v.isFoundDocument())return new En(this._firestore,l,v.key,v,n.converter);if(v.isNoDocument())return new En(this._firestore,l,n._key,null,n.converter);throw Un()})}set(e,n,l){const h=ea(e,this._firestore),v=cm(h.converter,n,l),b=vd(this._dataReader,"Transaction.set",h._key,v,null!==h.converter,l);return this._transaction.set(h._key,b),this}update(e,n,l,...h){const v=ea(e,this._firestore);let b;return b="string"==typeof(n=(0,be.m9)(n))||n instanceof Yu?a(this._dataReader,"Transaction.update",v._key,n,l,h):s(this._dataReader,"Transaction.update",v._key,n),this._transaction.update(v._key,b),this}delete(e){const n=ea(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ea(e,this._firestore),l=new fh(this._firestore);return super.get(e).then(h=>new Ms(this._firestore,l,n._key,h._document,new kr(!1,!1),n.converter))}}function Ay(i,e,n){i=_i(i,ms);const l=Object.assign(Object.assign({},Qm),n);return function(h){if(h.maxAttempts<1)throw new sn(xt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function $m(i,e,n){const l=new Ar;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const h=yield(v=i,Ku(v).then(b=>b.datastore));var v;new cp(i.asyncQueue,h,n,e,l).run()})),l.promise}(no(i),h=>e(new nv(i,h)),l)}function xy(){return new Rc("deleteField")}function ey(){return new vp("serverTimestamp")}function dm(...i){return new Eg("arrayUnion",i)}function ty(...i){return new um("arrayRemove",i)}function ny(i){return new u("increment",i)}!function(i,e=!0){Ws=G.SDK_VERSION,(0,G._registerComponent)(new Y.wA("firestore",(n,{options:l})=>{const h=n.getProvider("app").getImmediate(),v=new ms(h,new O(n.getProvider("auth-internal")),new W(n.getProvider("app-check-internal")));return l=Object.assign({useFetchStreams:e},l),v._setSettings(l),v},"PUBLIC")),(0,G.registerVersion)(pl,"3.4.9",i),(0,G.registerVersion)(pl,"3.4.9","esm2017")}()},2090:(en,ut,M)=>{"use strict";M.d(ut,{BH:()=>Me,LL:()=>vt,ZR:()=>ft,gQ:()=>hn,zI:()=>dt,hu:()=>G,g5:()=>Y,US:()=>De,tV:()=>Be,h$:()=>Ee,L:()=>ge,$s:()=>pn,r3:()=>je,Sg:()=>Oe,ne:()=>Pn,p$:()=>te,vZ:()=>Kt,ZB:()=>de,gK:()=>ni,pd:()=>er,m9:()=>Br,z$:()=>qe,GJ:()=>_e,jU:()=>Le,ru:()=>ht,d:()=>We,xb:()=>Ce,w1:()=>Ze,hl:()=>se,uI:()=>ke,UG:()=>Ae,Yr:()=>Ue,b$:()=>Et,G6:()=>Xe,Mn:()=>st,w9:()=>we,cI:()=>Ct,UI:()=>kt,xO:()=>Jt,zd:()=>In,DV:()=>ye,ug:()=>pt,dS:()=>Yt,Pz:()=>Ye,Dv:()=>Ir,Wj:()=>He,lb:()=>Je,eu:()=>Qe});const G=function(xe,Ge){if(!xe)throw Y(Ge)},Y=function(xe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+xe)},Ne=function(xe){const Ge=[];let it=0;for(let $t=0;$t<xe.length;$t++){let ze=xe.charCodeAt($t);ze<128?Ge[it++]=ze:ze<2048?(Ge[it++]=ze>>6|192,Ge[it++]=63&ze|128):55296==(64512&ze)&&$t+1<xe.length&&56320==(64512&xe.charCodeAt($t+1))?(ze=65536+((1023&ze)<<10)+(1023&xe.charCodeAt(++$t)),Ge[it++]=ze>>18|240,Ge[it++]=ze>>12&63|128,Ge[it++]=ze>>6&63|128,Ge[it++]=63&ze|128):(Ge[it++]=ze>>12|224,Ge[it++]=ze>>6&63|128,Ge[it++]=63&ze|128)}return Ge},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,Ge){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const it=Ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,$t=[];for(let ze=0;ze<xe.length;ze+=3){const _t=xe[ze],Zt=ze+1<xe.length,fn=Zt?xe[ze+1]:0,Cn=ze+2<xe.length,nn=Cn?xe[ze+2]:0;let Bn=(15&fn)<<2|nn>>6,Hr=63&nn;Cn||(Hr=64,Zt||(Bn=64)),$t.push(it[_t>>2],it[(3&_t)<<4|fn>>4],it[Bn],it[Hr])}return $t.join("")},encodeString(xe,Ge){return this.HAS_NATIVE_SUPPORT&&!Ge?btoa(xe):this.encodeByteArray(Ne(xe),Ge)},decodeString(xe,Ge){return this.HAS_NATIVE_SUPPORT&&!Ge?atob(xe):function(xe){const Ge=[];let it=0,$t=0;for(;it<xe.length;){const ze=xe[it++];if(ze<128)Ge[$t++]=String.fromCharCode(ze);else if(ze>191&&ze<224){const _t=xe[it++];Ge[$t++]=String.fromCharCode((31&ze)<<6|63&_t)}else if(ze>239&&ze<365){const Cn=((7&ze)<<18|(63&xe[it++])<<12|(63&xe[it++])<<6|63&xe[it++])-65536;Ge[$t++]=String.fromCharCode(55296+(Cn>>10)),Ge[$t++]=String.fromCharCode(56320+(1023&Cn))}else{const _t=xe[it++],Zt=xe[it++];Ge[$t++]=String.fromCharCode((15&ze)<<12|(63&_t)<<6|63&Zt)}}return Ge.join("")}(this.decodeStringToByteArray(xe,Ge))},decodeStringToByteArray(xe,Ge){this.init_();const it=Ge?this.charToByteMapWebSafe_:this.charToByteMap_,$t=[];for(let ze=0;ze<xe.length;){const _t=it[xe.charAt(ze++)],fn=ze<xe.length?it[xe.charAt(ze)]:0;++ze;const nn=ze<xe.length?it[xe.charAt(ze)]:64;++ze;const gn=ze<xe.length?it[xe.charAt(ze)]:64;if(++ze,null==_t||null==fn||null==nn||null==gn)throw Error();$t.push(_t<<2|fn>>4),64!==nn&&($t.push(fn<<4&240|nn>>2),64!==gn&&$t.push(nn<<6&192|gn))}return $t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},Ee=function(xe){const Ge=Ne(xe);return De.encodeByteArray(Ge,!0)},ge=function(xe){return Ee(xe).replace(/\./g,"")},Be=function(xe){try{return De.decodeString(xe,!0)}catch(Ge){console.error("base64Decode failed: ",Ge)}return null};function te(xe){return de(void 0,xe)}function de(xe,Ge){if(!(Ge instanceof Object))return Ge;switch(Ge.constructor){case Date:return new Date(Ge.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return Ge}for(const it in Ge)!Ge.hasOwnProperty(it)||!Te(it)||(xe[it]=de(xe[it],Ge[it]));return xe}function Te(xe){return"__proto__"!==xe}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ge,it)=>{this.resolve=Ge,this.reject=it})}wrapCallback(Ge){return(it,$t)=>{it?this.reject(it):this.resolve($t),"function"==typeof Ge&&(this.promise.catch(()=>{}),1===Ge.length?Ge(it):Ge(it,$t))}}}function Oe(xe,Ge){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $t=Ge||"demo-project",ze=xe.iat||0,_t=xe.sub||xe.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Zt=Object.assign({iss:`https://securetoken.google.com/${$t}`,aud:$t,iat:ze,exp:ze+3600,auth_time:ze,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Zt)),""].join(".")}function qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(xe){return!1}}function Le(){return"object"==typeof self&&self.self===self}function ht(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return qe().indexOf("Electron/")>=0}function Ze(){const xe=qe();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function st(){return qe().indexOf("MSAppHost/")>=0}function Ue(){return!1}function Xe(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){return"object"==typeof indexedDB}function Qe(){return new Promise((xe,Ge)=>{try{let it=!0;const $t="validate-browser-context-for-indexeddb-analytics-module",ze=self.indexedDB.open($t);ze.onsuccess=()=>{ze.result.close(),it||self.indexedDB.deleteDatabase($t),xe(!0)},ze.onupgradeneeded=()=>{it=!1},ze.onerror=()=>{var _t;Ge((null===(_t=ze.error)||void 0===_t?void 0:_t.message)||"")}}catch(it){Ge(it)}})}function dt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ft extends Error{constructor(Ge,it,$t){super(it),this.code=Ge,this.customData=$t,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(Ge,it,$t){this.service=Ge,this.serviceName=it,this.errors=$t}create(Ge,...it){const $t=it[0]||{},ze=`${this.service}/${Ge}`,_t=this.errors[Ge],Zt=_t?function un(xe,Ge){return xe.replace(Xt,(it,$t)=>{const ze=Ge[$t];return null!=ze?String(ze):`<${$t}?>`})}(_t,$t):"Error";return new ft(ze,`${this.serviceName}: ${Zt} (${ze}).`,$t)}}const Xt=/\{\$([^}]+)}/g;function Ct(xe){return JSON.parse(xe)}function Ye(xe){return JSON.stringify(xe)}const ee=function(xe){let Ge={},it={},$t={},ze="";try{const _t=xe.split(".");Ge=Ct(Be(_t[0])||""),it=Ct(Be(_t[1])||""),ze=_t[2],$t=it.d||{},delete it.d}catch(_t){}return{header:Ge,claims:it,data:$t,signature:ze}},we=function(xe){const it=ee(xe).claims;return!!it&&"object"==typeof it&&it.hasOwnProperty("iat")},_e=function(xe){const Ge=ee(xe).claims;return"object"==typeof Ge&&!0===Ge.admin};function je(xe,Ge){return Object.prototype.hasOwnProperty.call(xe,Ge)}function ye(xe,Ge){if(Object.prototype.hasOwnProperty.call(xe,Ge))return xe[Ge]}function Ce(xe){for(const Ge in xe)if(Object.prototype.hasOwnProperty.call(xe,Ge))return!1;return!0}function kt(xe,Ge,it){const $t={};for(const ze in xe)Object.prototype.hasOwnProperty.call(xe,ze)&&($t[ze]=Ge.call(it,xe[ze],ze,xe));return $t}function Kt(xe,Ge){if(xe===Ge)return!0;const it=Object.keys(xe),$t=Object.keys(Ge);for(const ze of it){if(!$t.includes(ze))return!1;const _t=xe[ze],Zt=Ge[ze];if(Gt(_t)&&Gt(Zt)){if(!Kt(_t,Zt))return!1}else if(_t!==Zt)return!1}for(const ze of $t)if(!it.includes(ze))return!1;return!0}function Gt(xe){return null!==xe&&"object"==typeof xe}function Jt(xe){const Ge=[];for(const[it,$t]of Object.entries(xe))Array.isArray($t)?$t.forEach(ze=>{Ge.push(encodeURIComponent(it)+"="+encodeURIComponent(ze))}):Ge.push(encodeURIComponent(it)+"="+encodeURIComponent($t));return Ge.length?"&"+Ge.join("&"):""}function In(xe){const Ge={};return xe.replace(/^\?/,"").split("&").forEach($t=>{if($t){const[ze,_t]=$t.split("=");Ge[decodeURIComponent(ze)]=decodeURIComponent(_t)}}),Ge}function er(xe){const Ge=xe.indexOf("?");if(!Ge)return"";const it=xe.indexOf("#",Ge);return xe.substring(Ge,it>0?it:void 0)}class hn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ge=1;Ge<this.blockSize;++Ge)this.pad_[Ge]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ge,it){it||(it=0);const $t=this.W_;if("string"==typeof Ge)for(let gn=0;gn<16;gn++)$t[gn]=Ge.charCodeAt(it)<<24|Ge.charCodeAt(it+1)<<16|Ge.charCodeAt(it+2)<<8|Ge.charCodeAt(it+3),it+=4;else for(let gn=0;gn<16;gn++)$t[gn]=Ge[it]<<24|Ge[it+1]<<16|Ge[it+2]<<8|Ge[it+3],it+=4;for(let gn=16;gn<80;gn++){const Bn=$t[gn-3]^$t[gn-8]^$t[gn-14]^$t[gn-16];$t[gn]=4294967295&(Bn<<1|Bn>>>31)}let nn,dr,ze=this.chain_[0],_t=this.chain_[1],Zt=this.chain_[2],fn=this.chain_[3],Cn=this.chain_[4];for(let gn=0;gn<80;gn++){gn<40?gn<20?(nn=fn^_t&(Zt^fn),dr=1518500249):(nn=_t^Zt^fn,dr=1859775393):gn<60?(nn=_t&Zt|fn&(_t|Zt),dr=2400959708):(nn=_t^Zt^fn,dr=3395469782);const Bn=(ze<<5|ze>>>27)+nn+Cn+dr+$t[gn]&4294967295;Cn=fn,fn=Zt,Zt=4294967295&(_t<<30|_t>>>2),_t=ze,ze=Bn}this.chain_[0]=this.chain_[0]+ze&4294967295,this.chain_[1]=this.chain_[1]+_t&4294967295,this.chain_[2]=this.chain_[2]+Zt&4294967295,this.chain_[3]=this.chain_[3]+fn&4294967295,this.chain_[4]=this.chain_[4]+Cn&4294967295}update(Ge,it){if(null==Ge)return;void 0===it&&(it=Ge.length);const $t=it-this.blockSize;let ze=0;const _t=this.buf_;let Zt=this.inbuf_;for(;ze<it;){if(0===Zt)for(;ze<=$t;)this.compress_(Ge,ze),ze+=this.blockSize;if("string"==typeof Ge){for(;ze<it;)if(_t[Zt]=Ge.charCodeAt(ze),++Zt,++ze,Zt===this.blockSize){this.compress_(_t),Zt=0;break}}else for(;ze<it;)if(_t[Zt]=Ge[ze],++Zt,++ze,Zt===this.blockSize){this.compress_(_t),Zt=0;break}}this.inbuf_=Zt,this.total_+=it}digest(){const Ge=[];let it=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ze=this.blockSize-1;ze>=56;ze--)this.buf_[ze]=255&it,it/=256;this.compress_(this.buf_);let $t=0;for(let ze=0;ze<5;ze++)for(let _t=24;_t>=0;_t-=8)Ge[$t]=this.chain_[ze]>>_t&255,++$t;return Ge}}function Pn(xe,Ge){const it=new vn(xe,Ge);return it.subscribe.bind(it)}class vn{constructor(Ge,it){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=it,this.task.then(()=>{Ge(this)}).catch($t=>{this.error($t)})}next(Ge){this.forEachObserver(it=>{it.next(Ge)})}error(Ge){this.forEachObserver(it=>{it.error(Ge)}),this.close(Ge)}complete(){this.forEachObserver(Ge=>{Ge.complete()}),this.close()}subscribe(Ge,it,$t){let ze;if(void 0===Ge&&void 0===it&&void 0===$t)throw new Error("Missing Observer.");ze=function ln(xe,Ge){if("object"!=typeof xe||null===xe)return!1;for(const it of Ge)if(it in xe&&"function"==typeof xe[it])return!0;return!1}(Ge,["next","error","complete"])?Ge:{next:Ge,error:it,complete:$t},void 0===ze.next&&(ze.next=Zn),void 0===ze.error&&(ze.error=Zn),void 0===ze.complete&&(ze.complete=Zn);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ze.error(this.finalError):ze.complete()}catch(Zt){}}),this.observers.push(ze),_t}unsubscribeOne(Ge){void 0===this.observers||void 0===this.observers[Ge]||(delete this.observers[Ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ge){if(!this.finalized)for(let it=0;it<this.observers.length;it++)this.sendOne(it,Ge)}sendOne(Ge,it){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ge])try{it(this.observers[Ge])}catch($t){"undefined"!=typeof console&&console.error&&console.error($t)}})}close(Ge){this.finalized||(this.finalized=!0,void 0!==Ge&&(this.finalError=Ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}const Ir=function(xe,Ge,it,$t){let ze;if($t<Ge?ze="at least "+Ge:$t>it&&(ze=0===it?"none":"no more than "+it),ze)throw new Error(xe+" failed: Was called with "+$t+(1===$t?" argument.":" arguments.")+" Expects "+ze+".")};function ni(xe,Ge){return`${xe} failed: ${Ge} argument `}function He(xe,Ge,it,$t){if((!$t||it)&&"function"!=typeof it)throw new Error(ni(xe,Ge)+"must be a valid function.")}function Je(xe,Ge,it,$t){if((!$t||it)&&("object"!=typeof it||null===it))throw new Error(ni(xe,Ge)+"must be a valid context object.")}const Yt=function(xe){const Ge=[];let it=0;for(let $t=0;$t<xe.length;$t++){let ze=xe.charCodeAt($t);if(ze>=55296&&ze<=56319){const _t=ze-55296;$t++,G($t<xe.length,"Surrogate pair missing trail surrogate."),ze=65536+(_t<<10)+(xe.charCodeAt($t)-56320)}ze<128?Ge[it++]=ze:ze<2048?(Ge[it++]=ze>>6|192,Ge[it++]=63&ze|128):ze<65536?(Ge[it++]=ze>>12|224,Ge[it++]=ze>>6&63|128,Ge[it++]=63&ze|128):(Ge[it++]=ze>>18|240,Ge[it++]=ze>>12&63|128,Ge[it++]=ze>>6&63|128,Ge[it++]=63&ze|128)}return Ge},pt=function(xe){let Ge=0;for(let it=0;it<xe.length;it++){const $t=xe.charCodeAt(it);$t<128?Ge++:$t<2048?Ge+=2:$t>=55296&&$t<=56319?(Ge+=4,it++):Ge+=3}return Ge};function pn(xe,Ge=1e3,it=2){const $t=Ge*Math.pow(it,xe),ze=Math.round(.5*$t*(Math.random()-.5)*2);return Math.min(144e5,$t+ze)}function Br(xe){return xe&&xe._delegate?xe._delegate:xe}},8161:(en,ut,M)=>{"use strict";M.d(ut,{BX:()=>gi,Br:()=>Wr,dr:()=>pn,BJ:()=>Mr,oU:()=>jr,cs:()=>$,yp:()=>xe,YG:()=>$t,Sm:()=>ze,PM:()=>_t,FN:()=>Zt,Zi:()=>fn,tO:()=>Cn,Dq:()=>nn,hM:()=>gn,wI:()=>Bn,W2:()=>Hr,IJ:()=>Ei,W4:()=>Gi,fr:()=>Vr,jY:()=>oi,Gu:()=>wi,gu:()=>Gr,pK:()=>Ni,Ie:()=>Rr,Q$:()=>rr,q_:()=>Zr,uN:()=>qn,I_:()=>Ci,jP:()=>Ki,Nd:()=>ot,VI:()=>mt,cJ:()=>Ie,GO:()=>Fe,t9:()=>yt,n0:()=>Lt,PQ:()=>Vn,yq:()=>ir,ZU:()=>hi,UN:()=>Pr,yW:()=>Ti,g2:()=>at,Bs:()=>et,wd:()=>At,sr:()=>rn,Pc:()=>Nn,r4:()=>k,HT:()=>Kr,IN:()=>$n,SH:()=>Ai,X1:()=>Mn,as:()=>Ir,Dh:()=>vs,YI:()=>V,QI:()=>Ft,j9:()=>He,yF:()=>mo});var c=M(5e3),G=M(2382),Y=M(7582),Ne=M(8421),be=M(8306),De=M(5577),Ee=M(1144),ge=M(576),Be=M(3268);const te=["addListener","removeListener"],de=["addEventListener","removeEventListener"],Te=["on","off"];function Me(E,H,w,B){if((0,ge.m)(w)&&(B=w,w=void 0),B)return Me(E,H,w).pipe((0,Be.Z)(B));const[pe,Rt]=function Ae(E){return(0,ge.m)(E.addEventListener)&&(0,ge.m)(E.removeEventListener)}(E)?de.map(_n=>kn=>E[_n](H,kn,w)):function qe(E){return(0,ge.m)(E.addListener)&&(0,ge.m)(E.removeListener)}(E)?te.map(Oe(E,H)):function ke(E){return(0,ge.m)(E.on)&&(0,ge.m)(E.off)}(E)?Te.map(Oe(E,H)):[];if(!pe&&(0,Ee.z)(E))return(0,De.z)(_n=>Me(_n,H,w))((0,Ne.Xf)(E));if(!pe)throw new TypeError("Invalid event target");return new be.y(_n=>{const kn=(...or)=>_n.next(1<or.length?or:or[0]);return pe(kn),()=>Rt(kn)})}function Oe(E,H){return w=>B=>E[w](H,B)}var Le=M(7579),ht=M(1135),Et=M(5852),Ue=(M(1815),M(6447),M(3139),M(6254)),Xe=M(3756),se=M(4318),dt=(M(7726),M(599)),Ke=(M(3509),M(2361)),Ye=M(9300),ee=M(3900),X=M(1884),ce=M(9808);const _e=Ue.i,Ce=["*"],kt=["outlet"],Kt=[[["","slot","top"]],"*"],Gt=["[slot=top]","*"],er=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);let hn=(()=>{class E{constructor(w,B){this.injector=w,this.el=B,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(w){this.el.nativeElement.value=this.lastValue=null==w?"":w,Pn(this.el)}handleChangeEvent(w,B){w===this.el.nativeElement&&(B!==this.lastValue&&(this.lastValue=B,this.onChange(B)),Pn(this.el))}_handleBlurEvent(w){w===this.el.nativeElement&&(this.onTouched(),Pn(this.el))}registerOnChange(w){this.onChange=w}registerOnTouched(w){this.onTouched=w}setDisabledState(w){this.el.nativeElement.disabled=w}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let w;try{w=this.injector.get(G.a5)}catch(pe){}if(!w)return;w.statusChanges&&(this.statusChanges=w.statusChanges.subscribe(()=>Pn(this.el)));const B=w.control;B&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Rt=>{if(void 0!==B[Rt]){const _n=B[Rt].bind(B);B[Rt]=(...kn)=>{_n(...kn),Pn(this.el)}}})}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,hostBindings:function(w,B){1&w&&c.NdJ("ionBlur",function(Rt){return B._handleBlurEvent(Rt.target)})}}),E})();const Pn=E=>{er(()=>{const H=E.nativeElement,w=null!=H.value&&H.value.toString().length>0,B=vn(H);gr(H,B);const pe=H.closest("ion-item");pe&&gr(pe,w?[...B,"item-has-value"]:B)})},vn=E=>{const H=E.classList,w=[];for(let B=0;B<H.length;B++){const pe=H.item(B);null!==pe&&ln(pe,"ng-")&&w.push(`ion-${pe.substring(3)}`)}return w},gr=(E,H)=>{const w=E.classList;w.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),w.add(...H)},ln=(E,H)=>E.substring(0,H.length)===H;let Ir=(()=>{class E extends hn{constructor(w,B){super(w,B)}_handleIonChange(w){this.handleChangeEvent(w,w.value)}registerOnChange(w){super.registerOnChange(B=>{w(""===B?null:parseFloat(B))})}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(w,B){1&w&&c.NdJ("ionChange",function(Rt){return B._handleIonChange(Rt.target)})},features:[c._Bn([{provide:G.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),Ft=(()=>{class E extends hn{constructor(w,B){super(w,B)}_handleChangeEvent(w){this.handleChangeEvent(w,w.value)}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(w,B){1&w&&c.NdJ("ionChange",function(Rt){return B._handleChangeEvent(Rt.target)})},features:[c._Bn([{provide:G.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),He=(()=>{class E extends hn{constructor(w,B){super(w,B)}_handleInputEvent(w){this.handleChangeEvent(w,w.value)}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(w,B){1&w&&c.NdJ("ionChange",function(Rt){return B._handleInputEvent(Rt.target)})},features:[c._Bn([{provide:G.JU,useExisting:E,multi:!0}]),c.qOj]}),E})();const Je=(E,H)=>{const w=E.prototype;H.forEach(B=>{Object.defineProperty(w,B,{get(){return this.el[B]},set(pe){this.z.runOutsideAngular(()=>this.el[B]=pe)}})})},Yt=(E,H)=>{const w=E.prototype;H.forEach(B=>{w[B]=function(){const pe=arguments;return this.z.runOutsideAngular(()=>this.el[B].apply(this.el,pe))}})},pt=(E,H,w)=>{w.forEach(B=>E[B]=Me(H,B))};function Dt(E){return function(w){const{defineCustomElementFn:B,inputs:pe,methods:Rt}=E;return void 0!==B&&B(),pe&&Je(w,pe),Rt&&Yt(w,Rt),w}}let pn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0})],E),E})(),Mr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-avatar"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0})],E),E})(),jr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),xe=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),$t=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),ze=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),_t=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Zt=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["mode"]})],E),E})(),fn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],E),E})(),Cn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),nn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),gn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],E),E})(),Bn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],E),E})(),Hr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),Ei=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],E),E})(),Gi=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],E),E})(),Vr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),oi=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["fixed"]})],E),E})(),wi=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),Gr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),Ni=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Rr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),rr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),Zr=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),qn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Ci=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],E),E})(),ot=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-row"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0})],E),E})(),mt=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Ie=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionChange"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),Fe=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],E),E})(),yt=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],E),E})(),Lt=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],E),E})(),Vn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],E),E})(),ir=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],E),E})(),hi=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],E),E})(),Ti=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),at=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement,pt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],E),E})(),et=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-thumbnail"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0})],E),E})(),At=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),rn=(()=>{let E=class{constructor(w,B,pe){this.z=pe,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,Y.gn)([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class Mn{constructor(H={}){this.data=H}get(H){return this.data[H]}}let ur=(()=>{class E{constructor(w,B){this.zone=w,this.appRef=B}create(w,B,pe){return new Si(w,B,pe,this.appRef,this.zone)}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(c.R0b),c.LFG(c.z2F))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();class Si{constructor(H,w,B,pe,Rt){this.resolver=H,this.injector=w,this.location=B,this.appRef=pe,this.zone=Rt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(H,w,B,pe){return this.zone.run(()=>new Promise(Rt=>{Rt(yr(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,H,w,B,pe))}))}removeViewFromDom(H,w){return this.zone.run(()=>new Promise(B=>{const pe=this.elRefMap.get(w);if(pe){pe.destroy(),this.elRefMap.delete(w);const Rt=this.elEventsMap.get(w);Rt&&(Rt(),this.elEventsMap.delete(w))}B()}))}}const yr=(E,H,w,B,pe,Rt,_n,kn,or,Sr,ar)=>{const mi=H.resolveComponentFactory(or),_s=c.zs3.create({providers:ja(Sr),parent:w}),Yi=B?B.createComponent(mi,B.length,_s):mi.create(_s),As=Yi.instance,Ns=Yi.location.nativeElement;if(Sr&&Object.assign(As,Sr),ar)for(const Ha of ar)Ns.classList.add(Ha);const Gs=Ts(E,As,Ns);return kn.appendChild(Ns),B||pe.attachView(Yi.hostView),Yi.changeDetectorRef.reattach(),Rt.set(Ns,Yi),_n.set(Ns,Gs),Ns},is=[se.L,se.a,se.b,se.c,se.d],Ts=(E,H,w)=>E.run(()=>{const B=is.filter(pe=>"function"==typeof H[pe]).map(pe=>{const Rt=_n=>H[pe](_n.detail);return w.addEventListener(pe,Rt),()=>w.removeEventListener(pe,Rt)});return()=>B.forEach(pe=>pe())}),zi=new c.OlP("NavParamsToken"),ja=E=>[{provide:zi,useValue:E},{provide:Mn,useFactory:Os,deps:[zi]}],Os=E=>new Mn(E),go=(E,H)=>((E=E.filter(w=>w.stackId!==H.stackId)).push(H),E),fi=(E,H)=>{const w=E.createUrlTree(["."],{relativeTo:H});return E.serializeUrl(w)},Wi=(E,H)=>{if(!E)return;const w=Ps(H);for(let B=0;B<w.length;B++){if(B>=E.length)return w[B];if(w[B]!==E[B])return}},Ps=E=>E.split("/").map(H=>H.trim()).filter(H=>""!==H),Vs=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class Co{constructor(H,w,B,pe,Rt,_n){this.containerEl=w,this.router=B,this.navCtrl=pe,this.zone=Rt,this.location=_n,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==H?Ps(H):void 0}createView(H,w){var B;const pe=fi(this.router,w),Rt=null===(B=null==H?void 0:H.location)||void 0===B?void 0:B.nativeElement,_n=Ts(this.zone,H.instance,Rt);return{id:this.nextId++,stackId:Wi(this.tabsPrefix,pe),unlistenEvents:_n,element:Rt,ref:H,url:pe}}getExistingView(H){const w=fi(this.router,H),B=this.views.find(pe=>pe.url===w);return B&&B.ref.changeDetectorRef.reattach(),B}setActive(H){var w,B;const pe=this.navCtrl.consumeTransition();let{direction:Rt,animation:_n,animationBuilder:kn}=pe;const or=this.activeView,Sr=((E,H)=>!H||E.stackId!==H.stackId)(H,or);Sr&&(Rt="back",_n=void 0);const ar=this.views.slice();let mi;const _s=this.router;_s.getCurrentNavigation?mi=_s.getCurrentNavigation():(null===(w=_s.navigations)||void 0===w?void 0:w.value)&&(mi=_s.navigations.value),(null===(B=null==mi?void 0:mi.extras)||void 0===B?void 0:B.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Yi=this.views.includes(H),As=this.insertView(H,Rt);Yi||H.ref.changeDetectorRef.detectChanges();const Ns=H.animationBuilder;return void 0===kn&&"back"===Rt&&!Sr&&void 0!==Ns&&(kn=Ns),or&&(or.animationBuilder=kn),this.zone.runOutsideAngular(()=>this.wait(()=>(or&&or.ref.changeDetectorRef.detach(),H.ref.changeDetectorRef.reattach(),this.transition(H,or,_n,this.canGoBack(1),!1,kn).then(()=>Ji(H,As,ar,this.location,this.zone)).then(()=>({enteringView:H,direction:Rt,animation:_n,tabSwitch:Sr})))))}canGoBack(H,w=this.getActiveStackId()){return this.getStack(w).length>H}pop(H,w=this.getActiveStackId()){return this.zone.run(()=>{var B,pe;const Rt=this.getStack(w);if(Rt.length<=H)return Promise.resolve(!1);const _n=Rt[Rt.length-H-1];let kn=_n.url;const or=_n.savedData;if(or){const ar=or.get("primary");(null===(pe=null===(B=null==ar?void 0:ar.route)||void 0===B?void 0:B._routerState)||void 0===pe?void 0:pe.snapshot.url)&&(kn=ar.route._routerState.snapshot.url)}const{animationBuilder:Sr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(kn,Object.assign(Object.assign({},_n.savedExtras),{animation:Sr})).then(()=>!0)})}startBackTransition(){const H=this.activeView;if(H){const w=this.getStack(H.stackId),B=w[w.length-2],pe=B.animationBuilder;return this.wait(()=>this.transition(B,H,"back",this.canGoBack(2),!0,pe))}return Promise.resolve()}endBackTransition(H){H?(this.skipTransition=!0,this.pop(1)):this.activeView&&zr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(H){const w=this.getStack(H);return w.length>0?w[w.length-1]:void 0}getRootUrl(H){const w=this.getStack(H);return w.length>0?w[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Vs),this.activeView=void 0,this.views=[]}getStack(H){return this.views.filter(w=>w.stackId===H)}insertView(H,w){return this.activeView=H,this.views=((E,H,w)=>"root"===w?go(E,H):"forward"===w?((E,H)=>(E.indexOf(H)>=0?E=E.filter(B=>B.stackId!==H.stackId||B.id<=H.id):E.push(H),E))(E,H):((E,H)=>E.indexOf(H)>=0?E.filter(B=>B.stackId!==H.stackId||B.id<=H.id):go(E,H))(E,H))(this.views,H,w),this.views.slice()}transition(H,w,B,pe,Rt,_n){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(w===H)return Promise.resolve(!1);const kn=H?H.element:void 0,or=w?w.element:void 0,Sr=this.containerEl;return kn&&kn!==or&&(kn.classList.add("ion-page"),kn.classList.add("ion-page-invisible"),kn.parentElement!==Sr&&Sr.appendChild(kn),Sr.commit)?Sr.commit(kn,or,{deepWait:!0,duration:void 0===B?0:void 0,direction:B,showGoBack:pe,progressAnimation:Rt,animationBuilder:_n}):Promise.resolve(!1)}wait(H){return(0,Y.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const w=this.runningTask=H();return w.finally(()=>this.runningTask=void 0),w})}}const Ji=(E,H,w,B,pe)=>"function"==typeof requestAnimationFrame?new Promise(Rt=>{requestAnimationFrame(()=>{zr(E,H,w,B,pe),Rt()})}):Promise.resolve(),zr=(E,H,w,B,pe)=>{pe.run(()=>w.filter(Rt=>!H.includes(Rt)).forEach(Vs)),H.forEach(Rt=>{const kn=B.path().split("?")[0].split("#")[0];if(Rt!==E&&Rt.url!==kn){const or=Rt.element;or.setAttribute("aria-hidden","true"),or.classList.add("ion-page-hidden"),Rt.ref.changeDetectorRef.detach()}})};let Bi=(()=>{class E{get(w,B){const pe=ei();return pe?pe.get(w,B):null}getBoolean(w,B){const pe=ei();return!!pe&&pe.getBoolean(w,B)}getNumber(w,B){const pe=ei();return pe?pe.getNumber(w,B):0}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ko=new c.OlP("USERCONFIG"),ei=()=>{if("undefined"!=typeof window){const E=window.Ionic;if(null==E?void 0:E.config)return E.config}return null};let Us=(()=>{class E{constructor(w,B){this.doc=w,this.backButton=new Le.x,this.keyboardDidShow=new Le.x,this.keyboardDidHide=new Le.x,this.pause=new Le.x,this.resume=new Le.x,this.resize=new Le.x,B.run(()=>{var pe;let Rt;this.win=w.defaultView,this.backButton.subscribeWithPriority=function(_n,kn){return this.subscribe(or=>or.register(_n,Sr=>B.run(()=>kn(Sr))))},$s(this.pause,w,"pause"),$s(this.resume,w,"resume"),$s(this.backButton,w,"ionBackButton"),$s(this.resize,this.win,"resize"),$s(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),$s(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(_n=>{Rt=_n}),(null===(pe=this.win)||void 0===pe?void 0:pe.cordova)?w.addEventListener("deviceready",()=>{Rt("cordova")},{once:!0}):Rt("dom")})}is(w){return(0,Ue.a)(this.win,w)}platforms(){return(0,Ue.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(w){return Vi(this.win.location.href,w)}isLandscape(){return!this.isPortrait()}isPortrait(){var w,B;return null===(B=(w=this.win).matchMedia)||void 0===B?void 0:B.call(w,"(orientation: portrait)").matches}testUserAgent(w){const B=this.win.navigator;return!!((null==B?void 0:B.userAgent)&&B.userAgent.indexOf(w)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(ce.K0),c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Vi=(E,H)=>{H=H.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const B=new RegExp("[\\?&]"+H+"=([^&#]*)").exec(E);return B?decodeURIComponent(B[1].replace(/\+/g," ")):null},$s=(E,H,w)=>{H&&H.addEventListener(w,B=>{E.next(null!=B?B.detail:void 0)})};let Ai=(()=>{class E{constructor(w,B,pe,Rt){this.location=B,this.serializer=pe,this.router=Rt,this.direction=pi,this.animated=es,this.guessDirection="forward",this.lastNavId=-1,Rt&&Rt.events.subscribe(_n=>{if(_n instanceof Et.OD){const kn=_n.restoredState?_n.restoredState.navigationId:_n.id;this.guessDirection=kn<this.lastNavId?"back":"forward",this.guessAnimation=_n.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?_n.id:kn}}),w.backButton.subscribeWithPriority(0,_n=>{this.pop(),_n()})}navigateForward(w,B={}){return this.setDirection("forward",B.animated,B.animationDirection,B.animation),this.navigate(w,B)}navigateBack(w,B={}){return this.setDirection("back",B.animated,B.animationDirection,B.animation),this.navigate(w,B)}navigateRoot(w,B={}){return this.setDirection("root",B.animated,B.animationDirection,B.animation),this.navigate(w,B)}back(w={animated:!0,animationDirection:"back"}){return this.setDirection("back",w.animated,w.animationDirection,w.animation),this.location.back()}pop(){return(0,Y.mG)(this,void 0,void 0,function*(){let w=this.topOutlet;for(;w&&!(yield w.pop());)w=w.parentOutlet})}setDirection(w,B,pe,Rt){this.direction=w,this.animated=Uo(w,B,pe),this.animationBuilder=Rt}setTopOutlet(w){this.topOutlet=w}consumeTransition(){let B,w="root";const pe=this.animationBuilder;return"auto"===this.direction?(w=this.guessDirection,B=this.guessAnimation):(B=this.animated,w=this.direction),this.direction=pi,this.animated=es,this.animationBuilder=void 0,{direction:w,animation:B,animationBuilder:pe}}navigate(w,B){if(Array.isArray(w))return this.router.navigate(w,B);{const pe=this.serializer.parse(w.toString());return void 0!==B.queryParams&&(pe.queryParams=Object.assign({},B.queryParams)),void 0!==B.fragment&&(pe.fragment=B.fragment),this.router.navigateByUrl(pe,B)}}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(Us),c.LFG(ce.Ye),c.LFG(Et.Hx),c.LFG(Et.F0,8))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Uo=(E,H,w)=>{if(!1!==H){if(void 0!==w)return w;if("forward"===E||"back"===E)return E;if("root"===E&&!0===H)return"forward"}},pi="auto",es=void 0;let Ki=(()=>{class E{constructor(w,B,pe,Rt,_n,kn,or,Sr,ar,mi,_s,Yi,As){this.parentContexts=w,this.location=B,this.resolver=pe,this.config=kn,this.navCtrl=or,this.parentOutlet=As,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ht.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=ar.nativeElement,this.name=Rt||Et.eC,this.tabsPrefix="true"===_n?fi(mi,Yi):void 0,this.stackCtrl=new Co(this.tabsPrefix,this.nativeEl,mi,or,_s,Sr),w.onChildOutletCreated(this.name,this)}set animation(w){this.nativeEl.animation=w}set animated(w){this.nativeEl.animated=w}set swipeGesture(w){this._swipeGesture=w,this.nativeEl.swipeHandler=w?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:B=>this.stackCtrl.endBackTransition(B)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const w=this.getContext();(null==w?void 0:w.route)&&this.activateWith(w.route,w.resolver||null)}new Promise(w=>(0,Xe.c)(this.nativeEl,w)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(w,B){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const B=this.getContext();this.activatedView.savedData=new Map(B.children.contexts);const pe=this.activatedView.savedData.get("primary");if(pe&&B.route&&(pe.route=Object.assign({},B.route)),this.activatedView.savedExtras={},B.route){const Rt=B.route.snapshot;this.activatedView.savedExtras.queryParams=Rt.queryParams,this.activatedView.savedExtras.fragment=Rt.fragment}}const w=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;let pe,Rt=this.stackCtrl.getExistingView(w);if(Rt){pe=this.activated=Rt.ref;const _n=Rt.savedData;_n&&(this.getContext().children.contexts=_n),this.updateActivatedRouteProxy(pe.instance,w)}else{const or=(B=B||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),Sr=this.parentContexts.getOrCreateContext(this.name).children,ar=new ht.X(null),mi=this.createActivatedRouteProxy(ar,w),_s=new js(mi,Sr,this.location.injector);pe=this.activated=this.location.createComponent(or,this.location.length,_s),ar.next(pe.instance),Rt=this.stackCtrl.createView(this.activated,w),this.proxyMap.set(pe.instance,mi),this.currentActivatedRoute$.next({component:pe.instance,activatedRoute:w})}this.activatedView=Rt,this.stackCtrl.setActive(Rt).then(_n=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(pe.instance),this.stackEvents.emit(_n)})}canGoBack(w=1,B){return this.stackCtrl.canGoBack(w,B)}pop(w=1,B){return this.stackCtrl.pop(w,B)}getLastUrl(w){const B=this.stackCtrl.getLastUrl(w);return B?B.url:void 0}getLastRouteView(w){return this.stackCtrl.getLastUrl(w)}getRootView(w){return this.stackCtrl.getRootUrl(w)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(w,B){const pe=new Et.gz;return pe._futureSnapshot=B._futureSnapshot,pe._routerState=B._routerState,pe.snapshot=B.snapshot,pe.outlet=B.outlet,pe.component=B.component,pe._paramMap=this.proxyObservable(w,"paramMap"),pe._queryParamMap=this.proxyObservable(w,"queryParamMap"),pe.url=this.proxyObservable(w,"url"),pe.params=this.proxyObservable(w,"params"),pe.queryParams=this.proxyObservable(w,"queryParams"),pe.fragment=this.proxyObservable(w,"fragment"),pe.data=this.proxyObservable(w,"data"),pe}proxyObservable(w,B){return w.pipe((0,Ye.h)(pe=>!!pe),(0,ee.w)(pe=>this.currentActivatedRoute$.pipe((0,Ye.h)(Rt=>null!==Rt&&Rt.component===pe),(0,ee.w)(Rt=>Rt&&Rt.activatedRoute[B]),(0,X.x)())))}updateActivatedRouteProxy(w,B){const pe=this.proxyMap.get(w);if(!pe)throw new Error("Could not find activated route proxy for view");pe._futureSnapshot=B._futureSnapshot,pe._routerState=B._routerState,pe.snapshot=B.snapshot,pe.outlet=B.outlet,pe.component=B.component,this.currentActivatedRoute$.next({component:w,activatedRoute:B})}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(Et.y6),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.$8M("tabs"),c.Y36(Bi),c.Y36(Ai),c.Y36(ce.Ye),c.Y36(c.SBq),c.Y36(Et.F0),c.Y36(c.R0b),c.Y36(Et.gz),c.Y36(E,12))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class js{constructor(H,w,B){this.route=H,this.childContexts=w,this.parent=B}get(H,w){return H===Et.gz?this.route:H===Et.y6?this.childContexts:this.parent.get(H,w)}}let Pr=(()=>{class E{constructor(w){this.navCtrl=w,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(w){const B=w.enteringView.stackId;w.tabSwitch&&void 0!==B&&(this.ionTabsWillChange.emit({tab:B}),this.tabBar&&(this.tabBar.selectedTab=B),this.ionTabsDidChange.emit({tab:B}))}select(w){const B="string"==typeof w,pe=B?w:w.detail.tab,Rt=this.outlet.getActiveStackId()===pe,_n=`${this.outlet.tabsPrefix}/${pe}`;if(B||w.stopPropagation(),Rt){const kn=this.outlet.getActiveStackId(),or=this.outlet.getLastRouteView(kn);if((null==or?void 0:or.url)===_n)return;const Sr=this.outlet.getRootView(pe);return this.navCtrl.navigateRoot(_n,Object.assign(Object.assign({},Sr&&_n===Sr.url&&Sr.savedExtras),{animated:!0,animationDirection:"back"}))}{const kn=this.outlet.getLastRouteView(pe);return this.navCtrl.navigateRoot((null==kn?void 0:kn.url)||_n,Object.assign(Object.assign({},null==kn?void 0:kn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(Ai))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tabs"]],contentQueries:function(w,B,pe){if(1&w&&c.Suo(pe,ir,5),2&w){let Rt;c.iGM(Rt=c.CRH())&&(B.tabBar=Rt.first)}},viewQuery:function(w,B){if(1&w&&c.Gf(kt,5,Ki),2&w){let pe;c.iGM(pe=c.CRH())&&(B.outlet=pe.first)}},hostBindings:function(w,B){1&w&&c.NdJ("ionTabButtonClick",function(Rt){return B.select(Rt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Gt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(w,B){1&w&&(c.F$t(Kt),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(Rt){return B.onPageSelected(Rt)}),c.qZA()(),c.Hsn(4,1))},directives:[Ki],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),E})(),$=(()=>{class E{constructor(w,B,pe){this.routerOutlet=w,this.navCtrl=B,this.config=pe}onClick(w){var B;const pe=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(B=this.routerOutlet)||void 0===B?void 0:B.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),w.preventDefault()):null!=pe&&(this.navCtrl.navigateBack(pe,{animation:this.routerAnimation}),w.preventDefault())}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(Ki,8),c.Y36(Ai),c.Y36(Bi))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(w,B){1&w&&c.NdJ("click",function(Rt){return B.onClick(Rt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})(),V=(()=>{class E{constructor(w,B,pe,Rt,_n){this.locationStrategy=w,this.navCtrl=B,this.elementRef=pe,this.router=Rt,this.routerLink=_n,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var w;if(null===(w=this.routerLink)||void 0===w?void 0:w.urlTree){const B=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=B}}onClick(w){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),w.preventDefault()}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(ce.S$),c.Y36(Ai),c.Y36(c.SBq),c.Y36(Et.F0),c.Y36(Et.rH,8))},E.\u0275dir=c.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,B){1&w&&c.NdJ("click",function(Rt){return B.onClick(Rt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]}),E})();class cr{constructor(H){this.ctrl=H}create(H){return this.ctrl.create(H||{})}dismiss(H,w,B){return this.ctrl.dismiss(H,w,B)}getTop(){return this.ctrl.getTop()}}let gi=(()=>{class E extends cr{constructor(){super(dt.b)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Wr=(()=>{class E extends cr{constructor(){super(dt.a)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Kr=(()=>{class E extends cr{constructor(){super(dt.l)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),$n=(()=>{class E extends cr{constructor(w,B,pe){super(dt.m),this.angularDelegate=w,this.resolver=B,this.injector=pe}create(w){return super.create(Object.assign(Object.assign({},w),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(ur),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),vs=(()=>{class E extends cr{constructor(w,B,pe){super(dt.c),this.angularDelegate=w,this.resolver=B,this.injector=pe}create(w){return super.create(Object.assign(Object.assign({},w),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(ur),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),mo=(()=>{class E extends cr{constructor(){super(dt.t)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class k{shouldDetach(H){return!1}shouldAttach(H){return!1}store(H,w){}retrieve(H){return null}shouldReuseRoute(H,w){if(H.routeConfig!==w.routeConfig)return!1;const B=H.params,pe=w.params,Rt=Object.keys(B),_n=Object.keys(pe);if(Rt.length!==_n.length)return!1;for(const kn of Rt)if(pe[kn]!==B[kn])return!1;return!0}}const q=(E,H,w)=>()=>{if(H.defaultView&&"undefined"!=typeof window){(E=>{const H=window,w=H.Ionic;w&&w.config&&"Object"!==w.config.constructor.name||(H.Ionic=H.Ionic||{},H.Ionic.config=Object.assign(Object.assign({},H.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:Rt=>w.run(Rt)}));const pe="__zone_symbol__addEventListener"in H.body?"__zone_symbol__addEventListener":"addEventListener";return function we(){var E=[];if("undefined"!=typeof window){var H=window;(!H.customElements||H.Element&&(!H.Element.prototype.closest||!H.Element.prototype.matches||!H.Element.prototype.remove||!H.Element.prototype.getRootNode))&&E.push(M.e(6748).then(M.t.bind(M,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||H.NodeList&&!H.NodeList.prototype.forEach||!H.fetch||!function(){try{var B=new URL("b","http://a");return B.pathname="c%20d","http://a/c%20d"===B.href&&B.searchParams}catch(pe){return!1}}()||"undefined"==typeof WeakMap)&&E.push(M.e(2214).then(M.t.bind(M,4144,23)))}return Promise.all(E)}().then(()=>((E,H)=>"undefined"==typeof window?Promise.resolve():(0,Ke.p)().then(()=>(_e(),(0,Ke.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),H))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:er,jmp:Rt=>w.runOutsideAngular(Rt),ael(Rt,_n,kn,or){Rt[pe](_n,kn,or)},rel(Rt,_n,kn,or){Rt.removeEventListener(_n,kn,or)}}))}};let Nn=(()=>{class E{static forRoot(w){return{ngModule:E,providers:[{provide:ko,useValue:w},{provide:c.ip1,useFactory:q,multi:!0,deps:[ko,ce.K0,c.R0b]}]}}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({providers:[ur,$n,vs],imports:[[ce.ez]]}),E})()},9442:(en,ut,M)=>{"use strict";M.d(ut,{c:()=>qe});var c=M(3756);let G;const Ne=ke=>ke.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),be=ke=>{if(void 0===G){const Le=void 0!==ke.style.webkitAnimationName;G=void 0===ke.style.animationName&&Le?"-webkit-":""}return G},De=(ke,Ae,Le)=>{const ht=Ae.startsWith("animation")?be(ke):"";ke.style.setProperty(ht+Ae,Le)},Ee=(ke,Ae)=>{const Le=Ae.startsWith("animation")?be(ke):"";ke.style.removeProperty(Le+Ae)},te=[],Oe=(ke=[],Ae)=>{if(void 0!==Ae){const Le=Array.isArray(Ae)?Ae:[Ae];return[...ke,...Le]}return ke},qe=ke=>{let Ae,Le,ht,Et,We,Ze,Qe,Ct,Ye,ee,X,je,ye,st=[],Ue=[],Xe=[],se=!1,dt={},rt=[],Ke=[],ft={},vt=0,un=!1,Xt=!1,ce=!0,we=!1,_e=!0,Ce=!1;const kt=ke,Kt=[],Gt=[],Jt=[],In=[],er=[],hn=[],Pn=[],vn=[],gr=[],ln=[],Zn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Ir="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zn,Ft=()=>ln,Wt=(Ie,Fe)=>(((null==Fe?void 0:Fe.oneTimeCallback)?Gt:Kt).push({c:Ie,o:Fe}),ye),Wn=()=>{if(Ir)ln.forEach(Ie=>{Ie.cancel()}),ln.length=0;else{const Ie=Jt.slice();(0,c.r)(()=>{Ie.forEach(Fe=>{Ee(Fe,"animation-name"),Ee(Fe,"animation-duration"),Ee(Fe,"animation-timing-function"),Ee(Fe,"animation-iteration-count"),Ee(Fe,"animation-delay"),Ee(Fe,"animation-play-state"),Ee(Fe,"animation-fill-mode"),Ee(Fe,"animation-direction")})})}},jn=()=>{er.forEach(Ie=>{(null==Ie?void 0:Ie.parentNode)&&Ie.parentNode.removeChild(Ie)}),er.length=0},Cn=()=>void 0!==We?We:Qe?Qe.getFill():"both",nn=()=>void 0!==Ye?Ye:void 0!==Ze?Ze:Qe?Qe.getDirection():"normal",dr=()=>un?"linear":void 0!==ht?ht:Qe?Qe.getEasing():"linear",gn=()=>Xt?0:void 0!==ee?ee:void 0!==Le?Le:Qe?Qe.getDuration():0,Bn=()=>void 0!==Et?Et:Qe?Qe.getIterations():1,Hr=()=>void 0!==X?X:void 0!==Ae?Ae:Qe?Qe.getDelay():0,ai=()=>{0!==vt&&(vt--,0===vt&&((()=>{ki(),vn.forEach(Pt=>Pt()),gr.forEach(Pt=>Pt());const Ie=ce?1:0,Fe=rt,yt=Ke,Lt=ft;Jt.forEach(Pt=>{const Ot=Pt.classList;Fe.forEach(mn=>Ot.add(mn)),yt.forEach(mn=>Ot.remove(mn));for(const mn in Lt)Lt.hasOwnProperty(mn)&&De(Pt,mn,Lt[mn])}),Kt.forEach(Pt=>Pt.c(Ie,ye)),Gt.forEach(Pt=>Pt.c(Ie,ye)),Gt.length=0,_e=!0,ce&&(we=!0),ce=!0})(),Qe&&Qe.animationFinish()))},Tr=(Ie=!0)=>{jn();const Fe=(ke=>(ke.forEach(Ae=>{for(const Le in Ae)if(Ae.hasOwnProperty(Le)){const ht=Ae[Le];if("easing"===Le)Ae["animation-timing-function"]=ht,delete Ae[Le];else{const Et=Ne(Le);Et!==Le&&(Ae[Et]=ht,delete Ae[Le])}}}),ke))(st);Jt.forEach(yt=>{if(Fe.length>0){const Lt=((ke=[])=>ke.map(Ae=>{const Le=Ae.offset,ht=[];for(const Et in Ae)Ae.hasOwnProperty(Et)&&"offset"!==Et&&ht.push(`${Et}: ${Ae[Et]};`);return`${100*Le}% { ${ht.join(" ")} }`}).join(" "))(Fe);je=void 0!==ke?ke:(ke=>{let Ae=te.indexOf(ke);return Ae<0&&(Ae=te.push(ke)-1),`ion-animation-${Ae}`})(Lt);const Pt=((ke,Ae,Le)=>{const ht=(ke=>{const Ae=ke.getRootNode();return Ae.head||Ae})(Le),Et=be(Le),We=ht.querySelector("#"+ke);if(We)return We;const Ze=(Le.ownerDocument||document).createElement("style");return Ze.id=ke,Ze.textContent=`@${Et}keyframes ${ke} { ${Ae} } @${Et}keyframes ${ke}-alt { ${Ae} }`,ht.appendChild(Ze),Ze})(je,Lt,yt);er.push(Pt),De(yt,"animation-duration",`${gn()}ms`),De(yt,"animation-timing-function",dr()),De(yt,"animation-delay",`${Hr()}ms`),De(yt,"animation-fill-mode",Cn()),De(yt,"animation-direction",nn());const Ot=Bn()===1/0?"infinite":Bn().toString();De(yt,"animation-iteration-count",Ot),De(yt,"animation-play-state","paused"),Ie&&De(yt,"animation-name",`${Pt.id}-alt`),(0,c.r)(()=>{De(yt,"animation-name",Pt.id||null)})}})},Dn=(Ie=!0)=>{(()=>{hn.forEach(Lt=>Lt()),Pn.forEach(Lt=>Lt());const Ie=Ue,Fe=Xe,yt=dt;Jt.forEach(Lt=>{const Pt=Lt.classList;Ie.forEach(Ot=>Pt.add(Ot)),Fe.forEach(Ot=>Pt.remove(Ot));for(const Ot in yt)yt.hasOwnProperty(Ot)&&De(Lt,Ot,yt[Ot])})})(),st.length>0&&(Ir?(Jt.forEach(Ie=>{const Fe=Ie.animate(st,{id:kt,delay:Hr(),duration:gn(),easing:dr(),iterations:Bn(),fill:Cn(),direction:nn()});Fe.pause(),ln.push(Fe)}),ln.length>0&&(ln[0].onfinish=()=>{ai()})):Tr(Ie)),se=!0},rr=Ie=>{if(Ie=Math.min(Math.max(Ie,0),.9999),Ir)ln.forEach(Fe=>{Fe.currentTime=Fe.effect.getComputedTiming().delay+gn()*Ie,Fe.pause()});else{const Fe=`-${gn()*Ie}ms`;Jt.forEach(yt=>{st.length>0&&(De(yt,"animation-delay",Fe),De(yt,"animation-play-state","paused"))})}},Zr=Ie=>{ln.forEach(Fe=>{Fe.effect.updateTiming({delay:Hr(),duration:gn(),easing:dr(),iterations:Bn(),fill:Cn(),direction:nn()})}),void 0!==Ie&&rr(Ie)},ri=(Ie=!0,Fe)=>{(0,c.r)(()=>{Jt.forEach(yt=>{De(yt,"animation-name",je||null),De(yt,"animation-duration",`${gn()}ms`),De(yt,"animation-timing-function",dr()),De(yt,"animation-delay",void 0!==Fe?`-${Fe*gn()}ms`:`${Hr()}ms`),De(yt,"animation-fill-mode",Cn()||null),De(yt,"animation-direction",nn()||null);const Lt=Bn()===1/0?"infinite":Bn().toString();De(yt,"animation-iteration-count",Lt),Ie&&De(yt,"animation-name",`${je}-alt`),(0,c.r)(()=>{De(yt,"animation-name",je||null)})})})},lr=(Ie=!1,Fe=!0,yt)=>(Ie&&In.forEach(Lt=>{Lt.update(Ie,Fe,yt)}),Ir?Zr(yt):ri(Fe,yt),ye),Cr=()=>{se&&(Ir?ln.forEach(Ie=>{Ie.pause()}):Jt.forEach(Ie=>{De(Ie,"animation-play-state","paused")}),Ce=!0)},di=()=>{Ct=void 0,ai()},ki=()=>{Ct&&clearTimeout(Ct)},Fr=Ie=>new Promise(Fe=>{(null==Ie?void 0:Ie.sync)&&(Xt=!0,Wt(()=>Xt=!1,{oneTimeCallback:!0})),se||Dn(),we&&(Ir?(rr(0),Zr()):ri(),we=!1),_e&&(vt=In.length+1,_e=!1),Wt(()=>Fe(),{oneTimeCallback:!0}),In.forEach(yt=>{yt.play()}),Ir?(ln.forEach(Ie=>{Ie.play()}),(0===st.length||0===Jt.length)&&ai()):(()=>{if(ki(),(0,c.r)(()=>{Jt.forEach(Ie=>{st.length>0&&De(Ie,"animation-play-state","running")})}),0===st.length||0===Jt.length)ai();else{const Ie=Hr()||0,Fe=gn()||0,yt=Bn()||1;isFinite(yt)&&(Ct=setTimeout(di,Ie+Fe*yt+100)),((ke,Ae)=>{let Le;const ht={passive:!0},We=Ze=>{ke===Ze.target&&(Le&&Le(),ki(),(0,c.r)(()=>{Jt.forEach(Ie=>{Ee(Ie,"animation-duration"),Ee(Ie,"animation-delay"),Ee(Ie,"animation-play-state")}),(0,c.r)(ai)}))};ke&&(ke.addEventListener("webkitAnimationEnd",We,ht),ke.addEventListener("animationend",We,ht),Le=()=>{ke.removeEventListener("webkitAnimationEnd",We,ht),ke.removeEventListener("animationend",We,ht)})})(Jt[0])}})(),Ce=!1}),ve=(Ie,Fe)=>{const yt=st[0];return void 0===yt||void 0!==yt.offset&&0!==yt.offset?st=[{offset:0,[Ie]:Fe},...st]:yt[Ie]=Fe,ye};return ye={parentAnimation:Qe,elements:Jt,childAnimations:In,id:kt,animationFinish:ai,from:ve,to:(Ie,Fe)=>{const yt=st[st.length-1];return void 0===yt||void 0!==yt.offset&&1!==yt.offset?st=[...st,{offset:1,[Ie]:Fe}]:yt[Ie]=Fe,ye},fromTo:(Ie,Fe,yt)=>ve(Ie,Fe).to(Ie,yt),parent:Ie=>(Qe=Ie,ye),play:Fr,pause:()=>(In.forEach(Ie=>{Ie.pause()}),Cr(),ye),stop:()=>{In.forEach(Ie=>{Ie.stop()}),se&&(Wn(),se=!1),un=!1,Xt=!1,_e=!0,Ye=void 0,ee=void 0,X=void 0,vt=0,we=!1,ce=!0,Ce=!1},destroy:Ie=>(In.forEach(Fe=>{Fe.destroy(Ie)}),(Ie=>{Wn(),Ie&&jn()})(Ie),Jt.length=0,In.length=0,st.length=0,Kt.length=0,Gt.length=0,se=!1,_e=!0,ye),keyframes:Ie=>{const Fe=st!==Ie;return st=Ie,Fe&&(Ie=>{Ir?Ft().forEach(Fe=>{if(Fe.effect.setKeyframes)Fe.effect.setKeyframes(Ie);else{const yt=new KeyframeEffect(Fe.effect.target,Ie,Fe.effect.getTiming());Fe.effect=yt}}):Tr()})(st),ye},addAnimation:Ie=>{if(null!=Ie)if(Array.isArray(Ie))for(const Fe of Ie)Fe.parent(ye),In.push(Fe);else Ie.parent(ye),In.push(Ie);return ye},addElement:Ie=>{if(null!=Ie)if(1===Ie.nodeType)Jt.push(Ie);else if(Ie.length>=0)for(let Fe=0;Fe<Ie.length;Fe++)Jt.push(Ie[Fe]);else console.error("Invalid addElement value");return ye},update:lr,fill:Ie=>(We=Ie,lr(!0),ye),direction:Ie=>(Ze=Ie,lr(!0),ye),iterations:Ie=>(Et=Ie,lr(!0),ye),duration:Ie=>(!Ir&&0===Ie&&(Ie=1),Le=Ie,lr(!0),ye),easing:Ie=>(ht=Ie,lr(!0),ye),delay:Ie=>(Ae=Ie,lr(!0),ye),getWebAnimations:Ft,getKeyframes:()=>st,getFill:Cn,getDirection:nn,getDelay:Hr,getIterations:Bn,getEasing:dr,getDuration:gn,afterAddRead:Ie=>(vn.push(Ie),ye),afterAddWrite:Ie=>(gr.push(Ie),ye),afterClearStyles:(Ie=[])=>{for(const Fe of Ie)ft[Fe]="";return ye},afterStyles:(Ie={})=>(ft=Ie,ye),afterRemoveClass:Ie=>(Ke=Oe(Ke,Ie),ye),afterAddClass:Ie=>(rt=Oe(rt,Ie),ye),beforeAddRead:Ie=>(hn.push(Ie),ye),beforeAddWrite:Ie=>(Pn.push(Ie),ye),beforeClearStyles:(Ie=[])=>{for(const Fe of Ie)dt[Fe]="";return ye},beforeStyles:(Ie={})=>(dt=Ie,ye),beforeRemoveClass:Ie=>(Xe=Oe(Xe,Ie),ye),beforeAddClass:Ie=>(Ue=Oe(Ue,Ie),ye),onFinish:Wt,isRunning:()=>0!==vt&&!Ce,progressStart:(Ie=!1,Fe)=>(In.forEach(yt=>{yt.progressStart(Ie,Fe)}),Cr(),un=Ie,se||Dn(),lr(!1,!0,Fe),ye),progressStep:Ie=>(In.forEach(Fe=>{Fe.progressStep(Ie)}),rr(Ie),ye),progressEnd:(Ie,Fe,yt)=>(un=!1,In.forEach(Lt=>{Lt.progressEnd(Ie,Fe,yt)}),void 0!==yt&&(ee=yt),we=!1,ce=!0,0===Ie?(Ye="reverse"===nn()?"normal":"reverse","reverse"===Ye&&(ce=!1),Ir?(lr(),rr(1-Fe)):(X=(1-Fe)*gn()*-1,lr(!1,!1))):1===Ie&&(Ir?(lr(),rr(Fe)):(X=Fe*gn()*-1,lr(!1,!1))),void 0!==Ie&&(Wt(()=>{ee=void 0,Ye=void 0,X=void 0},{oneTimeCallback:!0}),Qe||Fr()),ye)}}},3509:(en,ut,M)=>{"use strict";M.d(ut,{G:()=>be});class G{constructor(Ee,ge,Be,te,de){this.id=ge,this.name=Be,this.disableScroll=de,this.priority=1e6*te+ge,this.ctrl=Ee}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ee=this.ctrl.capture(this.name,this.id,this.priority);return Ee&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ee}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(Ee,ge,Be,te){this.id=ge,this.disable=Be,this.disableScroll=te,this.ctrl=Ee}block(){if(this.ctrl){if(this.disable)for(const Ee of this.disable)this.ctrl.disableGesture(Ee,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ee of this.disable)this.ctrl.enableGesture(Ee,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ne="backdrop-no-scroll",be=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ee){return new G(this,this.newID(),Ee.name,Ee.priority||0,!!Ee.disableScroll)}createBlocker(Ee={}){return new Y(this,this.newID(),Ee.disable,!!Ee.disableScroll)}start(Ee,ge,Be){return this.canStart(Ee)?(this.requestedStart.set(ge,Be),!0):(this.requestedStart.delete(ge),!1)}capture(Ee,ge,Be){if(!this.start(Ee,ge,Be))return!1;const te=this.requestedStart;let de=-1e4;if(te.forEach(Te=>{de=Math.max(de,Te)}),de===Be){this.capturedId=ge,te.clear();const Te=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ee}});return document.dispatchEvent(Te),!0}return te.delete(ge),!1}release(Ee){this.requestedStart.delete(Ee),this.capturedId===Ee&&(this.capturedId=void 0)}disableGesture(Ee,ge){let Be=this.disabledGestures.get(Ee);void 0===Be&&(Be=new Set,this.disabledGestures.set(Ee,Be)),Be.add(ge)}enableGesture(Ee,ge){const Be=this.disabledGestures.get(Ee);void 0!==Be&&Be.delete(ge)}disableScroll(Ee){this.disabledScroll.add(Ee),1===this.disabledScroll.size&&document.body.classList.add(Ne)}enableScroll(Ee){this.disabledScroll.delete(Ee),0===this.disabledScroll.size&&document.body.classList.remove(Ne)}canStart(Ee){return!(void 0!==this.capturedId||this.isDisabled(Ee))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ee){const ge=this.disabledGestures.get(Ee);return!!(ge&&ge.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(en,ut,M)=>{"use strict";M.r(ut),M.d(ut,{MENU_BACK_BUTTON_PRIORITY:()=>be,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ne,blockHardwareBackButton:()=>G,startHardwareBackButton:()=>Y});var c=M(5861);const G=()=>{document.addEventListener("backbutton",()=>{})},Y=()=>{const De=document;let Ee=!1;De.addEventListener("backbutton",()=>{if(Ee)return;let ge=0,Be=[];const te=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Me,Oe){Be.push({priority:Me,handler:Oe,id:ge++})}}});De.dispatchEvent(te);const de=function(){var Me=(0,c.Z)(function*(Oe){try{if(null==Oe?void 0:Oe.handler){const qe=Oe.handler(Te);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return Me.apply(this,arguments)}}(),Te=()=>{if(Be.length>0){let Me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Be.forEach(Oe=>{Oe.priority>=Me.priority&&(Me=Oe)}),Ee=!0,Be=Be.filter(Oe=>Oe.id!==Me.id),de(Me).then(()=>Ee=!1)}};Te()})},Ne=100,be=99},3756:(en,ut,M)=>{"use strict";M.d(ut,{a:()=>Ee,b:()=>ge,c:()=>Y,d:()=>Oe,e:()=>qe,f:()=>Me,g:()=>Be,h:()=>We,i:()=>De,j:()=>Ne,k:()=>Te,l:()=>ke,m:()=>de,n:()=>Ae,o:()=>Et,p:()=>ht,q:()=>Ze,r:()=>te,s:()=>st,t:()=>c,u:()=>Le});const c=(Ue,Xe=0)=>new Promise(se=>{G(Ue,Xe,se)}),G=(Ue,Xe=0,se)=>{let Qe,dt;const rt={passive:!0},ft=()=>{Qe&&Qe()},vt=un=>{(void 0===un||Ue===un.target)&&(ft(),se(un))};return Ue&&(Ue.addEventListener("webkitTransitionEnd",vt,rt),Ue.addEventListener("transitionend",vt,rt),dt=setTimeout(vt,Xe+500),Qe=()=>{dt&&(clearTimeout(dt),dt=void 0),Ue.removeEventListener("webkitTransitionEnd",vt,rt),Ue.removeEventListener("transitionend",vt,rt)}),ft},Y=(Ue,Xe)=>{Ue.componentOnReady?Ue.componentOnReady().then(se=>Xe(se)):te(()=>Xe(Ue))},Ne=(Ue,Xe=[])=>{const se={};return Xe.forEach(Qe=>{Ue.hasAttribute(Qe)&&(null!==Ue.getAttribute(Qe)&&(se[Qe]=Ue.getAttribute(Qe)),Ue.removeAttribute(Qe))}),se},be=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],De=Ue=>Ne(Ue,be),Ee=(Ue,Xe,se,Qe)=>{var dt;if("undefined"!=typeof window){const rt=window,Ke=null===(dt=null==rt?void 0:rt.Ionic)||void 0===dt?void 0:dt.config;if(Ke){const ft=Ke.get("_ael");if(ft)return ft(Ue,Xe,se,Qe);if(Ke._ael)return Ke._ael(Ue,Xe,se,Qe)}}return Ue.addEventListener(Xe,se,Qe)},ge=(Ue,Xe,se,Qe)=>{var dt;if("undefined"!=typeof window){const rt=window,Ke=null===(dt=null==rt?void 0:rt.Ionic)||void 0===dt?void 0:dt.config;if(Ke){const ft=Ke.get("_rel");if(ft)return ft(Ue,Xe,se,Qe);if(Ke._rel)return Ke._rel(Ue,Xe,se,Qe)}}return Ue.removeEventListener(Xe,se,Qe)},Be=(Ue,Xe=Ue)=>Ue.shadowRoot||Xe,te=Ue=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ue):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ue):setTimeout(Ue),de=Ue=>!!Ue.shadowRoot&&!!Ue.attachShadow,Te=Ue=>{const Xe=Ue.closest("ion-item");return Xe?Xe.querySelector("ion-label"):null},Me=Ue=>{if(Ue.focus(),Ue.classList.contains("ion-focusable")){const Xe=Ue.closest("ion-app");Xe&&Xe.setFocus([Ue])}},Oe=(Ue,Xe)=>{let se;const Qe=Ue.getAttribute("aria-labelledby"),dt=Ue.id;let rt=null!==Qe&&""!==Qe.trim()?Qe:Xe+"-lbl",Ke=null!==Qe&&""!==Qe.trim()?document.getElementById(Qe):Te(Ue);return Ke?(null===Qe&&(Ke.id=rt),se=Ke.textContent,Ke.setAttribute("aria-hidden","true")):""!==dt.trim()&&(Ke=document.querySelector(`label[for="${dt}"]`),Ke&&(""!==Ke.id?rt=Ke.id:Ke.id=rt=`${dt}-lbl`,se=Ke.textContent)),{label:Ke,labelId:rt,labelText:se}},qe=(Ue,Xe,se,Qe,dt)=>{if(Ue||de(Xe)){let rt=Xe.querySelector("input.aux-input");rt||(rt=Xe.ownerDocument.createElement("input"),rt.type="hidden",rt.classList.add("aux-input"),Xe.appendChild(rt)),rt.disabled=dt,rt.name=se,rt.value=Qe||""}},ke=(Ue,Xe,se)=>Math.max(Ue,Math.min(Xe,se)),Ae=(Ue,Xe)=>{if(!Ue){const se="ASSERT: "+Xe;throw console.error(se),new Error(se)}},Le=Ue=>Ue.timeStamp||Date.now(),ht=Ue=>{if(Ue){const Xe=Ue.changedTouches;if(Xe&&Xe.length>0){const se=Xe[0];return{x:se.clientX,y:se.clientY}}if(void 0!==Ue.pageX)return{x:Ue.pageX,y:Ue.pageY}}return{x:0,y:0}},Et=Ue=>{const Xe="rtl"===document.dir;switch(Ue){case"start":return Xe;case"end":return!Xe;default:throw new Error(`"${Ue}" is not a valid value for [side]. Use "start" or "end" instead.`)}},We=(Ue,Xe)=>{const se=Ue._original||Ue;return{_original:Ue,emit:Ze(se.emit.bind(se),Xe)}},Ze=(Ue,Xe=0)=>{let se;return(...Qe)=>{clearTimeout(se),se=setTimeout(Ue,Xe,...Qe)}},st=(Ue,Xe)=>{if(null!=Ue||(Ue={}),null!=Xe||(Xe={}),Ue===Xe)return!0;const se=Object.keys(Ue);if(se.length!==Object.keys(Xe).length)return!1;for(const Qe of se)if(!(Qe in Xe)||Ue[Qe]!==Xe[Qe])return!1;return!0}},4318:(en,ut,M)=>{"use strict";M.d(ut,{L:()=>Ne,a:()=>be,b:()=>De,c:()=>Ee,d:()=>ge,e:()=>Xe,g:()=>dt,l:()=>st,s:()=>se,t:()=>de});var c=M(5861),G=M(2361),Y=M(3756);const Ne="ionViewWillEnter",be="ionViewDidEnter",De="ionViewWillLeave",Ee="ionViewDidLeave",ge="ionViewWillUnload",de=rt=>new Promise((Ke,ft)=>{(0,G.c)(()=>{Te(rt),Me(rt).then(vt=>{vt.animation&&vt.animation.destroy(),Oe(rt),Ke(vt)},vt=>{Oe(rt),ft(vt)})})}),Te=rt=>{const Ke=rt.enteringEl,ft=rt.leavingEl;Qe(Ke,ft,rt.direction),rt.showGoBack?Ke.classList.add("can-go-back"):Ke.classList.remove("can-go-back"),se(Ke,!1),Ke.style.setProperty("pointer-events","none"),ft&&(se(ft,!1),ft.style.setProperty("pointer-events","none"))},Me=function(){var rt=(0,c.Z)(function*(Ke){const ft=yield qe(Ke);return ft&&G.B.isBrowser?ke(ft,Ke):Ae(Ke)});return function(ft){return rt.apply(this,arguments)}}(),Oe=rt=>{const Ke=rt.enteringEl,ft=rt.leavingEl;Ke.classList.remove("ion-page-invisible"),Ke.style.removeProperty("pointer-events"),void 0!==ft&&(ft.classList.remove("ion-page-invisible"),ft.style.removeProperty("pointer-events"))},qe=function(){var rt=(0,c.Z)(function*(Ke){return Ke.leavingEl&&Ke.animated&&0!==Ke.duration?Ke.animationBuilder?Ke.animationBuilder:"ios"===Ke.mode?(yield Promise.resolve().then(M.bind(M,1815))).iosTransitionAnimation:(yield Promise.resolve().then(M.bind(M,6447))).mdTransitionAnimation:void 0});return function(ft){return rt.apply(this,arguments)}}(),ke=function(){var rt=(0,c.Z)(function*(Ke,ft){yield Le(ft,!0);const vt=Ke(ft.baseEl,ft);We(ft.enteringEl,ft.leavingEl);const un=yield Et(vt,ft);return ft.progressCallback&&ft.progressCallback(void 0),un&&Ze(ft.enteringEl,ft.leavingEl),{hasCompleted:un,animation:vt}});return function(ft,vt){return rt.apply(this,arguments)}}(),Ae=function(){var rt=(0,c.Z)(function*(Ke){const ft=Ke.enteringEl,vt=Ke.leavingEl;return yield Le(Ke,!1),We(ft,vt),Ze(ft,vt),{hasCompleted:!0}});return function(ft){return rt.apply(this,arguments)}}(),Le=function(){var rt=(0,c.Z)(function*(Ke,ft){const un=(void 0!==Ke.deepWait?Ke.deepWait:ft)?[Xe(Ke.enteringEl),Xe(Ke.leavingEl)]:[Ue(Ke.enteringEl),Ue(Ke.leavingEl)];yield Promise.all(un),yield ht(Ke.viewIsReady,Ke.enteringEl)});return function(ft,vt){return rt.apply(this,arguments)}}(),ht=function(){var rt=(0,c.Z)(function*(Ke,ft){Ke&&(yield Ke(ft))});return function(ft,vt){return rt.apply(this,arguments)}}(),Et=(rt,Ke)=>{const ft=Ke.progressCallback,vt=new Promise(un=>{rt.onFinish(Xt=>un(1===Xt))});return ft?(rt.progressStart(!0),ft(rt)):rt.play(),vt},We=(rt,Ke)=>{st(Ke,De),st(rt,Ne)},Ze=(rt,Ke)=>{st(rt,be),st(Ke,Ee)},st=(rt,Ke)=>{if(rt){const ft=new CustomEvent(Ke,{bubbles:!1,cancelable:!1});rt.dispatchEvent(ft)}},Ue=rt=>rt?new Promise(Ke=>(0,Y.c)(rt,Ke)):Promise.resolve(),Xe=function(){var rt=(0,c.Z)(function*(Ke){const ft=Ke;if(ft){if(null!=ft.componentOnReady){if(null!=(yield ft.componentOnReady()))return}else if(null!=ft.__registerHost)return void(yield new Promise(un=>(0,Y.r)(un)));yield Promise.all(Array.from(ft.children).map(Xe))}});return function(ft){return rt.apply(this,arguments)}}(),se=(rt,Ke)=>{Ke?(rt.setAttribute("aria-hidden","true"),rt.classList.add("ion-page-hidden")):(rt.hidden=!1,rt.removeAttribute("aria-hidden"),rt.classList.remove("ion-page-hidden"))},Qe=(rt,Ke,ft)=>{void 0!==rt&&(rt.style.zIndex="back"===ft?"99":"101"),void 0!==Ke&&(Ke.style.zIndex="100")},dt=rt=>rt.classList.contains("ion-page")?rt:rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||rt},3139:(en,ut,M)=>{"use strict";M.r(ut),M.d(ut,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Be});var c=M(3509);const G=(Me,Oe,qe,ke)=>{const Ae=Y(Me)?{capture:!!ke.capture,passive:!!ke.passive}:!!ke.capture;let Le,ht;return Me.__zone_symbol__addEventListener?(Le="__zone_symbol__addEventListener",ht="__zone_symbol__removeEventListener"):(Le="addEventListener",ht="removeEventListener"),Me[Le](Oe,qe,Ae),()=>{Me[ht](Oe,qe,Ae)}},Y=Me=>{if(void 0===Ne)try{const Oe=Object.defineProperty({},"passive",{get:()=>{Ne=!0}});Me.addEventListener("optsTest",()=>{},Oe)}catch(Oe){Ne=!1}return!!Ne};let Ne;const Ee=Me=>Me instanceof Document?Me:Me.ownerDocument,Be=Me=>{let Oe=!1,qe=!1,ke=!0,Ae=!1;const Le=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Me),ht=Le.canStart,Et=Le.onWillStart,We=Le.onStart,Ze=Le.onEnd,st=Le.notCaptured,Ue=Le.onMove,Xe=Le.threshold,se=Le.passive,Qe=Le.blurOnStart,dt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},rt=((Me,Oe,qe)=>{const ke=qe*(Math.PI/180),Ae="x"===Me,Le=Math.cos(ke),ht=Oe*Oe;let Et=0,We=0,Ze=!1,st=0;return{start(Ue,Xe){Et=Ue,We=Xe,st=0,Ze=!0},detect(Ue,Xe){if(!Ze)return!1;const se=Ue-Et,Qe=Xe-We,dt=se*se+Qe*Qe;if(dt<ht)return!1;const rt=Math.sqrt(dt),Ke=(Ae?se:Qe)/rt;return st=Ke>Le?1:Ke<-Le?-1:0,Ze=!1,!0},isGesture:()=>0!==st,getDirection:()=>st}})(Le.direction,Le.threshold,Le.maxAngle),Ke=c.G.createGesture({name:Me.gestureName,priority:Me.gesturePriority,disableScroll:Me.disableScroll}),un=()=>{!Oe||(Ae=!1,Ue&&Ue(dt))},Xt=()=>!(Ke&&!Ke.capture()||(Oe=!0,ke=!1,dt.startX=dt.currentX,dt.startY=dt.currentY,dt.startTime=dt.currentTime,Et?Et(dt).then(Ye):Ye(),0)),Ye=()=>{Qe&&(()=>{if("undefined"!=typeof document){const _e=document.activeElement;(null==_e?void 0:_e.blur)&&_e.blur()}})(),We&&We(dt),ke=!0},ee=()=>{Oe=!1,qe=!1,Ae=!1,ke=!0,Ke.release()},X=_e=>{const je=Oe,ye=ke;if(ee(),ye){if(te(dt,_e),je)return void(Ze&&Ze(dt));st&&st(dt)}},ce=((Me,Oe,qe,ke,Ae)=>{let Le,ht,Et,We,Ze,st,Ue,Xe=0;const se=Ct=>{Xe=Date.now()+2e3,Oe(Ct)&&(!ht&&qe&&(ht=G(Me,"touchmove",qe,Ae)),Et||(Et=G(Ct.target,"touchend",dt,Ae)),We||(We=G(Ct.target,"touchcancel",dt,Ae)))},Qe=Ct=>{Xe>Date.now()||!Oe(Ct)||(!st&&qe&&(st=G(Ee(Me),"mousemove",qe,Ae)),Ue||(Ue=G(Ee(Me),"mouseup",rt,Ae)))},dt=Ct=>{Ke(),ke&&ke(Ct)},rt=Ct=>{ft(),ke&&ke(Ct)},Ke=()=>{ht&&ht(),Et&&Et(),We&&We(),ht=Et=We=void 0},ft=()=>{st&&st(),Ue&&Ue(),st=Ue=void 0},vt=()=>{Ke(),ft()},un=(Ct=!0)=>{Ct?(Le||(Le=G(Me,"touchstart",se,Ae)),Ze||(Ze=G(Me,"mousedown",Qe,Ae))):(Le&&Le(),Ze&&Ze(),Le=Ze=void 0,vt())};return{enable:un,stop:vt,destroy:()=>{un(!1),ke=qe=Oe=void 0}}})(Le.el,_e=>{const je=Te(_e);return!(qe||!ke||(de(_e,dt),dt.startX=dt.currentX,dt.startY=dt.currentY,dt.startTime=dt.currentTime=je,dt.velocityX=dt.velocityY=dt.deltaX=dt.deltaY=0,dt.event=_e,ht&&!1===ht(dt))||(Ke.release(),!Ke.start()))&&(qe=!0,0===Xe?Xt():(rt.start(dt.startX,dt.startY),!0))},_e=>{Oe?!Ae&&ke&&(Ae=!0,te(dt,_e),requestAnimationFrame(un)):(te(dt,_e),rt.detect(dt.currentX,dt.currentY)&&(!rt.isGesture()||!Xt())&&we())},X,{capture:!1,passive:se}),we=()=>{ee(),ce.stop(),st&&st(dt)};return{enable(_e=!0){_e||(Oe&&X(void 0),ee()),ce.enable(_e)},destroy(){Ke.destroy(),ce.destroy()}}},te=(Me,Oe)=>{if(!Oe)return;const qe=Me.currentX,ke=Me.currentY,Ae=Me.currentTime;de(Oe,Me);const Le=Me.currentX,ht=Me.currentY,We=(Me.currentTime=Te(Oe))-Ae;if(We>0&&We<100){const st=(ht-ke)/We;Me.velocityX=(Le-qe)/We*.7+.3*Me.velocityX,Me.velocityY=.7*st+.3*Me.velocityY}Me.deltaX=Le-Me.startX,Me.deltaY=ht-Me.startY,Me.event=Oe},de=(Me,Oe)=>{let qe=0,ke=0;if(Me){const Ae=Me.changedTouches;if(Ae&&Ae.length>0){const Le=Ae[0];qe=Le.clientX,ke=Le.clientY}else void 0!==Me.pageX&&(qe=Me.pageX,ke=Me.pageY)}Oe.currentX=qe,Oe.currentY=ke},Te=Me=>Me.timeStamp||Date.now()},2361:(en,ut,M)=>{"use strict";M.d(ut,{B:()=>Fr,H:()=>In,a:()=>we,b:()=>Qr,c:()=>Di,e:()=>it,f:()=>Xr,g:()=>_e,h:()=>Gt,i:()=>Ge,j:()=>dr,k:()=>ai,p:()=>ke,r:()=>Dn,s:()=>Oe});var c=M(5861);let Y,Ne,be,De=!1,Ee=!1,ge=!1,Be=!1,te=!1;const de="undefined"!=typeof window?window:{},Te=de.document||{head:{}},Me={$flags$:0,$resourcesUrl$:"",jmp:ne=>ne(),raf:ne=>requestAnimationFrame(ne),ael:(ne,ve,ot,mt)=>ne.addEventListener(ve,ot,mt),rel:(ne,ve,ot,mt)=>ne.removeEventListener(ve,ot,mt),ce:(ne,ve)=>new CustomEvent(ne,ve)},Oe=ne=>{Object.assign(Me,ne)},ke=ne=>Promise.resolve(ne),Ae=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(ne){}return!1})(),Le=(ne,ve,ot,mt)=>{ot&&ot.map(([Ie,Fe,yt])=>{const Lt=Et(ne,Ie),Pt=ht(ve,yt),Ot=We(Ie);Me.ael(Lt,Fe,Pt,Ot),(ve.$rmListeners$=ve.$rmListeners$||[]).push(()=>Me.rel(Lt,Fe,Pt,Ot))})},ht=(ne,ve)=>ot=>{try{256&ne.$flags$?ne.$lazyInstance$[ve](ot):(ne.$queuedListeners$=ne.$queuedListeners$||[]).push([ve,ot])}catch(mt){ri(mt)}},Et=(ne,ve)=>4&ve?Te:8&ve?de:16&ve?Te.body:ne,We=ne=>0!=(2&ne),se="s-id",Qe="sty-id",Ke="http://www.w3.org/1999/xlink",un=new WeakMap,Xt=(ne,ve,ot)=>{let mt=Er.get(ne);Ae&&ot?(mt=mt||new CSSStyleSheet,mt.replace(ve)):mt=ve,Er.set(ne,mt)},Ct=(ne,ve,ot,mt)=>{let Ie=ee(ve,ot),Fe=Er.get(Ie);if(ne=11===ne.nodeType?ne:Te,Fe)if("string"==typeof Fe){let Lt,yt=un.get(ne=ne.head||ne);yt||un.set(ne,yt=new Set),yt.has(Ie)||(ne.host&&(Lt=ne.querySelector(`[${Qe}="${Ie}"]`))?Lt.innerHTML=Fe:(Lt=Te.createElement("style"),Lt.innerHTML=Fe,ne.insertBefore(Lt,ne.querySelector("link"))),yt&&yt.add(Ie))}else ne.adoptedStyleSheets.includes(Fe)||(ne.adoptedStyleSheets=[...ne.adoptedStyleSheets,Fe]);return Ie},ee=(ne,ve)=>"sc-"+(ve&&32&ne.$flags$?ne.$tagName$+"-"+ve:ne.$tagName$),X=ne=>ne.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),we=ne=>Or.push(ne),_e=ne=>oe(ne).$modeName$,je={},Kt=ne=>"object"==(ne=typeof ne)||"function"===ne,Gt=(ne,ve,...ot)=>{let mt=null,Ie=null,Fe=null,yt=!1,Lt=!1,Pt=[];const Ot=Vn=>{for(let Jn=0;Jn<Vn.length;Jn++)mt=Vn[Jn],Array.isArray(mt)?Ot(mt):null!=mt&&"boolean"!=typeof mt&&((yt="function"!=typeof ne&&!Kt(mt))&&(mt=String(mt)),yt&&Lt?Pt[Pt.length-1].$text$+=mt:Pt.push(yt?Jt(null,mt):mt),Lt=yt)};if(Ot(ot),ve){ve.key&&(Ie=ve.key),ve.name&&(Fe=ve.name);{const Vn=ve.className||ve.class;Vn&&(ve.class="object"!=typeof Vn?Vn:Object.keys(Vn).filter(Jn=>Vn[Jn]).join(" "))}}if("function"==typeof ne)return ne(null===ve?{}:ve,Pt,hn);const mn=Jt(ne,null);return mn.$attrs$=ve,Pt.length>0&&(mn.$children$=Pt),mn.$key$=Ie,mn.$name$=Fe,mn},Jt=(ne,ve)=>({$flags$:0,$tag$:ne,$text$:ve,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),In={},hn={forEach:(ne,ve)=>ne.map(Pn).forEach(ve),map:(ne,ve)=>ne.map(Pn).map(ve).map(vn)},Pn=ne=>({vattrs:ne.$attrs$,vchildren:ne.$children$,vkey:ne.$key$,vname:ne.$name$,vtag:ne.$tag$,vtext:ne.$text$}),vn=ne=>{if("function"==typeof ne.vtag){const ot=Object.assign({},ne.vattrs);return ne.vkey&&(ot.key=ne.vkey),ne.vname&&(ot.name=ne.vname),Gt(ne.vtag,ot,...ne.vchildren||[])}const ve=Jt(ne.vtag,ne.vtext);return ve.$attrs$=ne.vattrs,ve.$children$=ne.vchildren,ve.$key$=ne.vkey,ve.$name$=ne.vname,ve},gr=(ne,ve,ot,mt,Ie,Fe)=>{if(ot!==mt){let yt=Zr(ne,ve),Lt=ve.toLowerCase();if("class"===ve){const Pt=ne.classList,Ot=Zn(ot),mn=Zn(mt);Pt.remove(...Ot.filter(Vn=>Vn&&!mn.includes(Vn))),Pt.add(...mn.filter(Vn=>Vn&&!Ot.includes(Vn)))}else if("style"===ve){for(const Pt in ot)(!mt||null==mt[Pt])&&(Pt.includes("-")?ne.style.removeProperty(Pt):ne.style[Pt]="");for(const Pt in mt)(!ot||mt[Pt]!==ot[Pt])&&(Pt.includes("-")?ne.style.setProperty(Pt,mt[Pt]):ne.style[Pt]=mt[Pt])}else if("key"!==ve)if("ref"===ve)mt&&mt(ne);else if(yt||"o"!==ve[0]||"n"!==ve[1]){const Pt=Kt(mt);if((yt||Pt&&null!==mt)&&!Ie)try{if(ne.tagName.includes("-"))ne[ve]=mt;else{let mn=null==mt?"":mt;"list"===ve?yt=!1:(null==ot||ne[ve]!=mn)&&(ne[ve]=mn)}}catch(mn){}let Ot=!1;Lt!==(Lt=Lt.replace(/^xlink\:?/,""))&&(ve=Lt,Ot=!0),null==mt||!1===mt?(!1!==mt||""===ne.getAttribute(ve))&&(Ot?ne.removeAttributeNS(Ke,ve):ne.removeAttribute(ve)):(!yt||4&Fe||Ie)&&!Pt&&(mt=!0===mt?"":mt,Ot?ne.setAttributeNS(Ke,ve,mt):ne.setAttribute(ve,mt))}else ve="-"===ve[2]?ve.slice(3):Zr(de,Lt)?Lt.slice(2):Lt[2]+ve.slice(3),ot&&Me.rel(ne,ve,ot,!1),mt&&Me.ael(ne,ve,mt,!1)}},ln=/\s/,Zn=ne=>ne?ne.split(ln):[],Ir=(ne,ve,ot,mt)=>{const Ie=11===ve.$elm$.nodeType&&ve.$elm$.host?ve.$elm$.host:ve.$elm$,Fe=ne&&ne.$attrs$||je,yt=ve.$attrs$||je;for(mt in Fe)mt in yt||gr(Ie,mt,Fe[mt],void 0,ot,ve.$flags$);for(mt in yt)gr(Ie,mt,Fe[mt],yt[mt],ot,ve.$flags$)},ni=(ne,ve,ot,mt)=>{let yt,Lt,Pt,Ie=ve.$children$[ot],Fe=0;if(De||(ge=!0,"slot"===Ie.$tag$&&(Y&&mt.classList.add(Y+"-s"),Ie.$flags$|=Ie.$children$?2:1)),null!==Ie.$text$)yt=Ie.$elm$=Te.createTextNode(Ie.$text$);else if(1&Ie.$flags$)yt=Ie.$elm$=Te.createTextNode("");else{if(Be||(Be="svg"===Ie.$tag$),yt=Ie.$elm$=Te.createElementNS(Be?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ie.$flags$?"slot-fb":Ie.$tag$),Be&&"foreignObject"===Ie.$tag$&&(Be=!1),Ir(null,Ie,Be),(ne=>null!=ne)(Y)&&yt["s-si"]!==Y&&yt.classList.add(yt["s-si"]=Y),Ie.$children$)for(Fe=0;Fe<Ie.$children$.length;++Fe)Lt=ni(ne,Ie,Fe,yt),Lt&&yt.appendChild(Lt);"svg"===Ie.$tag$?Be=!1:"foreignObject"===yt.tagName&&(Be=!0)}return yt["s-hn"]=be,3&Ie.$flags$&&(yt["s-sr"]=!0,yt["s-cr"]=Ne,yt["s-sn"]=Ie.$name$||"",Pt=ne&&ne.$children$&&ne.$children$[ot],Pt&&Pt.$tag$===Ie.$tag$&&ne.$elm$&&Ft(ne.$elm$,!1)),yt},Ft=(ne,ve)=>{Me.$flags$|=1;const ot=ne.childNodes;for(let mt=ot.length-1;mt>=0;mt--){const Ie=ot[mt];Ie["s-hn"]!==be&&Ie["s-ol"]&&(Dt(Ie).insertBefore(Ie,Wt(Ie)),Ie["s-ol"].remove(),Ie["s-ol"]=void 0,ge=!0),ve&&Ft(Ie,ve)}Me.$flags$&=-2},He=(ne,ve,ot,mt,Ie,Fe)=>{let Lt,yt=ne["s-cr"]&&ne["s-cr"].parentNode||ne;for(yt.shadowRoot&&yt.tagName===be&&(yt=yt.shadowRoot);Ie<=Fe;++Ie)mt[Ie]&&(Lt=ni(null,ot,Ie,ne),Lt&&(mt[Ie].$elm$=Lt,yt.insertBefore(Lt,Wt(ve))))},Je=(ne,ve,ot,mt,Ie)=>{for(;ve<=ot;++ve)(mt=ne[ve])&&(Ie=mt.$elm$,Br(mt),Ee=!0,Ie["s-ol"]?Ie["s-ol"].remove():Ft(Ie,!0),Ie.remove())},pt=(ne,ve)=>ne.$tag$===ve.$tag$&&("slot"===ne.$tag$?ne.$name$===ve.$name$:ne.$key$===ve.$key$),Wt=ne=>ne&&ne["s-ol"]||ne,Dt=ne=>(ne["s-ol"]?ne["s-ol"]:ne).parentNode,Wn=(ne,ve)=>{const ot=ve.$elm$=ne.$elm$,mt=ne.$children$,Ie=ve.$children$,Fe=ve.$tag$,yt=ve.$text$;let Lt;null===yt?(Be="svg"===Fe||"foreignObject"!==Fe&&Be,"slot"===Fe||Ir(ne,ve,Be),null!==mt&&null!==Ie?((ne,ve,ot,mt)=>{let hi,Ti,Ie=0,Fe=0,yt=0,Lt=0,Pt=ve.length-1,Ot=ve[0],mn=ve[Pt],Vn=mt.length-1,Jn=mt[0],ir=mt[Vn];for(;Ie<=Pt&&Fe<=Vn;)if(null==Ot)Ot=ve[++Ie];else if(null==mn)mn=ve[--Pt];else if(null==Jn)Jn=mt[++Fe];else if(null==ir)ir=mt[--Vn];else if(pt(Ot,Jn))Wn(Ot,Jn),Ot=ve[++Ie],Jn=mt[++Fe];else if(pt(mn,ir))Wn(mn,ir),mn=ve[--Pt],ir=mt[--Vn];else if(pt(Ot,ir))("slot"===Ot.$tag$||"slot"===ir.$tag$)&&Ft(Ot.$elm$.parentNode,!1),Wn(Ot,ir),ne.insertBefore(Ot.$elm$,mn.$elm$.nextSibling),Ot=ve[++Ie],ir=mt[--Vn];else if(pt(mn,Jn))("slot"===Ot.$tag$||"slot"===ir.$tag$)&&Ft(mn.$elm$.parentNode,!1),Wn(mn,Jn),ne.insertBefore(mn.$elm$,Ot.$elm$),mn=ve[--Pt],Jn=mt[++Fe];else{for(yt=-1,Lt=Ie;Lt<=Pt;++Lt)if(ve[Lt]&&null!==ve[Lt].$key$&&ve[Lt].$key$===Jn.$key$){yt=Lt;break}yt>=0?(Ti=ve[yt],Ti.$tag$!==Jn.$tag$?hi=ni(ve&&ve[Fe],ot,yt,ne):(Wn(Ti,Jn),ve[yt]=void 0,hi=Ti.$elm$),Jn=mt[++Fe]):(hi=ni(ve&&ve[Fe],ot,Fe,ne),Jn=mt[++Fe]),hi&&Dt(Ot.$elm$).insertBefore(hi,Wt(Ot.$elm$))}Ie>Pt?He(ne,null==mt[Vn+1]?null:mt[Vn+1].$elm$,ot,mt,Fe,Vn):Fe>Vn&&Je(ve,Ie,Pt)})(ot,mt,ve,Ie):null!==Ie?(null!==ne.$text$&&(ot.textContent=""),He(ot,null,ve,Ie,0,Ie.length-1)):null!==mt&&Je(mt,0,mt.length-1),Be&&"svg"===Fe&&(Be=!1)):(Lt=ot["s-cr"])?Lt.parentNode.textContent=yt:ne.$text$!==yt&&(ot.data=yt)},jn=ne=>{let ot,mt,Ie,Fe,yt,Lt,ve=ne.childNodes;for(mt=0,Ie=ve.length;mt<Ie;mt++)if(ot=ve[mt],1===ot.nodeType){if(ot["s-sr"])for(yt=ot["s-sn"],ot.hidden=!1,Fe=0;Fe<Ie;Fe++)if(Lt=ve[Fe].nodeType,ve[Fe]["s-hn"]!==ot["s-hn"]||""!==yt){if(1===Lt&&yt===ve[Fe].getAttribute("slot")){ot.hidden=!0;break}}else if(1===Lt||3===Lt&&""!==ve[Fe].textContent.trim()){ot.hidden=!0;break}jn(ot)}},pn=[],Mr=ne=>{let ve,ot,mt,Ie,Fe,yt,Lt=0,Pt=ne.childNodes,Ot=Pt.length;for(;Lt<Ot;Lt++){if(ve=Pt[Lt],ve["s-sr"]&&(ot=ve["s-cr"])&&ot.parentNode)for(mt=ot.parentNode.childNodes,Ie=ve["s-sn"],yt=mt.length-1;yt>=0;yt--)ot=mt[yt],!ot["s-cn"]&&!ot["s-nr"]&&ot["s-hn"]!==ve["s-hn"]&&(jr(ot,Ie)?(Fe=pn.find(mn=>mn.$nodeToRelocate$===ot),Ee=!0,ot["s-sn"]=ot["s-sn"]||Ie,Fe?Fe.$slotRefNode$=ve:pn.push({$slotRefNode$:ve,$nodeToRelocate$:ot}),ot["s-sr"]&&pn.map(mn=>{jr(mn.$nodeToRelocate$,ot["s-sn"])&&(Fe=pn.find(Vn=>Vn.$nodeToRelocate$===ot),Fe&&!mn.$slotRefNode$&&(mn.$slotRefNode$=Fe.$slotRefNode$))})):pn.some(mn=>mn.$nodeToRelocate$===ot)||pn.push({$nodeToRelocate$:ot}));1===ve.nodeType&&Mr(ve)}},jr=(ne,ve)=>1===ne.nodeType?null===ne.getAttribute("slot")&&""===ve||ne.getAttribute("slot")===ve:ne["s-sn"]===ve||""===ve,Br=ne=>{ne.$attrs$&&ne.$attrs$.ref&&ne.$attrs$.ref(null),ne.$children$&&ne.$children$.map(Br)},Ge=ne=>oe(ne).$hostElement$,it=(ne,ve,ot)=>{const mt=Ge(ne);return{emit:Ie=>$t(mt,ve,{bubbles:!!(4&ot),composed:!!(2&ot),cancelable:!!(1&ot),detail:Ie})}},$t=(ne,ve,ot)=>{const mt=Me.ce(ve,ot);return ne.dispatchEvent(mt),mt},ze=(ne,ve)=>{ve&&!ne.$onRenderResolve$&&ve["s-p"]&&ve["s-p"].push(new Promise(ot=>ne.$onRenderResolve$=ot))},_t=(ne,ve)=>{if(ne.$flags$|=16,!(4&ne.$flags$))return ze(ne,ne.$ancestorComponent$),Di(()=>Zt(ne,ve));ne.$flags$|=512},Zt=(ne,ve)=>{const mt=ne.$lazyInstance$;let Ie;return ve&&(ne.$flags$|=256,ne.$queuedListeners$&&(ne.$queuedListeners$.map(([Fe,yt])=>Bn(mt,Fe,yt)),ne.$queuedListeners$=null),Ie=Bn(mt,"componentWillLoad")),Ie=Hr(Ie,()=>Bn(mt,"componentWillRender")),Hr(Ie,()=>fn(ne,mt,ve))},fn=function(){var ne=(0,c.Z)(function*(ve,ot,mt){const Ie=ve.$hostElement$,yt=Ie["s-rc"];mt&&(ne=>{const ve=ne.$cmpMeta$,ot=ne.$hostElement$,mt=ve.$flags$,Fe=Ct(ot.shadowRoot?ot.shadowRoot:ot.getRootNode(),ve,ne.$modeName$);10&mt&&(ot["s-sc"]=Fe,ot.classList.add(Fe+"-h"),2&mt&&ot.classList.add(Fe+"-s"))})(ve);Cn(ve,ot),yt&&(yt.map(Pt=>Pt()),Ie["s-rc"]=void 0);{const Pt=Ie["s-p"],Ot=()=>nn(ve);0===Pt.length?Ot():(Promise.all(Pt).then(Ot),ve.$flags$|=4,Pt.length=0)}});return function(ot,mt,Ie){return ne.apply(this,arguments)}}(),Cn=(ne,ve,ot)=>{try{ve=ve.render&&ve.render(),ne.$flags$&=-17,ne.$flags$|=2,((ne,ve)=>{const ot=ne.$hostElement$,mt=ne.$cmpMeta$,Ie=ne.$vnode$||Jt(null,null),Fe=(ne=>ne&&ne.$tag$===In)(ve)?ve:Gt(null,null,ve);if(be=ot.tagName,mt.$attrsToReflect$&&(Fe.$attrs$=Fe.$attrs$||{},mt.$attrsToReflect$.map(([yt,Lt])=>Fe.$attrs$[Lt]=ot[yt])),Fe.$tag$=null,Fe.$flags$|=4,ne.$vnode$=Fe,Fe.$elm$=Ie.$elm$=ot.shadowRoot||ot,Y=ot["s-sc"],Ne=ot["s-cr"],De=0!=(1&mt.$flags$),Ee=!1,Wn(Ie,Fe),Me.$flags$|=1,ge){Mr(Fe.$elm$);let yt,Lt,Pt,Ot,mn,Vn,Jn=0;for(;Jn<pn.length;Jn++)yt=pn[Jn],Lt=yt.$nodeToRelocate$,Lt["s-ol"]||(Pt=Te.createTextNode(""),Pt["s-nr"]=Lt,Lt.parentNode.insertBefore(Lt["s-ol"]=Pt,Lt));for(Jn=0;Jn<pn.length;Jn++)if(yt=pn[Jn],Lt=yt.$nodeToRelocate$,yt.$slotRefNode$){for(Ot=yt.$slotRefNode$.parentNode,mn=yt.$slotRefNode$.nextSibling,Pt=Lt["s-ol"];Pt=Pt.previousSibling;)if(Vn=Pt["s-nr"],Vn&&Vn["s-sn"]===Lt["s-sn"]&&Ot===Vn.parentNode&&(Vn=Vn.nextSibling,!Vn||!Vn["s-nr"])){mn=Vn;break}(!mn&&Ot!==Lt.parentNode||Lt.nextSibling!==mn)&&Lt!==mn&&(!Lt["s-hn"]&&Lt["s-ol"]&&(Lt["s-hn"]=Lt["s-ol"].parentNode.nodeName),Ot.insertBefore(Lt,mn))}else 1===Lt.nodeType&&(Lt.hidden=!0)}Ee&&jn(Fe.$elm$),Me.$flags$&=-2,pn.length=0})(ne,ve)}catch(mt){ri(mt,ne.$hostElement$)}return null},nn=ne=>{const ot=ne.$hostElement$,Ie=ne.$lazyInstance$,Fe=ne.$ancestorComponent$;Bn(Ie,"componentDidRender"),64&ne.$flags$?Bn(Ie,"componentDidUpdate"):(ne.$flags$|=64,Hi(ot),Bn(Ie,"componentDidLoad"),ne.$onReadyResolve$(ot),Fe||gn()),ne.$onInstanceResolve$(ot),ne.$onRenderResolve$&&(ne.$onRenderResolve$(),ne.$onRenderResolve$=void 0),512&ne.$flags$&&Ci(()=>_t(ne,!1)),ne.$flags$&=-517},dr=ne=>{{const ve=oe(ne),ot=ve.$hostElement$.isConnected;return ot&&2==(18&ve.$flags$)&&_t(ve,!1),ot}},gn=ne=>{Hi(Te.documentElement),Ci(()=>$t(de,"appload",{detail:{namespace:"ionic"}}))},Bn=(ne,ve,ot)=>{if(ne&&ne[ve])try{return ne[ve](ot)}catch(mt){ri(mt)}},Hr=(ne,ve)=>ne&&ne.then?ne.then(ve):ve(),Hi=ne=>ne.classList.add("hydrated"),Gi=(ne,ve,ot,mt,Ie,Fe,yt)=>{let Lt,Pt,Ot,mn;if(1===Fe.nodeType){for(Lt=Fe.getAttribute("c-id"),Lt&&(Pt=Lt.split("."),(Pt[0]===yt||"0"===Pt[0])&&(Ot={$flags$:0,$hostId$:Pt[0],$nodeId$:Pt[1],$depth$:Pt[2],$index$:Pt[3],$tag$:Fe.tagName.toLowerCase(),$elm$:Fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ve.push(Ot),Fe.removeAttribute("c-id"),ne.$children$||(ne.$children$=[]),ne.$children$[Ot.$index$]=Ot,ne=Ot,mt&&"0"===Ot.$depth$&&(mt[Ot.$index$]=Ot.$elm$))),mn=Fe.childNodes.length-1;mn>=0;mn--)Gi(ne,ve,ot,mt,Ie,Fe.childNodes[mn],yt);if(Fe.shadowRoot)for(mn=Fe.shadowRoot.childNodes.length-1;mn>=0;mn--)Gi(ne,ve,ot,mt,Ie,Fe.shadowRoot.childNodes[mn],yt)}else if(8===Fe.nodeType)Pt=Fe.nodeValue.split("."),(Pt[1]===yt||"0"===Pt[1])&&(Lt=Pt[0],Ot={$flags$:0,$hostId$:Pt[1],$nodeId$:Pt[2],$depth$:Pt[3],$index$:Pt[4],$elm$:Fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Lt?(Ot.$elm$=Fe.nextSibling,Ot.$elm$&&3===Ot.$elm$.nodeType&&(Ot.$text$=Ot.$elm$.textContent,ve.push(Ot),Fe.remove(),ne.$children$||(ne.$children$=[]),ne.$children$[Ot.$index$]=Ot,mt&&"0"===Ot.$depth$&&(mt[Ot.$index$]=Ot.$elm$))):Ot.$hostId$===yt&&("s"===Lt?(Ot.$tag$="slot",Fe["s-sn"]=Pt[5]?Ot.$name$=Pt[5]:"",Fe["s-sr"]=!0,mt&&(Ot.$elm$=Te.createElement(Ot.$tag$),Ot.$name$&&Ot.$elm$.setAttribute("name",Ot.$name$),Fe.parentNode.insertBefore(Ot.$elm$,Fe),Fe.remove(),"0"===Ot.$depth$&&(mt[Ot.$index$]=Ot.$elm$)),ot.push(Ot),ne.$children$||(ne.$children$=[]),ne.$children$[Ot.$index$]=Ot):"r"===Lt&&(mt?Fe.remove():(Ie["s-cr"]=Fe,Fe["s-cn"]=!0))));else if(ne&&"style"===ne.$tag$){const Vn=Jt(null,Fe.textContent);Vn.$elm$=Fe,Vn.$index$="0",ne.$children$=[Vn]}},Pi=(ne,ve)=>{if(1===ne.nodeType){let ot=0;for(;ot<ne.childNodes.length;ot++)Pi(ne.childNodes[ot],ve);if(ne.shadowRoot)for(ot=0;ot<ne.shadowRoot.childNodes.length;ot++)Pi(ne.shadowRoot.childNodes[ot],ve)}else if(8===ne.nodeType){const ot=ne.nodeValue.split(".");"o"===ot[0]&&(ve.set(ot[1]+"."+ot[2],ne),ne.nodeValue="",ne["s-en"]=ot[3])}},Gr=(ne,ve,ot)=>{if(ve.$members$){ne.watchers&&(ve.$watchers$=ne.watchers);const mt=Object.entries(ve.$members$),Ie=ne.prototype;if(mt.map(([Fe,[yt]])=>{31&yt||2&ot&&32&yt?Object.defineProperty(Ie,Fe,{get(){return((ne,ve)=>oe(this).$instanceValues$.get(ve))(0,Fe)},set(Lt){((ne,ve,ot,mt)=>{const Ie=oe(ne),Fe=Ie.$hostElement$,yt=Ie.$instanceValues$.get(ve),Lt=Ie.$flags$,Pt=Ie.$lazyInstance$;ot=((ne,ve)=>null==ne||Kt(ne)?ne:4&ve?"false"!==ne&&(""===ne||!!ne):2&ve?parseFloat(ne):1&ve?String(ne):ne)(ot,mt.$members$[ve][0]);const Ot=Number.isNaN(yt)&&Number.isNaN(ot);if((!(8&Lt)||void 0===yt)&&ot!==yt&&!Ot&&(Ie.$instanceValues$.set(ve,ot),Pt)){if(mt.$watchers$&&128&Lt){const Vn=mt.$watchers$[ve];Vn&&Vn.map(Jn=>{try{Pt[Jn](ot,yt,ve)}catch(ir){ri(ir,Fe)}})}2==(18&Lt)&&_t(Ie,!1)}})(this,Fe,Lt,ve)},configurable:!0,enumerable:!0}):1&ot&&64&yt&&Object.defineProperty(Ie,Fe,{value(...Lt){const Pt=oe(this);return Pt.$onInstancePromise$.then(()=>Pt.$lazyInstance$[Fe](...Lt))}})}),1&ot){const Fe=new Map;Ie.attributeChangedCallback=function(yt,Lt,Pt){Me.jmp(()=>{const Ot=Fe.get(yt);if(this.hasOwnProperty(Ot))Pt=this[Ot],delete this[Ot];else if(Ie.hasOwnProperty(Ot)&&"number"==typeof this[Ot]&&this[Ot]==Pt)return;this[Ot]=(null!==Pt||"boolean"!=typeof this[Ot])&&Pt})},ne.observedAttributes=mt.filter(([yt,Lt])=>15&Lt[0]).map(([yt,Lt])=>{const Pt=Lt[1]||yt;return Fe.set(Pt,yt),512&Lt[0]&&ve.$attrsToReflect$.push([yt,Pt]),Pt})}}return ne},ci=function(){var ne=(0,c.Z)(function*(ve,ot,mt,Ie,Fe){if(0==(32&ot.$flags$)){{if(ot.$flags$|=32,(Fe=hr(mt)).then){const Ot=()=>{};Fe=yield Fe,Ot()}Fe.isProxied||(mt.$watchers$=Fe.watchers,Gr(Fe,mt,2),Fe.isProxied=!0);const Pt=()=>{};ot.$flags$|=8;try{new Fe(ot)}catch(Ot){ri(Ot)}ot.$flags$&=-9,ot.$flags$|=128,Pt(),Xi(ot.$lazyInstance$)}if(Fe.style){let Pt=Fe.style;"string"!=typeof Pt&&(Pt=Pt[ot.$modeName$=(ne=>Or.map(ve=>ve(ne)).find(ve=>!!ve))(ve)]);const Ot=ee(mt,ot.$modeName$);if(!Er.has(Ot)){const mn=()=>{};Xt(Ot,Pt,!!(1&mt.$flags$)),mn()}}}const yt=ot.$ancestorComponent$,Lt=()=>_t(ot,!0);yt&&yt["s-rc"]?yt["s-rc"].push(Lt):Lt()});return function(ot,mt,Ie,Fe,yt){return ne.apply(this,arguments)}}(),Xi=ne=>{Bn(ne,"connectedCallback")},Ni=ne=>{const ve=ne["s-cr"]=Te.createComment("");ve["s-cn"]=!0,ne.insertBefore(ve,ne.firstChild)},Qr=(ne,ve={})=>{const mt=[],Ie=ve.exclude||[],Fe=de.customElements,yt=Te.head,Lt=yt.querySelector("meta[charset]"),Pt=Te.createElement("style"),Ot=[],mn=Te.querySelectorAll(`[${Qe}]`);let Vn,Jn=!0,ir=0;for(Object.assign(Me,ve),Me.$resourcesUrl$=new URL(ve.resourcesUrl||"./",Te.baseURI).href,Me.$flags$|=2;ir<mn.length;ir++)Xt(mn[ir].getAttribute(Qe),X(mn[ir].innerHTML),!0);ne.map(hi=>{hi[1].map(Ti=>{const at={$flags$:Ti[0],$tagName$:Ti[1],$members$:Ti[2],$listeners$:Ti[3]};at.$members$=Ti[2],at.$listeners$=Ti[3],at.$attrsToReflect$=[],at.$watchers$={};const et=at.$tagName$,At=class extends HTMLElement{constructor(zt){super(zt),rr(zt=this,at),1&at.$flags$&&zt.attachShadow({mode:"open",delegatesFocus:!!(16&at.$flags$)})}connectedCallback(){Vn&&(clearTimeout(Vn),Vn=null),Jn?Ot.push(this):Me.jmp(()=>(ne=>{if(0==(1&Me.$flags$)){const ve=oe(ne),ot=ve.$cmpMeta$,mt=()=>{};if(1&ve.$flags$)Le(ne,ve,ot.$listeners$),Xi(ve.$lazyInstance$);else{let Ie;if(ve.$flags$|=1,Ie=ne.getAttribute(se),Ie){if(1&ot.$flags$){const Fe=Ct(ne.shadowRoot,ot,ne.getAttribute("s-mode"));ne.classList.remove(Fe+"-h",Fe+"-s")}((ne,ve,ot,mt)=>{const Fe=ne.shadowRoot,yt=[],Pt=Fe?[]:null,Ot=mt.$vnode$=Jt(ve,null);Me.$orgLocNodes$||Pi(Te.body,Me.$orgLocNodes$=new Map),ne[se]=ot,ne.removeAttribute(se),Gi(Ot,yt,[],Pt,ne,ne,ot),yt.map(mn=>{const Vn=mn.$hostId$+"."+mn.$nodeId$,Jn=Me.$orgLocNodes$.get(Vn),ir=mn.$elm$;Jn&&""===Jn["s-en"]&&Jn.parentNode.insertBefore(ir,Jn.nextSibling),Fe||(ir["s-hn"]=ve,Jn&&(ir["s-ol"]=Jn,ir["s-ol"]["s-nr"]=ir)),Me.$orgLocNodes$.delete(Vn)}),Fe&&Pt.map(mn=>{mn&&Fe.appendChild(mn)})})(ne,ot.$tagName$,Ie,ve)}Ie||12&ot.$flags$&&Ni(ne);{let Fe=ne;for(;Fe=Fe.parentNode||Fe.host;)if(1===Fe.nodeType&&Fe.hasAttribute("s-id")&&Fe["s-p"]||Fe["s-p"]){ze(ve,ve.$ancestorComponent$=Fe);break}}ot.$members$&&Object.entries(ot.$members$).map(([Fe,[yt]])=>{if(31&yt&&ne.hasOwnProperty(Fe)){const Lt=ne[Fe];delete ne[Fe],ne[Fe]=Lt}}),Ci(()=>ci(ne,ve,ot))}mt()}})(this))}disconnectedCallback(){Me.jmp(()=>(ne=>{if(0==(1&Me.$flags$)){const ve=oe(this),ot=ve.$lazyInstance$;ve.$rmListeners$&&(ve.$rmListeners$.map(mt=>mt()),ve.$rmListeners$=void 0),Bn(ot,"disconnectedCallback")}})())}componentOnReady(){return oe(this).$onReadyPromise$}};at.$lazyBundleId$=hi[0],!Ie.includes(et)&&!Fe.get(et)&&(mt.push(et),Fe.define(et,Gr(At,at,1)))})}),Pt.innerHTML=mt+"{visibility:hidden}.hydrated{visibility:inherit}",Pt.setAttribute("data-styles",""),yt.insertBefore(Pt,Lt?Lt.nextSibling:yt.firstChild),Jn=!1,Ot.length?Ot.map(hi=>hi.connectedCallback()):Me.jmp(()=>Vn=setTimeout(gn,30))},ai=ne=>{const ve=new URL(ne,Me.$resourcesUrl$);return ve.origin!==de.location.origin?ve.href:ve.pathname},Tr=new WeakMap,oe=ne=>Tr.get(ne),Dn=(ne,ve)=>Tr.set(ve.$lazyInstance$=ne,ve),rr=(ne,ve)=>{const ot={$flags$:0,$hostElement$:ne,$cmpMeta$:ve,$instanceValues$:new Map};return ot.$onInstancePromise$=new Promise(mt=>ot.$onInstanceResolve$=mt),ot.$onReadyPromise$=new Promise(mt=>ot.$onReadyResolve$=mt),ne["s-p"]=[],ne["s-rc"]=[],Le(ne,ot,ve.$listeners$),Tr.set(ne,ot)},Zr=(ne,ve)=>ve in ne,ri=(ne,ve)=>(0,console.error)(ne,ve),lr=new Map,hr=(ne,ve,ot)=>{const mt=ne.$tagName$.replace(/-/g,"_"),Ie=ne.$lazyBundleId$,Fe=lr.get(Ie);return Fe?Fe[mt]:M(863)(`./${Ie}.entry.js`).then(yt=>(lr.set(Ie,yt),yt[mt]),ri)},Er=new Map,Or=[],Cr=[],qn=[],di=(ne,ve)=>ot=>{ne.push(ot),te||(te=!0,ve&&4&Me.$flags$?Ci(bi):Me.raf(bi))},ki=ne=>{for(let ve=0;ve<ne.length;ve++)try{ne[ve](performance.now())}catch(ot){ri(ot)}ne.length=0},bi=()=>{ki(Cr),ki(qn),(te=Cr.length>0)&&Me.raf(bi)},Ci=ne=>ke().then(ne),Xr=di(Cr,!1),Di=di(qn,!0),Fr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(en,ut,M)=>{"use strict";M.d(ut,{m:()=>de});var c=M(5861),G=M(7593),Y=M(3756),Ne=M(6254),be=M(9442);const De=Te=>(0,be.c)().duration(Te?400:300),Ee=Te=>{let Me,Oe;const qe=Te.width+8,ke=(0,be.c)(),Ae=(0,be.c)();Te.isEndSide?(Me=qe+"px",Oe="0px"):(Me=-qe+"px",Oe="0px"),ke.addElement(Te.menuInnerEl).fromTo("transform",`translateX(${Me})`,`translateX(${Oe})`);const ht="ios"===(0,Ne.b)(Te),Et=ht?.2:.25;return Ae.addElement(Te.backdropEl).fromTo("opacity",.01,Et),De(ht).addAnimation([ke,Ae])},ge=Te=>{let Me,Oe;const qe=(0,Ne.b)(Te),ke=Te.width;Te.isEndSide?(Me=-ke+"px",Oe=ke+"px"):(Me=ke+"px",Oe=-ke+"px");const Ae=(0,be.c)().addElement(Te.menuInnerEl).fromTo("transform",`translateX(${Oe})`,"translateX(0px)"),Le=(0,be.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`),ht=(0,be.c)().addElement(Te.backdropEl).fromTo("opacity",.01,.32);return De("ios"===qe).addAnimation([Ae,Le,ht])},Be=Te=>{const Me=(0,Ne.b)(Te),Oe=Te.width*(Te.isEndSide?-1:1)+"px",qe=(0,be.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Oe})`);return De("ios"===Me).addAnimation(qe)},de=(()=>{const Te=new Map,Me=[],Oe=function(){var Ye=(0,c.Z)(function*(ee){const X=yield We(ee);return!!X&&X.open()});return function(X){return Ye.apply(this,arguments)}}(),qe=function(){var Ye=(0,c.Z)(function*(ee){const X=yield void 0!==ee?We(ee):Ze();return void 0!==X&&X.close()});return function(X){return Ye.apply(this,arguments)}}(),ke=function(){var Ye=(0,c.Z)(function*(ee){const X=yield We(ee);return!!X&&X.toggle()});return function(X){return Ye.apply(this,arguments)}}(),Ae=function(){var Ye=(0,c.Z)(function*(ee,X){const ce=yield We(X);return ce&&(ce.disabled=!ee),ce});return function(X,ce){return Ye.apply(this,arguments)}}(),Le=function(){var Ye=(0,c.Z)(function*(ee,X){const ce=yield We(X);return ce&&(ce.swipeGesture=ee),ce});return function(X,ce){return Ye.apply(this,arguments)}}(),ht=function(){var Ye=(0,c.Z)(function*(ee){if(null!=ee){const X=yield We(ee);return void 0!==X&&X.isOpen()}return void 0!==(yield Ze())});return function(X){return Ye.apply(this,arguments)}}(),Et=function(){var Ye=(0,c.Z)(function*(ee){const X=yield We(ee);return!!X&&!X.disabled});return function(X){return Ye.apply(this,arguments)}}(),We=function(){var Ye=(0,c.Z)(function*(ee){return yield Ct(),"start"===ee||"end"===ee?Xt(we=>we.side===ee&&!we.disabled)||Xt(we=>we.side===ee):null!=ee?Xt(ce=>ce.menuId===ee):Xt(ce=>!ce.disabled)||(Me.length>0?Me[0].el:void 0)});return function(X){return Ye.apply(this,arguments)}}(),Ze=function(){var Ye=(0,c.Z)(function*(){return yield Ct(),ft()});return function(){return Ye.apply(this,arguments)}}(),st=function(){var Ye=(0,c.Z)(function*(){return yield Ct(),vt()});return function(){return Ye.apply(this,arguments)}}(),Ue=function(){var Ye=(0,c.Z)(function*(){return yield Ct(),un()});return function(){return Ye.apply(this,arguments)}}(),Xe=(Ye,ee)=>{Te.set(Ye,ee)},dt=Ye=>{const ee=Ye.side;Me.filter(X=>X.side===ee&&X!==Ye).forEach(X=>X.disabled=!0)},rt=function(){var Ye=(0,c.Z)(function*(ee,X,ce){if(un())return!1;if(X){const we=yield Ze();we&&ee.el!==we&&(yield we.setOpen(!1,!1))}return ee._setOpen(X,ce)});return function(X,ce,we){return Ye.apply(this,arguments)}}(),ft=()=>Xt(Ye=>Ye._isOpen),vt=()=>Me.map(Ye=>Ye.el),un=()=>Me.some(Ye=>Ye.isAnimating),Xt=Ye=>{const ee=Me.find(Ye);if(void 0!==ee)return ee.el},Ct=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ye=>new Promise(ee=>(0,Y.c)(Ye,ee))));return Xe("reveal",Be),Xe("push",ge),Xe("overlay",Ee),"undefined"!=typeof document&&document.addEventListener("ionBackButton",Ye=>{const ee=ft();ee&&Ye.detail.register(G.MENU_BACK_BUTTON_PRIORITY,()=>ee.close())}),{registerAnimation:Xe,get:We,getMenus:st,getOpen:Ze,isEnabled:Et,swipeGesture:Le,isAnimating:Ue,isOpen:ht,enable:Ae,toggle:ke,close:qe,open:Oe,_getOpenSync:ft,_createAnimation:(Ye,ee)=>{const X=Te.get(Ye);if(!X)throw new Error("animation not registered");return X(ee)},_register:Ye=>{Me.indexOf(Ye)<0&&(Ye.disabled||dt(Ye),Me.push(Ye))},_unregister:Ye=>{const ee=Me.indexOf(Ye);ee>-1&&Me.splice(ee,1)},_setOpen:rt,_setActiveMenu:dt}})()},6254:(en,ut,M)=>{"use strict";M.d(ut,{a:()=>de,b:()=>un,c:()=>Y,g:()=>te,i:()=>Xt});var c=M(2361);class G{constructor(){this.m=new Map}reset(Ye){this.m=new Map(Object.entries(Ye))}get(Ye,ee){const X=this.m.get(Ye);return void 0!==X?X:ee}getBoolean(Ye,ee=!1){const X=this.m.get(Ye);return void 0===X?ee:"string"==typeof X?"true"===X:!!X}getNumber(Ye,ee){const X=parseFloat(this.m.get(Ye));return isNaN(X)?void 0!==ee?ee:NaN:X}set(Ye,ee){this.m.set(Ye,ee)}}const Y=new G,Be="ionic-persist-config",te=Ct=>Te(Ct),de=(Ct,Ye)=>("string"==typeof Ct&&(Ye=Ct,Ct=void 0),te(Ct).includes(Ye)),Te=(Ct=window)=>{if(void 0===Ct)return[];Ct.Ionic=Ct.Ionic||{};let Ye=Ct.Ionic.platforms;return null==Ye&&(Ye=Ct.Ionic.platforms=Me(Ct),Ye.forEach(ee=>Ct.document.documentElement.classList.add(`plt-${ee}`))),Ye},Me=Ct=>{const Ye=Y.get("platform");return Object.keys(ft).filter(ee=>{const X=null==Ye?void 0:Ye[ee];return"function"==typeof X?X(Ct):ft[ee](Ct)})},qe=Ct=>!!(rt(Ct,/iPad/i)||rt(Ct,/Macintosh/i)&&Ze(Ct)),Le=Ct=>rt(Ct,/android|sink/i),Ze=Ct=>Ke(Ct,"(any-pointer:coarse)"),Ue=Ct=>Xe(Ct)||se(Ct),Xe=Ct=>!!(Ct.cordova||Ct.phonegap||Ct.PhoneGap),se=Ct=>{const Ye=Ct.Capacitor;return!!(null==Ye?void 0:Ye.isNative)},rt=(Ct,Ye)=>Ye.test(Ct.navigator.userAgent),Ke=(Ct,Ye)=>{var ee;return null===(ee=Ct.matchMedia)||void 0===ee?void 0:ee.call(Ct,Ye).matches},ft={ipad:qe,iphone:Ct=>rt(Ct,/iPhone/i),ios:Ct=>rt(Ct,/iPhone|iPod/i)||qe(Ct),android:Le,phablet:Ct=>{const Ye=Ct.innerWidth,ee=Ct.innerHeight,X=Math.min(Ye,ee),ce=Math.max(Ye,ee);return X>390&&X<520&&ce>620&&ce<800},tablet:Ct=>{const Ye=Ct.innerWidth,ee=Ct.innerHeight,X=Math.min(Ye,ee),ce=Math.max(Ye,ee);return qe(Ct)||(Ct=>Le(Ct)&&!rt(Ct,/mobile/i))(Ct)||X>460&&X<820&&ce>780&&ce<1400},cordova:Xe,capacitor:se,electron:Ct=>rt(Ct,/electron/i),pwa:Ct=>{var Ye;return!(!(null===(Ye=Ct.matchMedia)||void 0===Ye?void 0:Ye.call(Ct,"(display-mode: standalone)").matches)&&!Ct.navigator.standalone)},mobile:Ze,mobileweb:Ct=>Ze(Ct)&&!Ue(Ct),desktop:Ct=>!Ze(Ct),hybrid:Ue};let vt;const un=Ct=>Ct&&(0,c.g)(Ct)||vt,Xt=(Ct={})=>{if("undefined"==typeof window)return;const Ye=window.document,ee=window,X=ee.Ionic=ee.Ionic||{},ce={};Ct._ael&&(ce.ael=Ct._ael),Ct._rel&&(ce.rel=Ct._rel),Ct._ce&&(ce.ce=Ct._ce),(0,c.s)(ce);const we=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ct=>{try{const Ye=Ct.sessionStorage.getItem(Be);return null!==Ye?JSON.parse(Ye):{}}catch(Ye){return{}}})(ee)),{persistConfig:!1}),X.config),(Ct=>{const Ye={};return Ct.location.search.slice(1).split("&").map(ee=>ee.split("=")).map(([ee,X])=>[decodeURIComponent(ee),decodeURIComponent(X)]).filter(([ee])=>((Ct,Ye)=>Ct.substr(0,Ye.length)===Ye)(ee,"ionic:")).map(([ee,X])=>[ee.slice("ionic:".length),X]).forEach(([ee,X])=>{Ye[ee]=X}),Ye})(ee)),Ct);Y.reset(we),Y.getBoolean("persistConfig")&&((Ct,Ye)=>{try{Ct.sessionStorage.setItem(Be,JSON.stringify(Ye))}catch(ee){return}})(ee,we),Te(ee),X.config=Y,X.mode=vt=Y.get("mode",Ye.documentElement.getAttribute("mode")||(de(ee,"ios")?"ios":"md")),Y.set("mode",vt),Ye.documentElement.setAttribute("mode",vt),Ye.documentElement.classList.add(vt),Y.getBoolean("_testing")&&Y.set("animated",!1);const _e=ye=>{var Ce;return null===(Ce=ye.tagName)||void 0===Ce?void 0:Ce.startsWith("ION-")},je=ye=>["ios","md"].includes(ye);(0,c.a)(ye=>{for(;ye;){const Ce=ye.mode||ye.getAttribute("mode");if(Ce){if(je(Ce))return Ce;_e(ye)&&console.warn('Invalid ionic mode: "'+Ce+'", expected: "ios" or "md"')}ye=ye.parentElement}return vt})}},1815:(en,ut,M)=>{"use strict";M.r(ut),M.d(ut,{iosTransitionAnimation:()=>Te,shadow:()=>De});var c=M(9442),G=M(4318);M(2361);const be=Me=>document.querySelector(`${Me}.ion-cloned-element`),De=Me=>Me.shadowRoot||Me,Ee=Me=>{const Oe="ION-TABS"===Me.tagName?Me:Me.querySelector("ion-tabs"),qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Oe){const ke=Oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ke?ke.querySelector(qe):null}return Me.querySelector(qe)},ge=(Me,Oe)=>{const qe="ION-TABS"===Me.tagName?Me:Me.querySelector("ion-tabs");let ke=[];if(null!=qe){const Ae=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ae&&(ke=Ae.querySelectorAll("ion-buttons"))}else ke=Me.querySelectorAll("ion-buttons");for(const Ae of ke){const Le=Ae.closest("ion-header"),ht=Le&&!Le.classList.contains("header-collapse-condense-inactive"),Et=Ae.querySelector("ion-back-button"),We=Ae.classList.contains("buttons-collapse"),Ze="start"===Ae.slot||""===Ae.slot;if(null!==Et&&Ze&&(We&&ht&&Oe||!We))return Et}return null},te=(Me,Oe,qe,ke,Ae,Le)=>{const ht=Oe?`calc(100% - ${Le.right+4}px)`:Le.left-4+"px",Et=Oe?"7px":"-7px",We=Oe?"-4px":"4px",Ze=Oe?"-4px":"4px",st=Oe?"right":"left",Ue=Oe?"left":"right",Qe=qe?[{offset:0,opacity:1,transform:`translate3d(${We}, ${Le.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Et}, ${Ae.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Et}, ${Ae.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${We}, ${Le.top-46}px, 0) scale(1)`}],Ke=qe?[{offset:0,opacity:1,transform:`translate3d(${Ze}, ${Le.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ze}, ${Le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${Le.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${Le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ze}, ${Le.top-46}px, 0) scale(1)`}],ft=(0,c.c)(),vt=(0,c.c)(),un=be("ion-back-button"),Xt=De(un).querySelector(".button-text"),Ct=De(un).querySelector("ion-icon");un.text=ke.text,un.mode=ke.mode,un.icon=ke.icon,un.color=ke.color,un.disabled=ke.disabled,un.style.setProperty("display","block"),un.style.setProperty("position","fixed"),vt.addElement(Ct),ft.addElement(Xt),ft.beforeStyles({"transform-origin":`${st} center`}).beforeAddWrite(()=>{ke.style.setProperty("display","none"),un.style.setProperty(st,ht)}).afterAddWrite(()=>{ke.style.setProperty("display",""),un.style.setProperty("display","none"),un.style.removeProperty(st)}).keyframes(Qe),vt.beforeStyles({"transform-origin":`${Ue} center`}).keyframes(Ke),Me.addAnimation([ft,vt])},de=(Me,Oe,qe,ke,Ae,Le)=>{const ht=Oe?`calc(100% - ${Ae.right}px)`:`${Ae.left}px`,Et=Oe?"-18px":"18px",We=Oe?"right":"left",Ue=qe?[{offset:0,opacity:0,transform:`translate3d(${Et}, ${Le.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Et}, ${Le.top-4}px, 0) scale(0.5)`}],Xe=be("ion-title"),se=(0,c.c)();Xe.innerText=ke.innerText,Xe.size=ke.size,Xe.color=ke.color,se.addElement(Xe),se.beforeStyles({"transform-origin":`${We} center`,height:"46px",display:"",position:"relative",[We]:ht}).beforeAddWrite(()=>{ke.style.setProperty("display","none")}).afterAddWrite(()=>{ke.style.setProperty("display",""),Xe.style.setProperty("display","none")}).keyframes(Ue),Me.addAnimation(se)},Te=(Me,Oe)=>{try{const qe="cubic-bezier(0.32,0.72,0,1)",ke="opacity",Ae="transform",Le="0%",Et="rtl"===Me.ownerDocument.dir,We=Et?"-99.5%":"99.5%",Ze=Et?"33%":"-33%",st=Oe.enteringEl,Ue=Oe.leavingEl,Xe="back"===Oe.direction,se=st.querySelector(":scope > ion-content"),Qe=st.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),dt=st.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=(0,c.c)(),Ke=(0,c.c)();if(rt.addElement(st).duration(Oe.duration||540).easing(Oe.easing||qe).fill("both").beforeRemoveClass("ion-page-invisible"),Ue&&Me){const Xt=(0,c.c)();Xt.addElement(Me),rt.addAnimation(Xt)}if(se||0!==dt.length||0!==Qe.length?(Ke.addElement(se),Ke.addElement(Qe)):Ke.addElement(st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rt.addAnimation(Ke),Xe?Ke.beforeClearStyles([ke]).fromTo("transform",`translateX(${Ze})`,`translateX(${Le})`).fromTo(ke,.8,1):Ke.beforeClearStyles([ke]).fromTo("transform",`translateX(${We})`,`translateX(${Le})`),se){const Xt=De(se).querySelector(".transition-effect");if(Xt){const Ct=Xt.querySelector(".transition-cover"),Ye=Xt.querySelector(".transition-shadow"),ee=(0,c.c)(),X=(0,c.c)(),ce=(0,c.c)();ee.addElement(Xt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),X.addElement(Ct).beforeClearStyles([ke]).fromTo(ke,0,.1),ce.addElement(Ye).beforeClearStyles([ke]).fromTo(ke,.03,.7),ee.addAnimation([X,ce]),Ke.addAnimation([ee])}}const ft=st.querySelector("ion-header.header-collapse-condense"),{forward:vt,backward:un}=((Me,Oe,qe,ke,Ae)=>{const Le=ge(ke,qe),ht=Ee(Ae),Et=Ee(ke),We=ge(Ae,qe),Ze=null!==Le&&null!==ht&&!qe,st=null!==Et&&null!==We&&qe;if(Ze){const Ue=ht.getBoundingClientRect(),Xe=Le.getBoundingClientRect();de(Me,Oe,qe,ht,Ue,Xe),te(Me,Oe,qe,Le,Ue,Xe)}else if(st){const Ue=Et.getBoundingClientRect(),Xe=We.getBoundingClientRect();de(Me,Oe,qe,Et,Ue,Xe),te(Me,Oe,qe,We,Ue,Xe)}return{forward:Ze,backward:st}})(rt,Et,Xe,st,Ue);if(dt.forEach(Xt=>{const Ct=(0,c.c)();Ct.addElement(Xt),rt.addAnimation(Ct);const Ye=(0,c.c)();Ye.addElement(Xt.querySelector("ion-title"));const ee=(0,c.c)(),X=Array.from(Xt.querySelectorAll("ion-buttons,[menuToggle]")),ce=Xt.closest("ion-header"),we=null==ce?void 0:ce.classList.contains("header-collapse-condense-inactive");let _e;_e=X.filter(Xe?Kt=>{const Gt=Kt.classList.contains("buttons-collapse");return Gt&&!we||!Gt}:Kt=>!Kt.classList.contains("buttons-collapse")),ee.addElement(_e);const je=(0,c.c)();je.addElement(Xt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ye=(0,c.c)();ye.addElement(De(Xt).querySelector(".toolbar-background"));const Ce=(0,c.c)(),kt=Xt.querySelector("ion-back-button");if(kt&&Ce.addElement(kt),Ct.addAnimation([Ye,ee,je,ye,Ce]),ee.fromTo(ke,.01,1),je.fromTo(ke,.01,1),Xe)we||Ye.fromTo("transform",`translateX(${Ze})`,`translateX(${Le})`).fromTo(ke,.01,1),je.fromTo("transform",`translateX(${Ze})`,`translateX(${Le})`),Ce.fromTo(ke,.01,1);else if(ft||Ye.fromTo("transform",`translateX(${We})`,`translateX(${Le})`).fromTo(ke,.01,1),je.fromTo("transform",`translateX(${We})`,`translateX(${Le})`),ye.beforeClearStyles([ke,"transform"]),(null==ce?void 0:ce.translucent)?ye.fromTo("transform",Et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ye.fromTo(ke,.01,"var(--opacity)"),vt||Ce.fromTo(ke,.01,1),kt&&!vt){const Gt=(0,c.c)();Gt.addElement(De(kt).querySelector(".button-text")).fromTo("transform",Et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ct.addAnimation(Gt)}}),Ue){const Xt=(0,c.c)(),Ct=Ue.querySelector(":scope > ion-content"),Ye=Ue.querySelectorAll(":scope > ion-header > ion-toolbar"),ee=Ue.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ct||0!==Ye.length||0!==ee.length?(Xt.addElement(Ct),Xt.addElement(ee)):Xt.addElement(Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rt.addAnimation(Xt),Xe){Xt.beforeClearStyles([ke]).fromTo("transform",`translateX(${Le})`,Et?"translateX(-100%)":"translateX(100%)");const X=(0,G.g)(Ue);rt.afterAddWrite(()=>{"normal"===rt.getDirection()&&X.style.setProperty("display","none")})}else Xt.fromTo("transform",`translateX(${Le})`,`translateX(${Ze})`).fromTo(ke,1,.8);if(Ct){const X=De(Ct).querySelector(".transition-effect");if(X){const ce=X.querySelector(".transition-cover"),we=X.querySelector(".transition-shadow"),_e=(0,c.c)(),je=(0,c.c)(),ye=(0,c.c)();_e.addElement(X).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(ce).beforeClearStyles([ke]).fromTo(ke,.1,0),ye.addElement(we).beforeClearStyles([ke]).fromTo(ke,.7,.03),_e.addAnimation([je,ye]),Xt.addAnimation([_e])}}Ye.forEach(X=>{const ce=(0,c.c)();ce.addElement(X);const we=(0,c.c)();we.addElement(X.querySelector("ion-title"));const _e=(0,c.c)(),je=X.querySelectorAll("ion-buttons,[menuToggle]"),ye=X.closest("ion-header"),Ce=null==ye?void 0:ye.classList.contains("header-collapse-condense-inactive"),kt=Array.from(je).filter(hn=>{const Pn=hn.classList.contains("buttons-collapse");return Pn&&!Ce||!Pn});_e.addElement(kt);const Kt=(0,c.c)(),Gt=X.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Gt.length>0&&Kt.addElement(Gt);const Jt=(0,c.c)();Jt.addElement(De(X).querySelector(".toolbar-background"));const In=(0,c.c)(),er=X.querySelector("ion-back-button");if(er&&In.addElement(er),ce.addAnimation([we,_e,Kt,In,Jt]),rt.addAnimation(ce),In.fromTo(ke,.99,0),_e.fromTo(ke,.99,0),Kt.fromTo(ke,.99,0),Xe){if(Ce||we.fromTo("transform",`translateX(${Le})`,Et?"translateX(-100%)":"translateX(100%)").fromTo(ke,.99,0),Kt.fromTo("transform",`translateX(${Le})`,Et?"translateX(-100%)":"translateX(100%)"),Jt.beforeClearStyles([ke,"transform"]),(null==ye?void 0:ye.translucent)?Jt.fromTo("transform","translateX(0px)",Et?"translateX(-100%)":"translateX(100%)"):Jt.fromTo(ke,"var(--opacity)",0),er&&!un){const Pn=(0,c.c)();Pn.addElement(De(er).querySelector(".button-text")).fromTo("transform",`translateX(${Le})`,`translateX(${(Et?-124:124)+"px"})`),ce.addAnimation(Pn)}}else Ce||we.fromTo("transform",`translateX(${Le})`,`translateX(${Ze})`).fromTo(ke,.99,0).afterClearStyles([Ae,ke]),Kt.fromTo("transform",`translateX(${Le})`,`translateX(${Ze})`).afterClearStyles([Ae,ke]),In.afterClearStyles([ke]),we.afterClearStyles([ke]),_e.afterClearStyles([ke])})}return rt}catch(qe){throw qe}}},6447:(en,ut,M)=>{"use strict";M.r(ut),M.d(ut,{mdTransitionAnimation:()=>Ne});var c=M(9442),G=M(4318);M(2361);const Ne=(be,De)=>{const Be="back"===De.direction,de=De.leavingEl,Te=(0,G.g)(De.enteringEl),Me=Te.querySelector("ion-toolbar"),Oe=(0,c.c)();if(Oe.addElement(Te).fill("both").beforeRemoveClass("ion-page-invisible"),Be?Oe.duration(De.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Oe.duration(De.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Me){const qe=(0,c.c)();qe.addElement(Me),Oe.addAnimation(qe)}if(de&&Be){Oe.duration(De.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const qe=(0,c.c)();qe.addElement((0,G.g)(de)).onFinish(ke=>{1===ke&&qe.elements.length>0&&qe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Oe.addAnimation(qe)}return Oe}},599:(en,ut,M)=>{"use strict";M.d(ut,{B:()=>X,a:()=>ge,b:()=>Be,c:()=>Me,d:()=>dt,e:()=>qe,f:()=>Ke,g:()=>un,h:()=>De,i:()=>Ct,j:()=>ht,k:()=>se,l:()=>te,m:()=>de,s:()=>ee,t:()=>Oe});var c=M(5861),G=M(6254),Y=M(7593),Ne=M(3756);let be=0;const De=new WeakMap,Ee=ce=>({create:we=>ke(ce,we),dismiss:(we,_e,je)=>Ue(document,we,_e,ce,je),getTop:()=>(0,c.Z)(function*(){return se(document,ce)})()}),ge=Ee("ion-alert"),Be=Ee("ion-action-sheet"),te=Ee("ion-loading"),de=Ee("ion-modal"),Me=Ee("ion-popover"),Oe=Ee("ion-toast"),qe=ce=>{"undefined"!=typeof document&&st(document);const we=be++;ce.overlayIndex=we,ce.hasAttribute("id")||(ce.id=`ion-overlay-${we}`)},ke=(ce,we)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(ce).then(()=>{const _e=document.createElement(ce);return _e.classList.add("overlay-hidden"),Object.assign(_e,Object.assign(Object.assign({},we),{hasController:!0})),ft(document).appendChild(_e),new Promise(je=>(0,Ne.c)(_e,je))}):Promise.resolve(),Ae='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Le="input:not([type=hidden]), textarea, button, select",ht=(ce,we)=>{let _e=ce.querySelector(Ae);const je=null==_e?void 0:_e.shadowRoot;je&&(_e=je.querySelector(Le)||_e),_e?(0,Ne.f)(_e):we.focus()},We=(ce,we)=>{const _e=Array.from(ce.querySelectorAll(Ae));let je=_e.length>0?_e[_e.length-1]:null;const ye=null==je?void 0:je.shadowRoot;ye&&(je=ye.querySelector(Le)||je),je?je.focus():we.focus()},st=ce=>{0===be&&(be=1,ce.addEventListener("focus",we=>{((ce,we)=>{const _e=se(we,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),je=ce.target;_e&&je&&!_e.classList.contains("ion-disable-focus-trap")&&(_e.shadowRoot?(()=>{if(_e.contains(je))_e.lastFocus=je;else{const kt=_e.lastFocus;ht(_e,_e),kt===we.activeElement&&We(_e,_e),_e.lastFocus=we.activeElement}})():(()=>{if(_e===je)_e.lastFocus=void 0;else{const kt=(0,Ne.g)(_e);if(!kt.contains(je))return;const Kt=kt.querySelector(".ion-overlay-wrapper");if(!Kt)return;if(Kt.contains(je))_e.lastFocus=je;else{const Gt=_e.lastFocus;ht(Kt,_e),Gt===we.activeElement&&We(Kt,_e),_e.lastFocus=we.activeElement}}})())})(we,ce)},!0),ce.addEventListener("ionBackButton",we=>{const _e=se(ce);(null==_e?void 0:_e.backdropDismiss)&&we.detail.register(Y.OVERLAY_BACK_BUTTON_PRIORITY,()=>_e.dismiss(void 0,X))}),ce.addEventListener("keyup",we=>{if("Escape"===we.key){const _e=se(ce);(null==_e?void 0:_e.backdropDismiss)&&_e.dismiss(void 0,X)}}))},Ue=(ce,we,_e,je,ye)=>{const Ce=se(ce,je,ye);return Ce?Ce.dismiss(we,_e):Promise.reject("overlay does not exist")},se=(ce,we,_e)=>{const je=((ce,we)=>(void 0===we&&(we="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ce.querySelectorAll(we)).filter(_e=>_e.overlayIndex>0)))(ce,we).filter(ye=>!(ce=>ce.classList.contains("overlay-hidden"))(ye));return void 0===_e?je[je.length-1]:je.find(ye=>ye.id===_e)},Qe=(ce=!1)=>{const _e=ft(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!_e||(ce?_e.setAttribute("aria-hidden","true"):_e.removeAttribute("aria-hidden"))},dt=function(){var ce=(0,c.Z)(function*(we,_e,je,ye,Ce){var kt,Kt;if(we.presented)return;Qe(!0),we.presented=!0,we.willPresent.emit(),null===(kt=we.willPresentShorthand)||void 0===kt||kt.emit();const Gt=(0,G.b)(we),Jt=we.enterAnimation?we.enterAnimation:G.c.get(_e,"ios"===Gt?je:ye);(yield vt(we,Jt,we.el,Ce))&&(we.didPresent.emit(),null===(Kt=we.didPresentShorthand)||void 0===Kt||Kt.emit()),"ION-TOAST"!==we.el.tagName&&rt(we.el),we.keyboardClose&&we.el.focus()});return function(_e,je,ye,Ce,kt){return ce.apply(this,arguments)}}(),rt=function(){var ce=(0,c.Z)(function*(we){let _e=document.activeElement;if(!_e)return;const je=null==_e?void 0:_e.shadowRoot;je&&(_e=je.querySelector(Le)||_e),yield we.onDidDismiss(),_e.focus()});return function(_e){return ce.apply(this,arguments)}}(),Ke=function(){var ce=(0,c.Z)(function*(we,_e,je,ye,Ce,kt,Kt){var Gt,Jt;if(!we.presented)return!1;Qe(!1),we.presented=!1;try{we.el.style.setProperty("pointer-events","none"),we.willDismiss.emit({data:_e,role:je}),null===(Gt=we.willDismissShorthand)||void 0===Gt||Gt.emit({data:_e,role:je});const In=(0,G.b)(we),er=we.leaveAnimation?we.leaveAnimation:G.c.get(ye,"ios"===In?Ce:kt);"gesture"!==je&&(yield vt(we,er,we.el,Kt)),we.didDismiss.emit({data:_e,role:je}),null===(Jt=we.didDismissShorthand)||void 0===Jt||Jt.emit({data:_e,role:je}),De.delete(we),we.el.classList.add("overlay-hidden"),we.el.style.removeProperty("pointer-events")}catch(In){console.error(In)}return we.el.remove(),!0});return function(_e,je,ye,Ce,kt,Kt,Gt){return ce.apply(this,arguments)}}(),ft=ce=>ce.querySelector("ion-app")||ce.body,vt=function(){var ce=(0,c.Z)(function*(we,_e,je,ye){je.classList.remove("overlay-hidden");const kt=_e(we.el,ye);(!we.animated||!G.c.getBoolean("animated",!0))&&kt.duration(0),we.keyboardClose&&kt.beforeAddWrite(()=>{const Gt=je.ownerDocument.activeElement;(null==Gt?void 0:Gt.matches("input,ion-input, ion-textarea"))&&Gt.blur()});const Kt=De.get(we)||[];return De.set(we,[...Kt,kt]),yield kt.play(),!0});return function(_e,je,ye,Ce){return ce.apply(this,arguments)}}(),un=(ce,we)=>{let _e;const je=new Promise(ye=>_e=ye);return Xt(ce,we,ye=>{_e(ye.detail)}),je},Xt=(ce,we,_e)=>{const je=ye=>{(0,Ne.b)(ce,we,je),_e(ye)};(0,Ne.a)(ce,we,je)},Ct=ce=>"cancel"===ce||ce===X,Ye=ce=>ce(),ee=(ce,we)=>{if("function"==typeof ce)return G.c.get("_zoneGate",Ye)(()=>{try{return ce(we)}catch(je){throw je}})},X="backdrop"},1328:(en,ut,M)=>{"use strict";M.d(ut,{u:()=>Ee});var c=M(7582),G=M(5e3),Y=M(4206),Ne=M(8161),be=M(3385),De=M(5852);let Ee=(()=>{class ge{constructor(te,de,Te,Me,Oe,qe){this.afStore=te,this.toast=de,this.ngFireAuth=Te,this.navCtrl=Me,this.router=Oe,this.ngZone=qe,this.user={},this.ngFireAuth.authState.subscribe(ke=>(0,c.mG)(this,void 0,void 0,function*(){if(ke){this.userData=ke;const Ae=yield ke.getIdToken();localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("token",Ae)}else localStorage.removeItem("user"),localStorage.removeItem("token")}))}SendVerificationMail(){return(0,c.mG)(this,void 0,void 0,function*(){const te=yield this.ngFireAuth.currentUser;te&&(yield te.sendEmailVerification(),this.router.navigate(["verify-email"]))})}get isEmailVerified(){const te=JSON.parse(localStorage.getItem("user")||"null");return!!(null==te?void 0:te.emailVerified)}SetUserData(te){return this.afStore.doc(`users/${te.uid}`).set({uid:te.uid,email:te.email,displayName:te.displayName,photoURL:te.photoURL,emailVerified:te.emailVerified},{merge:!0})}SignOut(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.ngFireAuth.signOut(),localStorage.removeItem("user"),localStorage.removeItem("token"),sessionStorage.clear(),this.ngZone.run(()=>{this.router.navigate(["/login"])}),this.showToaster("You are logged out")}catch(te){console.error("Sign out error:",te),this.showToaster("Error during logout")}})}showToaster(te){this.toast.create({message:te,color:"danger",duration:4e3}).then(de=>de.present())}Logout(){localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])}get isLoggedIn(){const te=JSON.parse(localStorage.getItem("user")||"null");return null!==te&&!0===te.emailVerified&&!!localStorage.getItem("token")}}return ge.\u0275fac=function(te){return new(te||ge)(G.LFG(Y.ST),G.LFG(Ne.yF),G.LFG(be.zQ),G.LFG(Ne.SH),G.LFG(De.F0),G.LFG(G.R0b))},ge.\u0275prov=G.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},5789:(en,ut,M)=>{"use strict";var c=M(9808),G=M(5e3);class Y extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ne extends Y{static makeCurrent(){(0,c.HT)(new Ne)}onAndCancel(s,a,f){return s.addEventListener(a,f,!1),()=>{s.removeEventListener(a,f,!1)}}dispatchEvent(s,a){s.dispatchEvent(a)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,a){return(a=a||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,a){return"window"===a?window:"document"===a?s:"body"===a?s.body:null}getBaseHref(s){const a=function De(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==a?null:function ge(u){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",u);const s=Ee.pathname;return"/"===s.charAt(0)?s:`/${s}`}(a)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return(0,c.Mx)(document.cookie,s)}}let Ee,be=null;const Be=new G.OlP("TRANSITION_ID"),de=[{provide:G.ip1,useFactory:function te(u,s,a){return()=>{a.get(G.CZH).donePromise.then(()=>{const f=(0,c.q)(),_=s.querySelectorAll(`style[ng-transition="${u}"]`);for(let D=0;D<_.length;D++)f.remove(_[D])})}},deps:[Be,c.K0,G.zs3],multi:!0}];class Te{static init(){(0,G.VLi)(new Te)}addToWindow(s){G.dqk.getAngularTestability=(f,_=!0)=>{const D=s.findTestabilityInTree(f,_);if(null==D)throw new Error("Could not find testability for element.");return D},G.dqk.getAllAngularTestabilities=()=>s.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>s.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(f=>{const _=G.dqk.getAllAngularTestabilities();let D=_.length,R=!1;const Q=function(ae){R=R||ae,D--,0==D&&f(R)};_.forEach(function(ae){ae.whenStable(Q)})})}findTestabilityInTree(s,a,f){if(null==a)return null;const _=s.getTestability(a);return null!=_?_:f?(0,c.q)().isShadowRoot(a)?this.findTestabilityInTree(s,a.host,!0):this.findTestabilityInTree(s,a.parentElement,!0):null}}let Me=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})();const Oe=new G.OlP("EventManagerPlugins");let qe=(()=>{class u{constructor(a,f){this._zone=f,this._eventNameToPlugin=new Map,a.forEach(_=>_.manager=this),this._plugins=a.slice().reverse()}addEventListener(a,f,_){return this._findPluginFor(f).addEventListener(a,f,_)}addGlobalEventListener(a,f,_){return this._findPluginFor(f).addGlobalEventListener(a,f,_)}getZone(){return this._zone}_findPluginFor(a){const f=this._eventNameToPlugin.get(a);if(f)return f;const _=this._plugins;for(let D=0;D<_.length;D++){const R=_[D];if(R.supports(a))return this._eventNameToPlugin.set(a,R),R}throw new Error(`No event manager plugin found for event ${a}`)}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(Oe),G.LFG(G.R0b))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})();class ke{constructor(s){this._doc=s}addGlobalEventListener(s,a,f){const _=(0,c.q)().getGlobalEventTarget(this._doc,s);if(!_)throw new Error(`Unsupported event target ${_} for event ${a}`);return this.addEventListener(_,a,f)}}let Ae=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(a){const f=new Set;a.forEach(_=>{this._stylesSet.has(_)||(this._stylesSet.add(_),f.add(_))}),this.onStylesAdded(f)}onStylesAdded(a){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})(),Le=(()=>{class u extends Ae{constructor(a){super(),this._doc=a,this._hostNodes=new Map,this._hostNodes.set(a.head,[])}_addStylesToHost(a,f,_){a.forEach(D=>{const R=this._doc.createElement("style");R.textContent=D,_.push(f.appendChild(R))})}addHost(a){const f=[];this._addStylesToHost(this._stylesSet,a,f),this._hostNodes.set(a,f)}removeHost(a){const f=this._hostNodes.get(a);f&&f.forEach(ht),this._hostNodes.delete(a)}onStylesAdded(a){this._hostNodes.forEach((f,_)=>{this._addStylesToHost(a,_,f)})}ngOnDestroy(){this._hostNodes.forEach(a=>a.forEach(ht))}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(c.K0))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})();function ht(u){(0,c.q)().remove(u)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g;function dt(u,s,a){for(let f=0;f<s.length;f++){let _=s[f];Array.isArray(_)?dt(u,_,a):(_=_.replace(We,u),a.push(_))}return a}function rt(u){return s=>{if("__ngUnwrap__"===s)return u;!1===u(s)&&(s.preventDefault(),s.returnValue=!1)}}let ft=(()=>{class u{constructor(a,f,_){this.eventManager=a,this.sharedStylesHost=f,this.appId=_,this.rendererByCompId=new Map,this.defaultRenderer=new vt(a)}createRenderer(a,f){if(!a||!f)return this.defaultRenderer;switch(f.encapsulation){case G.ifc.Emulated:{let _=this.rendererByCompId.get(f.id);return _||(_=new Ct(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,_)),_.applyToHost(a),_}case 1:case G.ifc.ShadowDom:return new Ye(this.eventManager,this.sharedStylesHost,a,f);default:if(!this.rendererByCompId.has(f.id)){const _=dt(f.id,f.styles,[]);this.sharedStylesHost.addStyles(_),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(qe),G.LFG(Le),G.LFG(G.AFp))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})();class vt{constructor(s){this.eventManager=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(s,a){return a?document.createElementNS(Et[a]||a,s):document.createElement(s)}createComment(s){return document.createComment(s)}createText(s){return document.createTextNode(s)}appendChild(s,a){s.appendChild(a)}insertBefore(s,a,f){s&&s.insertBefore(a,f)}removeChild(s,a){s&&s.removeChild(a)}selectRootElement(s,a){let f="string"==typeof s?document.querySelector(s):s;if(!f)throw new Error(`The selector "${s}" did not match any elements`);return a||(f.textContent=""),f}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,a,f,_){if(_){a=_+":"+a;const D=Et[_];D?s.setAttributeNS(D,a,f):s.setAttribute(a,f)}else s.setAttribute(a,f)}removeAttribute(s,a,f){if(f){const _=Et[f];_?s.removeAttributeNS(_,a):s.removeAttribute(`${f}:${a}`)}else s.removeAttribute(a)}addClass(s,a){s.classList.add(a)}removeClass(s,a){s.classList.remove(a)}setStyle(s,a,f,_){_&(G.JOm.DashCase|G.JOm.Important)?s.style.setProperty(a,f,_&G.JOm.Important?"important":""):s.style[a]=f}removeStyle(s,a,f){f&G.JOm.DashCase?s.style.removeProperty(a):s.style[a]=""}setProperty(s,a,f){s[a]=f}setValue(s,a){s.nodeValue=a}listen(s,a,f){return"string"==typeof s?this.eventManager.addGlobalEventListener(s,a,rt(f)):this.eventManager.addEventListener(s,a,rt(f))}}class Ct extends vt{constructor(s,a,f,_){super(s),this.component=f;const D=dt(_+"-"+f.id,f.styles,[]);a.addStyles(D),this.contentAttr=function se(u){return"_ngcontent-%COMP%".replace(We,u)}(_+"-"+f.id),this.hostAttr=function Qe(u){return"_nghost-%COMP%".replace(We,u)}(_+"-"+f.id)}applyToHost(s){super.setAttribute(s,this.hostAttr,"")}createElement(s,a){const f=super.createElement(s,a);return super.setAttribute(f,this.contentAttr,""),f}}class Ye extends vt{constructor(s,a,f,_){super(s),this.sharedStylesHost=a,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=dt(_.id,_.styles,[]);for(let R=0;R<D.length;R++){const Q=document.createElement("style");Q.textContent=D[R],this.shadowRoot.appendChild(Q)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(s,a){return super.appendChild(this.nodeOrShadowRoot(s),a)}insertBefore(s,a,f){return super.insertBefore(this.nodeOrShadowRoot(s),a,f)}removeChild(s,a){return super.removeChild(this.nodeOrShadowRoot(s),a)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}}let ee=(()=>{class u extends ke{constructor(a){super(a)}supports(a){return!0}addEventListener(a,f,_){return a.addEventListener(f,_,!1),()=>this.removeEventListener(a,f,_)}removeEventListener(a,f,_){return a.removeEventListener(f,_)}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(c.K0))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})();const X=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},je={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let ye=(()=>{class u extends ke{constructor(a){super(a)}supports(a){return null!=u.parseEventName(a)}addEventListener(a,f,_){const D=u.parseEventName(f),R=u.eventCallback(D.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(a,D.domEventName,R))}static parseEventName(a){const f=a.toLowerCase().split("."),_=f.shift();if(0===f.length||"keydown"!==_&&"keyup"!==_)return null;const D=u._normalizeKey(f.pop());let R="";if(X.forEach(ae=>{const Se=f.indexOf(ae);Se>-1&&(f.splice(Se,1),R+=ae+".")}),R+=D,0!=f.length||0===D.length)return null;const Q={};return Q.domEventName=_,Q.fullKey=R,Q}static getEventFullKey(a){let f="",_=function Ce(u){let s=u.key;if(null==s){if(s=u.keyIdentifier,null==s)return"Unidentified";s.startsWith("U+")&&(s=String.fromCharCode(parseInt(s.substring(2),16)),3===u.location&&_e.hasOwnProperty(s)&&(s=_e[s]))}return we[s]||s}(a);return _=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),X.forEach(D=>{D!=_&&je[D](a)&&(f+=D+".")}),f+=_,f}static eventCallback(a,f,_){return D=>{u.getEventFullKey(D)===a&&_.runGuarded(()=>f(D))}}static _normalizeKey(a){return"esc"===a?"escape":a}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(c.K0))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac}),u})();const In=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:c.bD},{provide:G.g9A,useValue:function kt(){Ne.makeCurrent(),Te.init()},multi:!0},{provide:c.K0,useFactory:function Gt(){return(0,G.RDi)(document),document},deps:[]}]),er=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function Kt(){return new G.qLn},deps:[]},{provide:Oe,useClass:ee,multi:!0,deps:[c.K0,G.R0b,G.Lbi]},{provide:Oe,useClass:ye,multi:!0,deps:[c.K0]},{provide:ft,useClass:ft,deps:[qe,Le,G.AFp]},{provide:G.FYo,useExisting:ft},{provide:Ae,useExisting:Le},{provide:Le,useClass:Le,deps:[c.K0]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b]},{provide:qe,useClass:qe,deps:[Oe,G.R0b]},{provide:c.JF,useClass:Me,deps:[]}];let hn=(()=>{class u{constructor(a){if(a)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(a){return{ngModule:u,providers:[{provide:G.AFp,useValue:a.appId},{provide:Be,useExisting:G.AFp},de]}}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(u,12))},u.\u0275mod=G.oAB({type:u}),u.\u0275inj=G.cJS({providers:er,imports:[c.ez,G.hGG]}),u})();"undefined"!=typeof window&&window;var Ei=M(2011),Gi=M(5852),Pi=M(8306),Vr=M(9646),oi=M(8996),wi=M(4986),Gr=M(4482),ci=M(5403),Ii=M(4004),Ni=M(3900),Rr=M(5813),Qr=M(3942),ai=M(5861),Tr=M(9681),oe=M(2090),Dn=M(4859);const rr="firebasestorage.googleapis.com",Zr="storageBucket";class hr extends oe.ZR{constructor(s,a){super(Er(s),`Firebase Storage: ${a} (${Er(s)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hr.prototype)}_codeEquals(s){return Er(s)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(s){this.customData.serverResponse=s,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Er(u){return"storage/"+u}function Or(){return new hr("unknown","An unknown error occurred, please check the error payload for server response.")}function Xr(){return new hr("canceled","User canceled the upload/download.")}function ve(){return new hr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ie(u){return new hr("invalid-argument",u)}function Fe(){return new hr("app-deleted","The Firebase app was deleted.")}function yt(u){return new hr("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lt(u,s){return new hr("invalid-format","String does not match format '"+u+"': "+s)}function Pt(u){throw new hr("internal-error","Internal error: "+u)}class Ot{constructor(s,a){this.bucket=s,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const s=encodeURIComponent;return"/b/"+s(this.bucket)+"/o/"+s(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(s,a){let f;try{f=Ot.makeFromUrl(s,a)}catch(_){return new Ot(s,"")}if(""===f.path)return f;throw function Fr(u){return new hr("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(s)}static makeFromUrl(s,a){let f=null;const _="([A-Za-z0-9.\\-_]+)",Q=new RegExp("^gs://"+_+"(/(.*))?$","i");function Se(fo){fo.path_=decodeURIComponent(fo.path)}const Tt=a.replace(/[.]/g,"\\."),ji=[{regex:Q,indices:{bucket:1,path:3},postModify:function D(fo){"/"===fo.path.charAt(fo.path.length-1)&&(fo.path_=fo.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Tt}/v[A-Za-z0-9_]+/b/${_}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Se},{regex:new RegExp(`^https?://${a===rr?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${_}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Se}];for(let fo=0;fo<ji.length;fo++){const gf=ji[fo],_d=gf.regex.exec(s);if(_d){let hh=_d[gf.indices.path];hh||(hh=""),f=new Ot(_d[gf.indices.bucket],hh),gf.postModify(f);break}}if(null==f)throw function Di(u){return new hr("invalid-url","Invalid URL '"+u+"'.")}(s);return f}}class mn{constructor(s){this.promise_=Promise.reject(s)}getPromise(){return this.promise_}cancel(s=!1){}}function at(u){return"string"==typeof u||u instanceof String}function et(u){return At()&&u instanceof Blob}function At(){return"undefined"!=typeof Blob}function zt(u,s,a,f){if(f<s)throw Ie(`Invalid value for '${u}'. Expected ${s} or greater.`);if(f>a)throw Ie(`Invalid value for '${u}'. Expected ${a} or less.`)}function rn(u,s,a){let f=s;return null==a&&(f=`https://${s}`),`${a}://${f}/v0${u}`}function Mn(u){const s=encodeURIComponent;let a="?";for(const f in u)u.hasOwnProperty(f)&&(a=a+(s(f)+"=")+s(u[f])+"&");return a=a.slice(0,-1),a}var ur=(()=>{return(u=ur||(ur={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",ur;var u})();class Si{constructor(s,a,f,_,D,R,Q,ae,Se,It,Tt){this.url_=s,this.method_=a,this.headers_=f,this.body_=_,this.successCodes_=D,this.additionalRetryCodes_=R,this.callback_=Q,this.errorCallback_=ae,this.timeout_=Se,this.progressCallback_=It,this.connectionFactory_=Tt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ut,En)=>{this.resolve_=Ut,this.reject_=En,this.start_()})}start_(){const a=(f,_)=>{const D=this.resolve_,R=this.reject_,Q=_.connection;if(_.wasSuccessCode)try{const ae=this.callback_(Q,Q.getResponse());!function ir(u){return void 0!==u}(ae)?D():D(ae)}catch(ae){R(ae)}else if(null!==Q){const ae=Or();ae.serverResponse=Q.getErrorText(),R(this.errorCallback_?this.errorCallback_(Q,ae):ae)}else R(_.canceled?this.appDelete_?Fe():Xr():function Ci(){return new hr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?a(0,new yr(!1,null,!0)):this.backoffId_=function Vn(u,s,a){let f=1,_=null,D=null,R=!1,Q=0;function ae(){return 2===Q}let Se=!1;function It(...kr){Se||(Se=!0,s.apply(null,kr))}function Tt(kr){_=setTimeout(()=>{_=null,u(En,ae())},kr)}function Ut(){D&&clearTimeout(D)}function En(kr,...Ms){if(Se)return void Ut();if(kr)return Ut(),void It.call(null,kr,...Ms);if(ae()||R)return Ut(),void It.call(null,kr,...Ms);let ji;f<64&&(f*=2),1===Q?(Q=2,ji=0):ji=1e3*(f+Math.random()),Tt(ji)}let Fn=!1;function xr(kr){Fn||(Fn=!0,Ut(),!Se&&(null!==_?(kr||(Q=2),clearTimeout(_),Tt(0)):kr||(Q=1)))}return Tt(0),D=setTimeout(()=>{R=!0,xr(!0)},a),xr}((f,_)=>{if(_)return void f(!1,new yr(!1,null,!0));const D=this.connectionFactory_();this.pendingConnection_=D;const R=Q=>{null!==this.progressCallback_&&this.progressCallback_(Q.loaded,Q.lengthComputable?Q.total:-1)};null!==this.progressCallback_&&D.addUploadProgressListener(R),D.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&D.removeUploadProgressListener(R),this.pendingConnection_=null;const Q=D.getErrorCode()===ur.NO_ERROR,ae=D.getStatus();if(!Q||this.isRetryStatusCode_(ae)){const It=D.getErrorCode()===ur.ABORT;return void f(!1,new yr(!1,null,It))}const Se=-1!==this.successCodes_.indexOf(ae);f(!0,new yr(Se,D))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(s){this.canceled_=!0,this.appDelete_=s||!1,null!==this.backoffId_&&function Jn(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(s){const a=s>=500&&s<600,_=-1!==[408,429].indexOf(s),D=-1!==this.additionalRetryCodes_.indexOf(s);return a||_||D}}class yr{constructor(s,a,f){this.wasSuccessCode=s,this.connection=a,this.canceled=!!f}}function go(...u){const s=function Qi(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==s){const a=new s;for(let f=0;f<u.length;f++)a.append(u[f]);return a.getBlob()}if(At())return new Blob(u);throw new hr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Li{constructor(s,a){this.data=s,this.contentType=a||null}}function Wi(u,s){switch(u){case fi.RAW:return new Li(Ps(s));case fi.BASE64:case fi.BASE64URL:return new Li(Co(u,s));case fi.DATA_URL:return new Li(function zr(u){const s=new Ji(u);return s.base64?Co(fi.BASE64,s.rest):function Vs(u){let s;try{s=decodeURIComponent(u)}catch(a){throw Lt(fi.DATA_URL,"Malformed data URL.")}return Ps(s)}(s.rest)}(s),function Bi(u){return new Ji(u).contentType}(s))}throw Or()}function Ps(u){const s=[];for(let a=0;a<u.length;a++){let f=u.charCodeAt(a);f<=127?s.push(f):f<=2047?s.push(192|f>>6,128|63&f):55296==(64512&f)?a<u.length-1&&56320==(64512&u.charCodeAt(a+1))?(f=65536|(1023&f)<<10|1023&u.charCodeAt(++a),s.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):s.push(239,191,189):56320==(64512&f)?s.push(239,191,189):s.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(s)}function Co(u,s){switch(u){case fi.BASE64:{const _=-1!==s.indexOf("-"),D=-1!==s.indexOf("_");if(_||D)throw Lt(u,"Invalid character '"+(_?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const _=-1!==s.indexOf("+"),D=-1!==s.indexOf("/");if(_||D)throw Lt(u,"Invalid character '"+(_?"+":"/")+"' found: is it base64 encoded?");s=s.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function Fi(u){return atob(u)}(s)}catch(_){throw Lt(u,"Invalid character found")}const f=new Uint8Array(a.length);for(let _=0;_<a.length;_++)f[_]=a.charCodeAt(_);return f}class Ji{constructor(s){this.base64=!1,this.contentType=null;const a=s.match(/^data:([^,]+)?,/);if(null===a)throw Lt(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=a[1]||null;null!=f&&(this.base64=function ko(u,s){return u.length>=s.length&&u.substring(u.length-s.length)===s}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=s.substring(s.indexOf(",")+1)}}class ei{constructor(s,a){let f=0,_="";et(s)?(this.data_=s,f=s.size,_=s.type):s instanceof ArrayBuffer?(a?this.data_=new Uint8Array(s):(this.data_=new Uint8Array(s.byteLength),this.data_.set(new Uint8Array(s))),f=this.data_.length):s instanceof Uint8Array&&(a?this.data_=s:(this.data_=new Uint8Array(s.length),this.data_.set(s)),f=s.length),this.size_=f,this.type_=_}size(){return this.size_}type(){return this.type_}slice(s,a){if(et(this.data_)){const _=function ss(u,s,a){return u.webkitSlice?u.webkitSlice(s,a):u.mozSlice?u.mozSlice(s,a):u.slice?u.slice(s,a):null}(this.data_,s,a);return null===_?null:new ei(_)}{const f=new Uint8Array(this.data_.buffer,s,a-s);return new ei(f,!0)}}static getBlob(...s){if(At()){const a=s.map(f=>f instanceof ei?f.data_:f);return new ei(go.apply(null,a))}{const a=s.map(R=>at(R)?Wi(fi.RAW,R).data:R.data_);let f=0;a.forEach(R=>{f+=R.byteLength});const _=new Uint8Array(f);let D=0;return a.forEach(R=>{for(let Q=0;Q<R.length;Q++)_[D++]=R[Q]}),new ei(_,!0)}}uploadData(){return this.data_}}function Us(u){let s;try{s=JSON.parse(u)}catch(a){return null}return function Ti(u){return"object"==typeof u&&!Array.isArray(u)}(s)?s:null}function Ai(u){const s=u.lastIndexOf("/",u.length-2);return-1===s?u:u.slice(s+1)}function Uo(u,s){return s}class pi{constructor(s,a,f,_){this.server=s,this.local=a||s,this.writable=!!f,this.xform=_||Uo}}let es=null;function js(){if(es)return es;const u=[];u.push(new pi("bucket")),u.push(new pi("generation")),u.push(new pi("metageneration")),u.push(new pi("name","fullPath",!0));const a=new pi("name");a.xform=function s(D,R){return function Ki(u){return!at(u)||u.length<2?u:Ai(u)}(R)},u.push(a);const _=new pi("size");return _.xform=function f(D,R){return void 0!==R?Number(R):R},u.push(_),u.push(new pi("timeCreated")),u.push(new pi("updated")),u.push(new pi("md5Hash",null,!0)),u.push(new pi("cacheControl",null,!0)),u.push(new pi("contentDisposition",null,!0)),u.push(new pi("contentEncoding",null,!0)),u.push(new pi("contentLanguage",null,!0)),u.push(new pi("contentType",null,!0)),u.push(new pi("metadata","customMetadata",!0)),es=u,es}function le(u,s,a){const f=Us(s);return null===f?null:function $(u,s,a){const f={type:"file"},_=a.length;for(let D=0;D<_;D++){const R=a[D];f[R.local]=R.xform(f,s[R.server])}return function Pr(u,s){Object.defineProperty(u,"ref",{get:function a(){const D=new Ot(u.bucket,u.fullPath);return s._makeStorageReference(D)}})}(f,u),f}(u,f,a)}function he(u,s){const a={},f=s.length;for(let _=0;_<f;_++){const D=s[_];D.writable&&(a[D.server]=u[D.local])}return JSON.stringify(a)}const tt="prefixes";class Hn{constructor(s,a,f,_){this.url=s,this.method=a,this.handler=f,this.timeout=_,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fr(u){if(!u)throw Or()}function sr(u,s){return function a(f,_){const D=le(u,_,s);return fr(null!==D),D}}function Wr(u){return function s(a,f){let _;return _=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function ki(){return new hr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function di(){return new hr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function qn(u){return new hr("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===a.getStatus()?function bi(u){return new hr("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):f,_.serverResponse=f.serverResponse,_}}function Kr(u){const s=Wr(u);return function a(f,_){let D=s(f,_);return 404===f.getStatus()&&(D=function Cr(u){return new hr("object-not-found","Object '"+u+"' does not exist.")}(u.path)),D.serverResponse=_.serverResponse,D}}function Xs(u,s,a){const _=rn(s.fullServerUrl(),u.host,u._protocol),R=u.maxOperationRetryTime,Q=new Hn(_,"GET",sr(u,a),R);return Q.errorHandler=Kr(s),Q}function Ss(u,s,a,f,_){const D={};D.prefix=s.isRoot?"":s.path+"/",a&&a.length>0&&(D.delimiter=a),f&&(D.pageToken=f),_&&(D.maxResults=_);const Q=rn(s.bucketOnlyServerUrl(),u.host,u._protocol),Se=u.maxOperationRetryTime,It=new Hn(Q,"GET",function cr(u,s){return function a(f,_){const D=function On(u,s,a){const f=Us(a);return null===f?null:function qt(u,s,a){const f={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[tt])for(const _ of a[tt]){const D=_.replace(/\/$/,""),R=u._makeStorageReference(new Ot(s,D));f.prefixes.push(R)}if(a.items)for(const _ of a.items){const D=u._makeStorageReference(new Ot(s,_.name));f.items.push(D)}return f}(u,s,f)}(u,s,_);return fr(null!==D),D}}(u,s.bucket),Se);return It.urlParams=D,It.errorHandler=Wr(s),It}function z(u,s,a){const f=Object.assign({},a);return f.fullPath=u.path,f.size=s.size(),f.contentType||(f.contentType=function $o(u,s){return u&&u.contentType||s&&s.type()||"application/octet-stream"}(null,s)),f}class k{constructor(s,a,f,_){this.current=s,this.total=a,this.finalized=!!f,this.metadata=_||null}}function q(u,s){let a=null;try{a=u.getResponseHeader("X-Goog-Upload-Status")}catch(_){fr(!1)}return fr(!!a&&-1!==(s||["active"]).indexOf(a)),a}const E=262144;const w={STATE_CHANGED:"state_changed"},B={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pe(u){switch(u){case"running":case"pausing":case"canceling":return B.RUNNING;case"paused":return B.PAUSED;case"success":return B.SUCCESS;case"canceled":return B.CANCELED;default:return B.ERROR}}class Rt{constructor(s,a,f){if(function hi(u){return"function"==typeof u}(s)||null!=a||null!=f)this.next=s,this.error=null!=a?a:void 0,this.complete=null!=f?f:void 0;else{const D=s;this.next=D.next,this.error=D.error,this.complete=D.complete}}}function _n(u){return(...s)=>{Promise.resolve().then(()=>u(...s))}}class Sr extends class or{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ur.NO_ERROR,this.sendPromise_=new Promise(s=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ur.ABORT,s()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ur.NETWORK_ERROR,s()}),this.xhr_.addEventListener("load",()=>{s()})})}send(s,a,f,_){if(this.sent_)throw Pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,s,!0),void 0!==_)for(const D in _)_.hasOwnProperty(D)&&this.xhr_.setRequestHeader(D,_[D].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(s){return-1}}getResponse(){if(!this.sent_)throw Pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(s){return this.xhr_.getResponseHeader(s)}addUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",s)}removeUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",s)}}{initXhr(){this.xhr_.responseType="text"}}function ar(){return new Sr}class Ns{constructor(s,a,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=s,this._blob=a,this._metadata=f,this._mappings=js(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_=>{this._request=void 0,this._chunkMultiplier=1,_._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=_,this._transition("error"))},this._metadataErrorHandler=_=>{this._request=void 0,_._codeEquals("canceled")?this.completeTransitions_():(this._error=_,this._transition("error"))},this._promise=new Promise((_,D)=>{this._resolve=_,this._reject=D,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const s=this._transferred;return a=>this._updateProgress(s+a)}_shouldDoResumable(s){return s.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(s){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,f])=>{switch(this._state){case"running":s(a,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((s,a)=>{const f=function wt(u,s,a,f,_){const D=s.bucketOnlyServerUrl(),R=z(s,f,_),Q={name:R.fullPath},ae=rn(D,u.host,u._protocol),It={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":R.contentType,"Content-Type":"application/json; charset=utf-8"},Tt=he(R,a),Fn=new Hn(ae,"POST",function En(xr){let kr;q(xr);try{kr=xr.getResponseHeader("X-Goog-Upload-URL")}catch(Ms){fr(!1)}return fr(at(kr)),kr},u.maxUploadRetryTime);return Fn.urlParams=Q,Fn.headers=It,Fn.body=Tt,Fn.errorHandler=Wr(s),Fn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_=this._ref.storage._makeRequest(f,ar,s,a);this._request=_,_.getPromise().then(D=>{this._request=void 0,this._uploadUrl=D,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const s=this._uploadUrl;this._resolveToken((a,f)=>{const _=function Nn(u,s,a,f){const ae=new Hn(a,"POST",function D(Se){const It=q(Se,["active","final"]);let Tt=null;try{Tt=Se.getResponseHeader("X-Goog-Upload-Size-Received")}catch(En){fr(!1)}Tt||fr(!1);const Ut=Number(Tt);return fr(!isNaN(Ut)),new k(Ut,f.size(),"final"===It)},u.maxUploadRetryTime);return ae.headers={"X-Goog-Upload-Command":"query"},ae.errorHandler=Wr(s),ae}(this._ref.storage,this._ref._location,s,this._blob),D=this._ref.storage._makeRequest(_,ar,a,f);this._request=D,D.getPromise().then(R=>{R=R,this._request=void 0,this._updateProgress(R.current),this._needToFetchStatus=!1,R.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const s=E*this._chunkMultiplier,a=new k(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((_,D)=>{let R;try{R=function H(u,s,a,f,_,D,R,Q){const ae=new k(0,0);if(R?(ae.current=R.current,ae.total=R.total):(ae.current=0,ae.total=f.size()),f.size()!==ae.total)throw function ot(){return new hr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Se=ae.total-ae.current;let It=Se;_>0&&(It=Math.min(It,_));const Tt=ae.current,Fn={"X-Goog-Upload-Command":It===Se?"upload, finalize":"upload","X-Goog-Upload-Offset":`${ae.current}`},xr=f.slice(Tt,Tt+It);if(null===xr)throw ve();const ji=new Hn(a,"POST",function kr(fo,gf){const _d=q(fo,["active","final"]),Ed=ae.current+It,hh=f.size();let wg;return wg="final"===_d?sr(s,D)(fo,gf):null,new k(Ed,hh,"final"===_d,wg)},s.maxUploadRetryTime);return ji.headers=Fn,ji.body=xr.uploadData(),ji.progressCallback=Q||null,ji.errorHandler=Wr(u),ji}(this._ref._location,this._ref.storage,f,this._blob,s,this._mappings,a,this._makeProgressCallback())}catch(ae){return this._error=ae,void this._transition("error")}const Q=this._ref.storage._makeRequest(R,ar,_,D);this._request=Q,Q.getPromise().then(ae=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ae.current),ae.finalized?(this._metadata=ae.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){E*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((s,a)=>{const f=Xs(this._ref.storage,this._ref._location,this._mappings),_=this._ref.storage._makeRequest(f,ar,s,a);this._request=_,_.getPromise().then(D=>{this._request=void 0,this._metadata=D,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((s,a)=>{const f=function L(u,s,a,f,_){const D=s.bucketOnlyServerUrl(),R={"X-Goog-Upload-Protocol":"multipart"},ae=function Q(){let ji="";for(let fo=0;fo<2;fo++)ji+=Math.random().toString().slice(2);return ji}();R["Content-Type"]="multipart/related; boundary="+ae;const Se=z(s,f,_),It=he(Se,a),En=ei.getBlob("--"+ae+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+It+"\r\n--"+ae+"\r\nContent-Type: "+Se.contentType+"\r\n\r\n",f,"\r\n--"+ae+"--");if(null===En)throw ve();const Fn={name:Se.fullPath},xr=rn(D,u.host,u._protocol),Ms=u.maxUploadRetryTime,Rs=new Hn(xr,"POST",sr(u,a),Ms);return Rs.urlParams=Fn,Rs.headers=R,Rs.body=En.uploadData(),Rs.errorHandler=Wr(s),Rs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_=this._ref.storage._makeRequest(f,ar,s,a);this._request=_,_.getPromise().then(D=>{this._request=void 0,this._metadata=D,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(s){const a=this._transferred;this._transferred=s,this._transferred!==a&&this._notifyObservers()}_transition(s){if(this._state!==s)switch(s){case"canceling":case"pausing":this._state=s,void 0!==this._request&&this._request.cancel();break;case"running":const a="paused"===this._state;this._state=s,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=s,this._notifyObservers();break;case"canceled":this._error=Xr(),this._state=s,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const s=pe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:s,metadata:this._metadata,task:this,ref:this._ref}}on(s,a,f,_){const D=new Rt(a||void 0,f||void 0,_||void 0);return this._addObserver(D),()=>{this._removeObserver(D)}}then(s,a){return this._promise.then(s,a)}catch(s){return this.then(null,s)}_addObserver(s){this._observers.push(s),this._notifyObserver(s)}_removeObserver(s){const a=this._observers.indexOf(s);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let s=!0;switch(pe(this._state)){case B.SUCCESS:_n(this._resolve.bind(null,this.snapshot))();break;case B.CANCELED:case B.ERROR:_n(this._reject.bind(null,this._error))();break;default:s=!1}s&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(s){switch(pe(this._state)){case B.RUNNING:case B.PAUSED:s.next&&_n(s.next.bind(s,this.snapshot))();break;case B.SUCCESS:s.complete&&_n(s.complete.bind(s))();break;default:s.error&&_n(s.error.bind(s,this._error))()}}resume(){const s="paused"===this._state||"pausing"===this._state;return s&&this._transition("running"),s}pause(){const s="running"===this._state;return s&&this._transition("pausing"),s}cancel(){const s="running"===this._state||"pausing"===this._state;return s&&this._transition("canceling"),s}}class Gs{constructor(s,a){this._service=s,this._location=a instanceof Ot?a:Ot.makeFromUrl(a,s.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(s,a){return new Gs(s,a)}get root(){const s=new Ot(this._location.bucket,"");return this._newRef(this._service,s)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ai(this._location.path)}get storage(){return this._service}get parent(){const s=function Vi(u){if(0===u.length)return null;const s=u.lastIndexOf("/");return-1===s?"":u.slice(0,s)}(this._location.path);if(null===s)return null;const a=new Ot(this._location.bucket,s);return new Gs(this._service,a)}_throwIfRoot(s){if(""===this._location.path)throw yt(s)}}function Jl(u,s,a){return za.apply(this,arguments)}function za(){return(za=(0,ai.Z)(function*(u,s,a){const _=yield Fo(u,{pageToken:a});s.prefixes.push(..._.prefixes),s.items.push(..._.items),null!=_.nextPageToken&&(yield Jl(u,s,_.nextPageToken))})).apply(this,arguments)}function Fo(u,s){null!=s&&"number"==typeof s.maxResults&&zt("options.maxResults",1,1e3,s.maxResults);const a=s||{},f=Ss(u.storage,u._location,"/",a.pageToken,a.maxResults);return u.storage.makeRequestWithTokens(f,ar)}function jo(u){u._throwIfRoot("getDownloadURL");const s=function vs(u,s,a){const _=rn(s.fullServerUrl(),u.host,u._protocol),R=u.maxOperationRetryTime,Q=new Hn(_,"GET",function gi(u,s){return function a(f,_){const D=le(u,_,s);return fr(null!==D),function V(u,s,a,f){const _=Us(s);if(null===_||!at(_.downloadTokens))return null;const D=_.downloadTokens;if(0===D.length)return null;const R=encodeURIComponent;return D.split(",").map(Se=>{const Tt=u.fullPath;return rn("/b/"+R(u.bucket)+"/o/"+R(Tt),a,f)+Mn({alt:"media",token:Se})})[0]}(D,_,u.host,u._protocol)}}(u,a),R);return Q.errorHandler=Kr(s),Q}(u.storage,u._location,js());return u.storage.makeRequestWithTokens(s,ar).then(a=>{if(null===a)throw function mt(){return new hr("no-download-url","The given file does not have any download URLs.")}();return a})}function Ia(u,s){const a=function $s(u,s){const a=s.split("/").filter(f=>f.length>0).join("/");return 0===u.length?a:u+"/"+a}(u._location.path,s),f=new Ot(u._location.bucket,a);return new Gs(u.storage,f)}function Es(u,s){if(u instanceof zs){const a=u;if(null==a._bucket)throw function ne(){return new hr("no-default-bucket","No default bucket found. Did you set the '"+Zr+"' property when initializing the app?")}();const f=new Gs(a,a._bucket);return null!=s?Es(f,s):f}return void 0!==s?Ia(u,s):u}function ia(u,s){if(s&&function ra(u){return/^[A-Za-z]+:\/\//.test(u)}(s)){if(u instanceof zs)return function Qu(u,s){return new Gs(u,s)}(u,s);throw Ie("To use ref(service, url), the first argument must be a Storage instance.")}return Es(u,s)}function qi(u,s){const a=null==s?void 0:s[Zr];return null==a?null:Ot.makeFromBucketSpec(a,u)}class zs{constructor(s,a,f,_,D){this.app=s,this._authProvider=a,this._appCheckProvider=f,this._url=_,this._firebaseVersion=D,this._bucket=null,this._host=rr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_?Ot.makeFromBucketSpec(_,this._host):qi(this._host,this.app.options)}get host(){return this._host}set host(s){this._host=s,this._bucket=null!=this._url?Ot.makeFromBucketSpec(this._url,s):qi(s,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(s){zt("time",0,Number.POSITIVE_INFINITY,s),this._maxUploadRetryTime=s}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(s){zt("time",0,Number.POSITIVE_INFINITY,s),this._maxOperationRetryTime=s}_getAuthToken(){var s=this;return(0,ai.Z)(function*(){if(s._overrideAuthToken)return s._overrideAuthToken;const a=s._authProvider.getImmediate({optional:!0});if(a){const f=yield a.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var s=this;return(0,ai.Z)(function*(){const a=s._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(s=>s.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(s){return new Gs(this,s)}_makeRequest(s,a,f,_){if(this._deleted)return new mn(Fe());{const D=function Os(u,s,a,f,_,D){const R=Mn(u.urlParams),Q=u.url+R,ae=Object.assign({},u.headers);return function zi(u,s){s&&(u["X-Firebase-GMPID"]=s)}(ae,s),function is(u,s){null!==s&&s.length>0&&(u.Authorization="Firebase "+s)}(ae,a),function Ts(u,s){u["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager")}(ae,D),function ja(u,s){null!==s&&(u["X-Firebase-AppCheck"]=s)}(ae,f),new Si(Q,u.method,ae,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,_)}(s,this._appId,f,_,a,this._firebaseVersion);return this._requests.add(D),D.getPromise().then(()=>this._requests.delete(D),()=>this._requests.delete(D)),D}}makeRequestWithTokens(s,a){var f=this;return(0,ai.Z)(function*(){const[_,D]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(s,a,_,D).getPromise()})()}}const so="@firebase/storage";function os(u,s){return ia(u=(0,oe.m9)(u),s)}function ws(u,{instanceIdentifier:s}){const a=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),_=u.getProvider("app-check-internal");return new zs(a,f,_,s,Tr.SDK_VERSION)}!function Is(){(0,Tr._registerComponent)(new Dn.wA("storage",ws,"PUBLIC").setMultipleInstances(!0)),(0,Tr.registerVersion)(so,"0.9.6",""),(0,Tr.registerVersion)(so,"0.9.6","esm2017")}();class zo{constructor(s,a,f){this._delegate=s,this.task=a,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Un{constructor(s,a){this._delegate=s,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new zo(this._delegate.snapshot,this,this._ref)}then(s,a){return this._delegate.then(f=>{if(s)return s(new zo(f,this,this._ref))},a)}on(s,a,f,_){let D;return a&&(D="function"==typeof a?R=>a(new zo(R,this,this._ref)):{next:a.next?R=>a.next(new zo(R,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(s,D,f||void 0,_||void 0)}}class Yn{constructor(s,a){this._delegate=s,this._service=a}get prefixes(){return this._delegate.prefixes.map(s=>new Lo(s,this._service))}get items(){return this._delegate.items.map(s=>new Lo(s,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Lo{constructor(s,a){this._delegate=s,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(s){const a=function Ws(u,s){return Ia(u,s)}(this._delegate,s);return new Lo(a,this.storage)}get root(){return new Lo(this._delegate.root,this.storage)}get parent(){const s=this._delegate.parent;return null==s?null:new Lo(s,this.storage)}put(s,a){return this._throwIfRoot("put"),new Un(function Go(u,s,a){return function Rl(u,s,a){return u._throwIfRoot("uploadBytesResumable"),new Ns(u,new ei(s),a)}(u=(0,oe.m9)(u),s,a)}(this._delegate,s,a),this)}putString(s,a=fi.RAW,f){this._throwIfRoot("putString");const _=Wi(a,s),D=Object.assign({},f);return null==D.contentType&&null!=_.contentType&&(D.contentType=_.contentType),new Un(new Ns(this._delegate,new ei(_.data,!0),D),this)}listAll(){return function To(u){return function na(u){const s={prefixes:[],items:[]};return Jl(u,s).then(()=>s)}(u=(0,oe.m9)(u))}(this._delegate).then(s=>new Yn(s,this.storage))}list(s){return function Iu(u,s){return Fo(u=(0,oe.m9)(u),s)}(this._delegate,s||void 0).then(a=>new Yn(a,this.storage))}getMetadata(){return function hl(u){return function wa(u){u._throwIfRoot("getMetadata");const s=Xs(u.storage,u._location,js());return u.storage.makeRequestWithTokens(s,ar)}(u=(0,oe.m9)(u))}(this._delegate)}updateMetadata(s){return function cs(u,s){return function wu(u,s){u._throwIfRoot("updateMetadata");const a=function mo(u,s,a,f){const D=rn(s.fullServerUrl(),u.host,u._protocol),Q=he(a,f),Se=u.maxOperationRetryTime,It=new Hn(D,"PATCH",sr(u,f),Se);return It.headers={"Content-Type":"application/json; charset=utf-8"},It.body=Q,It.errorHandler=Kr(s),It}(u.storage,u._location,s,js());return u.storage.makeRequestWithTokens(a,ar)}(u=(0,oe.m9)(u),s)}(this._delegate,s)}getDownloadURL(){return function fl(u){return jo(u=(0,oe.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function pl(u){return function dl(u){u._throwIfRoot("deleteObject");const s=function Hs(u,s){const f=rn(s.fullServerUrl(),u.host,u._protocol),Q=new Hn(f,"DELETE",function R(ae,Se){},u.maxOperationRetryTime);return Q.successCodes=[200,204],Q.errorHandler=Kr(s),Q}(u.storage,u._location);return u.storage.makeRequestWithTokens(s,ar)}(u=(0,oe.m9)(u))}(this._delegate)}_throwIfRoot(s){if(""===this._delegate._location.path)throw yt(s)}}class An{constructor(s,a){this.app=s,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(s){if(xt(s))throw Ie("ref() expected a child path but got a URL, use refFromURL instead.");return new Lo(os(this._delegate,s),this)}refFromURL(s){if(!xt(s))throw Ie("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ot.makeFromUrl(s,this._delegate.host)}catch(a){throw Ie("refFromUrl() expected a valid full URL but got an invalid one.")}return new Lo(os(this._delegate,s),this)}setMaxUploadRetryTime(s){this._delegate.maxUploadRetryTime=s}setMaxOperationRetryTime(s){this._delegate.maxOperationRetryTime=s}useEmulator(s,a,f={}){!function tu(u,s,a,f={}){!function Ju(u,s,a,f={}){u.host=`${s}:${a}`,u._protocol="http";const{mockUserToken:_}=f;_&&(u._overrideAuthToken="string"==typeof _?_:(0,oe.Sg)(_,u.app.options.projectId))}(u,s,a,f)}(this._delegate,s,a,f)}}function xt(u){return/^[A-Za-z]+:\/\//.test(u)}function Ka(u,{instanceIdentifier:s}){const a=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:s});return new An(a,f)}!function Pc(u){const s={TaskState:B,TaskEvent:w,StringFormat:fi,Storage:An,Reference:Lo};u.INTERNAL.registerComponent(new Dn.wA("storage-compat",Ka,"PUBLIC").setServiceProps(s).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.14")}(Qr.Z);var O=M(440),A=M(127);function U(u){const s=function T(u){return new Pi.y(s=>{const a=R=>s.next(R);a(u.snapshot);const D=u.on("state_changed",a);return u.then(R=>{a(R),s.complete()},R=>{a(u.snapshot),(R=>{s.error(R)})(R)}),function(){D()}}).pipe(function Xi(u,s=wi.z){return(0,Gr.e)((a,f)=>{let _=null,D=null,R=null;const Q=()=>{if(_){_.unsubscribe(),_=null;const Se=D;D=null,f.next(Se)}};function ae(){const Se=R+u,It=s.now();if(It<Se)return _=this.schedule(void 0,Se-It),void f.add(_);Q()}a.subscribe((0,ci.x)(f,Se=>{D=Se,R=s.now(),_||(_=s.schedule(ae,u),f.add(_))},()=>{Q(),f.complete()},void 0,()=>{D=_=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>s,percentageChanges:()=>s.pipe((0,Ii.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function W(u){return{getDownloadURL:()=>(0,Vr.of)(void 0).pipe(Rr.fc,(0,Ni.w)(()=>u.getDownloadURL()),Rr.iC),getMetadata:()=>(0,Vr.of)(void 0).pipe(Rr.fc,(0,Ni.w)(()=>u.getMetadata()),Rr.iC),delete:()=>(0,oi.D)(u.delete()),child:s=>W(u.child(s)),updateMetadata:s=>(0,oi.D)(u.updateMetadata(s)),put:(s,a)=>U(u.put(s,a)),putString:(s,a,f)=>U(u.putString(s,a,f)),list:s=>(0,oi.D)(u.list(s)),listAll:()=>(0,oi.D)(u.listAll())}}const fe=new G.OlP("angularfire2.storageBucket"),Pe=new G.OlP("angularfire2.storage.maxUploadRetryTime"),nt=new G.OlP("angularfire2.storage.maxOperationRetryTime"),Bt=new G.OlP("angularfire2.storage.use-emulator");let tn=(()=>{class u{constructor(a,f,_,D,R,Q,ae,Se,It,Tt){const Ut=(0,Ei.on)(a,R,f);this.storage=(0,Ei.cc)(`${Ut.name}.storage.${_}`,"AngularFireStorage",Ut.name,()=>{const En=R.runOutsideAngular(()=>Ut.storage(_||void 0)),Fn=It;return Fn&&En.useEmulator(...Fn),ae&&En.setMaxUploadRetryTime(ae),Se&&En.setMaxOperationRetryTime(Se),En},[ae,Se])}ref(a){return W(this.storage.ref(a))}refFromURL(a){return W(this.storage.refFromURL(a))}upload(a,f,_){return W(this.storage.ref(a)).put(f,_)}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(Ei.Dh),G.LFG(Ei.xv,8),G.LFG(fe,8),G.LFG(G.Lbi),G.LFG(G.R0b),G.LFG(Rr.HU),G.LFG(Pe,8),G.LFG(nt,8),G.LFG(Bt,8),G.LFG(O.nm,8))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Gn=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=G.oAB({type:u}),u.\u0275inj=G.cJS({}),u})(),tr=(()=>{class u{constructor(){A.Z.registerVersion("angularfire",Rr.q4.full,"gcs-compat")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=G.oAB({type:u}),u.\u0275inj=G.cJS({providers:[tn],imports:[Gn]}),u})();var bn=M(6451),ks=M(3099),Fs=M(5026),gl=M(1884),Wo=M(8421),Yr=M(4671),Ya=M(5032),ds=M(7669);M(8775);var Pl=M(1877);const yo="@firebase/database";let So="";function Nl(u){So=u}class nu{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,a){null==a?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,oe.Pz)(a))}get(s){const a=this.domStorage_.getItem(this.prefixedName_(s));return null==a?null:(0,oe.cI)(a)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class ba{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,a){null==a?delete this.cache_[s]:this.cache_[s]=a}get(s){return(0,oe.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const gh=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){const s=window[u];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new nu(s)}}catch(s){}return new ba},Js=gh("localStorage"),Ri=gh("sessionStorage"),qa=new Pl.Yd("@firebase/database"),mh=function(){let u=1;return function(){return u++}}(),xn=function(u){const s=(0,oe.dS)(u),a=new oe.gQ;a.update(s);const f=a.digest();return oe.US.encodeByteArray(f)},oa=function(...u){let s="";for(let a=0;a<u.length;a++){const f=u[a];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?s+=oa.apply(null,f):s+="object"==typeof f?(0,oe.Pz)(f):f,s+=" "}return s};let Ca=null,Za=!0;const Da=function(u,s){(0,oe.hu)(!s||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(qa.logLevel=Pl.in.VERBOSE,Ca=qa.log.bind(qa),s&&Ri.set("logging_enabled",!0)):"function"==typeof u?Ca=u:(Ca=null,Ri.remove("logging_enabled"))},Ui=function(...u){if(!0===Za&&(Za=!1,null===Ca&&!0===Ri.get("logging_enabled")&&Da(!0)),Ca){const s=oa.apply(null,u);Ca(s)}},aa=function(u){return function(...s){Ui(u,...s)}},ts=function(...u){const s="FIREBASE INTERNAL ERROR: "+oa(...u);qa.error(s)},eo=function(...u){const s=`FIREBASE FATAL ERROR: ${oa(...u)}`;throw qa.error(s),new Error(s)},ns=function(...u){const s="FIREBASE WARNING: "+oa(...u);qa.warn(s)},ml=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},fs="[MIN_NAME]",vo="[MAX_NAME]",_o=function(u,s){if(u===s)return 0;if(u===fs||s===vo)return-1;if(s===fs||u===vo)return 1;{const a=Ao(u),f=Ao(s);return null!==a?null!==f?a-f==0?u.length-s.length:a-f:-1:null!==f?1:u<s?-1:1}},la=function(u,s){return u===s?0:u<s?-1:1},ua=function(u,s){if(s&&u in s)return s[u];throw new Error("Missing required key ("+u+") in object: "+(0,oe.Pz)(s))},Xa=function(u){if("object"!=typeof u||null===u)return(0,oe.Pz)(u);const s=[];for(const f in u)s.push(f);s.sort();let a="{";for(let f=0;f<s.length;f++)0!==f&&(a+=","),a+=(0,oe.Pz)(s[f]),a+=":",a+=Xa(u[s[f]]);return a+="}",a},Ta=function(u,s){const a=u.length;if(a<=s)return[u];const f=[];for(let _=0;_<a;_+=s)f.push(u.substring(_,_+s>a?a:_+s));return f};function ps(u,s){for(const a in u)u.hasOwnProperty(a)&&s(a,u[a])}const nc=function(u){(0,oe.hu)(!ml(u),"Invalid JSON number");const f=1023;let _,D,R,Q,ae;0===u?(D=0,R=0,_=1/u==-1/0?1:0):(_=u<0,(u=Math.abs(u))>=Math.pow(2,1-f)?(Q=Math.min(Math.floor(Math.log(u)/Math.LN2),f),D=Q+f,R=Math.round(u*Math.pow(2,52-Q)-Math.pow(2,52))):(D=0,R=Math.round(u/Math.pow(2,-1074))));const Se=[];for(ae=52;ae;ae-=1)Se.push(R%2?1:0),R=Math.floor(R/2);for(ae=11;ae;ae-=1)Se.push(D%2?1:0),D=Math.floor(D/2);Se.push(_?1:0),Se.reverse();const It=Se.join("");let Tt="";for(ae=0;ae<64;ae+=8){let Ut=parseInt(It.substr(ae,8),2).toString(16);1===Ut.length&&(Ut="0"+Ut),Tt+=Ut}return Tt.toLowerCase()},Qa=new RegExp("^-?(0*)\\d{1,10}$"),Nc=-2147483648,Sa=2147483647,Ao=function(u){if(Qa.test(u)){const s=Number(u);if(s>=Nc&&s<=Sa)return s}return null},ca=function(u){try{u()}catch(s){setTimeout(()=>{throw ns("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},Cu=function(u,s){const a=setTimeout(u,s);return"object"==typeof a&&a.unref&&a.unref(),a};class Bs{constructor(s,a){this.appName_=s,this.appCheckProvider=a,this.appCheck=null==a?void 0:a.getImmediate({optional:!0}),this.appCheck||null==a||a.get().then(f=>this.appCheck=f)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((a,f)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(a,f):a(null)},0)})}addTokenChangeListener(s){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(f=>f.addTokenListener(s))}notifyForInvalidToken(){ns(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Du{constructor(s,a,f){this.appName_=s,this.firebaseOptions_=a,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(_=>this.auth_=_)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(a=>a&&"auth/token-not-initialized"===a.code?(Ui("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,f)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(a,f):a(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(a=>a.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(a=>a.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ns(s)}}let ii=(()=>{class u{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const kc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ve="websocket",bt="long_polling";class Mt{constructor(s,a,f,_,D=!1,R="",Q=!1){this.secure=a,this.namespace=f,this.webSocketOnly=_,this.nodeAdmin=D,this.persistenceKey=R,this.includeNamespaceInQueryParams=Q,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Js.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&Js.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Tn(u,s,a){let f;if((0,oe.hu)("string"==typeof s,"typeof type must == string"),(0,oe.hu)("object"==typeof a,"typeof params must == object"),s===Ve)f=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(s!==bt)throw new Error("Unknown connection type: "+s);f=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function dn(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(a.ns=u.namespace);const _=[];return ps(a,(D,R)=>{_.push(D+"="+R)}),f+_.join("&")}class zn{constructor(){this.counters_={}}incrementCounter(s,a=1){(0,oe.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=a}get(){return(0,oe.p$)(this.counters_)}}const pr={},Jr={};function mr(u){const s=u.toString();return pr[s]||(pr[s]=new zn),pr[s]}class to{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,a){this.closeAfterResponse=s,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,a){for(this.pendingResponses[s]=a;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let _=0;_<f.length;++_)f[_]&&ca(()=>{this.onMessage_(f[_])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Bl{constructor(s,a,f,_,D,R,Q){this.connId=s,this.repoInfo=a,this.applicationId=f,this.appCheckToken=_,this.authToken=D,this.transportSessionId=R,this.lastSessionId=Q,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aa(s),this.stats_=mr(a),this.urlFn=ae=>(this.appCheckToken&&(ae.ac=this.appCheckToken),Tn(a,bt,ae))}open(s,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new to(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,oe.Yr)()||"complete"===document.readyState)u();else{let s=!1;const a=function(){document.body?s||(s=!0,u()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Au((...D)=>{const[R,Q,ae,Se,It]=D;if(this.incrementIncomingBytes_(D),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===R)this.id=Q,this.password=ae;else{if("close"!==R)throw new Error("Unrecognized command received: "+R);Q?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Q,()=>{this.onClosed_()})):this.onClosed_()}},(...D)=>{const[R,Q]=D;this.incrementIncomingBytes_(D),this.myPacketOrderer.handleResponse(R,Q)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&kc.test(location.hostname)&&(f.r="f");const _=this.urlFn(f);this.log_("Connecting via long-poll to "+_),this.scriptTagHolder.addTag(_,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bl.forceAllow_=!0}static forceDisallow(){Bl.forceDisallow_=!0}static isAvailable(){return!((0,oe.Yr)()||!Bl.forceAllow_&&(Bl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const a=(0,oe.Pz)(s);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const f=(0,oe.h$)(a),_=Ta(f,1840);for(let D=0;D<_.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,_.length,_[D]),this.curSegmentNum++}addDisconnectPingFrame(s,a){if((0,oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=s,f.pw=a,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const a=(0,oe.Pz)(s).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Au{constructor(s,a,f,_){if(this.onDisconnect=f,this.urlFn=_,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,oe.Yr)())this.commandCB=s,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=mh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=Au.createIFrame_();let D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(D='<script>document.domain="'+document.domain+'";<\/script>');const R="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(R),this.myIFrame.doc.close()}catch(Q){Ui("frame writing exception"),Q.stack&&Ui(Q.stack),Ui(Q)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||Ui("No IE domain setting required")}catch(a){const f=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,a){for(this.myID=s,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let a=this.urlFn(s),f="",_=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const R=this.pendingSegs.shift();f=f+"&seg"+_+"="+R.seg+"&ts"+_+"="+R.ts+"&d"+_+"="+R.d,_++}return a+=f,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(s,a,f){this.pendingSegs.push({seg:s,ts:a,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(s,a){this.outstandingRequests.add(a);const f=()=>{this.outstandingRequests.delete(a),this.newRequest_()},_=setTimeout(f,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(_),f()})}addTag(s,a){(0,oe.Yr)()?this.doNodeLongPoll(s,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=s,f.onload=f.onreadystatechange=function(){const _=f.readyState;(!_||"loaded"===_||"complete"===_)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),a())},f.onerror=()=>{Ui("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch(f){}},Math.floor(1))}}let sc=null;"undefined"!=typeof MozWebSocket?sc=MozWebSocket:"undefined"!=typeof WebSocket&&(sc=WebSocket);let yl=(()=>{class u{constructor(a,f,_,D,R,Q,ae){this.connId=a,this.applicationId=_,this.appCheckToken=D,this.authToken=R,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aa(this.connId),this.stats_=mr(f),this.connURL=u.connectionURL_(f,Q,ae,D,_),this.nodeAdmin=f.nodeAdmin}static connectionURL_(a,f,_,D,R){const Q={v:"5"};return!(0,oe.Yr)()&&"undefined"!=typeof location&&location.hostname&&kc.test(location.hostname)&&(Q.r="f"),f&&(Q.s=f),_&&(Q.ls=_),D&&(Q.ac=D),R&&(Q.p=R),Tn(a,Ve,Q)}open(a,f){this.onDisconnect=f,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Js.set("previous_websocket_failure",!0);try{let _;if((0,oe.Yr)()){const R={headers:{"User-Agent":`Firebase/5/${So}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(R.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(R.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Q=process.env,ae=0===this.connURL.indexOf("wss://")?Q.HTTPS_PROXY||Q.https_proxy:Q.HTTP_PROXY||Q.http_proxy;ae&&(R.proxy={origin:ae})}this.mySock=new sc(this.connURL,[],_)}catch(_){this.log_("Error instantiating WebSocket.");const D=_.message||_.data;return D&&this.log_(D),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=_=>{this.handleIncomingFrame(_)},this.mySock.onerror=_=>{this.log_("WebSocket error.  Closing connection.");const D=_.message||_.data;D&&this.log_(D),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const _=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);_&&_.length>1&&parseFloat(_[1])<4.4&&(a=!0)}return!a&&null!==sc&&!u.forceDisallow_}static previouslyFailed(){return Js.isInMemoryStorage||!0===Js.get("previous_websocket_failure")}markConnectionHealthy(){Js.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const _=(0,oe.cI)(f);this.onMessage(_)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,oe.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const f=Number(a);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const f=a.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const _=this.extractFrameCount_(f);null!==_&&this.appendFrame_(_)}}send(a){this.resetKeepAlive();const f=(0,oe.Pz)(a);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const _=Ta(f,16384);_.length>1&&this.sendString_(String(_.length));for(let D=0;D<_.length;D++)this.sendString_(_[D])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Vc=(()=>{class u{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[Bl,yl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const f=yl&&yl.isAvailable();let _=f&&!yl.previouslyFailed();if(a.webSocketOnly&&(f||ns("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),_=!0),_)this.transports_=[yl];else{const D=this.transports_=[];for(const R of u.ALL_TRANSPORTS)R&&R.isAvailable()&&D.push(R);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Ih{constructor(s,a,f,_,D,R,Q,ae,Se,It){this.id=s,this.repoInfo_=a,this.applicationId_=f,this.appCheckToken_=_,this.authToken_=D,this.onMessage_=R,this.onReady_=Q,this.onDisconnect_=ae,this.onKill_=Se,this.lastSessionId=It,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aa("c:"+this.id+":"),this.transportManager_=new Vc(a),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,f)},Math.floor(0));const _=s.healthyTimeout||0;_>0&&(this.healthyTimeout_=Cu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(_)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return a=>{s===this.conn_?this.onConnectionLost_(a):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return a=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(a):s===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const a=s.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const a=ua("t",s),f=ua("d",s);if("c"===a)this.onSecondaryControl_(f);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const a=ua("t",s),f=ua("d",s);"c"===a?this.onControl_(f):"d"===a&&this.onDataMessage_(f)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const a=ua("t",s);if("d"in s){const f=s.d;if("h"===a)this.onHandshake_(f);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let _=0;_<this.pendingDataMessages.length;++_)this.onDataMessage_(this.pendingDataMessages[_]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(f):"r"===a?this.onReset_(f):"e"===a?ts("Server Error: "+f):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ts("Unknown control packet command: "+a)}}onHandshake_(s){const a=s.ts,f=s.v,_=s.h;this.sessionId=s.s,this.repoInfo_.host=_,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==f&&ns("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,f),Cu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,a){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vl{put(s,a,f,_){}merge(s,a,f,_){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,a,f){}onDisconnectMerge(s,a,f){}onDisconnectCancel(s,a){}reportStats(s){}}class Aa{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,oe.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...a){if(Array.isArray(this.listeners_[s])){const f=[...this.listeners_[s]];for(let _=0;_<f.length;_++)f[_].callback.apply(f[_].context,a)}}on(s,a,f){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:a,context:f});const _=this.getInitialEvent(s);_&&a.apply(f,_)}off(s,a,f){this.validateEventType_(s);const _=this.listeners_[s]||[];for(let D=0;D<_.length;D++)if(_[D].callback===a&&(!f||f===_[D].context))return void _.splice(D,1)}validateEventType_(s){(0,oe.hu)(this.allowedEvents_.find(a=>a===s),"Unknown event: "+s)}}class Dd extends Aa{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dd}getInitialEvent(s){return(0,oe.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class vi{constructor(s,a){if(void 0===a){this.pieces_=s.split("/");let f=0;for(let _=0;_<this.pieces_.length;_++)this.pieces_[_].length>0&&(this.pieces_[f]=this.pieces_[_],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=a}toString(){let s="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(s+="/"+this.pieces_[a]);return s||"/"}}function ui(){return new vi("")}function qr(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function el(u){return u.pieces_.length-u.pieceNum_}function $i(u){let s=u.pieceNum_;return s<u.pieces_.length&&s++,new vi(u.pieces_,s)}function Uc(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function jl(u,s=0){return u.pieces_.slice(u.pieceNum_+s)}function Mu(u){if(u.pieceNum_>=u.pieces_.length)return null;const s=[];for(let a=u.pieceNum_;a<u.pieces_.length-1;a++)s.push(u.pieces_[a]);return new vi(s,0)}function gs(u,s){const a=[];for(let f=u.pieceNum_;f<u.pieces_.length;f++)a.push(u.pieces_[f]);if(s instanceof vi)for(let f=s.pieceNum_;f<s.pieces_.length;f++)a.push(s.pieces_[f]);else{const f=s.split("/");for(let _=0;_<f.length;_++)f[_].length>0&&a.push(f[_])}return new vi(a,0)}function vr(u){return u.pieceNum_>=u.pieces_.length}function wo(u,s){const a=qr(u),f=qr(s);if(null===a)return s;if(a===f)return wo($i(u),$i(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+u+")")}function Yo(u,s){const a=jl(u,0),f=jl(s,0);for(let _=0;_<a.length&&_<f.length;_++){const D=_o(a[_],f[_]);if(0!==D)return D}return a.length===f.length?0:a.length<f.length?-1:1}function tl(u,s){if(el(u)!==el(s))return!1;for(let a=u.pieceNum_,f=s.pieceNum_;a<=u.pieces_.length;a++,f++)if(u.pieces_[a]!==s.pieces_[f])return!1;return!0}function pa(u,s){let a=u.pieceNum_,f=s.pieceNum_;if(el(u)>el(s))return!1;for(;a<u.pieces_.length;){if(u.pieces_[a]!==s.pieces_[f])return!1;++a,++f}return!0}class bs{constructor(s,a){this.errorPrefix_=a,this.parts_=jl(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,oe.ug)(this.parts_[f]);Td(this)}}function Td(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ga(u))}function ga(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class $c extends Aa{constructor(){let s,a;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(a="visibilitychange",s="hidden"):void 0!==document.mozHidden?(a="mozvisibilitychange",s="mozHidden"):void 0!==document.msHidden?(a="msvisibilitychange",s="msHidden"):void 0!==document.webkitHidden&&(a="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const f=!document[s];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new $c}getInitialEvent(s){return(0,oe.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const qs=1e3;let Hl,_l=(()=>{class u extends vl{constructor(a,f,_,D,R,Q,ae,Se){if(super(),this.repoInfo_=a,this.applicationId_=f,this.onDataUpdate_=_,this.onConnectStatus_=D,this.onServerInfoUpdate_=R,this.authTokenProvider_=Q,this.appCheckTokenProvider_=ae,this.authOverride_=Se,this.id=u.nextPersistentConnectionId_++,this.log_=aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Se&&!(0,oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$c.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&Dd.getInstance().on("online",this.onOnline_,this)}sendRequest(a,f,_){const D=++this.requestNumber_,R={r:D,a,b:f};this.log_((0,oe.Pz)(R)),(0,oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(R),_&&(this.requestCBHash_[D]=_)}get(a){this.initConnection_();const f=new oe.BH,_={p:a._path.toString(),q:a._queryObject},D={action:"g",request:_,onComplete:Q=>{const ae=Q.d;"ok"===Q.s?(this.onDataUpdate_(_.p,ae,!1,null),f.resolve(ae)):f.reject(ae)}};this.outstandingGets_.push(D),this.outstandingGetCount_++;const R=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const Q=this.outstandingGets_[R];void 0===Q||D!==Q||(delete this.outstandingGets_[R],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+R+" timed out on connection"),f.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(R),f.promise}listen(a,f,_,D){this.initConnection_();const R=a._queryIdentifier,Q=a._path.toString();this.log_("Listen called for "+Q+" "+R),this.listens.has(Q)||this.listens.set(Q,new Map),(0,oe.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,oe.hu)(!this.listens.get(Q).has(R),"listen() called twice for same path/queryId.");const ae={onComplete:D,hashFn:f,query:a,tag:_};this.listens.get(Q).set(R,ae),this.connected_&&this.sendListen_(ae)}sendGet_(a){const f=this.outstandingGets_[a];this.sendRequest("g",f.request,_=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(_)})}sendListen_(a){const f=a.query,_=f._path.toString(),D=f._queryIdentifier;this.log_("Listen on "+_+" for "+D);const R={p:_};a.tag&&(R.q=f._queryObject,R.t=a.tag),R.h=a.hashFn(),this.sendRequest("q",R,ae=>{const Se=ae.d,It=ae.s;u.warnOnListenWarnings_(Se,f),(this.listens.get(_)&&this.listens.get(_).get(D))===a&&(this.log_("listen response",ae),"ok"!==It&&this.removeListen_(_,D),a.onComplete&&a.onComplete(It,Se))})}static warnOnListenWarnings_(a,f){if(a&&"object"==typeof a&&(0,oe.r3)(a,"w")){const _=(0,oe.DV)(a,"w");if(Array.isArray(_)&&~_.indexOf("no_index")){const D='".indexOn": "'+f._queryParams.getIndex().toString()+'"',R=f._path.toString();ns(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${D} at ${R} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,oe.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,f=(0,oe.w9)(a)?"auth":"gauth",_={cred:a};null===this.authOverride_?_.noauth=!0:"object"==typeof this.authOverride_&&(_.authvar=this.authOverride_),this.sendRequest(f,_,D=>{const R=D.s,Q=D.d||"error";this.authToken_===a&&("ok"===R?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(R,Q))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const f=a.s,_=a.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,_)})}unlisten(a,f){const _=a._path.toString(),D=a._queryIdentifier;this.log_("Unlisten called for "+_+" "+D),(0,oe.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(_,D)&&this.connected_&&this.sendUnlisten_(_,D,a._queryObject,f)}sendUnlisten_(a,f,_,D){this.log_("Unlisten on "+a+" for "+f);const R={p:a};D&&(R.q=_,R.t=D),this.sendRequest("n",R)}onDisconnectPut(a,f,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,f,_):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:f,onComplete:_})}onDisconnectMerge(a,f,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,f,_):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:f,onComplete:_})}onDisconnectCancel(a,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,f):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(a,f,_,D){const R={p:f,d:_};this.log_("onDisconnect "+a,R),this.sendRequest(a,R,Q=>{D&&setTimeout(()=>{D(Q.s,Q.d)},Math.floor(0))})}put(a,f,_,D){this.putInternal("p",a,f,_,D)}merge(a,f,_,D){this.putInternal("m",a,f,_,D)}putInternal(a,f,_,D,R){this.initConnection_();const Q={p:f,d:_};void 0!==R&&(Q.h=R),this.outstandingPuts_.push({action:a,request:Q,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(a){const f=this.outstandingPuts_[a].action,_=this.outstandingPuts_[a].request,D=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(f,_,R=>{this.log_(f+" response",R),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),D&&D(R.s,R.d)})}reportStats(a){if(this.connected_){const f={c:a};this.log_("reportStats",f),this.sendRequest("s",f,_=>{"ok"!==_.s&&this.log_("reportStats","Error sending stats: "+_.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,oe.Pz)(a));const f=a.r,_=this.requestCBHash_[f];_&&(delete this.requestCBHash_[f],_(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,f){this.log_("handleServerMessage",a,f),"d"===a?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===a?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===a?this.onListenRevoked_(f.p,f.q):"ac"===a?this.onAuthRevoked_(f.s,f.d):"apc"===a?this.onAppCheckRevoked_(f.s,f.d):"sd"===a?this.onSecurityDebugPacket_(f):ts("Unrecognized action received from server: "+(0,oe.Pz)(a)+"\nAre you using the latest client?")}onReady_(a,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-a);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,ai.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const f=a.onDataMessage_.bind(a),_=a.onReady_.bind(a),D=a.onRealtimeDisconnect_.bind(a),R=a.id+":"+u.nextConnectionId_++,Q=a.lastSessionId;let ae=!1,Se=null;const It=function(){Se?Se.close():(ae=!0,D())};a.realtime_={close:It,sendRequest:function(En){(0,oe.hu)(Se,"sendRequest call when we're not connected not allowed."),Se.sendRequest(En)}};const Ut=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[En,Fn]=yield Promise.all([a.authTokenProvider_.getToken(Ut),a.appCheckTokenProvider_.getToken(Ut)]);ae?Ui("getToken() completed but was canceled"):(Ui("getToken() completed. Creating connection."),a.authToken_=En&&En.accessToken,a.appCheckToken_=Fn&&Fn.token,Se=new Ih(R,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,f,_,D,xr=>{ns(xr+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},Q))}catch(En){a.log_("Failed to get token: "+En),ae||(a.repoInfo_.nodeAdmin&&ns(En),It())}}})()}interrupt(a){Ui("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){Ui("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const f=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const f=this.outstandingPuts_[a];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,f){let _;_=f?f.map(R=>Xa(R)).join("$"):"default";const D=this.removeListen_(a,_);D&&D.onComplete&&D.onComplete("permission_denied")}removeListen_(a,f){const _=new vi(a).toString();let D;if(this.listens.has(_)){const R=this.listens.get(_);D=R.get(f),R.delete(f),0===R.size&&this.listens.delete(_)}else D=void 0;return D}onAuthRevoked_(a,f){Ui("Auth token revoked: "+a+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,f){Ui("App check token revoked: "+a+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const f of a.values())this.sendListen_(f);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let f="js";(0,oe.Yr)()&&(f=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+f+"."+So.replace(/\./g,"-")]=1,(0,oe.uI)()?a["framework.cordova"]=1:(0,oe.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=Dd.getInstance().currentlyOnline();return(0,oe.xb)(this.interruptReasons_)&&a}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Lr{constructor(s,a){this.name=s,this.node=a}static Wrap(s,a){return new Lr(s,a)}}class ma{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,a){const f=new Lr(fs,s),_=new Lr(fs,a);return 0!==this.compare(f,_)}minPost(){return Lr.MIN}}class Hc extends ma{static get __EMPTY_NODE(){return Hl}static set __EMPTY_NODE(s){Hl=s}compare(s,a){return _o(s.name,a.name)}isDefinedOn(s){throw(0,oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,a){return!1}minPost(){return Lr.MIN}maxPost(){return new Lr(vo,Hl)}makePost(s,a){return(0,oe.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new Lr(s,Hl)}toString(){return".key"}}const nl=new Hc;class Zi{constructor(s,a,f,_,D=null){this.isReverse_=_,this.resultGenerator_=D,this.nodeStack_=[];let R=1;for(;!s.isEmpty();)if(s=s,R=a?f(s.key,a):1,_&&(R*=-1),R<0)s=this.isReverse_?s.left:s.right;else{if(0===R){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,s=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Sh,rl=(()=>{class u{constructor(a,f,_,D,R){this.key=a,this.value=f,this.color=null!=_?_:u.RED,this.left=null!=D?D:Io.EMPTY_NODE,this.right=null!=R?R:Io.EMPTY_NODE}copy(a,f,_,D,R){return new u(null!=a?a:this.key,null!=f?f:this.value,null!=_?_:this.color,null!=D?D:this.left,null!=R?R:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,f,_){let D=this;const R=_(a,D.key);return D=R<0?D.copy(null,null,null,D.left.insert(a,f,_),null):0===R?D.copy(null,f,null,null,null):D.copy(null,null,null,null,D.right.insert(a,f,_)),D.fixUp_()}removeMin_(){if(this.left.isEmpty())return Io.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,f){let _,D;if(_=this,f(a,_.key)<0)!_.left.isEmpty()&&!_.left.isRed_()&&!_.left.left.isRed_()&&(_=_.moveRedLeft_()),_=_.copy(null,null,null,_.left.remove(a,f),null);else{if(_.left.isRed_()&&(_=_.rotateRight_()),!_.right.isEmpty()&&!_.right.isRed_()&&!_.right.left.isRed_()&&(_=_.moveRedRight_()),0===f(a,_.key)){if(_.right.isEmpty())return Io.EMPTY_NODE;D=_.right.min_(),_=_.copy(D.key,D.value,null,null,_.right.removeMin_())}_=_.copy(null,null,null,null,_.right.remove(a,f))}return _.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,f)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Io{constructor(s,a=Io.EMPTY_NODE){this.comparator_=s,this.root_=a}insert(s,a){return new Io(this.comparator_,this.root_.insert(s,a,this.comparator_).copy(null,null,rl.BLACK,null,null))}remove(s){return new Io(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,rl.BLACK,null,null))}get(s){let a,f=this.root_;for(;!f.isEmpty();){if(a=this.comparator_(s,f.key),0===a)return f.value;a<0?f=f.left:a>0&&(f=f.right)}return null}getPredecessorKey(s){let a,f=this.root_,_=null;for(;!f.isEmpty();){if(a=this.comparator_(s,f.key),0===a){if(f.left.isEmpty())return _?_.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}a<0?f=f.left:a>0&&(_=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new Zi(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,a){return new Zi(this.root_,s,this.comparator_,!1,a)}getReverseIteratorFrom(s,a){return new Zi(this.root_,s,this.comparator_,!0,a)}getReverseIterator(s){return new Zi(this.root_,null,this.comparator_,!0,s)}}function Dh(u,s){return _o(u.name,s.name)}function Th(u,s){return _o(u,s)}Io.EMPTY_NODE=new class Cf{copy(s,a,f,_,D){return this}insert(s,a,f){return new rl(s,a,null)}remove(s,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ah=function(u){return"number"==typeof u?"number:"+nc(u):"string:"+u},uc=function(u){if(u.isLeafNode()){const s=u.val();(0,oe.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,oe.r3)(s,".sv"),"Priority must be a string or number.")}else(0,oe.hu)(u===Sh||u.isEmpty(),"priority of unexpected type.");(0,oe.hu)(u===Sh||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let uo,Ru,Zs,iu=(()=>{class u{constructor(a,f=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=f,this.lazyHash_=null,(0,oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),uc(this.priorityNode_)}static set __childrenNodeConstructor(a){uo=a}static get __childrenNodeConstructor(){return uo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new u(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return vr(a)?this:".priority"===qr(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,f){return null}updateImmediateChild(a,f){return".priority"===a?this.updatePriority(f):f.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,f).updatePriority(this.priorityNode_)}updateChild(a,f){const _=qr(a);return null===_?f:f.isEmpty()&&".priority"!==_?this:((0,oe.hu)(".priority"!==_||1===el(a),".priority must be the last token in a path"),this.updateImmediateChild(_,u.__childrenNodeConstructor.EMPTY_NODE.updateChild($i(a),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,f){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+Ah(this.priorityNode_.val())+":");const f=typeof this.value_;a+=f+":",a+="number"===f?nc(this.value_):this.value_,this.lazyHash_=xn(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,oe.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const f=typeof a.value_,_=typeof this.value_,D=u.VALUE_TYPE_ORDER.indexOf(f),R=u.VALUE_TYPE_ORDER.indexOf(_);return(0,oe.hu)(D>=0,"Unknown leaf type: "+f),(0,oe.hu)(R>=0,"Unknown leaf type: "+_),D===R?"object"===_?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:R-D}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const f=a;return this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const br=new class xd extends ma{compare(s,a){const f=s.node.getPriority(),_=a.node.getPriority(),D=f.compareTo(_);return 0===D?_o(s.name,a.name):D}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,a){return!s.getPriority().equals(a.getPriority())}minPost(){return Lr.MIN}maxPost(){return new Lr(vo,new iu("[PRIORITY-POST]",Zs))}makePost(s,a){const f=Ru(s);return new Lr(a,new iu("[PRIORITY-POST]",f))}toString(){return".priority"}},su=Math.log(2);class zc{constructor(s){this.count=parseInt(Math.log(s+1)/su,10),this.current_=this.count-1;const _=(D=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&_}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const Wc=function(u,s,a,f){u.sort(s);const _=function(ae,Se){const It=Se-ae;let Tt,Ut;if(0===It)return null;if(1===It)return Tt=u[ae],Ut=a?a(Tt):Tt,new rl(Ut,Tt.node,rl.BLACK,null,null);{const En=parseInt(It/2,10)+ae,Fn=_(ae,En),xr=_(En+1,Se);return Tt=u[En],Ut=a?a(Tt):Tt,new rl(Ut,Tt.node,rl.BLACK,Fn,xr)}},Q=function(ae){let Se=null,It=null,Tt=u.length;const Ut=function(Fn,xr){const kr=Tt-Fn,Ms=Tt;Tt-=Fn;const Rs=_(kr+1,Ms),ji=u[kr],fo=a?a(ji):ji;En(new rl(fo,ji.node,xr,null,Rs))},En=function(Fn){Se?(Se.left=Fn,Se=Fn):(It=Fn,Se=Fn)};for(let Fn=0;Fn<ae.count;++Fn){const xr=ae.nextBitIsOne(),kr=Math.pow(2,ae.count-(Fn+1));xr?Ut(kr,rl.BLACK):(Ut(kr,rl.BLACK),Ut(kr,rl.RED))}return It}(new zc(u.length));return new Io(f||s,Q)};let Kc;const Ou={};class as{constructor(s,a){this.indexes_=s,this.indexSet_=a}static get Default(){return(0,oe.hu)(Ou&&br,"ChildrenNode.ts has not been loaded"),Kc=Kc||new as({".priority":Ou},{".priority":br}),Kc}get(s){const a=(0,oe.DV)(this.indexes_,s);if(!a)throw new Error("No index defined for "+s);return a instanceof Io?a:null}hasIndex(s){return(0,oe.r3)(this.indexSet_,s.toString())}addIndex(s,a){(0,oe.hu)(s!==nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let _=!1;const D=a.getIterator(Lr.Wrap);let Q,R=D.getNext();for(;R;)_=_||s.isDefinedOn(R.node),f.push(R),R=D.getNext();Q=_?Wc(f,s.getCompare()):Ou;const ae=s.toString(),Se=Object.assign({},this.indexSet_);Se[ae]=s;const It=Object.assign({},this.indexes_);return It[ae]=Q,new as(It,Se)}addToIndexes(s,a){const f=(0,oe.UI)(this.indexes_,(_,D)=>{const R=(0,oe.DV)(this.indexSet_,D);if((0,oe.hu)(R,"Missing index implementation for "+D),_===Ou){if(R.isDefinedOn(s.node)){const Q=[],ae=a.getIterator(Lr.Wrap);let Se=ae.getNext();for(;Se;)Se.name!==s.name&&Q.push(Se),Se=ae.getNext();return Q.push(s),Wc(Q,R.getCompare())}return Ou}{const Q=a.get(s.name);let ae=_;return Q&&(ae=ae.remove(new Lr(s.name,Q))),ae.insert(s,s.node)}});return new as(f,this.indexSet_)}removeFromIndexes(s,a){const f=(0,oe.UI)(this.indexes_,_=>{if(_===Ou)return _;{const D=a.get(s.name);return D?_.remove(new Lr(s.name,D)):_}});return new as(f,this.indexSet_)}}let Ma,Nr=(()=>{class u{constructor(a,f,_){this.children_=a,this.priorityNode_=f,this.indexMap_=_,this.lazyHash_=null,this.priorityNode_&&uc(this.priorityNode_),this.children_.isEmpty()&&(0,oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ma||(Ma=new u(new Io(Th),null,as.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ma}updatePriority(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const f=this.children_.get(a);return null===f?Ma:f}}getChild(a){const f=qr(a);return null===f?this:this.getImmediateChild(f).getChild($i(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,f){if((0,oe.hu)(f,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(f);{const _=new Lr(a,f);let D,R;f.isEmpty()?(D=this.children_.remove(a),R=this.indexMap_.removeFromIndexes(_,this.children_)):(D=this.children_.insert(a,f),R=this.indexMap_.addToIndexes(_,this.children_));const Q=D.isEmpty()?Ma:this.priorityNode_;return new u(D,Q,R)}}updateChild(a,f){const _=qr(a);if(null===_)return f;{(0,oe.hu)(".priority"!==qr(a)||1===el(a),".priority must be the last token in a path");const D=this.getImmediateChild(_).updateChild($i(a),f);return this.updateImmediateChild(_,D)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const f={};let _=0,D=0,R=!0;if(this.forEachChild(br,(Q,ae)=>{f[Q]=ae.val(a),_++,R&&u.INTEGER_REGEXP_.test(Q)?D=Math.max(D,Number(Q)):R=!1}),!a&&R&&D<2*_){const Q=[];for(const ae in f)Q[ae]=f[ae];return Q}return a&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+Ah(this.getPriority().val())+":"),this.forEachChild(br,(f,_)=>{const D=_.hash();""!==D&&(a+=":"+f+":"+D)}),this.lazyHash_=""===a?"":xn(a)}return this.lazyHash_}getPredecessorChildName(a,f,_){const D=this.resolveIndex_(_);if(D){const R=D.getPredecessorKey(new Lr(a,f));return R?R.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const f=this.resolveIndex_(a);if(f){const _=f.minKey();return _&&_.name}return this.children_.minKey()}getFirstChild(a){const f=this.getFirstChildName(a);return f?new Lr(f,this.children_.get(f)):null}getLastChildName(a){const f=this.resolveIndex_(a);if(f){const _=f.maxKey();return _&&_.name}return this.children_.maxKey()}getLastChild(a){const f=this.getLastChildName(a);return f?new Lr(f,this.children_.get(f)):null}forEachChild(a,f){const _=this.resolveIndex_(a);return _?_.inorderTraversal(D=>f(D.name,D.node)):this.children_.inorderTraversal(f)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,f){const _=this.resolveIndex_(f);if(_)return _.getIteratorFrom(a,D=>D);{const D=this.children_.getIteratorFrom(a.name,Lr.Wrap);let R=D.peek();for(;null!=R&&f.compare(R,a)<0;)D.getNext(),R=D.peek();return D}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,f){const _=this.resolveIndex_(f);if(_)return _.getReverseIteratorFrom(a,D=>D);{const D=this.children_.getReverseIteratorFrom(a.name,Lr.Wrap);let R=D.peek();for(;null!=R&&f.compare(R,a)>0;)D.getNext(),R=D.peek();return D}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===ou?-1:0}withIndex(a){if(a===nl||this.indexMap_.hasIndex(a))return this;{const f=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,f)}}isIndexed(a){return a===nl||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const f=a;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const _=this.getIterator(br),D=f.getIterator(br);let R=_.getNext(),Q=D.getNext();for(;R&&Q;){if(R.name!==Q.name||!R.node.equals(Q.node))return!1;R=_.getNext(),Q=D.getNext()}return null===R&&null===Q}return!1}return!1}}resolveIndex_(a){return a===nl?null:this.indexMap_.get(a.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const ou=new class xh extends Nr{constructor(){super(new Io(Th),Nr.EMPTY_NODE,as.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return Nr.EMPTY_NODE}isEmpty(){return!1}};function ls(u,s=null){if(null===u)return Nr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(s=u[".priority"]),(0,oe.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new iu(u,ls(s));if(u instanceof Array){let a=Nr.EMPTY_NODE;return ps(u,(f,_)=>{if((0,oe.r3)(u,f)&&"."!==f.substring(0,1)){const D=ls(_);(D.isLeafNode()||!D.isEmpty())&&(a=a.updateImmediateChild(f,D))}}),a.updatePriority(ls(s))}{const a=[];let f=!1;if(ps(u,(R,Q)=>{if("."!==R.substring(0,1)){const ae=ls(Q);ae.isEmpty()||(f=f||!ae.getPriority().isEmpty(),a.push(new Lr(R,ae)))}}),0===a.length)return Nr.EMPTY_NODE;const D=Wc(a,Dh,R=>R.name,Th);if(f){const R=Wc(a,br.getCompare());return new Nr(D,ls(s),new as({".priority":R},{".priority":br}))}return new Nr(D,ls(s),as.Default)}}Object.defineProperties(Lr,{MIN:{value:new Lr(fs,Nr.EMPTY_NODE)},MAX:{value:new Lr(vo,ou)}}),Hc.__EMPTY_NODE=Nr.EMPTY_NODE,iu.__childrenNodeConstructor=Nr,function Gc(u){Sh=u}(ou),function Ad(u){Zs=u}(ou),function xa(u){Ru=u}(ls);class Yc extends ma{constructor(s){super(),this.indexPath_=s,(0,oe.hu)(!vr(s)&&".priority"!==qr(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,a){const f=this.extractChild(s.node),_=this.extractChild(a.node),D=f.compareTo(_);return 0===D?_o(s.name,a.name):D}makePost(s,a){const f=ls(s),_=Nr.EMPTY_NODE.updateChild(this.indexPath_,f);return new Lr(a,_)}maxPost(){const s=Nr.EMPTY_NODE.updateChild(this.indexPath_,ou);return new Lr(vo,s)}toString(){return jl(this.indexPath_,0).join("/")}}const Ra=new class Dp extends ma{compare(s,a){const f=s.node.compareTo(a.node);return 0===f?_o(s.name,a.name):f}isDefinedOn(s){return!0}indexedValueChanged(s,a){return!s.equals(a)}minPost(){return Lr.MIN}maxPost(){return Lr.MAX}makePost(s,a){const f=ls(s);return new Lr(a,f)}toString(){return".value"}},Oa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tf=function(){let u=0;const s=[];return function(a){const f=a===u;let _;u=a;const D=new Array(8);for(_=7;_>=0;_--)D[_]=Oa.charAt(a%64),a=Math.floor(a/64);(0,oe.hu)(0===a,"Cannot push at time == 0");let R=D.join("");if(f){for(_=11;_>=0&&63===s[_];_--)s[_]=0;s[_]++}else for(_=0;_<12;_++)s[_]=Math.floor(64*Math.random());for(_=0;_<12;_++)R+=Oa.charAt(s[_]);return(0,oe.hu)(20===R.length,"nextPushId: Length should be 20."),R}}(),Mo=function(u){if(u===""+Sa)return"-";const s=Ao(u);if(null!=s)return""+(s+1);const a=new Array(u.length);for(let R=0;R<a.length;R++)a[R]=u.charAt(R);if(a.length<786)return a.push("-"),a.join("");let f=a.length-1;for(;f>=0&&"z"===a[f];)f--;if(-1===f)return vo;const D=Oa.charAt(Oa.indexOf(a[f])+1);return a[f]=D,a.slice(0,f+1).join("")},co=function(u){if(u===""+Nc)return fs;const s=Ao(u);if(null!=s)return""+(s-1);const a=new Array(u.length);for(let f=0;f<a.length;f++)a[f]=u.charAt(f);return"-"===a[a.length-1]?1===a.length?""+Sa:(delete a[a.length-1],a.join("")):(a[a.length-1]=Oa.charAt(Oa.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function Rd(u){return{type:"value",snapshotNode:u}}function lu(u,s){return{type:"child_added",snapshotNode:s,childName:u}}function xs(u,s){return{type:"child_removed",snapshotNode:s,childName:u}}function El(u,s,a){return{type:"child_changed",snapshotNode:s,childName:u,oldSnap:a}}class Xc{constructor(s){this.index_=s}updateChild(s,a,f,_,D,R){(0,oe.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Q=s.getImmediateChild(a);return Q.getChild(_).equals(f.getChild(_))&&Q.isEmpty()===f.isEmpty()||(null!=R&&(f.isEmpty()?s.hasChild(a)?R.trackChildChange(xs(a,Q)):(0,oe.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Q.isEmpty()?R.trackChildChange(lu(a,f)):R.trackChildChange(El(a,f,Q))),s.isLeafNode()&&f.isEmpty())?s:s.updateImmediateChild(a,f).withIndex(this.index_)}updateFullNode(s,a,f){return null!=f&&(s.isLeafNode()||s.forEachChild(br,(_,D)=>{a.hasChild(_)||f.trackChildChange(xs(_,D))}),a.isLeafNode()||a.forEachChild(br,(_,D)=>{if(s.hasChild(_)){const R=s.getImmediateChild(_);R.equals(D)||f.trackChildChange(El(_,D,R))}else f.trackChildChange(lu(_,D))})),a.withIndex(this.index_)}updatePriority(s,a){return s.isEmpty()?Nr.EMPTY_NODE:s.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qc{constructor(s){this.indexedFilter_=new Xc(s.getIndex()),this.index_=s.getIndex(),this.startPost_=Qc.getStartPost_(s),this.endPost_=Qc.getEndPost_(s)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){return this.index_.compare(this.getStartPost(),s)<=0&&this.index_.compare(s,this.getEndPost())<=0}updateChild(s,a,f,_,D,R){return this.matches(new Lr(a,f))||(f=Nr.EMPTY_NODE),this.indexedFilter_.updateChild(s,a,f,_,D,R)}updateFullNode(s,a,f){a.isLeafNode()&&(a=Nr.EMPTY_NODE);let _=a.withIndex(this.index_);_=_.updatePriority(Nr.EMPTY_NODE);const D=this;return a.forEachChild(br,(R,Q)=>{D.matches(new Lr(R,Q))||(_=_.updateImmediateChild(R,Nr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,_,f)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const a=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),a)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const a=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),a)}return s.getIndex().maxPost()}}class Mh{constructor(s){this.rangedFilter_=new Qc(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft()}updateChild(s,a,f,_,D,R){return this.rangedFilter_.matches(new Lr(a,f))||(f=Nr.EMPTY_NODE),s.getImmediateChild(a).equals(f)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,a,f,_,D,R):this.fullLimitUpdateChild_(s,a,f,D,R)}updateFullNode(s,a,f){let _;if(a.isLeafNode()||a.isEmpty())_=Nr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let D;_=Nr.EMPTY_NODE.withIndex(this.index_),D=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let R=0;for(;D.hasNext()&&R<this.limit_;){const Q=D.getNext();let ae;if(ae=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Q)<=0:this.index_.compare(Q,this.rangedFilter_.getEndPost())<=0,!ae)break;_=_.updateImmediateChild(Q.name,Q.node),R++}}else{let D,R,Q,ae;if(_=a.withIndex(this.index_),_=_.updatePriority(Nr.EMPTY_NODE),this.reverse_){ae=_.getReverseIterator(this.index_),D=this.rangedFilter_.getEndPost(),R=this.rangedFilter_.getStartPost();const Tt=this.index_.getCompare();Q=(Ut,En)=>Tt(En,Ut)}else ae=_.getIterator(this.index_),D=this.rangedFilter_.getStartPost(),R=this.rangedFilter_.getEndPost(),Q=this.index_.getCompare();let Se=0,It=!1;for(;ae.hasNext();){const Tt=ae.getNext();!It&&Q(D,Tt)<=0&&(It=!0),It&&Se<this.limit_&&Q(Tt,R)<=0?Se++:_=_.updateImmediateChild(Tt.name,Nr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,_,f)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,a,f,_,D){let R;if(this.reverse_){const Tt=this.index_.getCompare();R=(Ut,En)=>Tt(En,Ut)}else R=this.index_.getCompare();const Q=s;(0,oe.hu)(Q.numChildren()===this.limit_,"");const ae=new Lr(a,f),Se=this.reverse_?Q.getFirstChild(this.index_):Q.getLastChild(this.index_),It=this.rangedFilter_.matches(ae);if(Q.hasChild(a)){const Tt=Q.getImmediateChild(a);let Ut=_.getChildAfterChild(this.index_,Se,this.reverse_);for(;null!=Ut&&(Ut.name===a||Q.hasChild(Ut.name));)Ut=_.getChildAfterChild(this.index_,Ut,this.reverse_);const En=null==Ut?1:R(Ut,ae);if(It&&!f.isEmpty()&&En>=0)return null!=D&&D.trackChildChange(El(a,f,Tt)),Q.updateImmediateChild(a,f);{null!=D&&D.trackChildChange(xs(a,Tt));const xr=Q.updateImmediateChild(a,Nr.EMPTY_NODE);return null!=Ut&&this.rangedFilter_.matches(Ut)?(null!=D&&D.trackChildChange(lu(Ut.name,Ut.node)),xr.updateImmediateChild(Ut.name,Ut.node)):xr}}return f.isEmpty()?s:It&&R(Se,ae)>=0?(null!=D&&(D.trackChildChange(xs(Se.name,Se.node)),D.trackChildChange(lu(a,f))),Q.updateImmediateChild(a,f).updateImmediateChild(Se.name,Nr.EMPTY_NODE)):s}}class Od{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=br}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fs}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===br}copy(){const s=new Od;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function I(u,s,a){const f=u.copy();return f.startSet_=!0,void 0===s&&(s=null),f.indexStartValue_=s,null!=a?(f.startNameSet_=!0,f.indexStartName_=a):(f.startNameSet_=!1,f.indexStartName_=""),f}function y(u,s,a){const f=u.copy();return f.endSet_=!0,void 0===s&&(s=null),f.indexEndValue_=s,void 0!==a?(f.endNameSet_=!0,f.indexEndName_=a):(f.endNameSet_=!1,f.indexEndName_=""),f}function K(u,s){const a=u.copy();return a.index_=s,a}function me(u){const s={};if(u.isDefault())return s;let a;return u.index_===br?a="$priority":u.index_===Ra?a="$value":u.index_===nl?a="$key":((0,oe.hu)(u.index_ instanceof Yc,"Unrecognized index type!"),a=u.index_.toString()),s.orderBy=(0,oe.Pz)(a),u.startSet_&&(s.startAt=(0,oe.Pz)(u.indexStartValue_),u.startNameSet_&&(s.startAt+=","+(0,oe.Pz)(u.indexStartName_))),u.endSet_&&(s.endAt=(0,oe.Pz)(u.indexEndValue_),u.endNameSet_&&(s.endAt+=","+(0,oe.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?s.limitToFirst=u.limit_:s.limitToLast=u.limit_),s}function gt(u){const s={};if(u.startSet_&&(s.sp=u.indexStartValue_,u.startNameSet_&&(s.sn=u.indexStartName_)),u.endSet_&&(s.ep=u.indexEndValue_,u.endNameSet_&&(s.en=u.indexEndName_)),u.limitSet_){s.l=u.limit_;let a=u.viewFrom_;""===a&&(a=u.isViewFromLeft()?"l":"r"),s.vf=a}return u.index_!==br&&(s.i=u.index_.toString()),s}class Ht extends vl{constructor(s,a,f,_){super(),this.repoInfo_=s,this.onDataUpdate_=a,this.authTokenProvider_=f,this.appCheckTokenProvider_=_,this.log_=aa("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,a){return void 0!==a?"tag$"+a:((0,oe.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,a,f,_){const D=s._path.toString();this.log_("Listen called for "+D+" "+s._queryIdentifier);const R=Ht.getListenId_(s,f),Q={};this.listens_[R]=Q;const ae=me(s._queryParams);this.restRequest_(D+".json",ae,(Se,It)=>{let Tt=It;if(404===Se&&(Tt=null,Se=null),null===Se&&this.onDataUpdate_(D,Tt,!1,f),(0,oe.DV)(this.listens_,R)===Q){let Ut;Ut=Se?401===Se?"permission_denied":"rest_error:"+Se:"ok",_(Ut,null)}})}unlisten(s,a){const f=Ht.getListenId_(s,a);delete this.listens_[f]}get(s){const a=me(s._queryParams),f=s._path.toString(),_=new oe.BH;return this.restRequest_(f+".json",a,(D,R)=>{let Q=R;404===D&&(Q=null,D=null),null===D?(this.onDataUpdate_(f,Q,!1,null),_.resolve(Q)):_.reject(new Error(Q))}),_.promise}refreshAuthToken(s){}restRequest_(s,a={},f){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([_,D])=>{_&&_.accessToken&&(a.auth=_.accessToken),D&&D.token&&(a.ac=D.token);const R=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,oe.xO)(a);this.log_("Sending REST request for "+R);const Q=new XMLHttpRequest;Q.onreadystatechange=()=>{if(f&&4===Q.readyState){this.log_("REST Response for "+R+" received. status:",Q.status,"response:",Q.responseText);let ae=null;if(Q.status>=200&&Q.status<300){try{ae=(0,oe.cI)(Q.responseText)}catch(Se){ns("Failed to parse JSON response for "+R+": "+Q.responseText)}f(null,ae)}else 401!==Q.status&&404!==Q.status&&ns("Got unsuccessful REST response for "+R+" Status: "+Q.status),f(Q.status);f=null}},Q.open("GET",R,!0),Q.send()})}}class wn{constructor(){this.rootNode_=Nr.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,a){this.rootNode_=this.rootNode_.updateChild(s,a)}}function Rn(){return{value:null,children:new Map}}function nr(u,s,a){if(vr(s))u.value=a,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(s,a);else{const f=qr(s);u.children.has(f)||u.children.set(f,Rn()),nr(u.children.get(f),s=$i(s),a)}}function Qn(u,s){if(vr(s))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const a=u.value;return u.value=null,a.forEachChild(br,(f,_)=>{nr(u,new vi(f),_)}),Qn(u,s)}}if(u.children.size>0){const a=qr(s);return s=$i(s),u.children.has(a)&&Qn(u.children.get(a),s)&&u.children.delete(a),0===u.children.size}return!0}function Cs(u,s,a){null!==u.value?a(s,u.value):function qo(u,s){u.children.forEach((a,f)=>{s(f,a)})}(u,(f,_)=>{Cs(_,new vi(s.toString()+"/"+f),a)})}class dc{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),a=Object.assign({},s);return this.last_&&ps(this.last_,(f,_)=>{a[f]=a[f]-_}),this.last_=s,a}}class Rh{constructor(s,a){this.server_=a,this.statsToReport_={},this.statsListener_=new dc(s);const f=1e4+2e4*Math.random();Cu(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const s=this.statsListener_.get(),a={};let f=!1;ps(s,(_,D)=>{D>0&&(0,oe.r3)(this.statsToReport_,_)&&(a[_]=D,f=!0)}),f&&this.server_.reportStats(a),Cu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ho=(()=>{return(u=ho||(ho={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ho;var u})();function sl(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class hc{constructor(s,a,f){this.path=s,this.affectedTree=a,this.revert=f,this.type=ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(vr(this.path)){if(null!=this.affectedTree.value)return(0,oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new vi(s));return new hc(ui(),a,this.revert)}}return(0,oe.hu)(qr(this.path)===s,"operationForChild called for unrelated child."),new hc($i(this.path),this.affectedTree,this.revert)}}class Pu{constructor(s,a){this.source=s,this.path=a,this.type=ho.LISTEN_COMPLETE}operationForChild(s){return vr(this.path)?new Pu(this.source,ui()):new Pu(this.source,$i(this.path))}}class Il{constructor(s,a,f){this.source=s,this.path=a,this.snap=f,this.type=ho.OVERWRITE}operationForChild(s){return vr(this.path)?new Il(this.source,ui(),this.snap.getImmediateChild(s)):new Il(this.source,$i(this.path),this.snap)}}class Ds{constructor(s,a,f){this.source=s,this.path=a,this.children=f,this.type=ho.MERGE}operationForChild(s){if(vr(this.path)){const a=this.children.subtree(new vi(s));return a.isEmpty()?null:a.value?new Il(this.source,ui(),a.value):new Ds(this.source,ui(),a)}return(0,oe.hu)(qr(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new Ds(this.source,$i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gl{constructor(s,a,f){this.node_=s,this.fullyInitialized_=a,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(vr(s))return this.isFullyInitialized()&&!this.filtered_;const a=qr(s);return this.isCompleteForChild(a)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class Oh{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function Na(u,s,a,f,_,D){const R=f.filter(Q=>Q.type===a);R.sort((Q,ae)=>function vm(u,s,a){if(null==s.childName||null==a.childName)throw(0,oe.g5)("Should only compare child_ events.");const f=new Lr(s.childName,s.snapshotNode),_=new Lr(a.childName,a.snapshotNode);return u.index_.compare(f,_)}(u,Q,ae)),R.forEach(Q=>{const ae=function Tg(u,s,a){return"value"===s.type||"child_removed"===s.type||(s.prevName=a.getPredecessorChildName(s.childName,s.snapshotNode,u.index_)),s}(u,Q,D);_.forEach(Se=>{Se.respondsTo(Q.type)&&s.push(Se.createEvent(ae,u.query_))})})}function Nd(u,s){return{eventCache:u,serverCache:s}}function Nu(u,s,a,f){return Nd(new Gl(s,a,f),u.serverCache)}function ka(u,s,a,f){return Nd(u.eventCache,new Gl(s,a,f))}function zl(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function ol(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Jc;class rs{constructor(s,a=(()=>(Jc||(Jc=new Io(la)),Jc))()){this.value=s,this.children=a}static fromObject(s){let a=new rs(null);return ps(s,(f,_)=>{a=a.set(new vi(f),_)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,a){if(null!=this.value&&a(this.value))return{path:ui(),value:this.value};if(vr(s))return null;{const f=qr(s),_=this.children.get(f);if(null!==_){const D=_.findRootMostMatchingPathAndValue($i(s),a);return null!=D?{path:gs(new vi(f),D.path),value:D.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(vr(s))return this;{const a=qr(s),f=this.children.get(a);return null!==f?f.subtree($i(s)):new rs(null)}}set(s,a){if(vr(s))return new rs(a,this.children);{const f=qr(s),D=(this.children.get(f)||new rs(null)).set($i(s),a),R=this.children.insert(f,D);return new rs(this.value,R)}}remove(s){if(vr(s))return this.children.isEmpty()?new rs(null):new rs(null,this.children);{const a=qr(s),f=this.children.get(a);if(f){const _=f.remove($i(s));let D;return D=_.isEmpty()?this.children.remove(a):this.children.insert(a,_),null===this.value&&D.isEmpty()?new rs(null):new rs(this.value,D)}return this}}get(s){if(vr(s))return this.value;{const a=qr(s),f=this.children.get(a);return f?f.get($i(s)):null}}setTree(s,a){if(vr(s))return a;{const f=qr(s),D=(this.children.get(f)||new rs(null)).setTree($i(s),a);let R;return R=D.isEmpty()?this.children.remove(f):this.children.insert(f,D),new rs(this.value,R)}}fold(s){return this.fold_(ui(),s)}fold_(s,a){const f={};return this.children.inorderTraversal((_,D)=>{f[_]=D.fold_(gs(s,_),a)}),a(s,this.value,f)}findOnPath(s,a){return this.findOnPath_(s,ui(),a)}findOnPath_(s,a,f){const _=!!this.value&&f(a,this.value);if(_)return _;if(vr(s))return null;{const D=qr(s),R=this.children.get(D);return R?R.findOnPath_($i(s),gs(a,D),f):null}}foreachOnPath(s,a){return this.foreachOnPath_(s,ui(),a)}foreachOnPath_(s,a,f){if(vr(s))return this;{this.value&&f(a,this.value);const _=qr(s),D=this.children.get(_);return D?D.foreachOnPath_($i(s),gs(a,_),f):new rs(null)}}foreach(s){this.foreach_(ui(),s)}foreach_(s,a){this.children.inorderTraversal((f,_)=>{_.foreach_(gs(s,f),a)}),this.value&&a(s,this.value)}foreachChild(s){this.children.inorderTraversal((a,f)=>{f.value&&s(a,f.value)})}}class Fa{constructor(s){this.writeTree_=s}static empty(){return new Fa(new rs(null))}}function ed(u,s,a){if(vr(s))return new Fa(new rs(a));{const f=u.writeTree_.findRootMostValueAndPath(s);if(null!=f){const _=f.path;let D=f.value;const R=wo(_,s);return D=D.updateChild(R,a),new Fa(u.writeTree_.set(_,D))}{const _=new rs(a),D=u.writeTree_.setTree(s,_);return new Fa(D)}}}function Af(u,s,a){let f=u;return ps(a,(_,D)=>{f=ed(f,gs(s,_),D)}),f}function Nh(u,s){if(vr(s))return Fa.empty();{const a=u.writeTree_.setTree(s,new rs(null));return new Fa(a)}}function kh(u,s){return null!=bl(u,s)}function bl(u,s){const a=u.writeTree_.findRootMostValueAndPath(s);return null!=a?u.writeTree_.get(a.path).getChild(wo(a.path,s)):null}function ku(u){const s=[],a=u.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(br,(f,_)=>{s.push(new Lr(f,_))}):u.writeTree_.children.inorderTraversal((f,_)=>{null!=_.value&&s.push(new Lr(f,_.value))}),s}function ya(u,s){if(vr(s))return u;{const a=bl(u,s);return new Fa(null!=a?new rs(a):u.writeTree_.subtree(s))}}function Fh(u){return u.writeTree_.isEmpty()}function fc(u,s){return xf(ui(),u.writeTree_,s)}function xf(u,s,a){if(null!=s.value)return a.updateChild(u,s.value);{let f=null;return s.children.inorderTraversal((_,D)=>{".priority"===_?((0,oe.hu)(null!==D.value,"Priority writes must always be leaf nodes"),f=D.value):a=xf(gs(u,_),D,a)}),!a.getChild(u).isEmpty()&&null!==f&&(a=a.updateChild(gs(u,".priority"),f)),a}}function pc(u,s){return Rp(s,u)}function Sp(u,s){if(u.snap)return pa(u.path,s);for(const a in u.children)if(u.children.hasOwnProperty(a)&&pa(gs(u.path,a),s))return!0;return!1}function Sg(u){return u.visible}function xp(u,s,a){let f=Fa.empty();for(let _=0;_<u.length;++_){const D=u[_];if(s(D)){const R=D.path;let Q;if(D.snap)pa(a,R)?(Q=wo(a,R),f=ed(f,Q,D.snap)):pa(R,a)&&(Q=wo(R,a),f=ed(f,ui(),D.snap.getChild(Q)));else{if(!D.children)throw(0,oe.g5)("WriteRecord should have .snap or .children");if(pa(a,R))Q=wo(a,R),f=Af(f,Q,D.children);else if(pa(R,a))if(Q=wo(R,a),vr(Q))f=Af(f,ui(),D.children);else{const ae=(0,oe.DV)(D.children,qr(Q));if(ae){const Se=ae.getChild($i(Q));f=ed(f,ui(),Se)}}}}}return f}function Fd(u,s,a,f,_){if(f||_){const D=ya(u.visibleWrites,s);return!_&&Fh(D)?a:_||null!=a||kh(D,ui())?fc(xp(u.allWrites,function(Se){return(Se.visible||_)&&(!f||!~f.indexOf(Se.writeId))&&(pa(Se.path,s)||pa(s,Se.path))},s),a||Nr.EMPTY_NODE):null}{const D=bl(u.visibleWrites,s);if(null!=D)return D;{const R=ya(u.visibleWrites,s);return Fh(R)?a:null!=a||kh(R,ui())?fc(R,a||Nr.EMPTY_NODE):null}}}function Ro(u,s,a,f){return Fd(u.writeTree,u.treePath,s,a,f)}function Rf(u,s){return function Em(u,s,a){let f=Nr.EMPTY_NODE;const _=bl(u.visibleWrites,s);if(_)return _.isLeafNode()||_.forEachChild(br,(D,R)=>{f=f.updateImmediateChild(D,R)}),f;if(a){const D=ya(u.visibleWrites,s);return a.forEachChild(br,(R,Q)=>{const ae=fc(ya(D,new vi(R)),Q);f=f.updateImmediateChild(R,ae)}),ku(D).forEach(R=>{f=f.updateImmediateChild(R.name,R.node)}),f}return ku(ya(u.visibleWrites,s)).forEach(R=>{f=f.updateImmediateChild(R.name,R.node)}),f}(u.writeTree,u.treePath,s)}function Bh(u,s,a,f){return function Mp(u,s,a,f,_){(0,oe.hu)(f||_,"Either existingEventSnap or existingServerSnap must exist");const D=gs(s,a);if(kh(u.visibleWrites,D))return null;{const R=ya(u.visibleWrites,D);return Fh(R)?_.getChild(a):fc(R,_.getChild(a))}}(u.writeTree,u.treePath,s,a,f)}function Ld(u,s){return function Mf(u,s){return bl(u.visibleWrites,s)}(u.writeTree,gs(u.treePath,s))}function Wl(u,s,a){return function Lh(u,s,a,f){const _=gs(s,a),D=bl(u.visibleWrites,_);return null!=D?D:f.isCompleteForChild(a)?fc(ya(u.visibleWrites,_),f.getNode().getImmediateChild(a)):null}(u.writeTree,u.treePath,s,a)}function rd(u,s){return Rp(gs(u.treePath,s),u.writeTree)}function Rp(u,s){return{treePath:u,writeTree:s}}class id{constructor(){this.changeMap=new Map}trackChildChange(s){const a=s.type,f=s.childName;(0,oe.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,oe.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const _=this.changeMap.get(f);if(_){const D=_.type;if("child_added"===a&&"child_removed"===D)this.changeMap.set(f,El(f,s.snapshotNode,_.snapshotNode));else if("child_removed"===a&&"child_added"===D)this.changeMap.delete(f);else if("child_removed"===a&&"child_changed"===D)this.changeMap.set(f,xs(f,_.oldSnap));else if("child_changed"===a&&"child_added"===D)this.changeMap.set(f,lu(f,s.snapshotNode));else{if("child_changed"!==a||"child_changed"!==D)throw(0,oe.g5)("Illegal combination of changes: "+s+" occurred after "+_);this.changeMap.set(f,El(f,s.snapshotNode,_.oldSnap))}}else this.changeMap.set(f,s)}getChanges(){return Array.from(this.changeMap.values())}}const gc=new class Ur{getCompleteChild(s){return null}getChildAfterChild(s,a,f){return null}};class Vh{constructor(s,a,f=null){this.writes_=s,this.viewCache_=a,this.optCompleteServerCache_=f}getCompleteChild(s){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(s))return a.getNode().getImmediateChild(s);{const f=null!=this.optCompleteServerCache_?new Gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wl(this.writes_,s,f)}}getChildAfterChild(s,a,f){const _=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ol(this.viewCache_),D=function xg(u,s,a,f,_,D){return function La(u,s,a,f,_,D,R){let Q;const ae=ya(u.visibleWrites,s),Se=bl(ae,ui());if(null!=Se)Q=Se;else{if(null==a)return[];Q=fc(ae,a)}if(Q=Q.withIndex(R),Q.isEmpty()||Q.isLeafNode())return[];{const It=[],Tt=R.getCompare(),Ut=D?Q.getReverseIteratorFrom(f,R):Q.getIteratorFrom(f,R);let En=Ut.getNext();for(;En&&It.length<_;)0!==Tt(En,f)&&It.push(En),En=Ut.getNext();return It}}(u.writeTree,u.treePath,s,a,f,_,D)}(this.writes_,_,a,1,f,s);return 0===D.length?null:D[0]}}function Mg(u,s,a,f,_,D){const R=s.eventCache;if(null!=Ld(f,a))return s;{let Q,ae;if(vr(a))if((0,oe.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const Se=ol(s),Tt=Rf(f,Se instanceof Nr?Se:Nr.EMPTY_NODE);Q=u.filter.updateFullNode(s.eventCache.getNode(),Tt,D)}else{const Se=Ro(f,ol(s));Q=u.filter.updateFullNode(s.eventCache.getNode(),Se,D)}else{const Se=qr(a);if(".priority"===Se){(0,oe.hu)(1===el(a),"Can't have a priority with additional path components");const It=R.getNode();ae=s.serverCache.getNode();const Tt=Bh(f,a,It,ae);Q=null!=Tt?u.filter.updatePriority(It,Tt):R.getNode()}else{const It=$i(a);let Tt;if(R.isCompleteForChild(Se)){ae=s.serverCache.getNode();const Ut=Bh(f,a,R.getNode(),ae);Tt=null!=Ut?R.getNode().getImmediateChild(Se).updateChild(It,Ut):R.getNode().getImmediateChild(Se)}else Tt=Wl(f,Se,s.serverCache);Q=null!=Tt?u.filter.updateChild(R.getNode(),Se,Tt,It,_,D):R.getNode()}}return Nu(s,Q,R.isFullyInitialized()||vr(a),u.filter.filtersNodes())}}function Bd(u,s,a,f,_,D,R,Q){const ae=s.serverCache;let Se;const It=R?u.filter:u.filter.getIndexedFilter();if(vr(a))Se=It.updateFullNode(ae.getNode(),f,null);else if(It.filtersNodes()&&!ae.isFiltered()){const En=ae.getNode().updateChild(a,f);Se=It.updateFullNode(ae.getNode(),En,null)}else{const En=qr(a);if(!ae.isCompleteForPath(a)&&el(a)>1)return s;const Fn=$i(a),kr=ae.getNode().getImmediateChild(En).updateChild(Fn,f);Se=".priority"===En?It.updatePriority(ae.getNode(),kr):It.updateChild(ae.getNode(),En,kr,Fn,gc,null)}const Tt=ka(s,Se,ae.isFullyInitialized()||vr(a),It.filtersNodes());return Mg(u,Tt,a,_,new Vh(_,Tt,D),Q)}function Kl(u,s,a,f,_,D,R){const Q=s.eventCache;let ae,Se;const It=new Vh(_,s,D);if(vr(a))Se=u.filter.updateFullNode(s.eventCache.getNode(),f,R),ae=Nu(s,Se,!0,u.filter.filtersNodes());else{const Tt=qr(a);if(".priority"===Tt)Se=u.filter.updatePriority(s.eventCache.getNode(),f),ae=Nu(s,Se,Q.isFullyInitialized(),Q.isFiltered());else{const Ut=$i(a),En=Q.getNode().getImmediateChild(Tt);let Fn;if(vr(Ut))Fn=f;else{const xr=It.getCompleteChild(Tt);Fn=null!=xr?".priority"===Uc(Ut)&&xr.getChild(Mu(Ut)).isEmpty()?xr:xr.updateChild(Ut,f):Nr.EMPTY_NODE}ae=En.equals(Fn)?s:Nu(s,u.filter.updateChild(Q.getNode(),Tt,Fn,Ut,It,R),Q.isFullyInitialized(),u.filter.filtersNodes())}}return ae}function Of(u,s){return u.eventCache.isCompleteForChild(s)}function $h(u,s,a){return a.foreach((f,_)=>{s=s.updateChild(f,_)}),s}function Rg(u,s,a,f,_,D,R,Q){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let Se,ae=s;Se=vr(a)?f:new rs(null).setTree(a,f);const It=s.serverCache.getNode();return Se.children.inorderTraversal((Tt,Ut)=>{if(It.hasChild(Tt)){const Fn=$h(0,s.serverCache.getNode().getImmediateChild(Tt),Ut);ae=Bd(u,ae,new vi(Tt),Fn,_,D,R,Q)}}),Se.children.inorderTraversal((Tt,Ut)=>{const En=!s.serverCache.isCompleteForChild(Tt)&&void 0===Ut.value;if(!It.hasChild(Tt)&&!En){const xr=$h(0,s.serverCache.getNode().getImmediateChild(Tt),Ut);ae=Bd(u,ae,new vi(Tt),xr,_,D,R,Q)}}),ae}class mc{constructor(s,a){this.query_=s,this.eventRegistrations_=[];const f=this.query_._queryParams,_=new Xc(f.getIndex()),D=function Tp(u){return u.loadsAllData()?new Xc(u.getIndex()):u.hasLimit()?new Mh(u):new Qc(u)}(f);this.processor_=function Fu(u){return{filter:u}}(D);const R=a.serverCache,Q=a.eventCache,ae=_.updateFullNode(Nr.EMPTY_NODE,R.getNode(),null),Se=D.updateFullNode(Nr.EMPTY_NODE,Q.getNode(),null),It=new Gl(ae,R.isFullyInitialized(),_.filtersNodes()),Tt=new Gl(Se,Q.isFullyInitialized(),D.filtersNodes());this.viewCache_=Nd(Tt,It),this.eventGenerator_=new Oh(this.query_)}get query(){return this.query_}}function Pp(u,s){const a=ol(u.viewCache_);return a&&(u.query._queryParams.loadsAllData()||!vr(s)&&!a.getImmediateChild(qr(s)).isEmpty())?a.getChild(s):null}function Pg(u){return 0===u.eventRegistrations_.length}function kf(u,s,a){const f=[];if(a){(0,oe.hu)(null==s,"A cancel should cancel all event registrations.");const _=u.query._path;u.eventRegistrations_.forEach(D=>{const R=D.createCancelEvent(a,_);R&&f.push(R)})}if(s){let _=[];for(let D=0;D<u.eventRegistrations_.length;++D){const R=u.eventRegistrations_[D];if(R.matches(s)){if(s.hasAnyCallback()){_=_.concat(u.eventRegistrations_.slice(D+1));break}}else _.push(R)}u.eventRegistrations_=_}else u.eventRegistrations_=[];return f}function Vd(u,s,a,f){s.type===ho.MERGE&&null!==s.source.queryId&&((0,oe.hu)(ol(u.viewCache_),"We should always have a full cache before handling merges"),(0,oe.hu)(zl(u.viewCache_),"Missing event cache, even though we have a server cache"));const _=u.viewCache_,D=function al(u,s,a,f,_){const D=new id;let R,Q;if(a.type===ho.OVERWRITE){const Se=a;Se.source.fromUser?R=Kl(u,s,Se.path,Se.snap,f,_,D):((0,oe.hu)(Se.source.fromServer,"Unknown source."),Q=Se.source.tagged||s.serverCache.isFiltered()&&!vr(Se.path),R=Bd(u,s,Se.path,Se.snap,f,_,Q,D))}else if(a.type===ho.MERGE){const Se=a;Se.source.fromUser?R=function Uh(u,s,a,f,_,D,R){let Q=s;return f.foreach((ae,Se)=>{const It=gs(a,ae);Of(s,qr(It))&&(Q=Kl(u,Q,It,Se,_,D,R))}),f.foreach((ae,Se)=>{const It=gs(a,ae);Of(s,qr(It))||(Q=Kl(u,Q,It,Se,_,D,R))}),Q}(u,s,Se.path,Se.children,f,_,D):((0,oe.hu)(Se.source.fromServer,"Unknown source."),Q=Se.source.tagged||s.serverCache.isFiltered(),R=Rg(u,s,Se.path,Se.children,f,_,Q,D))}else if(a.type===ho.ACK_USER_WRITE){const Se=a;R=Se.revert?function cu(u,s,a,f,_,D){let R;if(null!=Ld(f,a))return s;{const Q=new Vh(f,s,_),ae=s.eventCache.getNode();let Se;if(vr(a)||".priority"===qr(a)){let It;if(s.serverCache.isFullyInitialized())It=Ro(f,ol(s));else{const Tt=s.serverCache.getNode();(0,oe.hu)(Tt instanceof Nr,"serverChildren would be complete if leaf node"),It=Rf(f,Tt)}It=It,Se=u.filter.updateFullNode(ae,It,D)}else{const It=qr(a);let Tt=Wl(f,It,s.serverCache);null==Tt&&s.serverCache.isCompleteForChild(It)&&(Tt=ae.getImmediateChild(It)),Se=null!=Tt?u.filter.updateChild(ae,It,Tt,$i(a),Q,D):s.eventCache.getNode().hasChild(It)?u.filter.updateChild(ae,It,Nr.EMPTY_NODE,$i(a),Q,D):ae,Se.isEmpty()&&s.serverCache.isFullyInitialized()&&(R=Ro(f,ol(s)),R.isLeafNode()&&(Se=u.filter.updateFullNode(Se,R,D)))}return R=s.serverCache.isFullyInitialized()||null!=Ld(f,ui()),Nu(s,Se,R,u.filter.filtersNodes())}}(u,s,Se.path,f,_,D):function Og(u,s,a,f,_,D,R){if(null!=Ld(_,a))return s;const Q=s.serverCache.isFiltered(),ae=s.serverCache;if(null!=f.value){if(vr(a)&&ae.isFullyInitialized()||ae.isCompleteForPath(a))return Bd(u,s,a,ae.getNode().getChild(a),_,D,Q,R);if(vr(a)){let Se=new rs(null);return ae.getNode().forEachChild(nl,(It,Tt)=>{Se=Se.set(new vi(It),Tt)}),Rg(u,s,a,Se,_,D,Q,R)}return s}{let Se=new rs(null);return f.foreach((It,Tt)=>{const Ut=gs(a,It);ae.isCompleteForPath(Ut)&&(Se=Se.set(It,ae.getNode().getChild(Ut)))}),Rg(u,s,a,Se,_,D,Q,R)}}(u,s,Se.path,Se.affectedTree,f,_,D)}else{if(a.type!==ho.LISTEN_COMPLETE)throw(0,oe.g5)("Unknown operation type: "+a.type);R=function wm(u,s,a,f,_){const D=s.serverCache;return Mg(u,ka(s,D.getNode(),D.isFullyInitialized()||vr(a),D.isFiltered()),a,f,gc,_)}(u,s,a.path,f,D)}const ae=D.getChanges();return function Op(u,s,a){const f=s.eventCache;if(f.isFullyInitialized()){const _=f.getNode().isLeafNode()||f.getNode().isEmpty(),D=zl(u);(a.length>0||!u.eventCache.isFullyInitialized()||_&&!f.getNode().equals(D)||!f.getNode().getPriority().equals(D.getPriority()))&&a.push(Rd(zl(s)))}}(s,R,ae),{viewCache:R,changes:ae}}(u.processor_,_,s,a,f);return function uu(u,s){(0,oe.hu)(s.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,oe.hu)(s.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,D.viewCache),(0,oe.hu)(D.viewCache.serverCache.isFullyInitialized()||!_.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=D.viewCache,jh(u,D.changes,D.viewCache.eventCache.getNode(),null)}function jh(u,s,a,f){return function Sf(u,s,a,f){const _=[],D=[];return s.forEach(R=>{"child_changed"===R.type&&u.index_.indexedValueChanged(R.oldSnap,R.snapshotNode)&&D.push(function Zc(u,s){return{type:"child_moved",snapshotNode:s,childName:u}}(R.childName,R.snapshotNode))}),Na(u,_,"child_removed",s,f,a),Na(u,_,"child_added",s,f,a),Na(u,_,"child_moved",D,f,a),Na(u,_,"child_changed",s,f,a),Na(u,_,"value",s,f,a),_}(u.eventGenerator_,s,a,f?[f]:u.eventRegistrations_)}let kp,jd;class Lf{constructor(){this.views=new Map}}function Bf(u,s,a,f){const _=s.source.queryId;if(null!==_){const D=u.views.get(_);return(0,oe.hu)(null!=D,"SyncTree gave us an op for an invalid query."),Vd(D,s,a,f)}{let D=[];for(const R of u.views.values())D=D.concat(Vd(R,s,a,f));return D}}function Ud(u,s,a,f,_){const R=u.views.get(s._queryIdentifier);if(!R){let Q=Ro(a,_?f:null),ae=!1;Q?ae=!0:f instanceof Nr?(Q=Rf(a,f),ae=!1):(Q=Nr.EMPTY_NODE,ae=!1);const Se=Nd(new Gl(Q,ae,!1),new Gl(f,_,!1));return new mc(s,Se)}return R}function Cm(u){const s=[];for(const a of u.views.values())a.query._queryParams.loadsAllData()||s.push(a);return s}function yc(u,s){let a=null;for(const f of u.views.values())a=a||Pp(f,s);return a}function Dm(u,s){return s._queryParams.loadsAllData()?Hh(u):u.views.get(s._queryIdentifier)}function $d(u,s){return null!=Dm(u,s)}function Cl(u){return null!=Hh(u)}function Hh(u){for(const s of u.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let Vf=1;class kg{constructor(s){this.listenProvider_=s,this.syncPointTree_=new rs(null),this.pendingWriteTree_=function Ag(){return{visibleWrites:Fa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hd(u,s,a,f,_){return function _m(u,s,a,f,_){(0,oe.hu)(f>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===_&&(_=!0),u.allWrites.push({path:s,snap:a,writeId:f,visible:_}),_&&(u.visibleWrites=ed(u.visibleWrites,s,a)),u.lastWriteId=f}(u.pendingWriteTree_,s,a,f,_),_?Dl(u,new Il({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,a)):[]}function Yl(u,s,a=!1){const f=function td(u,s){for(let a=0;a<u.allWrites.length;a++){const f=u.allWrites[a];if(f.writeId===s)return f}return null}(u.pendingWriteTree_,s);if(function nd(u,s){const a=u.allWrites.findIndex(Q=>Q.writeId===s);(0,oe.hu)(a>=0,"removeWrite called with nonexistent writeId.");const f=u.allWrites[a];u.allWrites.splice(a,1);let _=f.visible,D=!1,R=u.allWrites.length-1;for(;_&&R>=0;){const Q=u.allWrites[R];Q.visible&&(R>=a&&Sp(Q,f.path)?_=!1:pa(f.path,Q.path)&&(D=!0)),R--}return!!_&&(D?(function Ap(u){u.visibleWrites=xp(u.allWrites,Sg,ui()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(f.snap?u.visibleWrites=Nh(u.visibleWrites,f.path):ps(f.children,ae=>{u.visibleWrites=Nh(u.visibleWrites,gs(f.path,ae))}),!0))}(u.pendingWriteTree_,s)){let D=new rs(null);return null!=f.snap?D=D.set(ui(),!0):ps(f.children,R=>{D=D.set(new vi(R),!0)}),Dl(u,new hc(f.path,D,a))}return[]}function sd(u,s,a){return Dl(u,new Il({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,a))}function Bp(u,s,a,f){const _=s._path,D=u.syncPointTree_.get(_);let R=[];if(D&&("default"===s._queryIdentifier||$d(D,s))){const Q=function bm(u,s,a,f){const _=s._queryIdentifier,D=[];let R=[];const Q=Cl(u);if("default"===_)for(const[ae,Se]of u.views.entries())R=R.concat(kf(Se,a,f)),Pg(Se)&&(u.views.delete(ae),Se.query._queryParams.loadsAllData()||D.push(Se.query));else{const ae=u.views.get(_);ae&&(R=R.concat(kf(ae,a,f)),Pg(ae)&&(u.views.delete(_),ae.query._queryParams.loadsAllData()||D.push(ae.query)))}return Q&&!Cl(u)&&D.push(new(function Ng(){return(0,oe.hu)(kp,"Reference.ts has not been loaded"),kp}())(s._repo,s._path)),{removed:D,events:R}}(D,s,a,f);(function Fp(u){return 0===u.views.size})(D)&&(u.syncPointTree_=u.syncPointTree_.remove(_));const ae=Q.removed;R=Q.events;const Se=-1!==ae.findIndex(Tt=>Tt._queryParams.loadsAllData()),It=u.syncPointTree_.findOnPath(_,(Tt,Ut)=>Cl(Ut));if(Se&&!It){const Tt=u.syncPointTree_.subtree(_);if(!Tt.isEmpty()){const Ut=function zh(u){return u.fold((s,a,f)=>{if(a&&Cl(a))return[Hh(a)];{let _=[];return a&&(_=Cm(a)),ps(f,(D,R)=>{_=_.concat(R)}),_}})}(Tt);for(let En=0;En<Ut.length;++En){const Fn=Ut[En],xr=Fn.query,kr=Bu(u,Fn);u.listenProvider_.startListening(_c(xr),ql(u,xr),kr.hashFn,kr.onComplete)}}}!It&&ae.length>0&&!f&&(Se?u.listenProvider_.stopListening(_c(s),null):ae.forEach(Tt=>{const Ut=u.queryToTagMap.get(ll(Tt));u.listenProvider_.stopListening(_c(Tt),Ut)})),function Fg(u,s){for(let a=0;a<s.length;++a){const f=s[a];if(!f._queryParams.loadsAllData()){const _=ll(f),D=u.queryToTagMap.get(_);u.queryToTagMap.delete(_),u.tagToQueryMap.delete(D)}}}(u,ae)}return R}function Up(u,s,a){const f=s._path;let _=null,D=!1;u.syncPointTree_.foreachOnPath(f,(Tt,Ut)=>{const En=wo(Tt,f);_=_||yc(Ut,En),D=D||Cl(Ut)});let Q,R=u.syncPointTree_.get(f);R?(D=D||Cl(R),_=_||yc(R,ui())):(R=new Lf,u.syncPointTree_=u.syncPointTree_.set(f,R)),null!=_?Q=!0:(Q=!1,_=Nr.EMPTY_NODE,u.syncPointTree_.subtree(f).foreachChild((Ut,En)=>{const Fn=yc(En,ui());Fn&&(_=_.updateImmediateChild(Ut,Fn))}));const ae=$d(R,s);if(!ae&&!s._queryParams.loadsAllData()){const Tt=ll(s);(0,oe.hu)(!u.queryToTagMap.has(Tt),"View does not exist, but we have a tag");const Ut=function Wh(){return Vf++}();u.queryToTagMap.set(Tt,Ut),u.tagToQueryMap.set(Ut,Tt)}let It=function py(u,s,a,f,_,D){const R=Ud(u,s,f,_,D);return u.views.has(s._queryIdentifier)||u.views.set(s._queryIdentifier,R),function Np(u,s){u.eventRegistrations_.push(s)}(R,a),function Ff(u,s){const a=u.viewCache_.eventCache,f=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(br,(D,R)=>{f.push(lu(D,R))}),a.isFullyInitialized()&&f.push(Rd(a.getNode())),jh(u,f,a.getNode(),s)}(R,a)}(R,s,a,pc(u.pendingWriteTree_,f),_,Q);if(!ae&&!D){const Tt=Dm(R,s);It=It.concat(function Mm(u,s,a){const f=s._path,_=ql(u,s),D=Bu(u,a),R=u.listenProvider_.startListening(_c(s),_,D.hashFn,D.onComplete),Q=u.syncPointTree_.subtree(f);if(_)(0,oe.hu)(!Cl(Q.value),"If we're adding a query, it shouldn't be shadowed");else{const ae=Q.fold((Se,It,Tt)=>{if(!vr(Se)&&It&&Cl(It))return[Hh(It).query];{let Ut=[];return It&&(Ut=Ut.concat(Cm(It).map(En=>En.query))),ps(Tt,(En,Fn)=>{Ut=Ut.concat(Fn)}),Ut}});for(let Se=0;Se<ae.length;++Se){const It=ae[Se];u.listenProvider_.stopListening(_c(It),ql(u,It))}}return R}(u,s,Tt))}return It}function Uf(u,s,a){const _=u.pendingWriteTree_,D=u.syncPointTree_.findOnPath(s,(R,Q)=>{const Se=yc(Q,wo(R,s));if(Se)return Se});return Fd(_,s,D,a,!0)}function Dl(u,s){return vc(s,u.syncPointTree_,null,pc(u.pendingWriteTree_,ui()))}function vc(u,s,a,f){if(vr(u.path))return Gh(u,s,a,f);{const _=s.get(ui());null==a&&null!=_&&(a=yc(_,ui()));let D=[];const R=qr(u.path),Q=u.operationForChild(R),ae=s.children.get(R);if(ae&&Q){const Se=a?a.getImmediateChild(R):null,It=rd(f,R);D=D.concat(vc(Q,ae,Se,It))}return _&&(D=D.concat(Bf(_,u,f,a))),D}}function Gh(u,s,a,f){const _=s.get(ui());null==a&&null!=_&&(a=yc(_,ui()));let D=[];return s.children.inorderTraversal((R,Q)=>{const ae=a?a.getImmediateChild(R):null,Se=rd(f,R),It=u.operationForChild(R);It&&(D=D.concat(Gh(It,Q,ae,Se)))}),_&&(D=D.concat(Bf(_,u,f,a))),D}function Bu(u,s){const a=s.query,f=ql(u,a);return{hashFn:()=>(function Pf(u){return u.viewCache_.serverCache.getNode()}(s)||Nr.EMPTY_NODE).hash(),onComplete:_=>{if("ok"===_)return f?function bo(u,s,a){const f=Gd(u,a);if(f){const _=zd(f),D=_.path,R=_.queryId,Q=wo(D,s);return Wd(u,D,new Pu(sl(R),Q))}return[]}(u,a._path,f):function du(u,s){return Dl(u,new Pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(u,a._path);{const D=function Oi(u,s){let a="Unknown Error";"too_big"===u?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?a="Client doesn't have permission to access the desired data.":"unavailable"===u&&(a="The service is unavailable");const f=new Error(u+" at "+s._path.toString()+": "+a);return f.code=u.toUpperCase(),f}(_,a);return Bp(u,a,null,D)}}}}function ql(u,s){const a=ll(s);return u.queryToTagMap.get(a)}function ll(u){return u._path.toString()+"$"+u._queryIdentifier}function Gd(u,s){return u.tagToQueryMap.get(s)}function zd(u){const s=u.indexOf("$");return(0,oe.hu)(-1!==s&&s<u.length-1,"Bad queryKey."),{queryId:u.substr(s+1),path:new vi(u.substr(0,s))}}function Wd(u,s,a){const f=u.syncPointTree_.get(s);return(0,oe.hu)(f,"Missing sync point for query tag that we're tracking"),Bf(f,a,pc(u.pendingWriteTree_,s),null)}function _c(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Lu(){return(0,oe.hu)(jd,"Reference.ts has not been loaded"),jd}())(u._repo,u._path):u}class $f{constructor(s){this.node_=s}getImmediateChild(s){const a=this.node_.getImmediateChild(s);return new $f(a)}node(){return this.node_}}class Lg{constructor(s,a){this.syncTree_=s,this.path_=a}getImmediateChild(s){const a=gs(this.path_,s);return new Lg(this.syncTree_,a)}node(){return Uf(this.syncTree_,this.path_)}}const Kd=function(u,s,a){return u&&"object"==typeof u?((0,oe.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Kh(u[".sv"],s,a):"object"==typeof u[".sv"]?jf(u[".sv"],s):void(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Kh=function(u,s,a){if("timestamp"===u)return a.timestamp;(0,oe.hu)(!1,"Unexpected server value: "+u)},jf=function(u,s,a){u.hasOwnProperty("increment")||(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const f=u.increment;"number"!=typeof f&&(0,oe.hu)(!1,"Unexpected increment value: "+f);const _=s.node();if((0,oe.hu)(null!=_,"Expected ChildrenNode.EMPTY_NODE for nulls"),!_.isLeafNode())return f;const R=_.getValue();return"number"!=typeof R?f:R+f},jp=function(u,s,a,f){return va(s,new Lg(a,u),f)},Hp=function(u,s,a){return va(u,new $f(s),a)};function va(u,s,a){const f=u.getPriority().val(),_=Kd(f,s.getImmediateChild(".priority"),a);let D;if(u.isLeafNode()){const R=u,Q=Kd(R.getValue(),s,a);return Q!==R.getValue()||_!==R.getPriority().val()?new iu(Q,ls(_)):u}{const R=u;return D=R,_!==R.getPriority().val()&&(D=D.updatePriority(new iu(_))),R.forEachChild(br,(Q,ae)=>{const Se=va(ae,s.getImmediateChild(Q),a);Se!==ae&&(D=D.updateImmediateChild(Q,Se))}),D}}class Gp{constructor(s="",a=null,f={children:{},childCount:0}){this.name=s,this.parent=a,this.node=f}}function Hf(u,s){let a=s instanceof vi?s:new vi(s),f=u,_=qr(a);for(;null!==_;){const D=(0,oe.DV)(f.node.children,_)||{children:{},childCount:0};f=new Gp(_,f,D),a=$i(a),_=qr(a)}return f}function Yd(u){return u.node.value}function qd(u,s){u.node.value=s,Gf(u)}function Yh(u){return u.node.childCount>0}function Zd(u,s){ps(u.node.children,(a,f)=>{s(new Gp(a,u,f))})}function od(u,s,a,f){a&&!f&&s(u),Zd(u,_=>{od(_,s,!0,f)}),a&&f&&s(u)}function ad(u){return new vi(null===u.parent?u.name:ad(u.parent)+"/"+u.name)}function Gf(u){null!==u.parent&&function zp(u,s,a){const f=function qh(u){return void 0===Yd(u)&&!Yh(u)}(a),_=(0,oe.r3)(u.node.children,s);f&&_?(delete u.node.children[s],u.node.childCount--,Gf(u)):!f&&!_&&(u.node.children[s]=a.node,u.node.childCount++,Gf(u))}(u.parent,u.name,u)}const zf=/[\[\].#$\/\u0000-\u001F\u007F]/,Ec=/[\[\].#$\u0000-\u001F\u007F]/,Zh=10485760,Wf=function(u){return"string"==typeof u&&0!==u.length&&!zf.test(u)},Kf=function(u){return"string"==typeof u&&0!==u.length&&!Ec.test(u)},wc=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!ml(u)||u&&"object"==typeof u&&(0,oe.r3)(u,".sv")},hu=function(u,s,a,f){f&&void 0===s||Xo((0,oe.gK)(u,"value"),s,a)},Xo=function(u,s,a){const f=a instanceof vi?new bs(a,u):a;if(void 0===s)throw new Error(u+"contains undefined "+ga(f));if("function"==typeof s)throw new Error(u+"contains a function "+ga(f)+" with contents = "+s.toString());if(ml(s))throw new Error(u+"contains "+s.toString()+" "+ga(f));if("string"==typeof s&&s.length>Zh/3&&(0,oe.ug)(s)>Zh)throw new Error(u+"contains a string greater than "+Zh+" utf8 bytes "+ga(f)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let _=!1,D=!1;if(ps(s,(R,Q)=>{if(".value"===R)_=!0;else if(".priority"!==R&&".sv"!==R&&(D=!0,!Wf(R)))throw new Error(u+" contains an invalid key ("+R+") "+ga(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function si(u,s){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=(0,oe.ug)(s),Td(u)})(f,R),Xo(u,Q,f),function bp(u){const s=u.parts_.pop();u.byteLength_-=(0,oe.ug)(s),u.parts_.length>0&&(u.byteLength_-=1)}(f)}),_&&D)throw new Error(u+' contains ".value" child '+ga(f)+" in addition to actual children.")}},Yf=function(u,s,a,f){if(f&&void 0===s)return;const _=(0,oe.gK)(u,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(_+" must be an object containing the children to replace.");const D=[];ps(s,(R,Q)=>{const ae=new vi(R);if(Xo(_,Q,gs(a,ae)),".priority"===Uc(ae)&&!wc(Q))throw new Error(_+"contains an invalid value for '"+ae.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(ae)}),function(u,s){let a,f;for(a=0;a<s.length;a++){f=s[a];const D=jl(f);for(let R=0;R<D.length;R++)if((".priority"!==D[R]||R!==D.length-1)&&!Wf(D[R]))throw new Error(u+"contains an invalid key ("+D[R]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(Yo);let _=null;for(a=0;a<s.length;a++){if(f=s[a],null!==_&&pa(_,f))throw new Error(u+"contains a path "+_.toString()+" that is ancestor of another path "+f.toString());_=f}}(_,D)},qf=function(u,s,a){if(!a||void 0!==s){if(ml(s))throw new Error((0,oe.gK)(u,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wc(s))throw new Error((0,oe.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vu=function(u,s,a,f){if(!(f&&void 0===a||Wf(a)))throw new Error((0,oe.gK)(u,s)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ic=function(u,s,a,f){if(!(f&&void 0===a||Kf(a)))throw new Error((0,oe.gK)(u,s)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tl=function(u,s){if(".info"===qr(s))throw new Error(u+" failed = Can't modify data under /.info/")},Wp=function(u,s){const a=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!Wf(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==a.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Kf(u)}(a))throw new Error((0,oe.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Zf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xf(u,s){let a=null;for(let f=0;f<s.length;f++){const _=s[f],D=_.getPath();null!==a&&!tl(D,a.path)&&(u.eventLists_.push(a),a=null),null===a&&(a={events:[],path:D}),a.events.push(_)}a&&u.eventLists_.push(a)}function Xh(u,s,a){Xf(u,a),Jd(u,f=>tl(f,s))}function _a(u,s,a){Xf(u,a),Jd(u,f=>pa(f,s)||pa(s,f))}function Jd(u,s){u.recursionDepth_++;let a=!0;for(let f=0;f<u.eventLists_.length;f++){const _=u.eventLists_[f];_&&(s(_.path)?(Om(u.eventLists_[f]),u.eventLists_[f]=null):a=!1)}a&&(u.eventLists_=[]),u.recursionDepth_--}function Om(u){for(let s=0;s<u.events.length;s++){const a=u.events[s];if(null!==a){u.events[s]=null;const f=a.getEventRunner();Ca&&Ui("event: "+a.toString()),ca(f)}}}const eh="repo_interrupt";class Qf{constructor(s,a,f,_){this.repoInfo_=s,this.forceRestClient_=a,this.authTokenProvider_=f,this.appCheckProvider_=_,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rn(),this.transactionQueueTree_=new Gp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jf(u){const a=u.infoData_.getNode(new vi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Uu(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Jf(u)})}function Yp(u,s,a,f,_){u.dataUpdateCount++;const D=new vi(s);a=u.interceptServerDataCallback_?u.interceptServerDataCallback_(s,a):a;let R=[];if(_)if(f){const ae=(0,oe.UI)(a,Se=>ls(Se));R=function Am(u,s,a,f){const _=Gd(u,f);if(_){const D=zd(_),R=D.path,Q=D.queryId,ae=wo(R,s),Se=rs.fromObject(a);return Wd(u,R,new Ds(sl(Q),ae,Se))}return[]}(u.serverSyncTree_,D,ae,_)}else{const ae=ls(a);R=function Vp(u,s,a,f){const _=Gd(u,f);if(null!=_){const D=zd(_),R=D.path,Q=D.queryId,ae=wo(R,s);return Wd(u,R,new Il(sl(Q),ae,a))}return[]}(u.serverSyncTree_,D,ae,_)}else if(f){const ae=(0,oe.UI)(a,Se=>ls(Se));R=function Sm(u,s,a){const f=rs.fromObject(a);return Dl(u,new Ds({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,f))}(u.serverSyncTree_,D,ae)}else{const ae=ls(a);R=sd(u.serverSyncTree_,D,ae)}let Q=D;R.length>0&&(Q=cd(u,D)),_a(u.eventQueue_,Q,R)}function ld(u,s){th(u,"connected",s),!1===s&&function ep(u){pu(u,"onDisconnectEvents");const s=Uu(u),a=Rn();Cs(u.onDisconnect_,ui(),(_,D)=>{const R=jp(_,D,u.serverSyncTree_,s);nr(a,_,R)});let f=[];Cs(a,ui(),(_,D)=>{f=f.concat(sd(u.serverSyncTree_,_,D));const R=nf(u,_);cd(u,R)}),u.onDisconnect_=Rn(),_a(u.eventQueue_,ui(),f)}(u)}function th(u,s,a){const f=new vi("/.info/"+s),_=ls(a);u.infoData_.updateSnapshot(f,_);const D=sd(u.infoSyncTree_,f,_);_a(u.eventQueue_,f,D)}function fu(u){return u.nextWriteId_++}function Qh(u,s,a,f,_){pu(u,"set",{path:s.toString(),value:a,priority:f});const D=Uu(u),R=ls(a,f),Q=Uf(u.serverSyncTree_,s),ae=Hp(R,Q,D),Se=fu(u),It=Hd(u.serverSyncTree_,s,ae,Se,!0);Xf(u.eventQueue_,It),u.server_.put(s.toString(),R.val(!0),(Ut,En)=>{const Fn="ok"===Ut;Fn||ns("set at "+s+" failed: "+Ut);const xr=Yl(u.serverSyncTree_,Se,!Fn);_a(u.eventQueue_,s,xr),ju(0,_,Ut,En)});const Tt=nf(u,s);cd(u,Tt),_a(u.eventQueue_,Tt,[])}function Pm(u,s,a){u.server_.onDisconnectCancel(s.toString(),(f,_)=>{"ok"===f&&Qn(u.onDisconnect_,s),ju(0,a,f,_)})}function tp(u,s,a,f){const _=ls(a);u.server_.onDisconnectPut(s.toString(),_.val(!0),(D,R)=>{"ok"===D&&nr(u.onDisconnect_,s,_),ju(0,f,D,R)})}function ef(u,s,a){let f;f=".info"===qr(s._path)?Bp(u.infoSyncTree_,s,a):Bp(u.serverSyncTree_,s,a),Xh(u.eventQueue_,s._path,f)}function nh(u){u.persistentConnection_&&u.persistentConnection_.interrupt(eh)}function pu(u,...s){let a="";u.persistentConnection_&&(a=u.persistentConnection_.id+":"),Ui(a,...s)}function ju(u,s,a,f){s&&ca(()=>{if("ok"===a)s(null);else{const _=(a||"error").toUpperCase();let D=_;f&&(D+=": "+f);const R=new Error(D);R.code=_,s(R)}})}function rp(u,s,a){return Uf(u.serverSyncTree_,s,a)||Nr.EMPTY_NODE}function tf(u,s=u.transactionQueueTree_){if(s||sp(u,s),Yd(s)){const a=dd(u,s);(0,oe.hu)(a.length>0,"Sending zero length transaction queue"),a.every(_=>0===_.status)&&function ip(u,s,a){const f=a.map(Se=>Se.currentWriteId),_=rp(u,s,f);let D=_;const R=_.hash();for(let Se=0;Se<a.length;Se++){const It=a[Se];(0,oe.hu)(0===It.status,"tryToSendTransactionQueue_: items in queue should all be run."),It.status=1,It.retryCount++;const Tt=wo(s,It.path);D=D.updateChild(Tt,It.currentOutputSnapshotRaw)}const Q=D.val(!0),ae=s;u.server_.put(ae.toString(),Q,Se=>{pu(u,"transaction put response",{path:ae.toString(),status:Se});let It=[];if("ok"===Se){const Tt=[];for(let Ut=0;Ut<a.length;Ut++)a[Ut].status=2,It=It.concat(Yl(u.serverSyncTree_,a[Ut].currentWriteId)),a[Ut].onComplete&&Tt.push(()=>a[Ut].onComplete(null,!0,a[Ut].currentOutputSnapshotResolved)),a[Ut].unwatcher();sp(u,Hf(u.transactionQueueTree_,s)),tf(u,u.transactionQueueTree_),_a(u.eventQueue_,s,It);for(let Ut=0;Ut<Tt.length;Ut++)ca(Tt[Ut])}else{if("datastale"===Se)for(let Tt=0;Tt<a.length;Tt++)a[Tt].status=3===a[Tt].status?4:0;else{ns("transaction at "+ae.toString()+" failed: "+Se);for(let Tt=0;Tt<a.length;Tt++)a[Tt].status=4,a[Tt].abortReason=Se}cd(u,s)}},R)}(u,ad(s),a)}else Yh(s)&&Zd(s,a=>{tf(u,a)})}function cd(u,s){const a=Xp(u,s),f=ad(a);return function $g(u,s,a){if(0===s.length)return;const f=[];let _=[];const R=s.filter(Q=>0===Q.status).map(Q=>Q.currentWriteId);for(let Q=0;Q<s.length;Q++){const ae=s[Q],Se=wo(a,ae.path);let Tt,It=!1;if((0,oe.hu)(null!==Se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ae.status)It=!0,Tt=ae.abortReason,_=_.concat(Yl(u.serverSyncTree_,ae.currentWriteId,!0));else if(0===ae.status)if(ae.retryCount>=25)It=!0,Tt="maxretry",_=_.concat(Yl(u.serverSyncTree_,ae.currentWriteId,!0));else{const Ut=rp(u,ae.path,R);ae.currentInputSnapshot=Ut;const En=s[Q].update(Ut.val());if(void 0!==En){Xo("transaction failed: Data returned ",En,ae.path);let Fn=ls(En);"object"==typeof En&&null!=En&&(0,oe.r3)(En,".priority")||(Fn=Fn.updatePriority(Ut.getPriority()));const kr=ae.currentWriteId,Ms=Uu(u),Rs=Hp(Fn,Ut,Ms);ae.currentOutputSnapshotRaw=Fn,ae.currentOutputSnapshotResolved=Rs,ae.currentWriteId=fu(u),R.splice(R.indexOf(kr),1),_=_.concat(Hd(u.serverSyncTree_,ae.path,Rs,ae.currentWriteId,ae.applyLocally)),_=_.concat(Yl(u.serverSyncTree_,kr,!0))}else It=!0,Tt="nodata",_=_.concat(Yl(u.serverSyncTree_,ae.currentWriteId,!0))}_a(u.eventQueue_,a,_),_=[],It&&(s[Q].status=2,setTimeout(s[Q].unwatcher,Math.floor(0)),s[Q].onComplete&&f.push("nodata"===Tt?()=>s[Q].onComplete(null,!1,s[Q].currentInputSnapshot):()=>s[Q].onComplete(new Error(Tt),!1,null)))}sp(u,u.transactionQueueTree_);for(let Q=0;Q<f.length;Q++)ca(f[Q]);tf(u,u.transactionQueueTree_)}(u,dd(u,a),f),f}function Xp(u,s){let a,f=u.transactionQueueTree_;for(a=qr(s);null!==a&&void 0===Yd(f);)f=Hf(f,a),a=qr(s=$i(s));return f}function dd(u,s){const a=[];return Qp(u,s,a),a.sort((f,_)=>f.order-_.order),a}function Qp(u,s,a){const f=Yd(s);if(f)for(let _=0;_<f.length;_++)a.push(f[_]);Zd(s,_=>{Qp(u,_,a)})}function sp(u,s){const a=Yd(s);if(a){let f=0;for(let _=0;_<a.length;_++)2!==a[_].status&&(a[f]=a[_],f++);a.length=f,qd(s,a.length>0?a:void 0)}Zd(s,f=>{sp(u,f)})}function nf(u,s){const a=ad(Xp(u,s)),f=Hf(u.transactionQueueTree_,s);return function Xd(u,s,a){let f=a?u:u.parent;for(;null!==f;){if(s(f))return!0;f=f.parent}}(f,_=>{gu(u,_)}),gu(u,f),od(f,_=>{gu(u,_)}),a}function gu(u,s){const a=Yd(s);if(a){const f=[];let _=[],D=-1;for(let R=0;R<a.length;R++)3===a[R].status||(1===a[R].status?((0,oe.hu)(D===R-1,"All SENT items should be at beginning of queue."),D=R,a[R].status=3,a[R].abortReason="set"):((0,oe.hu)(0===a[R].status,"Unexpected transaction status in abort"),a[R].unwatcher(),_=_.concat(Yl(u.serverSyncTree_,a[R].currentWriteId,!0)),a[R].onComplete&&f.push(a[R].onComplete.bind(null,new Error("set"),!1,null))));-1===D?qd(s,void 0):a.length=D+1,_a(u.eventQueue_,ad(s),_);for(let R=0;R<f.length;R++)ca(f[R])}}const rf=function(u,s){const a=km(u),f=a.namespace;return"firebase.com"===a.domain&&eo(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==a.domain&&eo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ns("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Mt(a.host,a.secure,f,"ws"===a.scheme||"wss"===a.scheme,s,"",f!==a.subdomain),path:new vi(a.pathString)}},km=function(u){let s="",a="",f="",_="",D="",R=!0,Q="https",ae=443;if("string"==typeof u){let Se=u.indexOf("//");Se>=0&&(Q=u.substring(0,Se-1),u=u.substring(Se+2));let It=u.indexOf("/");-1===It&&(It=u.length);let Tt=u.indexOf("?");-1===Tt&&(Tt=u.length),s=u.substring(0,Math.min(It,Tt)),It<Tt&&(_=function Jp(u){let s="";const a=u.split("/");for(let f=0;f<a.length;f++)if(a[f].length>0){let _=a[f];try{_=decodeURIComponent(_.replace(/\+/g," "))}catch(D){}s+="/"+_}return s}(u.substring(It,Tt)));const Ut=function Nm(u){const s={};"?"===u.charAt(0)&&(u=u.substring(1));for(const a of u.split("&")){if(0===a.length)continue;const f=a.split("=");2===f.length?s[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):ns(`Invalid query segment '${a}' in query '${u}'`)}return s}(u.substring(Math.min(u.length,Tt)));Se=s.indexOf(":"),Se>=0?(R="https"===Q||"wss"===Q,ae=parseInt(s.substring(Se+1),10)):Se=s.length;const En=s.slice(0,Se);if("localhost"===En.toLowerCase())a="localhost";else if(En.split(".").length<=2)a=En;else{const Fn=s.indexOf(".");f=s.substring(0,Fn).toLowerCase(),a=s.substring(Fn+1),D=f}"ns"in Ut&&(D=Ut.ns)}return{host:s,port:ae,domain:a,subdomain:f,secure:R,scheme:Q,pathString:_,namespace:D}};class Va{constructor(s,a,f,_){this.eventType=s,this.eventRegistration=a,this.snapshot=f,this.prevName=_}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,oe.Pz)(this.snapshot.exportVal())}}class sf{constructor(s,a,f){this.eventRegistration=s,this.error=a,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class af{constructor(s,a){this.snapshotCallback=s,this.cancelCallback=a}onValue(s,a){this.snapshotCallback.call(null,s,a)}onCancel(s){return(0,oe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class op{constructor(s,a){this._repo=s,this._path=a}cancel(){const s=new oe.BH;return Pm(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){Tl("OnDisconnect.remove",this._path);const s=new oe.BH;return tp(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){Tl("OnDisconnect.set",this._path),hu("OnDisconnect.set",s,this._path,!1);const a=new oe.BH;return tp(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}setWithPriority(s,a){Tl("OnDisconnect.setWithPriority",this._path),hu("OnDisconnect.setWithPriority",s,this._path,!1),qf("OnDisconnect.setWithPriority",a,!1);const f=new oe.BH;return function Ug(u,s,a,f,_){const D=ls(a,f);u.server_.onDisconnectPut(s.toString(),D.val(!0),(R,Q)=>{"ok"===R&&nr(u.onDisconnect_,s,D),ju(0,_,R,Q)})}(this._repo,this._path,s,a,f.wrapCallback(()=>{})),f.promise}update(s){Tl("OnDisconnect.update",this._path),Yf("OnDisconnect.update",s,this._path,!1);const a=new oe.BH;return function Jh(u,s,a,f){if((0,oe.xb)(a))return Ui("onDisconnect().update() called with empty data.  Don't do anything."),void ju(0,f,"ok",void 0);u.server_.onDisconnectMerge(s.toString(),a,(_,D)=>{"ok"===_&&ps(a,(R,Q)=>{const ae=ls(Q);nr(u.onDisconnect_,gs(s,R),ae)}),ju(0,f,_,D)})}(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}}class Ea{constructor(s,a,f,_){this._repo=s,this._path=a,this._queryParams=f,this._orderByCalled=_}get key(){return vr(this._path)?null:Uc(this._path)}get ref(){return new Sl(this._repo,this._path)}get _queryIdentifier(){const s=gt(this._queryParams),a=Xa(s);return"{}"===a?"default":a}get _queryObject(){return gt(this._queryParams)}isEqual(s){if(!((s=(0,oe.m9)(s))instanceof Ea))return!1;const a=this._repo===s._repo,f=tl(this._path,s._path);return a&&f&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function wf(u){let s="";for(let a=u.pieceNum_;a<u.pieces_.length;a++)""!==u.pieces_[a]&&(s+="/"+encodeURIComponent(String(u.pieces_[a])));return s||"/"}(this._path)}}function hd(u,s){if(!0===u._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function bc(u){let s=null,a=null;if(u.hasStart()&&(s=u.getIndexStartValue()),u.hasEnd()&&(a=u.getIndexEndValue()),u.getIndex()===nl){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",_="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==fs)throw new Error(f);if("string"!=typeof s)throw new Error(_)}if(u.hasEnd()){if(u.getIndexEndName()!==vo)throw new Error(f);if("string"!=typeof a)throw new Error(_)}}else if(u.getIndex()===br){if(null!=s&&!wc(s)||null!=a&&!wc(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,oe.hu)(u.getIndex()instanceof Yc||u.getIndex()===Ra,"unknown index type."),null!=s&&"object"==typeof s||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Sl extends Ea{constructor(s,a){super(s,a,new Od,!1)}get parent(){const s=Mu(this._path);return null===s?null:new Sl(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class Hu{constructor(s,a,f){this._node=s,this.ref=a,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const a=new vi(s),f=mu(this.ref,s);return new Hu(this._node.getChild(a),f,br)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,_)=>s(new Hu(_,mu(this.ref,f),br)))}hasChild(s){const a=new vi(s);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function eg(u,s){return(u=(0,oe.m9)(u))._checkNotDeleted("ref"),void 0!==s?mu(u._root,s):u._root}function tg(u,s){(u=(0,oe.m9)(u))._checkNotDeleted("refFromURL");const a=rf(s,u._repo.repoInfo_.nodeAdmin);Wp("refFromURL",a);const f=a.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&f.host!==u._repo.repoInfo_.host&&eo("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+u._repo.repoInfo_.host+")"),eg(u,a.path.toString())}function mu(u,s){return null===qr((u=(0,oe.m9)(u))._path)?(a=s,a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ic("child","path",a,!1)):Ic("child","path",s,!1),new Sl(u._repo,gs(u._path,s));var a}function ap(u,s){u=(0,oe.m9)(u),Tl("set",u._path),hu("set",s,u._path,!1);const a=new oe.BH;return Qh(u._repo,u._path,s,null,a.wrapCallback(()=>{})),a.promise}function yu(u,s){Yf("update",s,u._path,!1);const a=new oe.BH;return function Ba(u,s,a,f){pu(u,"update",{path:s.toString(),value:a});let _=!0;const D=Uu(u),R={};if(ps(a,(Q,ae)=>{_=!1,R[Q]=jp(gs(s,Q),ls(ae),u.serverSyncTree_,D)}),_)Ui("update() called with empty data.  Don't do anything."),ju(0,f,"ok",void 0);else{const Q=fu(u),ae=function Lp(u,s,a,f){!function kd(u,s,a,f){(0,oe.hu)(f>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:s,children:a,writeId:f,visible:!0}),u.visibleWrites=Af(u.visibleWrites,s,a),u.lastWriteId=f}(u.pendingWriteTree_,s,a,f);const _=rs.fromObject(a);return Dl(u,new Ds({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,_))}(u.serverSyncTree_,s,R,Q);Xf(u.eventQueue_,ae),u.server_.merge(s.toString(),a,(Se,It)=>{const Tt="ok"===Se;Tt||ns("update at "+s+" failed: "+Se);const Ut=Yl(u.serverSyncTree_,Q,!Tt),En=Ut.length>0?cd(u,s):s;_a(u.eventQueue_,En,Ut),ju(0,f,Se,It)}),ps(a,Se=>{const It=nf(u,gs(s,Se));cd(u,It)}),_a(u.eventQueue_,s,[])}}(u._repo,u._path,s,a.wrapCallback(()=>{})),a.promise}function lp(u){return function ud(u,s){const a=function xm(u,s){const a=s._path;let f=null;u.syncPointTree_.foreachOnPath(a,(Se,It)=>{const Tt=wo(Se,a);f=f||yc(It,Tt)});let _=u.syncPointTree_.get(a);_?f=f||yc(_,ui()):(_=new Lf,u.syncPointTree_=u.syncPointTree_.set(a,_));const D=null!=f,R=D?new Gl(f,!0,!1):null;return function Nf(u){return zl(u.viewCache_)}(Ud(_,s,pc(u.pendingWriteTree_,s._path),D?R.getNode():Nr.EMPTY_NODE,D))}(u.serverSyncTree_,s);return null!=a?Promise.resolve(a):u.server_.get(s).then(f=>{const _=ls(f).withIndex(s._queryParams.getIndex()),D=sd(u.serverSyncTree_,s._path,_);return Xh(u.eventQueue_,s._path,D),Promise.resolve(_)},f=>(pu(u,"get for query "+(0,oe.Pz)(s)+" failed: "+f),Promise.reject(new Error(f))))}((u=(0,oe.m9)(u))._repo,u).then(s=>new Hu(s,new Sl(u._repo,u._path),u._queryParams.getIndex()))}class ig{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,a){const f=a._queryParams.getIndex();return new Va("value",this,new Hu(s.snapshotNode,new Sl(a._repo,a._path),f))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new sf(this,s,a):null}matches(s){return s instanceof ig&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qo{constructor(s,a){this.eventType=s,this.callbackContext=a}respondsTo(s){let a="children_added"===s?"child_added":s;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new sf(this,s,a):null}createEvent(s,a){(0,oe.hu)(null!=s.childName,"Child events should have a childName.");const f=mu(new Sl(a._repo,a._path),s.childName),_=a._queryParams.getIndex();return new Va(s.type,this,new Hu(s.snapshotNode,f,_),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof Qo&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function up(u,s,a,f,_){let D;if("object"==typeof f&&(D=void 0,_=f),"function"==typeof f&&(D=f),_&&_.onlyOnce){const ae=a,Se=(It,Tt)=>{ef(u._repo,u,Q),ae(It,Tt)};Se.userCallback=a.userCallback,Se.context=a.context,a=Se}const R=new af(a,D||void 0),Q="value"===s?new ig(R):new Qo(s,R);return function np(u,s,a){let f;f=".info"===qr(s._path)?Up(u.infoSyncTree_,s,a):Up(u.serverSyncTree_,s,a),Xh(u.eventQueue_,s._path,f)}(u._repo,u,Q),()=>ef(u._repo,u,Q)}function Hg(u,s,a,f){return up(u,"value",s,a,f)}function lf(u,s,a,f){return up(u,"child_added",s,a,f)}function sg(u,s,a,f){return up(u,"child_changed",s,a,f)}function uf(u,s,a,f){return up(u,"child_moved",s,a,f)}function Gg(u,s,a,f){return up(u,"child_removed",s,a,f)}function og(u,s,a){let f=null;const _=a?new af(a):null;"value"===s?f=new ig(_):s&&(f=new Qo(s,_)),ef(u._repo,u,f)}class Al{}class sh extends Al{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){hu("endAt",this._value,s._path,!0);const a=y(s._queryParams,this._value,this._key);if(rh(a),bc(a),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ea(s._repo,s._path,a,s._orderByCalled)}}class cf extends Al{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){hu("endBefore",this._value,s._path,!1);const a=function S(u,s,a){let f,_;return u.index_===nl?("string"==typeof s&&(s=co(s)),_=y(u,s,a)):(f=null==a?fs:co(a),_=y(u,s,f)),_.endBeforeSet_=!0,_}(s._queryParams,this._value,this._key);if(rh(a),bc(a),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ea(s._repo,s._path,a,s._orderByCalled)}}class Kg extends Al{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){hu("startAt",this._value,s._path,!0);const a=I(s._queryParams,this._value,this._key);if(rh(a),bc(a),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ea(s._repo,s._path,a,s._orderByCalled)}}class ag extends Al{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){hu("startAfter",this._value,s._path,!1);const a=function g(u,s,a){let f;if(u.index_===nl)"string"==typeof s&&(s=Mo(s)),f=I(u,s,a);else{let _;_=null==a?vo:Mo(a),f=I(u,s,_)}return f.startAfterSet_=!0,f}(s._queryParams,this._value,this._key);if(rh(a),bc(a),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ea(s._repo,s._path,a,s._orderByCalled)}}class lg extends Al{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ea(s._repo,s._path,function cc(u,s){const a=u.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="l",a}(s._queryParams,this._limit),s._orderByCalled)}}class Cc extends Al{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ea(s._repo,s._path,function wl(u,s){const a=u.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="r",a}(s._queryParams,this._limit),s._orderByCalled)}}class ah extends Al{constructor(s){super(),this._path=s}_apply(s){hd(s,"orderByChild");const a=new vi(this._path);if(vr(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new Yc(a),_=K(s._queryParams,f);return bc(_),new Ea(s._repo,s._path,_,!0)}}class Um extends Al{_apply(s){hd(s,"orderByKey");const a=K(s._queryParams,nl);return bc(a),new Ea(s._repo,s._path,a,!0)}}class Zl extends Al{_apply(s){hd(s,"orderByPriority");const a=K(s._queryParams,br);return bc(a),new Ea(s._repo,s._path,a,!0)}}class Jo extends Al{_apply(s){hd(s,"orderByValue");const a=K(s._queryParams,Ra);return bc(a),new Ea(s._repo,s._path,a,!0)}}class cp extends Al{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){if(hu("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sh(this._value,this._key)._apply(new Kg(this._value,this._key)._apply(s))}}function Ua(u,...s){let a=(0,oe.m9)(u);for(const f of s)a=f._apply(a);return a}(function Im(u){(0,oe.hu)(!kp,"__referenceConstructor has already been defined"),kp=u})(Sl),function Tm(u){(0,oe.hu)(!jd,"__referenceConstructor has already been defined"),jd=u}(Sl);const Gu={};function Wu(u,s,a,f,_){let D=f||u.options.databaseURL;void 0===D&&(u.options.projectId||eo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ui("Using default host for project ",u.options.projectId),D=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ae,Se,R=rf(D,_),Q=R.repoInfo;"undefined"!=typeof process&&process.env&&(Se=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Se?(ae=!0,D=`http://${Se}?ns=${Q.namespace}`,R=rf(D,_),Q=R.repoInfo):ae=!R.repoInfo.secure;const It=_&&ae?new ii(ii.OWNER):new Du(u.name,u.options,s);Wp("Invalid Firebase Database URL",R),vr(R.path)||eo("Database URL must point to the root of a Firebase Database (not including a child path).");const Tt=function Ac(u,s,a,f){let _=Gu[s.name];_||(_={},Gu[s.name]=_);let D=_[u.toURLString()];return D&&eo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new Qf(u,false,a,f),_[u.toURLString()]=D,D}(Q,u,It,new Bs(u.name,a));return new xc(Tt,u)}class xc{constructor(s,a){this._repoInternal=s,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Vg(u,s,a){if(u.stats_=mr(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Ht(u.repoInfo_,(f,_,D,R)=>{Yp(u,f,_,D,R)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>ld(u,!0),0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,oe.Pz)(a)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}u.persistentConnection_=new _l(u.repoInfo_,s,(f,_,D,R)=>{Yp(u,f,_,D,R)},f=>{ld(u,f)},f=>{!function $u(u,s){ps(s,(a,f)=>{th(u,a,f)})}(u,f)},u.authTokenProvider_,u.appCheckProvider_,a),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(f=>{u.server_.refreshAuthToken(f)}),u.appCheckProvider_.addTokenChangeListener(f=>{u.server_.refreshAppCheckToken(f.token)}),u.statsReporter_=function Eo(u,s){const a=u.toString();return Jr[a]||(Jr[a]=s()),Jr[a]}(u.repoInfo_,()=>new Rh(u.stats_,u.server_)),u.infoData_=new wn,u.infoSyncTree_=new kg({startListening:(f,_,D,R)=>{let Q=[];const ae=u.infoData_.getNode(f._path);return ae.isEmpty()||(Q=sd(u.infoSyncTree_,f._path,ae),setTimeout(()=>{R("ok")},0)),Q},stopListening:()=>{}}),th(u,"connected",!1),u.serverSyncTree_=new kg({startListening:(f,_,D,R)=>(u.server_.listen(f,D,_,(Q,ae)=>{const Se=R(Q,ae);_a(u.eventQueue_,f._path,Se)}),[]),stopListening:(f,_)=>{u.server_.unlisten(f,_)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sl(this._repo,ui())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ku(u,s){const a=Gu[s];(!a||a[u.key]!==u)&&eo(`Database ${s}(${u.repoInfo_}) has already been deleted.`),nh(u),delete a[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&eo("Cannot call "+s+" on a deleted database.")}}function dp(){Vc.IS_TRANSPORT_INITIALIZED&&ns("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function hp(){dp(),Bl.forceDisallow()}function gd(){dp(),yl.forceDisallow(),Bl.forceAllow()}function cg(u,s){Da(u,s)}const Jg={".sv":"timestamp"};class tm{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}_l.prototype.simpleListen=function(u,s){this.sendRequest("q",{p:u},s)},_l.prototype.echo=function(u,s){this.sendRequest("echo",{d:u},s)},function Qg(u){Nl(Tr.SDK_VERSION),(0,Tr._registerComponent)(new Dn.wA("database",(s,{instanceIdentifier:a})=>Wu(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,Tr.registerVersion)(yo,"0.13.0",u),(0,Tr.registerVersion)(yo,"0.13.0","esm2017")}();const hg=new Pl.Yd("@firebase/database-compat"),hf=function(u){hg.warn("FIREBASE WARNING: "+u)};class sm{constructor(s){this._delegate=s}cancel(s){(0,oe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,oe.Wj)("OnDisconnect.cancel","onComplete",s,!0);const a=this._delegate.cancel();return s&&a.then(()=>s(null),f=>s(f)),a}remove(s){(0,oe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,oe.Wj)("OnDisconnect.remove","onComplete",s,!0);const a=this._delegate.remove();return s&&a.then(()=>s(null),f=>s(f)),a}set(s,a){(0,oe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,oe.Wj)("OnDisconnect.set","onComplete",a,!0);const f=this._delegate.set(s);return a&&f.then(()=>a(null),_=>a(_)),f}setWithPriority(s,a,f){(0,oe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,oe.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const _=this._delegate.setWithPriority(s,a);return f&&_.then(()=>f(null),D=>f(D)),_}update(s,a){if((0,oe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const _={};for(let D=0;D<s.length;++D)_[""+D]=s[D];s=_,hf("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,oe.Wj)("OnDisconnect.update","onComplete",a,!0);const f=this._delegate.update(s);return a&&f.then(()=>a(null),_=>a(_)),f}}class md{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return(0,oe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vu{constructor(s,a){this._database=s,this._delegate=a}val(){return(0,oe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,oe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,oe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,oe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,oe.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),Ic("DataSnapshot.child","path",s,!1),new vu(this._database,this._delegate.child(s))}hasChild(s){return(0,oe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ic("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,oe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,oe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,oe.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(a=>s(new vu(this._database,a)))}hasChildren(){return(0,oe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,oe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,oe.Dv)("DataSnapshot.ref",0,0,arguments.length),new us(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ti{constructor(s,a){this.database=s,this._delegate=a}on(s,a,f,_){var D;(0,oe.Dv)("Query.on",2,4,arguments.length),(0,oe.Wj)("Query.on","callback",a,!1);const R=ti.getCancelAndContextArgs_("Query.on",f,_),Q=(Se,It)=>{a.call(R.context,new vu(this.database,Se),It)};Q.userCallback=a,Q.context=R.context;const ae=null===(D=R.cancel)||void 0===D?void 0:D.bind(R.context);switch(s){case"value":return Hg(this._delegate,Q,ae),a;case"child_added":return lf(this._delegate,Q,ae),a;case"child_removed":return Gg(this._delegate,Q,ae),a;case"child_changed":return sg(this._delegate,Q,ae),a;case"child_moved":return uf(this._delegate,Q,ae),a;default:throw new Error((0,oe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,a,f){if((0,oe.Dv)("Query.off",0,3,arguments.length),function(u,s,a){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,oe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,oe.Wj)("Query.off","callback",a,!0),(0,oe.lb)("Query.off","context",f,!0),a){const _=()=>{};_.userCallback=a,_.context=f,og(this._delegate,s,_)}else og(this._delegate,s)}get(){return lp(this._delegate).then(s=>new vu(this.database,s))}once(s,a,f,_){(0,oe.Dv)("Query.once",1,4,arguments.length),(0,oe.Wj)("Query.once","callback",a,!0);const D=ti.getCancelAndContextArgs_("Query.once",f,_),R=new oe.BH,Q=(Se,It)=>{const Tt=new vu(this.database,Se);a&&a.call(D.context,Tt,It),R.resolve(Tt)};Q.userCallback=a,Q.context=D.context;const ae=Se=>{D.cancel&&D.cancel.call(D.context,Se),R.reject(Se)};switch(s){case"value":Hg(this._delegate,Q,ae,{onlyOnce:!0});break;case"child_added":lf(this._delegate,Q,ae,{onlyOnce:!0});break;case"child_removed":Gg(this._delegate,Q,ae,{onlyOnce:!0});break;case"child_changed":sg(this._delegate,Q,ae,{onlyOnce:!0});break;case"child_moved":uf(this._delegate,Q,ae,{onlyOnce:!0});break;default:throw new Error((0,oe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return R.promise}limitToFirst(s){return(0,oe.Dv)("Query.limitToFirst",1,1,arguments.length),new ti(this.database,Ua(this._delegate,function oh(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lg(u)}(s)))}limitToLast(s){return(0,oe.Dv)("Query.limitToLast",1,1,arguments.length),new ti(this.database,Ua(this._delegate,function Vm(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Cc(u)}(s)))}orderByChild(s){return(0,oe.Dv)("Query.orderByChild",1,1,arguments.length),new ti(this.database,Ua(this._delegate,function Yg(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ic("orderByChild","path",u,!1),new ah(u)}(s)))}orderByKey(){return(0,oe.Dv)("Query.orderByKey",0,0,arguments.length),new ti(this.database,Ua(this._delegate,function df(){return new Um}()))}orderByPriority(){return(0,oe.Dv)("Query.orderByPriority",0,0,arguments.length),new ti(this.database,Ua(this._delegate,function Dc(){return new Zl}()))}orderByValue(){return(0,oe.Dv)("Query.orderByValue",0,0,arguments.length),new ti(this.database,Ua(this._delegate,function fd(){return new Jo}()))}startAt(s=null,a){return(0,oe.Dv)("Query.startAt",0,2,arguments.length),new ti(this.database,Ua(this._delegate,function Lm(u=null,s){return Vu("startAt","key",s,!0),new Kg(u,s)}(s,a)))}startAfter(s=null,a){return(0,oe.Dv)("Query.startAfter",0,2,arguments.length),new ti(this.database,Ua(this._delegate,function Bm(u,s){return Vu("startAfter","key",s,!0),new ag(u,s)}(s,a)))}endAt(s=null,a){return(0,oe.Dv)("Query.endAt",0,2,arguments.length),new ti(this.database,Ua(this._delegate,function zg(u,s){return Vu("endAt","key",s,!0),new sh(u,s)}(s,a)))}endBefore(s=null,a){return(0,oe.Dv)("Query.endBefore",0,2,arguments.length),new ti(this.database,Ua(this._delegate,function Wg(u,s){return Vu("endBefore","key",s,!0),new cf(u,s)}(s,a)))}equalTo(s,a){return(0,oe.Dv)("Query.equalTo",1,2,arguments.length),new ti(this.database,Ua(this._delegate,function xl(u,s){return Vu("equalTo","key",s,!0),new cp(u,s)}(s,a)))}toString(){return(0,oe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,oe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,oe.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof ti))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,a,f){const _={cancel:void 0,context:void 0};if(a&&f)_.cancel=a,(0,oe.Wj)(s,"cancel",_.cancel,!0),_.context=f,(0,oe.lb)(s,"context",_.context,!0);else if(a)if("object"==typeof a&&null!==a)_.context=a;else{if("function"!=typeof a)throw new Error((0,oe.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");_.cancel=a}return _}get ref(){return new us(this.database,new Sl(this._delegate._repo,this._delegate._path))}}class us extends ti{constructor(s,a){super(s,new Ea(a._repo,a._path,new Od,!1)),this.database=s,this._delegate=a}getKey(){return(0,oe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,oe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new us(this.database,mu(this._delegate,s))}getParent(){(0,oe.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new us(this.database,s):null}getRoot(){return(0,oe.Dv)("Reference.root",0,0,arguments.length),new us(this.database,this._delegate.root)}set(s,a){(0,oe.Dv)("Reference.set",1,2,arguments.length),(0,oe.Wj)("Reference.set","onComplete",a,!0);const f=ap(this._delegate,s);return a&&f.then(()=>a(null),_=>a(_)),f}update(s,a){if((0,oe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const _={};for(let D=0;D<s.length;++D)_[""+D]=s[D];s=_,hf("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tl("Reference.update",this._delegate._path),(0,oe.Wj)("Reference.update","onComplete",a,!0);const f=yu(this._delegate,s);return a&&f.then(()=>a(null),_=>a(_)),f}setWithPriority(s,a,f){(0,oe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,oe.Wj)("Reference.setWithPriority","onComplete",f,!0);const _=function rg(u,s,a){if(Tl("setWithPriority",u._path),hu("setWithPriority",s,u._path,!1),qf("setWithPriority",a,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const f=new oe.BH;return Qh(u._repo,u._path,s,a,f.wrapCallback(()=>{})),f.promise}(this._delegate,s,a);return f&&_.then(()=>f(null),D=>f(D)),_}remove(s){(0,oe.Dv)("Reference.remove",0,1,arguments.length),(0,oe.Wj)("Reference.remove","onComplete",s,!0);const a=function Fm(u){return Tl("remove",u._path),ap(u,null)}(this._delegate);return s&&a.then(()=>s(null),f=>s(f)),a}transaction(s,a,f){(0,oe.Dv)("Reference.transaction",1,3,arguments.length),(0,oe.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,oe.Wj)("Reference.transaction","onComplete",a,!0),function(u,s,a,f){if(void 0!==a&&"boolean"!=typeof a)throw new Error((0,oe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const _=function nm(u,s,a){var f;if(u=(0,oe.m9)(u),Tl("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const _=null===(f=null==a?void 0:a.applyLocally)||void 0===f||f,D=new oe.BH,Q=Hg(u,()=>{});return function Zp(u,s,a,f,_,D){pu(u,"transaction on "+s);const R={path:s,update:a,onComplete:f,status:null,order:mh(),applyLocally:D,retryCount:0,unwatcher:_,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Q=rp(u,s,void 0);R.currentInputSnapshot=Q;const ae=R.update(Q.val());if(void 0===ae)R.unwatcher(),R.currentOutputSnapshotRaw=null,R.currentOutputSnapshotResolved=null,R.onComplete&&R.onComplete(null,!1,R.currentInputSnapshot);else{Xo("transaction failed: Data returned ",ae,R.path),R.status=0;const Se=Hf(u.transactionQueueTree_,s),It=Yd(Se)||[];let Tt;It.push(R),qd(Se,It),"object"==typeof ae&&null!==ae&&(0,oe.r3)(ae,".priority")?(Tt=(0,oe.DV)(ae,".priority"),(0,oe.hu)(wc(Tt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Tt=(Uf(u.serverSyncTree_,s)||Nr.EMPTY_NODE).getPriority().val();const Ut=Uu(u),En=ls(ae,Tt),Fn=Hp(En,Q,Ut);R.currentOutputSnapshotRaw=En,R.currentOutputSnapshotResolved=Fn,R.currentWriteId=fu(u);const xr=Hd(u.serverSyncTree_,s,Fn,R.currentWriteId,R.applyLocally);_a(u.eventQueue_,s,xr),tf(u,u.transactionQueueTree_)}}(u._repo,u._path,s,(ae,Se,It)=>{let Tt=null;ae?D.reject(ae):(Tt=new Hu(It,new Sl(u._repo,u._path),br),D.resolve(new tm(Se,Tt)))},Q,_),D.promise}(this._delegate,s,{applyLocally:f}).then(D=>new md(D.committed,new vu(this.database,D.snapshot)));return a&&_.then(D=>a(null,D.committed,D.snapshot),D=>a(D,!1,null)),_}setPriority(s,a){(0,oe.Dv)("Reference.setPriority",1,2,arguments.length),(0,oe.Wj)("Reference.setPriority","onComplete",a,!0);const f=function ng(u,s){u=(0,oe.m9)(u),Tl("setPriority",u._path),qf("setPriority",s,!1);const a=new oe.BH;return Qh(u._repo,gs(u._path,".priority"),s,null,a.wrapCallback(()=>{})),a.promise}(this._delegate,s);return a&&f.then(()=>a(null),_=>a(_)),f}push(s,a){(0,oe.Dv)("Reference.push",0,2,arguments.length),(0,oe.Wj)("Reference.push","onComplete",a,!0);const f=function ih(u,s){u=(0,oe.m9)(u),Tl("push",u._path),hu("push",s,u._path,!0);const a=Jf(u._repo),f=Tf(a),_=mu(u,f),D=mu(u,f);let R;return R=null!=s?ap(D,s).then(()=>D):Promise.resolve(D),_.then=R.then.bind(R),_.catch=R.then.bind(R,void 0),_}(this._delegate,s),_=f.then(R=>new us(this.database,R));a&&_.then(()=>a(null),R=>a(R));const D=new us(this.database,f);return D.then=_.then.bind(_),D.catch=_.catch.bind(_,void 0),D}onDisconnect(){return Tl("Reference.onDisconnect",this._delegate._path),new sm(new op(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ul{constructor(s,a){this._delegate=s,this.app=a,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:hp,forceLongPolling:gd}}useEmulator(s,a,f={}){!function qg(u,s,a,f={}){(u=(0,oe.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&eo("Cannot call useEmulator() after instance has already been initialized.");const _=u._repoInternal;let D;if(_.repoInfo_.nodeAdmin)f.mockUserToken&&eo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new ii(ii.OWNER);else if(f.mockUserToken){const R="string"==typeof f.mockUserToken?f.mockUserToken:(0,oe.Sg)(f.mockUserToken,u.app.options.projectId);D=new ii(R)}!function Sc(u,s,a,f){u.repoInfo_=new Mt(`${s}:${a}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),f&&(u.authTokenProvider_=f)}(_,s,a,D)}(this._delegate,s,a,f)}ref(s){if((0,oe.Dv)("database.ref",0,1,arguments.length),s instanceof us){const a=tg(this._delegate,s.toString());return new us(this,a)}{const a=eg(this._delegate,s);return new us(this,a)}}refFromURL(s){(0,oe.Dv)("database.refFromURL",1,1,arguments.length);const f=tg(this._delegate,s);return new us(this,f)}goOffline(){return(0,oe.Dv)("database.goOffline",0,0,arguments.length),function Zg(u){(u=(0,oe.m9)(u))._checkNotDeleted("goOffline"),nh(u._repo)}(this._delegate)}goOnline(){return(0,oe.Dv)("database.goOnline",0,0,arguments.length),function Xg(u){(u=(0,oe.m9)(u))._checkNotDeleted("goOnline"),function qp(u){u.persistentConnection_&&u.persistentConnection_.resume(eh)}(u._repo)}(this._delegate)}}ul.ServerValue={TIMESTAMP:function em(){return Jg}(),increment:u=>function $m(u){return{".sv":{increment:u}}}(u)};var Gm=Object.freeze({__proto__:null,initStandalone:function gy({app:u,url:s,version:a,customAuthImpl:f,namespace:_,nodeAdmin:D=!1}){Nl(a);const R=new Dn.zt("auth-internal",new Dn.H0("database-standalone"));return R.setComponent(new Dn.wA("auth-internal",()=>f,"PRIVATE")),{instance:new ul(Wu(u,R,void 0,s,D),u),namespace:_}}});const fg=ul.ServerValue;!function my(u){u.INTERNAL.registerComponent(new Dn.wA("database-compat",(s,{instanceIdentifier:a})=>{const f=s.getProvider("app-compat").getImmediate(),_=s.getProvider("database").getImmediate({identifier:a});return new ul(_,f)},"PUBLIC").setServiceProps({Reference:us,Query:ti,Database:ul,DataSnapshot:vu,enableLogging:cg,INTERNAL:Gm,ServerValue:fg}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.0")}(Qr.Z);var Xl=M(3385);function gg(u){return null==u}function om(u){return"function"==typeof u.set}function ms(u,s){return om(s)?s:u.ref(s)}function fp(u,s){if(function lh(u){return"string"==typeof u}(u))return s.stringCase();if(om(u))return s.firebaseCase();if(function pg(u){return"function"==typeof u.exportVal}(u))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function pp(u,s,a="on",f=wi.z){return new Pi.y(_=>{let D=null;return D=u[a](s,(R,Q)=>{f.schedule(()=>{_.next({snapshot:R,prevKey:Q})}),"once"===a&&f.schedule(()=>_.complete())},R=>{f.schedule(()=>_.error(R))}),"on"===a?{unsubscribe(){null!=D&&u.off(s,D)}}:{unsubscribe(){}}}).pipe((0,Ii.U)(_=>{const{snapshot:D,prevKey:R}=_;let Q=null;return D.exists()&&(Q=D.key),{type:s,payload:D,prevKey:R,key:Q}}),(0,ks.B)())}function mg(u,s){const a=u.length;for(let f=0;f<a;f++)if(u[f].payload.key===s)return f;return-1}function Wm(u,s){const{payload:a,prevKey:f,key:_}=s,D=mg(u,_),R=function zm(u,s){if(gg(s))return 0;{const a=mg(u,s);return-1===a?u.length:a+1}}(u,f);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let Q=null;s.payload.forEach(ae=>{const Se={payload:ae,type:"value",prevKey:Q,key:ae.key};return Q=ae.key,u=[...u,Se],!1})}return u;case"child_added":if(D>-1){const Q=u[D-1];(Q&&Q.key||null)!==f&&(u=u.filter(ae=>ae.payload.key!==a.key)).splice(R,0,s)}else{if(null==f)return[s,...u];(u=u.slice()).splice(R,0,s)}return u;case"child_removed":return u.filter(Q=>Q.payload.key!==a.key);case"child_changed":return u.map(Q=>Q.payload.key===_?s:Q);case"child_moved":if(D>-1){const Q=u.splice(D,1)[0];return(u=u.slice()).splice(R,0,Q),u}return u;default:return u}}function yg(u){return(gg(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function am(u,s,a){return function no(u,s,a){return pp(u,"value","once",a).pipe((0,Ni.w)(f=>{const _=[(0,Vr.of)(f)];return s.forEach(D=>_.push(pp(u,D,"on",a))),(0,bn.T)(..._).pipe((0,Fs.R)(Wm,[]))}),(0,gl.x)())}(u,s=yg(s),a)}function vg(u,s,a){const f=(s=yg(s)).map(_=>pp(u,_,"on",a));return(0,bn.T)(...f)}function gp(u,s){return function(f,_){return fp(f,{stringCase:()=>u.child(f)[s](_),firebaseCase:()=>f[s](_),snapshotCase:()=>f.ref[s](_)})}}function yy(u){return function(a){return a?fp(a,{stringCase:()=>u.child(a).remove(),firebaseCase:()=>a.remove(),snapshotCase:()=>a.ref.remove()}):u.remove()}}function Yu(u,s){return function(){return pp(u,"value","on",s)}}const Ml=new G.OlP("angularfire2.realtimeDatabaseURL"),Mc=new G.OlP("angularfire2.database.use-emulator");let uh=(()=>{class u{constructor(a,f,_,D,R,Q,ae,Se,It,Tt,Ut,En,Fn,xr,kr){this.schedulers=Q;const Ms=ae,Rs=(0,Ei.on)(a,R,f);Se&&(0,Xl.nw)(Rs,R,It,Ut,En,Fn,Tt,xr),this.database=(0,Ei.cc)(`${Rs.name}.database.${_}`,"AngularFireDatabase",Rs.name,()=>{const ji=R.runOutsideAngular(()=>Rs.database(_||void 0));return Ms&&ji.useEmulator(...Ms),ji},[Ms])}list(a,f){const _=this.schedulers.ngZone.runOutsideAngular(()=>ms(this.database,a));let D=_;return f&&(D=f(_)),function mp(u,s){const a=s.schedulers.outsideAngular,f=s.schedulers.ngZone.run(()=>u.ref);return{query:u,update:gp(f,"update"),set:gp(f,"set"),push:_=>f.push(_),remove:yy(f),snapshotChanges:_=>am(u,_,a).pipe(Rr.iC),stateChanges:_=>vg(u,_,a).pipe(Rr.iC),auditTrail:_=>function Km(u,s,a){return function Ym(u,s,a){return function lm(u,s){return pp(u,"value","on",s).pipe((0,Ii.U)(a=>{let f;return a.payload.forEach(_=>(f=_.key,!1)),{data:a,lastKeyToLoad:f}}))}(u,a).pipe(function sa(...u){const s=(0,ds.jO)(u);return(0,Gr.e)((a,f)=>{const _=u.length,D=new Array(_);let R=u.map(()=>!1),Q=!1;for(let ae=0;ae<_;ae++)(0,Wo.Xf)(u[ae]).subscribe((0,ci.x)(f,Se=>{D[ae]=Se,!Q&&!R[ae]&&(R[ae]=!0,(Q=R.every(Yr.y))&&(R=null))},Ya.Z));a.subscribe((0,ci.x)(f,ae=>{if(Q){const Se=[ae,...D];f.next(s?s(...Se):Se)}}))})}(s),(0,Ii.U)(([_,D])=>{const R=_.lastKeyToLoad,Q=D.map(ae=>ae.key);return{actions:D,lastKeyToLoad:R,loadedKeys:Q}}),function tc(u){return(0,Gr.e)((s,a)=>{let f=!1,_=0;s.subscribe((0,ci.x)(a,D=>(f||(f=!u(D,_++)))&&a.next(D)))})}(_=>-1===_.loadedKeys.indexOf(_.lastKeyToLoad)),(0,Ii.U)(_=>_.actions))}(u,vg(u,s).pipe((0,Fs.R)((_,D)=>[..._,D],[])),a)}(u,_,a).pipe(Rr.iC),valueChanges:(_,D)=>am(u,_,a).pipe((0,Ii.U)(Q=>Q.map(ae=>D&&D.idField?Object.assign(Object.assign({},ae.payload.val()),{[D.idField]:ae.key}):ae.payload.val())),Rr.iC)}}(D,this)}object(a){return function Gy(u,s){return{query:u,snapshotChanges:()=>Yu(u,s.schedulers.outsideAngular)().pipe(Rr.iC),update:a=>u.ref.update(a),set:a=>u.ref.set(a),remove:()=>u.ref.remove(),valueChanges:()=>Yu(u,s.schedulers.outsideAngular)().pipe(Rr.iC,(0,Ii.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ms(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(Ei.Dh),G.LFG(Ei.xv,8),G.LFG(Ml,8),G.LFG(G.Lbi),G.LFG(G.R0b),G.LFG(Rr.HU),G.LFG(Mc,8),G.LFG(Xl.zQ,8),G.LFG(Xl.Qv,8),G.LFG(Xl.L6,8),G.LFG(Xl._Q,8),G.LFG(Xl.rT,8),G.LFG(Xl.lh,8),G.LFG(Xl.f7,8),G.LFG(O.nm,8))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),_g=(()=>{class u{constructor(){A.Z.registerVersion("angularfire",Rr.q4.full,"rtdb-compat")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=G.oAB({type:u}),u.\u0275inj=G.cJS({providers:[uh]}),u})();var ff=M(8161);const ch_firebase={apiKey:"AIzaSyBY3Sfork3oMSXgDsmymDelMcku9ctk3MA",authDomain:"harware-8f5e9.firebaseapp.com",projectId:"harware-8f5e9",storageBucket:"harware-8f5e9.appspot.com",messagingSenderId:"162423168685",appId:"1:162423168685:web:23de3cfbe4e6b35fcdb024",measurementId:"G-VECW99Z6VL"};var pf=M(262),dh=M(1328);let _u=(()=>{class u{constructor(a,f,_){this.authService=a,this.afAuth=f,this.router=_}canActivate(){const a=localStorage.getItem("user");if(!a)return this.redirectToLogin();try{const f=JSON.parse(a);return f&&f.uid?this.afAuth.authState.pipe((0,Ii.U)(_=>_?!!_.emailVerified||this.redirectToVerifyEmail():this.redirectToLogin()),(0,pf.K)(()=>(0,Vr.of)(this.redirectToLogin()))):this.redirectToLogin()}catch(f){return console.error("Error parsing user data:",f),this.redirectToLogin()}}redirectToLogin(){return localStorage.removeItem("user"),this.router.parseUrl("/login")}redirectToVerifyEmail(){return this.router.parseUrl("/verify-email")}}return u.\u0275fac=function(a){return new(a||u)(G.LFG(dh.u),G.LFG(Xl.zQ),G.LFG(Gi.F0))},u.\u0275prov=G.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const yd=[{path:"",loadChildren:()=>M.e(8388).then(M.bind(M,8388)).then(u=>u.IndexPageModule)},{path:"",loadChildren:()=>Promise.all([M.e(1447),M.e(8592),M.e(4705)]).then(M.bind(M,4705)).then(u=>u.HomePageModule),canActivate:[_u]},{path:"users",loadChildren:()=>Promise.all([M.e(1447),M.e(5285)]).then(M.bind(M,5285)).then(u=>u.UsersPageModule),canActivate:[_u]},{path:"orders",loadChildren:()=>M.e(8633).then(M.bind(M,8633)).then(u=>u.OrdersPageModule),canActivate:[_u]},{path:"stock",loadChildren:()=>M.e(781).then(M.bind(M,781)).then(u=>u.StockPageModule),canActivate:[_u]},{path:"reviews",loadChildren:()=>Promise.all([M.e(1447),M.e(6324)]).then(M.bind(M,6324)).then(u=>u.ReviewsPageModule),canActivate:[_u]},{path:"view-reviews",loadChildren:()=>Promise.all([M.e(1447),M.e(981)]).then(M.bind(M,981)).then(u=>u.ViewReviewsPageModule),canActivate:[_u]},{path:"order",loadChildren:()=>Promise.all([M.e(1447),M.e(8592),M.e(4238)]).then(M.bind(M,4238)).then(u=>u.OrderPageModule),canActivate:[_u]},{path:"order-menu",loadChildren:()=>Promise.all([M.e(8592),M.e(2818)]).then(M.bind(M,2818)).then(u=>u.OrderMenuPageModule),canActivate:[_u]},{path:"forgot",loadChildren:()=>Promise.all([M.e(1447),M.e(4479)]).then(M.bind(M,4479)).then(u=>u.ForgotPageModule)},{path:"products",loadChildren:()=>Promise.all([M.e(1447),M.e(1240)]).then(M.bind(M,1240)).then(u=>u.ProductsPageModule),canActivate:[_u]},{path:"verify-email",loadChildren:()=>M.e(5640).then(M.bind(M,5640)).then(u=>u.VerifyEmailPageModule)},{path:"cart-modal",loadChildren:()=>M.e(1671).then(M.bind(M,1671)).then(u=>u.CartModalPageModule),canActivate:[_u]},{path:"cart",loadChildren:()=>Promise.all([M.e(1447),M.e(8592),M.e(5213)]).then(M.bind(M,5213)).then(u=>u.CartPageModule),canActivate:[_u]},{path:"checkout",loadChildren:()=>Promise.all([M.e(1447),M.e(776)]).then(M.bind(M,776)).then(u=>u.CheckoutPageModule)},{path:"receipt",loadChildren:()=>M.e(4393).then(M.bind(M,4393)).then(u=>u.ReceiptPageModule)},{path:"**",redirectTo:"",pathMatch:"full"}];let vd=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=G.oAB({type:u}),u.\u0275inj=G.cJS({imports:[[Gi.Bz.forRoot(yd,{preloadingStrategy:Gi.wm})],Gi.Bz]}),u})(),Rc=(()=>{class u{constructor(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=G.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(a,f){1&a&&(G.TgZ(0,"ion-app"),G._UZ(1,"ion-router-outlet"),G.qZA())},directives:[ff.dr,ff.jP],styles:[""]}),u})();var yp=M(520),vp=M(2382);let Eg=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=G.oAB({type:u}),u.\u0275inj=G.cJS({imports:[[c.ez,ff.Pc]]}),u})(),um=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=G.oAB({type:u,bootstrap:[Rc]}),u.\u0275inj=G.cJS({providers:[{provide:Gi.wN,useClass:ff.r4}],imports:[[hn,vp.u5,Xl.ww,tr,_g,Ei.hO.initializeApp(ch_firebase),yp.JF,ff.Pc.forRoot(),vd,Eg]]}),u})();(0,G.G48)(),In([{provide:c.mr,useValue:"/Hardware/"}]).bootstrapModule(um).catch(u=>console.log(u))},5867:(en,ut,M)=>{"use strict";M.d(ut,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=M(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(en,ut,M)=>{"use strict";M.d(ut,{Z:()=>c.Z});var c=M(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(en,ut,M)=>{"use strict";M.r(ut);var c=M(5861),G=M(3942),Y=M(2090),Ne=M(9681),be=M(7582),De=M(1877),Ee=M(4859);const qe=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new De.Yd("@firebase/auth");function Et(I,...g){ht.logLevel<=De.in.ERROR&&ht.error(`Auth (${Ne.SDK_VERSION}): ${I}`,...g)}function We(I,...g){throw Xe(I,...g)}function Ze(I,...g){return Xe(I,...g)}function st(I,g,y){const S=Object.assign(Object.assign({},ke()),{[g]:y});return new Y.LL("auth","Firebase",S).create(g,{appName:I.name})}function Ue(I,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&We(I,"argument-error"),st(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(I,...g){if("string"!=typeof I){const y=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(y,...S)}return Ae.create(I,...g)}function se(I,g,...y){if(!I)throw Xe(g,...y)}function Qe(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Et(g),new Error(g)}function dt(I,g){I||Qe(g)}const rt=new Map;function Ke(I){dt(I instanceof Function,"Expected a class definition");let g=rt.get(I);return g?(dt(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,rt.set(I,g),g)}function un(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Xt(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class X{constructor(g,y){this.shortDelay=g,this.longDelay=y,dt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function Ye(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ce(I,g){dt(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class we{static initialize(g,y,S){this.fetchImpl=g,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},je=new X(3e4,6e4);function ye(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ce(I,g,y,S){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(I,g,y,S,K={}){return Kt(I,K,(0,c.Z)(function*(){let me={},gt={};S&&("GET"===g?gt=S:me={body:JSON.stringify(S)});const Ht=(0,Y.xO)(Object.assign({key:I.config.apiKey},gt)).slice(1),wn=yield I._getAdditionalHeaders();return wn["Content-Type"]="application/json",I.languageCode&&(wn["X-Firebase-Locale"]=I.languageCode),we.fetch()(er(I,I.config.apiHost,y,Ht),Object.assign({method:g,headers:wn,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function Kt(I,g,y){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(I,g,y){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},_e),g);try{const K=new hn(I),me=yield Promise.race([y(),K.promise]);K.clearNetworkTimeout();const gt=yield me.json();if("needConfirmation"in gt)throw Pn(I,"account-exists-with-different-credential",gt);if(me.ok&&!("errorMessage"in gt))return gt;{const Ht=me.ok?gt.errorMessage:gt.error.message,[wn,Rn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wn)throw Pn(I,"credential-already-in-use",gt);if("EMAIL_EXISTS"===wn)throw Pn(I,"email-already-in-use",gt);if("USER_DISABLED"===wn)throw Pn(I,"user-disabled",gt);const nr=S[wn]||wn.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw st(I,nr,Rn);We(I,nr)}}catch(K){if(K instanceof Y.ZR)throw K;We(I,"network-request-failed")}})).apply(this,arguments)}function Jt(I,g,y,S){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(I,g,y,S,K={}){const me=yield Ce(I,g,y,S,K);return"mfaPendingCredential"in me&&We(I,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function er(I,g,y,S){const K=`${g}${y}?${S}`;return I.config.emulator?ce(I.config,K):`${I.config.apiScheme}://${K}`}class hn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(Ze(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(I,g,y){const S={appName:I.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const K=Ze(I,g,S);return K.customData._tokenResponse=y,K}function gr(){return(gr=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ln(I,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ir(I,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ft(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Yt(){return(Yt=(0,c.Z)(function*(I,g=!1){const y=(0,Y.m9)(I),S=yield y.getIdToken(g),K=Wt(S);se(K&&K.exp&&K.auth_time&&K.iat,y.auth,"internal-error");const me="object"==typeof K.firebase?K.firebase:void 0,gt=null==me?void 0:me.sign_in_provider;return{claims:K,token:S,authTime:Ft(pt(K.auth_time)),issuedAtTime:Ft(pt(K.iat)),expirationTime:Ft(pt(K.exp)),signInProvider:gt||null,signInSecondFactor:(null==me?void 0:me.sign_in_second_factor)||null}})).apply(this,arguments)}function pt(I){return 1e3*Number(I)}function Wt(I){const[g,y,S]=I.split(".");if(void 0===g||void 0===y||void 0===S)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,Y.tV)(y);return K?JSON.parse(K):(Et("Failed to decode base64 JWT payload"),null)}catch(K){return Et("Caught error parsing JWT payload as JSON",K),null}}function Wn(I,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(I,g,y=!1){if(y)return g;try{return yield g}catch(S){throw S instanceof Y.ZR&&pn(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function pn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Mr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const K=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),S)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class jr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(I){return xe.apply(this,arguments)}function xe(){return(xe=(0,c.Z)(function*(I){var g;const y=I.auth,S=yield I.getIdToken(),K=yield Wn(I,Ir(y,{idToken:S}));se(null==K?void 0:K.users.length,y,"internal-error");const me=K.users[0];I._notifyReloadListener(me);const gt=(null===(g=me.providerUserInfo)||void 0===g?void 0:g.length)?ze(me.providerUserInfo):[],Ht=$t(I.providerData,gt),nr=!!I.isAnonymous&&!(I.email&&me.passwordHash||(null==Ht?void 0:Ht.length)),Qn={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Ht,metadata:new jr(me.createdAt,me.lastLoginAt),isAnonymous:nr};Object.assign(I,Qn)})).apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(I){const g=(0,Y.m9)(I);yield Br(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function $t(I,g){return[...I.filter(S=>!g.some(K=>K.providerId===S.providerId)),...g]}function ze(I){return I.map(g=>{var{providerId:y}=g,S=(0,be._T)(g,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Zt(){return(Zt=(0,c.Z)(function*(I,g){const y=yield Kt(I,{},(0,c.Z)(function*(){const S=(0,Y.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:K,apiKey:me}=I.config,gt=er(I,K,"/v1/token",`key=${me}`),Ht=yield I._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(gt,{method:"POST",headers:Ht,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class fn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){se(g.idToken,"internal-error"),se(void 0!==g.idToken,"internal-error"),se(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Dt(I){const g=Wt(I);return se(g,"internal-error"),se(void 0!==g.exp,"internal-error"),se(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var S=this;return(0,c.Z)(function*(){return se(!S.accessToken||S.refreshToken,g,"user-token-expired"),y||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var S=this;return(0,c.Z)(function*(){const{accessToken:K,refreshToken:me,expiresIn:gt}=yield function _t(I,g){return Zt.apply(this,arguments)}(g,y);S.updateTokensAndExpiration(K,me,Number(gt))})()}updateTokensAndExpiration(g,y,S){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,y){const{refreshToken:S,accessToken:K,expirationTime:me}=y,gt=new fn;return S&&(se("string"==typeof S,"internal-error",{appName:g}),gt.refreshToken=S),K&&(se("string"==typeof K,"internal-error",{appName:g}),gt.accessToken=K),me&&(se("number"==typeof me,"internal-error",{appName:g}),gt.expirationTime=me),gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new fn,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function Cn(I,g){se("string"==typeof I||void 0===I,"internal-error",{appName:g})}class nn{constructor(g){var{uid:y,auth:S,stsTokenManager:K}=g,me=(0,be._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new jr(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,c.Z)(function*(){const S=yield Wn(y,y.stsTokenManager.getToken(y.auth,g));return se(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(g){return function Je(I){return Yt.apply(this,arguments)}(this,g)}reload(){return function Ge(I){return it.apply(this,arguments)}(this)}_assign(g){this!==g&&(se(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new nn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var S=this;return(0,c.Z)(function*(){let K=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),K=!0),y&&(yield Br(S)),yield S.auth._persistUserIfCurrent(S),K&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,c.Z)(function*(){const y=yield g.getIdToken();return yield Wn(g,function vn(I,g){return gr.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var S,K,me,gt,Ht,wn,Rn,nr;const Qn=null!==(S=y.displayName)&&void 0!==S?S:void 0,Cs=null!==(K=y.email)&&void 0!==K?K:void 0,qo=null!==(me=y.phoneNumber)&&void 0!==me?me:void 0,dc=null!==(gt=y.photoURL)&&void 0!==gt?gt:void 0,jt=null!==(Ht=y.tenantId)&&void 0!==Ht?Ht:void 0,il=null!==(wn=y._redirectEventId)&&void 0!==wn?wn:void 0,Zo=null!==(Rn=y.createdAt)&&void 0!==Rn?Rn:void 0,Rh=null!==(nr=y.lastLoginAt)&&void 0!==nr?nr:void 0,{uid:ho,emailVerified:Pa,isAnonymous:Pd,providerData:sl,stsTokenManager:hc}=y;se(ho&&hc,g,"internal-error");const Pu=fn.fromJSON(this.name,hc);se("string"==typeof ho,g,"internal-error"),Cn(Qn,g.name),Cn(Cs,g.name),se("boolean"==typeof Pa,g,"internal-error"),se("boolean"==typeof Pd,g,"internal-error"),Cn(qo,g.name),Cn(dc,g.name),Cn(jt,g.name),Cn(il,g.name),Cn(Zo,g.name),Cn(Rh,g.name);const Il=new nn({uid:ho,auth:g,email:Cs,emailVerified:Pa,displayName:Qn,isAnonymous:Pd,photoURL:dc,phoneNumber:qo,tenantId:jt,stsTokenManager:Pu,createdAt:Zo,lastLoginAt:Rh});return sl&&Array.isArray(sl)&&(Il.providerData=sl.map(Ds=>Object.assign({},Ds))),il&&(Il._redirectEventId=il),Il}static _fromIdTokenResponse(g,y,S=!1){return(0,c.Z)(function*(){const K=new fn;K.updateFromServerResponse(y);const me=new nn({uid:y.localId,auth:g,stsTokenManager:K,isAnonymous:S});return yield Br(me),me})()}}const gn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,S){var K=this;return(0,c.Z)(function*(){K.storage[y]=S})()}_get(y){var S=this;return(0,c.Z)(function*(){const K=S.storage[y];return void 0===K?null:K})()}_remove(y){var S=this;return(0,c.Z)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return I.type="NONE",I})();function Bn(I,g,y){return`firebase:${I}:${g}:${y}`}class Hr{constructor(g,y,S){this.persistence=g,this.auth=y,this.userKey=S;const{config:K,name:me}=this.auth;this.fullUserKey=Bn(this.userKey,K.apiKey,me),this.fullPersistenceKey=Bn("persistence",K.apiKey,me),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?nn._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,c.Z)(function*(){if(y.persistence===g)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,S="authUser"){return(0,c.Z)(function*(){if(!y.length)return new Hr(Ke(gn),g,S);const K=(yield Promise.all(y.map(function(){var Rn=(0,c.Z)(function*(nr){if(yield nr._isAvailable())return nr});return function(nr){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let me=K[0]||Ke(gn);const gt=Bn(S,g.config.apiKey,g.name);let Ht=null;for(const Rn of y)try{const nr=yield Rn._get(gt);if(nr){const Qn=nn._fromJSON(g,nr);Rn!==me&&(Ht=Qn),me=Rn;break}}catch(nr){}const wn=K.filter(Rn=>Rn._shouldAllowMigration);return me._shouldAllowMigration&&wn.length?(me=wn[0],Ht&&(yield me._set(gt,Ht.toJSON())),yield Promise.all(y.map(function(){var Rn=(0,c.Z)(function*(nr){if(nr!==me)try{yield nr._remove(gt)}catch(Qn){}});return function(nr){return Rn.apply(this,arguments)}}())),new Hr(me,g,S)):new Hr(me,g,S)})()}}function Hi(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Vr(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ei(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(wi(g))return"Blackberry";if(Gr(g))return"Webos";if(Gi(g))return"Safari";if((g.includes("chrome/")||Pi(g))&&!g.includes("edge/"))return"Chrome";if(oi(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function Ei(I=(0,Y.z$)()){return/firefox\//i.test(I)}function Gi(I=(0,Y.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Pi(I=(0,Y.z$)()){return/crios\//i.test(I)}function Vr(I=(0,Y.z$)()){return/iemobile/i.test(I)}function oi(I=(0,Y.z$)()){return/android/i.test(I)}function wi(I=(0,Y.z$)()){return/blackberry/i.test(I)}function Gr(I=(0,Y.z$)()){return/webos/i.test(I)}function ci(I=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(I)}function Rr(I=(0,Y.z$)()){return ci(I)||oi(I)||Gr(I)||wi(I)||/windows phone/i.test(I)||Vr(I)}function ai(I,g=[]){let y;switch(I){case"Browser":y=Hi((0,Y.z$)());break;case"Worker":y=`${Hi((0,Y.z$)())}-${I}`;break;default:y=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${Ne.SDK_VERSION}/${S}`}class Tr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const S=me=>new Promise((gt,Ht)=>{try{gt(g(me))}catch(wn){Ht(wn)}});S.onAbort=y,this.queue.push(S);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,c.Z)(function*(){if(y.auth.currentUser===g)return;const S=[];try{for(const K of y.queue)yield K(g),K.onAbort&&S.push(K.onAbort)}catch(K){S.reverse();for(const me of S)try{me()}catch(gt){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:K.message})}})()}}class oe{constructor(g,y,S){this.app=g,this.heartbeatServiceProvider=y,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,y){var S=this;return y&&(this._popupRedirectResolver=Ke(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var K,me;if(!S._deleted&&(S.persistenceManager=yield Hr.create(S,g),!S._deleted)){if(null===(K=S._popupRedirectResolver)||void 0===K?void 0:K._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(gt){}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(me=S.currentUser)||void 0===me?void 0:me.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,c.Z)(function*(){var S;const K=yield y.assertedPersistence.getCurrentUser();let me=K,gt=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ht=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,wn=null==me?void 0:me._redirectEventId,Rn=yield y.tryRedirectSignIn(g);(!Ht||Ht===wn)&&(null==Rn?void 0:Rn.user)&&(me=Rn.user,gt=!0)}if(!me)return y.directlySetCurrentUser(null);if(!me._redirectEventId){if(gt)try{yield y.beforeStateQueue.runMiddleware(me)}catch(Ht){me=K,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ht))}return me?y.reloadAndSetCurrentUserOrClear(me):y.directlySetCurrentUser(null)}return se(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===me._redirectEventId?y.directlySetCurrentUser(me):y.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var y=this;return(0,c.Z)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(K){yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,c.Z)(function*(){try{yield Br(g)}catch(S){if("auth/network-request-failed"!==S.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ee(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){const S=g?(0,Y.m9)(g):null;return S&&se(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(g,y=!1){var S=this;return(0,c.Z)(function*(){if(!S._deleted)return g&&se(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),y||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,c.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(Ke(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Y.LL("auth","Firebase",g())}onAuthStateChanged(g,y,S){return this.registerStateListener(this.authStateSubscription,g,y,S)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,S){return this.registerStateListener(this.idTokenSubscription,g,y,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var S=this;return(0,c.Z)(function*(){const K=yield S.getOrInitRedirectPersistenceManager(y);return null===g?K.removeCurrentUser():K.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const S=g&&Ke(g)||y._popupRedirectResolver;se(S,y,"argument-error"),y.redirectPersistenceManager=yield Hr.create(y,[Ke(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,c.Z)(function*(){var S,K;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===g?y._currentUser:(null===(K=y.redirectUser)||void 0===K?void 0:K._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,c.Z)(function*(){if(g===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,S,K){if(this._deleted)return()=>{};const me="function"==typeof y?y:y.next.bind(y),gt=this._isInitialized?Promise.resolve():this._initializationPromise;return se(gt,this,"internal-error"),gt.then(()=>me(this.currentUser)),"function"==typeof y?g.addObserver(y,S,K):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var y;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const K=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return K&&(S["X-Firebase-Client"]=K),S})()}}function Dn(I){return(0,Y.m9)(I)}class rr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Y.ne)(y=>this.observer=y)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ri(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function hr(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Or{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Qe("not implemented")}_getIdTokenResponse(g){return Qe("not implemented")}_linkToIdToken(g,y){return Qe("not implemented")}_getReauthenticationResolver(g){return Qe("not implemented")}}function Cr(I,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:resetPassword",ye(I,g))})).apply(this,arguments)}function di(I,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bi(I,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:update",ye(I,g))})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithPassword",ye(I,g))})).apply(this,arguments)}function Fr(I,g){return ne.apply(this,arguments)}function ne(){return(ne=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:sendOobCode",ye(I,g))})).apply(this,arguments)}function ve(I,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(I,g){return Fr(I,g)})).apply(this,arguments)}function mt(I,g){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(I,g){return Fr(I,g)})).apply(this,arguments)}function Fe(I,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(I,g){return Fr(I,g)})).apply(this,arguments)}function Lt(I,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(I,g){return Fr(I,g)})).apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithEmailLink",ye(I,g))})).apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithEmailLink",ye(I,g))})).apply(this,arguments)}class ir extends Or{constructor(g,y,S,K=null){super("password",S),this._email=g,this._password=y,this._tenantId=K}static _fromEmailAndPassword(g,y){return new ir(g,y,"password")}static _fromEmailAndCode(g,y,S=null){return new ir(g,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function Xr(I,g){return Di.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ot(I,g){return mn.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:We(g,"internal-error")}})()}_linkToIdToken(g,y){var S=this;return(0,c.Z)(function*(){switch(S.signInMethod){case"password":return di(g,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Vn(I,g){return Jn.apply(this,arguments)}(g,{idToken:y,email:S._email,oobCode:S._password});default:We(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function hi(I,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithIdp",ye(I,g))})).apply(this,arguments)}class et extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new et(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):We("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:K}=y,me=(0,be._T)(y,["providerId","signInMethod"]);if(!S||!K)return null;const gt=new et(S,K);return gt.idToken=me.idToken||void 0,gt.accessToken=me.accessToken||void 0,gt.secret=me.secret,gt.nonce=me.nonce,gt.pendingToken=me.pendingToken||null,gt}_getIdTokenResponse(g){return hi(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,hi(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,hi(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,Y.xO)(y)}return g}}function At(I,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:sendVerificationCode",ye(I,g))})).apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithPhoneNumber",ye(I,g))})).apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(I,g){const y=yield Jt(I,"POST","/v1/accounts:signInWithPhoneNumber",ye(I,g));if(y.temporaryProof)throw Pn(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const yr={USER_NOT_FOUND:"user-not-found"};function Ts(){return(Ts=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithPhoneNumber",ye(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),yr)})).apply(this,arguments)}class zi extends Or{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new zi({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new zi({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function rn(I,g){return Mn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function ur(I,g){return Si.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function is(I,g){return Ts.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:S,verificationCode:K}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:S,code:K}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:S,phoneNumber:K,temporaryProof:me}=g;return S||y||K||me?new zi({verificationId:y,verificationCode:S,phoneNumber:K,temporaryProof:me}):null}}class Qi{constructor(g){var y,S,K,me,gt,Ht;const wn=(0,Y.zd)((0,Y.pd)(g)),Rn=null!==(y=wn.apiKey)&&void 0!==y?y:null,nr=null!==(S=wn.oobCode)&&void 0!==S?S:null,Qn=function ja(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=wn.mode)&&void 0!==K?K:null);se(Rn&&nr&&Qn,"argument-error"),this.apiKey=Rn,this.operation=Qn,this.code=nr,this.continueUrl=null!==(me=wn.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(gt=wn.languageCode)&&void 0!==gt?gt:null,this.tenantId=null!==(Ht=wn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(g){const y=function Os(I){const g=(0,Y.zd)((0,Y.pd)(I)).link,y=g?(0,Y.zd)((0,Y.pd)(g)).deep_link_id:null,S=(0,Y.zd)((0,Y.pd)(I)).deep_link_id;return(S?(0,Y.zd)((0,Y.pd)(S)).link:null)||S||y||g||I}(g);try{return new Qi(y)}catch(S){return null}}}let ss=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,S){return ir._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const K=Qi.parseLink(S);return se(K,"argument-error"),ir._fromEmailAndCode(y,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Fi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class fi extends Fi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Li extends fi{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return se("providerId"in y&&"signInMethod"in y,"argument-error"),et._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return se(g.idToken||g.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Li.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Li.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S,oauthTokenSecret:K,pendingToken:me,nonce:gt,providerId:Ht}=g;if(!S&&!K&&!y&&!me||!Ht)return null;try{return new Li(Ht)._credential({idToken:y,accessToken:S,nonce:gt,pendingToken:me})}catch(wn){return null}}}let Wi=(()=>{class I extends fi{constructor(){super("facebook.com")}static credential(y){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch(S){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ps=(()=>{class I extends fi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,S){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:S,oauthAccessToken:K}=y;if(!S&&!K)return null;try{return I.credential(S,K)}catch(me){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Vs=(()=>{class I extends fi{constructor(){super("github.com")}static credential(y){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch(S){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ji extends Or{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return hi(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,hi(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,hi(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:K,pendingToken:me}=y;return S&&K&&me&&S===K?new Ji(S,me):null}static _create(g,y){return new Ji(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends Fi{constructor(g){se(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Bi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Bi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Ji.fromJSON(g);return se(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:S}=g;if(!y||!S)return null;try{return Ji._create(S,y)}catch(K){return null}}}let ko=(()=>{class I extends fi{constructor(){super("twitter.com")}static credential(y,S){return et._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:S,oauthTokenSecret:K}=y;if(!S||!K)return null;try{return I.credential(S,K)}catch(me){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ei(I,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signUp",ye(I,g))})).apply(this,arguments)}class Vi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,S,K=!1){return(0,c.Z)(function*(){const me=yield nn._fromIdTokenResponse(g,S,K),gt=$s(S);return new Vi({user:me,providerId:gt,_tokenResponse:S,operationType:y})})()}static _forOperation(g,y,S){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const K=$s(S);return new Vi({user:g,providerId:K,_tokenResponse:S,operationType:y})})()}}function $s(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Uo(){return(Uo=(0,c.Z)(function*(I){var g;const y=Dn(I);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new Vi({user:y.currentUser,providerId:null,operationType:"signIn"});const S=yield ei(y,{returnSecureToken:!0}),K=yield Vi._fromIdTokenResponse(y,"signIn",S,!0);return yield y._updateCurrentUser(K.user),K})).apply(this,arguments)}class pi extends Y.ZR{constructor(g,y,S,K){var me;super(y.code,y.message),this.operationType=S,this.user=K,Object.setPrototypeOf(this,pi.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,y,S,K){return new pi(g,y,S,K)}}function es(I,g,y,S){return("reauthenticate"===g?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?pi._fromErrorAndOperation(I,me,g,S):me})}function Ki(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Pr(){return(Pr=(0,c.Z)(function*(I,g){const y=(0,Y.m9)(I);yield V(!0,y,g);const{providerUserInfo:S}=yield ln(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),K=Ki(S||[]);return y.providerData=y.providerData.filter(me=>K.has(me.providerId)),K.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function $(I,g){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(I,g,y=!1){const S=yield Wn(I,g._linkToIdToken(I.auth,yield I.getIdToken()),y);return Vi._forOperation(I,"link",S)})).apply(this,arguments)}function V(I,g,y){return he.apply(this,arguments)}function he(){return(he=(0,c.Z)(function*(I,g,y){yield Br(g);const K=!1===I?"provider-already-linked":"no-such-provider";se(Ki(g.providerData).has(y)===I,g.auth,K)})).apply(this,arguments)}function tt(I,g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(I,g,y=!1){const{auth:S}=I,K="reauthenticate";try{const me=yield Wn(I,es(S,K,g,I),y);se(me.idToken,S,"internal-error");const gt=Wt(me.idToken);se(gt,S,"internal-error");const{sub:Ht}=gt;return se(I.uid===Ht,S,"user-mismatch"),Vi._forOperation(I,K,me)}catch(me){throw"auth/user-not-found"===(null==me?void 0:me.code)&&We(S,"user-mismatch"),me}})).apply(this,arguments)}function qt(I,g){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(I,g,y=!1){const S="signIn",K=yield es(I,S,g),me=yield Vi._fromIdTokenResponse(I,S,K);return y||(yield I._updateCurrentUser(me.user)),me})).apply(this,arguments)}function Hn(I,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(I,g){return qt(Dn(I),g)})).apply(this,arguments)}function sr(I,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(I,g){const y=(0,Y.m9)(I);return yield V(!1,y,g.providerId),$(y,g)})).apply(this,arguments)}function gi(I,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(I,g){return tt((0,Y.m9)(I),g)})).apply(this,arguments)}function Kr(I,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(I,g){return Jt(I,"POST","/v1/accounts:signInWithCustomToken",ye(I,g))})).apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(I,g){const y=Dn(I),S=yield Kr(y,{token:g,returnSecureToken:!0}),K=yield Vi._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(K.user),K})).apply(this,arguments)}class vs{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?mo._fromServerResponse(g,y):We(g,"internal-error")}}class mo extends vs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new mo(y)}}function Hs(I,g,y){var S;se((null===(S=y.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),se(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(se(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(se(y.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function z(){return(z=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I),K={requestType:"PASSWORD_RESET",email:g};y&&Hs(S,K,y),yield mt(S,K)})).apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(I,g,y){yield Cr((0,Y.m9)(I),{oobCode:g,newPassword:y})})).apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(I,g){yield bi((0,Y.m9)(I),{oobCode:g})})).apply(this,arguments)}function Nn(I,g){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(I,g){const y=(0,Y.m9)(I),S=yield Cr(y,{oobCode:g}),K=S.requestType;switch(se(K,y,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(S.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(S.mfaInfo,y,"internal-error");default:se(S.email,y,"internal-error")}let me=null;return S.mfaInfo&&(me=vs._fromServerResponse(Dn(y),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:me},operation:K}})).apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(I,g){const{data:y}=yield Nn((0,Y.m9)(I),g);return y.email})).apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(I,g,y){const S=Dn(I),K=yield ei(S,{returnSecureToken:!0,email:g,password:y}),me=yield Vi._fromIdTokenResponse(S,"signIn",K);return yield S._updateCurrentUser(me.user),me})).apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I),K={requestType:"EMAIL_SIGNIN",email:g};se(y.handleCodeInApp,S,"argument-error"),y&&Hs(S,K,y),yield Fe(S,K)})).apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I),K=ss.credentialWithLink(g,y||un());return se(K._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Hn(S,K)})).apply(this,arguments)}function mi(I,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:createAuthUri",ye(I,g))})).apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(I,g){const S={identifier:g,continueUri:Xt()?un():"http://localhost"},{signinMethods:K}=yield mi((0,Y.m9)(I),S);return K||[]})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(I,g){const y=(0,Y.m9)(I),K={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&Hs(y.auth,K,g);const{email:me}=yield ve(y.auth,K);me!==I.email&&(yield I.reload())})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};y&&Hs(S.auth,me,y);const{email:gt}=yield Lt(S.auth,me);gt!==I.email&&(yield I.reload())})).apply(this,arguments)}function ta(I,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(I,g){return Ce(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(I,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const S=(0,Y.m9)(I),me={idToken:yield S.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},gt=yield Wn(S,ta(S.auth,me));S.displayName=gt.displayName||null,S.photoURL=gt.photoUrl||null;const Ht=S.providerData.find(({providerId:wn})=>"password"===wn);Ht&&(Ht.displayName=S.displayName,Ht.photoURL=S.photoURL),yield S._updateTokensIfNecessary(gt)})).apply(this,arguments)}function Fo(I,g,y){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(I,g,y){const{auth:S}=I,me={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(me.email=g),y&&(me.password=y);const gt=yield Wn(I,di(S,me));yield I._updateTokensIfNecessary(gt,!0)})).apply(this,arguments)}class jo{constructor(g,y,S={}){this.isNewUser=g,this.providerId=y,this.profile=S}}class dl extends jo{constructor(g,y,S,K){super(g,y,S),this.username=K}}class Ia extends jo{constructor(g,y){super(g,"facebook.com",y)}}class ra extends dl{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Qu extends jo{constructor(g,y){super(g,"google.com",y)}}class Es extends dl{constructor(g,y,S){super(g,"twitter.com",y,S)}}function ia(I){const{user:g,_tokenResponse:y}=I;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function wu(I){var g,y;if(!I)return null;const{providerId:S}=I,K=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},me=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&(null==I?void 0:I.idToken)){const gt=null===(y=null===(g=Wt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(gt)return new jo(me,"anonymous"!==gt&&"custom"!==gt?gt:null)}if(!S)return null;switch(S){case"facebook.com":return new Ia(me,K);case"github.com":return new ra(me,K);case"google.com":return new Qu(me,K);case"twitter.com":return new Es(me,K,I.screenName||null);case"custom":case"anonymous":return new jo(me,null);default:return new jo(me,S,K)}}(y)}class Go{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Go("enroll",g)}static _fromMfaPendingCredential(g){return new Go("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,S;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Go._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return Go._fromIdtoken(g.multiFactorSession.idToken)}return null}}class hl{constructor(g,y,S){this.session=g,this.hints=y,this.signInResolver=S}static _fromError(g,y){const S=Dn(g),K=y.customData._serverResponse,me=(K.mfaInfo||[]).map(Ht=>vs._fromServerResponse(S,Ht));se(K.mfaPendingCredential,S,"internal-error");const gt=Go._fromMfaPendingCredential(K.mfaPendingCredential);return new hl(gt,me,function(){var Ht=(0,c.Z)(function*(wn){const Rn=yield wn._process(S,gt);delete K.mfaInfo,delete K.mfaPendingCredential;const nr=Object.assign(Object.assign({},K),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(y.operationType){case"signIn":const Qn=yield Vi._fromIdTokenResponse(S,y.operationType,nr);return yield S._updateCurrentUser(Qn.user),Qn;case"reauthenticate":return se(y.user,S,"internal-error"),Vi._forOperation(y.user,y.operationType,nr);default:We(S,"internal-error")}});return function(wn){return Ht.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,c.Z)(function*(){return y.signInResolver(g)})()}}function Iu(I,g){return Ce(I,"POST","/v2/accounts/mfaEnrollment:start",ye(I,g))}class pl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(S=>vs._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new pl(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Go._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var S=this;return(0,c.Z)(function*(){const K=g,me=yield S.getSession(),gt=yield Wn(S.user,K._process(S.user.auth,me,y));return yield S.user._updateTokensIfNecessary(gt),S.user.reload()})()}unenroll(g){var y=this;return(0,c.Z)(function*(){const S="string"==typeof g?g:g.uid,K=yield y.user.getIdToken(),me=yield Wn(y.user,function fl(I,g){return Ce(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ye(I,g))}(y.user.auth,{idToken:K,mfaEnrollmentId:S}));y.enrolledFactors=y.enrolledFactors.filter(({uid:gt})=>gt!==S),yield y.user._updateTokensIfNecessary(me);try{yield y.user.reload()}catch(gt){if("auth/user-token-expired"!==gt.code)throw gt}})()}}const os=new WeakMap,Qs="__sak";class tu{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Qs,"1"),this.storage.removeItem(Qs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const zo=(()=>{class I extends tu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bd(){const I=(0,Y.z$)();return Gi(I)||ci(I)}()&&function Qr(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const K=this.storage.getItem(S),me=this.localCache[S];K!==me&&y(S,me,K)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((Ht,wn,Rn)=>{this.notifyListeners(Ht,Rn)});const K=y.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(K);if(y.newValue!==Ht)null!==y.newValue?this.storage.setItem(K,y.newValue):this.storage.removeItem(K);else if(this.localCache[K]===y.newValue&&!S)return}const me=()=>{const Ht=this.storage.getItem(K);!S&&this.localCache[K]===Ht||this.notifyListeners(K,Ht)},gt=this.storage.getItem(K);!function Ni(){return(0,Y.w1)()&&10===document.documentMode}()||gt===y.newValue||y.newValue===y.oldValue?me():setTimeout(me,10)}notifyListeners(y,S){this.localCache[y]=S;const K=this.listeners[y];if(K)for(const me of Array.from(K))me(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var K=()=>super._set,me=this;return(0,c.Z)(function*(){yield K().call(me,y,S),me.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,K=this;return(0,c.Z)(function*(){const me=yield S().call(K,y);return K.localCache[y]=JSON.stringify(me),me})()}_remove(y){var S=()=>super._remove,K=this;return(0,c.Z)(function*(){yield S().call(K,y),delete K.localCache[y]})()}}return I.type="LOCAL",I})(),Yn=(()=>{class I extends tu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return I.type="SESSION",I})();let An=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(me=>me.isListeningto(y));if(S)return S;const K=new I(y);return this.receivers.push(K),K}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,c.Z)(function*(){const K=y,{eventId:me,eventType:gt,data:Ht}=K.data,wn=S.handlersMap[gt];if(!(null==wn?void 0:wn.size))return;K.ports[0].postMessage({status:"ack",eventId:me,eventType:gt});const Rn=Array.from(wn).map(function(){var Qn=(0,c.Z)(function*(Cs){return Cs(K.origin,Ht)});return function(Cs){return Qn.apply(this,arguments)}}()),nr=yield function Lo(I){return Promise.all(I.map(function(){var g=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return g.apply(this,arguments)}}()))}(Rn);K.ports[0].postMessage({status:"done",eventId:me,eventType:gt,response:nr})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xt(I="",g=10){let y="";for(let S=0;S<g;S++)y+=Math.floor(10*Math.random());return I+y}class sn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,S=50){var K=this;return(0,c.Z)(function*(){const me="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let gt,Ht;return new Promise((wn,Rn)=>{const nr=xt("",20);me.port1.start();const Qn=setTimeout(()=>{Rn(new Error("unsupported_event"))},S);Ht={messageChannel:me,onMessage(Cs){const qo=Cs;if(qo.data.eventId===nr)switch(qo.data.status){case"ack":clearTimeout(Qn),gt=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),wn(qo.data.response);break;default:clearTimeout(Qn),clearTimeout(gt),Rn(new Error("invalid_response"))}}},K.handlers.add(Ht),me.port1.addEventListener("message",Ht.onMessage),K.target.postMessage({eventType:g,eventId:nr,data:y},[me.port2])}).finally(()=>{Ht&&K.removeMessageHandler(Ht)})})()}}function Ar(){return window}function Ka(){return void 0!==Ar().WorkerGlobalScope&&"function"==typeof Ar().importScripts}function O(){return(O=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const U="firebaseLocalStorageDb",fe="firebaseLocalStorage",Pe="fbase_key";class nt{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Bt(I,g){return I.transaction([fe],g?"readwrite":"readonly").objectStore(fe)}function wr(){const I=indexedDB.open(U,1);return new Promise((g,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(fe,{keyPath:Pe})}catch(K){y(K)}}),I.addEventListener("success",(0,c.Z)(function*(){const S=I.result;S.objectStoreNames.contains(fe)?g(S):(S.close(),yield function tn(){const I=indexedDB.deleteDatabase(U);return new nt(I).toPromise()}(),g(yield wr()))}))})}function Gn(I,g,y){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(I,g,y){const S=Bt(I,!0).put({[Pe]:g,value:y});return new nt(S).toPromise()})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(I,g){const y=Bt(I,!1).get(g),S=yield new nt(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Fs(I,g){const y=Bt(I,!0).delete(g);return new nt(y).toPromise()}const Ya=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield wr()),y.db})()}_withRetries(y){var S=this;return(0,c.Z)(function*(){let K=0;for(;;)try{const me=yield S._openDb();return yield y(me)}catch(me){if(K++>3)throw me;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return Ka()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=An._getInstance(function T(){return Ka()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,c.Z)(function*(K,me){return{keyProcessed:(yield y._poll()).includes(me.key)}});return function(K,me){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,c.Z)(function*(K,me){return["keyChanged"]});return function(K,me){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var S,K;if(y.activeServiceWorker=yield function Pc(){return O.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new sn(y.activeServiceWorker);const me=yield y.sender._send("ping",{},800);!me||(null===(S=me[0])||void 0===S?void 0:S.fulfilled)&&(null===(K=me[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,c.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function A(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch(K){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield wr();return yield Gn(y,Qs,"1"),yield Fs(y,Qs),!0}catch(y){}return!1})()}_withPendingWrite(y){var S=this;return(0,c.Z)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var K=this;return(0,c.Z)(function*(){return K._withPendingWrite((0,c.Z)(function*(){return yield K._withRetries(me=>Gn(me,y,S)),K.localCache[y]=S,K.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,c.Z)(function*(){const K=yield S._withRetries(me=>function bn(I,g){return ks.apply(this,arguments)}(me,y));return S.localCache[y]=K,K})()}_remove(y){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(K=>Fs(K,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const S=yield y._withRetries(gt=>{const Ht=Bt(gt,!1).getAll();return new nt(Ht).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const K=[],me=new Set;for(const{fbase_key:gt,value:Ht}of S)me.add(gt),JSON.stringify(y.localCache[gt])!==JSON.stringify(Ht)&&(y.notifyListeners(gt,Ht),K.push(gt));for(const gt of Object.keys(y.localCache))y.localCache[gt]&&!me.has(gt)&&(y.notifyListeners(gt,null),K.push(gt));return K})()}notifyListeners(y,S){this.localCache[y]=S;const K=this.listeners[y];if(K)for(const me of Array.from(K))me(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ds(I,g){return Ce(I,"POST","/v2/accounts/mfaSignIn:start",ye(I,g))}function hs(){return(hs=(0,c.Z)(function*(I){return(yield Ce(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yo(I){return new Promise((g,y)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=K=>{const me=Ze("internal-error");me.customData=K,y(me)},S.type="text/javascript",S.charset="UTF-8",function Pl(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)})}function yi(I){return`__${I}${Math.floor(1e6*Math.random())}`}const nu=1e12;class ba{constructor(g){this.auth=g,this.counter=nu,this._widgets=new Map}render(g,y){const S=this.counter;return this._widgets.set(S,new gh(g,this.auth.name,y||{})),this.counter++,S}reset(g){var y;const S=g||nu;null===(y=this._widgets.get(S))||void 0===y||y.delete(),this._widgets.delete(S)}getResponse(g){var y;return(null===(y=this._widgets.get(g||nu))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,c.Z)(function*(){var S;return null===(S=y._widgets.get(g||nu))||void 0===S||S.execute(),""})()}}class gh{constructor(g,y,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof g?document.getElementById(g):g;se(K,"argument-error",{appName:y}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Js(I){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ri=yi("rcb"),qa=new X(3e4,6e4);class xn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ar().grecaptcha}load(g,y=""){return se(function oa(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Ar().grecaptcha):new Promise((S,K)=>{const me=Ar().setTimeout(()=>{K(Ze(g,"network-request-failed"))},qa.get());Ar()[Ri]=()=>{Ar().clearTimeout(me),delete Ar()[Ri];const Ht=Ar().grecaptcha;if(!Ht)return void K(Ze(g,"internal-error"));const wn=Ht.render;Ht.render=(Rn,nr)=>{const Qn=wn(Rn,nr);return this.counter++,Qn},this.hostLanguage=y,S(Ht)},yo(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Ri,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(me),K(Ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Ar().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(g){return(0,c.Z)(function*(){return new ba(g)})()}clearedOneInstance(){}}const Za="recaptcha",Da={theme:"light",type:"image"};class Ui{constructor(g,y=Object.assign({},Da),S){this.parameters=y,this.type=Za,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dn(S),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof g?document.getElementById(g):g;se(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new xn,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(y)||new Promise(me=>{const gt=Ht=>{!Ht||(g.tokenChangeListeners.delete(gt),me(Ht))};g.tokenChangeListeners.add(gt),g.isInvisible&&S.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(S=>S(y)),"function"==typeof g)g(y);else if("string"==typeof g){const S=Ar()[g];"function"==typeof S&&S(y)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const S=document.createElement("div");y.appendChild(S),y=S}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){se(Xt()&&!Ka(),g.auth,"internal-error"),yield function aa(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function tc(I){return hs.apply(this,arguments)}(g.auth);se(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ts{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=zi._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function ns(){return(ns=(0,c.Z)(function*(I,g,y){const S=Dn(I),K=yield vo(S,g,(0,Y.m9)(y));return new ts(K,me=>Hn(S,me))})).apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I);yield V(!1,S,"phone");const K=yield vo(S.auth,g,(0,Y.m9)(y));return new ts(K,me=>sr(S,me))})).apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I),K=yield vo(S.auth,g,(0,Y.m9)(y));return new ts(K,me=>gi(S,me))})).apply(this,arguments)}function vo(I,g,y){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(I,g,y){var S;const K=yield y.verify();try{let me;if(se("string"==typeof K,I,"argument-error"),se(y.type===Za,I,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const gt=me.session;if("phoneNumber"in me)return se("enroll"===gt.type,I,"internal-error"),(yield Iu(I,{idToken:gt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{se("signin"===gt.type,I,"internal-error");const Ht=(null===(S=me.multiFactorHint)||void 0===S?void 0:S.uid)||me.multiFactorUid;return se(Ht,I,"missing-multi-factor-info"),(yield ds(I,{mfaPendingCredential:gt.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gt}=yield At(I,{phoneNumber:me.phoneNumber,recaptchaToken:K});return gt}}finally{y._reset()}})).apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(I,g){yield $((0,Y.m9)(I),g)})).apply(this,arguments)}let Xa=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=Dn(y)}verifyPhoneNumber(y,S){return vo(this.auth,y,(0,Y.m9)(S))}static credential(y,S){return zi._fromVerification(y,S)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:S,temporaryProof:K}=y;return S&&K?zi._fromTokenResponse(S,K):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ta(I,g){return g?Ke(g):(se(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ps extends Or{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return hi(g,this._buildIdpRequest())}_linkToIdToken(g,y){return hi(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return hi(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function nc(I){return qt(I.auth,new ps(I),I.bypassAuthState)}function Ls(I){const{auth:g,user:y}=I;return se(y,g,"internal-error"),tt(y,new ps(I),I.bypassAuthState)}function Bo(I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(I){const{auth:g,user:y}=I;return se(y,g,"internal-error"),$(y,new ps(I),I.bypassAuthState)})).apply(this,arguments)}class Qa{constructor(g,y,S,K,me=!1){this.auth=g,this.resolver=S,this.user=K,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,c.Z)(function*(S,K){g.pendingPromise={resolve:S,reject:K};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(S,K){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,c.Z)(function*(){const{urlResponse:S,sessionId:K,postBody:me,tenantId:gt,error:Ht,type:wn}=g;if(Ht)return void y.reject(Ht);const Rn={auth:y.auth,requestUri:S,sessionId:K,tenantId:gt||void 0,postBody:me||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(wn)(Rn))}catch(nr){y.reject(nr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return nc;case"linkViaPopup":case"linkViaRedirect":return Bo;case"reauthViaPopup":case"reauthViaRedirect":return Ls;default:We(this.auth,"internal-error")}}resolve(g){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nc=new X(2e3,1e4);function Ao(){return(Ao=(0,c.Z)(function*(I,g,y){const S=Dn(I);Ue(I,g,Fi);const K=Ta(S,y);return new Du(S,"signInViaPopup",g,K).executeNotNull()})).apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I);Ue(S.auth,g,Fi);const K=Ta(S.auth,y);return new Du(S.auth,"reauthViaPopup",g,K,S).executeNotNull()})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I);Ue(S.auth,g,Fi);const K=Ta(S.auth,y);return new Du(S.auth,"linkViaPopup",g,K,S).executeNotNull()})).apply(this,arguments)}let Du=(()=>{class I extends Qa{constructor(y,S,K,me,gt){super(y,S,me,gt),this.provider=K,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const S=yield y.execute();return se(S,y.auth,"internal-error"),S})()}onExecution(){var y=this;return(0,c.Z)(function*(){dt(1===y.filter.length,"Popup operations only handle one event");const S=xt();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],S),y.authWindow.associatedEvent=S,y.resolver._originValidation(y.auth).catch(K=>{y.reject(K)}),y.resolver._isIframeWebStorageSupported(y.auth,K=>{K||y.reject(Ze(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var S,K;this.pollId=(null===(K=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===K?void 0:K.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Nc.get())};y()}}return I.currentPopupAction=null,I})();const xo=new Map;class ao extends Qa{constructor(g,y,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,c.Z)(function*(){let S=xo.get(y.auth._key());if(!S){try{const me=(yield function li(I,g){return kl.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;S=()=>Promise.resolve(me)}catch(K){S=()=>Promise.reject(K)}xo.set(y.auth._key(),S)}return y.bypassAuthState||xo.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,S=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(S,g);if("unknown"!==g.type){if(g.eventId){const K=yield S.auth._redirectUserForId(g.eventId);if(K)return S.user=K,y().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function kl(){return(kl=(0,c.Z)(function*(I,g){const y=Ve(g),S=ue(I);if(!(yield S._isAvailable()))return!1;const K="true"===(yield S._get(y));return yield S._remove(y),K})).apply(this,arguments)}function Ko(I,g){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(I,g){return ue(I)._set(Ve(g),"true")})).apply(this,arguments)}function j(I,g){xo.set(I._key(),g)}function ue(I){return Ke(I._redirectPersistence)}function Ve(I){return Bn("pendingRedirect",I.config.apiKey,I.name)}function dn(){return(dn=(0,c.Z)(function*(I,g,y){const S=Dn(I);Ue(I,g,Fi);const K=Ta(S,y);return yield Ko(K,S),K._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I);Ue(S.auth,g,Fi);const K=Ta(S.auth,y);yield Ko(K,S.auth);const me=yield lo(S);return K._openRedirect(S.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(I,g,y){const S=(0,Y.m9)(I);Ue(S.auth,g,Fi);const K=Ta(S.auth,y);yield V(!1,S,g.providerId),yield Ko(K,S.auth);const me=yield lo(S);return K._openRedirect(S.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(I,g){return yield Dn(I)._initializationPromise,Ja(I,g,!1)})).apply(this,arguments)}function Ja(I,g){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(I,g,y=!1){const S=Dn(I),K=Ta(S,g),gt=yield new ao(S,K,y).execute();return gt&&!y&&(delete gt.user._redirectEventId,yield S._persistUserIfCurrent(gt.user),yield S._setRedirectUser(null,g)),gt})).apply(this,arguments)}function lo(I){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(I){const g=xt(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Lc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(y=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function yh(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ha(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var S;if(g.error&&!ha(g)){const K=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(Ze(this.auth,K))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const S=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bc(g))}saveEventToCache(g){this.cachedEventUids.add(Bc(g)),this.lastProcessedEventTime=Date.now()}}function Bc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function ha({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Tu(I){return vh.apply(this,arguments)}function vh(){return(vh=(0,c.Z)(function*(I,g={}){return Ce(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Ll=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ru=/^https?/;function Su(){return(Su=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Tu(I);for(const y of g)try{if(fa(y))return}catch(S){}We(I,"unauthorized-domain")})).apply(this,arguments)}function fa(I){const g=un(),{protocol:y,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const gt=new URL(I);return""===gt.hostname&&""===S?"chrome-extension:"===y&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&gt.hostname===S}if(!ru.test(y))return!1;if(Ll.test(I))return S===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(S)}const Bl=new X(3e4,6e4);function Au(){const I=Ar().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let ic=null;function sc(I){return ic=ic||function yf(I){return new Promise((g,y)=>{var S,K,me;function gt(){Au(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Au(),y(Ze(I,"network-request-failed"))},timeout:Bl.get()})}if(null===(K=null===(S=Ar().gapi)||void 0===S?void 0:S.iframes)||void 0===K?void 0:K.Iframe)g(gapi.iframes.getContext());else{if(!(null===(me=Ar().gapi)||void 0===me?void 0:me.load)){const Ht=yi("iframefcb");return Ar()[Ht]=()=>{gapi.load?gt():y(Ze(I,"network-request-failed"))},yo(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(wn=>y(wn))}gt()}}).catch(g=>{throw ic=null,g})}(I),ic}const yl=new X(5e3,15e3),vf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ip(I){const g=I.config;se(g.authDomain,I,"auth-domain-config-required");const y=g.emulator?ce(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:I.name,v:Ne.SDK_VERSION},K=_f.get(I.config.apiHost);K&&(S.eid=K);const me=I._getFrameworks();return me.length&&(S.fw=me.join(",")),`${y}?${(0,Y.xO)(S).slice(1)}`}function ac(){return ac=(0,c.Z)(function*(I){const g=yield sc(I),y=Ar().gapi;return se(y,I,"internal-error"),g.open({where:document.body,url:Ip(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vf,dontclear:!0},S=>new Promise(function(){var K=(0,c.Z)(function*(me,gt){yield S.restyle({setHideOnLeave:!1});const Ht=Ze(I,"network-request-failed"),wn=Ar().setTimeout(()=>{gt(Ht)},yl.get());function Rn(){Ar().clearTimeout(wn),me(S)}S.ping(Rn).then(Rn,()=>{gt(Ht)})});return function(me,gt){return K.apply(this,arguments)}}()))}),ac.apply(this,arguments)}const Ef={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $l{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Aa(I,g,y,S,K,me){se(I.config.authDomain,I,"auth-domain-config-required"),se(I.config.apiKey,I,"invalid-api-key");const gt={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:S,v:Ne.SDK_VERSION,eventId:K};if(g instanceof Fi){g.setDefaultLanguage(I.languageCode),gt.providerId=g.providerId||"",(0,Y.xb)(g.getCustomParameters())||(gt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[wn,Rn]of Object.entries(me||{}))gt[wn]=Rn}if(g instanceof fi){const wn=g.getScopes().filter(Rn=>""!==Rn);wn.length>0&&(gt.scopes=wn.join(","))}I.tenantId&&(gt.tid=I.tenantId);const Ht=gt;for(const wn of Object.keys(Ht))void 0===Ht[wn]&&delete Ht[wn];return`${function Dd({config:I}){return I.emulator?ce(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,Y.xO)(Ht).slice(1)}`}const bh="webStorageSupport";class qr extends class ui{constructor(g){this.factorId=g}_process(g,y,S){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,S);case"signin":return this._finalizeSignIn(g,y.credential);default:return Qe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new qr(g)}_finalizeEnroll(g,y,S){return function To(I,g){return Ce(I,"POST","/v2/accounts/mfaEnrollment:finalize",ye(I,g))}(g,{idToken:y,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function sa(I,g){return Ce(I,"POST","/v2/accounts/mfaSignIn:finalize",ye(I,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let el=(()=>{class I{constructor(){}static assertion(y){return qr._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var $i="@firebase/auth";class wf{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(S=>{var K;g((null===(K=S)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vr(){return window}function tl(){return(tl=(0,c.Z)(function*(I,g,y){var S;const{BuildInfo:K}=vr();dt(g.sessionId,"AuthEvent did not contain a session ID");const me=yield $c(g.sessionId),gt={};return ci()?gt.ibi=K.packageName:oi()?gt.apn=K.packageName:We(I,"operation-not-supported-in-this-environment"),K.displayName&&(gt.appDisplayName=K.displayName),gt.sessionId=me,Aa(I,y,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,gt)})).apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(I){const{BuildInfo:g}=vr(),y={};ci()?y.iosBundleId=g.packageName:oi()?y.androidPackageName=g.packageName:We(I,"operation-not-supported-in-this-environment"),yield Tu(I,y)})).apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(I,g,y){const{cordova:S}=vr();let K=()=>{};try{yield new Promise((me,gt)=>{let Ht=null;function wn(){var Qn;me();const Cs=null===(Qn=S.plugins.browsertab)||void 0===Qn?void 0:Qn.close;"function"==typeof Cs&&Cs(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Rn(){Ht||(Ht=window.setTimeout(()=>{gt(Ze(I,"redirect-cancelled-by-user"))},2e3))}function nr(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}g.addPassiveListener(wn),document.addEventListener("resume",Rn,!1),oi()&&document.addEventListener("visibilitychange",nr,!1),K=()=>{g.removePassiveListener(wn),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",nr,!1),Ht&&window.clearTimeout(Ht)}})}finally{K()}})).apply(this,arguments)}function $c(I){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(I){const g=Ch(I),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ch(I){if(dt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),y=new Uint8Array(g);for(let S=0;S<I.length;S++)y[S]=I.charCodeAt(S);return y}!function Mu(I){(0,Ne._registerComponent)(new Ee.wA("auth",(g,{options:y})=>{const S=g.getProvider("app").getImmediate(),K=g.getProvider("heartbeat"),{apiKey:me,authDomain:gt}=S.options;return((Ht,wn)=>{se(me&&!me.includes(":"),"invalid-api-key",{appName:Ht.name}),se(!(null==gt?void 0:gt.includes(":")),"argument-error",{appName:Ht.name});const Rn={apiKey:me,authDomain:gt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ai(I)},nr=new oe(Ht,wn,Rn);return function vt(I,g){const y=(null==g?void 0:g.persistence)||[],S=(Array.isArray(y)?y:[y]).map(Ke);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(nr,y),nr})(S,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,S)=>{g.getProvider("auth-internal").initialize()})),(0,Ne._registerComponent)(new Ee.wA("auth-internal",g=>{const y=Dn(g.getProvider("auth").getImmediate());return new wf(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)($i,"0.20.2",function jl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Ne.registerVersion)($i,"0.20.2","esm2017")}("Browser");class jc extends Lc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function xi(I){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(I){const g=yield ma()._get(Hl(I));return g&&(yield ma()._remove(Hl(I))),g})).apply(this,arguments)}function Lr(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const S=Math.floor(Math.random()*g.length);I.push(g.charAt(S))}return I.join("")}function ma(){return Ke(zo)}function Hl(I){return Bn("authEvent",I.config.apiKey,I.name)}function Zi(I){if(!(null==I?void 0:I.includes("?")))return{};const[g,...y]=I.split("?");return(0,Y.zd)(y.join("?"))}function Dh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ze("no-auth-event")}}function uc(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function iu(I=(0,Y.z$)()){return!("file:"!==uc()&&"ionic:"!==uc()&&"capacitor:"!==uc()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function xd(){try{const I=self.localStorage,g=xt();if(I)return I.setItem(g,"1"),I.removeItem(g),!function Ad(I=(0,Y.z$)()){return function Zs(){return(0,Y.w1)()&&11===(null==document?void 0:document.documentMode)}()||function xa(I=(0,Y.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,Y.hl)()}catch(I){return br()&&(0,Y.hl)()}return!1}function br(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function su(){return(function uo(){return"http:"===uc()||"https:"===uc()}()||(0,Y.ru)()||iu())&&!function Ru(){return(0,Y.b$)()||(0,Y.UG)()}()&&xd()&&!br()}function zc(){return iu()&&"undefined"!=typeof document}function Kc(){return(Kc=(0,c.Z)(function*(){return!!zc()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const as={LOCAL:"local",NONE:"none",SESSION:"session"},Ma=se,Nr="persistence";function ou(I){return Md.apply(this,arguments)}function Md(){return(Md=(0,c.Z)(function*(I){yield I._initializationPromise;const g=Yc(),y=Bn(Nr,I.config.apiKey,I.name);g&&g.setItem(y,I._getPersistence())})).apply(this,arguments)}function Yc(){var I;try{return(null===(I=function Ou(){return"undefined"!=typeof window?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch(g){return null}}const Dp=se;class Ra{constructor(){this.browserResolver=Ke(class Ys{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yn,this._completeRedirectFn=Ja,this._overrideRedirectResult=j}_openPopup(g,y,S,K){var me=this;return(0,c.Z)(function*(){var gt;dt(null===(gt=me.eventManagers[g._key()])||void 0===gt?void 0:gt.manager,"_initialize() not called before _openPopup()");const Ht=Aa(g,y,S,un(),K);return function wh(I,g,y,S=500,K=600){const me=Math.max((window.screen.availHeight-K)/2,0).toString(),gt=Math.max((window.screen.availWidth-S)/2,0).toString();let Ht="";const wn=Object.assign(Object.assign({},Ef),{width:S.toString(),height:K.toString(),top:me,left:gt}),Rn=(0,Y.z$)().toLowerCase();y&&(Ht=Pi(Rn)?"_blank":y),Ei(Rn)&&(g=g||"http://localhost",wn.scrollbars="yes");const nr=Object.entries(wn).reduce((Cs,[qo,dc])=>`${Cs}${qo}=${dc},`,"");if(function Ii(I=(0,Y.z$)()){var g;return ci(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Rn)&&"_self"!==Ht)return function lc(I,g){const y=document.createElement("a");y.href=I,y.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(g||"",Ht),new $l(null);const Qn=window.open(g||"",Ht,nr);se(Qn,I,"popup-blocked");try{Qn.focus()}catch(Cs){}return new $l(Qn)}(g,Ht,xt())})()}_openRedirect(g,y,S,K){var me=this;return(0,c.Z)(function*(){return yield me._originValidation(g),function Wa(I){Ar().location.href=I}(Aa(g,y,S,un(),K)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:K,promise:me}=this.eventManagers[y];return K?Promise.resolve(K):(dt(me,"If manager is not set, promise should be"),me)}const S=this.initAndGetManager(g);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(g){var y=this;return(0,c.Z)(function*(){const S=yield function Vl(I){return ac.apply(this,arguments)}(g),K=new Lc(g);return S.register("authEvent",me=>(se(null==me?void 0:me.authEvent,g,"invalid-auth-event"),{status:K.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:K},y.iframes[g._key()]=S,K})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(bh,{type:bh},K=>{var me;const gt=null===(me=null==K?void 0:K[0])||void 0===me?void 0:me[bh];void 0!==gt&&y(!!gt),We(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function _h(I){return Su.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Rr()||Gi()||ci()}}),this.cordovaResolver=Ke(class Cf{constructor(){this._redirectPersistence=Yn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ja,this._overrideRedirectResult=j}_initialize(g){var y=this;return(0,c.Z)(function*(){const S=g._key();let K=y.eventManagers.get(S);return K||(K=new jc(g),y.eventManagers.set(S,K),y.attachCallbackListeners(g,K)),K})()}_openPopup(g){We(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,S,K){var me=this;return(0,c.Z)(function*(){!function ga(I){var g,y,S,K,me,gt,Ht,wn,Rn,nr;const Qn=vr();se("function"==typeof(null===(g=null==Qn?void 0:Qn.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(y=null==Qn?void 0:Qn.BuildInfo)||void 0===y?void 0:y.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(me=null===(K=null===(S=null==Qn?void 0:Qn.cordova)||void 0===S?void 0:S.plugins)||void 0===K?void 0:K.browsertab)||void 0===me?void 0:me.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(wn=null===(Ht=null===(gt=null==Qn?void 0:Qn.cordova)||void 0===gt?void 0:gt.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===wn?void 0:wn.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(nr=null===(Rn=null==Qn?void 0:Qn.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===nr?void 0:nr.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const gt=yield me._initialize(g);yield gt.initialized(),gt.resetRedirect(),function F(){xo.clear()}(),yield me._originValidation(g);const Ht=function bf(I,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:Lr(),postBody:null,tenantId:I.tenantId,error:Ze(I,"no-auth-event")}}(g,S,K);yield function Cp(I,g){return ma()._set(Hl(I),g)}(g,Ht);const wn=yield function Yo(I,g,y){return tl.apply(this,arguments)}(g,Ht,y),Rn=yield function si(I){const{cordova:g}=vr();return new Promise(y=>{g.plugins.browsertab.isAvailable(S=>{let K=null;S?g.plugins.browsertab.openUrl(I):K=g.InAppBrowser.open(I,function Xi(I=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),y(K)})})}(wn);return function bp(I,g,y){return Td.apply(this,arguments)}(g,gt,Rn)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function pa(I){return bs.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:S,handleOpenURL:K,BuildInfo:me}=vr(),gt=setTimeout((0,c.Z)(function*(){yield xi(g),y.onEvent(Dh())}),500),Ht=function(){var nr=(0,c.Z)(function*(Qn){clearTimeout(gt);const Cs=yield xi(g);let qo=null;Cs&&(null==Qn?void 0:Qn.url)&&(qo=function _l(I,g){var y,S;const K=function nl(I){const g=Zi(I),y=g.link?decodeURIComponent(g.link):void 0,S=Zi(y).link,K=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Zi(K).link||K||S||y||I}(g);if(K.includes("/__/auth/callback")){const me=Zi(K),gt=me.firebaseError?function Hc(I){try{return JSON.parse(I)}catch(g){return null}}(decodeURIComponent(me.firebaseError)):null,Ht=null===(S=null===(y=null==gt?void 0:gt.code)||void 0===y?void 0:y.split("auth/"))||void 0===S?void 0:S[1],wn=Ht?Ze(Ht):null;return wn?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:K,postBody:null}}return null}(Cs,Qn.url)),y.onEvent(qo||Dh())});return function(Cs){return nr.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,Ht);const wn=K,Rn=`${me.packageName.toLowerCase()}://`;vr().handleOpenURL=function(){var nr=(0,c.Z)(function*(Qn){if(Qn.toLowerCase().startsWith(Rn)&&Ht({url:Qn}),"function"==typeof wn)try{wn(Qn)}catch(Cs){console.error(Cs)}});return function(Qn){return nr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Yn,this._completeRedirectFn=Ja,this._overrideRedirectResult=j}_initialize(g){var y=this;return(0,c.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,S,K){var me=this;return(0,c.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(g,y,S,K)})()}_openRedirect(g,y,S,K){var me=this;return(0,c.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(g,y,S,K)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return zc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const y=yield function Wc(){return Kc.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function Oa(I){return I.unwrap()}function qc(I){return Tf(I)}function Tf(I){const{_tokenResponse:g}=I instanceof Y.ZR?I.customData:I;if(!g)return null;if(!(I instanceof Y.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Xa.credentialFromResult(I);const y=g.providerId;if(!y||"password"===y)return null;let S;switch(y){case"google.com":S=Ps;break;case"facebook.com":S=Wi;break;case"github.com":S=Vs;break;case"twitter.com":S=ko;break;default:const{oauthIdToken:K,oauthAccessToken:me,oauthTokenSecret:gt,pendingToken:Ht,nonce:wn}=g;return me||gt||K||Ht?Ht?y.startsWith("saml.")?Ji._create(y,Ht):et._fromParams({providerId:y,signInMethod:y,pendingToken:Ht,idToken:K,accessToken:me}):new Li(y).credential({idToken:K,accessToken:me,rawNonce:wn}):null}return I instanceof Y.ZR?S.credentialFromError(I):S.credentialFromResult(I)}function Mo(I,g){return g.catch(y=>{throw y instanceof Y.ZR&&function Df(I,g){var y;const S=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new lu(I,function cs(I,g){var y;const S=(0,Y.m9)(I),K=g;return se(g.customData.operationType,S,"argument-error"),se(null===(y=K.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,S,"argument-error"),hl._fromError(S,K)}(I,g));else if(S){const K=Tf(g),me=g;K&&(me.credential=K,me.tenantId=S.tenantId||void 0,me.email=S.email||void 0,me.phoneNumber=S.phoneNumber||void 0)}}(I,y),y}).then(y=>{const K=y.user;return{operationType:y.operationType,credential:qc(y),additionalUserInfo:ia(y),user:xs.getOrCreate(K)}})}function co(I,g){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,c.Z)(function*(I,g){const y=yield g;return{verificationId:y.verificationId,confirm:S=>Mo(I,y.confirm(S))}})).apply(this,arguments)}class lu{constructor(g,y){this.resolver=y,this.auth=function au(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Mo(Oa(this.auth),this.resolver.resolveSignIn(g))}}class xs{constructor(g){this._delegate=g,this.multiFactor=function Ws(I){const g=(0,Y.m9)(I);return os.has(g)||os.set(g,pl._fromUser(g)),os.get(g)}(g)}static getOrCreate(g){return xs.USER_MAP.has(g)||xs.USER_MAP.set(g,new xs(g)),xs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,c.Z)(function*(){return Mo(y.auth,sr(y._delegate,g))})()}linkWithPhoneNumber(g,y){var S=this;return(0,c.Z)(function*(){return co(S.auth,function bu(I,g,y){return ml.apply(this,arguments)}(S._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,c.Z)(function*(){return Mo(y.auth,function Cu(I,g,y){return Bs.apply(this,arguments)}(y._delegate,g,Ra))})()}linkWithRedirect(g){var y=this;return(0,c.Z)(function*(){return yield ou(Dn(y.auth)),function Jr(I,g,y){return function mr(I,g,y){return Eo.apply(this,arguments)}(I,g,y)}(y._delegate,g,Ra)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,c.Z)(function*(){return Mo(y.auth,gi(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return co(this.auth,function oo(I,g,y){return fs.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return Mo(this.auth,function ca(I,g,y){return rc.apply(this,arguments)}(this._delegate,g,Ra))}reauthenticateWithRedirect(g){var y=this;return(0,c.Z)(function*(){return yield ou(Dn(y.auth)),function Tn(I,g,y){return function zn(I,g,y){return pr.apply(this,arguments)}(I,g,y)}(y._delegate,g,Ra)})()}sendEmailVerification(g){return function Ns(I,g){return Gs.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,c.Z)(function*(){return yield function js(I,g){return Pr.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function Jl(I,g){return Fo((0,Y.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function za(I,g){return Fo((0,Y.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function la(I,g){return ua.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Ol(I,g){return na.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function Ha(I,g,y){return Ga.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xs.USER_MAP=new WeakMap;const El=se;let Zc=(()=>{class I{constructor(y,S){if(this.app=y,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=y.options;El(K,"invalid-api-key",{appName:y.name}),El(K,"invalid-api-key",{appName:y.name});const me="undefined"!=typeof window?Ra:void 0;this._delegate=S.initialize({options:{persistence:Qc(K,y.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,S){!function Zr(I,g,y){const S=Dn(I);se(S._canInitEmulator,S,"emulator-config-failed"),se(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const K=!!(null==y?void 0:y.disableWarnings),me=ri(g),{host:gt,port:Ht}=function lr(I){const g=ri(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(S);if(K){const me=K[1];return{host:me,port:hr(S.substr(me.length+1))}}{const[me,gt]=S.split(":");return{host:me,port:hr(gt)}}}(g);S.config.emulator={url:`${me}//${gt}${null===Ht?"":`:${Ht}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:gt,port:Ht,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Er(){function I(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,y,S)}applyActionCode(y){return function q(I,g){return wt.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Nn(this._delegate,y)}confirmPasswordReset(y,S){return function L(I,g,y){return k.apply(this,arguments)}(this._delegate,y,S)}createUserWithEmailAndPassword(y,S){var K=this;return(0,c.Z)(function*(){return Mo(K._delegate,function B(I,g,y){return pe.apply(this,arguments)}(K._delegate,y,S))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Yi(I,g){return As.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function or(I,g){const y=Qi.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,c.Z)(function*(){El(su(),y._delegate,"operation-not-supported-in-this-environment");const S=yield function to(I,g){return Fl.apply(this,arguments)}(y._delegate,Ra);return S?Mo(y._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Th(I,g){Dn(I)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,S,K){const{next:me,error:gt,complete:Ht}=Xc(y,S,K);return this._delegate.onAuthStateChanged(me,gt,Ht)}onIdTokenChanged(y,S,K){const{next:me,error:gt,complete:Ht}=Xc(y,S,K);return this._delegate.onIdTokenChanged(me,gt,Ht)}sendSignInLinkToEmail(y,S){return function _n(I,g,y){return kn.apply(this,arguments)}(this._delegate,y,S)}sendPasswordResetEmail(y,S){return function $o(I,g,y){return z.apply(this,arguments)}(this._delegate,y,S||void 0)}setPersistence(y){var S=this;return(0,c.Z)(function*(){let K;switch(function xh(I,g){Ma(Object.values(as).includes(g),I,"invalid-persistence-type"),(0,Y.b$)()?Ma(g!==as.SESSION,I,"unsupported-persistence-type"):(0,Y.UG)()?Ma(g===as.NONE,I,"unsupported-persistence-type"):br()?Ma(g===as.NONE||g===as.LOCAL&&(0,Y.hl)(),I,"unsupported-persistence-type"):Ma(g===as.NONE||xd(),I,"unsupported-persistence-type")}(S._delegate,y),y){case as.SESSION:K=Yn;break;case as.LOCAL:K=(yield Ke(Ya)._isAvailable())?Ya:zo;break;case as.NONE:K=gn;break;default:return We("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Mo(this._delegate,function Ai(I){return Uo.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Mo(this._delegate,Hn(this._delegate,y))}signInWithCustomToken(y){return Mo(this._delegate,function Ss(I,g){return $n.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,S){return Mo(this._delegate,function Rt(I,g,y){return Hn((0,Y.m9)(I),ss.credential(g,y))}(this._delegate,y,S))}signInWithEmailLink(y,S){return Mo(this._delegate,function Sr(I,g,y){return ar.apply(this,arguments)}(this._delegate,y,S))}signInWithPhoneNumber(y,S){return co(this._delegate,function eo(I,g,y){return ns.apply(this,arguments)}(this._delegate,y,S))}signInWithPopup(y){var S=this;return(0,c.Z)(function*(){return El(su(),S._delegate,"operation-not-supported-in-this-environment"),Mo(S._delegate,function Sa(I,g,y){return Ao.apply(this,arguments)}(S._delegate,y,Ra))})()}signInWithRedirect(y){var S=this;return(0,c.Z)(function*(){return El(su(),S._delegate,"operation-not-supported-in-this-environment"),yield ou(S._delegate),function bt(I,g,y){return function Mt(I,g,y){return dn.apply(this,arguments)}(I,g,y)}(S._delegate,y,Ra)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function H(I,g){return w.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=as,I})();function Xc(I,g,y){let S=I;"function"!=typeof I&&({next:S,error:g,complete:y}=I);const K=S;return{next:gt=>K(gt&&xs.getOrCreate(gt)),error:g,complete:y}}function Qc(I,g){const y=function ls(I,g){const y=Yc();if(!y)return[];const S=Bn(Nr,I,g);switch(y.getItem(S)){case as.NONE:return[gn];case as.LOCAL:return[Ya,Yn];case as.SESSION:return[Yn];default:return[]}}(I,g);if("undefined"!=typeof self&&!y.includes(Ya)&&y.push(Ya),"undefined"!=typeof window)for(const S of[zo,Yn])y.includes(S)||y.push(S);return y.includes(gn)||y.push(gn),y}class Mh{constructor(){this.providerId="phone",this._delegate=new Xa(Oa(G.Z.auth()))}static credential(g,y){return Xa.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}Mh.PHONE_SIGN_IN_METHOD=Xa.PHONE_SIGN_IN_METHOD,Mh.PROVIDER_ID=Xa.PROVIDER_ID;const Od=se;class Tp{constructor(g,y,S=G.Z.app()){var K;Od(null===(K=S.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new Ui(g,y,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wl(I){I.INTERNAL.registerComponent(new Ee.wA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new Zc(y,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ss,FacebookAuthProvider:Wi,GithubAuthProvider:Vs,GoogleAuthProvider:Ps,OAuthProvider:Li,SAMLAuthProvider:Bi,PhoneAuthProvider:Mh,PhoneMultiFactorGenerator:el,RecaptchaVerifier:Tp,TwitterAuthProvider:ko,Auth:Zc,AuthCredential:Or,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.2.15")}(G.Z)},6463:(en,ut,M)=>{"use strict";var c=M(3942),G=M(5525),Y=M(2090),Ne=M(4859);function Ee(Ye,ee){if(void 0===ee)return{merge:!1};if(void 0!==ee.mergeFields&&void 0!==ee.merge)throw new G.WA("invalid-argument",`Invalid options passed to function ${Ye}(): You cannot specify both "merge" and "mergeFields".`);return ee}function ge(){if("undefined"==typeof Uint8Array)throw new G.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Be(){if(!(0,G.Me)())throw new G.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class te{constructor(ee){this._delegate=ee}static fromBase64String(ee){return Be(),new te(G.Jj.fromBase64String(ee))}static fromUint8Array(ee){return ge(),new te(G.Jj.fromUint8Array(ee))}toBase64(){return Be(),this._delegate.toBase64()}toUint8Array(){return ge(),this._delegate.toUint8Array()}isEqual(ee){return this._delegate.isEqual(ee._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function de(Ye){return function Te(Ye,ee){if("object"!=typeof Ye||null===Ye)return!1;const X=Ye;for(const ce of ee)if(ce in X&&"function"==typeof X[ce])return!0;return!1}(Ye,["next","error","complete"])}class Me{enableIndexedDbPersistence(ee,X){return(0,G.ST)(ee._delegate,{forceOwnership:X})}enableMultiTabIndexedDbPersistence(ee){return(0,G.fH)(ee._delegate)}clearIndexedDbPersistence(ee){return(0,G.Fc)(ee._delegate)}}class Oe{constructor(ee,X,ce){this._delegate=X,this._persistenceProvider=ce,this.INTERNAL={delete:()=>this.terminate()},ee instanceof G.l7||(this._appCompat=ee)}get _databaseId(){return this._delegate._databaseId}settings(ee){const X=this._delegate._getSettings();!ee.merge&&X.host!==ee.host&&(0,G.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ee.merge&&delete(ee=Object.assign(Object.assign({},X),ee)).merge,this._delegate._setSettings(ee)}useEmulator(ee,X,ce={}){(0,G.at)(this._delegate,ee,X,ce)}enableNetwork(){return(0,G.Ix)(this._delegate)}disableNetwork(){return(0,G.TF)(this._delegate)}enablePersistence(ee){let X=!1,ce=!1;return ee&&(X=!!ee.synchronizeTabs,ce=!!ee.experimentalForceOwningTab,(0,G.Wi)("synchronizeTabs",X,"experimentalForceOwningTab",ce)),X?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ce)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,G.Mx)(this._delegate)}onSnapshotsInSync(ee){return(0,G.sc)(this._delegate,ee)}get app(){if(!this._appCompat)throw new G.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ee){try{return new rt(this,(0,G.hJ)(this._delegate,ee))}catch(X){throw We(X,"collection()","Firestore.collection()")}}doc(ee){try{return new Et(this,(0,G.JU)(this._delegate,ee))}catch(X){throw We(X,"doc()","Firestore.doc()")}}collectionGroup(ee){try{return new se(this,(0,G.B$)(this._delegate,ee))}catch(X){throw We(X,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ee){return(0,G.i3)(this._delegate,X=>ee(new Ae(this,X)))}batch(){return(0,G.qY)(this._delegate),new Le(new G.PU(this._delegate,ee=>(0,G.GL)(this._delegate,ee)))}loadBundle(ee){return(0,G.Pb)(this._delegate,ee)}namedQuery(ee){return(0,G.L$)(this._delegate,ee).then(X=>X?new se(this,X):null)}}class qe extends G.u7{constructor(ee){super(),this.firestore=ee}convertBytes(ee){return new te(new G.Jj(ee))}convertReference(ee){const X=this.convertDocumentKey(ee,this.firestore._databaseId);return Et.forKey(X,this.firestore,null)}}class Ae{constructor(ee,X){this._firestore=ee,this._delegate=X,this._userDataWriter=new qe(ee)}get(ee){const X=Ke(ee);return this._delegate.get(X).then(ce=>new Ue(this._firestore,new G.xU(this._firestore._delegate,this._userDataWriter,ce._key,ce._document,ce.metadata,X.converter)))}set(ee,X,ce){const we=Ke(ee);return ce?(Ee("Transaction.set",ce),this._delegate.set(we,X,ce)):this._delegate.set(we,X),this}update(ee,X,ce,...we){const _e=Ke(ee);return 2===arguments.length?this._delegate.update(_e,X):this._delegate.update(_e,X,ce,...we),this}delete(ee){const X=Ke(ee);return this._delegate.delete(X),this}}class Le{constructor(ee){this._delegate=ee}set(ee,X,ce){const we=Ke(ee);return ce?(Ee("WriteBatch.set",ce),this._delegate.set(we,X,ce)):this._delegate.set(we,X),this}update(ee,X,ce,...we){const _e=Ke(ee);return 2===arguments.length?this._delegate.update(_e,X):this._delegate.update(_e,X,ce,...we),this}delete(ee){const X=Ke(ee);return this._delegate.delete(X),this}commit(){return this._delegate.commit()}}class ht{constructor(ee,X,ce){this._firestore=ee,this._userDataWriter=X,this._delegate=ce}fromFirestore(ee,X){const ce=new G.$q(this._firestore._delegate,this._userDataWriter,ee._key,ee._document,ee.metadata,null);return this._delegate.fromFirestore(new Xe(this._firestore,ce),null!=X?X:{})}toFirestore(ee,X){return X?this._delegate.toFirestore(ee,X):this._delegate.toFirestore(ee)}static getInstance(ee,X){const ce=ht.INSTANCES;let we=ce.get(ee);we||(we=new WeakMap,ce.set(ee,we));let _e=we.get(X);return _e||(_e=new ht(ee,new qe(ee),X),we.set(X,_e)),_e}}ht.INSTANCES=new WeakMap;class Et{constructor(ee,X){this.firestore=ee,this._delegate=X,this._userDataWriter=new qe(ee)}static forPath(ee,X,ce){if(ee.length%2!=0)throw new G.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ee.canonicalString()} has ${ee.length}`);return new Et(X,new G.my(X._delegate,ce,new G.Ky(ee)))}static forKey(ee,X,ce){return new Et(X,new G.my(X._delegate,ce,ee))}get id(){return this._delegate.id}get parent(){return new rt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ee){try{return new rt(this.firestore,(0,G.hJ)(this._delegate,ee))}catch(X){throw We(X,"collection()","DocumentReference.collection()")}}isEqual(ee){return(ee=(0,Y.m9)(ee))instanceof G.my&&(0,G.Eo)(this._delegate,ee)}set(ee,X){X=Ee("DocumentReference.set",X);try{return X?(0,G.pl)(this._delegate,ee,X):(0,G.pl)(this._delegate,ee)}catch(ce){throw We(ce,"setDoc()","DocumentReference.set()")}}update(ee,X,...ce){try{return 1===arguments.length?(0,G.r7)(this._delegate,ee):(0,G.r7)(this._delegate,ee,X,...ce)}catch(we){throw We(we,"updateDoc()","DocumentReference.update()")}}delete(){return(0,G.oe)(this._delegate)}onSnapshot(...ee){const X=Ze(ee),ce=st(ee,we=>new Ue(this.firestore,new G.xU(this.firestore._delegate,this._userDataWriter,we._key,we._document,we.metadata,this._delegate.converter)));return(0,G.cf)(this._delegate,X,ce)}get(ee){let X;return X="cache"===(null==ee?void 0:ee.source)?(0,G.kl)(this._delegate):"server"===(null==ee?void 0:ee.source)?(0,G.Xk)(this._delegate):(0,G.QT)(this._delegate),X.then(ce=>new Ue(this.firestore,new G.xU(this.firestore._delegate,this._userDataWriter,ce._key,ce._document,ce.metadata,this._delegate.converter)))}withConverter(ee){return new Et(this.firestore,this._delegate.withConverter(ee?ht.getInstance(this.firestore,ee):null))}}function We(Ye,ee,X){return Ye.message=Ye.message.replace(ee,X),Ye}function Ze(Ye){for(const ee of Ye)if("object"==typeof ee&&!de(ee))return ee;return{}}function st(Ye,ee){var X,ce;let we;return we=de(Ye[0])?Ye[0]:de(Ye[1])?Ye[1]:"function"==typeof Ye[0]?{next:Ye[0],error:Ye[1],complete:Ye[2]}:{next:Ye[1],error:Ye[2],complete:Ye[3]},{next:_e=>{we.next&&we.next(ee(_e))},error:null===(X=we.error)||void 0===X?void 0:X.bind(we),complete:null===(ce=we.complete)||void 0===ce?void 0:ce.bind(we)}}class Ue{constructor(ee,X){this._firestore=ee,this._delegate=X}get ref(){return new Et(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ee){return this._delegate.data(ee)}get(ee,X){return this._delegate.get(ee,X)}isEqual(ee){return(0,G.qK)(this._delegate,ee._delegate)}}class Xe extends Ue{data(ee){const X=this._delegate.data(ee);return(0,G.K9)(void 0!==X,"Document in a QueryDocumentSnapshot should exist"),X}}class se{constructor(ee,X){this.firestore=ee,this._delegate=X,this._userDataWriter=new qe(ee)}where(ee,X,ce){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.ar)(ee,X,ce)))}catch(we){throw We(we,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ee,X){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.Xo)(ee,X)))}catch(ce){throw We(ce,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ee){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.b9)(ee)))}catch(X){throw We(X,"limit()","Query.limit()")}}limitToLast(ee){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.vh)(ee)))}catch(X){throw We(X,"limitToLast()","Query.limitToLast()")}}startAt(...ee){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.e0)(...ee)))}catch(X){throw We(X,"startAt()","Query.startAt()")}}startAfter(...ee){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.TQ)(...ee)))}catch(X){throw We(X,"startAfter()","Query.startAfter()")}}endBefore(...ee){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.Lx)(...ee)))}catch(X){throw We(X,"endBefore()","Query.endBefore()")}}endAt(...ee){try{return new se(this.firestore,(0,G.IO)(this._delegate,(0,G.Wu)(...ee)))}catch(X){throw We(X,"endAt()","Query.endAt()")}}isEqual(ee){return(0,G.iE)(this._delegate,ee._delegate)}get(ee){let X;return X="cache"===(null==ee?void 0:ee.source)?(0,G.UQ)(this._delegate):"server"===(null==ee?void 0:ee.source)?(0,G.zN)(this._delegate):(0,G.PL)(this._delegate),X.then(ce=>new dt(this.firestore,new G.W(this.firestore._delegate,this._userDataWriter,this._delegate,ce._snapshot)))}onSnapshot(...ee){const X=Ze(ee),ce=st(ee,we=>new dt(this.firestore,new G.W(this.firestore._delegate,this._userDataWriter,this._delegate,we._snapshot)));return(0,G.cf)(this._delegate,X,ce)}withConverter(ee){return new se(this.firestore,this._delegate.withConverter(ee?ht.getInstance(this.firestore,ee):null))}}class Qe{constructor(ee,X){this._firestore=ee,this._delegate=X}get type(){return this._delegate.type}get doc(){return new Xe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dt{constructor(ee,X){this._firestore=ee,this._delegate=X}get query(){return new se(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ee=>new Xe(this._firestore,ee))}docChanges(ee){return this._delegate.docChanges(ee).map(X=>new Qe(this._firestore,X))}forEach(ee,X){this._delegate.forEach(ce=>{ee.call(X,new Xe(this._firestore,ce))})}isEqual(ee){return(0,G.qK)(this._delegate,ee._delegate)}}class rt extends se{constructor(ee,X){super(ee,X),this.firestore=ee,this._delegate=X}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ee=this._delegate.parent;return ee?new Et(this.firestore,ee):null}doc(ee){try{return new Et(this.firestore,void 0===ee?(0,G.JU)(this._delegate):(0,G.JU)(this._delegate,ee))}catch(X){throw We(X,"doc()","CollectionReference.doc()")}}add(ee){return(0,G.ET)(this._delegate,ee).then(X=>new Et(this.firestore,X))}isEqual(ee){return(0,G.Eo)(this._delegate,ee._delegate)}withConverter(ee){return new rt(this.firestore,this._delegate.withConverter(ee?ht.getInstance(this.firestore,ee):null))}}function Ke(Ye){return(0,G.Cf)(Ye,G.my)}class ft{constructor(...ee){this._delegate=new G.Lz(...ee)}static documentId(){return new ft(G.Xb.keyField().canonicalString())}isEqual(ee){return(ee=(0,Y.m9)(ee))instanceof G.Lz&&this._delegate._internalPath.isEqual(ee._internalPath)}}class vt{constructor(ee){this._delegate=ee}static serverTimestamp(){const ee=(0,G.Bt)();return ee._methodName="FieldValue.serverTimestamp",new vt(ee)}static delete(){const ee=(0,G.AK)();return ee._methodName="FieldValue.delete",new vt(ee)}static arrayUnion(...ee){const X=(0,G.vr)(...ee);return X._methodName="FieldValue.arrayUnion",new vt(X)}static arrayRemove(...ee){const X=(0,G.Ab)(...ee);return X._methodName="FieldValue.arrayRemove",new vt(X)}static increment(ee){const X=(0,G.nP)(ee);return X._methodName="FieldValue.increment",new vt(X)}isEqual(ee){return this._delegate.isEqual(ee._delegate)}}const un={Firestore:Oe,GeoPoint:G.F8,Timestamp:G.EK,Blob:te,Transaction:Ae,WriteBatch:Le,DocumentReference:Et,DocumentSnapshot:Ue,Query:se,QueryDocumentSnapshot:Xe,QuerySnapshot:dt,CollectionReference:rt,FieldPath:ft,FieldValue:vt,setLogLevel:function ke(Ye){(0,G.Ub)(Ye)},CACHE_SIZE_UNLIMITED:G.IX};!function Ct(Ye){(function Xt(Ye,ee){Ye.INTERNAL.registerComponent(new Ne.wA("firestore-compat",X=>{const ce=X.getProvider("app-compat").getImmediate(),we=X.getProvider("firestore").getImmediate();return ee(ce,we)},"PUBLIC").setServiceProps(Object.assign({},un)))})(Ye,(ee,X)=>new Oe(ee,X,new Me)),Ye.registerVersion("@firebase/firestore-compat","0.1.18")}(c.Z)},1135:(en,ut,M)=>{"use strict";M.d(ut,{X:()=>G});var c=M(7579);class G extends c.x{constructor(Ne){super(),this._value=Ne}get value(){return this.getValue()}_subscribe(Ne){const be=super._subscribe(Ne);return!be.closed&&Ne.next(this._value),be}getValue(){const{hasError:Ne,thrownError:be,_value:De}=this;if(Ne)throw be;return this._throwIfClosed(),De}next(Ne){super.next(this._value=Ne)}}},8306:(en,ut,M)=>{"use strict";M.d(ut,{y:()=>te});var c=M(930),G=M(727),Y=M(8822),Ne=M(4671);var Ee=M(2416),ge=M(576),Be=M(2806);let te=(()=>{class Oe{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ae=new Oe;return Ae.source=this,Ae.operator=ke,Ae}subscribe(ke,Ae,Le){const ht=function Me(Oe){return Oe&&Oe instanceof c.Lv||function Te(Oe){return Oe&&(0,ge.m)(Oe.next)&&(0,ge.m)(Oe.error)&&(0,ge.m)(Oe.complete)}(Oe)&&(0,G.Nn)(Oe)}(ke)?ke:new c.Hp(ke,Ae,Le);return(0,Be.x)(()=>{const{operator:Et,source:We}=this;ht.add(Et?Et.call(ht,We):We?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ae){ke.error(Ae)}}forEach(ke,Ae){return new(Ae=de(Ae))((Le,ht)=>{const Et=new c.Hp({next:We=>{try{ke(We)}catch(Ze){ht(Ze),Et.unsubscribe()}},error:ht,complete:Le});this.subscribe(Et)})}_subscribe(ke){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ke)}[Y.L](){return this}pipe(...ke){return function De(Oe){return 0===Oe.length?Ne.y:1===Oe.length?Oe[0]:function(ke){return Oe.reduce((Ae,Le)=>Le(Ae),ke)}}(ke)(this)}toPromise(ke){return new(ke=de(ke))((Ae,Le)=>{let ht;this.subscribe(Et=>ht=Et,Et=>Le(Et),()=>Ae(ht))})}}return Oe.create=qe=>new Oe(qe),Oe})();function de(Oe){var qe;return null!==(qe=null!=Oe?Oe:Ee.v.Promise)&&void 0!==qe?qe:Promise}},7579:(en,ut,M)=>{"use strict";M.d(ut,{x:()=>Ee});var c=M(8306),G=M(727);const Ne=(0,M(3888).d)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=M(8737),De=M(2806);let Ee=(()=>{class Be extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Te=new ge(this,this);return Te.operator=de,Te}_throwIfClosed(){if(this.closed)throw new Ne}next(de){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(de)}})}error(de){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Te}=this;for(;Te.length;)Te.shift().error(de)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Te,isStopped:Me,observers:Oe}=this;return Te||Me?G.Lc:(this.currentObservers=null,Oe.push(de),new G.w0(()=>{this.currentObservers=null,(0,be.P)(Oe,de)}))}_checkFinalizedStatuses(de){const{hasError:Te,thrownError:Me,isStopped:Oe}=this;Te?de.error(Me):Oe&&de.complete()}asObservable(){const de=new c.y;return de.source=this,de}}return Be.create=(te,de)=>new ge(te,de),Be})();class ge extends Ee{constructor(te,de){super(),this.destination=te,this.source=de}next(te){var de,Te;null===(Te=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Te||Te.call(de,te)}error(te){var de,Te;null===(Te=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Te||Te.call(de,te)}complete(){var te,de;null===(de=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===de||de.call(te)}_subscribe(te){var de,Te;return null!==(Te=null===(de=this.source)||void 0===de?void 0:de.subscribe(te))&&void 0!==Te?Te:G.Lc}}},930:(en,ut,M)=>{"use strict";M.d(ut,{Hp:()=>ke,Lv:()=>Te});var c=M(576),G=M(727),Y=M(2416),Ne=M(7849),be=M(5032);const De=Be("C",void 0,void 0);function Be(We,Ze,st){return{kind:We,value:Ze,error:st}}var te=M(3410),de=M(2806);class Te extends G.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,G.Nn)(Ze)&&Ze.add(this)):this.destination=Et}static create(Ze,st,Ue){return new ke(Ze,st,Ue)}next(Ze){this.isStopped?ht(function ge(We){return Be("N",We,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?ht(function Ee(We){return Be("E",void 0,We)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?ht(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Oe(We,Ze){return Me.call(We,Ze)}class qe{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:st}=this;if(st.next)try{st.next(Ze)}catch(Ue){Ae(Ue)}}error(Ze){const{partialObserver:st}=this;if(st.error)try{st.error(Ze)}catch(Ue){Ae(Ue)}else Ae(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(st){Ae(st)}}}class ke extends Te{constructor(Ze,st,Ue){let Xe;if(super(),(0,c.m)(Ze)||!Ze)Xe={next:null!=Ze?Ze:void 0,error:null!=st?st:void 0,complete:null!=Ue?Ue:void 0};else{let se;this&&Y.v.useDeprecatedNextContext?(se=Object.create(Ze),se.unsubscribe=()=>this.unsubscribe(),Xe={next:Ze.next&&Oe(Ze.next,se),error:Ze.error&&Oe(Ze.error,se),complete:Ze.complete&&Oe(Ze.complete,se)}):Xe=Ze}this.destination=new qe(Xe)}}function Ae(We){Y.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,Ne.h)(We)}function ht(We,Ze){const{onStoppedNotification:st}=Y.v;st&&te.z.setTimeout(()=>st(We,Ze))}const Et={closed:!0,next:be.Z,error:function Le(We){throw We},complete:be.Z}},727:(en,ut,M)=>{"use strict";M.d(ut,{Lc:()=>De,w0:()=>be,Nn:()=>Ee});var c=M(576);const Y=(0,M(3888).d)(Be=>function(de){Be(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Te,Me)=>`${Me+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ne=M(8737);class be{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Oe of de)Oe.remove(this);else de.remove(this);const{initialTeardown:Te}=this;if((0,c.m)(Te))try{Te()}catch(Oe){te=Oe instanceof Y?Oe.errors:[Oe]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Oe of Me)try{ge(Oe)}catch(qe){te=null!=te?te:[],qe instanceof Y?te=[...te,...qe.errors]:te.push(qe)}}if(te)throw new Y(te)}}add(te){var de;if(te&&te!==this)if(this.closed)ge(te);else{if(te instanceof be){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(te)}}_hasParent(te){const{_parentage:de}=this;return de===te||Array.isArray(de)&&de.includes(te)}_addParent(te){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(te),de):de?[de,te]:te}_removeParent(te){const{_parentage:de}=this;de===te?this._parentage=null:Array.isArray(de)&&(0,Ne.P)(de,te)}remove(te){const{_finalizers:de}=this;de&&(0,Ne.P)(de,te),te instanceof be&&te._removeParent(this)}}be.EMPTY=(()=>{const Be=new be;return Be.closed=!0,Be})();const De=be.EMPTY;function Ee(Be){return Be instanceof be||Be&&"closed"in Be&&(0,c.m)(Be.remove)&&(0,c.m)(Be.add)&&(0,c.m)(Be.unsubscribe)}function ge(Be){(0,c.m)(Be)?Be():Be.unsubscribe()}},2416:(en,ut,M)=>{"use strict";M.d(ut,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(en,ut,M)=>{"use strict";M.d(ut,{a:()=>te});var c=M(8306),G=M(4742),Y=M(8996),Ne=M(4671),be=M(3268),De=M(7669),Ee=M(1810),ge=M(5403),Be=M(9672);function te(...Me){const Oe=(0,De.yG)(Me),qe=(0,De.jO)(Me),{args:ke,keys:Ae}=(0,G.D)(Me);if(0===ke.length)return(0,Y.D)([],Oe);const Le=new c.y(function de(Me,Oe,qe=Ne.y){return ke=>{Te(Oe,()=>{const{length:Ae}=Me,Le=new Array(Ae);let ht=Ae,Et=Ae;for(let We=0;We<Ae;We++)Te(Oe,()=>{const Ze=(0,Y.D)(Me[We],Oe);let st=!1;Ze.subscribe((0,ge.x)(ke,Ue=>{Le[We]=Ue,st||(st=!0,Et--),Et||ke.next(qe(Le.slice()))},()=>{--ht||ke.complete()}))},ke)},ke)}}(ke,Oe,Ae?ht=>(0,Ee.n)(Ae,ht):Ne.y));return qe?Le.pipe((0,be.Z)(qe)):Le}function Te(Me,Oe,qe){Me?(0,Be.f)(qe,Me,Oe):Oe()}},7272:(en,ut,M)=>{"use strict";M.d(ut,{z:()=>be});var c=M(8189),Y=M(7669),Ne=M(8996);function be(...De){return function G(){return(0,c.J)(1)}()((0,Ne.D)(De,(0,Y.yG)(De)))}},515:(en,ut,M)=>{"use strict";M.d(ut,{E:()=>G});const G=new(M(8306).y)(be=>be.complete())},8996:(en,ut,M)=>{"use strict";M.d(ut,{D:()=>Ze});var c=M(8421),G=M(5363),Y=M(9468),De=M(8306),ge=M(2202),Be=M(576),te=M(9672);function Te(st,Ue){if(!st)throw new Error("Iterable cannot be null");return new De.y(Xe=>{(0,te.f)(Xe,Ue,()=>{const se=st[Symbol.asyncIterator]();(0,te.f)(Xe,Ue,()=>{se.next().then(Qe=>{Qe.done?Xe.complete():Xe.next(Qe.value)})},0,!0)})})}var Me=M(3670),Oe=M(8239),qe=M(1144),ke=M(6495),Ae=M(2206),Le=M(4532),ht=M(3260);function Ze(st,Ue){return Ue?function We(st,Ue){if(null!=st){if((0,Me.c)(st))return function Ne(st,Ue){return(0,c.Xf)(st).pipe((0,Y.R)(Ue),(0,G.Q)(Ue))}(st,Ue);if((0,qe.z)(st))return function Ee(st,Ue){return new De.y(Xe=>{let se=0;return Ue.schedule(function(){se===st.length?Xe.complete():(Xe.next(st[se++]),Xe.closed||this.schedule())})})}(st,Ue);if((0,Oe.t)(st))return function be(st,Ue){return(0,c.Xf)(st).pipe((0,Y.R)(Ue),(0,G.Q)(Ue))}(st,Ue);if((0,Ae.D)(st))return Te(st,Ue);if((0,ke.T)(st))return function de(st,Ue){return new De.y(Xe=>{let se;return(0,te.f)(Xe,Ue,()=>{se=st[ge.h](),(0,te.f)(Xe,Ue,()=>{let Qe,dt;try{({value:Qe,done:dt}=se.next())}catch(rt){return void Xe.error(rt)}dt?Xe.complete():Xe.next(Qe)},0,!0)}),()=>(0,Be.m)(null==se?void 0:se.return)&&se.return()})}(st,Ue);if((0,ht.L)(st))return function Et(st,Ue){return Te((0,ht.Q)(st),Ue)}(st,Ue)}throw(0,Le.z)(st)}(st,Ue):(0,c.Xf)(st)}},8421:(en,ut,M)=>{"use strict";M.d(ut,{Xf:()=>Me});var c=M(7582),G=M(1144),Y=M(8239),Ne=M(8306),be=M(3670),De=M(2206),Ee=M(4532),ge=M(6495),Be=M(3260),te=M(576),de=M(7849),Te=M(8822);function Me(We){if(We instanceof Ne.y)return We;if(null!=We){if((0,be.c)(We))return function Oe(We){return new Ne.y(Ze=>{const st=We[Te.L]();if((0,te.m)(st.subscribe))return st.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,G.z)(We))return function qe(We){return new Ne.y(Ze=>{for(let st=0;st<We.length&&!Ze.closed;st++)Ze.next(We[st]);Ze.complete()})}(We);if((0,Y.t)(We))return function ke(We){return new Ne.y(Ze=>{We.then(st=>{Ze.closed||(Ze.next(st),Ze.complete())},st=>Ze.error(st)).then(null,de.h)})}(We);if((0,De.D)(We))return Le(We);if((0,ge.T)(We))return function Ae(We){return new Ne.y(Ze=>{for(const st of We)if(Ze.next(st),Ze.closed)return;Ze.complete()})}(We);if((0,Be.L)(We))return function ht(We){return Le((0,Be.Q)(We))}(We)}throw(0,Ee.z)(We)}function Le(We){return new Ne.y(Ze=>{(function Et(We,Ze){var st,Ue,Xe,se;return(0,c.mG)(this,void 0,void 0,function*(){try{for(st=(0,c.KL)(We);!(Ue=yield st.next()).done;)if(Ze.next(Ue.value),Ze.closed)return}catch(Qe){Xe={error:Qe}}finally{try{Ue&&!Ue.done&&(se=st.return)&&(yield se.call(st))}finally{if(Xe)throw Xe.error}}Ze.complete()})})(We,Ze).catch(st=>Ze.error(st))})}},6451:(en,ut,M)=>{"use strict";M.d(ut,{T:()=>De});var c=M(8189),G=M(8421),Y=M(515),Ne=M(7669),be=M(8996);function De(...Ee){const ge=(0,Ne.yG)(Ee),Be=(0,Ne._6)(Ee,1/0),te=Ee;return te.length?1===te.length?(0,G.Xf)(te[0]):(0,c.J)(Be)((0,be.D)(te,ge)):Y.E}},9646:(en,ut,M)=>{"use strict";M.d(ut,{of:()=>Y});var c=M(7669),G=M(8996);function Y(...Ne){const be=(0,c.yG)(Ne);return(0,G.D)(Ne,be)}},2843:(en,ut,M)=>{"use strict";M.d(ut,{_:()=>Y});var c=M(8306),G=M(576);function Y(Ne,be){const De=(0,G.m)(Ne)?Ne:()=>Ne,Ee=ge=>ge.error(De());return new c.y(be?ge=>be.schedule(Ee,0,ge):Ee)}},5403:(en,ut,M)=>{"use strict";M.d(ut,{x:()=>G});var c=M(930);function G(Ne,be,De,Ee,ge){return new Y(Ne,be,De,Ee,ge)}class Y extends c.Lv{constructor(be,De,Ee,ge,Be,te){super(be),this.onFinalize=Be,this.shouldUnsubscribe=te,this._next=De?function(de){try{De(de)}catch(Te){be.error(Te)}}:super._next,this._error=ge?function(de){try{ge(de)}catch(Te){be.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(de){be.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},262:(en,ut,M)=>{"use strict";M.d(ut,{K:()=>Ne});var c=M(8421),G=M(5403),Y=M(4482);function Ne(be){return(0,Y.e)((De,Ee)=>{let te,ge=null,Be=!1;ge=De.subscribe((0,G.x)(Ee,void 0,void 0,de=>{te=(0,c.Xf)(be(de,Ne(be)(De))),ge?(ge.unsubscribe(),ge=null,te.subscribe(Ee)):Be=!0})),Be&&(ge.unsubscribe(),ge=null,te.subscribe(Ee))})}},4351:(en,ut,M)=>{"use strict";M.d(ut,{b:()=>Y});var c=M(5577),G=M(576);function Y(Ne,be){return(0,G.m)(be)?(0,c.z)(Ne,be,1):(0,c.z)(Ne,1)}},6590:(en,ut,M)=>{"use strict";M.d(ut,{d:()=>Y});var c=M(4482),G=M(5403);function Y(Ne){return(0,c.e)((be,De)=>{let Ee=!1;be.subscribe((0,G.x)(De,ge=>{Ee=!0,De.next(ge)},()=>{Ee||De.next(Ne),De.complete()}))})}},1884:(en,ut,M)=>{"use strict";M.d(ut,{x:()=>Ne});var c=M(4671),G=M(4482),Y=M(5403);function Ne(De,Ee=c.y){return De=null!=De?De:be,(0,G.e)((ge,Be)=>{let te,de=!0;ge.subscribe((0,Y.x)(Be,Te=>{const Me=Ee(Te);(de||!De(te,Me))&&(de=!1,te=Me,Be.next(Te))}))})}function be(De,Ee){return De===Ee}},9300:(en,ut,M)=>{"use strict";M.d(ut,{h:()=>Y});var c=M(4482),G=M(5403);function Y(Ne,be){return(0,c.e)((De,Ee)=>{let ge=0;De.subscribe((0,G.x)(Ee,Be=>Ne.call(be,Be,ge++)&&Ee.next(Be)))})}},590:(en,ut,M)=>{"use strict";M.d(ut,{P:()=>Ee});var c=M(6805),G=M(9300),Y=M(5698),Ne=M(6590),be=M(8068),De=M(4671);function Ee(ge,Be){const te=arguments.length>=2;return de=>de.pipe(ge?(0,G.h)((Te,Me)=>ge(Te,Me,de)):De.y,(0,Y.q)(1),te?(0,Ne.d)(Be):(0,be.T)(()=>new c.K))}},4004:(en,ut,M)=>{"use strict";M.d(ut,{U:()=>Y});var c=M(4482),G=M(5403);function Y(Ne,be){return(0,c.e)((De,Ee)=>{let ge=0;De.subscribe((0,G.x)(Ee,Be=>{Ee.next(Ne.call(be,Be,ge++))}))})}},8189:(en,ut,M)=>{"use strict";M.d(ut,{J:()=>Y});var c=M(5577),G=M(4671);function Y(Ne=1/0){return(0,c.z)(G.y,Ne)}},5577:(en,ut,M)=>{"use strict";M.d(ut,{z:()=>ge});var c=M(4004),G=M(8421),Y=M(4482),Ne=M(9672),be=M(5403),Ee=M(576);function ge(Be,te,de=1/0){return(0,Ee.m)(te)?ge((Te,Me)=>(0,c.U)((Oe,qe)=>te(Te,Oe,Me,qe))((0,G.Xf)(Be(Te,Me))),de):("number"==typeof te&&(de=te),(0,Y.e)((Te,Me)=>function De(Be,te,de,Te,Me,Oe,qe,ke){const Ae=[];let Le=0,ht=0,Et=!1;const We=()=>{Et&&!Ae.length&&!Le&&te.complete()},Ze=Ue=>Le<Te?st(Ue):Ae.push(Ue),st=Ue=>{Oe&&te.next(Ue),Le++;let Xe=!1;(0,G.Xf)(de(Ue,ht++)).subscribe((0,be.x)(te,se=>{null==Me||Me(se),Oe?Ze(se):te.next(se)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(Le--;Ae.length&&Le<Te;){const se=Ae.shift();qe?(0,Ne.f)(te,qe,()=>st(se)):st(se)}We()}catch(se){te.error(se)}}))};return Be.subscribe((0,be.x)(te,Ze,()=>{Et=!0,We()})),()=>{null==ke||ke()}}(Te,Me,Be,de)))}},5363:(en,ut,M)=>{"use strict";M.d(ut,{Q:()=>Ne});var c=M(9672),G=M(4482),Y=M(5403);function Ne(be,De=0){return(0,G.e)((Ee,ge)=>{Ee.subscribe((0,Y.x)(ge,Be=>(0,c.f)(ge,be,()=>ge.next(Be),De),()=>(0,c.f)(ge,be,()=>ge.complete(),De),Be=>(0,c.f)(ge,be,()=>ge.error(Be),De)))})}},5026:(en,ut,M)=>{"use strict";M.d(ut,{R:()=>Ne});var c=M(4482),G=M(5403);function Y(be,De,Ee,ge,Be){return(te,de)=>{let Te=Ee,Me=De,Oe=0;te.subscribe((0,G.x)(de,qe=>{const ke=Oe++;Me=Te?be(Me,qe,ke):(Te=!0,qe),ge&&de.next(Me)},Be&&(()=>{Te&&de.next(Me),de.complete()})))}}function Ne(be,De){return(0,c.e)(Y(be,De,arguments.length>=2,!0))}},3099:(en,ut,M)=>{"use strict";M.d(ut,{B:()=>be});var c=M(8421),G=M(7579),Y=M(930),Ne=M(4482);function be(Ee={}){const{connector:ge=(()=>new G.x),resetOnError:Be=!0,resetOnComplete:te=!0,resetOnRefCountZero:de=!0}=Ee;return Te=>{let Me,Oe,qe,ke=0,Ae=!1,Le=!1;const ht=()=>{null==Oe||Oe.unsubscribe(),Oe=void 0},Et=()=>{ht(),Me=qe=void 0,Ae=Le=!1},We=()=>{const Ze=Me;Et(),null==Ze||Ze.unsubscribe()};return(0,Ne.e)((Ze,st)=>{ke++,!Le&&!Ae&&ht();const Ue=qe=null!=qe?qe:ge();st.add(()=>{ke--,0===ke&&!Le&&!Ae&&(Oe=De(We,de))}),Ue.subscribe(st),!Me&&ke>0&&(Me=new Y.Hp({next:Xe=>Ue.next(Xe),error:Xe=>{Le=!0,ht(),Oe=De(Et,Be,Xe),Ue.error(Xe)},complete:()=>{Ae=!0,ht(),Oe=De(Et,te),Ue.complete()}}),(0,c.Xf)(Ze).subscribe(Me))})(Te)}}function De(Ee,ge,...Be){if(!0===ge)return void Ee();if(!1===ge)return;const te=new Y.Hp({next:()=>{te.unsubscribe(),Ee()}});return(0,c.Xf)(ge(...Be)).subscribe(te)}},3151:(en,ut,M)=>{"use strict";M.d(ut,{d:()=>be});var c=M(7579),G=M(6063);class Y extends c.x{constructor(Ee=1/0,ge=1/0,Be=G.l){super(),this._bufferSize=Ee,this._windowTime=ge,this._timestampProvider=Be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ge===1/0,this._bufferSize=Math.max(1,Ee),this._windowTime=Math.max(1,ge)}next(Ee){const{isStopped:ge,_buffer:Be,_infiniteTimeWindow:te,_timestampProvider:de,_windowTime:Te}=this;ge||(Be.push(Ee),!te&&Be.push(de.now()+Te)),this._trimBuffer(),super.next(Ee)}_subscribe(Ee){this._throwIfClosed(),this._trimBuffer();const ge=this._innerSubscribe(Ee),{_infiniteTimeWindow:Be,_buffer:te}=this,de=te.slice();for(let Te=0;Te<de.length&&!Ee.closed;Te+=Be?1:2)Ee.next(de[Te]);return this._checkFinalizedStatuses(Ee),ge}_trimBuffer(){const{_bufferSize:Ee,_timestampProvider:ge,_buffer:Be,_infiniteTimeWindow:te}=this,de=(te?1:2)*Ee;if(Ee<1/0&&de<Be.length&&Be.splice(0,Be.length-de),!te){const Te=ge.now();let Me=0;for(let Oe=1;Oe<Be.length&&Be[Oe]<=Te;Oe+=2)Me=Oe;Me&&Be.splice(0,Me+1)}}}var Ne=M(3099);function be(De,Ee,ge){let Be,te=!1;return De&&"object"==typeof De?({bufferSize:Be=1/0,windowTime:Ee=1/0,refCount:te=!1,scheduler:ge}=De):Be=null!=De?De:1/0,(0,Ne.B)({connector:()=>new Y(Be,Ee,ge),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:te})}},8675:(en,ut,M)=>{"use strict";M.d(ut,{O:()=>Ne});var c=M(7272),G=M(7669),Y=M(4482);function Ne(...be){const De=(0,G.yG)(be);return(0,Y.e)((Ee,ge)=>{(De?(0,c.z)(be,Ee,De):(0,c.z)(be,Ee)).subscribe(ge)})}},9468:(en,ut,M)=>{"use strict";M.d(ut,{R:()=>G});var c=M(4482);function G(Y,Ne=0){return(0,c.e)((be,De)=>{De.add(Y.schedule(()=>be.subscribe(De),Ne))})}},3900:(en,ut,M)=>{"use strict";M.d(ut,{w:()=>Ne});var c=M(8421),G=M(4482),Y=M(5403);function Ne(be,De){return(0,G.e)((Ee,ge)=>{let Be=null,te=0,de=!1;const Te=()=>de&&!Be&&ge.complete();Ee.subscribe((0,Y.x)(ge,Me=>{null==Be||Be.unsubscribe();let Oe=0;const qe=te++;(0,c.Xf)(be(Me,qe)).subscribe(Be=(0,Y.x)(ge,ke=>ge.next(De?De(Me,ke,qe,Oe++):ke),()=>{Be=null,Te()}))},()=>{de=!0,Te()}))})}},5698:(en,ut,M)=>{"use strict";M.d(ut,{q:()=>Ne});var c=M(515),G=M(4482),Y=M(5403);function Ne(be){return be<=0?()=>c.E:(0,G.e)((De,Ee)=>{let ge=0;De.subscribe((0,Y.x)(Ee,Be=>{++ge<=be&&(Ee.next(Be),be<=ge&&Ee.complete())}))})}},8505:(en,ut,M)=>{"use strict";M.d(ut,{b:()=>be});var c=M(576),G=M(4482),Y=M(5403),Ne=M(4671);function be(De,Ee,ge){const Be=(0,c.m)(De)||Ee||ge?{next:De,error:Ee,complete:ge}:De;return Be?(0,G.e)((te,de)=>{var Te;null===(Te=Be.subscribe)||void 0===Te||Te.call(Be);let Me=!0;te.subscribe((0,Y.x)(de,Oe=>{var qe;null===(qe=Be.next)||void 0===qe||qe.call(Be,Oe),de.next(Oe)},()=>{var Oe;Me=!1,null===(Oe=Be.complete)||void 0===Oe||Oe.call(Be),de.complete()},Oe=>{var qe;Me=!1,null===(qe=Be.error)||void 0===qe||qe.call(Be,Oe),de.error(Oe)},()=>{var Oe,qe;Me&&(null===(Oe=Be.unsubscribe)||void 0===Oe||Oe.call(Be)),null===(qe=Be.finalize)||void 0===qe||qe.call(Be)}))}):Ne.y}},8068:(en,ut,M)=>{"use strict";M.d(ut,{T:()=>Ne});var c=M(6805),G=M(4482),Y=M(5403);function Ne(De=be){return(0,G.e)((Ee,ge)=>{let Be=!1;Ee.subscribe((0,Y.x)(ge,te=>{Be=!0,ge.next(te)},()=>Be?ge.complete():ge.error(De())))})}function be(){return new c.K}},4408:(en,ut,M)=>{"use strict";M.d(ut,{o:()=>be});var c=M(727);class G extends c.w0{constructor(Ee,ge){super()}schedule(Ee,ge=0){return this}}const Y={setInterval(De,Ee,...ge){const{delegate:Be}=Y;return(null==Be?void 0:Be.setInterval)?Be.setInterval(De,Ee,...ge):setInterval(De,Ee,...ge)},clearInterval(De){const{delegate:Ee}=Y;return((null==Ee?void 0:Ee.clearInterval)||clearInterval)(De)},delegate:void 0};var Ne=M(8737);class be extends G{constructor(Ee,ge){super(Ee,ge),this.scheduler=Ee,this.work=ge,this.pending=!1}schedule(Ee,ge=0){var Be;if(this.closed)return this;this.state=Ee;const te=this.id,de=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(de,te,ge)),this.pending=!0,this.delay=ge,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(de,this.id,ge),this}requestAsyncId(Ee,ge,Be=0){return Y.setInterval(Ee.flush.bind(Ee,this),Be)}recycleAsyncId(Ee,ge,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return ge;null!=ge&&Y.clearInterval(ge)}execute(Ee,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Ee,ge);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ge){let te,Be=!1;try{this.work(Ee)}catch(de){Be=!0,te=de||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:ge}=this,{actions:Be}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ne.P)(Be,this),null!=Ee&&(this.id=this.recycleAsyncId(ge,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(en,ut,M)=>{"use strict";M.d(ut,{v:()=>Y});var c=M(6063);class G{constructor(be,De=G.now){this.schedulerActionCtor=be,this.now=De}schedule(be,De=0,Ee){return new this.schedulerActionCtor(this,be).schedule(Ee,De)}}G.now=c.l.now;class Y extends G{constructor(be,De=G.now){super(be,De),this.actions=[],this._active=!1}flush(be){const{actions:De}=this;if(this._active)return void De.push(be);let Ee;this._active=!0;do{if(Ee=be.execute(be.state,be.delay))break}while(be=De.shift());if(this._active=!1,Ee){for(;be=De.shift();)be.unsubscribe();throw Ee}}}},4986:(en,ut,M)=>{"use strict";M.d(ut,{z:()=>Y});var c=M(4408);const Y=new(M(7565).v)(c.o)},6063:(en,ut,M)=>{"use strict";M.d(ut,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(en,ut,M)=>{"use strict";M.d(ut,{z:()=>c});const c={setTimeout(G,Y,...Ne){const{delegate:be}=c;return(null==be?void 0:be.setTimeout)?be.setTimeout(G,Y,...Ne):setTimeout(G,Y,...Ne)},clearTimeout(G){const{delegate:Y}=c;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(G)},delegate:void 0}},2202:(en,ut,M)=>{"use strict";M.d(ut,{h:()=>G});const G=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(en,ut,M)=>{"use strict";M.d(ut,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(en,ut,M)=>{"use strict";M.d(ut,{K:()=>G});const G=(0,M(3888).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(en,ut,M)=>{"use strict";M.d(ut,{_6:()=>De,jO:()=>Ne,yG:()=>be});var c=M(576);function Y(Ee){return Ee[Ee.length-1]}function Ne(Ee){return(0,c.m)(Y(Ee))?Ee.pop():void 0}function be(Ee){return function G(Ee){return Ee&&(0,c.m)(Ee.schedule)}(Y(Ee))?Ee.pop():void 0}function De(Ee,ge){return"number"==typeof Y(Ee)?Ee.pop():ge}},4742:(en,ut,M)=>{"use strict";M.d(ut,{D:()=>be});const{isArray:c}=Array,{getPrototypeOf:G,prototype:Y,keys:Ne}=Object;function be(Ee){if(1===Ee.length){const ge=Ee[0];if(c(ge))return{args:ge,keys:null};if(function De(Ee){return Ee&&"object"==typeof Ee&&G(Ee)===Y}(ge)){const Be=Ne(ge);return{args:Be.map(te=>ge[te]),keys:Be}}}return{args:Ee,keys:null}}},8737:(en,ut,M)=>{"use strict";function c(G,Y){if(G){const Ne=G.indexOf(Y);0<=Ne&&G.splice(Ne,1)}}M.d(ut,{P:()=>c})},3888:(en,ut,M)=>{"use strict";function c(G){const Ne=G(be=>{Error.call(be),be.stack=(new Error).stack});return Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne,Ne}M.d(ut,{d:()=>c})},1810:(en,ut,M)=>{"use strict";function c(G,Y){return G.reduce((Ne,be,De)=>(Ne[be]=Y[De],Ne),{})}M.d(ut,{n:()=>c})},2806:(en,ut,M)=>{"use strict";M.d(ut,{x:()=>Y,O:()=>Ne});var c=M(2416);let G=null;function Y(be){if(c.v.useDeprecatedSynchronousErrorHandling){const De=!G;if(De&&(G={errorThrown:!1,error:null}),be(),De){const{errorThrown:Ee,error:ge}=G;if(G=null,Ee)throw ge}}else be()}function Ne(be){c.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=be)}},9672:(en,ut,M)=>{"use strict";function c(G,Y,Ne,be=0,De=!1){const Ee=Y.schedule(function(){Ne(),De?G.add(this.schedule(null,be)):this.unsubscribe()},be);if(G.add(Ee),!De)return Ee}M.d(ut,{f:()=>c})},4671:(en,ut,M)=>{"use strict";function c(G){return G}M.d(ut,{y:()=>c})},1144:(en,ut,M)=>{"use strict";M.d(ut,{z:()=>c});const c=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(en,ut,M)=>{"use strict";M.d(ut,{D:()=>G});var c=M(576);function G(Y){return Symbol.asyncIterator&&(0,c.m)(null==Y?void 0:Y[Symbol.asyncIterator])}},576:(en,ut,M)=>{"use strict";function c(G){return"function"==typeof G}M.d(ut,{m:()=>c})},3670:(en,ut,M)=>{"use strict";M.d(ut,{c:()=>Y});var c=M(8822),G=M(576);function Y(Ne){return(0,G.m)(Ne[c.L])}},6495:(en,ut,M)=>{"use strict";M.d(ut,{T:()=>Y});var c=M(2202),G=M(576);function Y(Ne){return(0,G.m)(null==Ne?void 0:Ne[c.h])}},8239:(en,ut,M)=>{"use strict";M.d(ut,{t:()=>G});var c=M(576);function G(Y){return(0,c.m)(null==Y?void 0:Y.then)}},3260:(en,ut,M)=>{"use strict";M.d(ut,{Q:()=>Y,L:()=>Ne});var c=M(7582),G=M(576);function Y(be){return(0,c.FC)(this,arguments,function*(){const Ee=be.getReader();try{for(;;){const{value:ge,done:Be}=yield(0,c.qq)(Ee.read());if(Be)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ge)}}finally{Ee.releaseLock()}})}function Ne(be){return(0,G.m)(null==be?void 0:be.getReader)}},4482:(en,ut,M)=>{"use strict";M.d(ut,{A:()=>G,e:()=>Y});var c=M(576);function G(Ne){return(0,c.m)(null==Ne?void 0:Ne.lift)}function Y(Ne){return be=>{if(G(be))return be.lift(function(De){try{return Ne(De,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(en,ut,M)=>{"use strict";M.d(ut,{Z:()=>Ne});var c=M(4004);const{isArray:G}=Array;function Ne(be){return(0,c.U)(De=>function Y(be,De){return G(De)?be(...De):be(De)}(be,De))}},5032:(en,ut,M)=>{"use strict";function c(){}M.d(ut,{Z:()=>c})},7849:(en,ut,M)=>{"use strict";M.d(ut,{h:()=>Y});var c=M(2416),G=M(3410);function Y(Ne){G.z.setTimeout(()=>{const{onUnhandledError:be}=c.v;if(!be)throw Ne;be(Ne)})}},4532:(en,ut,M)=>{"use strict";function c(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(ut,{z:()=>c})},863:(en,ut,M)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function G(Y){if(!M.o(c,Y))return Promise.resolve().then(()=>{var De=new Error("Cannot find module '"+Y+"'");throw De.code="MODULE_NOT_FOUND",De});var Ne=c[Y],be=Ne[0];return Promise.all(Ne.slice(1).map(M.e)).then(()=>M(be))}G.keys=()=>Object.keys(c),G.id=863,en.exports=G},9808:(en,ut,M)=>{"use strict";M.d(ut,{mr:()=>ht,ez:()=>Co,H9:()=>fi,K0:()=>Ee,uU:()=>yr,JJ:()=>ss,Do:()=>We,V_:()=>te,Ye:()=>Ze,S$:()=>Ae,mk:()=>ki,sg:()=>Xr,O5:()=>ne,PC:()=>mn,tP:()=>Vn,b0:()=>Et,lw:()=>ge,EM:()=>Uo,JF:()=>Pr,PM:()=>Us,w_:()=>De,bD:()=>Ji,q:()=>Y,Mx:()=>di,HT:()=>be});var c=M(5e3);let G=null;function Y(){return G}function be($){G||(G=$)}class De{}const Ee=new c.OlP("DocumentToken");let ge=(()=>{class ${historyGo(V){throw new Error("Not implemented")}}return $.\u0275fac=function(V){return new(V||$)},$.\u0275prov=c.Yz7({token:$,factory:function(){return function Be(){return(0,c.LFG)(de)}()},providedIn:"platform"}),$})();const te=new c.OlP("Location Initialized");let de=(()=>{class $ extends ge{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(V){const he=Y().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",V,!1),()=>he.removeEventListener("popstate",V)}onHashChange(V){const he=Y().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",V,!1),()=>he.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,he,tt){Te()?this._history.pushState(V,he,tt):this.location.hash=tt}replaceState(V,he,tt){Te()?this._history.replaceState(V,he,tt):this.location.hash=tt}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return $.\u0275fac=function(V){return new(V||$)(c.LFG(Ee))},$.\u0275prov=c.Yz7({token:$,factory:function(){return function Me(){return new de((0,c.LFG)(Ee))}()},providedIn:"platform"}),$})();function Te(){return!!window.history.pushState}function Oe($,le){if(0==$.length)return le;if(0==le.length)return $;let V=0;return $.endsWith("/")&&V++,le.startsWith("/")&&V++,2==V?$+le.substring(1):1==V?$+le:$+"/"+le}function qe($){const le=$.match(/#|\?|$/),V=le&&le.index||$.length;return $.slice(0,V-("/"===$[V-1]?1:0))+$.slice(V)}function ke($){return $&&"?"!==$[0]?"?"+$:$}let Ae=(()=>{class ${historyGo(V){throw new Error("Not implemented")}}return $.\u0275fac=function(V){return new(V||$)},$.\u0275prov=c.Yz7({token:$,factory:function(){return function Le($){const le=(0,c.LFG)(Ee).location;return new Et((0,c.LFG)(ge),le&&le.origin||"")}()},providedIn:"root"}),$})();const ht=new c.OlP("appBaseHref");let Et=(()=>{class $ extends Ae{constructor(V,he){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==he&&(he=this._platformLocation.getBaseHrefFromDOM()),null==he)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=he}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Oe(this._baseHref,V)}path(V=!1){const he=this._platformLocation.pathname+ke(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&V?`${he}${tt}`:he}pushState(V,he,tt,Nt){const qt=this.prepareExternalUrl(tt+ke(Nt));this._platformLocation.pushState(V,he,qt)}replaceState(V,he,tt,Nt){const qt=this.prepareExternalUrl(tt+ke(Nt));this._platformLocation.replaceState(V,he,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var he,tt;null===(tt=(he=this._platformLocation).historyGo)||void 0===tt||tt.call(he,V)}}return $.\u0275fac=function(V){return new(V||$)(c.LFG(ge),c.LFG(ht,8))},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})(),We=(()=>{class $ extends Ae{constructor(V,he){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(V){const he=Oe(this._baseHref,V);return he.length>0?"#"+he:he}pushState(V,he,tt,Nt){let qt=this.prepareExternalUrl(tt+ke(Nt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState(V,he,qt)}replaceState(V,he,tt,Nt){let qt=this.prepareExternalUrl(tt+ke(Nt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState(V,he,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var he,tt;null===(tt=(he=this._platformLocation).historyGo)||void 0===tt||tt.call(he,V)}}return $.\u0275fac=function(V){return new(V||$)(c.LFG(ge),c.LFG(ht,8))},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})(),Ze=(()=>{class ${constructor(V,he){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const tt=this._platformStrategy.getBaseHref();this._platformLocation=he,this._baseHref=qe(Xe(tt)),this._platformStrategy.onPopState(Nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Nt.state,type:Nt.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,he=""){return this.path()==this.normalize(V+ke(he))}normalize(V){return $.stripTrailingSlash(function Ue($,le){return $&&le.startsWith($)?le.substring($.length):le}(this._baseHref,Xe(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,he="",tt=null){this._platformStrategy.pushState(tt,"",V,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ke(he)),tt)}replaceState(V,he="",tt=null){this._platformStrategy.replaceState(tt,"",V,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ke(he)),tt)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var he,tt;null===(tt=(he=this._platformStrategy).historyGo)||void 0===tt||tt.call(he,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)}))}_notifyUrlChangeListeners(V="",he){this._urlChangeListeners.forEach(tt=>tt(V,he))}subscribe(V,he,tt){return this._subject.subscribe({next:V,error:he,complete:tt})}}return $.normalizeQueryParams=ke,$.joinWithSlash=Oe,$.stripTrailingSlash=qe,$.\u0275fac=function(V){return new(V||$)(c.LFG(Ae),c.LFG(ge))},$.\u0275prov=c.Yz7({token:$,factory:function(){return function st(){return new Ze((0,c.LFG)(Ae),(0,c.LFG)(ge))}()},providedIn:"root"}),$})();function Xe($){return $.replace(/\/index.html$/,"")}const se={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Percent=1]="Percent",Qe[Qe.Currency=2]="Currency",Qe[Qe.Scientific=3]="Scientific",Qe))(),rt=(()=>((rt=rt||{})[rt.Format=0]="Format",rt[rt.Standalone=1]="Standalone",rt))(),Ke=(()=>((Ke=Ke||{})[Ke.Narrow=0]="Narrow",Ke[Ke.Abbreviated=1]="Abbreviated",Ke[Ke.Wide=2]="Wide",Ke[Ke.Short=3]="Short",Ke))(),ft=(()=>((ft=ft||{})[ft.Short=0]="Short",ft[ft.Medium=1]="Medium",ft[ft.Long=2]="Long",ft[ft.Full=3]="Full",ft))(),vt=(()=>((vt=vt||{})[vt.Decimal=0]="Decimal",vt[vt.Group=1]="Group",vt[vt.List=2]="List",vt[vt.PercentSign=3]="PercentSign",vt[vt.PlusSign=4]="PlusSign",vt[vt.MinusSign=5]="MinusSign",vt[vt.Exponential=6]="Exponential",vt[vt.SuperscriptingExponent=7]="SuperscriptingExponent",vt[vt.PerMille=8]="PerMille",vt[vt.Infinity=9]="Infinity",vt[vt.NaN=10]="NaN",vt[vt.TimeSeparator=11]="TimeSeparator",vt[vt.CurrencyDecimal=12]="CurrencyDecimal",vt[vt.CurrencyGroup=13]="CurrencyGroup",vt))();function _e($,le){return ln((0,c.cg1)($)[c.wAp.DateFormat],le)}function je($,le){return ln((0,c.cg1)($)[c.wAp.TimeFormat],le)}function ye($,le){return ln((0,c.cg1)($)[c.wAp.DateTimeFormat],le)}function Ce($,le){const V=(0,c.cg1)($),he=V[c.wAp.NumberSymbols][le];if(void 0===he){if(le===vt.CurrencyDecimal)return V[c.wAp.NumberSymbols][vt.Decimal];if(le===vt.CurrencyGroup)return V[c.wAp.NumberSymbols][vt.Group]}return he}function kt($,le){return(0,c.cg1)($)[c.wAp.NumberFormats][le]}function hn($){if(!$[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${$[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ln($,le){for(let V=le;V>-1;V--)if(void 0!==$[V])return $[V];throw new Error("Locale data API: locale data undefined")}function Zn($){const[le,V]=$.split(":");return{hours:+le,minutes:+V}}const He=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Je={},Yt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pt=(()=>((pt=pt||{})[pt.Short=0]="Short",pt[pt.ShortGMT=1]="ShortGMT",pt[pt.Long=2]="Long",pt[pt.Extended=3]="Extended",pt))(),Wt=(()=>((Wt=Wt||{})[Wt.FullYear=0]="FullYear",Wt[Wt.Month=1]="Month",Wt[Wt.Date=2]="Date",Wt[Wt.Hours=3]="Hours",Wt[Wt.Minutes=4]="Minutes",Wt[Wt.Seconds=5]="Seconds",Wt[Wt.FractionalSeconds=6]="FractionalSeconds",Wt[Wt.Day=7]="Day",Wt))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function Wn($,le,V,he){let tt=function Gi($){if(Vr($))return $;if("number"==typeof $&&!isNaN($))return new Date($);if("string"==typeof $){if($=$.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($)){const[tt,Nt=1,qt=1]=$.split("-").map(On=>+On);return jn(tt,Nt-1,qt)}const V=parseFloat($);if(!isNaN($-V))return new Date(V);let he;if(he=$.match(He))return function Pi($){const le=new Date(0);let V=0,he=0;const tt=$[8]?le.setUTCFullYear:le.setFullYear,Nt=$[8]?le.setUTCHours:le.setHours;$[9]&&(V=Number($[9]+$[10]),he=Number($[9]+$[11])),tt.call(le,Number($[1]),Number($[2])-1,Number($[3]));const qt=Number($[4]||0)-V,On=Number($[5]||0)-he,Hn=Number($[6]||0),fr=Math.floor(1e3*parseFloat("0."+($[7]||0)));return Nt.call(le,qt,On,Hn,fr),le}(he)}const le=new Date($);if(!Vr(le))throw new Error(`Unable to convert "${$}" into a date`);return le}($);le=pn(V,le)||le;let On,qt=[];for(;le;){if(On=Yt.exec(le),!On){qt.push(le);break}{qt=qt.concat(On.slice(1));const sr=qt.pop();if(!sr)break;le=sr}}let Hn=tt.getTimezoneOffset();he&&(Hn=Hr(he,Hn),tt=function Ei($,le,V){const he=V?-1:1,tt=$.getTimezoneOffset();return function Hi($,le){return($=new Date($.getTime())).setMinutes($.getMinutes()+le),$}($,he*(Hr(le,tt)-tt))}(tt,he,!0));let fr="";return qt.forEach(sr=>{const cr=function Bn($){if(gn[$])return gn[$];let le;switch($){case"G":case"GG":case"GGG":le=it(Dt.Eras,Ke.Abbreviated);break;case"GGGG":le=it(Dt.Eras,Ke.Wide);break;case"GGGGG":le=it(Dt.Eras,Ke.Narrow);break;case"y":le=xe(Wt.FullYear,1,0,!1,!0);break;case"yy":le=xe(Wt.FullYear,2,0,!0,!0);break;case"yyy":le=xe(Wt.FullYear,3,0,!1,!0);break;case"yyyy":le=xe(Wt.FullYear,4,0,!1,!0);break;case"Y":le=dr(1);break;case"YY":le=dr(2,!0);break;case"YYY":le=dr(3);break;case"YYYY":le=dr(4);break;case"M":case"L":le=xe(Wt.Month,1,1);break;case"MM":case"LL":le=xe(Wt.Month,2,1);break;case"MMM":le=it(Dt.Months,Ke.Abbreviated);break;case"MMMM":le=it(Dt.Months,Ke.Wide);break;case"MMMMM":le=it(Dt.Months,Ke.Narrow);break;case"LLL":le=it(Dt.Months,Ke.Abbreviated,rt.Standalone);break;case"LLLL":le=it(Dt.Months,Ke.Wide,rt.Standalone);break;case"LLLLL":le=it(Dt.Months,Ke.Narrow,rt.Standalone);break;case"w":le=nn(1);break;case"ww":le=nn(2);break;case"W":le=nn(1,!0);break;case"d":le=xe(Wt.Date,1);break;case"dd":le=xe(Wt.Date,2);break;case"c":case"cc":le=xe(Wt.Day,1);break;case"ccc":le=it(Dt.Days,Ke.Abbreviated,rt.Standalone);break;case"cccc":le=it(Dt.Days,Ke.Wide,rt.Standalone);break;case"ccccc":le=it(Dt.Days,Ke.Narrow,rt.Standalone);break;case"cccccc":le=it(Dt.Days,Ke.Short,rt.Standalone);break;case"E":case"EE":case"EEE":le=it(Dt.Days,Ke.Abbreviated);break;case"EEEE":le=it(Dt.Days,Ke.Wide);break;case"EEEEE":le=it(Dt.Days,Ke.Narrow);break;case"EEEEEE":le=it(Dt.Days,Ke.Short);break;case"a":case"aa":case"aaa":le=it(Dt.DayPeriods,Ke.Abbreviated);break;case"aaaa":le=it(Dt.DayPeriods,Ke.Wide);break;case"aaaaa":le=it(Dt.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":le=it(Dt.DayPeriods,Ke.Abbreviated,rt.Standalone,!0);break;case"bbbb":le=it(Dt.DayPeriods,Ke.Wide,rt.Standalone,!0);break;case"bbbbb":le=it(Dt.DayPeriods,Ke.Narrow,rt.Standalone,!0);break;case"B":case"BB":case"BBB":le=it(Dt.DayPeriods,Ke.Abbreviated,rt.Format,!0);break;case"BBBB":le=it(Dt.DayPeriods,Ke.Wide,rt.Format,!0);break;case"BBBBB":le=it(Dt.DayPeriods,Ke.Narrow,rt.Format,!0);break;case"h":le=xe(Wt.Hours,1,-12);break;case"hh":le=xe(Wt.Hours,2,-12);break;case"H":le=xe(Wt.Hours,1);break;case"HH":le=xe(Wt.Hours,2);break;case"m":le=xe(Wt.Minutes,1);break;case"mm":le=xe(Wt.Minutes,2);break;case"s":le=xe(Wt.Seconds,1);break;case"ss":le=xe(Wt.Seconds,2);break;case"S":le=xe(Wt.FractionalSeconds,1);break;case"SS":le=xe(Wt.FractionalSeconds,2);break;case"SSS":le=xe(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=ze(pt.Short);break;case"ZZZZZ":le=ze(pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=ze(pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=ze(pt.Long);break;default:return null}return gn[$]=le,le}(sr);fr+=cr?cr(tt,V,Hn):"''"===sr?"'":sr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),fr}function jn($,le,V){const he=new Date(0);return he.setFullYear($,le,V),he.setHours(0,0,0),he}function pn($,le){const V=function Xt($){return(0,c.cg1)($)[c.wAp.LocaleId]}($);if(Je[V]=Je[V]||{},Je[V][le])return Je[V][le];let he="";switch(le){case"shortDate":he=_e($,ft.Short);break;case"mediumDate":he=_e($,ft.Medium);break;case"longDate":he=_e($,ft.Long);break;case"fullDate":he=_e($,ft.Full);break;case"shortTime":he=je($,ft.Short);break;case"mediumTime":he=je($,ft.Medium);break;case"longTime":he=je($,ft.Long);break;case"fullTime":he=je($,ft.Full);break;case"short":const tt=pn($,"shortTime"),Nt=pn($,"shortDate");he=Mr(ye($,ft.Short),[tt,Nt]);break;case"medium":const qt=pn($,"mediumTime"),On=pn($,"mediumDate");he=Mr(ye($,ft.Medium),[qt,On]);break;case"long":const Hn=pn($,"longTime"),fr=pn($,"longDate");he=Mr(ye($,ft.Long),[Hn,fr]);break;case"full":const sr=pn($,"fullTime"),cr=pn($,"fullDate");he=Mr(ye($,ft.Full),[sr,cr])}return he&&(Je[V][le]=he),he}function Mr($,le){return le&&($=$.replace(/\{([^}]+)}/g,function(V,he){return null!=le&&he in le?le[he]:V})),$}function jr($,le,V="-",he,tt){let Nt="";($<0||tt&&$<=0)&&(tt?$=1-$:($=-$,Nt=V));let qt=String($);for(;qt.length<le;)qt="0"+qt;return he&&(qt=qt.substr(qt.length-le)),Nt+qt}function xe($,le,V=0,he=!1,tt=!1){return function(Nt,qt){let On=function Ge($,le){switch($){case Wt.FullYear:return le.getFullYear();case Wt.Month:return le.getMonth();case Wt.Date:return le.getDate();case Wt.Hours:return le.getHours();case Wt.Minutes:return le.getMinutes();case Wt.Seconds:return le.getSeconds();case Wt.FractionalSeconds:return le.getMilliseconds();case Wt.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${$}".`)}}($,Nt);if((V>0||On>-V)&&(On+=V),$===Wt.Hours)0===On&&-12===V&&(On=12);else if($===Wt.FractionalSeconds)return function Br($,le){return jr($,3).substr(0,le)}(On,le);const Hn=Ce(qt,vt.MinusSign);return jr(On,le,Hn,he,tt)}}function it($,le,V=rt.Format,he=!1){return function(tt,Nt){return function $t($,le,V,he,tt,Nt){switch(V){case Dt.Months:return function ee($,le,V){const he=(0,c.cg1)($),Nt=ln([he[c.wAp.MonthsFormat],he[c.wAp.MonthsStandalone]],le);return ln(Nt,V)}(le,tt,he)[$.getMonth()];case Dt.Days:return function Ye($,le,V){const he=(0,c.cg1)($),Nt=ln([he[c.wAp.DaysFormat],he[c.wAp.DaysStandalone]],le);return ln(Nt,V)}(le,tt,he)[$.getDay()];case Dt.DayPeriods:const qt=$.getHours(),On=$.getMinutes();if(Nt){const fr=function Pn($){const le=(0,c.cg1)($);return hn(le),(le[c.wAp.ExtraData][2]||[]).map(he=>"string"==typeof he?Zn(he):[Zn(he[0]),Zn(he[1])])}(le),sr=function vn($,le,V){const he=(0,c.cg1)($);hn(he);const Nt=ln([he[c.wAp.ExtraData][0],he[c.wAp.ExtraData][1]],le)||[];return ln(Nt,V)||[]}(le,tt,he),cr=fr.findIndex(gi=>{if(Array.isArray(gi)){const[Wr,Kr]=gi,Xs=qt>=Wr.hours&&On>=Wr.minutes,Ss=qt<Kr.hours||qt===Kr.hours&&On<Kr.minutes;if(Wr.hours<Kr.hours){if(Xs&&Ss)return!0}else if(Xs||Ss)return!0}else if(gi.hours===qt&&gi.minutes===On)return!0;return!1});if(-1!==cr)return sr[cr]}return function Ct($,le,V){const he=(0,c.cg1)($),Nt=ln([he[c.wAp.DayPeriodsFormat],he[c.wAp.DayPeriodsStandalone]],le);return ln(Nt,V)}(le,tt,he)[qt<12?0:1];case Dt.Eras:return function X($,le){return ln((0,c.cg1)($)[c.wAp.Eras],le)}(le,he)[$.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(tt,Nt,$,le,V,he)}}function ze($){return function(le,V,he){const tt=-1*he,Nt=Ce(V,vt.MinusSign),qt=tt>0?Math.floor(tt/60):Math.ceil(tt/60);switch($){case pt.Short:return(tt>=0?"+":"")+jr(qt,2,Nt)+jr(Math.abs(tt%60),2,Nt);case pt.ShortGMT:return"GMT"+(tt>=0?"+":"")+jr(qt,1,Nt);case pt.Long:return"GMT"+(tt>=0?"+":"")+jr(qt,2,Nt)+":"+jr(Math.abs(tt%60),2,Nt);case pt.Extended:return 0===he?"Z":(tt>=0?"+":"")+jr(qt,2,Nt)+":"+jr(Math.abs(tt%60),2,Nt);default:throw new Error(`Unknown zone width "${$}"`)}}}function Cn($){return jn($.getFullYear(),$.getMonth(),$.getDate()+(4-$.getDay()))}function nn($,le=!1){return function(V,he){let tt;if(le){const Nt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,qt=V.getDate();tt=1+Math.floor((qt+Nt)/7)}else{const Nt=Cn(V),qt=function fn($){const le=jn($,0,1).getDay();return jn($,0,1+(le<=4?4:11)-le)}(Nt.getFullYear()),On=Nt.getTime()-qt.getTime();tt=1+Math.round(On/6048e5)}return jr(tt,$,Ce(he,vt.MinusSign))}}function dr($,le=!1){return function(V,he){return jr(Cn(V).getFullYear(),$,Ce(he,vt.MinusSign),le)}}const gn={};function Hr($,le){$=$.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+$)/6e4;return isNaN(V)?le:V}function Vr($){return $ instanceof Date&&!isNaN($.valueOf())}const oi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ai($,le,V,he,tt,Nt,qt=!1){let On="",Hn=!1;if(isFinite($)){let fr=function ri($){let he,tt,Nt,qt,On,le=Math.abs($)+"",V=0;for((tt=le.indexOf("."))>-1&&(le=le.replace(".","")),(Nt=le.search(/e/i))>0?(tt<0&&(tt=Nt),tt+=+le.slice(Nt+1),le=le.substring(0,Nt)):tt<0&&(tt=le.length),Nt=0;"0"===le.charAt(Nt);Nt++);if(Nt===(On=le.length))he=[0],tt=1;else{for(On--;"0"===le.charAt(On);)On--;for(tt-=Nt,he=[],qt=0;Nt<=On;Nt++,qt++)he[qt]=Number(le.charAt(Nt))}return tt>22&&(he=he.splice(0,21),V=tt-1,tt=1),{digits:he,exponent:V,integerLen:tt}}($);qt&&(fr=function Zr($){if(0===$.digits[0])return $;const le=$.digits.length-$.integerLen;return $.exponent?$.exponent+=2:(0===le?$.digits.push(0,0):1===le&&$.digits.push(0),$.integerLen+=2),$}(fr));let sr=le.minInt,cr=le.minFrac,gi=le.maxFrac;if(Nt){const vs=Nt.match(oi);if(null===vs)throw new Error(`${Nt} is not a valid digit info`);const mo=vs[1],Hs=vs[3],$o=vs[5];null!=mo&&(sr=hr(mo)),null!=Hs&&(cr=hr(Hs)),null!=$o?gi=hr($o):null!=Hs&&cr>gi&&(gi=cr)}!function lr($,le,V){if(le>V)throw new Error(`The minimum number of digits after fraction (${le}) is higher than the maximum (${V}).`);let he=$.digits,tt=he.length-$.integerLen;const Nt=Math.min(Math.max(le,tt),V);let qt=Nt+$.integerLen,On=he[qt];if(qt>0){he.splice(Math.max($.integerLen,qt));for(let cr=qt;cr<he.length;cr++)he[cr]=0}else{tt=Math.max(0,tt),$.integerLen=1,he.length=Math.max(1,qt=Nt+1),he[0]=0;for(let cr=1;cr<qt;cr++)he[cr]=0}if(On>=5)if(qt-1<0){for(let cr=0;cr>qt;cr--)he.unshift(0),$.integerLen++;he.unshift(1),$.integerLen++}else he[qt-1]++;for(;tt<Math.max(0,Nt);tt++)he.push(0);let Hn=0!==Nt;const fr=le+$.integerLen,sr=he.reduceRight(function(cr,gi,Wr,Kr){return Kr[Wr]=(gi+=cr)<10?gi:gi-10,Hn&&(0===Kr[Wr]&&Wr>=fr?Kr.pop():Hn=!1),gi>=10?1:0},0);sr&&(he.unshift(sr),$.integerLen++)}(fr,cr,gi);let Wr=fr.digits,Kr=fr.integerLen;const Xs=fr.exponent;let Ss=[];for(Hn=Wr.every(vs=>!vs);Kr<sr;Kr++)Wr.unshift(0);for(;Kr<0;Kr++)Wr.unshift(0);Kr>0?Ss=Wr.splice(Kr,Wr.length):(Ss=Wr,Wr=[0]);const $n=[];for(Wr.length>=le.lgSize&&$n.unshift(Wr.splice(-le.lgSize,Wr.length).join(""));Wr.length>le.gSize;)$n.unshift(Wr.splice(-le.gSize,Wr.length).join(""));Wr.length&&$n.unshift(Wr.join("")),On=$n.join(Ce(V,he)),Ss.length&&(On+=Ce(V,tt)+Ss.join("")),Xs&&(On+=Ce(V,vt.Exponential)+"+"+Xs)}else On=Ce(V,vt.Infinity);return On=$<0&&!Hn?le.negPre+On+le.negSuf:le.posPre+On+le.posSuf,On}function rr($,le="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},he=$.split(";"),tt=he[0],Nt=he[1],qt=-1!==tt.indexOf(".")?tt.split("."):[tt.substring(0,tt.lastIndexOf("0")+1),tt.substring(tt.lastIndexOf("0")+1)],On=qt[0],Hn=qt[1]||"";V.posPre=On.substr(0,On.indexOf("#"));for(let sr=0;sr<Hn.length;sr++){const cr=Hn.charAt(sr);"0"===cr?V.minFrac=V.maxFrac=sr+1:"#"===cr?V.maxFrac=sr+1:V.posSuf+=cr}const fr=On.split(",");if(V.gSize=fr[1]?fr[1].length:0,V.lgSize=fr[2]||fr[1]?(fr[2]||fr[1]).length:0,Nt){const sr=tt.length-V.posPre.length-V.posSuf.length,cr=Nt.indexOf("#");V.negPre=Nt.substr(0,cr).replace(/'/g,""),V.negSuf=Nt.substr(cr+sr).replace(/'/g,"")}else V.negPre=le+V.posPre,V.negSuf=V.posSuf;return V}function hr($){const le=parseInt($);if(isNaN(le))throw new Error("Invalid integer literal when parsing "+$);return le}function di($,le){le=encodeURIComponent(le);for(const V of $.split(";")){const he=V.indexOf("="),[tt,Nt]=-1==he?[V,""]:[V.slice(0,he),V.slice(he+1)];if(tt.trim()===le)return decodeURIComponent(Nt)}return null}let ki=(()=>{class ${constructor(V,he,tt,Nt){this._iterableDiffers=V,this._keyValueDiffers=he,this._ngEl=tt,this._renderer=Nt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(he=>this._toggleClass(he.key,he.currentValue)),V.forEachChangedItem(he=>this._toggleClass(he.key,he.currentValue)),V.forEachRemovedItem(he=>{he.previousValue&&this._toggleClass(he.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(he=>{if("string"!=typeof he.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(he.item)}`);this._toggleClass(he.item,!0)}),V.forEachRemovedItem(he=>this._toggleClass(he.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(he=>this._toggleClass(he,!0)):Object.keys(V).forEach(he=>this._toggleClass(he,!!V[he])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(he=>this._toggleClass(he,!1)):Object.keys(V).forEach(he=>this._toggleClass(he,!1)))}_toggleClass(V,he){(V=V.trim())&&V.split(/\s+/g).forEach(tt=>{he?this._renderer.addClass(this._ngEl.nativeElement,tt):this._renderer.removeClass(this._ngEl.nativeElement,tt)})}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},$.\u0275dir=c.lG2({type:$,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),$})();class Ci{constructor(le,V,he,tt){this.$implicit=le,this.ngForOf=V,this.index=he,this.count=tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xr=(()=>{class ${constructor(V,he,tt){this._viewContainer=V,this._template=he,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const he=this._viewContainer;V.forEachOperation((tt,Nt,qt)=>{if(null==tt.previousIndex)he.createEmbeddedView(this._template,new Ci(tt.item,this._ngForOf,-1,-1),null===qt?void 0:qt);else if(null==qt)he.remove(null===Nt?void 0:Nt);else if(null!==Nt){const On=he.get(Nt);he.move(On,qt),Di(On,tt)}});for(let tt=0,Nt=he.length;tt<Nt;tt++){const On=he.get(tt).context;On.index=tt,On.count=Nt,On.ngForOf=this._ngForOf}V.forEachIdentityChange(tt=>{Di(he.get(tt.currentIndex),tt)})}static ngTemplateContextGuard(V,he){return!0}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},$.\u0275dir=c.lG2({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),$})();function Di($,le){$.context.$implicit=le.item}let ne=(()=>{class ${constructor(V,he){this._viewContainer=V,this._context=new ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){ot("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){ot("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,he){return!0}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.s_b),c.Y36(c.Rgc))},$.\u0275dir=c.lG2({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),$})();class ve{constructor(){this.$implicit=null,this.ngIf=null}}function ot($,le){if(le&&!le.createEmbeddedView)throw new Error(`${$} must be a TemplateRef, but received '${(0,c.AaK)(le)}'.`)}let mn=(()=>{class ${constructor(V,he,tt){this._ngEl=V,this._differs=he,this._renderer=tt,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,he){const[tt,Nt]=V.split(".");null!=(he=null!=he&&Nt?`${he}${Nt}`:he)?this._renderer.setStyle(this._ngEl.nativeElement,tt,he):this._renderer.removeStyle(this._ngEl.nativeElement,tt)}_applyChanges(V){V.forEachRemovedItem(he=>this._setStyle(he.key,null)),V.forEachAddedItem(he=>this._setStyle(he.key,he.currentValue)),V.forEachChangedItem(he=>this._setStyle(he.key,he.currentValue))}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},$.\u0275dir=c.lG2({type:$,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),$})(),Vn=(()=>{class ${constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const he=this._viewContainerRef;this._viewRef&&he.remove(he.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?he.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.s_b))},$.\u0275dir=c.lG2({type:$,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),$})();function ir($,le){return new c.vHH(2100,"")}const Si=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let yr=(()=>{class ${constructor(V,he){this.locale=V,this.defaultTimezone=he}transform(V,he="mediumDate",tt,Nt){var qt;if(null==V||""===V||V!=V)return null;try{return Wn(V,he,Nt||this.locale,null!==(qt=null!=tt?tt:this.defaultTimezone)&&void 0!==qt?qt:void 0)}catch(On){throw ir()}}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.soG,16),c.Y36(Si,24))},$.\u0275pipe=c.Yjl({name:"date",type:$,pure:!0}),$})(),ss=(()=>{class ${constructor(V){this._locale=V}transform(V,he,tt){if(!Li(V))return null;tt=tt||this._locale;try{return function Dn($,le,V){return ai($,rr(kt(le,Qe.Decimal),Ce(le,vt.MinusSign)),le,vt.Group,vt.Decimal,V)}(Wi(V),tt,he)}catch(Nt){throw ir()}}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.soG,16))},$.\u0275pipe=c.Yjl({name:"number",type:$,pure:!0}),$})(),fi=(()=>{class ${constructor(V,he="USD"){this._locale=V,this._defaultCurrencyCode=he}transform(V,he=this._defaultCurrencyCode,tt="symbol",Nt,qt){if(!Li(V))return null;qt=qt||this._locale,"boolean"==typeof tt&&(tt=tt?"symbol":"code");let On=he||this._defaultCurrencyCode;"code"!==tt&&(On="symbol"===tt||"symbol-narrow"===tt?function Ir($,le,V="en"){const he=function In($){return(0,c.cg1)($)[c.wAp.Currencies]}(V)[$]||se[$]||[],tt=he[1];return"narrow"===le&&"string"==typeof tt?tt:he[0]||$}(On,"symbol"===tt?"wide":"narrow",qt):tt);try{return function Tr($,le,V,he,tt){const qt=rr(kt(le,Qe.Currency),Ce(le,vt.MinusSign));return qt.minFrac=function Ft($){let le;const V=se[$];return V&&(le=V[2]),"number"==typeof le?le:2}(he),qt.maxFrac=qt.minFrac,ai($,qt,le,vt.CurrencyGroup,vt.CurrencyDecimal,tt).replace("\xa4",V).replace("\xa4","").trim()}(Wi(V),qt,On,he,Nt)}catch(Hn){throw ir()}}}return $.\u0275fac=function(V){return new(V||$)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},$.\u0275pipe=c.Yjl({name:"currency",type:$,pure:!0}),$})();function Li($){return!(null==$||""===$||$!=$)}function Wi($){if("string"==typeof $&&!isNaN(Number($)-parseFloat($)))return Number($);if("number"!=typeof $)throw new Error(`${$} is not a number`);return $}let Co=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({}),$})();const Ji="browser";function Us($){return"server"===$}let Uo=(()=>{class ${}return $.\u0275prov=(0,c.Yz7)({token:$,providedIn:"root",factory:()=>new pi((0,c.LFG)(Ee),window)}),$})();class pi{constructor(le,V){this.document=le,this.window=V,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const V=function Ki($,le){const V=$.getElementById(le)||$.getElementsByName(le)[0];if(V)return V;if("function"==typeof $.createTreeWalker&&$.body&&($.body.createShadowRoot||$.body.attachShadow)){const he=$.createTreeWalker($.body,NodeFilter.SHOW_ELEMENT);let tt=he.currentNode;for(;tt;){const Nt=tt.shadowRoot;if(Nt){const qt=Nt.getElementById(le)||Nt.querySelector(`[name="${le}"]`);if(qt)return qt}tt=he.nextNode()}}return null}(this.document,le);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=le)}}scrollToElement(le){const V=le.getBoundingClientRect(),he=V.left+this.window.pageXOffset,tt=V.top+this.window.pageYOffset,Nt=this.offset();this.window.scrollTo(he-Nt[0],tt-Nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch(le){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(le){return!1}}}function es($){return Object.getOwnPropertyDescriptor($,"scrollRestoration")}class Pr{}},520:(en,ut,M)=>{"use strict";M.d(ut,{eN:()=>vt,JF:()=>Zn,WM:()=>te});var c=M(9808),G=M(5e3),Y=M(9646),Ne=M(8306),be=M(4351),De=M(9300),Ee=M(4004);class ge{}class Be{}class te{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?this.lazyInit="string"==typeof He?()=>{this.headers=new Map,He.split("\n").forEach(Je=>{const Yt=Je.indexOf(":");if(Yt>0){const pt=Je.slice(0,Yt),Wt=pt.toLowerCase(),Dt=Je.slice(Yt+1).trim();this.maybeSetNormalizedName(pt,Wt),this.headers.has(Wt)?this.headers.get(Wt).push(Dt):this.headers.set(Wt,[Dt])}})}:()=>{this.headers=new Map,Object.keys(He).forEach(Je=>{let Yt=He[Je];const pt=Je.toLowerCase();"string"==typeof Yt&&(Yt=[Yt]),Yt.length>0&&(this.headers.set(pt,Yt),this.maybeSetNormalizedName(Je,pt))})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const Je=this.headers.get(He.toLowerCase());return Je&&Je.length>0?Je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,Je){return this.clone({name:He,value:Je,op:"a"})}set(He,Je){return this.clone({name:He,value:Je,op:"s"})}delete(He,Je){return this.clone({name:He,value:Je,op:"d"})}maybeSetNormalizedName(He,Je){this.normalizedNames.has(Je)||this.normalizedNames.set(Je,He)}init(){this.lazyInit&&(this.lazyInit instanceof te?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(Je=>{this.headers.set(Je,He.headers.get(Je)),this.normalizedNames.set(Je,He.normalizedNames.get(Je))})}clone(He){const Je=new te;return Je.lazyInit=this.lazyInit&&this.lazyInit instanceof te?this.lazyInit:this,Je.lazyUpdate=(this.lazyUpdate||[]).concat([He]),Je}applyUpdate(He){const Je=He.name.toLowerCase();switch(He.op){case"a":case"s":let Yt=He.value;if("string"==typeof Yt&&(Yt=[Yt]),0===Yt.length)return;this.maybeSetNormalizedName(He.name,Je);const pt=("a"===He.op?this.headers.get(Je):void 0)||[];pt.push(...Yt),this.headers.set(Je,pt);break;case"d":const Wt=He.value;if(Wt){let Dt=this.headers.get(Je);if(!Dt)return;Dt=Dt.filter(Wn=>-1===Wt.indexOf(Wn)),0===Dt.length?(this.headers.delete(Je),this.normalizedNames.delete(Je)):this.headers.set(Je,Dt)}else this.headers.delete(Je),this.normalizedNames.delete(Je)}}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(Je=>He(this.normalizedNames.get(Je),this.headers.get(Je)))}}class de{encodeKey(He){return qe(He)}encodeValue(He){return qe(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const Me=/%(\d[a-f0-9])/gi,Oe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qe(Ft){return encodeURIComponent(Ft).replace(Me,(He,Je)=>{var Yt;return null!==(Yt=Oe[Je])&&void 0!==Yt?Yt:He})}function ke(Ft){return`${Ft}`}class Ae{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new de,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Te(Ft,He){const Je=new Map;return Ft.length>0&&Ft.replace(/^\?/,"").split("&").forEach(pt=>{const Wt=pt.indexOf("="),[Dt,Wn]=-1==Wt?[He.decodeKey(pt),""]:[He.decodeKey(pt.slice(0,Wt)),He.decodeValue(pt.slice(Wt+1))],jn=Je.get(Dt)||[];jn.push(Wn),Je.set(Dt,jn)}),Je}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(Je=>{const Yt=He.fromObject[Je];this.map.set(Je,Array.isArray(Yt)?Yt:[Yt])})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const Je=this.map.get(He);return Je?Je[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,Je){return this.clone({param:He,value:Je,op:"a"})}appendAll(He){const Je=[];return Object.keys(He).forEach(Yt=>{const pt=He[Yt];Array.isArray(pt)?pt.forEach(Wt=>{Je.push({param:Yt,value:Wt,op:"a"})}):Je.push({param:Yt,value:pt,op:"a"})}),this.clone(Je)}set(He,Je){return this.clone({param:He,value:Je,op:"s"})}delete(He,Je){return this.clone({param:He,value:Je,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const Je=this.encoder.encodeKey(He);return this.map.get(He).map(Yt=>Je+"="+this.encoder.encodeValue(Yt)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const Je=new Ae({encoder:this.encoder});return Je.cloneFrom=this.cloneFrom||this,Je.updates=(this.updates||[]).concat(He),Je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const Je=("a"===He.op?this.map.get(He.param):void 0)||[];Je.push(ke(He.value)),this.map.set(He.param,Je);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let Yt=this.map.get(He.param)||[];const pt=Yt.indexOf(ke(He.value));-1!==pt&&Yt.splice(pt,1),Yt.length>0?this.map.set(He.param,Yt):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class ht{constructor(){this.map=new Map}set(He,Je){return this.map.set(He,Je),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function We(Ft){return"undefined"!=typeof ArrayBuffer&&Ft instanceof ArrayBuffer}function Ze(Ft){return"undefined"!=typeof Blob&&Ft instanceof Blob}function st(Ft){return"undefined"!=typeof FormData&&Ft instanceof FormData}class Xe{constructor(He,Je,Yt,pt){let Wt;if(this.url=Je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function Et(Ft){switch(Ft){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pt?(this.body=void 0!==Yt?Yt:null,Wt=pt):Wt=Yt,Wt&&(this.reportProgress=!!Wt.reportProgress,this.withCredentials=!!Wt.withCredentials,Wt.responseType&&(this.responseType=Wt.responseType),Wt.headers&&(this.headers=Wt.headers),Wt.context&&(this.context=Wt.context),Wt.params&&(this.params=Wt.params)),this.headers||(this.headers=new te),this.context||(this.context=new ht),this.params){const Dt=this.params.toString();if(0===Dt.length)this.urlWithParams=Je;else{const Wn=Je.indexOf("?");this.urlWithParams=Je+(-1===Wn?"?":Wn<Je.length-1?"&":"")+Dt}}else this.params=new Ae,this.urlWithParams=Je}serializeBody(){return null===this.body?null:We(this.body)||Ze(this.body)||st(this.body)||function Ue(Ft){return"undefined"!=typeof URLSearchParams&&Ft instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||st(this.body)?null:Ze(this.body)?this.body.type||null:We(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){var Je;const Yt=He.method||this.method,pt=He.url||this.url,Wt=He.responseType||this.responseType,Dt=void 0!==He.body?He.body:this.body,Wn=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,jn=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let pn=He.headers||this.headers,Mr=He.params||this.params;const jr=null!==(Je=He.context)&&void 0!==Je?Je:this.context;return void 0!==He.setHeaders&&(pn=Object.keys(He.setHeaders).reduce((Br,xe)=>Br.set(xe,He.setHeaders[xe]),pn)),He.setParams&&(Mr=Object.keys(He.setParams).reduce((Br,xe)=>Br.set(xe,He.setParams[xe]),Mr)),new Xe(Yt,pt,Dt,{params:Mr,headers:pn,context:jr,reportProgress:jn,responseType:Wt,withCredentials:Wn})}}var se=(()=>((se=se||{})[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se))();class Qe{constructor(He,Je=200,Yt="OK"){this.headers=He.headers||new te,this.status=void 0!==He.status?He.status:Je,this.statusText=He.statusText||Yt,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends Qe{constructor(He={}){super(He),this.type=se.ResponseHeader}clone(He={}){return new dt({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class rt extends Qe{constructor(He={}){super(He),this.type=se.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new rt({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class Ke extends Qe{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function ft(Ft,He){return{body:He,headers:Ft.headers,context:Ft.context,observe:Ft.observe,params:Ft.params,reportProgress:Ft.reportProgress,responseType:Ft.responseType,withCredentials:Ft.withCredentials}}let vt=(()=>{class Ft{constructor(Je){this.handler=Je}request(Je,Yt,pt={}){let Wt;if(Je instanceof Xe)Wt=Je;else{let jn,pn;jn=pt.headers instanceof te?pt.headers:new te(pt.headers),pt.params&&(pn=pt.params instanceof Ae?pt.params:new Ae({fromObject:pt.params})),Wt=new Xe(Je,Yt,void 0!==pt.body?pt.body:null,{headers:jn,context:pt.context,params:pn,reportProgress:pt.reportProgress,responseType:pt.responseType||"json",withCredentials:pt.withCredentials})}const Dt=(0,Y.of)(Wt).pipe((0,be.b)(jn=>this.handler.handle(jn)));if(Je instanceof Xe||"events"===pt.observe)return Dt;const Wn=Dt.pipe((0,De.h)(jn=>jn instanceof rt));switch(pt.observe||"body"){case"body":switch(Wt.responseType){case"arraybuffer":return Wn.pipe((0,Ee.U)(jn=>{if(null!==jn.body&&!(jn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jn.body}));case"blob":return Wn.pipe((0,Ee.U)(jn=>{if(null!==jn.body&&!(jn.body instanceof Blob))throw new Error("Response is not a Blob.");return jn.body}));case"text":return Wn.pipe((0,Ee.U)(jn=>{if(null!==jn.body&&"string"!=typeof jn.body)throw new Error("Response is not a string.");return jn.body}));default:return Wn.pipe((0,Ee.U)(jn=>jn.body))}case"response":return Wn;default:throw new Error(`Unreachable: unhandled observe type ${pt.observe}}`)}}delete(Je,Yt={}){return this.request("DELETE",Je,Yt)}get(Je,Yt={}){return this.request("GET",Je,Yt)}head(Je,Yt={}){return this.request("HEAD",Je,Yt)}jsonp(Je,Yt){return this.request("JSONP",Je,{params:(new Ae).append(Yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Je,Yt={}){return this.request("OPTIONS",Je,Yt)}patch(Je,Yt,pt={}){return this.request("PATCH",Je,ft(pt,Yt))}post(Je,Yt,pt={}){return this.request("POST",Je,ft(pt,Yt))}put(Je,Yt,pt={}){return this.request("PUT",Je,ft(pt,Yt))}}return Ft.\u0275fac=function(Je){return new(Je||Ft)(G.LFG(ge))},Ft.\u0275prov=G.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();class un{constructor(He,Je){this.next=He,this.interceptor=Je}handle(He){return this.interceptor.intercept(He,this.next)}}const Xt=new G.OlP("HTTP_INTERCEPTORS");let Ct=(()=>{class Ft{intercept(Je,Yt){return Yt.handle(Je)}}return Ft.\u0275fac=function(Je){return new(Je||Ft)},Ft.\u0275prov=G.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();const Ce=/^\)\]\}',?\n/;let Kt=(()=>{class Ft{constructor(Je){this.xhrFactory=Je}handle(Je){if("JSONP"===Je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ne.y(Yt=>{const pt=this.xhrFactory.build();if(pt.open(Je.method,Je.urlWithParams),Je.withCredentials&&(pt.withCredentials=!0),Je.headers.forEach((xe,Ge)=>pt.setRequestHeader(xe,Ge.join(","))),Je.headers.has("Accept")||pt.setRequestHeader("Accept","application/json, text/plain, */*"),!Je.headers.has("Content-Type")){const xe=Je.detectContentTypeHeader();null!==xe&&pt.setRequestHeader("Content-Type",xe)}if(Je.responseType){const xe=Je.responseType.toLowerCase();pt.responseType="json"!==xe?xe:"text"}const Wt=Je.serializeBody();let Dt=null;const Wn=()=>{if(null!==Dt)return Dt;const xe=pt.statusText||"OK",Ge=new te(pt.getAllResponseHeaders()),it=function kt(Ft){return"responseURL"in Ft&&Ft.responseURL?Ft.responseURL:/^X-Request-URL:/m.test(Ft.getAllResponseHeaders())?Ft.getResponseHeader("X-Request-URL"):null}(pt)||Je.url;return Dt=new dt({headers:Ge,status:pt.status,statusText:xe,url:it}),Dt},jn=()=>{let{headers:xe,status:Ge,statusText:it,url:$t}=Wn(),ze=null;204!==Ge&&(ze=void 0===pt.response?pt.responseText:pt.response),0===Ge&&(Ge=ze?200:0);let _t=Ge>=200&&Ge<300;if("json"===Je.responseType&&"string"==typeof ze){const Zt=ze;ze=ze.replace(Ce,"");try{ze=""!==ze?JSON.parse(ze):null}catch(fn){ze=Zt,_t&&(_t=!1,ze={error:fn,text:ze})}}_t?(Yt.next(new rt({body:ze,headers:xe,status:Ge,statusText:it,url:$t||void 0})),Yt.complete()):Yt.error(new Ke({error:ze,headers:xe,status:Ge,statusText:it,url:$t||void 0}))},pn=xe=>{const{url:Ge}=Wn(),it=new Ke({error:xe,status:pt.status||0,statusText:pt.statusText||"Unknown Error",url:Ge||void 0});Yt.error(it)};let Mr=!1;const jr=xe=>{Mr||(Yt.next(Wn()),Mr=!0);let Ge={type:se.DownloadProgress,loaded:xe.loaded};xe.lengthComputable&&(Ge.total=xe.total),"text"===Je.responseType&&!!pt.responseText&&(Ge.partialText=pt.responseText),Yt.next(Ge)},Br=xe=>{let Ge={type:se.UploadProgress,loaded:xe.loaded};xe.lengthComputable&&(Ge.total=xe.total),Yt.next(Ge)};return pt.addEventListener("load",jn),pt.addEventListener("error",pn),pt.addEventListener("timeout",pn),pt.addEventListener("abort",pn),Je.reportProgress&&(pt.addEventListener("progress",jr),null!==Wt&&pt.upload&&pt.upload.addEventListener("progress",Br)),pt.send(Wt),Yt.next({type:se.Sent}),()=>{pt.removeEventListener("error",pn),pt.removeEventListener("abort",pn),pt.removeEventListener("load",jn),pt.removeEventListener("timeout",pn),Je.reportProgress&&(pt.removeEventListener("progress",jr),null!==Wt&&pt.upload&&pt.upload.removeEventListener("progress",Br)),pt.readyState!==pt.DONE&&pt.abort()}})}}return Ft.\u0275fac=function(Je){return new(Je||Ft)(G.LFG(c.JF))},Ft.\u0275prov=G.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();const Gt=new G.OlP("XSRF_COOKIE_NAME"),Jt=new G.OlP("XSRF_HEADER_NAME");class In{}let er=(()=>{class Ft{constructor(Je,Yt,pt){this.doc=Je,this.platform=Yt,this.cookieName=pt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Je=this.doc.cookie||"";return Je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Je,this.cookieName),this.lastCookieString=Je),this.lastToken}}return Ft.\u0275fac=function(Je){return new(Je||Ft)(G.LFG(c.K0),G.LFG(G.Lbi),G.LFG(Gt))},Ft.\u0275prov=G.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),hn=(()=>{class Ft{constructor(Je,Yt){this.tokenService=Je,this.headerName=Yt}intercept(Je,Yt){const pt=Je.url.toLowerCase();if("GET"===Je.method||"HEAD"===Je.method||pt.startsWith("http://")||pt.startsWith("https://"))return Yt.handle(Je);const Wt=this.tokenService.getToken();return null!==Wt&&!Je.headers.has(this.headerName)&&(Je=Je.clone({headers:Je.headers.set(this.headerName,Wt)})),Yt.handle(Je)}}return Ft.\u0275fac=function(Je){return new(Je||Ft)(G.LFG(In),G.LFG(Jt))},Ft.\u0275prov=G.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),Pn=(()=>{class Ft{constructor(Je,Yt){this.backend=Je,this.injector=Yt,this.chain=null}handle(Je){if(null===this.chain){const Yt=this.injector.get(Xt,[]);this.chain=Yt.reduceRight((pt,Wt)=>new un(pt,Wt),this.backend)}return this.chain.handle(Je)}}return Ft.\u0275fac=function(Je){return new(Je||Ft)(G.LFG(Be),G.LFG(G.zs3))},Ft.\u0275prov=G.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),ln=(()=>{class Ft{static disable(){return{ngModule:Ft,providers:[{provide:hn,useClass:Ct}]}}static withOptions(Je={}){return{ngModule:Ft,providers:[Je.cookieName?{provide:Gt,useValue:Je.cookieName}:[],Je.headerName?{provide:Jt,useValue:Je.headerName}:[]]}}}return Ft.\u0275fac=function(Je){return new(Je||Ft)},Ft.\u0275mod=G.oAB({type:Ft}),Ft.\u0275inj=G.cJS({providers:[hn,{provide:Xt,useExisting:hn,multi:!0},{provide:In,useClass:er},{provide:Gt,useValue:"XSRF-TOKEN"},{provide:Jt,useValue:"X-XSRF-TOKEN"}]}),Ft})(),Zn=(()=>{class Ft{}return Ft.\u0275fac=function(Je){return new(Je||Ft)},Ft.\u0275mod=G.oAB({type:Ft}),Ft.\u0275inj=G.cJS({providers:[vt,{provide:ge,useClass:Pn},Kt,{provide:Be,useExisting:Kt}],imports:[[ln.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ft})()},5e3:(en,ut,M)=>{"use strict";M.d(ut,{deG:()=>qa,tb:()=>B0,AFp:()=>N0,ip1:()=>P0,CZH:()=>Av,hGG:()=>JI,z2F:()=>kv,sBO:()=>LI,Sil:()=>yI,_Vd:()=>ky,EJc:()=>gI,SBq:()=>ly,qLn:()=>qc,vpe:()=>ph,tBr:()=>Ja,XFs:()=>vn,OlP:()=>Ri,zs3:()=>Va,ZZ4:()=>$v,aQg:()=>jv,soG:()=>Mv,YKP:()=>U_,h0i:()=>gm,PXZ:()=>xI,R0b:()=>wd,FiY:()=>da,Lbi:()=>L0,g9A:()=>F0,Qsj:()=>yw,FYo:()=>k_,JOm:()=>K,tp0:()=>Ks,Rgc:()=>hy,dDg:()=>j0,q4F:()=>L_,GfV:()=>F_,s_b:()=>By,ifc:()=>pt,eFA:()=>z0,G48:()=>FI,Gpc:()=>de,X6Q:()=>kI,_c5:()=>QI,VLi:()=>TI,c2e:()=>V0,zSh:()=>ef,wAp:()=>Dr,vHH:()=>qe,cg1:()=>sv,kL8:()=>s_,dqk:()=>pn,sIi:()=>ah,CqO:()=>u,QGY:()=>Eg,F4k:()=>um,RDi:()=>es,AaK:()=>ge,qOj:()=>sh,TTD:()=>Li,_Bn:()=>O_,xp6:()=>gc,uIk:()=>Ua,ekj:()=>Qm,Suo:()=>d0,Xpm:()=>Cn,lG2:()=>Gi,Yz7:()=>_e,cJS:()=>ye,oAB:()=>Hr,Yjl:()=>Pi,Y36:()=>Ml,_UZ:()=>dh,GkF:()=>yp,BQk:()=>Rc,ynx:()=>vd,qZA:()=>pf,TgZ:()=>ch,EpF:()=>vp,n5z:()=>tc,LFG:()=>Tn,$8M:()=>Pl,$Z:()=>Mc,NdJ:()=>s,CRH:()=>h0,oxw:()=>Q,ALo:()=>Q_,lcZ:()=>J_,xi3:()=>e0,Dn7:()=>t0,gM2:()=>n0,Hsn:()=>It,F$t:()=>Se,Q6J:()=>uh,MGl:()=>Ut,DdM:()=>G_,VKq:()=>z_,WLB:()=>W_,iGM:()=>u0,MAs:()=>tm,CHM:()=>Nn,LSH:()=>Io,YNc:()=>em,W1O:()=>m0,_uU:()=>xy,Oqu:()=>ey,hij:()=>dm,AsE:()=>ty,lnq:()=>ny,Gf:()=>c0});var c=M(7579),G=M(727),Y=M(8306),Ne=M(6451),be=M(3099);function De(t){for(let r in t)if(t[r]===De)return r;throw Error("Could not find renamed property on target object.")}function Ee(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Be(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const te=De({__forward_ref__:De});function de(t){return t.__forward_ref__=de,t.toString=function(){return ge(this())},t}function Te(t){return Me(t)?t():t}function Me(t){return"function"==typeof t&&t.hasOwnProperty(te)&&t.__forward_ref__===de}class qe extends Error{constructor(r,o){super(function ke(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Ae(t){return"string"==typeof t?t:null==t?"":String(t)}function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ae(t)}function Ze(t,r){const o=r?` in ${r}`:"";throw new qe(-201,`No provider for ${Le(t)} found${o}`)}function Ye(t,r){null==t&&function ee(t,r,o,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${o} ${d} ${r} <=Actual]`))}(r,t,null,"!=")}function _e(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ye(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ce(t){return kt(t,In)||kt(t,hn)}function kt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Jt(t){return t&&(t.hasOwnProperty(er)||t.hasOwnProperty(Pn))?t[er]:null}const In=De({\u0275prov:De}),er=De({\u0275inj:De}),hn=De({ngInjectableDef:De}),Pn=De({ngInjectorDef:De});var vn=(()=>((vn=vn||{})[vn.Default=0]="Default",vn[vn.Host=1]="Host",vn[vn.Self=2]="Self",vn[vn.SkipSelf=4]="SkipSelf",vn[vn.Optional=8]="Optional",vn))();let gr;function Zn(t){const r=gr;return gr=t,r}function Ir(t,r,o){const d=Ce(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&vn.Optional?null:void 0!==r?r:void Ze(ge(t),"Injector")}function Ft(t){return{toString:t}.toString()}var He=(()=>((He=He||{})[He.OnPush=0]="OnPush",He[He.Default=1]="Default",He))(),pt=(()=>{return(t=pt||(pt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",pt;var t})();const Wt="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,Wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pn=Wt||"undefined"!=typeof global&&global||Dt||Wn,Br={},xe=[],Ge=De({\u0275cmp:De}),it=De({\u0275dir:De}),$t=De({\u0275pipe:De}),ze=De({\u0275mod:De}),_t=De({\u0275fac:De}),Zt=De({__NG_ELEMENT_ID__:De});let fn=0;function Cn(t){return Ft(()=>{const o={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===He.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pt.Emulated,id:"c",styles:t.styles||xe,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.directives,m=t.features,C=t.pipes;return d.id+=fn++,d.inputs=Ei(t.inputs,o),d.outputs=Ei(t.outputs),m&&m.forEach(x=>x(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(dr):null,d.pipeDefs=C?()=>("function"==typeof C?C():C).map(gn):null,d})}function dr(t){return Vr(t)||function oi(t){return t[it]||null}(t)}function gn(t){return function wi(t){return t[$t]||null}(t)}const Bn={};function Hr(t){return Ft(()=>{const r={type:t.type,bootstrap:t.bootstrap||xe,declarations:t.declarations||xe,imports:t.imports||xe,exports:t.exports||xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Bn[t.id]=t.type),r})}function Ei(t,r){if(null==t)return Br;const o={};for(const d in t)if(t.hasOwnProperty(d)){let p=t[d],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),o[p]=d,r&&(r[p]=m)}return o}const Gi=Cn;function Pi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vr(t){return t[Ge]||null}function Gr(t,r){const o=t[ze]||null;if(!o&&!0===r)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return o}function Ie(t){return Array.isArray(t)&&"object"==typeof t[1]}function Fe(t){return Array.isArray(t)&&!0===t[1]}function yt(t){return 0!=(8&t.flags)}function Lt(t){return 2==(2&t.flags)}function Pt(t){return 1==(1&t.flags)}function Ot(t){return null!==t.template}function mn(t){return 0!=(512&t[2])}function Fi(t,r){return t.hasOwnProperty(_t)?t[_t]:null}class fi{constructor(r,o,d){this.previousValue=r,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function Li(){return Wi}function Wi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vs),Ps}function Ps(){const t=Ji(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===Br)t.previous=r;else for(let d in r)o[d]=r[d];t.current=null,this.ngOnChanges(r)}}function Vs(t,r,o,d){const p=Ji(t)||function zr(t,r){return t[Co]=r}(t,{previous:Br,current:null}),m=p.current||(p.current={}),C=p.previous,x=this.declaredInputs[o],N=C[x];m[x]=new fi(N&&N.currentValue,r,C===Br),t[d]=r}Li.ngInherit=!0;const Co="__ngSimpleChanges__";function Ji(t){return t[Co]||null}let pi;function es(t){pi=t}function Pr(t){return!!t.listen}const $={createRenderer:(t,r)=>function Ki(){return void 0!==pi?pi:"undefined"!=typeof document?document:void 0}()};function V(t){for(;Array.isArray(t);)t=t[0];return t}function Nt(t,r){return V(r[t])}function qt(t,r){return V(r[t.index])}function Hn(t,r){return t.data[r]}function fr(t,r){return t[r]}function sr(t,r){const o=r[t];return Ie(o)?o:o[0]}function cr(t){return 4==(4&t[2])}function gi(t){return 128==(128&t[2])}function Kr(t,r){return null==r?null:t[r]}function Xs(t){t[18]=0}function Ss(t,r){t[5]+=r;let o=t,d=t[3];for(;null!==d&&(1===r&&1===o[5]||-1===r&&0===o[5]);)d[5]+=r,o=d,d=d[3]}const $n={lFrame:wu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function z(){return $n.bindingsEnabled}function q(){return $n.lFrame.lView}function wt(){return $n.lFrame.tView}function Nn(t){return $n.lFrame.contextLView=t,t[8]}function E(){let t=H();for(;null!==t&&64===t.type;)t=t.parent;return t}function H(){return $n.lFrame.currentTNode}function B(t,r){const o=$n.lFrame;o.currentTNode=t,o.isParent=r}function pe(){return $n.lFrame.isParent}function Rt(){$n.lFrame.isParent=!1}function or(){return $n.isInCheckNoChangesMode}function Sr(t){$n.isInCheckNoChangesMode=t}function ar(){const t=$n.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function mi(){return $n.lFrame.bindingIndex}function Yi(){return $n.lFrame.bindingIndex++}function As(t){const r=$n.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Ha(t,r){const o=$n.lFrame;o.bindingIndex=o.bindingRootIndex=t,ta(r)}function ta(t){$n.lFrame.currentDirectiveIndex=t}function Ol(){return $n.lFrame.currentQueryIndex}function na(t){$n.lFrame.currentQueryIndex=t}function Jl(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function za(t,r,o){if(o&vn.SkipSelf){let p=r,m=t;for(;!(p=p.parent,null!==p||o&vn.Host||(p=Jl(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;r=p,t=m}const d=$n.lFrame=wa();return d.currentTNode=r,d.lView=t,!0}function Fo(t){const r=wa(),o=t[1];$n.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function wa(){const t=$n.lFrame,r=null===t?null:t.child;return null===r?wu(t):r}function wu(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function jo(){const t=$n.lFrame;return $n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const dl=jo;function Ia(){const t=jo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Es(){return $n.lFrame.selectedIndex}function ia(t){$n.lFrame.selectedIndex=t}function qi(){const t=$n.lFrame;return Hn(t.tView,t.selectedIndex)}function eu(t,r){for(let o=r.directiveStart,d=r.directiveEnd;o<d;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:x,ngAfterViewInit:N,ngAfterViewChecked:Z,ngOnDestroy:ie}=m;C&&(t.contentHooks||(t.contentHooks=[])).push(-o,C),x&&((t.contentHooks||(t.contentHooks=[])).push(o,x),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,x)),N&&(t.viewHooks||(t.viewHooks=[])).push(-o,N),Z&&((t.viewHooks||(t.viewHooks=[])).push(o,Z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,Z)),null!=ie&&(t.destroyHooks||(t.destroyHooks=[])).push(o,ie)}}function Do(t,r,o){cs(t,r,3,o)}function Go(t,r,o,d){(3&t[2])===o&&cs(t,r,o,d)}function hl(t,r){let o=t[2];(3&o)===r&&(o&=2047,o+=1,t[2]=o)}function cs(t,r,o,d){const m=null!=d?d:-1,C=r.length-1;let x=0;for(let N=void 0!==d?65535&t[18]:0;N<C;N++)if("number"==typeof r[N+1]){if(x=r[N],null!=d&&x>=d)break}else r[N]<0&&(t[18]+=65536),(x<m||-1==m)&&(Iu(t,o,r,N),t[18]=(4294901760&t[18])+N+2),N++}function Iu(t,r,o,d){const p=o[d]<0,m=o[d+1],x=t[p?-o[d]:o[d]];if(p){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{m.call(x)}finally{}}}else try{m.call(x)}finally{}}class fl{constructor(r,o,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Is(t,r,o){const d=Pr(t);let p=0;for(;p<o.length;){const m=o[p];if("number"==typeof m){if(0!==m)break;p++;const C=o[p++],x=o[p++],N=o[p++];d?t.setAttribute(r,x,N,C):r.setAttributeNS(C,x,N)}else{const C=m,x=o[++p];Un(C)?d&&t.setProperty(r,C,x):d?t.setAttribute(r,C,x):r.setAttribute(C,x),p++}}return p}function zo(t){return 3===t||4===t||6===t}function Un(t){return 64===t.charCodeAt(0)}function Yn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?o=p:0===o||Lo(t,o,p,null,-1===o||2===o?r[++d]:null)}}return t}function Lo(t,r,o,d,p){let m=0,C=t.length;if(-1===r)C=-1;else for(;m<t.length;){const x=t[m++];if("number"==typeof x){if(x===r){C=-1;break}if(x>r){C=m-1;break}}}for(;m<t.length;){const x=t[m];if("number"==typeof x)break;if(x===o){if(null===d)return void(null!==p&&(t[m+1]=p));if(d===t[m+1])return void(t[m+2]=p)}m++,null!==d&&m++,null!==p&&m++}-1!==C&&(t.splice(C,0,r),m=C+1),t.splice(m++,0,o),null!==d&&t.splice(m++,0,d),null!==p&&t.splice(m++,0,p)}function An(t){return-1!==t}function xt(t){return 32767&t}function Ar(t,r){let o=function sn(t){return t>>16}(t),d=r;for(;o>0;)d=d[15],o--;return d}let Wa=!0;function Ka(t){const r=Wa;return Wa=t,r}let T=0;function W(t,r){const o=Pe(t,r);if(-1!==o)return o;const d=r[1];d.firstCreatePass&&(t.injectorIndex=r.length,fe(d.data,t),fe(r,null),fe(d.blueprint,null));const p=nt(t,r),m=t.injectorIndex;if(An(p)){const C=xt(p),x=Ar(p,r),N=x[1].data;for(let Z=0;Z<8;Z++)r[m+Z]=x[C+Z]|N[C+Z]}return r[m+8]=p,m}function fe(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Pe(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function nt(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,d=null,p=r;for(;null!==p;){const m=p[1],C=m.type;if(d=2===C?m.declTNode:1===C?p[6]:null,null===d)return-1;if(o++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return-1}function Bt(t,r,o){!function U(t,r,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(Zt)&&(d=o[Zt]),null==d&&(d=o[Zt]=T++);const p=255&d;r.data[t+(p>>5)]|=1<<p}(t,r,o)}function wr(t,r,o){if(o&vn.Optional)return t;Ze(r,"NodeInjector")}function Gn(t,r,o,d){if(o&vn.Optional&&void 0===d&&(d=null),0==(o&(vn.Self|vn.Host))){const p=t[9],m=Zn(void 0);try{return p?p.get(r,d,o&vn.Optional):Ir(r,d,o&vn.Optional)}finally{Zn(m)}}return wr(d,r,o)}function tr(t,r,o,d=vn.Default,p){if(null!==t){const m=function Yr(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Zt)?t[Zt]:void 0;return"number"==typeof r?r>=0?255&r:ks:r}(o);if("function"==typeof m){if(!za(r,t,d))return d&vn.Host?wr(p,o,d):Gn(r,o,d,p);try{const C=m(d);if(null!=C||d&vn.Optional)return C;Ze(o)}finally{dl()}}else if("number"==typeof m){let C=null,x=Pe(t,r),N=-1,Z=d&vn.Host?r[16][6]:null;for((-1===x||d&vn.SkipSelf)&&(N=-1===x?nt(t,r):r[x+8],-1!==N&&ds(d,!1)?(C=r[1],x=xt(N),r=Ar(N,r)):x=-1);-1!==x;){const ie=r[1];if(Ya(m,x,ie.data)){const Re=Fs(x,r,o,C,d,Z);if(Re!==bn)return Re}N=r[x+8],-1!==N&&ds(d,r[1].data[x+8]===Z)&&Ya(m,x,r)?(C=ie,x=xt(N),r=Ar(N,r)):x=-1}}}return Gn(r,o,d,p)}const bn={};function ks(){return new sa(E(),q())}function Fs(t,r,o,d,p,m){const C=r[1],x=C.data[t+8],ie=gl(x,C,o,null==d?Lt(x)&&Wa:d!=C&&0!=(3&x.type),p&vn.Host&&m===x);return null!==ie?Wo(r,C,ie,x):bn}function gl(t,r,o,d,p){const m=t.providerIndexes,C=r.data,x=1048575&m,N=t.directiveStart,ie=m>>20,lt=p?x+ie:t.directiveEnd;for(let St=d?x:x+ie;St<lt;St++){const Qt=C[St];if(St<N&&o===Qt||St>=N&&Qt.type===o)return St}if(p){const St=C[N];if(St&&Ot(St)&&St.type===o)return N}return null}function Wo(t,r,o,d){let p=t[o];const m=r.data;if(function pl(t){return t instanceof fl}(p)){const C=p;C.resolving&&function ht(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new qe(-200,`Circular dependency in DI detected for ${t}${o}`)}(Le(m[o]));const x=Ka(C.canSeeViewProviders);C.resolving=!0;const N=C.injectImpl?Zn(C.injectImpl):null;za(t,d,vn.Default);try{p=t[o]=C.factory(void 0,m,t,d),r.firstCreatePass&&o>=d.directiveStart&&function ec(t,r,o){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:m}=r.type.prototype;if(d){const C=Wi(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(t,C),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,C)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-t,p),m&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,m))}(o,m[o],r)}finally{null!==N&&Zn(N),Ka(x),C.resolving=!1,dl()}}return p}function Ya(t,r,o){return!!(o[r+(t>>5)]&1<<t)}function ds(t,r){return!(t&vn.Self||t&vn.Host&&r)}class sa{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,d){return tr(this._tNode,this._lView,r,d,o)}}function tc(t){return Ft(()=>{const r=t.prototype.constructor,o=r[_t]||hs(r),d=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==d;){const m=p[_t]||hs(p);if(m&&m!==o)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function hs(t){return Me(t)?()=>{const r=hs(Te(t));return r&&r()}:Fi(t)}function Pl(t){return function tn(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const d=o.length;let p=0;for(;p<d;){const m=o[p];if(zo(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<d&&"string"==typeof o[p];)p++;else{if(m===r)return o[p+1];p+=2}}}return null}(E(),t)}const yi="__parameters__";function ba(t,r,o){return Ft(()=>{const d=function nu(t){return function(...o){if(t){const d=t(...o);for(const p in d)this[p]=d[p]}}}(r);function p(...m){if(this instanceof p)return d.apply(this,m),this;const C=new p(...m);return x.annotation=C,x;function x(N,Z,ie){const Re=N.hasOwnProperty(yi)?N[yi]:Object.defineProperty(N,yi,{value:[]})[yi];for(;Re.length<=ie;)Re.push(null);return(Re[ie]=Re[ie]||[]).push(C),N}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}class Ri{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=_e({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qa=new Ri("AnalyzeForEntryComponents");function oo(t,r){void 0===r&&(r=t);for(let o=0;o<t.length;o++){let d=t[o];Array.isArray(d)?(r===t&&(r=t.slice(0,o)),oo(d,r)):r!==t&&r.push(d)}return r}function fs(t,r){t.forEach(o=>Array.isArray(o)?fs(o,r):r(o))}function vo(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function _o(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function la(t,r){const o=[];for(let d=0;d<t;d++)o.push(r);return o}function Bo(t,r,o){let d=Qa(t,r);return d>=0?t[1|d]=o:(d=~d,function Ta(t,r,o,d){let p=t.length;if(p==r)t.push(o,d);else if(1===p)t.push(d,t[0]),t[0]=o;else{for(p--,t.push(t[p-1],t[p]);p>r;)t[p]=t[p-2],p--;t[r]=o,t[r+1]=d}}(t,d,r,o)),d}function Oi(t,r){const o=Qa(t,r);if(o>=0)return t[1|o]}function Qa(t,r){return function Sa(t,r,o){let d=0,p=t.length>>o;for(;p!==d;){const m=d+(p-d>>1),C=t[m<<o];if(r===C)return m<<o;C>r?p=m:d=m+1}return~(p<<o)}(t,r,1)}const li={},kl="__NG_DI_FLAG__",Ko="ngTempTokenPath",F=/\n/gm,ue="__source",Ve=De({provide:String,useValue:De});let bt;function Mt(t){const r=bt;return bt=t,r}function dn(t,r=vn.Default){if(void 0===bt)throw new qe(203,"");return null===bt?Ir(t,void 0,r):bt.get(t,r&vn.Optional?null:void 0,r)}function Tn(t,r=vn.Default){return(function ln(){return gr}()||dn)(Te(t),r)}const pr=Tn;function Jr(t){const r=[];for(let o=0;o<t.length;o++){const d=Te(t[o]);if(Array.isArray(d)){if(0===d.length)throw new qe(900,"");let p,m=vn.Default;for(let C=0;C<d.length;C++){const x=d[C],N=Eo(x);"number"==typeof N?-1===N?p=x.token:m|=N:p=x}r.push(Tn(p,m))}else r.push(Tn(d))}return r}function mr(t,r){return t[kl]=r,t.prototype[kl]=r,t}function Eo(t){return t[kl]}const Ja=mr(ba("Inject",t=>({token:t})),-1),da=mr(ba("Optional"),8),Ks=mr(ba("SkipSelf"),4);class Ul{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function vl(t){return t instanceof Ul?t.changingThisBreaksApplicationSecurity:t}const jl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Zi=(()=>((Zi=Zi||{})[Zi.NONE=0]="NONE",Zi[Zi.HTML=1]="HTML",Zi[Zi.STYLE=2]="STYLE",Zi[Zi.SCRIPT=3]="SCRIPT",Zi[Zi.URL=4]="URL",Zi[Zi.RESOURCE_URL=5]="RESOURCE_URL",Zi))();function Io(t){const r=function Ru(){const t=q();return t&&t[12]}();return r?r.sanitize(Zi.URL,t)||"":function Aa(t,r){const o=function Dd(t){return t instanceof Ul&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(t,"URL")?vl(t):function vr(t){return(t=String(t)).match(jl)||t.match(gs)?t:"unsafe:"+t}(Ae(t))}const xd="__ngContext__";function br(t,r){t[xd]=r}function zc(t){const r=function su(t){return t[xd]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function Ra(t){return t.ngOriginalError}function au(t,...r){t.error(...r)}class qc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),d=function Oa(t){return t&&t.ngErrorLogger||au}(r);d(this._console,"ERROR",r),o&&d(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Ra(r);for(;o&&Ra(o);)o=Ra(o);return o||null}}const Qc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pn))();function wl(t){return t instanceof Function?t():t}var K=(()=>((K=K||{})[K.Important=1]="Important",K[K.DashCase=2]="DashCase",K))();function gt(t,r){return undefined(t,r)}function Rn(t){const r=t[3];return Fe(r)?r[3]:r}function Cs(t){return dc(t[13])}function qo(t){return dc(t[4])}function dc(t){for(;null!==t&&!Fe(t);)t=t[4];return t}function il(t,r,o,d,p){if(null!=d){let m,C=!1;Fe(d)?m=d:Ie(d)&&(C=!0,d=d[0]);const x=V(d);0===t&&null!==o?null==p?zl(r,o,x):ka(r,o,x,p||null,!0):1===t&&null!==o?ka(r,o,x,p||null,!0):2===t?function fc(t,r,o){const d=Ph(t,r);d&&function Jc(t,r,o,d){Pr(t)?t.removeChild(r,o,d):r.removeChild(o)}(t,d,r,o)}(r,x,C):3===t&&r.destroyNode(x),null!=m&&function td(t,r,o,d,p){const m=o[7];m!==V(o)&&il(r,t,d,m,p);for(let x=10;x<o.length;x++){const N=o[x];pc(N[1],N,t,r,d,m)}}(r,t,m,o,p)}}function Pa(t,r,o){if(Pr(t))return t.createElement(r,o);{const d=null!==o?function Uo(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===d?t.createElement(r):t.createElementNS(d,r)}}function Gl(t,r){const o=t[9],d=o.indexOf(r),p=r[3];1024&r[2]&&(r[2]&=-1025,Ss(p,-1)),o.splice(d,1)}function Oh(t,r){if(t.length<=10)return;const o=10+r,d=t[o];if(d){const p=d[17];null!==p&&p!==t&&Gl(p,d),r>0&&(t[o-1][4]=d[4]);const m=_o(t,10+r);!function Pd(t,r){pc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const C=m[19];null!==C&&C.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Sf(t,r){if(!(256&r[2])){const o=r[11];Pr(o)&&o.destroyNode&&pc(t,r,o,3,null,null),function Pu(t){let r=t[13];if(!r)return Na(t[1],t);for(;r;){let o=null;if(Ie(r))o=r[13];else{const d=r[10];d&&(o=d)}if(!o){for(;r&&!r[4]&&r!==t;)Ie(r)&&Na(r[1],r),r=r[3];null===r&&(r=t),Ie(r)&&Na(r[1],r),o=r&&r[4]}r=o}}(r)}}function Na(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function vm(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let d=0;d<o.length;d+=2){const p=r[o[d]];if(!(p instanceof fl)){const m=o[d+1];if(Array.isArray(m))for(let C=0;C<m.length;C+=2){const x=p[m[C]],N=m[C+1];try{N.call(x)}finally{}}else try{m.call(p)}finally{}}}}(t,r),function Tg(t,r){const o=t.cleanup,d=r[7];let p=-1;if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const C=o[m+1],x="function"==typeof C?C(r):V(r[C]),N=d[p=o[m+2]],Z=o[m+3];"boolean"==typeof Z?x.removeEventListener(o[m],N,Z):Z>=0?d[p=Z]():d[p=-Z].unsubscribe(),m+=2}else{const C=d[p=o[m+1]];o[m].call(C)}if(null!==d){for(let m=p+1;m<d.length;m++)d[m]();r[7]=null}}(t,r),1===r[1].type&&Pr(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Fe(r[3])){o!==r[3]&&Gl(o,r);const d=r[19];null!==d&&d.detachView(t)}}}function Nd(t,r,o){return function Nu(t,r,o){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return o[0];if(2&d.flags){const p=t.data[d.directiveStart].encapsulation;if(p===pt.None||p===pt.Emulated)return null}return qt(d,o)}(t,r.parent,o)}function ka(t,r,o,d,p){Pr(t)?t.insertBefore(r,o,d,p):r.insertBefore(o,d,p)}function zl(t,r,o){Pr(t)?t.appendChild(r,o):r.appendChild(o)}function ol(t,r,o,d,p){null!==d?ka(t,r,o,d,p):zl(t,r,o)}function Ph(t,r){return Pr(t)?t.parentNode(r):r.parentNode}function Fa(t,r,o){return Af(t,r,o)}let Af=function ed(t,r,o){return 40&t.type?qt(t,o):null};function bl(t,r,o,d){const p=Nd(t,d,r),m=r[11],x=Fa(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(o))for(let N=0;N<o.length;N++)ol(m,p,o[N],x,!1);else ol(m,p,o,x,!1)}function ku(t,r){if(null!==r){const o=r.type;if(3&o)return qt(r,t);if(4&o)return Fh(-1,t[r.index]);if(8&o){const d=r.child;if(null!==d)return ku(t,d);{const p=t[r.index];return Fe(p)?Fh(-1,p):V(p)}}if(32&o)return gt(r,t)()||V(t[r.index]);{const d=ya(t,r);return null!==d?Array.isArray(d)?d[0]:ku(Rn(t[16]),d):ku(t,r.next)}}return null}function ya(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Fh(t,r){const o=10+t+1;if(o<r.length){const d=r[o],p=d[1].firstChild;if(null!==p)return ku(d,p)}return r[7]}function xf(t,r,o,d,p,m,C){for(;null!=o;){const x=d[o.index],N=o.type;if(C&&0===r&&(x&&br(V(x),d),o.flags|=4),64!=(64&o.flags))if(8&N)xf(t,r,o.child,d,p,m,!1),il(r,t,p,x,m);else if(32&N){const Z=gt(o,d);let ie;for(;ie=Z();)il(r,t,p,ie,m);il(r,t,p,x,m)}else 16&N?kd(t,r,d,o,p,m):il(r,t,p,x,m);o=C?o.projectionNext:o.next}}function pc(t,r,o,d,p,m){xf(o,d,t.firstChild,r,p,m,!1)}function kd(t,r,o,d,p,m){const C=o[16],N=C[6].projection[d.projection];if(Array.isArray(N))for(let Z=0;Z<N.length;Z++)il(r,t,p,N[Z],m);else xf(t,r,N,C[3],p,m,!0)}function Sp(t,r,o){Pr(t)?t.setAttribute(r,"style",o):r.style.cssText=o}function Ap(t,r,o){Pr(t)?""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o):r.className=o}function Sg(t,r,o){let d=t.length;for(;;){const p=t.indexOf(r,o);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const m=r.length;if(p+m===d||t.charCodeAt(p+m)<=32)return p}o=p+1}}const Fd="ng-template";function Em(t,r,o){let d=0;for(;d<t.length;){let p=t[d++];if(o&&"class"===p){if(p=t[d],-1!==Sg(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<t.length&&"string"==typeof(p=t[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function Mp(t){return 4===t.type&&t.value!==Fd}function Lh(t,r,o){return r===(4!==t.type||o?t.value:Fd)}function Mf(t,r,o){let d=4;const p=t.attrs||[],m=function Bh(t){for(let r=0;r<t.length;r++)if(zo(t[r]))return r;return t.length}(p);let C=!1;for(let x=0;x<r.length;x++){const N=r[x];if("number"!=typeof N){if(!C)if(4&d){if(d=2|1&d,""!==N&&!Lh(t,N,o)||""===N&&1===r.length){if(La(d))return!1;C=!0}}else{const Z=8&d?N:r[++x];if(8&d&&null!==t.attrs){if(!Em(t.attrs,Z,o)){if(La(d))return!1;C=!0}continue}const Re=Ag(8&d?"class":N,p,Mp(t),o);if(-1===Re){if(La(d))return!1;C=!0;continue}if(""!==Z){let lt;lt=Re>m?"":p[Re+1].toLowerCase();const St=8&d?lt:null;if(St&&-1!==Sg(St,Z,0)||2&d&&Z!==lt){if(La(d))return!1;C=!0}}}}else{if(!C&&!La(d)&&!La(N))return!1;if(C&&La(N))continue;C=!1,d=N|1&d}}return La(d)||C}function La(t){return 0==(1&t)}function Ag(t,r,o,d){if(null===r)return-1;let p=0;if(d||!o){let m=!1;for(;p<r.length;){const C=r[p];if(C===t)return p;if(3===C||6===C)m=!0;else{if(1===C||2===C){let x=r[++p];for(;"string"==typeof x;)x=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=m?1:2}return-1}return function Ld(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const d=t[o];if("number"==typeof d)return-1;if(d===r)return o;o++}return-1}(r,t)}function Ro(t,r,o=!1){for(let d=0;d<r.length;d++)if(Mf(t,r[d],o))return!0;return!1}function xg(t,r){e:for(let o=0;o<r.length;o++){const d=r[o];if(t.length===d.length){for(let p=0;p<t.length;p++)if(t[p]!==d[p])continue e;return!0}}return!1}function Wl(t,r){return t?":not("+r.trim()+")":r}function rd(t){let r=t[0],o=1,d=2,p="",m=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&d){const x=t[++o];p+="["+C+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!La(C)&&(r+=Wl(m,p),p=""),d=C,m=m||!La(d);o++}return""!==p&&(r+=Wl(m,p)),r}const Ur={};function gc(t){Vh(wt(),q(),Es()+t,or())}function Vh(t,r,o,d){if(!d)if(3==(3&r[2])){const m=t.preOrderCheckHooks;null!==m&&Do(r,m,o)}else{const m=t.preOrderHooks;null!==m&&Go(r,m,0,o)}ia(o)}function uu(t,r){return t<<17|r<<2}function al(t){return t>>17&32767}function Bd(t){return 2|t}function Kl(t){return(131068&t)>>2}function Of(t,r){return-131069&t|r<<2}function $h(t){return 1|t}function Up(t,r){const o=t.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const p=o[d],m=o[d+1];if(-1!==m){const C=t.data[m];na(p),C.contentQueries(2,r[m],m)}}}function Dl(t,r,o,d,p,m,C,x,N,Z){const ie=r.blueprint.slice();return ie[0]=p,ie[2]=140|d,Xs(ie),ie[3]=ie[15]=t,ie[8]=o,ie[10]=C||t&&t[10],ie[11]=x||t&&t[11],ie[12]=N||t&&t[12]||null,ie[9]=Z||t&&t[9]||null,ie[6]=m,ie[16]=2==r.type?t[16]:ie,ie}function vc(t,r,o,d,p){let m=t.data[r];if(null===m)m=function Gh(t,r,o,d,p){const m=H(),C=pe(),N=t.data[r]=function Kh(t,r,o,d,p,m){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?m:m&&m.parent,o,r,d,p);return null===t.firstChild&&(t.firstChild=N),null!==m&&(C?null==m.child&&null!==N.parent&&(m.child=N):null===m.next&&(m.next=N)),N}(t,r,o,d,p),function Ns(){return $n.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=o,m.value=d,m.attrs=p;const C=function w(){const t=$n.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();m.injectorIndex=null===C?-1:C.injectorIndex}return B(m,!0),m}function Bu(t,r,o,d){if(0===o)return-1;const p=r.length;for(let m=0;m<o;m++)r.push(d),t.blueprint.push(d),t.data.push(null);return p}function ql(t,r,o){Fo(r);try{const d=t.viewQuery;null!==d&&Uu(1,d,o);const p=t.template;null!==p&&zd(t,r,p,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Up(t,r),t.staticViewQueries&&Uu(2,t.viewQuery,o);const m=t.components;null!==m&&function xm(t,r){for(let o=0;o<r.length;o++)Xf(t,r[o])}(r,m)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[2]&=-5,Ia()}}function ll(t,r,o,d){const p=r[2];if(256==(256&p))return;Fo(r);const m=or();try{Xs(r),function _s(t){return $n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&zd(t,r,o,2,d);const C=3==(3&p);if(!m)if(C){const Z=t.preOrderCheckHooks;null!==Z&&Do(r,Z,null)}else{const Z=t.preOrderHooks;null!==Z&&Go(r,Z,0,null),hl(r,0)}if(function Tl(t){for(let r=Cs(t);null!==r;r=qo(r)){if(!r[2])continue;const o=r[9];for(let d=0;d<o.length;d++){const p=o[d],m=p[3];0==(1024&p[2])&&Ss(m,1),p[2]|=1024}}}(r),function Rm(t){for(let r=Cs(t);null!==r;r=qo(r))for(let o=10;o<r.length;o++){const d=r[o],p=d[1];gi(d)&&ll(p,d,p.template,d[8])}}(r),null!==t.contentQueries&&Up(t,r),!m)if(C){const Z=t.contentCheckHooks;null!==Z&&Do(r,Z)}else{const Z=t.contentHooks;null!==Z&&Go(r,Z,1),hl(r,1)}!function Am(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const p=o[d];if(p<0)ia(~p);else{const m=p,C=o[++d],x=o[++d];Ha(C,m),x(2,r[m])}}}finally{ia(-1)}}(t,r);const x=t.components;null!==x&&function Uf(t,r){for(let o=0;o<r.length;o++)Wp(t,r[o])}(r,x);const N=t.viewQuery;if(null!==N&&Uu(2,N,d),!m)if(C){const Z=t.viewCheckHooks;null!==Z&&Do(r,Z)}else{const Z=t.viewHooks;null!==Z&&Go(r,Z,2),hl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),m||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Ss(r[3],-1))}finally{Ia()}}function Gd(t,r,o,d){const p=r[10],m=!or(),C=cr(r);try{m&&!C&&p.begin&&p.begin(),C&&ql(t,r,d),ll(t,r,o,d)}finally{m&&!C&&p.end&&p.end()}}function zd(t,r,o,d,p){const m=Es(),C=2&d;try{ia(-1),C&&r.length>20&&Vh(t,r,20,or()),o(d,p)}finally{ia(m)}}function Wd(t,r,o){if(yt(r)){const p=r.directiveEnd;for(let m=r.directiveStart;m<p;m++){const C=t.data[m];C.contentQueries&&C.contentQueries(1,o[m],m)}}}function zh(t,r,o){!z()||(function Gf(t,r,o,d){const p=o.directiveStart,m=o.directiveEnd;t.firstCreatePass||W(o,r),br(d,r);const C=o.initialInputs;for(let x=p;x<m;x++){const N=t.data[x],Z=Ot(N);Z&&hu(r,o,N);const ie=Wo(r,t,x,o);br(ie,r),null!==C&&Yf(0,x-p,ie,N,0,C),Z&&(sr(o.index,r)[8]=ie)}}(t,r,o,qt(o,r)),128==(128&o.flags)&&function zp(t,r,o){const d=o.directiveStart,p=o.directiveEnd,C=o.index,x=function Ga(){return $n.lFrame.currentDirectiveIndex}();try{ia(C);for(let N=d;N<p;N++){const Z=t.data[N],ie=r[N];ta(N),(null!==Z.hostBindings||0!==Z.hostVars||null!==Z.hostAttrs)&&zf(Z,ie)}}finally{ia(-1),ta(x)}}(t,r,o))}function _c(t,r,o=qt){const d=r.localNames;if(null!==d){let p=r.index+1;for(let m=0;m<d.length;m+=2){const C=d[m+1],x=-1===C?o(r,t):t[C];t[p++]=x}}}function Fg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Wh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Wh(t,r,o,d,p,m,C,x,N,Z){const ie=20+d,Re=ie+p,lt=function Mm(t,r){const o=[];for(let d=0;d<r;d++)o.push(d<t?null:Ur);return o}(ie,Re),St="function"==typeof Z?Z():Z;return lt[1]={type:t,blueprint:lt,template:o,queries:null,viewQuery:x,declTNode:r,data:lt.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:N,consts:St,incompleteFirstPass:!1}}function Kd(t,r,o,d){const p=$u(r);null===o?p.push(d):(p.push(o),t.firstCreatePass&&th(t).push(d,p.length-1))}function jf(t,r,o){for(let d in t)if(t.hasOwnProperty(d)){const p=t[d];(o=null===o?{}:o).hasOwnProperty(d)?o[d].push(r,p):o[d]=[r,p]}return o}function va(t,r,o,d,p,m,C,x){const N=qt(r,o);let ie,Z=r.inputs;!x&&null!=Z&&(ie=Z[d])?(Qh(t,o,ie,d,p),Lt(r)&&function Gp(t,r){const o=sr(r,t);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(d=function Hp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),p=null!=C?C(p,r.value||"",d):p,Pr(m)?m.setProperty(N,d,p):Un(d)||(N.setProperty?N.setProperty(d,p):N[d]=p))}function od(t,r,o,d){let p=!1;if(z()){const m=function Ec(t,r,o){const d=t.directiveRegistry;let p=null;if(d)for(let m=0;m<d.length;m++){const C=d[m];Ro(o,C.selectors,!1)&&(p||(p=[]),Bt(W(o,r),t,C.type),Ot(C)?(Zh(t,o),p.unshift(C)):p.push(C))}return p}(t,r,o),C=null===d?null:{"":-1};if(null!==m){p=!0,Bg(o,t.data.length,m.length);for(let ie=0;ie<m.length;ie++){const Re=m[ie];Re.providersResolver&&Re.providersResolver(Re)}let x=!1,N=!1,Z=Bu(t,r,m.length,null);for(let ie=0;ie<m.length;ie++){const Re=m[ie];o.mergedAttrs=Yn(o.mergedAttrs,Re.hostAttrs),wc(t,o,r,Z,Re),Kf(Z,Re,C),null!==Re.contentQueries&&(o.flags|=8),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(o.flags|=128);const lt=Re.type.prototype;!x&&(lt.ngOnChanges||lt.ngOnInit||lt.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index),x=!0),!N&&(lt.ngOnChanges||lt.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index),N=!0),Z++}!function jp(t,r){const d=r.directiveEnd,p=t.data,m=r.attrs,C=[];let x=null,N=null;for(let Z=r.directiveStart;Z<d;Z++){const ie=p[Z],Re=ie.inputs,lt=null===m||Mp(r)?null:qf(Re,m);C.push(lt),x=jf(Re,Z,x),N=jf(ie.outputs,Z,N)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=16),x.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=C,r.inputs=x,r.outputs=N}(t,o)}C&&function Wf(t,r,o){if(r){const d=t.localNames=[];for(let p=0;p<r.length;p+=2){const m=o[r[p+1]];if(null==m)throw new qe(-301,!1);d.push(r[p],m)}}}(o,d,C)}return o.mergedAttrs=Yn(o.mergedAttrs,o.attrs),p}function Xd(t,r,o,d,p,m){const C=m.hostBindings;if(C){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const N=~r.index;(function ad(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(x)!=N&&x.push(N),x.push(d,p,C)}}function zf(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Zh(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Kf(t,r,o){if(o){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)o[r.exportAs[d]]=t;Ot(r)&&(o[""]=t)}}function Bg(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}function wc(t,r,o,d,p){t.data[d]=p;const m=p.factory||(p.factory=Fi(p.type)),C=new fl(m,Ot(p),null);t.blueprint[d]=C,o[d]=C,Xd(t,r,0,d,Bu(t,o,p.hostVars,Ur),p)}function hu(t,r,o){const d=qt(r,t),p=Fg(o),m=t[10],C=_a(t,Dl(t,p,null,o.onPush?64:16,d,r,m,m.createRenderer(d,o),null,null));t[r.index]=C}function Xo(t,r,o,d,p,m){const C=qt(t,r);!function Qd(t,r,o,d,p,m,C){if(null==m)Pr(t)?t.removeAttribute(r,p,o):r.removeAttribute(p);else{const x=null==C?Ae(m):C(m,d||"",p);Pr(t)?t.setAttribute(r,p,x,o):o?r.setAttributeNS(o,p,x):r.setAttribute(p,x)}}(r[11],C,m,t.value,o,d,p)}function Yf(t,r,o,d,p,m){const C=m[r];if(null!==C){const x=d.setInput;for(let N=0;N<C.length;){const Z=C[N++],ie=C[N++],Re=C[N++];null!==x?d.setInput(o,Re,Z,ie):o[ie]=Re}}}function qf(t,r){let o=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;t.hasOwnProperty(p)&&(null===o&&(o=[]),o.push(p,t[p],r[d+1])),d+=2}else d+=2;else d+=4}return o}function Ic(t,r,o,d){return new Array(t,!0,!1,r,null,0,d,o,null,null)}function Wp(t,r){const o=sr(r,t);if(gi(o)){const d=o[1];80&o[2]?ll(d,o,d.template,o[8]):o[5]>0&&Zf(o)}}function Zf(t){for(let d=Cs(t);null!==d;d=qo(d))for(let p=10;p<d.length;p++){const m=d[p];if(1024&m[2]){const C=m[1];ll(C,m,C.template,m[8])}else m[5]>0&&Zf(m)}const o=t[1].components;if(null!==o)for(let d=0;d<o.length;d++){const p=sr(o[d],t);gi(p)&&p[5]>0&&Zf(p)}}function Xf(t,r){const o=sr(r,t),d=o[1];(function Xh(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])})(d,o),ql(d,o,o[8])}function _a(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Jd(t){for(;t;){t[2]|=64;const r=Rn(t);if(mn(t)&&!r)return t;t=r}return null}function Kp(t,r,o){const d=r[10];d.begin&&d.begin();try{ll(t,r,t.template,o)}catch(p){throw ud(r,p),p}finally{d.end&&d.end()}}function Qf(t){!function eh(t){for(let r=0;r<t.components.length;r++){const o=t.components[r],d=zc(o),p=d[1];Gd(p,d,p.template,o)}}(t[8])}function Uu(t,r,o){na(0),r(t,o)}const ld=(()=>Promise.resolve(null))();function $u(t){return t[7]||(t[7]=[])}function th(t){return t.cleanup||(t.cleanup=[])}function ud(t,r){const o=t[9],d=o?o.get(qc,null):null;d&&d.handleError(r)}function Qh(t,r,o,d,p){for(let m=0;m<o.length;){const C=o[m++],x=o[m++],N=r[C],Z=t.data[C];null!==Z.setInput?Z.setInput(N,p,d,x):N[x]=p}}function Ba(t,r,o){const d=Nt(r,t);!function Rh(t,r,o){Pr(t)?t.setValue(r,o):r.textContent=o}(t[11],d,o)}function ep(t,r,o){let d=o?t.styles:null,p=o?t.classes:null,m=0;if(null!==r)for(let C=0;C<r.length;C++){const x=r[C];"number"==typeof x?m=x:1==m?p=Be(p,x):2==m&&(d=Be(d,x+": "+r[++C]+";"))}o?t.styles=d:t.stylesWithoutHost=d,o?t.classes=p:t.classesWithoutHost=p}const Jh=new Ri("INJECTOR",-1);class np{get(r,o=li){if(o===li){const d=new Error(`NullInjectorError: No provider for ${ge(r)}!`);throw d.name="NullInjectorError",d}return o}}const ef=new Ri("Set Injector scope."),nh={},qp={};let pu;function ju(){return void 0===pu&&(pu=new np),pu}function Zp(t,r=null,o=null,d){const p=rp(t,r,o,d);return p._resolveInjectorDefTypes(),p}function rp(t,r=null,o=null,d){return new tf(t,o,r||ju(),d)}class tf{constructor(r,o,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];o&&fs(o,x=>this.processProvider(x,r,o)),fs([r],x=>this.processInjectorType(x,[],m)),this.records.set(Jh,dd(void 0,this));const C=this.records.get(ef);this.scope=null!=C?C.value:null,this.source=p||("object"==typeof r?null:ge(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=li,d=vn.Default){this.assertNotDestroyed();const p=Mt(this),m=Zn(void 0);try{if(!(d&vn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const N=function km(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ri}(r)&&Ce(r);x=N&&this.injectableDefInScope(N)?dd(ip(r),nh):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(d&vn.Self?ju():this.parent).get(r,o=d&vn.Optional&&o===li?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[Ko]=C[Ko]||[]).unshift(ge(r)),p)throw C;return function to(t,r,o,d){const p=t[Ko];throw r[ue]&&p.unshift(r[ue]),t.message=function Fl(t,r,o,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let p=ge(r);if(Array.isArray(r))p=r.map(ge).join(" -> ");else if("object"==typeof r){let m=[];for(let C in r)if(r.hasOwnProperty(C)){let x=r[C];m.push(C+":"+("string"==typeof x?JSON.stringify(x):ge(x)))}p=`{${m.join(", ")}}`}return`${o}${d?"("+d+")":""}[${p}]: ${t.replace(F,"\n  ")}`}("\n"+t.message,p,o,d),t.ngTokenPath=p,t[Ko]=null,t}(C,r,"R3InjectorError",this.source)}throw C}finally{Zn(m),Mt(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,p)=>r.push(ge(p))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processInjectorType(r,o,d){if(!(r=Te(r)))return!1;let p=Jt(r);const m=null==p&&r.ngModule||void 0,C=void 0===m?r:m,x=-1!==d.indexOf(C);if(void 0!==m&&(p=Jt(m)),null==p)return!1;if(null!=p.imports&&!x){let ie;d.push(C);try{fs(p.imports,Re=>{this.processInjectorType(Re,o,d)&&(void 0===ie&&(ie=[]),ie.push(Re))})}finally{}if(void 0!==ie)for(let Re=0;Re<ie.length;Re++){const{ngModule:lt,providers:St}=ie[Re];fs(St,Qt=>this.processProvider(Qt,lt,St||xe))}}this.injectorDefTypes.add(C);const N=Fi(C)||(()=>new C);this.records.set(C,dd(N,nh));const Z=p.providers;if(null!=Z&&!x){const ie=r;fs(Z,Re=>this.processProvider(Re,ie,Z))}return void 0!==m&&void 0!==r.providers}processProvider(r,o,d){let p=gu(r=Te(r))?r:Te(r&&r.provide);const m=function $g(t,r,o){return Qp(t)?dd(void 0,t.useValue):dd(Xp(t),nh)}(r);if(gu(r)||!0!==r.multi)this.records.get(p);else{let C=this.records.get(p);C||(C=dd(void 0,nh,!0),C.factory=()=>Jr(C.multi),this.records.set(p,C)),p=r,C.multi.push(r)}this.records.set(p,m)}hydrate(r,o){return o.value===nh&&(o.value=qp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function rf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Te(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function ip(t){const r=Ce(t),o=null!==r?r.factory:Fi(t);if(null!==o)return o;if(t instanceof Ri)throw new qe(204,!1);if(t instanceof Function)return function cd(t){const r=t.length;if(r>0)throw la(r,"?"),new qe(204,!1);const o=function Kt(t){const r=t&&(t[In]||t[hn]);if(r){const o=function Gt(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new qe(204,!1)}function Xp(t,r,o){let d;if(gu(t)){const p=Te(t);return Fi(p)||ip(p)}if(Qp(t))d=()=>Te(t.useValue);else if(function nf(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...Jr(t.deps||[]));else if(function sp(t){return!(!t||!t.useExisting)}(t))d=()=>Tn(Te(t.useExisting));else{const p=Te(t&&(t.useClass||t.provide));if(!function Nm(t){return!!t.deps}(t))return Fi(p)||ip(p);d=()=>new p(...Jr(t.deps))}return d}function dd(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Qp(t){return null!==t&&"object"==typeof t&&Ve in t}function gu(t){return"function"==typeof t}let Va=(()=>{class t{static create(o,d){var p;if(Array.isArray(o))return Zp({name:""},d,o,"");{const m=null!==(p=o.name)&&void 0!==p?p:"";return Zp({name:m},o.parent,o.providers,m)}}}return t.THROW_IF_NOT_FOUND=li,t.NULL=new np,t.\u0275prov=_e({token:t,providedIn:"any",factory:()=>Tn(Jh)}),t.__NG_ELEMENT_ID__=-1,t})();function Gg(t,r){eu(zc(t)[1],E())}function sh(t){let r=function Al(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const d=[t];for(;r;){let p;if(Ot(t))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new qe(903,"");p=r.\u0275dir}if(p){if(o){d.push(p);const C=t;C.inputs=cf(t.inputs),C.declaredInputs=cf(t.declaredInputs),C.outputs=cf(t.outputs);const x=p.hostBindings;x&&Lm(t,x);const N=p.viewQuery,Z=p.contentQueries;if(N&&Wg(t,N),Z&&Kg(t,Z),Ee(t.inputs,p.inputs),Ee(t.declaredInputs,p.declaredInputs),Ee(t.outputs,p.outputs),Ot(p)&&p.data.animation){const ie=t.data;ie.animation=(ie.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let C=0;C<m.length;C++){const x=m[C];x&&x.ngInherit&&x(t),x===sh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function zg(t){let r=0,o=null;for(let d=t.length-1;d>=0;d--){const p=t[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Yn(p.hostAttrs,o=Yn(o,p.hostAttrs))}}(d)}function cf(t){return t===Br?{}:t===xe?[]:t}function Wg(t,r){const o=t.viewQuery;t.viewQuery=o?(d,p)=>{r(d,p),o(d,p)}:r}function Kg(t,r){const o=t.contentQueries;t.contentQueries=o?(d,p,m)=>{r(d,p,m),o(d,p,m)}:r}function Lm(t,r){const o=t.hostBindings;t.hostBindings=o?(d,p)=>{r(d,p),o(d,p)}:r}let oh=null;function Cc(){if(!oh){const t=pn.Symbol;if(t&&t.iterator)oh=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const d=r[o];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(oh=d)}}}return oh}function ah(t){return!!df(t)&&(Array.isArray(t)||!(t instanceof Map)&&Cc()in t)}function df(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zl(t,r,o){return t[r]=o}function Jo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function fd(t,r,o,d){const p=Jo(t,r,o);return Jo(t,r+1,d)||p}function cp(t,r,o,d,p){const m=fd(t,r,o,d);return Jo(t,r+2,p)||m}function Ua(t,r,o,d){const p=q();return Jo(p,Yi(),r)&&(wt(),Xo(qi(),p,t,r,o,d)),Ua}function Gu(t,r,o,d){return Jo(t,Yi(),o)?r+Ae(o)+d:Ur}function em(t,r,o,d,p,m,C,x){const N=q(),Z=wt(),ie=t+20,Re=Z.firstCreatePass?function Jg(t,r,o,d,p,m,C,x,N){const Z=r.consts,ie=vc(r,t,4,C||null,Kr(Z,x));od(r,o,ie,Kr(Z,N)),eu(r,ie);const Re=ie.tViews=Wh(2,ie,d,p,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Z);return null!==r.queries&&(r.queries.template(r,ie),Re.queries=r.queries.embeddedTView(ie)),ie}(ie,Z,N,r,o,d,p,m,C):Z.data[ie];B(Re,!1);const lt=N[11].createComment("");bl(Z,N,lt,Re),br(lt,N),_a(N,N[ie]=Ic(lt,N,lt,Re)),Pt(Re)&&zh(Z,N,Re),null!=C&&_c(N,Re,x)}function tm(t){return fr(function kn(){return $n.lFrame.contextLView}(),20+t)}function Ml(t,r=vn.Default){const o=q();return null===o?Tn(t,r):tr(E(),o,Te(t),r)}function Mc(){throw new Error("invalid")}function uh(t,r,o){const d=q();return Jo(d,Yi(),r)&&va(wt(),qi(),d,t,r,d[11],o,!1),uh}function _g(t,r,o,d,p){const C=p?"class":"style";Qh(t,o,r.inputs[C],C,d)}function ch(t,r,o,d){const p=q(),m=wt(),C=20+t,x=p[11],N=p[C]=Pa(x,r,function Ho(){return $n.lFrame.currentNamespace}()),Z=m.firstCreatePass?function ff(t,r,o,d,p,m,C){const x=r.consts,Z=vc(r,t,2,p,Kr(x,m));return od(r,o,Z,Kr(x,C)),null!==Z.attrs&&ep(Z,Z.attrs,!1),null!==Z.mergedAttrs&&ep(Z,Z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Z),Z}(C,m,p,0,r,o,d):m.data[C];B(Z,!0);const ie=Z.mergedAttrs;null!==ie&&Is(x,N,ie);const Re=Z.classes;null!==Re&&Ap(x,N,Re);const lt=Z.styles;return null!==lt&&Sp(x,N,lt),64!=(64&Z.flags)&&bl(m,p,N,Z),0===function mo(){return $n.lFrame.elementDepthCount}()&&br(N,p),function Hs(){$n.lFrame.elementDepthCount++}(),Pt(Z)&&(zh(m,p,Z),Wd(m,Z,p)),null!==d&&_c(p,Z),ch}function pf(){let t=E();pe()?Rt():(t=t.parent,B(t,!1));const r=t;!function $o(){$n.lFrame.elementDepthCount--}();const o=wt();return o.firstCreatePass&&(eu(o,t),yt(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function tu(t){return 0!=(16&t.flags)}(r)&&_g(o,r,q(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function bd(t){return 0!=(32&t.flags)}(r)&&_g(o,r,q(),r.stylesWithoutHost,!1),pf}function dh(t,r,o,d){return ch(t,r,o,d),pf(),dh}function vd(t,r,o){const d=q(),p=wt(),m=t+20,C=p.firstCreatePass?function yd(t,r,o,d,p){const m=r.consts,C=Kr(m,d),x=vc(r,t,8,"ng-container",C);return null!==C&&ep(x,C,!0),od(r,o,x,Kr(m,p)),null!==r.queries&&r.queries.elementStart(r,x),x}(m,p,d,r,o):p.data[m];B(C,!0);const x=d[m]=d[11].createComment("");return bl(p,d,x,C),br(x,d),Pt(C)&&(zh(p,d,C),Wd(p,C,d)),null!=o&&_c(d,C),vd}function Rc(){let t=E();const r=wt();return pe()?Rt():(t=t.parent,B(t,!1)),r.firstCreatePass&&(eu(r,t),yt(t)&&r.queries.elementEnd(t)),Rc}function yp(t,r,o){return vd(t,r,o),Rc(),yp}function vp(){return q()}function Eg(t){return!!t&&"function"==typeof t.then}function um(t){return!!t&&"function"==typeof t.subscribe}const u=um;function s(t,r,o,d){const p=q(),m=wt(),C=E();return function _(t,r,o,d,p,m,C,x){const N=Pt(d),ie=t.firstCreatePass&&th(t),Re=r[8],lt=$u(r);let St=!0;if(3&d.type||x){const Ln=qt(d,r),Xn=x?x(Ln):Ln,on=lt.length,_r=x?Mi=>x(V(Mi[d.index])):d.index;if(Pr(o)){let Mi=null;if(!x&&N&&(Mi=function f(t,r,o,d){const p=t.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const C=p[m];if(C===o&&p[m+1]===d){const x=r[7],N=p[m+2];return x.length>N?x[N]:null}"string"==typeof C&&(m+=2)}return null}(t,r,p,d.index)),null!==Mi)(Mi.__ngLastListenerFn__||Mi).__ngNextListenerFn__=m,Mi.__ngLastListenerFn__=m,St=!1;else{m=R(d,r,Re,m,!1);const ys=o.listen(Xn,p,m);lt.push(m,ys),ie&&ie.push(p,_r,on,on+1)}}else m=R(d,r,Re,m,!0),Xn.addEventListener(p,m,C),lt.push(m),ie&&ie.push(p,_r,on,C)}else m=R(d,r,Re,m,!1);const Qt=d.outputs;let Sn;if(St&&null!==Qt&&(Sn=Qt[p])){const Ln=Sn.length;if(Ln)for(let Xn=0;Xn<Ln;Xn+=2){const Xu=r[Sn[Xn]][Sn[Xn+1]].subscribe(m),Dg=lt.length;lt.push(m,Xu),ie&&ie.push(p,d.index,Dg,-(Dg+1))}}}(m,p,p[11],C,t,r,!!o,d),s}function D(t,r,o,d){try{return!1!==o(d)}catch(p){return ud(t,p),!1}}function R(t,r,o,d,p){return function m(C){if(C===Function)return d;const x=2&t.flags?sr(t.index,r):r;0==(32&r[2])&&Jd(x);let N=D(r,0,d,C),Z=m.__ngNextListenerFn__;for(;Z;)N=D(r,0,Z,C)&&N,Z=Z.__ngNextListenerFn__;return p&&!1===N&&(C.preventDefault(),C.returnValue=!1),N}}function Q(t=1){return function ra(t){return($n.lFrame.contextLView=function Qu(t,r){for(;t>0;)r=r[15],t--;return r}(t,$n.lFrame.contextLView))[8]}(t)}function ae(t,r){let o=null;const d=function Rf(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(t);for(let p=0;p<r.length;p++){const m=r[p];if("*"!==m){if(null===d?Ro(t,m,!0):xg(d,m))return p}else o=p}return o}function Se(t){const r=q()[16][6];if(!r.projection){const d=r.projection=la(t?t.length:1,null),p=d.slice();let m=r.child;for(;null!==m;){const C=t?ae(m,t):0;null!==C&&(p[C]?p[C].projectionNext=m:d[C]=m,p[C]=m),m=m.next}}}function It(t,r=0,o){const d=q(),p=wt(),m=vc(p,20+t,16,null,o||null);null===m.projection&&(m.projection=r),Rt(),64!=(64&m.flags)&&function _m(t,r,o){kd(r[11],0,r,o,Nd(t,o,r),Fa(o.parent||r[6],o,r))}(p,d,m)}function Ut(t,r,o,d,p){const m=q(),C=Gu(m,r,o,d);return C!==Ur&&va(wt(),qi(),m,t,C,m[11],p,!1),Ut}function hh(t,r,o,d,p){const m=t[o+1],C=null===r;let x=d?al(m):Kl(m),N=!1;for(;0!==x&&(!1===N||C);){const ie=t[x+1];wg(t[x],r)&&(N=!0,t[x+1]=d?$h(ie):Bd(ie)),x=d?al(ie):Kl(ie)}N&&(t[o+1]=d?Bd(m):$h(m))}function wg(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Qa(t,r)>=0}function Qm(t,r){return function ea(t,r,o,d){const p=q(),m=wt(),C=As(2);m.firstUpdatePass&&function Dy(t,r,o,d){const p=t.data;if(null===p[o+1]){const m=p[Es()],C=function fh(t,r){return r>=t.expandoStartIndex}(t,o);(function Ay(t,r){return 0!=(t.flags&(r?16:32))})(m,d)&&null===r&&!C&&(r=!1),r=function Zy(t,r,o,d){const p=function Rl(t){const r=$n.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let m=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(o=Ig(o=Jm(null,t,r,o,d),r.attrs,d),m=null);else{const C=r.directiveStylingLast;if(-1===C||t[C]!==p)if(o=Jm(p,t,r,o,d),null===m){let N=function Xy(t,r,o){const d=o?r.classBindings:r.styleBindings;if(0!==Kl(d))return t[al(d)]}(t,r,d);void 0!==N&&Array.isArray(N)&&(N=Jm(null,t,r,N[1],d),N=Ig(N,r.attrs,d),function Qy(t,r,o,d){t[al(o?r.classBindings:r.styleBindings)]=d}(t,r,d,N))}else m=function Jy(t,r,o){let d;const p=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<p;m++)d=Ig(d,t[m].hostAttrs,o);return Ig(d,r.attrs,o)}(t,r,d)}return void 0!==m&&(d?r.residualClasses=m:r.residualStyles=m),o}(p,m,r,d),function _d(t,r,o,d,p,m){let C=m?r.classBindings:r.styleBindings,x=al(C),N=Kl(C);t[d]=o;let ie,Z=!1;if(Array.isArray(o)){const Re=o;ie=Re[1],(null===ie||Qa(Re,ie)>0)&&(Z=!0)}else ie=o;if(p)if(0!==N){const lt=al(t[x+1]);t[d+1]=uu(lt,x),0!==lt&&(t[lt+1]=Of(t[lt+1],d)),t[x+1]=function Mg(t,r){return 131071&t|r<<17}(t[x+1],d)}else t[d+1]=uu(x,0),0!==x&&(t[x+1]=Of(t[x+1],d)),x=d;else t[d+1]=uu(N,0),0===x?x=d:t[N+1]=Of(t[N+1],d),N=d;Z&&(t[d+1]=Bd(t[d+1])),hh(t,ie,d,!0),hh(t,ie,d,!1),function Ed(t,r,o,d,p){const m=p?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof r&&Qa(m,r)>=0&&(o[d+1]=$h(o[d+1]))}(r,ie,t,d,m),C=uu(x,N),m?r.classBindings=C:r.styleBindings=C}(p,m,r,o,C,d)}}(m,t,C,d),r!==Ur&&Jo(p,C,r)&&function Sy(t,r,o,d,p,m,C,x){if(!(3&r.type))return;const N=t.data,Z=N[x+1];Ep(function Uh(t){return 1==(1&t)}(Z)?mf(N,r,o,p,Kl(Z),C):void 0)||(Ep(m)||function Op(t){return 2==(2&t)}(Z)&&(m=mf(N,null,o,p,x,C)),function nd(t,r,o,d,p){const m=Pr(t);if(r)p?m?t.addClass(o,d):o.classList.add(d):m?t.removeClass(o,d):o.classList.remove(d);else{let C=-1===d.indexOf("-")?void 0:K.DashCase;if(null==p)m?t.removeStyle(o,d,C):o.style.removeProperty(d);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),C|=K.Important),m?t.setStyle(o,d,p,C):o.style.setProperty(d,p,x?"important":"")}}}(d,C,Nt(Es(),o),p,m))}(m,m.data[Es()],p,p[11],t,p[C+1]=function nv(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ge(vl(t)))),t}(r,o),d,C)}(t,r,null,!0),Qm}function Jm(t,r,o,d,p){let m=null;const C=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<C&&(m=r[x],d=Ig(d,m.hostAttrs,p),m!==t);)x++;return null!==t&&(o.directiveStylingLast=x),d}function Ig(t,r,o){const d=o?1:2;let p=-1;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?p=C:p===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Bo(t,C,!!o||r[++m]))}return void 0===t?null:t}function mf(t,r,o,d,p,m){const C=null===r;let x;for(;p>0;){const N=t[p],Z=Array.isArray(N),ie=Z?N[1]:N,Re=null===ie;let lt=o[p+1];lt===Ur&&(lt=Re?xe:void 0);let St=Re?Oi(lt,d):ie===d?lt:void 0;if(Z&&!Ep(St)&&(St=Oi(N,d)),Ep(St)&&(x=St,C))return x;const Qt=t[p+1];p=C?al(Qt):Kl(Qt)}if(null!==r){let N=m?r.residualClasses:r.residualStyles;null!=N&&(x=Oi(N,d))}return x}function Ep(t){return void 0!==t}function xy(t,r=""){const o=q(),d=wt(),p=t+20,m=d.firstCreatePass?vc(d,p,1,r,null):d.data[p],C=o[p]=function Zo(t,r){return Pr(t)?t.createText(r):t.createTextNode(r)}(o[11],r);bl(d,o,C,m),B(m,!1)}function ey(t){return dm("",t,""),ey}function dm(t,r,o){const d=q(),p=Gu(d,t,r,o);return p!==Ur&&Ba(d,Es(),p),dm}function ty(t,r,o,d,p){const m=q(),C=function zu(t,r,o,d,p,m){const x=fd(t,mi(),o,p);return As(2),x?r+Ae(o)+d+Ae(p)+m:Ur}(m,t,r,o,d,p);return C!==Ur&&Ba(m,Es(),C),ty}function ny(t,r,o,d,p,m,C){const x=q(),N=function Sc(t,r,o,d,p,m,C,x){const Z=cp(t,mi(),o,p,C);return As(3),Z?r+Ae(o)+d+Ae(p)+m+Ae(C)+x:Ur}(x,t,r,o,d,p,m,C);return N!==Ur&&Ba(x,Es(),N),ny}const bg=void 0;var hE=["en",[["a","p"],["AM","PM"],bg],[["AM","PM"],bg,bg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bg,"{1} 'at' {0}",bg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dE(t){const o=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let hm={};function sv(t){const r=function fE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=o_(r);if(o)return o;const d=r.split("-")[0];if(o=o_(d),o)return o;if("en"===d)return hE;throw new Error(`Missing locale data for the locale "${t}".`)}function s_(t){return sv(t)[Dr.PluralCase]}function o_(t){return t in hm||(hm[t]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[t]),hm[t]}var Dr=(()=>((Dr=Dr||{})[Dr.LocaleId=0]="LocaleId",Dr[Dr.DayPeriodsFormat=1]="DayPeriodsFormat",Dr[Dr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dr[Dr.DaysFormat=3]="DaysFormat",Dr[Dr.DaysStandalone=4]="DaysStandalone",Dr[Dr.MonthsFormat=5]="MonthsFormat",Dr[Dr.MonthsStandalone=6]="MonthsStandalone",Dr[Dr.Eras=7]="Eras",Dr[Dr.FirstDayOfWeek=8]="FirstDayOfWeek",Dr[Dr.WeekendRange=9]="WeekendRange",Dr[Dr.DateFormat=10]="DateFormat",Dr[Dr.TimeFormat=11]="TimeFormat",Dr[Dr.DateTimeFormat=12]="DateTimeFormat",Dr[Dr.NumberSymbols=13]="NumberSymbols",Dr[Dr.NumberFormats=14]="NumberFormats",Dr[Dr.CurrencyCode=15]="CurrencyCode",Dr[Dr.CurrencySymbol=16]="CurrencySymbol",Dr[Dr.CurrencyName=17]="CurrencyName",Dr[Dr.Currencies=18]="Currencies",Dr[Dr.Directionality=19]="Directionality",Dr[Dr.PluralCase=20]="PluralCase",Dr[Dr.ExtraData=21]="ExtraData",Dr))();const My="en-US";let a_=My;function lv(t,r,o,d,p){if(t=Te(t),Array.isArray(t))for(let m=0;m<t.length;m++)lv(t[m],r,o,d,p);else{const m=wt(),C=q();let x=gu(t)?t:Te(t.provide),N=Xp(t);const Z=E(),ie=1048575&Z.providerIndexes,Re=Z.directiveStart,lt=Z.providerIndexes>>20;if(gu(t)||!t.multi){const St=new fl(N,p,Ml),Qt=cv(x,r,p?ie:ie+lt,Re);-1===Qt?(Bt(W(Z,C),m,x),uv(m,t,r.length),r.push(x),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),o.push(St),C.push(St)):(o[Qt]=St,C[Qt]=St)}else{const St=cv(x,r,ie+lt,Re),Qt=cv(x,r,ie,ie+lt),Sn=St>=0&&o[St],Ln=Qt>=0&&o[Qt];if(p&&!Ln||!p&&!Sn){Bt(W(Z,C),m,x);const Xn=function dw(t,r,o,d,p){const m=new fl(t,o,Ml);return m.multi=[],m.index=r,m.componentProviders=0,R_(m,p,d&&!o),m}(p?cw:uw,o.length,p,d,N);!p&&Ln&&(o[Qt].providerFactory=Xn),uv(m,t,r.length,0),r.push(x),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),o.push(Xn),C.push(Xn)}else uv(m,t,St>-1?St:Qt,R_(o[p?Qt:St],N,!p&&d));!p&&d&&Ln&&o[Qt].componentProviders++}}}function uv(t,r,o,d){const p=gu(r),m=function Jp(t){return!!t.useClass}(r);if(p||m){const N=(m?Te(r.useClass):r).prototype.ngOnDestroy;if(N){const Z=t.destroyHooks||(t.destroyHooks=[]);if(!p&&r.multi){const ie=Z.indexOf(o);-1===ie?Z.push(o,[d,N]):Z[ie+1].push(d,N)}else Z.push(o,N)}}}function R_(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function cv(t,r,o,d){for(let p=o;p<d;p++)if(r[p]===t)return p;return-1}function uw(t,r,o,d){return dv(this.multi,[])}function cw(t,r,o,d){const p=this.multi;let m;if(this.providerFactory){const C=this.providerFactory.componentProviders,x=Wo(o,o[1],this.providerFactory.index,d);m=x.slice(0,C),dv(p,m);for(let N=C;N<x.length;N++)m.push(x[N])}else m=[],dv(p,m);return m}function dv(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function O_(t,r=[]){return o=>{o.providersResolver=(d,p)=>function lw(t,r,o){const d=wt();if(d.firstCreatePass){const p=Ot(t);lv(o,d.data,d.blueprint,p,!0),lv(r,d.data,d.blueprint,p,!1)}}(d,p?p(t):t,r)}}class P_{}class pw{resolveComponentFactory(r){throw function fw(t){const r=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let ky=(()=>{class t{}return t.NULL=new pw,t})();function gw(){return pm(E(),q())}function pm(t,r){return new ly(qt(t,r))}let ly=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=gw,t})();function mw(t){return t instanceof ly?t.nativeElement:t}class k_{}let yw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function _w(){const t=q(),o=sr(E().index,t);return function vw(t){return t[11]}(Ie(o)?o:t)}(),t})(),Ew=(()=>{class t{}return t.\u0275prov=_e({token:t,providedIn:"root",factory:()=>null}),t})();class F_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const L_=new F_("13.2.7"),hv={};function Fy(t,r,o,d,p=!1){for(;null!==o;){const m=r[o.index];if(null!==m&&d.push(V(m)),Fe(m))for(let x=10;x<m.length;x++){const N=m[x],Z=N[1].firstChild;null!==Z&&Fy(N[1],N,Z,d)}const C=o.type;if(8&C)Fy(t,r,o.child,d);else if(32&C){const x=gt(o,r);let N;for(;N=x();)d.push(N)}else if(16&C){const x=ya(r,o);if(Array.isArray(x))d.push(...x);else{const N=Rn(r[16]);Fy(N[1],N,x,d,!0)}}o=p?o.projectionNext:o.next}return d}class uy{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Fy(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Fe(r)){const o=r[8],d=o?o.indexOf(this):-1;d>-1&&(Oh(r,d),_o(o,d))}this._attachedToViewContainer=!1}Sf(this._lView[1],this._lView)}onDestroy(r){Kd(this._lView[1],this._lView,null,r)}markForCheck(){Jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Vg(t,r,o){Sr(!0);try{Kp(t,r,o)}finally{Sr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hc(t,r){pc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new qe(902,"");this._appRef=r}}class ww extends uy{constructor(r){super(r),this._view=r}detectChanges(){Qf(this._view)}checkNoChanges(){!function Jf(t){Sr(!0);try{Qf(t)}finally{Sr(!1)}}(this._view)}get context(){return null}}class B_ extends ky{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Vr(r);return new fv(o,this.ngModule)}}function V_(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class fv extends P_{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Rp(t){return t.map(rd).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return V_(this.componentDef.inputs)}get outputs(){return V_(this.componentDef.outputs)}create(r,o,d,p){const m=(p=p||this.ngModule)?function bw(t,r){return{get:(o,d,p)=>{const m=t.get(o,hv,p);return m!==hv||d===hv?m:r.get(o,d,p)}}}(r,p.injector):r,C=m.get(k_,$),x=m.get(Ew,null),N=C.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ie=d?function $p(t,r,o){if(Pr(t))return t.selectRootElement(r,o===pt.ShadowDom);let d="string"==typeof r?t.querySelector(r):r;return d.textContent="",d}(N,d,this.componentDef.encapsulation):Pa(C.createRenderer(null,this.componentDef),Z,function Iw(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Z)),Re=this.componentDef.onPush?576:528,lt=function uf(t,r){return{components:[],scheduler:t||Qc,clean:ld,playerHandler:r||null,flags:0}}(),St=Wh(0,null,null,1,0,null,null,null,null,null),Qt=Dl(null,St,lt,Re,null,null,C,N,x,m);let Sn,Ln;Fo(Qt);try{const Xn=function lf(t,r,o,d,p,m){const C=o[1];o[20]=t;const N=vc(C,20,2,"#host",null),Z=N.mergedAttrs=r.hostAttrs;null!==Z&&(ep(N,Z,!0),null!==t&&(Is(p,t,Z),null!==N.classes&&Ap(p,t,N.classes),null!==N.styles&&Sp(p,t,N.styles)));const ie=d.createRenderer(t,r),Re=Dl(o,Fg(r),null,r.onPush?64:16,o[20],N,d,ie,m||null,null);return C.firstCreatePass&&(Bt(W(N,o),C,r.type),Zh(C,N),Bg(N,o.length,1)),_a(o,Re),o[20]=Re}(ie,this.componentDef,Qt,C,N);if(ie)if(d)Is(N,ie,["ng-version",L_.full]);else{const{attrs:on,classes:_r}=function id(t){const r=[],o=[];let d=1,p=2;for(;d<t.length;){let m=t[d];if("string"==typeof m)2===p?""!==m&&r.push(m,t[++d]):8===p&&o.push(m);else{if(!La(p))break;p=m}d++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);on&&Is(N,ie,on),_r&&_r.length>0&&Ap(N,ie,_r.join(" "))}if(Ln=Hn(St,20),void 0!==o){const on=Ln.projection=[];for(let _r=0;_r<this.ngContentSelectors.length;_r++){const Mi=o[_r];on.push(null!=Mi?Array.from(Mi):null)}}Sn=function sg(t,r,o,d,p){const m=o[1],C=function Zd(t,r,o){const d=E();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),wc(t,d,r,Bu(t,r,1,null),o));const p=Wo(r,t,d.directiveStart,d);br(p,r);const m=qt(d,r);return m&&br(m,r),p}(m,o,r);if(d.components.push(C),t[8]=C,p&&p.forEach(N=>N(C,r)),r.contentQueries){const N=E();r.contentQueries(1,C,N.directiveStart)}const x=E();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ia(x.index),Xd(o[1],x,0,x.directiveStart,x.directiveEnd,r),zf(r,C)),C}(Xn,this.componentDef,Qt,lt,[Gg]),ql(St,Qt,null)}finally{Ia()}return new Dw(this.componentType,Sn,pm(Ln,Qt),Qt,Ln)}}class Dw extends class hw{}{constructor(r,o,d,p,m){super(),this.location=d,this._rootLView=p,this._tNode=m,this.instance=o,this.hostView=this.changeDetectorRef=new ww(p),this.componentType=r}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class gm{}class U_{}const mm=new Map;class H_ extends gm{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new B_(this);const d=Gr(r);this._bootstrapComponents=wl(d.bootstrap),this._r3Injector=rp(r,o,[{provide:gm,useValue:this},{provide:ky,useValue:this.componentFactoryResolver}],ge(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Va.THROW_IF_NOT_FOUND,d=vn.Default){return r===Va||r===gm||r===Jh?this:this._r3Injector.get(r,o,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class pv extends U_{constructor(r){super(),this.moduleType=r,null!==Gr(r)&&function Sw(t){const r=new Set;!function o(d){const p=Gr(d,!0),m=p.id;null!==m&&(function $_(t,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${t} - ${ge(r)} vs ${ge(r.name)}`)}(m,mm.get(m),d),mm.set(m,d));const C=wl(p.imports);for(const x of C)r.has(x)||(r.add(x),o(x))}(t)}(r)}create(r){return new H_(this.moduleType,r)}}function G_(t,r,o){const d=ar()+t,p=q();return p[d]===Ur?Zl(p,d,o?r.call(o):r()):function Dc(t,r){return t[r]}(p,d)}function z_(t,r,o,d){return K_(q(),ar(),t,r,o,d)}function W_(t,r,o,d,p){return Y_(q(),ar(),t,r,o,d,p)}function cy(t,r){const o=t[r];return o===Ur?void 0:o}function K_(t,r,o,d,p,m){const C=r+o;return Jo(t,C,p)?Zl(t,C+1,m?d.call(m,p):d(p)):cy(t,C+1)}function Y_(t,r,o,d,p,m,C){const x=r+o;return fd(t,x,p,m)?Zl(t,x+2,C?d.call(C,p,m):d(p,m)):cy(t,x+2)}function Z_(t,r,o,d,p,m,C,x,N){const Z=r+o;return function xl(t,r,o,d,p,m){const C=fd(t,r,o,d);return fd(t,r+2,p,m)||C}(t,Z,p,m,C,x)?Zl(t,Z+4,N?d.call(N,p,m,C,x):d(p,m,C,x)):cy(t,Z+4)}function Q_(t,r){const o=wt();let d;const p=t+20;o.firstCreatePass?(d=function kw(t,r){if(r)for(let o=r.length-1;o>=0;o--){const d=r[o];if(t===d.name)return d}}(r,o.pipeRegistry),o.data[p]=d,d.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(p,d.onDestroy)):d=o.data[p];const m=d.factory||(d.factory=Fi(d.type)),C=Zn(Ml);try{const x=Ka(!1),N=m();return Ka(x),function $m(t,r,o,d){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=d}(o,q(),p,N),N}finally{Zn(C)}}function J_(t,r,o){const d=t+20,p=q(),m=fr(p,d);return dy(p,d)?K_(p,ar(),r,m.transform,o,m):m.transform(o)}function e0(t,r,o,d){const p=t+20,m=q(),C=fr(m,p);return dy(m,p)?Y_(m,ar(),r,C.transform,o,d,C):C.transform(o,d)}function t0(t,r,o,d,p){const m=t+20,C=q(),x=fr(C,m);return dy(C,m)?function q_(t,r,o,d,p,m,C,x){const N=r+o;return cp(t,N,p,m,C)?Zl(t,N+3,x?d.call(x,p,m,C):d(p,m,C)):cy(t,N+3)}(C,ar(),r,x.transform,o,d,p,x):x.transform(o,d,p)}function n0(t,r,o,d,p,m){const C=t+20,x=q(),N=fr(x,C);return dy(x,C)?Z_(x,ar(),r,N.transform,o,d,p,m,N):N.transform(o,d,p,m)}function dy(t,r){return t[1].data[r].pure}function gv(t){return r=>{setTimeout(t,void 0,r)}}const ph=class Lw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,d){var p,m,C;let x=r,N=o||(()=>null),Z=d;if(r&&"object"==typeof r){const Re=r;x=null===(p=Re.next)||void 0===p?void 0:p.bind(Re),N=null===(m=Re.error)||void 0===m?void 0:m.bind(Re),Z=null===(C=Re.complete)||void 0===C?void 0:C.bind(Re)}this.__isAsync&&(N=gv(N),x&&(x=gv(x)),Z&&(Z=gv(Z)));const ie=super.subscribe({next:x,error:N,complete:Z});return r instanceof G.w0&&r.add(ie),ie}};function Bw(){return this._results[Cc()]()}class mv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Cc(),d=mv.prototype;d[o]||(d[o]=Bw)}get changes(){return this._changes||(this._changes=new ph)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const d=this;d.dirty=!1;const p=oo(r);(this._changesDetected=!function ml(t,r,o){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let p=t[d],m=r[d];if(o&&(p=o(p),m=o(m)),m!==p)return!1}return!0}(d._results,p,o))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hy=(()=>{class t{}return t.__NG_ELEMENT_ID__=$w,t})();const Vw=hy,Uw=class extends Vw{constructor(r,o,d){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(r){const o=this._declarationTContainer.tViews,d=Dl(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(o)),ql(o,d,r),new uy(d)}};function $w(){return Ly(E(),q())}function Ly(t,r){return 4&t.type?new Uw(r,t,pm(t,r)):null}let By=(()=>{class t{}return t.__NG_ELEMENT_ID__=jw,t})();function jw(){return o0(E(),q())}const Hw=By,r0=class extends Hw{constructor(r,o,d){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=d}get element(){return pm(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){const r=nt(this._hostTNode,this._hostLView);if(An(r)){const o=Ar(r,this._hostLView),d=xt(r);return new sa(o[1].data[d+8],o)}return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=s0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,d){const p=r.createEmbeddedView(o||{});return this.insert(p,d),p}createComponent(r,o,d,p,m){const C=r&&!function ns(t){return"function"==typeof t}(r);let x;if(C)x=o;else{const Re=o||{};x=Re.index,d=Re.injector,p=Re.projectableNodes,m=Re.ngModuleRef}const N=C?r:new fv(Vr(r)),Z=d||this.parentInjector;if(!m&&null==N.ngModule){const lt=(C?Z:this.parentInjector).get(gm,null);lt&&(m=lt)}const ie=N.create(Z,p,void 0,m);return this.insert(ie.hostView,x),ie}insert(r,o){const d=r._lView,p=d[1];if(function Wr(t){return Fe(t[3])}(d)){const ie=this.indexOf(r);if(-1!==ie)this.detach(ie);else{const Re=d[3],lt=new r0(Re,Re[6],Re[3]);lt.detach(lt.indexOf(r))}}const m=this._adjustIndex(o),C=this._lContainer;!function Il(t,r,o,d){const p=10+d,m=o.length;d>0&&(o[p-1][4]=r),d<m-10?(r[4]=o[p],vo(o,10+d,r)):(o.push(r),r[4]=null),r[3]=o;const C=r[17];null!==C&&o!==C&&function Ds(t,r){const o=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===o?t[9]=[r]:o.push(r)}(C,r);const x=r[19];null!==x&&x.insertView(t),r[2]|=128}(p,d,C,m);const x=Fh(m,C),N=d[11],Z=Ph(N,C[7]);return null!==Z&&function sl(t,r,o,d,p,m){d[0]=p,d[6]=r,pc(t,d,o,1,p,m)}(p,C[6],N,d,Z,x),r.attachToViewContainerRef(),vo(yv(C),m,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=s0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),d=Oh(this._lContainer,o);d&&(_o(yv(this._lContainer),o),Sf(d[1],d))}detach(r){const o=this._adjustIndex(r,-1),d=Oh(this._lContainer,o);return d&&null!=_o(yv(this._lContainer),o)?new uy(d):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function s0(t){return t[8]}function yv(t){return t[8]||(t[8]=[])}function o0(t,r){let o;const d=r[t.index];if(Fe(d))o=d;else{let p;if(8&t.type)p=V(d);else{const m=r[11];p=m.createComment("");const C=qt(t,r);ka(m,Ph(m,C),p,function rs(t,r){return Pr(t)?t.nextSibling(r):r.nextSibling}(m,C),!1)}r[t.index]=o=Ic(d,r,p,t),_a(r,o)}return new r0(o,t,r)}class vv{constructor(r){this.queryList=r,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _v{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const d=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let m=0;m<d;m++){const C=o.getByIndex(m);p.push(this.queries[C.indexInDeclarationView].clone())}return new _v(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==g0(r,o).matches&&this.queries[o].setDirty()}}class a0{constructor(r,o,d=null){this.predicate=r,this.flags=o,this.read=d}}class Ev{constructor(r=[]){this.queries=r}elementStart(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let d=0;d<this.length;d++){const p=null!==o?o.length:0,m=this.getByIndex(d).embeddedTView(r,p);m&&(m.indexInDeclarationView=d,null!==o?o.push(m):o=[m])}return null!==o?new Ev(o):null}template(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class wv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new wv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const m=d[p];this.matchTNodeWithReadOption(r,o,Ww(o,m)),this.matchTNodeWithReadOption(r,o,gl(o,r,m,!1,!1))}else d===hy?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,gl(o,r,d,!1,!1))}matchTNodeWithReadOption(r,o,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===ly||p===By||p===hy&&4&o.type)this.addMatch(o.index,-2);else{const m=gl(o,r,p,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,d)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Ww(t,r){const o=t.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===r)return o[d+1];return null}function Yw(t,r,o,d){return-1===o?function Kw(t,r){return 11&t.type?pm(t,r):4&t.type?Ly(t,r):null}(r,t):-2===o?function qw(t,r,o){return o===ly?pm(r,t):o===hy?Ly(r,t):o===By?o0(r,t):void 0}(t,r,d):Wo(t,t[1],o,r)}function l0(t,r,o,d){const p=r[19].queries[d];if(null===p.matches){const m=t.data,C=o.matches,x=[];for(let N=0;N<C.length;N+=2){const Z=C[N];x.push(Z<0?null:Yw(r,m[Z],C[N+1],o.metadata.read))}p.matches=x}return p.matches}function Iv(t,r,o,d){const p=t.queries.getByIndex(o),m=p.matches;if(null!==m){const C=l0(t,r,p,o);for(let x=0;x<m.length;x+=2){const N=m[x];if(N>0)d.push(C[x/2]);else{const Z=m[x+1],ie=r[-N];for(let Re=10;Re<ie.length;Re++){const lt=ie[Re];lt[17]===lt[3]&&Iv(lt[1],lt,Z,d)}if(null!==ie[9]){const Re=ie[9];for(let lt=0;lt<Re.length;lt++){const St=Re[lt];Iv(St[1],St,Z,d)}}}}}return d}function u0(t){const r=q(),o=wt(),d=Ol();na(d+1);const p=g0(o,d);if(t.dirty&&cr(r)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const m=p.crossesNgTemplate?Iv(o,r,d,[]):l0(o,r,p,d);t.reset(m,mw),t.notifyOnChanges()}return!0}return!1}function c0(t,r,o){const d=wt();d.firstCreatePass&&(p0(d,new a0(t,r,o),-1),2==(2&r)&&(d.staticViewQueries=!0)),f0(d,q(),r)}function d0(t,r,o,d){const p=wt();if(p.firstCreatePass){const m=E();p0(p,new a0(r,o,d),m.index),function Xw(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(p,t),2==(2&o)&&(p.staticContentQueries=!0)}f0(p,q(),o)}function h0(){return function Zw(t,r){return t[19].queries[r].queryList}(q(),Ol())}function f0(t,r,o){const d=new mv(4==(4&o));Kd(t,r,d,d.destroy),null===r[19]&&(r[19]=new _v),r[19].queries.push(new vv(d))}function p0(t,r,o){null===t.queries&&(t.queries=new Ev),t.queries.track(new wv(r,o))}function g0(t,r){return t.queries.getByIndex(r)}function m0(t,r){return Ly(t,r)}function $y(...t){}const P0=new Ri("Application Initializer");let Av=(()=>{class t{constructor(o){this.appInits=o,this.resolve=$y,this.reject=$y,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Eg(m))o.push(m);else if(u(m)){const C=new Promise((x,N)=>{m.subscribe({complete:x,error:N})});o.push(C)}}Promise.all(o).then(()=>{d()}).catch(p=>{this.reject(p)}),0===o.length&&d(),this.initialized=!0}}return t.\u0275fac=function(o){return new(o||t)(Tn(P0,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const N0=new Ri("AppId",{providedIn:"root",factory:function k0(){return`${xv()}${xv()}${xv()}`}});function xv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const F0=new Ri("Platform Initializer"),L0=new Ri("Platform ID"),B0=new Ri("appBootstrapListener");let V0=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const Mv=new Ri("LocaleId",{providedIn:"root",factory:()=>pr(Mv,vn.Optional|vn.SkipSelf)||function pI(){return"undefined"!=typeof $localize&&$localize.locale||My}()}),gI=new Ri("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let yI=(()=>{class t{compileModuleSync(o){return new pv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),m=wl(Gr(o).declarations).reduce((C,x)=>{const N=Vr(x);return N&&C.push(new fv(N)),C},[]);return new mI(d,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _I=(()=>Promise.resolve(0))();function Rv(t){"undefined"==typeof Zone?_I.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class wd{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ph(!1),this.onMicrotaskEmpty=new ph(!1),this.onStable=new ph(!1),this.onError=new ph(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&o,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function EI(){let t=pn.requestAnimationFrame,r=pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function bI(t){const r=()=>{!function II(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pv(t),t.isCheckStableRunning=!0,Ov(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,p,m,C,x)=>{try{return U0(t),o.invokeTask(p,m,C,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&r(),$0(t)}},onInvoke:(o,d,p,m,C,x,N)=>{try{return U0(t),o.invoke(p,m,C,x,N)}finally{t.shouldCoalesceRunChangeDetection&&r(),$0(t)}},onHasTask:(o,d,p,m)=>{o.hasTask(p,m),d===p&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,Pv(t),Ov(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,d,p,m)=>(o.handleError(p,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,d){return this._inner.run(r,o,d)}runTask(r,o,d,p){const m=this._inner,C=m.scheduleEventTask("NgZoneEvent: "+p,r,wI,$y,$y);try{return m.runTask(C,o,d)}finally{m.cancelTask(C)}}runGuarded(r,o,d){return this._inner.runGuarded(r,o,d)}runOutsideAngular(r){return this._outer.run(r)}}const wI={};function Ov(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function U0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $0(t){t._nesting--,Ov(t)}class CI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ph,this.onMicrotaskEmpty=new ph,this.onStable=new ph,this.onError=new ph}run(r,o,d){return r.apply(o,d)}runGuarded(r,o,d){return r.apply(o,d)}runOutsideAngular(r){return r()}runTask(r,o,d,p){return r.apply(o,d)}}let j0=(()=>{class t{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wd.assertNotInAngularZone(),Rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,p){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:p})}whenStable(o,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,d,p){return[]}}return t.\u0275fac=function(o){return new(o||t)(Tn(wd))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),H0=(()=>{class t{constructor(){this._applications=new Map,Nv.addToWindow(this)}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return Nv.findTestabilityInTree(this,o,d)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class DI{addToWindow(r){}findTestabilityInTree(r,o,d){return null}}function TI(t){Nv=t}let Id,Nv=new DI;const G0=new Ri("AllowMultipleToken");class xI{constructor(r,o){this.name=r,this.token=o}}function z0(t,r,o=[]){const d=`Platform: ${r}`,p=new Ri(d);return(m=[])=>{let C=W0();if(!C||C.injector.get(G0,!1))if(t)t(o.concat(m).concat({provide:p,useValue:!0}));else{const x=o.concat(m).concat({provide:p,useValue:!0},{provide:ef,useValue:"platform"});!function MI(t){if(Id&&!Id.destroyed&&!Id.injector.get(G0,!1))throw new qe(400,"");Id=t.get(K0);const r=t.get(F0,null);r&&r.forEach(o=>o())}(Va.create({providers:x,name:d}))}return function RI(t){const r=W0();if(!r)throw new qe(401,"");return r}()}}function W0(){return Id&&!Id.destroyed?Id:null}let K0=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const x=function OI(t,r){let o;return o="noop"===t?new CI:("zone.js"===t?void 0:t)||new wd({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),N=[{provide:wd,useValue:x}];return x.run(()=>{const Z=Va.create({providers:N,parent:this.injector,name:o.moduleType.name}),ie=o.create(Z),Re=ie.injector.get(qc,null);if(!Re)throw new qe(402,"");return x.runOutsideAngular(()=>{const lt=x.onError.subscribe({next:St=>{Re.handleError(St)}});ie.onDestroy(()=>{Fv(this._modules,ie),lt.unsubscribe()})}),function PI(t,r,o){try{const d=o();return Eg(d)?d.catch(p=>{throw r.runOutsideAngular(()=>t.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(Re,x,()=>{const lt=ie.injector.get(Av);return lt.runInitializers(),lt.donePromise.then(()=>(function yE(t){Ye(t,"Expected localeId to be defined"),"string"==typeof t&&(a_=t.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(Mv,My)||My),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(o,d=[]){const p=Y0({},d);return function SI(t,r,o){const d=new pv(o);return Promise.resolve(d)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(o){const d=o.injector.get(kv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new qe(403,"");o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(o){return new(o||t)(Tn(Va))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();function Y0(t,r){return Array.isArray(r)?r.reduce(Y0,t):Object.assign(Object.assign({},t),r)}let kv=(()=>{class t{constructor(o,d,p,m,C){this._zone=o,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new Y.y(Z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Z.next(this._stable),Z.complete()})}),N=new Y.y(Z=>{let ie;this._zone.runOutsideAngular(()=>{ie=this._zone.onStable.subscribe(()=>{wd.assertNotInAngularZone(),Rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Z.next(!0))})})});const Re=this._zone.onUnstable.subscribe(()=>{wd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Z.next(!1)}))});return()=>{ie.unsubscribe(),Re.unsubscribe()}});this.isStable=(0,Ne.T)(x,N.pipe((0,be.B)()))}bootstrap(o,d){if(!this._initStatus.done)throw new qe(405,"");let p;p=o instanceof P_?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(p.componentType);const m=function AI(t){return t.isBoundToModule}(p)?void 0:this._injector.get(gm),x=p.create(Va.NULL,[],d||p.selector,m),N=x.location.nativeElement,Z=x.injector.get(j0,null),ie=Z&&x.injector.get(H0);return Z&&ie&&ie.registerApplication(N,Z),x.onDestroy(()=>{this.detachView(x.hostView),Fv(this.components,x),ie&&ie.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new qe(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;Fv(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(B0,[]).concat(this._bootstrapListeners).forEach(p=>p(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(o){return new(o||t)(Tn(wd),Tn(Va),Tn(qc),Tn(ky),Tn(Av))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}let Z0=!0,X0=!1;function kI(){return X0=!0,Z0}function FI(){if(X0)throw new Error("Cannot enable prod mode after platform setup.");Z0=!1}let LI=(()=>{class t{}return t.__NG_ELEMENT_ID__=BI,t})();function BI(t){return function VI(t,r,o){if(Lt(t)&&!o){const d=sr(t.index,r);return new uy(d,d)}return 47&t.type?new uy(r[16],r):null}(E(),q(),16==(16&t))}class tE{constructor(){}supports(r){return ah(r)}create(r){return new zI(r)}}const GI=(t,r)=>r;class zI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||GI}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,d=this._removalsHead,p=0,m=null;for(;o||d;){const C=!d||o&&o.currentIndex<rE(d,p,m)?o:d,x=rE(C,p,m),N=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(o=o._next,null==C.previousIndex)p++;else{m||(m=[]);const Z=x-p,ie=N-p;if(Z!=ie){for(let lt=0;lt<Z;lt++){const St=lt<m.length?m[lt]:m[lt]=0,Qt=St+lt;ie<=Qt&&Qt<Z&&(m[lt]=St+1)}m[C.previousIndex]=ie-Z}}x!==N&&r(C,x,N)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!ah(r))throw new qe(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,m,C,o=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)m=r[x],C=this._trackByFn(x,m),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,m,C,x)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,C,x),d=!0),o=o._next}else p=0,function Um(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Cc()]();let d;for(;!(d=o.next()).done;)r(d.value)}}(r,x=>{C=this._trackByFn(p,x),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,x,C,p)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,C,p),d=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,d,p){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,m,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,m,p)):r=this._addAfter(new WI(o,d),m,p),r}_verifyReinsertion(r,o,d,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?r=this._reinsertAfter(m,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,m=r._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(r,o,d),this._addToMoves(r,d),r}_moveAfter(r,o,d){return this._unlink(r),this._insertAfter(r,o,d),this._addToMoves(r,d),r}_addAfter(r,o,d){return this._insertAfter(r,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,d){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new nE),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,d=r._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class WI{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const o=r._prevDup,d=r._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class nE{constructor(){this.map=new Map}put(r){const o=r.trackById;let d=this.map.get(o);d||(d=new KI,this.map.set(o,d)),d.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rE(t,r,o){const d=t.previousIndex;if(null===d)return d;let p=0;return o&&d<o.length&&(p=o[d]),d+r+p}class iE{constructor(){}supports(r){return r instanceof Map||df(r)}create(){return new YI}}class YI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||df(r)))throw new qe(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(p,d);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const d=r._prev;return o._next=r,o._prev=d,r._prev=o,d&&(d._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const m=p._prev,C=p._next;return m&&(m._next=C),C&&(C._prev=m),p._next=null,p._prev=null,p}const d=new qI(r);return this._records.set(r,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(d=>o(r[d],d))}}class qI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sE(){return new $v([new tE])}let $v=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(null!=d){const p=d.factories.slice();o=o.concat(p)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||sE()),deps:[[t,new Ks,new da]]}}find(o){const d=this.factories.find(p=>p.supports(o));if(null!=d)return d;throw new qe(901,"")}}return t.\u0275prov=_e({token:t,providedIn:"root",factory:sE}),t})();function oE(){return new jv([new iE])}let jv=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(d){const p=d.factories.slice();o=o.concat(p)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||oE()),deps:[[t,new Ks,new da]]}}find(o){const d=this.factories.find(m=>m.supports(o));if(d)return d;throw new qe(901,"")}}return t.\u0275prov=_e({token:t,providedIn:"root",factory:oE}),t})();const QI=z0(null,"core",[{provide:L0,useValue:"unknown"},{provide:K0,deps:[Va]},{provide:H0,deps:[]},{provide:V0,deps:[]}]);let JI=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(Tn(kv))},t.\u0275mod=Hr({type:t}),t.\u0275inj=ye({}),t})()},2382:(en,ut,M)=>{"use strict";M.d(ut,{on:()=>qt,u5:()=>$n,JU:()=>qe,a5:()=>ln,JJ:()=>He,JL:()=>Je,F:()=>Ie,On:()=>hi,UX:()=>vs,Q7:()=>he,_Y:()=>Ti});var c=M(5e3),G=M(9808),Y=M(8306),Ne=M(4742),be=M(8421),De=M(7669),Ee=M(5403),ge=M(3268),Be=M(1810),de=M(8996),Te=M(4004);let Me=(()=>{class z{constructor(k,q){this._renderer=k,this._elementRef=q,this.onChange=wt=>{},this.onTouched=()=>{}}setProperty(k,q){this._renderer.setProperty(this._elementRef.nativeElement,k,q)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return z.\u0275fac=function(k){return new(k||z)(c.Y36(c.Qsj),c.Y36(c.SBq))},z.\u0275dir=c.lG2({type:z}),z})(),Oe=(()=>{class z extends Me{}return z.\u0275fac=function(){let L;return function(q){return(L||(L=c.n5z(z)))(q||z)}}(),z.\u0275dir=c.lG2({type:z,features:[c.qOj]}),z})();const qe=new c.OlP("NgValueAccessor"),Le={provide:qe,useExisting:(0,c.Gpc)(()=>We),multi:!0},Et=new c.OlP("CompositionEventMode");let We=(()=>{class z extends Me{constructor(k,q,wt){super(k,q),this._compositionMode=wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ht(){const z=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return z.\u0275fac=function(k){return new(k||z)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Et,8))},z.\u0275dir=c.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,q){1&k&&c.NdJ("input",function(Nn){return q._handleInput(Nn.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(Nn){return q._compositionEnd(Nn.target.value)})},features:[c._Bn([Le]),c.qOj]}),z})();function Ze(z){return null==z||0===z.length}const Ue=new c.OlP("NgValidators"),Xe=new c.OlP("NgAsyncValidators"),se=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ke(z){return Ze(z.value)?{required:!0}:null}function vt(z){return Ze(z.value)||se.test(z.value)?null:{email:!0}}function Ye(z){return null}function ee(z){return null!=z}function X(z){const L=(0,c.QGY)(z)?(0,de.D)(z):z;return(0,c.CqO)(L),L}function ce(z){let L={};return z.forEach(k=>{L=null!=k?Object.assign(Object.assign({},L),k):L}),0===Object.keys(L).length?null:L}function we(z,L){return L.map(k=>k(z))}function je(z){return z.map(L=>function _e(z){return!z.validate}(L)?L:k=>L.validate(k))}function Ce(z){return null!=z?function ye(z){if(!z)return null;const L=z.filter(ee);return 0==L.length?null:function(k){return ce(we(k,L))}}(je(z)):null}function Kt(z){return null!=z?function kt(z){if(!z)return null;const L=z.filter(ee);return 0==L.length?null:function(k){return function te(...z){const L=(0,De.jO)(z),{args:k,keys:q}=(0,Ne.D)(z),wt=new Y.y(Nn=>{const{length:E}=k;if(!E)return void Nn.complete();const H=new Array(E);let w=E,B=E;for(let pe=0;pe<E;pe++){let Rt=!1;(0,be.Xf)(k[pe]).subscribe((0,Ee.x)(Nn,_n=>{Rt||(Rt=!0,B--),H[pe]=_n},()=>w--,void 0,()=>{(!w||!Rt)&&(B||Nn.next(q?(0,Be.n)(q,H):H),Nn.complete())}))}});return L?wt.pipe((0,ge.Z)(L)):wt}(we(k,L).map(X)).pipe((0,Te.U)(ce))}}(je(z)):null}function Gt(z,L){return null===z?[L]:Array.isArray(z)?[...z,L]:[z,L]}function er(z){return z?Array.isArray(z)?z:[z]:[]}function hn(z,L){return Array.isArray(z)?z.includes(L):z===L}function Pn(z,L){const k=er(L);return er(z).forEach(wt=>{hn(k,wt)||k.push(wt)}),k}function vn(z,L){return er(L).filter(k=>!hn(z,k))}class gr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Ce(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,k){return!!this.control&&this.control.hasError(L,k)}getError(L,k){return this.control?this.control.getError(L,k):null}}class ln extends gr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn extends gr{get formDirective(){return null}get path(){return null}}class Ir{constructor(L){this._cd=L}is(L){var k,q,wt;return"submitted"===L?!!(null===(k=this._cd)||void 0===k?void 0:k.submitted):!!(null===(wt=null===(q=this._cd)||void 0===q?void 0:q.control)||void 0===wt?void 0:wt[L])}}let He=(()=>{class z extends Ir{constructor(k){super(k)}}return z.\u0275fac=function(k){return new(k||z)(c.Y36(ln,2))},z.\u0275dir=c.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,q){2&k&&c.ekj("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))},features:[c.qOj]}),z})(),Je=(()=>{class z extends Ir{constructor(k){super(k)}}return z.\u0275fac=function(k){return new(k||z)(c.Y36(Zn,10))},z.\u0275dir=c.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,q){2&k&&c.ekj("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))("ng-submitted",q.is("submitted"))},features:[c.qOj]}),z})();function fn(z,L){gn(z,L),L.valueAccessor.writeValue(z.value),function Hr(z,L){L.valueAccessor.registerOnChange(k=>{z._pendingValue=k,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Ei(z,L)})}(z,L),function Gi(z,L){const k=(q,wt)=>{L.valueAccessor.writeValue(q),wt&&L.viewToModelUpdate(q)};z.registerOnChange(k),L._registerOnDestroy(()=>{z._unregisterOnChange(k)})}(z,L),function Hi(z,L){L.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Ei(z,L),"submit"!==z.updateOn&&z.markAsTouched()})}(z,L),function dr(z,L){if(L.valueAccessor.setDisabledState){const k=q=>{L.valueAccessor.setDisabledState(q)};z.registerOnDisabledChange(k),L._registerOnDestroy(()=>{z._unregisterOnDisabledChange(k)})}}(z,L)}function nn(z,L){z.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(L)})}function gn(z,L){const k=function Jt(z){return z._rawValidators}(z);null!==L.validator?z.setValidators(Gt(k,L.validator)):"function"==typeof k&&z.setValidators([k]);const q=function In(z){return z._rawAsyncValidators}(z);null!==L.asyncValidator?z.setAsyncValidators(Gt(q,L.asyncValidator)):"function"==typeof q&&z.setAsyncValidators([q]);const wt=()=>z.updateValueAndValidity();nn(L._rawValidators,wt),nn(L._rawAsyncValidators,wt)}function Ei(z,L){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Qr(z,L){const k=z.indexOf(L);k>-1&&z.splice(k,1)}const oe="VALID",Dn="INVALID",rr="PENDING",Zr="DISABLED";function lr(z){return(Cr(z)?z.validators:z)||null}function hr(z){return Array.isArray(z)?Ce(z):z||null}function Er(z,L){return(Cr(L)?L.asyncValidators:z)||null}function Or(z){return Array.isArray(z)?Kt(z):z||null}function Cr(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}const di=z=>z instanceof ne;function bi(z){return(z=>z instanceof Fr)(z)?z.value:z.getRawValue()}function Ci(z,L){const k=di(z),q=z.controls;if(!(k?Object.keys(q):q).length)throw new c.vHH(1e3,"");if(!q[L])throw new c.vHH(1001,"")}function Xr(z,L){di(z),z._forEachChild((q,wt)=>{if(void 0===L[wt])throw new c.vHH(1002,"")})}class Di{constructor(L,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=k,this._composedValidatorFn=hr(this._rawValidators),this._composedAsyncValidatorFn=Or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===oe}get invalid(){return this.status===Dn}get pending(){return this.status==rr}get disabled(){return this.status===Zr}get enabled(){return this.status!==Zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=hr(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=Or(L)}addValidators(L){this.setValidators(Pn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Pn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(vn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(vn(L,this._rawAsyncValidators))}hasValidator(L){return hn(this._rawValidators,L)}hasAsyncValidator(L){return hn(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=rr,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const k=this._parentMarkedDirty(L.onlySelf);this.status=Zr,this.errors=null,this._forEachChild(q=>{q.disable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:k})),this._onDisabledChange.forEach(q=>q(!0))}enable(L={}){const k=this._parentMarkedDirty(L.onlySelf);this.status=oe,this._forEachChild(q=>{q.enable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:k})),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oe||this.status===rr)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zr:oe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=rr,this._hasOwnPendingAsyncValidator=!0;const k=X(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,k={}){this.errors=L,this._updateControlsErrors(!1!==k.emitEvent)}get(L){return function ri(z,L,k){if(null==L||(Array.isArray(L)||(L=L.split(k)),Array.isArray(L)&&0===L.length))return null;let q=z;return L.forEach(wt=>{q=di(q)?q.controls.hasOwnProperty(wt)?q.controls[wt]:null:(z=>z instanceof ve)(q)&&q.at(wt)||null}),q}(this,L,".")}getError(L,k){const q=k?this.get(k):this;return q&&q.errors?q.errors[L]:null}hasError(L,k){return!!this.getError(L,k)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Zr:this.errors?Dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rr)?rr:this._anyControlsHaveStatus(Dn)?Dn:oe}_anyControlsHaveStatus(L){return this._anyControls(k=>k.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_isBoxedValue(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Cr(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fr extends Di{constructor(L=null,k,q){super(lr(k),Er(q,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cr(k)&&k.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(L)?L.value:L)}setValue(L,k={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(L,k={}){this.setValue(L,k)}reset(L=this.defaultValue,k={}){this._applyFormState(L),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Qr(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Qr(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){this._isBoxedValue(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}}class ne extends Di{constructor(L,k,q){super(lr(k),Er(q,k)),this.controls=L,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,k){return this.controls[L]?this.controls[L]:(this.controls[L]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(L,k,q={}){this.registerControl(L,k),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(L,k={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(L,k,q={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],k&&this.registerControl(L,k),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,k={}){Xr(this,L),Object.keys(L).forEach(q=>{Ci(this,q),this.controls[q].setValue(L[q],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(L,k={}){null!=L&&(Object.keys(L).forEach(q=>{this.controls[q]&&this.controls[q].patchValue(L[q],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(L={},k={}){this._forEachChild((q,wt)=>{q.reset(L[wt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(L,k,q)=>(L[q]=bi(k),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(k,q)=>!!q._syncPendingControls()||k);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(k=>{const q=this.controls[k];q&&L(q,k)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const k of Object.keys(this.controls)){const q=this.controls[k];if(this.contains(k)&&L(q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(L,k,q)=>((k.enabled||this.disabled)&&(L[q]=k.value),L))}_reduceChildren(L,k){let q=L;return this._forEachChild((wt,Nn)=>{q=k(q,wt,Nn)}),q}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ve extends Di{constructor(L,k,q){super(lr(k),Er(q,k)),this.controls=L,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[L]}push(L,k={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(L,k,q={}){this.controls.splice(L,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(L,k={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(L,k,q={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),k&&(this.controls.splice(L,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,k={}){Xr(this,L),L.forEach((q,wt)=>{Ci(this,wt),this.at(wt).setValue(q,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(L,k={}){null!=L&&(L.forEach((q,wt)=>{this.at(wt)&&this.at(wt).patchValue(q,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(L=[],k={}){this._forEachChild((q,wt)=>{q.reset(L[wt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(L=>bi(L))}clear(L={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_syncPendingControls(){let L=this.controls.reduce((k,q)=>!!q._syncPendingControls()||k,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((k,q)=>{L(k,q)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(k=>k.enabled&&L(k))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}}const ot={provide:Zn,useExisting:(0,c.Gpc)(()=>Ie)},mt=(()=>Promise.resolve(null))();let Ie=(()=>{class z extends Zn{constructor(k,q){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ne({},Ce(k),Kt(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){mt.then(()=>{const q=this._findContainer(k.path);k.control=q.registerControl(k.name,k.control),fn(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){mt.then(()=>{const q=this._findContainer(k.path);q&&q.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){mt.then(()=>{const q=this._findContainer(k.path),wt=new ne({});(function Pi(z,L){gn(z,L)})(wt,k),q.registerControl(k.name,wt),wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){mt.then(()=>{const q=this._findContainer(k.path);q&&q.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,q){mt.then(()=>{this.form.get(k.path).setValue(q)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,function Ni(z,L){z._syncPendingControls(),L.forEach(k=>{const q=k.control;"submit"===q.updateOn&&q._pendingChange&&(k.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return z.\u0275fac=function(k){return new(k||z)(c.Y36(Ue,10),c.Y36(Xe,10))},z.\u0275dir=c.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,q){1&k&&c.NdJ("submit",function(Nn){return q.onSubmit(Nn)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ot]),c.qOj]}),z})();const Jn={provide:ln,useExisting:(0,c.Gpc)(()=>hi)},ir=(()=>Promise.resolve(null))();let hi=(()=>{class z extends ln{constructor(k,q,wt,Nn,E){super(),this._changeDetectorRef=E,this.control=new Fr,this._registered=!1,this.update=new c.vpe,this._parent=k,this._setValidators(q),this._setAsyncValidators(wt),this.valueAccessor=function Rr(z,L){if(!L)return null;let k,q,wt;return Array.isArray(L),L.forEach(Nn=>{Nn.constructor===We?k=Nn:function Ii(z){return Object.getPrototypeOf(z.constructor)===Oe}(Nn)?q=Nn:wt=Nn}),wt||q||k||null}(0,Nn)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const q=k.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),function Xi(z,L){if(!z.hasOwnProperty("model"))return!1;const k=z.model;return!!k.isFirstChange()||!Object.is(L,k.currentValue)}(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){ir.then(()=>{var q;this.control.setValue(k,{emitViewToModelChange:!1}),null===(q=this._changeDetectorRef)||void 0===q||q.markForCheck()})}_updateDisabled(k){const q=k.isDisabled.currentValue,wt=""===q||q&&"false"!==q;ir.then(()=>{var Nn;wt&&!this.control.disabled?this.control.disable():!wt&&this.control.disabled&&this.control.enable(),null===(Nn=this._changeDetectorRef)||void 0===Nn||Nn.markForCheck()})}_getPath(k){return this._parent?function Zt(z,L){return[...L.path,z]}(k,this._parent):[k]}}return z.\u0275fac=function(k){return new(k||z)(c.Y36(Zn,9),c.Y36(Ue,10),c.Y36(Xe,10),c.Y36(qe,10),c.Y36(c.sBO,8))},z.\u0275dir=c.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Jn]),c.qOj,c.TTD]}),z})(),Ti=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275dir=c.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),rn=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({}),z})();const is=new c.OlP("NgModelWithFormControlWarning");let es=(()=>{class z{constructor(){this._validator=Ye}ngOnChanges(k){if(this.inputName in k){const q=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):Ye,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275dir=c.lG2({type:z,features:[c.TTD]}),z})();const le={provide:Ue,useExisting:(0,c.Gpc)(()=>he),multi:!0};let he=(()=>{class z extends es{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=k=>function Uo(z){return null!=z&&!1!==z&&"false"!=`${z}`}(k),this.createValidator=k=>Ke}enabled(k){return k}}return z.\u0275fac=function(){let L;return function(q){return(L||(L=c.n5z(z)))(q||z)}}(),z.\u0275dir=c.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,q){2&k&&c.uIk("required",q._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([le]),c.qOj]}),z})();const Nt={provide:Ue,useExisting:(0,c.Gpc)(()=>qt),multi:!0};let qt=(()=>{class z extends es{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=k=>""===k||!0===k||"true"===k,this.createValidator=k=>vt}enabled(k){return k}}return z.\u0275fac=function(){let L;return function(q){return(L||(L=c.n5z(z)))(q||z)}}(),z.\u0275dir=c.lG2({type:z,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([Nt]),c.qOj]}),z})(),Ss=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[[rn]]}),z})(),$n=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[Ss]}),z})(),vs=(()=>{class z{static withConfig(k){return{ngModule:z,providers:[{provide:is,useValue:k.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[Ss]}),z})()},5852:(en,ut,M)=>{"use strict";M.d(ut,{gz:()=>bi,y6:()=>Ji,OD:()=>ce,eC:()=>ln,wm:()=>Iu,wN:()=>wa,F0:()=>so,rH:()=>ec,Bz:()=>yn,Hx:()=>Hi});var c=M(5e3),G=M(8306),Y=M(8421);function Ne(O){return new G.y(A=>{(0,Y.Xf)(O()).subscribe(A)})}var be=M(727),De=M(4482),Ee=M(5403);function ge(){return(0,De.e)((O,A)=>{let T=null;O._refCount++;const U=(0,Ee.x)(A,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(T=null);const W=O._connection,fe=T;T=null,W&&(!fe||W===fe)&&W.unsubscribe(),A.unsubscribe()});O.subscribe(U),U.closed||(T=O.connect())})}class Be extends G.y{constructor(A,T){super(),this.source=A,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new be.w0;const T=this.getSubject();A.add(this.source.subscribe((0,Ee.x)(T,void 0,()=>{this._teardown(),T.complete()},U=>{this._teardown(),T.error(U)},()=>this._teardown()))),A.closed&&(this._connection=null,A=be.w0.EMPTY)}return A}refCount(){return ge()(this)}}var te=M(8996),de=M(9646),Te=M(1135),Me=M(9841),Oe=M(2843),qe=M(6805),ke=M(7272),Ae=M(515),Le=M(7579),ht=M(9300);function Et(O){return O<=0?()=>Ae.E:(0,De.e)((A,T)=>{let U=[];A.subscribe((0,Ee.x)(T,W=>{U.push(W),O<U.length&&U.shift()},()=>{for(const W of U)T.next(W);T.complete()},void 0,()=>{U=null}))})}var We=M(8068),Ze=M(6590),st=M(4671),se=M(4004),Qe=M(3900),dt=M(5698),rt=M(8675),Ke=M(5026),ft=M(262),vt=M(4351),un=M(590),Xt=M(5577),Ct=M(8505),Ye=M(8189),ee=M(9808);class X{constructor(A,T){this.id=A,this.url=T}}class ce extends X{constructor(A,T,U="imperative",W=null){super(A,T),this.navigationTrigger=U,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class we extends X{constructor(A,T,U){super(A,T),this.urlAfterRedirects=U}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _e extends X{constructor(A,T,U){super(A,T),this.reason=U}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends X{constructor(A,T,U){super(A,T),this.error=U}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ye extends X{constructor(A,T,U,W){super(A,T),this.urlAfterRedirects=U,this.state=W}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends X{constructor(A,T,U,W){super(A,T),this.urlAfterRedirects=U,this.state=W}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt extends X{constructor(A,T,U,W,fe){super(A,T),this.urlAfterRedirects=U,this.state=W,this.shouldActivate=fe}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kt extends X{constructor(A,T,U,W){super(A,T),this.urlAfterRedirects=U,this.state=W}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gt extends X{constructor(A,T,U,W){super(A,T),this.urlAfterRedirects=U,this.state=W}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jt{constructor(A){this.route=A}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class In{constructor(A){this.route=A}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class er{constructor(A){this.snapshot=A}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hn{constructor(A){this.snapshot=A}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(A){this.snapshot=A}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(A){this.snapshot=A}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(A,T,U){this.routerEvent=A,this.position=T,this.anchor=U}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class Zn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T[0]:T}return null}getAll(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Ir(O){return new Zn(O)}const ni="ngNavigationCancelingError";function Ft(O){const A=Error("NavigationCancelingError: "+O);return A[ni]=!0,A}function Je(O,A,T){const U=T.path.split("/");if(U.length>O.length||"full"===T.pathMatch&&(A.hasChildren()||U.length<O.length))return null;const W={};for(let fe=0;fe<U.length;fe++){const Pe=U[fe],nt=O[fe];if(Pe.startsWith(":"))W[Pe.substring(1)]=nt;else if(Pe!==nt.path)return null}return{consumed:O.slice(0,U.length),posParams:W}}function pt(O,A){const T=O?Object.keys(O):void 0,U=A?Object.keys(A):void 0;if(!T||!U||T.length!=U.length)return!1;let W;for(let fe=0;fe<T.length;fe++)if(W=T[fe],!Wt(O[W],A[W]))return!1;return!0}function Wt(O,A){if(Array.isArray(O)&&Array.isArray(A)){if(O.length!==A.length)return!1;const T=[...O].sort(),U=[...A].sort();return T.every((W,fe)=>U[fe]===W)}return O===A}function Dt(O){return Array.prototype.concat.apply([],O)}function Wn(O){return O.length>0?O[O.length-1]:null}function pn(O,A){for(const T in O)O.hasOwnProperty(T)&&A(O[T],T)}function Mr(O){return(0,c.CqO)(O)?O:(0,c.QGY)(O)?(0,te.D)(Promise.resolve(O)):(0,de.of)(O)}const Br={exact:function $t(O,A,T){if(!Bn(O.segments,A.segments)||!fn(O.segments,A.segments,T)||O.numberOfChildren!==A.numberOfChildren)return!1;for(const U in A.children)if(!O.children[U]||!$t(O.children[U],A.children[U],T))return!1;return!0},subset:_t},xe={exact:function it(O,A){return pt(O,A)},subset:function ze(O,A){return Object.keys(A).length<=Object.keys(O).length&&Object.keys(A).every(T=>Wt(O[T],A[T]))},ignored:()=>!0};function Ge(O,A,T){return Br[T.paths](O.root,A.root,T.matrixParams)&&xe[T.queryParams](O.queryParams,A.queryParams)&&!("exact"===T.fragment&&O.fragment!==A.fragment)}function _t(O,A,T){return Zt(O,A,A.segments,T)}function Zt(O,A,T,U){if(O.segments.length>T.length){const W=O.segments.slice(0,T.length);return!(!Bn(W,T)||A.hasChildren()||!fn(W,T,U))}if(O.segments.length===T.length){if(!Bn(O.segments,T)||!fn(O.segments,T,U))return!1;for(const W in A.children)if(!O.children[W]||!_t(O.children[W],A.children[W],U))return!1;return!0}{const W=T.slice(0,O.segments.length),fe=T.slice(O.segments.length);return!!(Bn(O.segments,W)&&fn(O.segments,W,U)&&O.children[ln])&&Zt(O.children[ln],A,fe,U)}}function fn(O,A,T){return A.every((U,W)=>xe[T](O[W].parameters,U.parameters))}class Cn{constructor(A,T,U){this.root=A,this.queryParams=T,this.fragment=U}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ir(this.queryParams)),this._queryParamMap}toString(){return Gi.serialize(this)}}class nn{constructor(A,T){this.segments=A,this.children=T,this.parent=null,pn(T,(U,W)=>U.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pi(this)}}class dr{constructor(A,T){this.path=A,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Ir(this.parameters)),this._parameterMap}toString(){return Ni(this)}}function Bn(O,A){return O.length===A.length&&O.every((T,U)=>T.path===A[U].path)}class Hi{}class Ei{parse(A){const T=new ri(A);return new Cn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(A){const T=`/${Vr(A.root,!0)}`,U=function Qr(O){const A=Object.keys(O).map(T=>{const U=O[T];return Array.isArray(U)?U.map(W=>`${wi(T)}=${wi(W)}`).join("&"):`${wi(T)}=${wi(U)}`}).filter(T=>!!T);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${T}${U}${"string"==typeof A.fragment?`#${function Gr(O){return encodeURI(O)}(A.fragment)}`:""}`}}const Gi=new Ei;function Pi(O){return O.segments.map(A=>Ni(A)).join("/")}function Vr(O,A){if(!O.hasChildren())return Pi(O);if(A){const T=O.children[ln]?Vr(O.children[ln],!1):"",U=[];return pn(O.children,(W,fe)=>{fe!==ln&&U.push(`${fe}:${Vr(W,!1)}`)}),U.length>0?`${T}(${U.join("//")})`:T}{const T=function Hr(O,A){let T=[];return pn(O.children,(U,W)=>{W===ln&&(T=T.concat(A(U,W)))}),pn(O.children,(U,W)=>{W!==ln&&(T=T.concat(A(U,W)))}),T}(O,(U,W)=>W===ln?[Vr(O.children[ln],!1)]:[`${W}:${Vr(U,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[ln]?`${Pi(O)}/${T[0]}`:`${Pi(O)}/(${T.join("//")})`}}function oi(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wi(O){return oi(O).replace(/%3B/gi,";")}function ci(O){return oi(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xi(O){return decodeURIComponent(O)}function Ii(O){return Xi(O.replace(/\+/g,"%20"))}function Ni(O){return`${ci(O.path)}${function Rr(O){return Object.keys(O).map(A=>`;${ci(A)}=${ci(O[A])}`).join("")}(O.parameters)}`}const ai=/^[^\/()?;=#]+/;function Tr(O){const A=O.match(ai);return A?A[0]:""}const oe=/^[^=?&#]+/,rr=/^[^&#]+/;class ri{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let U={};return this.peekStartsWith("(")&&(U=this.parseParens(!1)),(A.length>0||Object.keys(T).length>0)&&(U[ln]=new nn(A,T)),U}parseSegment(){const A=Tr(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(A),new dr(Xi(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const T=Tr(this.remaining);if(!T)return;this.capture(T);let U="";if(this.consumeOptional("=")){const W=Tr(this.remaining);W&&(U=W,this.capture(U))}A[Xi(T)]=Xi(U)}parseQueryParam(A){const T=function Dn(O){const A=O.match(oe);return A?A[0]:""}(this.remaining);if(!T)return;this.capture(T);let U="";if(this.consumeOptional("=")){const Pe=function Zr(O){const A=O.match(rr);return A?A[0]:""}(this.remaining);Pe&&(U=Pe,this.capture(U))}const W=Ii(T),fe=Ii(U);if(A.hasOwnProperty(W)){let Pe=A[W];Array.isArray(Pe)||(Pe=[Pe],A[W]=Pe),Pe.push(fe)}else A[W]=fe}parseParens(A){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const U=Tr(this.remaining),W=this.remaining[U.length];if("/"!==W&&")"!==W&&";"!==W)throw new Error(`Cannot parse url '${this.url}'`);let fe;U.indexOf(":")>-1?(fe=U.substr(0,U.indexOf(":")),this.capture(fe),this.capture(":")):A&&(fe=ln);const Pe=this.parseChildren();T[fe]=1===Object.keys(Pe).length?Pe[ln]:new nn([],Pe),this.consumeOptional("//")}return T}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new Error(`Expected "${A}".`)}}class lr{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const T=this.pathFromRoot(A);return T.length>1?T[T.length-2]:null}children(A){const T=hr(A,this._root);return T?T.children.map(U=>U.value):[]}firstChild(A){const T=hr(A,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(A){const T=Er(A,this._root);return T.length<2?[]:T[T.length-2].children.map(W=>W.value).filter(W=>W!==A)}pathFromRoot(A){return Er(A,this._root).map(T=>T.value)}}function hr(O,A){if(O===A.value)return A;for(const T of A.children){const U=hr(O,T);if(U)return U}return null}function Er(O,A){if(O===A.value)return[A];for(const T of A.children){const U=Er(O,T);if(U.length)return U.unshift(A),U}return[]}class Or{constructor(A,T){this.value=A,this.children=T}toString(){return`TreeNode(${this.value})`}}function Cr(O){const A={};return O&&O.children.forEach(T=>A[T.value.outlet]=T),A}class qn extends lr{constructor(A,T){super(A),this.snapshot=T,ne(this,A)}toString(){return this.snapshot.toString()}}function di(O,A){const T=function ki(O,A){const Pe=new Di([],{},{},"",{},ln,A,null,O.root,-1,{});return new Fr("",new Or(Pe,[]))}(O,A),U=new Te.X([new dr("",{})]),W=new Te.X({}),fe=new Te.X({}),Pe=new Te.X({}),nt=new Te.X(""),Bt=new bi(U,W,Pe,nt,fe,ln,A,T.root);return Bt.snapshot=T.root,new qn(new Or(Bt,[]),T)}class bi{constructor(A,T,U,W,fe,Pe,nt,Bt){this.url=A,this.params=T,this.queryParams=U,this.fragment=W,this.data=fe,this.outlet=Pe,this.component=nt,this._futureSnapshot=Bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,se.U)(A=>Ir(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,se.U)(A=>Ir(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ci(O,A="emptyOnly"){const T=O.pathFromRoot;let U=0;if("always"!==A)for(U=T.length-1;U>=1;){const W=T[U],fe=T[U-1];if(W.routeConfig&&""===W.routeConfig.path)U--;else{if(fe.component)break;U--}}return function Xr(O){return O.reduce((A,T)=>({params:Object.assign(Object.assign({},A.params),T.params),data:Object.assign(Object.assign({},A.data),T.data),resolve:Object.assign(Object.assign({},A.resolve),T._resolvedData)}),{params:{},data:{},resolve:{}})}(T.slice(U))}class Di{constructor(A,T,U,W,fe,Pe,nt,Bt,tn,wr,Gn){this.url=A,this.params=T,this.queryParams=U,this.fragment=W,this.data=fe,this.outlet=Pe,this.component=nt,this.routeConfig=Bt,this._urlSegment=tn,this._lastPathIndex=wr,this._resolve=Gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ir(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ir(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(U=>U.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fr extends lr{constructor(A,T){super(T),this.url=A,ne(this,T)}toString(){return ve(this._root)}}function ne(O,A){A.value._routerState=O,A.children.forEach(T=>ne(O,T))}function ve(O){const A=O.children.length>0?` { ${O.children.map(ve).join(", ")} } `:"";return`${O.value}${A}`}function ot(O){if(O.snapshot){const A=O.snapshot,T=O._futureSnapshot;O.snapshot=T,pt(A.queryParams,T.queryParams)||O.queryParams.next(T.queryParams),A.fragment!==T.fragment&&O.fragment.next(T.fragment),pt(A.params,T.params)||O.params.next(T.params),function Yt(O,A){if(O.length!==A.length)return!1;for(let T=0;T<O.length;++T)if(!pt(O[T],A[T]))return!1;return!0}(A.url,T.url)||O.url.next(T.url),pt(A.data,T.data)||O.data.next(T.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function mt(O,A){const T=pt(O.params,A.params)&&function gn(O,A){return Bn(O,A)&&O.every((T,U)=>pt(T.parameters,A[U].parameters))}(O.url,A.url);return T&&!(!O.parent!=!A.parent)&&(!O.parent||mt(O.parent,A.parent))}function Fe(O,A,T){if(T&&O.shouldReuseRoute(A.value,T.value.snapshot)){const U=T.value;U._futureSnapshot=A.value;const W=function yt(O,A,T){return A.children.map(U=>{for(const W of T.children)if(O.shouldReuseRoute(U.value,W.value.snapshot))return Fe(O,U,W);return Fe(O,U)})}(O,A,T);return new Or(U,W)}{if(O.shouldAttach(A.value)){const fe=O.retrieve(A.value);if(null!==fe){const Pe=fe.route;return Pe.value._futureSnapshot=A.value,Pe.children=A.children.map(nt=>Fe(O,nt)),Pe}}const U=function Lt(O){return new bi(new Te.X(O.url),new Te.X(O.params),new Te.X(O.queryParams),new Te.X(O.fragment),new Te.X(O.data),O.outlet,O.component,O)}(A.value),W=A.children.map(fe=>Fe(O,fe));return new Or(U,W)}}function Ot(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function mn(O){return"object"==typeof O&&null!=O&&O.outlets}function Vn(O,A,T,U,W){let fe={};if(U&&pn(U,(nt,Bt)=>{fe[Bt]=Array.isArray(nt)?nt.map(tn=>`${tn}`):`${nt}`}),O===A)return new Cn(T,fe,W);const Pe=Jn(O,A,T);return new Cn(Pe,fe,W)}function Jn(O,A,T){const U={};return pn(O.children,(W,fe)=>{U[fe]=W===A?T:Jn(W,A,T)}),new nn(O.segments,U)}class ir{constructor(A,T,U){if(this.isAbsolute=A,this.numberOfDoubleDots=T,this.commands=U,A&&U.length>0&&Ot(U[0]))throw new Error("Root segment cannot have matrix parameters");const W=U.find(mn);if(W&&W!==Wn(U))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ti{constructor(A,T,U){this.segmentGroup=A,this.processChildren=T,this.index=U}}function zt(O,A,T){if(O||(O=new nn([],{})),0===O.segments.length&&O.hasChildren())return rn(O,A,T);const U=function Mn(O,A,T){let U=0,W=A;const fe={match:!1,pathIndex:0,commandIndex:0};for(;W<O.segments.length;){if(U>=T.length)return fe;const Pe=O.segments[W],nt=T[U];if(mn(nt))break;const Bt=`${nt}`,tn=U<T.length-1?T[U+1]:null;if(W>0&&void 0===Bt)break;if(Bt&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!is(Bt,tn,Pe))return fe;U+=2}else{if(!is(Bt,{},Pe))return fe;U++}W++}return{match:!0,pathIndex:W,commandIndex:U}}(O,A,T),W=T.slice(U.commandIndex);if(U.match&&U.pathIndex<O.segments.length){const fe=new nn(O.segments.slice(0,U.pathIndex),{});return fe.children[ln]=new nn(O.segments.slice(U.pathIndex),O.children),rn(fe,0,W)}return U.match&&0===W.length?new nn(O.segments,{}):U.match&&!O.hasChildren()?ur(O,A,T):U.match?rn(O,0,W):ur(O,A,T)}function rn(O,A,T){if(0===T.length)return new nn(O.segments,{});{const U=function At(O){return mn(O[0])?O[0].outlets:{[ln]:O}}(T),W={};return pn(U,(fe,Pe)=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(W[Pe]=zt(O.children[Pe],A,fe))}),pn(O.children,(fe,Pe)=>{void 0===U[Pe]&&(W[Pe]=fe)}),new nn(O.segments,W)}}function ur(O,A,T){const U=O.segments.slice(0,A);let W=0;for(;W<T.length;){const fe=T[W];if(mn(fe)){const Bt=Si(fe.outlets);return new nn(U,Bt)}if(0===W&&Ot(T[0])){U.push(new dr(O.segments[A].path,yr(T[0]))),W++;continue}const Pe=mn(fe)?fe.outlets[ln]:`${fe}`,nt=W<T.length-1?T[W+1]:null;Pe&&nt&&Ot(nt)?(U.push(new dr(Pe,yr(nt))),W+=2):(U.push(new dr(Pe,{})),W++)}return new nn(U,{})}function Si(O){const A={};return pn(O,(T,U)=>{"string"==typeof T&&(T=[T]),null!==T&&(A[U]=ur(new nn([],{}),0,T))}),A}function yr(O){const A={};return pn(O,(T,U)=>A[U]=`${T}`),A}function is(O,A,T){return O==T.path&&pt(A,T.parameters)}class zi{constructor(A,T,U,W){this.routeReuseStrategy=A,this.futureState=T,this.currState=U,this.forwardEvent=W}activate(A){const T=this.futureState._root,U=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,U,A),ot(this.futureState.root),this.activateChildRoutes(T,U,A)}deactivateChildRoutes(A,T,U){const W=Cr(T);A.children.forEach(fe=>{const Pe=fe.value.outlet;this.deactivateRoutes(fe,W[Pe],U),delete W[Pe]}),pn(W,(fe,Pe)=>{this.deactivateRouteAndItsChildren(fe,U)})}deactivateRoutes(A,T,U){const W=A.value,fe=T?T.value:null;if(W===fe)if(W.component){const Pe=U.getContext(W.outlet);Pe&&this.deactivateChildRoutes(A,T,Pe.children)}else this.deactivateChildRoutes(A,T,U);else fe&&this.deactivateRouteAndItsChildren(T,U)}deactivateRouteAndItsChildren(A,T){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,T):this.deactivateRouteAndOutlet(A,T)}detachAndStoreRouteSubtree(A,T){const U=T.getContext(A.value.outlet),W=U&&A.value.component?U.children:T,fe=Cr(A);for(const Pe of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Pe],W);if(U&&U.outlet){const Pe=U.outlet.detach(),nt=U.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Pe,route:A,contexts:nt})}}deactivateRouteAndOutlet(A,T){const U=T.getContext(A.value.outlet),W=U&&A.value.component?U.children:T,fe=Cr(A);for(const Pe of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Pe],W);U&&U.outlet&&(U.outlet.deactivate(),U.children.onOutletDeactivated(),U.attachRef=null,U.resolver=null,U.route=null)}activateChildRoutes(A,T,U){const W=Cr(T);A.children.forEach(fe=>{this.activateRoutes(fe,W[fe.value.outlet],U),this.forwardEvent(new vn(fe.value.snapshot))}),A.children.length&&this.forwardEvent(new hn(A.value.snapshot))}activateRoutes(A,T,U){const W=A.value,fe=T?T.value:null;if(ot(W),W===fe)if(W.component){const Pe=U.getOrCreateContext(W.outlet);this.activateChildRoutes(A,T,Pe.children)}else this.activateChildRoutes(A,T,U);else if(W.component){const Pe=U.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const nt=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Pe.children.onOutletReAttached(nt.contexts),Pe.attachRef=nt.componentRef,Pe.route=nt.route.value,Pe.outlet&&Pe.outlet.attach(nt.componentRef,nt.route.value),ot(nt.route.value),this.activateChildRoutes(A,null,Pe.children)}else{const nt=function ja(O){for(let A=O.parent;A;A=A.parent){const T=A.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig;if(T&&T.component)return null}return null}(W.snapshot),Bt=nt?nt.module.componentFactoryResolver:null;Pe.attachRef=null,Pe.route=W,Pe.resolver=Bt,Pe.outlet&&Pe.outlet.activateWith(W,Bt),this.activateChildRoutes(A,null,Pe.children)}}else this.activateChildRoutes(A,null,U)}}class Os{constructor(A,T){this.routes=A,this.module=T}}function Qi(O){return"function"==typeof O}function ss(O){return O instanceof Cn}const Ps=Symbol("INITIAL_VALUE");function Vs(){return(0,Qe.w)(O=>(0,Me.a)(O.map(A=>A.pipe((0,dt.q)(1),(0,rt.O)(Ps)))).pipe((0,Ke.R)((A,T)=>{let U=!1;return T.reduce((W,fe,Pe)=>W!==Ps?W:(fe===Ps&&(U=!0),U||!1!==fe&&Pe!==T.length-1&&!ss(fe)?W:fe),A)},Ps),(0,ht.h)(A=>A!==Ps),(0,se.U)(A=>ss(A)?A:!0===A),(0,dt.q)(1)))}class Co{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ji,this.attachRef=null}}class Ji{constructor(){this.contexts=new Map}onChildOutletCreated(A,T){const U=this.getOrCreateContext(A);U.outlet=T,this.contexts.set(A,U)}onChildOutletDestroyed(A){const T=this.getContext(A);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let T=this.getContext(A);return T||(T=new Co,this.contexts.set(A,T)),T}getContext(A){return this.contexts.get(A)||null}}let zr=(()=>{class O{constructor(T,U,W,fe,Pe){this.parentContexts=T,this.location=U,this.resolver=W,this.changeDetector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=fe||ln,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,U){this.activated=T,this._activatedRoute=U,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,U){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;const Pe=(U=U||this.resolver).resolveComponentFactory(T._futureSnapshot.routeConfig.component),nt=this.parentContexts.getOrCreateContext(this.name).children,Bt=new Bi(T,nt,this.location.injector);this.activated=this.location.createComponent(Pe,this.location.length,Bt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(Ji),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},O.\u0275dir=c.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Bi{constructor(A,T,U){this.route=A,this.childContexts=T,this.parent=U}get(A,T){return A===bi?this.route:A===Ji?this.childContexts:this.parent.get(A,T)}}let ko=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275cmp=c.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(T,U){1&T&&c._UZ(0,"router-outlet")},directives:[zr],encapsulation:2}),O})();function ei(O,A=""){for(let T=0;T<O.length;T++){const U=O[T];Us(U,Vi(A,U))}}function Us(O,A){O.children&&ei(O.children,A)}function Vi(O,A){return A?O||A.path?O&&!A.path?`${O}/`:!O&&A.path?A.path:`${O}/${A.path}`:"":O}function $s(O){const A=O.children&&O.children.map($s),T=A?Object.assign(Object.assign({},O),{children:A}):Object.assign({},O);return!T.component&&(A||T.loadChildren)&&T.outlet&&T.outlet!==ln&&(T.component=ko),T}function Ai(O){return O.outlet||ln}function Uo(O,A){const T=O.filter(U=>Ai(U)===A);return T.push(...O.filter(U=>Ai(U)!==A)),T}const pi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function es(O,A,T){var U;if(""===A.path)return"full"===A.pathMatch&&(O.hasChildren()||T.length>0)?Object.assign({},pi):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const fe=(A.matcher||Je)(T,O,A);if(!fe)return Object.assign({},pi);const Pe={};pn(fe.posParams,(Bt,tn)=>{Pe[tn]=Bt.path});const nt=fe.consumed.length>0?Object.assign(Object.assign({},Pe),fe.consumed[fe.consumed.length-1].parameters):Pe;return{matched:!0,consumedSegments:fe.consumed,remainingSegments:T.slice(fe.consumed.length),parameters:nt,positionalParamSegments:null!==(U=fe.posParams)&&void 0!==U?U:{}}}function Ki(O,A,T,U,W="corrected"){if(T.length>0&&function $(O,A,T){return T.some(U=>V(O,A,U)&&Ai(U)!==ln)}(O,T,U)){const Pe=new nn(A,function Pr(O,A,T,U){const W={};W[ln]=U,U._sourceSegment=O,U._segmentIndexShift=A.length;for(const fe of T)if(""===fe.path&&Ai(fe)!==ln){const Pe=new nn([],{});Pe._sourceSegment=O,Pe._segmentIndexShift=A.length,W[Ai(fe)]=Pe}return W}(O,A,U,new nn(T,O.children)));return Pe._sourceSegment=O,Pe._segmentIndexShift=A.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===T.length&&function le(O,A,T){return T.some(U=>V(O,A,U))}(O,T,U)){const Pe=new nn(O.segments,function js(O,A,T,U,W,fe){const Pe={};for(const nt of U)if(V(O,T,nt)&&!W[Ai(nt)]){const Bt=new nn([],{});Bt._sourceSegment=O,Bt._segmentIndexShift="legacy"===fe?O.segments.length:A.length,Pe[Ai(nt)]=Bt}return Object.assign(Object.assign({},W),Pe)}(O,A,T,U,O.children,W));return Pe._sourceSegment=O,Pe._segmentIndexShift=A.length,{segmentGroup:Pe,slicedSegments:T}}const fe=new nn(O.segments,O.children);return fe._sourceSegment=O,fe._segmentIndexShift=A.length,{segmentGroup:fe,slicedSegments:T}}function V(O,A,T){return(!(O.hasChildren()||A.length>0)||"full"!==T.pathMatch)&&""===T.path}function he(O,A,T,U){return!!(Ai(O)===U||U!==ln&&V(A,T,O))&&("**"===O.path||es(A,O,T).matched)}function tt(O,A,T){return 0===A.length&&!O.children[T]}class Nt{constructor(A){this.segmentGroup=A||null}}class qt{constructor(A){this.urlTree=A}}function On(O){return(0,Oe._)(new Nt(O))}function Hn(O){return(0,Oe._)(new qt(O))}class gi{constructor(A,T,U,W,fe){this.configLoader=T,this.urlSerializer=U,this.urlTree=W,this.config=fe,this.allowRedirects=!0,this.ngModule=A.get(c.h0i)}apply(){const A=Ki(this.urlTree.root,[],[],this.config).segmentGroup,T=new nn(A.segments,A.children);return this.expandSegmentGroup(this.ngModule,this.config,T,ln).pipe((0,se.U)(fe=>this.createUrlTree(Kr(fe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ft.K)(fe=>{if(fe instanceof qt)return this.allowRedirects=!1,this.match(fe.urlTree);throw fe instanceof Nt?this.noMatchError(fe):fe}))}match(A){return this.expandSegmentGroup(this.ngModule,this.config,A.root,ln).pipe((0,se.U)(W=>this.createUrlTree(Kr(W),A.queryParams,A.fragment))).pipe((0,ft.K)(W=>{throw W instanceof Nt?this.noMatchError(W):W}))}noMatchError(A){return new Error(`Cannot match any routes. URL Segment: '${A.segmentGroup}'`)}createUrlTree(A,T,U){const W=A.segments.length>0?new nn([],{[ln]:A}):A;return new Cn(W,T,U)}expandSegmentGroup(A,T,U,W){return 0===U.segments.length&&U.hasChildren()?this.expandChildren(A,T,U).pipe((0,se.U)(fe=>new nn([],fe))):this.expandSegment(A,U,T,U.segments,W,!0)}expandChildren(A,T,U){const W=[];for(const fe of Object.keys(U.children))"primary"===fe?W.unshift(fe):W.push(fe);return(0,te.D)(W).pipe((0,vt.b)(fe=>{const Pe=U.children[fe],nt=Uo(T,fe);return this.expandSegmentGroup(A,nt,Pe,fe).pipe((0,se.U)(Bt=>({segment:Bt,outlet:fe})))}),(0,Ke.R)((fe,Pe)=>(fe[Pe.outlet]=Pe.segment,fe),{}),function Ue(O,A){const T=arguments.length>=2;return U=>U.pipe(O?(0,ht.h)((W,fe)=>O(W,fe,U)):st.y,Et(1),T?(0,Ze.d)(A):(0,We.T)(()=>new qe.K))}())}expandSegment(A,T,U,W,fe,Pe){return(0,te.D)(U).pipe((0,vt.b)(nt=>this.expandSegmentAgainstRoute(A,T,U,nt,W,fe,Pe).pipe((0,ft.K)(tn=>{if(tn instanceof Nt)return(0,de.of)(null);throw tn}))),(0,un.P)(nt=>!!nt),(0,ft.K)((nt,Bt)=>{if(nt instanceof qe.K||"EmptyError"===nt.name)return tt(T,W,fe)?(0,de.of)(new nn([],{})):On(T);throw nt}))}expandSegmentAgainstRoute(A,T,U,W,fe,Pe,nt){return he(W,T,fe,Pe)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(A,T,W,fe,Pe):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,T,U,W,fe,Pe):On(T):On(T)}expandSegmentAgainstRouteUsingRedirect(A,T,U,W,fe,Pe){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,U,W,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,T,U,W,fe,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,T,U,W){const fe=this.applyRedirectCommands([],U.redirectTo,{});return U.redirectTo.startsWith("/")?Hn(fe):this.lineralizeSegments(U,fe).pipe((0,Xt.z)(Pe=>{const nt=new nn(Pe,{});return this.expandSegment(A,nt,T,Pe,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,T,U,W,fe,Pe){const{matched:nt,consumedSegments:Bt,remainingSegments:tn,positionalParamSegments:wr}=es(T,W,fe);if(!nt)return On(T);const Gn=this.applyRedirectCommands(Bt,W.redirectTo,wr);return W.redirectTo.startsWith("/")?Hn(Gn):this.lineralizeSegments(W,Gn).pipe((0,Xt.z)(tr=>this.expandSegment(A,T,U,tr.concat(tn),Pe,!1)))}matchSegmentAgainstRoute(A,T,U,W,fe){if("**"===U.path)return U.loadChildren?(U._loadedConfig?(0,de.of)(U._loadedConfig):this.configLoader.load(A.injector,U)).pipe((0,se.U)(Gn=>(U._loadedConfig=Gn,new nn(W,{})))):(0,de.of)(new nn(W,{}));const{matched:Pe,consumedSegments:nt,remainingSegments:Bt}=es(T,U,W);return Pe?this.getChildConfig(A,U,W).pipe((0,Xt.z)(wr=>{const Gn=wr.module,tr=wr.routes,{segmentGroup:bn,slicedSegments:ks}=Ki(T,nt,Bt,tr),Fs=new nn(bn.segments,bn.children);if(0===ks.length&&Fs.hasChildren())return this.expandChildren(Gn,tr,Fs).pipe((0,se.U)(Ya=>new nn(nt,Ya)));if(0===tr.length&&0===ks.length)return(0,de.of)(new nn(nt,{}));const gl=Ai(U)===fe;return this.expandSegment(Gn,Fs,tr,ks,gl?ln:fe,!0).pipe((0,se.U)(Yr=>new nn(nt.concat(Yr.segments),Yr.children)))})):On(T)}getChildConfig(A,T,U){return T.children?(0,de.of)(new Os(T.children,A)):T.loadChildren?void 0!==T._loadedConfig?(0,de.of)(T._loadedConfig):this.runCanLoadGuards(A.injector,T,U).pipe((0,Xt.z)(W=>W?this.configLoader.load(A.injector,T).pipe((0,se.U)(fe=>(T._loadedConfig=fe,fe))):function sr(O){return(0,Oe._)(Ft(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(T))):(0,de.of)(new Os([],A))}runCanLoadGuards(A,T,U){const W=T.canLoad;if(!W||0===W.length)return(0,de.of)(!0);const fe=W.map(Pe=>{const nt=A.get(Pe);let Bt;if(function Fi(O){return O&&Qi(O.canLoad)}(nt))Bt=nt.canLoad(T,U);else{if(!Qi(nt))throw new Error("Invalid CanLoad guard");Bt=nt(T,U)}return Mr(Bt)});return(0,de.of)(fe).pipe(Vs(),(0,Ct.b)(Pe=>{if(!ss(Pe))return;const nt=Ft(`Redirecting to "${this.urlSerializer.serialize(Pe)}"`);throw nt.url=Pe,nt}),(0,se.U)(Pe=>!0===Pe))}lineralizeSegments(A,T){let U=[],W=T.root;for(;;){if(U=U.concat(W.segments),0===W.numberOfChildren)return(0,de.of)(U);if(W.numberOfChildren>1||!W.children[ln])return(0,Oe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A.redirectTo}'`));W=W.children[ln]}}applyRedirectCommands(A,T,U){return this.applyRedirectCreatreUrlTree(T,this.urlSerializer.parse(T),A,U)}applyRedirectCreatreUrlTree(A,T,U,W){const fe=this.createSegmentGroup(A,T.root,U,W);return new Cn(fe,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(A,T){const U={};return pn(A,(W,fe)=>{if("string"==typeof W&&W.startsWith(":")){const nt=W.substring(1);U[fe]=T[nt]}else U[fe]=W}),U}createSegmentGroup(A,T,U,W){const fe=this.createSegments(A,T.segments,U,W);let Pe={};return pn(T.children,(nt,Bt)=>{Pe[Bt]=this.createSegmentGroup(A,nt,U,W)}),new nn(fe,Pe)}createSegments(A,T,U,W){return T.map(fe=>fe.path.startsWith(":")?this.findPosParam(A,fe,W):this.findOrReturn(fe,U))}findPosParam(A,T,U){const W=U[T.path.substring(1)];if(!W)throw new Error(`Cannot redirect to '${A}'. Cannot find '${T.path}'.`);return W}findOrReturn(A,T){let U=0;for(const W of T){if(W.path===A.path)return T.splice(U),W;U++}return A}}function Kr(O){const A={};for(const U of Object.keys(O.children)){const fe=Kr(O.children[U]);(fe.segments.length>0||fe.hasChildren())&&(A[U]=fe)}return function Wr(O){if(1===O.numberOfChildren&&O.children[ln]){const A=O.children[ln];return new nn(O.segments.concat(A.segments),A.children)}return O}(new nn(O.segments,A))}class Ss{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class $n{constructor(A,T){this.component=A,this.route=T}}function vs(O,A,T){const U=O._root;return z(U,A?A._root:null,T,[U.value])}function Hs(O,A,T){const U=function $o(O){if(!O)return null;for(let A=O.parent;A;A=A.parent){const T=A.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig}return null}(A);return(U?U.module.injector:T).get(O)}function z(O,A,T,U,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=Cr(A);return O.children.forEach(Pe=>{(function L(O,A,T,U,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=O.value,Pe=A?A.value:null,nt=T?T.getContext(O.value.outlet):null;if(Pe&&fe.routeConfig===Pe.routeConfig){const Bt=function k(O,A,T){if("function"==typeof T)return T(O,A);switch(T){case"pathParamsChange":return!Bn(O.url,A.url);case"pathParamsOrQueryParamsChange":return!Bn(O.url,A.url)||!pt(O.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mt(O,A)||!pt(O.queryParams,A.queryParams);default:return!mt(O,A)}}(Pe,fe,fe.routeConfig.runGuardsAndResolvers);Bt?W.canActivateChecks.push(new Ss(U)):(fe.data=Pe.data,fe._resolvedData=Pe._resolvedData),z(O,A,fe.component?nt?nt.children:null:T,U,W),Bt&&nt&&nt.outlet&&nt.outlet.isActivated&&W.canDeactivateChecks.push(new $n(nt.outlet.component,Pe))}else Pe&&q(A,nt,W),W.canActivateChecks.push(new Ss(U)),z(O,null,fe.component?nt?nt.children:null:T,U,W)})(Pe,fe[Pe.value.outlet],T,U.concat([Pe.value]),W),delete fe[Pe.value.outlet]}),pn(fe,(Pe,nt)=>q(Pe,T.getContext(nt),W)),W}function q(O,A,T){const U=Cr(O),W=O.value;pn(U,(fe,Pe)=>{q(fe,W.component?A?A.children.getContext(Pe):null:A,T)}),T.canDeactivateChecks.push(new $n(W.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,W))}class _n{}function kn(O){return new G.y(A=>A.error(O))}class Sr{constructor(A,T,U,W,fe,Pe){this.rootComponentType=A,this.config=T,this.urlTree=U,this.url=W,this.paramsInheritanceStrategy=fe,this.relativeLinkResolution=Pe}recognize(){const A=Ki(this.urlTree.root,[],[],this.config.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution).segmentGroup,T=this.processSegmentGroup(this.config,A,ln);if(null===T)return null;const U=new Di([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Or(U,T),fe=new Fr(this.url,W);return this.inheritParamsAndData(fe._root),fe}inheritParamsAndData(A){const T=A.value,U=Ci(T,this.paramsInheritanceStrategy);T.params=Object.freeze(U.params),T.data=Object.freeze(U.data),A.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(A,T,U){return 0===T.segments.length&&T.hasChildren()?this.processChildren(A,T):this.processSegment(A,T,T.segments,U)}processChildren(A,T){const U=[];for(const fe of Object.keys(T.children)){const Pe=T.children[fe],nt=Uo(A,fe),Bt=this.processSegmentGroup(nt,Pe,fe);if(null===Bt)return null;U.push(...Bt)}const W=Yi(U);return function ar(O){O.sort((A,T)=>A.value.outlet===ln?-1:T.value.outlet===ln?1:A.value.outlet.localeCompare(T.value.outlet))}(W),W}processSegment(A,T,U,W){for(const fe of A){const Pe=this.processSegmentAgainstRoute(fe,T,U,W);if(null!==Pe)return Pe}return tt(T,U,W)?[]:null}processSegmentAgainstRoute(A,T,U,W){if(A.redirectTo||!he(A,T,U,W))return null;let fe,Pe=[],nt=[];if("**"===A.path){const bn=U.length>0?Wn(U).parameters:{};fe=new Di(U,bn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ha(A),Ai(A),A.component,A,Ns(T),Gs(T)+U.length,Ga(A))}else{const bn=es(T,A,U);if(!bn.matched)return null;Pe=bn.consumedSegments,nt=bn.remainingSegments,fe=new Di(Pe,bn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ha(A),Ai(A),A.component,A,Ns(T),Gs(T)+Pe.length,Ga(A))}const Bt=function mi(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(A),{segmentGroup:tn,slicedSegments:wr}=Ki(T,Pe,nt,Bt.filter(bn=>void 0===bn.redirectTo),this.relativeLinkResolution);if(0===wr.length&&tn.hasChildren()){const bn=this.processChildren(Bt,tn);return null===bn?null:[new Or(fe,bn)]}if(0===Bt.length&&0===wr.length)return[new Or(fe,[])];const Gn=Ai(A)===W,tr=this.processSegment(Bt,tn,wr,Gn?ln:W);return null===tr?null:[new Or(fe,tr)]}}function _s(O){const A=O.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function Yi(O){const A=[],T=new Set;for(const U of O){if(!_s(U)){A.push(U);continue}const W=A.find(fe=>U.value.routeConfig===fe.value.routeConfig);void 0!==W?(W.children.push(...U.children),T.add(W)):A.push(U)}for(const U of T){const W=Yi(U.children);A.push(new Or(U.value,W))}return A.filter(U=>!T.has(U))}function Ns(O){let A=O;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Gs(O){let A=O,T=A._segmentIndexShift?A._segmentIndexShift:0;for(;A._sourceSegment;)A=A._sourceSegment,T+=A._segmentIndexShift?A._segmentIndexShift:0;return T-1}function Ha(O){return O.data||{}}function Ga(O){return O.resolve||{}}function Jl(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function Fo(O){return(0,Qe.w)(A=>{const T=O(A);return T?(0,te.D)(T).pipe((0,se.U)(()=>A)):(0,de.of)(A)})}class wa{}class jo extends class wu{shouldDetach(A){return!1}store(A,T){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,T){return A.routeConfig===T.routeConfig}}{}const dl=new c.OlP("ROUTES");class Ia{constructor(A,T,U,W){this.injector=A,this.compiler=T,this.onLoadStartListener=U,this.onLoadEndListener=W}load(A,T){if(T._loader$)return T._loader$;this.onLoadStartListener&&this.onLoadStartListener(T);const W=this.loadModuleFactory(T.loadChildren).pipe((0,se.U)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(T);const Pe=fe.create(A);return new Os(Dt(Pe.injector.get(dl,void 0,c.XFs.Self|c.XFs.Optional)).map($s),Pe)}),(0,ft.K)(fe=>{throw T._loader$=void 0,fe}));return T._loader$=new Be(W,()=>new Le.x).pipe(ge()),T._loader$}loadModuleFactory(A){return Mr(A()).pipe((0,Xt.z)(T=>T instanceof c.YKP?(0,de.of)(T):(0,te.D)(this.compiler.compileModuleAsync(T))))}}class Qu{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,T){return A}}function Es(O){throw O}function ia(O,A,T){return A.parse("/")}function qi(O,A){return(0,de.of)(null)}const Ju={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let so=(()=>{class O{constructor(T,U,W,fe,Pe,nt,Bt){this.rootComponentType=T,this.urlSerializer=U,this.rootContexts=W,this.location=fe,this.config=Bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le.x,this.errorHandler=Es,this.malformedUriErrorHandler=ia,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qi,afterPreactivation:qi},this.urlHandlingStrategy=new Qu,this.routeReuseStrategy=new jo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Pe.get(c.h0i),this.console=Pe.get(c.c2e);const Gn=Pe.get(c.R0b);this.isNgZoneEnabled=Gn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(Bt),this.currentUrlTree=function jr(){return new Cn(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ia(Pe,nt,tr=>this.triggerEvent(new Jt(tr)),tr=>this.triggerEvent(new In(tr))),this.routerState=di(this.currentUrlTree,this.rootComponentType),this.transitions=new Te.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const U=this.events;return T.pipe((0,ht.h)(W=>0!==W.id),(0,se.U)(W=>Object.assign(Object.assign({},W),{extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Qe.w)(W=>{let fe=!1,Pe=!1;return(0,de.of)(W).pipe((0,Ct.b)(nt=>{this.currentNavigation={id:nt.id,initialUrl:nt.currentRawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Qe.w)(nt=>{const Bt=this.browserUrlTree.toString(),tn=!this.navigated||nt.extractedUrl.toString()!==Bt||Bt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||tn)&&this.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return Ho(nt.source)&&(this.browserUrlTree=nt.extractedUrl),(0,de.of)(nt).pipe((0,Qe.w)(Gn=>{const tr=this.transitions.getValue();return U.next(new ce(Gn.id,this.serializeUrl(Gn.extractedUrl),Gn.source,Gn.restoredState)),tr!==this.transitions.getValue()?Ae.E:Promise.resolve(Gn)}),function Xs(O,A,T,U){return(0,Qe.w)(W=>function cr(O,A,T,U,W){return new gi(O,A,T,U,W).apply()}(O,A,T,W.extractedUrl,U).pipe((0,se.U)(fe=>Object.assign(Object.assign({},W),{urlAfterRedirects:fe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ct.b)(Gn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Gn.urlAfterRedirects})}),function ta(O,A,T,U,W){return(0,Xt.z)(fe=>function or(O,A,T,U,W="emptyOnly",fe="legacy"){try{const Pe=new Sr(O,A,T,U,W,fe).recognize();return null===Pe?kn(new _n):(0,de.of)(Pe)}catch(Pe){return kn(Pe)}}(O,A,fe.urlAfterRedirects,T(fe.urlAfterRedirects),U,W).pipe((0,se.U)(Pe=>Object.assign(Object.assign({},fe),{targetSnapshot:Pe}))))}(this.rootComponentType,this.config,Gn=>this.serializeUrl(Gn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ct.b)(Gn=>{if("eager"===this.urlUpdateStrategy){if(!Gn.extras.skipLocationChange){const bn=this.urlHandlingStrategy.merge(Gn.urlAfterRedirects,Gn.rawUrl);this.setBrowserUrl(bn,Gn)}this.browserUrlTree=Gn.urlAfterRedirects}const tr=new ye(Gn.id,this.serializeUrl(Gn.extractedUrl),this.serializeUrl(Gn.urlAfterRedirects),Gn.targetSnapshot);U.next(tr)}));if(tn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:tr,extractedUrl:bn,source:ks,restoredState:Fs,extras:gl}=nt,Wo=new ce(tr,this.serializeUrl(bn),ks,Fs);U.next(Wo);const Yr=di(bn,this.rootComponentType).snapshot;return(0,de.of)(Object.assign(Object.assign({},nt),{targetSnapshot:Yr,urlAfterRedirects:bn,extras:Object.assign(Object.assign({},gl),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=nt.rawUrl,nt.resolve(null),Ae.E}),Fo(nt=>{const{targetSnapshot:Bt,id:tn,extractedUrl:wr,rawUrl:Gn,extras:{skipLocationChange:tr,replaceUrl:bn}}=nt;return this.hooks.beforePreactivation(Bt,{navigationId:tn,appliedUrlTree:wr,rawUrlTree:Gn,skipLocationChange:!!tr,replaceUrl:!!bn})}),(0,Ct.b)(nt=>{const Bt=new Ce(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);this.triggerEvent(Bt)}),(0,se.U)(nt=>Object.assign(Object.assign({},nt),{guards:vs(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)})),function wt(O,A){return(0,Xt.z)(T=>{const{targetSnapshot:U,currentSnapshot:W,guards:{canActivateChecks:fe,canDeactivateChecks:Pe}}=T;return 0===Pe.length&&0===fe.length?(0,de.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function Nn(O,A,T,U){return(0,te.D)(O).pipe((0,Xt.z)(W=>function Rt(O,A,T,U,W){const fe=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,de.of)(!0);const Pe=fe.map(nt=>{const Bt=Hs(nt,A,W);let tn;if(function Wi(O){return O&&Qi(O.canDeactivate)}(Bt))tn=Mr(Bt.canDeactivate(O,A,T,U));else{if(!Qi(Bt))throw new Error("Invalid CanDeactivate guard");tn=Mr(Bt(O,A,T,U))}return tn.pipe((0,un.P)())});return(0,de.of)(Pe).pipe(Vs())}(W.component,W.route,T,A,U)),(0,un.P)(W=>!0!==W,!0))}(Pe,U,W,O).pipe((0,Xt.z)(nt=>nt&&function go(O){return"boolean"==typeof O}(nt)?function E(O,A,T,U){return(0,te.D)(A).pipe((0,vt.b)(W=>(0,ke.z)(function w(O,A){return null!==O&&A&&A(new er(O)),(0,de.of)(!0)}(W.route.parent,U),function H(O,A){return null!==O&&A&&A(new Pn(O)),(0,de.of)(!0)}(W.route,U),function pe(O,A,T){const U=A[A.length-1],fe=A.slice(0,A.length-1).reverse().map(Pe=>function mo(O){const A=O.routeConfig?O.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:O,guards:A}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>Ne(()=>{const nt=Pe.guards.map(Bt=>{const tn=Hs(Bt,Pe.node,T);let wr;if(function Li(O){return O&&Qi(O.canActivateChild)}(tn))wr=Mr(tn.canActivateChild(U,O));else{if(!Qi(tn))throw new Error("Invalid CanActivateChild guard");wr=Mr(tn(U,O))}return wr.pipe((0,un.P)())});return(0,de.of)(nt).pipe(Vs())}));return(0,de.of)(fe).pipe(Vs())}(O,W.path,T),function B(O,A,T){const U=A.routeConfig?A.routeConfig.canActivate:null;if(!U||0===U.length)return(0,de.of)(!0);const W=U.map(fe=>Ne(()=>{const Pe=Hs(fe,A,T);let nt;if(function fi(O){return O&&Qi(O.canActivate)}(Pe))nt=Mr(Pe.canActivate(A,O));else{if(!Qi(Pe))throw new Error("Invalid CanActivate guard");nt=Mr(Pe(A,O))}return nt.pipe((0,un.P)())}));return(0,de.of)(W).pipe(Vs())}(O,W.route,T))),(0,un.P)(W=>!0!==W,!0))}(U,fe,O,A):(0,de.of)(nt)),(0,se.U)(nt=>Object.assign(Object.assign({},T),{guardsResult:nt})))})}(this.ngModule.injector,nt=>this.triggerEvent(nt)),(0,Ct.b)(nt=>{if(ss(nt.guardsResult)){const tn=Ft(`Redirecting to "${this.serializeUrl(nt.guardsResult)}"`);throw tn.url=nt.guardsResult,tn}const Bt=new kt(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.triggerEvent(Bt)}),(0,ht.h)(nt=>!!nt.guardsResult||(this.restoreHistory(nt),this.cancelNavigationTransition(nt,""),!1)),Fo(nt=>{if(nt.guards.canActivateChecks.length)return(0,de.of)(nt).pipe((0,Ct.b)(Bt=>{const tn=new Kt(Bt.id,this.serializeUrl(Bt.extractedUrl),this.serializeUrl(Bt.urlAfterRedirects),Bt.targetSnapshot);this.triggerEvent(tn)}),(0,Qe.w)(Bt=>{let tn=!1;return(0,de.of)(Bt).pipe(function Rl(O,A){return(0,Xt.z)(T=>{const{targetSnapshot:U,guards:{canActivateChecks:W}}=T;if(!W.length)return(0,de.of)(T);let fe=0;return(0,te.D)(W).pipe((0,vt.b)(Pe=>function Ol(O,A,T,U){return function na(O,A,T,U){const W=Jl(O);if(0===W.length)return(0,de.of)({});const fe={};return(0,te.D)(W).pipe((0,Xt.z)(Pe=>function za(O,A,T,U){const W=Hs(O,A,U);return Mr(W.resolve?W.resolve(A,T):W(A,T))}(O[Pe],A,T,U).pipe((0,Ct.b)(nt=>{fe[Pe]=nt}))),Et(1),(0,Xt.z)(()=>Jl(fe).length===W.length?(0,de.of)(fe):Ae.E))}(O._resolve,O,A,U).pipe((0,se.U)(fe=>(O._resolvedData=fe,O.data=Object.assign(Object.assign({},O.data),Ci(O,T).resolve),null)))}(Pe.route,U,O,A)),(0,Ct.b)(()=>fe++),Et(1),(0,Xt.z)(Pe=>fe===W.length?(0,de.of)(T):Ae.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ct.b)({next:()=>tn=!0,complete:()=>{tn||(this.restoreHistory(Bt),this.cancelNavigationTransition(Bt,"At least one route resolver didn't emit any value."))}}))}),(0,Ct.b)(Bt=>{const tn=new Gt(Bt.id,this.serializeUrl(Bt.extractedUrl),this.serializeUrl(Bt.urlAfterRedirects),Bt.targetSnapshot);this.triggerEvent(tn)}))}),Fo(nt=>{const{targetSnapshot:Bt,id:tn,extractedUrl:wr,rawUrl:Gn,extras:{skipLocationChange:tr,replaceUrl:bn}}=nt;return this.hooks.afterPreactivation(Bt,{navigationId:tn,appliedUrlTree:wr,rawUrlTree:Gn,skipLocationChange:!!tr,replaceUrl:!!bn})}),(0,se.U)(nt=>{const Bt=function Ie(O,A,T){const U=Fe(O,A._root,T?T._root:void 0);return new qn(U,A)}(this.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return Object.assign(Object.assign({},nt),{targetRouterState:Bt})}),(0,Ct.b)(nt=>{this.currentUrlTree=nt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(nt.urlAfterRedirects,nt.rawUrl),this.routerState=nt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(nt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,nt),this.browserUrlTree=nt.urlAfterRedirects)}),((O,A,T)=>(0,se.U)(U=>(new zi(A,U.targetRouterState,U.currentRouterState,T).activate(O),U)))(this.rootContexts,this.routeReuseStrategy,nt=>this.triggerEvent(nt)),(0,Ct.b)({next(){fe=!0},complete(){fe=!0}}),function Xe(O){return(0,De.e)((A,T)=>{try{A.subscribe(T)}finally{T.add(O)}})}(()=>{var nt;fe||Pe||this.cancelNavigationTransition(W,`Navigation ID ${W.id} is not equal to the current navigation id ${this.navigationId}`),(null===(nt=this.currentNavigation)||void 0===nt?void 0:nt.id)===W.id&&(this.currentNavigation=null)}),(0,ft.K)(nt=>{if(Pe=!0,function He(O){return O&&O[ni]}(nt)){const Bt=ss(nt.url);Bt||(this.navigated=!0,this.restoreHistory(W,!0));const tn=new _e(W.id,this.serializeUrl(W.extractedUrl),nt.message);U.next(tn),Bt?setTimeout(()=>{const wr=this.urlHandlingStrategy.merge(nt.url,this.rawUrlTree),Gn={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ho(W.source)};this.scheduleNavigation(wr,"imperative",null,Gn,{resolve:W.resolve,reject:W.reject,promise:W.promise})},0):W.resolve(!1)}else{this.restoreHistory(W,!0);const Bt=new je(W.id,this.serializeUrl(W.extractedUrl),nt);U.next(Bt);try{W.resolve(this.errorHandler(nt))}catch(tn){W.reject(tn)}}return Ae.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const U="popstate"===T.type?"popstate":"hashchange";"popstate"===U&&setTimeout(()=>{var W;const fe={replaceUrl:!0},Pe=(null===(W=T.state)||void 0===W?void 0:W.navigationId)?T.state:null;if(Pe){const Bt=Object.assign({},Pe);delete Bt.navigationId,delete Bt.\u0275routerPageId,0!==Object.keys(Bt).length&&(fe.state=Bt)}const nt=this.parseUrl(T.url);this.scheduleNavigation(nt,U,Pe,fe)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){ei(T),this.config=T.map($s),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,U={}){const{relativeTo:W,queryParams:fe,fragment:Pe,queryParamsHandling:nt,preserveFragment:Bt}=U,tn=W||this.routerState.root,wr=Bt?this.currentUrlTree.fragment:Pe;let Gn=null;switch(nt){case"merge":Gn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),fe);break;case"preserve":Gn=this.currentUrlTree.queryParams;break;default:Gn=fe||null}return null!==Gn&&(Gn=this.removeEmptyProps(Gn)),function Pt(O,A,T,U,W){if(0===T.length)return Vn(A.root,A.root,A.root,U,W);const fe=function hi(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new ir(!0,0,O);let A=0,T=!1;const U=O.reduce((W,fe,Pe)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const nt={};return pn(fe.outlets,(Bt,tn)=>{nt[tn]="string"==typeof Bt?Bt.split("/"):Bt}),[...W,{outlets:nt}]}if(fe.segmentPath)return[...W,fe.segmentPath]}return"string"!=typeof fe?[...W,fe]:0===Pe?(fe.split("/").forEach((nt,Bt)=>{0==Bt&&"."===nt||(0==Bt&&""===nt?T=!0:".."===nt?A++:""!=nt&&W.push(nt))}),W):[...W,fe]},[]);return new ir(T,A,U)}(T);if(fe.toRoot())return Vn(A.root,A.root,new nn([],{}),U,W);const Pe=function at(O,A,T){if(O.isAbsolute)return new Ti(A.root,!0,0);if(-1===T.snapshot._lastPathIndex){const fe=T.snapshot._urlSegment;return new Ti(fe,fe===A.root,0)}const U=Ot(O.commands[0])?0:1;return function et(O,A,T){let U=O,W=A,fe=T;for(;fe>W;){if(fe-=W,U=U.parent,!U)throw new Error("Invalid number of '../'");W=U.segments.length}return new Ti(U,!1,W-fe)}(T.snapshot._urlSegment,T.snapshot._lastPathIndex+U,O.numberOfDoubleDots)}(fe,A,O),nt=Pe.processChildren?rn(Pe.segmentGroup,Pe.index,fe.commands):zt(Pe.segmentGroup,Pe.index,fe.commands);return Vn(A.root,Pe.segmentGroup,nt,U,W)}(tn,this.currentUrlTree,T,Gn,null!=wr?wr:null)}navigateByUrl(T,U={skipLocationChange:!1}){const W=ss(T)?T:this.parseUrl(T),fe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(fe,"imperative",null,U)}navigate(T,U={skipLocationChange:!1}){return function Oc(O){for(let A=0;A<O.length;A++){const T=O[A];if(null==T)throw new Error(`The requested path contains ${T} segment at index ${A}`)}}(T),this.navigateByUrl(this.createUrlTree(T,U),U)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let U;try{U=this.urlSerializer.parse(T)}catch(W){U=this.malformedUriErrorHandler(W,this.urlSerializer,T)}return U}isActive(T,U){let W;if(W=!0===U?Object.assign({},Ju):!1===U?Object.assign({},zs):U,ss(T))return Ge(this.currentUrlTree,T,W);const fe=this.parseUrl(T);return Ge(this.currentUrlTree,fe,W)}removeEmptyProps(T){return Object.keys(T).reduce((U,W)=>{const fe=T[W];return null!=fe&&(U[W]=fe),U},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new we(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,U,W,fe,Pe){var nt,Bt;if(this.disposed)return Promise.resolve(!1);let tn,wr,Gn;Pe?(tn=Pe.resolve,wr=Pe.reject,Gn=Pe.promise):Gn=new Promise((ks,Fs)=>{tn=ks,wr=Fs});const tr=++this.navigationId;let bn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),bn=W&&W.\u0275routerPageId?W.\u0275routerPageId:fe.replaceUrl||fe.skipLocationChange?null!==(nt=this.browserPageId)&&void 0!==nt?nt:0:(null!==(Bt=this.browserPageId)&&void 0!==Bt?Bt:0)+1):bn=0,this.setTransition({id:tr,targetPageId:bn,source:U,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:fe,resolve:tn,reject:wr,promise:Gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gn.catch(ks=>Promise.reject(ks))}setBrowserUrl(T,U){const W=this.urlSerializer.serialize(T),fe=Object.assign(Object.assign({},U.extras.state),this.generateNgRouterState(U.id,U.targetPageId));this.location.isCurrentPathEqualTo(W)||U.extras.replaceUrl?this.location.replaceState(W,"",fe):this.location.go(W,"",fe)}restoreHistory(T,U=!1){var W,fe;if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)||0===Pe?this.currentUrlTree===(null===(fe=this.currentNavigation)||void 0===fe?void 0:fe.finalUrl)&&0===Pe&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,U){const W=new _e(T.id,this.serializeUrl(T.extractedUrl),U);this.triggerEvent(W),T.resolve(!1)}generateNgRouterState(T,U){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:U}:{navigationId:T}}}return O.\u0275fac=function(T){c.$Z()},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})();function Ho(O){return"imperative"!==O}let ec=(()=>{class O{constructor(T,U,W,fe,Pe){this.router=T,this.route=U,this.tabIndexAttribute=W,this.renderer=fe,this.el=Pe,this.commands=null,this.onChanges=new Le.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const U=this.renderer,W=this.el.nativeElement;null!==T?U.setAttribute(W,"tabindex",T):U.removeAttribute(W,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const T={skipLocationChange:Do(this.skipLocationChange),replaceUrl:Do(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,T),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Do(this.preserveFragment)})}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(so),c.Y36(bi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},O.\u0275dir=c.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,U){1&T&&c.NdJ("click",function(){return U.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),O})();function Do(O){return""===O||!!O}class cs{}class Iu{preload(A,T){return T().pipe((0,ft.K)(()=>(0,de.of)(null)))}}class To{preload(A,T){return(0,de.of)(null)}}let fl=(()=>{class O{constructor(T,U,W,fe){this.router=T,this.injector=W,this.preloadingStrategy=fe,this.loader=new Ia(W,U,Bt=>T.triggerEvent(new Jt(Bt)),Bt=>T.triggerEvent(new In(Bt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.h)(T=>T instanceof we),(0,vt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const T=this.injector.get(c.h0i);return this.processRoutes(T,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,U){const W=[];for(const fe of U)if(fe.loadChildren&&!fe.canLoad&&fe._loadedConfig){const Pe=fe._loadedConfig;W.push(this.processRoutes(Pe.module,Pe.routes))}else fe.loadChildren&&!fe.canLoad?W.push(this.preloadConfig(T,fe)):fe.children&&W.push(this.processRoutes(T,fe.children));return(0,te.D)(W).pipe((0,Ye.J)(),(0,se.U)(fe=>{}))}preloadConfig(T,U){return this.preloadingStrategy.preload(U,()=>(U._loadedConfig?(0,de.of)(U._loadedConfig):this.loader.load(T.injector,U)).pipe((0,Xt.z)(fe=>(U._loadedConfig=fe,this.processRoutes(fe.module,fe.routes)))))}}return O.\u0275fac=function(T){return new(T||O)(c.LFG(so),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(cs))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})(),pl=(()=>{class O{constructor(T,U,W={}){this.router=T,this.viewportScroller=U,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof ce?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof we&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof gr&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,U){this.router.triggerEvent(new gr(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(T){c.$Z()},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})();const Ws=new c.OlP("ROUTER_CONFIGURATION"),Qs=new c.OlP("ROUTER_FORROOT_GUARD"),tu=[ee.Ye,{provide:Hi,useClass:Ei},{provide:so,useFactory:function Yn(O,A,T,U,W,fe,Pe={},nt,Bt){const tn=new so(null,O,A,T,U,W,Dt(fe));return nt&&(tn.urlHandlingStrategy=nt),Bt&&(tn.routeReuseStrategy=Bt),function Lo(O,A){O.errorHandler&&(A.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(A.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(A.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(A.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(A.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(A.canceledNavigationResolution=O.canceledNavigationResolution)}(Pe,tn),Pe.enableTracing&&tn.events.subscribe(wr=>{var Gn,tr;null===(Gn=console.group)||void 0===Gn||Gn.call(console,`Router Event: ${wr.constructor.name}`),console.log(wr.toString()),console.log(wr),null===(tr=console.groupEnd)||void 0===tr||tr.call(console)}),tn},deps:[Hi,Ji,ee.Ye,c.zs3,c.Sil,dl,Ws,[class ra{},new c.FiY],[wa,new c.FiY]]},Ji,{provide:bi,useFactory:function An(O){return O.routerState.root},deps:[so]},fl,To,Iu,{provide:Ws,useValue:{enableTracing:!1}}];function bd(){return new c.PXZ("Router",so)}let yn=(()=>{class O{constructor(T,U){}static forRoot(T,U){return{ngModule:O,providers:[tu,Un(T),{provide:Qs,useFactory:zo,deps:[[so,new c.FiY,new c.tp0]]},{provide:Ws,useValue:U||{}},{provide:ee.S$,useFactory:Is,deps:[ee.lw,[new c.tBr(ee.mr),new c.FiY],Ws]},{provide:pl,useFactory:ws,deps:[so,ee.EM,Ws]},{provide:cs,useExisting:U&&U.preloadingStrategy?U.preloadingStrategy:To},{provide:c.PXZ,multi:!0,useFactory:bd},[xt,{provide:c.ip1,multi:!0,useFactory:sn,deps:[xt]},{provide:Wa,useFactory:Ar,deps:[xt]},{provide:c.tb,multi:!0,useExisting:Wa}]]}}static forChild(T){return{ngModule:O,providers:[Un(T)]}}}return O.\u0275fac=function(T){return new(T||O)(c.LFG(Qs,8),c.LFG(so,8))},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();function ws(O,A,T){return T.scrollOffset&&A.setOffset(T.scrollOffset),new pl(O,A,T)}function Is(O,A,T={}){return T.useHash?new ee.Do(O,A):new ee.b0(O,A)}function zo(O){return"guarded"}function Un(O){return[{provide:c.deG,multi:!0,useValue:O},{provide:dl,multi:!0,useValue:O}]}let xt=(()=>{class O{constructor(T){this.injector=T,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le.x}appInitializer(){return this.injector.get(ee.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let U=null;const W=new Promise(nt=>U=nt),fe=this.injector.get(so),Pe=this.injector.get(Ws);return"disabled"===Pe.initialNavigation?(fe.setUpLocationChangeListener(),U(!0)):"enabled"===Pe.initialNavigation||"enabledBlocking"===Pe.initialNavigation?(fe.hooks.afterPreactivation=()=>this.initNavigation?(0,de.of)(null):(this.initNavigation=!0,U(!0),this.resultOfPreactivationDone),fe.initialNavigation()):U(!0),W})}bootstrapListener(T){const U=this.injector.get(Ws),W=this.injector.get(fl),fe=this.injector.get(pl),Pe=this.injector.get(so),nt=this.injector.get(c.z2F);T===nt.components[0]&&(("enabledNonBlocking"===U.initialNavigation||void 0===U.initialNavigation)&&Pe.initialNavigation(),W.setUpPreloading(),fe.init(),Pe.resetRootComponentType(nt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(T){return new(T||O)(c.LFG(c.zs3))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})();function sn(O){return O.appInitializer.bind(O)}function Ar(O){return O.bootstrapListener.bind(O)}const Wa=new c.OlP("Router Initializer")},3942:(en,ut,M)=>{"use strict";M.d(ut,{Z:()=>qe});var c=M(2090),G=M(4859),Y=M(9681),Ne=M(1877);class be{constructor(Ae,Le){this._delegate=Ae,this.firebase=Le,(0,Y._addComponent)(Ae,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Ae,Le=Y._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Ae);return!Et.isInitialized()&&"EXPLICIT"===(null===(ht=Et.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Le})}_removeServiceInstance(Ae,Le=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(Le)}_addComponent(Ae){(0,Y._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,Y._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Be(){const ke=function ge(ke){const Ae={},Le={__esModule:!0,initializeApp:function We(Xe,se={}){const Qe=Y.initializeApp(Xe,se);if((0,c.r3)(Ae,Qe.name))return Ae[Qe.name];const dt=new ke(Qe,Le);return Ae[Qe.name]=dt,dt},app:Et,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function st(Xe){const se=Xe.name,Qe=se.replace("-compat","");if(Y._registerComponent(Xe)&&"PUBLIC"===Xe.type){const dt=(rt=Et())=>{if("function"!=typeof rt[Qe])throw Ee.create("invalid-app-argument",{appName:se});return rt[Qe]()};void 0!==Xe.serviceProps&&(0,c.ZB)(dt,Xe.serviceProps),Le[Qe]=dt,ke.prototype[Qe]=function(...rt){return this._getService.bind(this,se).apply(this,Xe.multipleInstances?rt:[])}}return"PUBLIC"===Xe.type?Le[Qe]:null},removeApp:function ht(Xe){delete Ae[Xe]},useAsService:function Ue(Xe,se){return"serverAuth"===se?null:se},modularAPIs:Y}};function Et(Xe){if(!(0,c.r3)(Ae,Xe=Xe||Y._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Xe});return Ae[Xe]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Ze(){return Object.keys(Ae).map(Xe=>Ae[Xe])}}),Et.App=ke,Le}(be);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function Ae(Le){(0,c.ZB)(ke,Le)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ke}(),de=new Ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=te;!function Oe(ke){(0,Y.registerVersion)("@firebase/app-compat","0.1.26",ke)}()},9681:(en,ut,M)=>{"use strict";M.r(ut),M.d(ut,{FirebaseError:()=>Ne.ZR,SDK_VERSION:()=>In,_DEFAULT_ENTRY_NAME:()=>Ye,_addComponent:()=>we,_addOrOverwriteComponent:()=>_e,_apps:()=>X,_clearComponents:()=>kt,_components:()=>ce,_getProvider:()=>ye,_registerComponent:()=>je,_removeServiceInstance:()=>Ce,deleteApp:()=>vn,getApp:()=>hn,getApps:()=>Pn,initializeApp:()=>er,onLog:()=>Zn,registerVersion:()=>ln,setLogLevel:()=>Ir});var c=M(5861),G=M(4859),Y=M(1877),Ne=M(2090),be=M(8766);class De{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function Ee(ze){const _t=ze.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(Zt)){const fn=Zt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Zt=>Zt).join(" ")}}const ge="@firebase/app",te=new Y.Yd("@firebase/app"),Ye="[DEFAULT]",ee={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},X=new Map,ce=new Map;function we(ze,_t){try{ze.container.addComponent(_t)}catch(Zt){te.debug(`Component ${_t.name} failed to register with FirebaseApp ${ze.name}`,Zt)}}function _e(ze,_t){ze.container.addOrOverwriteComponent(_t)}function je(ze){const _t=ze.name;if(ce.has(_t))return te.debug(`There were multiple attempts to register component ${_t}.`),!1;ce.set(_t,ze);for(const Zt of X.values())we(Zt,ze);return!0}function ye(ze,_t){const Zt=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Zt&&Zt.triggerHeartbeat(),ze.container.getProvider(_t)}function Ce(ze,_t,Zt=Ye){ye(ze,_t).clearInstance(Zt)}function kt(){ce.clear()}const Gt=new Ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Jt{constructor(_t,Zt,fn){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const In="9.8.2";function er(ze,_t={}){"object"!=typeof _t&&(_t={name:_t});const Zt=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},_t),fn=Zt.name;if("string"!=typeof fn||!fn)throw Gt.create("bad-app-name",{appName:String(fn)});const Cn=X.get(fn);if(Cn){if((0,Ne.vZ)(ze,Cn.options)&&(0,Ne.vZ)(Zt,Cn.config))return Cn;throw Gt.create("duplicate-app",{appName:fn})}const nn=new G.H0(fn);for(const gn of ce.values())nn.addComponent(gn);const dr=new Jt(ze,Zt,nn);return X.set(fn,dr),dr}function hn(ze=Ye){const _t=X.get(ze);if(!_t)throw Gt.create("no-app",{appName:ze});return _t}function Pn(){return Array.from(X.values())}function vn(ze){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(ze){const _t=ze.name;X.has(_t)&&(X.delete(_t),yield Promise.all(ze.container.getProviders().map(Zt=>Zt.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function ln(ze,_t,Zt){var fn;let Cn=null!==(fn=ee[ze])&&void 0!==fn?fn:ze;Zt&&(Cn+=`-${Zt}`);const nn=Cn.match(/\s|\//),dr=_t.match(/\s|\//);if(nn||dr){const gn=[`Unable to register library "${Cn}" with version "${_t}":`];return nn&&gn.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),nn&&dr&&gn.push("and"),dr&&gn.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void te.warn(gn.join(" "))}je(new G.wA(`${Cn}-version`,()=>({library:Cn,version:_t}),"VERSION"))}function Zn(ze,_t){if(null!==ze&&"function"!=typeof ze)throw Gt.create("invalid-log-argument");(0,Y.Am)(ze,_t)}function Ir(ze){(0,Y.Ub)(ze)}const He="firebase-heartbeat-store";let Je=null;function Yt(){return Je||(Je=(0,be.X3)("firebase-heartbeat-database",1,{upgrade:(ze,_t)=>{0===_t&&ze.createObjectStore(He)}}).catch(ze=>{throw Gt.create("storage-open",{originalErrorMessage:ze.message})})),Je}function Wt(){return(Wt=(0,c.Z)(function*(ze){try{return(yield Yt()).transaction(He).objectStore(He).get(jn(ze))}catch(_t){throw Gt.create("storage-get",{originalErrorMessage:_t.message})}})).apply(this,arguments)}function Dt(ze,_t){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(ze,_t){try{const fn=(yield Yt()).transaction(He,"readwrite");return yield fn.objectStore(He).put(_t,jn(ze)),fn.done}catch(Zt){throw Gt.create("storage-set",{originalErrorMessage:Zt.message})}})).apply(this,arguments)}function jn(ze){return`${ze.name}!${ze.options.appId}`}class jr{constructor(_t){this.container=_t,this._heartbeatsCache=null;const Zt=this.container.getProvider("app").getImmediate();this._storage=new Ge(Zt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var _t=this;return(0,c.Z)(function*(){const fn=_t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=Br();if(null===_t._heartbeatsCache&&(_t._heartbeatsCache=yield _t._heartbeatsCachePromise),_t._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!_t._heartbeatsCache.heartbeats.some(nn=>nn.date===Cn))return _t._heartbeatsCache.heartbeats.push({date:Cn,agent:fn}),_t._heartbeatsCache.heartbeats=_t._heartbeatsCache.heartbeats.filter(nn=>{const dr=new Date(nn.date).valueOf();return Date.now()-dr<=2592e6}),_t._storage.overwrite(_t._heartbeatsCache)})()}getHeartbeatsHeader(){var _t=this;return(0,c.Z)(function*(){if(null===_t._heartbeatsCache&&(yield _t._heartbeatsCachePromise),null===_t._heartbeatsCache||0===_t._heartbeatsCache.heartbeats.length)return"";const Zt=Br(),{heartbeatsToSend:fn,unsentEntries:Cn}=function xe(ze,_t=1024){const Zt=[];let fn=ze.slice();for(const Cn of ze){const nn=Zt.find(dr=>dr.agent===Cn.agent);if(nn){if(nn.dates.push(Cn.date),it(Zt)>_t){nn.dates.pop();break}}else if(Zt.push({agent:Cn.agent,dates:[Cn.date]}),it(Zt)>_t){Zt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Zt,unsentEntries:fn}}(_t._heartbeatsCache.heartbeats),nn=(0,Ne.L)(JSON.stringify({version:2,heartbeats:fn}));return _t._heartbeatsCache.lastSentHeartbeatDate=Zt,Cn.length>0?(_t._heartbeatsCache.heartbeats=Cn,yield _t._storage.overwrite(_t._heartbeatsCache)):(_t._heartbeatsCache.heartbeats=[],_t._storage.overwrite(_t._heartbeatsCache)),nn})()}}function Br(){return(new Date).toISOString().substring(0,10)}class Ge{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ne.hl)()&&(0,Ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _t=this;return(0,c.Z)(function*(){return(yield _t._canUseIndexedDBPromise)&&(yield function pt(ze){return Wt.apply(this,arguments)}(_t.app))||{heartbeats:[]}})()}overwrite(_t){var Zt=this;return(0,c.Z)(function*(){var fn;if(yield Zt._canUseIndexedDBPromise){const nn=yield Zt.read();return Dt(Zt.app,{lastSentHeartbeatDate:null!==(fn=_t.lastSentHeartbeatDate)&&void 0!==fn?fn:nn.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}})()}add(_t){var Zt=this;return(0,c.Z)(function*(){var fn;if(yield Zt._canUseIndexedDBPromise){const nn=yield Zt.read();return Dt(Zt.app,{lastSentHeartbeatDate:null!==(fn=_t.lastSentHeartbeatDate)&&void 0!==fn?fn:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,..._t.heartbeats]})}})()}}function it(ze){return(0,Ne.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function $t(ze){je(new G.wA("platform-logger",_t=>new De(_t),"PRIVATE")),je(new G.wA("heartbeat",_t=>new jr(_t),"PRIVATE")),ln(ge,"0.7.25",ze),ln(ge,"0.7.25","esm2017"),ln("fire-js","")}("")},4859:(en,ut,M)=>{"use strict";M.d(ut,{wA:()=>Y,H0:()=>ge,zt:()=>be});var c=M(5861),G=M(2090);class Y{constructor(te,de,Te){this.name=te,this.instanceFactory=de,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Ne="[DEFAULT]";class be{constructor(te,de){this.name=te,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const de=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(de)){const Te=new G.BH;if(this.instancesDeferred.set(de,Te),this.isInitialized(de)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:de});Me&&Te.resolve(Me)}catch(Me){}}return this.instancesDeferred.get(de).promise}getImmediate(te){var de;const Te=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),Me=null!==(de=null==te?void 0:te.optional)&&void 0!==de&&de;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Oe){if(Me)return null;throw Oe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Ee(Be){return"EAGER"===Be.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(de){}for(const[de,Te]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(de);try{const Oe=this.getOrInitializeService({instanceIdentifier:Me});Te.resolve(Oe)}catch(Oe){}}}}clearInstance(te=Ne){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,c.Z)(function*(){const de=Array.from(te.instances.values());yield Promise.all([...de.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...de.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Ne){return this.instances.has(te)}getOptions(te=Ne){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:de={}}=te,Te=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:Te,options:de});for(const[Oe,qe]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Oe)&&qe.resolve(Me);return Me}onInit(te,de){var Te;const Me=this.normalizeInstanceIdentifier(de),Oe=null!==(Te=this.onInitCallbacks.get(Me))&&void 0!==Te?Te:new Set;Oe.add(te),this.onInitCallbacks.set(Me,Oe);const qe=this.instances.get(Me);return qe&&te(qe,Me),()=>{Oe.delete(te)}}invokeOnInitCallbacks(te,de){const Te=this.onInitCallbacks.get(de);if(Te)for(const Me of Te)try{Me(te,de)}catch(Oe){}}getOrInitializeService({instanceIdentifier:te,options:de={}}){let Te=this.instances.get(te);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=te,Be===Ne?void 0:Be),options:de}),this.instances.set(te,Te),this.instancesOptions.set(te,de),this.invokeOnInitCallbacks(Te,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Te)}catch(Me){}var Be;return Te||null}normalizeInstanceIdentifier(te=Ne){return this.component?this.component.multipleInstances?te:Ne:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const de=this.getProvider(te.name);if(de.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);de.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const de=new be(te,this);return this.providers.set(te,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(en,ut,M)=>{"use strict";M.d(ut,{in:()=>G,Yd:()=>Ee,Ub:()=>ge,Am:()=>Be});const c=[];var G=(()=>{return(te=G||(G={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",G;var te})();const Y={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Ne=G.INFO,be={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},De=(te,de,...Te)=>{if(de<te.logLevel)return;const Me=(new Date).toISOString(),Oe=be[de];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Oe](`[${Me}]  ${te.name}:`,...Te)};class Ee{constructor(de){this.name=de,this._logLevel=Ne,this._logHandler=De,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in G))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?Y[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...de),this._logHandler(this,G.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...de),this._logHandler(this,G.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,G.INFO,...de),this._logHandler(this,G.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,G.WARN,...de),this._logHandler(this,G.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...de),this._logHandler(this,G.ERROR,...de)}}function ge(te){c.forEach(de=>{de.setLogLevel(te)})}function Be(te,de){for(const Te of c){let Me=null;de&&de.level&&(Me=Y[de.level]),Te.userLogHandler=null===te?null:(Oe,qe,...ke)=>{const Ae=ke.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(ht){return null}}).filter(Le=>Le).join(" ");qe>=(null!=Me?Me:Oe.logLevel)&&te({level:G[qe].toLowerCase(),message:Ae,args:ke,type:Oe.name})}}}},8766:(en,ut,M)=>{"use strict";M.d(ut,{Lj:()=>We,X3:()=>Et});var c=M(5861);let Y,Ne;const Ee=new WeakMap,ge=new WeakMap,Be=new WeakMap,te=new WeakMap,de=new WeakMap;let Oe={get(se,Qe,dt){if(se instanceof IDBTransaction){if("done"===Qe)return ge.get(se);if("objectStoreNames"===Qe)return se.objectStoreNames||Be.get(se);if("store"===Qe)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Le(se[Qe])},set:(se,Qe,dt)=>(se[Qe]=dt,!0),has:(se,Qe)=>se instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in se};function Ae(se){return"function"==typeof se?function ke(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...Qe){return se.apply(ht(this),Qe),Le(Ee.get(this))}:function(...Qe){return Le(se.apply(ht(this),Qe))}:function(Qe,...dt){const rt=se.call(ht(this),Qe,...dt);return Be.set(rt,Qe.sort?Qe.sort():[Qe]),Le(rt)}}(se):(se instanceof IDBTransaction&&function Me(se){if(ge.has(se))return;const Qe=new Promise((dt,rt)=>{const Ke=()=>{se.removeEventListener("complete",ft),se.removeEventListener("error",vt),se.removeEventListener("abort",vt)},ft=()=>{dt(),Ke()},vt=()=>{rt(se.error||new DOMException("AbortError","AbortError")),Ke()};se.addEventListener("complete",ft),se.addEventListener("error",vt),se.addEventListener("abort",vt)});ge.set(se,Qe)}(se),((se,Qe)=>Qe.some(dt=>se instanceof dt))(se,function be(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Oe):se)}function Le(se){if(se instanceof IDBRequest)return function Te(se){const Qe=new Promise((dt,rt)=>{const Ke=()=>{se.removeEventListener("success",ft),se.removeEventListener("error",vt)},ft=()=>{dt(Le(se.result)),Ke()},vt=()=>{rt(se.error),Ke()};se.addEventListener("success",ft),se.addEventListener("error",vt)});return Qe.then(dt=>{dt instanceof IDBCursor&&Ee.set(dt,se)}).catch(()=>{}),de.set(Qe,se),Qe}(se);if(te.has(se))return te.get(se);const Qe=Ae(se);return Qe!==se&&(te.set(se,Qe),de.set(Qe,se)),Qe}const ht=se=>de.get(se);function Et(se,Qe,{blocked:dt,upgrade:rt,blocking:Ke,terminated:ft}={}){const vt=indexedDB.open(se,Qe),un=Le(vt);return rt&&vt.addEventListener("upgradeneeded",Xt=>{rt(Le(vt.result),Xt.oldVersion,Xt.newVersion,Le(vt.transaction))}),dt&&vt.addEventListener("blocked",()=>dt()),un.then(Xt=>{ft&&Xt.addEventListener("close",()=>ft()),Ke&&Xt.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),un}function We(se,{blocked:Qe}={}){const dt=indexedDB.deleteDatabase(se);return Qe&&dt.addEventListener("blocked",()=>Qe()),Le(dt).then(()=>{})}const Ze=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],Ue=new Map;function Xe(se,Qe){if(!(se instanceof IDBDatabase)||Qe in se||"string"!=typeof Qe)return;if(Ue.get(Qe))return Ue.get(Qe);const dt=Qe.replace(/FromIndex$/,""),rt=Qe!==dt,Ke=st.includes(dt);if(!(dt in(rt?IDBIndex:IDBObjectStore).prototype)||!Ke&&!Ze.includes(dt))return;const ft=function(){var vt=(0,c.Z)(function*(un,...Xt){const Ct=this.transaction(un,Ke?"readwrite":"readonly");let Ye=Ct.store;return rt&&(Ye=Ye.index(Xt.shift())),(yield Promise.all([Ye[dt](...Xt),Ke&&Ct.done]))[0]});return function(Xt){return vt.apply(this,arguments)}}();return Ue.set(Qe,ft),ft}!function qe(se){Oe=se(Oe)}(se=>cE(uE({},se),{get:(Qe,dt,rt)=>Xe(Qe,dt)||se.get(Qe,dt,rt),has:(Qe,dt)=>!!Xe(Qe,dt)||se.has(Qe,dt)}))},5861:(en,ut,M)=>{"use strict";function c(Y,Ne,be,De,Ee,ge,Be){try{var te=Y[ge](Be),de=te.value}catch(Te){return void be(Te)}te.done?Ne(de):Promise.resolve(de).then(De,Ee)}function G(Y){return function(){var Ne=this,be=arguments;return new Promise(function(De,Ee){var ge=Y.apply(Ne,be);function Be(de){c(ge,De,Ee,Be,te,"next",de)}function te(de){c(ge,De,Ee,Be,te,"throw",de)}Be(void 0)})}}M.d(ut,{Z:()=>G})},7582:(en,ut,M)=>{"use strict";function Ne(X,ce){var we={};for(var _e in X)Object.prototype.hasOwnProperty.call(X,_e)&&ce.indexOf(_e)<0&&(we[_e]=X[_e]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(_e=Object.getOwnPropertySymbols(X);je<_e.length;je++)ce.indexOf(_e[je])<0&&Object.prototype.propertyIsEnumerable.call(X,_e[je])&&(we[_e[je]]=X[_e[je]])}return we}function be(X,ce,we,_e){var Ce,je=arguments.length,ye=je<3?ce:null===_e?_e=Object.getOwnPropertyDescriptor(ce,we):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(X,ce,we,_e);else for(var kt=X.length-1;kt>=0;kt--)(Ce=X[kt])&&(ye=(je<3?Ce(ye):je>3?Ce(ce,we,ye):Ce(ce,we))||ye);return je>3&&ye&&Object.defineProperty(ce,we,ye),ye}function Te(X,ce,we,_e){return new(we||(we=Promise))(function(ye,Ce){function kt(Jt){try{Gt(_e.next(Jt))}catch(In){Ce(In)}}function Kt(Jt){try{Gt(_e.throw(Jt))}catch(In){Ce(In)}}function Gt(Jt){Jt.done?ye(Jt.value):function je(ye){return ye instanceof we?ye:new we(function(Ce){Ce(ye)})}(Jt.value).then(kt,Kt)}Gt((_e=_e.apply(X,ce||[])).next())})}function We(X){return this instanceof We?(this.v=X,this):new We(X)}function Ze(X,ce,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,_e=we.apply(X,ce||[]),ye=[];return je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),kt("next"),kt("throw"),kt("return",function Ce(hn){return function(Pn){return Promise.resolve(Pn).then(hn,In)}}),je[Symbol.asyncIterator]=function(){return this},je;function kt(hn,Pn){_e[hn]&&(je[hn]=function(vn){return new Promise(function(gr,ln){ye.push([hn,vn,gr,ln])>1||Kt(hn,vn)})},Pn&&(je[hn]=Pn(je[hn])))}function Kt(hn,Pn){try{!function Gt(hn){hn.value instanceof We?Promise.resolve(hn.value.v).then(Jt,In):er(ye[0][2],hn)}(_e[hn](Pn))}catch(vn){er(ye[0][3],vn)}}function Jt(hn){Kt("next",hn)}function In(hn){Kt("throw",hn)}function er(hn,Pn){hn(Pn),ye.shift(),ye.length&&Kt(ye[0][0],ye[0][1])}}function Ue(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ce=X[Symbol.asyncIterator];return ce?ce.call(X):(X=function ke(X){var ce="function"==typeof Symbol&&Symbol.iterator,we=ce&&X[ce],_e=0;if(we)return we.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&_e>=X.length&&(X=void 0),{value:X&&X[_e++],done:!X}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),we={},_e("next"),_e("throw"),_e("return"),we[Symbol.asyncIterator]=function(){return this},we);function _e(ye){we[ye]=X[ye]&&function(Ce){return new Promise(function(kt,Kt){!function je(ye,Ce,kt,Kt){Promise.resolve(Kt).then(function(Gt){ye({value:Gt,done:kt})},Ce)}(kt,Kt,(Ce=X[ye](Ce)).done,Ce.value)})}}}M.d(ut,{_T:()=>Ne,gn:()=>be,mG:()=>Te,qq:()=>We,FC:()=>Ze,KL:()=>Ue}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=5789)}]);