var tI=Object.defineProperty,nI=Object.defineProperties,rI=Object.getOwnPropertyDescriptors,aE=Object.getOwnPropertySymbols,iI=Object.prototype.hasOwnProperty,sI=Object.prototype.propertyIsEnumerable,lE=(Qt,lt,N)=>lt in Qt?tI(Qt,lt,{enumerable:!0,configurable:!0,writable:!0,value:N}):Qt[lt]=N,uE=(Qt,lt)=>{for(var N in lt||(lt={}))iI.call(lt,N)&&lE(Qt,N,lt[N]);if(aE)for(var N of aE(lt))sI.call(lt,N)&&lE(Qt,N,lt[N]);return Qt},cE=(Qt,lt)=>nI(Qt,rI(lt));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(Qt,lt,N)=>{"use strict";N.d(lt,{nm:()=>ne});var c=N(6351);N(5e3),N(5867);var Ye=N(5861),yt=N(9681),Pt=N(4859),gt=N(2090),_t=N(1877);const Ee=new Map,nt={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function be(ot){return Ee.get(ot)||nt}function ge(ot,Xe){Ee.set(ot,Xe)}function Be(){return we}class Ce{constructor(Xe,Ct,Kt,cn,An){if(this.operation=Xe,this.retryPolicy=Ct,this.getWaitDuration=Kt,this.lowerBound=cn,this.upperBound=An,this.pending=null,this.nextErrorWaitInterval=cn,cn>An)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Xe){var Ct=this;return(0,Ye.Z)(function*(){Ct.stop();try{Ct.pending=new gt.BH,yield function Ze(ot){return new Promise(Xe=>{setTimeout(Xe,ot)})}(Ct.getNextRun(Xe)),Ct.pending.resolve(),yield Ct.pending.promise,Ct.pending=new gt.BH,yield Ct.operation(),Ct.pending.resolve(),yield Ct.pending.promise,Ct.process(!0).catch(()=>{})}catch(Kt){Ct.retryPolicy(Kt)?Ct.process(!1).catch(()=>{}):Ct.stop()}})()}getNextRun(Xe){if(Xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ct=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ct}}}const st=new gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ct(ot){if(!be(ot).activated)throw st.create("use-before-activation",{appName:ot.name})}function Jt(ot,Xe){return hn.apply(this,arguments)}function hn(){return(hn=(0,Ye.Z)(function*({url:ot,body:Xe},Ct){const Kt={"Content-Type":"application/json"},cn=Ct.getImmediate({optional:!0});if(cn){const Gi=yield cn.getHeartbeatsHeader();Gi&&(Kt["X-Firebase-Client"]=Gi)}const An={method:"POST",body:JSON.stringify(Xe),headers:Kt};let lr,ii;try{lr=yield fetch(ot,An)}catch(Gi){throw st.create("fetch-network-error",{originalErrorMessage:Gi.message})}if(200!==lr.status)throw st.create("fetch-status-error",{httpStatus:lr.status});try{ii=yield lr.json()}catch(Gi){throw st.create("fetch-parse-error",{originalErrorMessage:Gi.message})}const ur=ii.ttl.match(/^([\d.]+)(s)$/);if(!ur||!ur[2]||isNaN(Number(ur[1])))throw st.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ii.ttl}`});const ds=1e3*Number(ur[1]),es=Date.now();return{token:ii.token,expireTimeMillis:es+ds,issuedAtTimeMillis:es}})).apply(this,arguments)}function er(ot,Xe){const{projectId:Ct,appId:Kt,apiKey:cn}=ot.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ct}/apps/${Kt}:exchangeDebugToken?key=${cn}`,body:{debug_token:Xe}}}const Xr="firebase-app-check-store";let vr=null;function Pr(){return vr||(vr=new Promise((ot,Xe)=>{try{const Ct=indexedDB.open("firebase-app-check-database",1);Ct.onsuccess=Kt=>{ot(Kt.target.result)},Ct.onerror=Kt=>{var cn;Xe(st.create("storage-open",{originalErrorMessage:null===(cn=Kt.target.error)||void 0===cn?void 0:cn.message}))},Ct.onupgradeneeded=Kt=>{0===Kt.oldVersion&&Kt.target.result.createObjectStore(Xr,{keyPath:"compositeKey"})}}catch(Ct){Xe(st.create("storage-open",{originalErrorMessage:Ct.message}))}}),vr)}function At(){return(At=(0,Ye.Z)(function*(ot,Xe){const Kt=(yield Pr()).transaction(Xr,"readwrite"),An=Kt.objectStore(Xr).put({compositeKey:ot,value:Xe});return new Promise((lr,ii)=>{An.onsuccess=ur=>{lr()},Kt.onerror=ur=>{var ds;ii(st.create("storage-set",{originalErrorMessage:null===(ds=ur.target.error)||void 0===ds?void 0:ds.message}))}})})).apply(this,arguments)}const Vn=new _t.Yd("@firebase/app-check");function Lr(ot,Xe){return(0,gt.hl)()?function bt(ot,Xe){return function Wt(ot,Xe){return At.apply(this,arguments)}(function Ln(ot){return`${ot.options.appId}-${ot.name}`}(ot),Xe)}(ot,Xe).catch(Ct=>{Vn.warn(`Failed to write token to IndexedDB. Error: ${Ct}`)}):Promise.resolve()}function Ke(){return Be().enabled}function Qe(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,Ye.Z)(function*(){const ot=Be();if(ot.enabled&&ot.token)return ot.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pt={error:"UNKNOWN_ERROR"};function qt(ot){return gt.US.encodeString(JSON.stringify(ot),!1)}function En(ot){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Ye.Z)(function*(ot,Xe=!1){const Ct=ot.app;ct(Ct);const Kt=be(Ct);let An,cn=Kt.token;if(!cn){const ur=yield Kt.cachedTokenPromise;ur&&Hi(ur)&&(cn=ur)}if(!Xe&&cn&&Hi(cn))return{token:cn.token};let ii,lr=!1;if(Ke()){Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Jt(er(Ct,yield Qe()),ot.heartbeatServiceProvider).then(ds=>(Kt.exchangeTokenPromise=void 0,ds)),lr=!0);const ur=yield Kt.exchangeTokenPromise;return yield Lr(Ct,ur),ge(Ct,Object.assign(Object.assign({},Kt),{token:ur})),{token:ur.token}}try{Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Kt.provider.getToken().then(ur=>(Kt.exchangeTokenPromise=void 0,ur)),lr=!0),cn=yield Kt.exchangeTokenPromise}catch(ur){"appCheck/throttled"===ur.code?Vn.warn(ur.message):Vn.error(ur),An=ur}return cn?(ii={token:cn.token},ge(Ct,Object.assign(Object.assign({},Kt),{token:cn})),yield Lr(Ct,cn)):ii=ri(An),lr&&Cr(Ct,ii),ii})).apply(this,arguments)}function fr(ot,Xe){const Ct=be(ot),Kt=Ct.tokenObservers.filter(cn=>cn.next!==Xe);0===Kt.length&&Ct.tokenRefresher&&Ct.tokenRefresher.isRunning()&&Ct.tokenRefresher.stop(),ge(ot,Object.assign(Object.assign({},Ct),{tokenObservers:Kt}))}function un(ot){const{app:Xe}=ot,Ct=be(Xe);let Kt=Ct.tokenRefresher;Kt||(Kt=function an(ot){const{app:Xe}=ot;return new Ce((0,Ye.Z)(function*(){let Kt;if(Kt=be(Xe).token?yield En(ot,!0):yield En(ot),Kt.error)throw Kt.error}),()=>!0,()=>{const Ct=be(Xe);if(Ct.token){let Kt=Ct.token.issuedAtTimeMillis+.5*(Ct.token.expireTimeMillis-Ct.token.issuedAtTimeMillis)+3e5;return Kt=Math.min(Kt,Ct.token.expireTimeMillis-3e5),Math.max(0,Kt-Date.now())}return 0},3e4,96e4)}(ot),ge(Xe,Object.assign(Object.assign({},Ct),{tokenRefresher:Kt}))),!Kt.isRunning()&&Ct.isTokenAutoRefreshEnabled&&Kt.start()}function Cr(ot,Xe){const Ct=be(ot).tokenObservers;for(const Kt of Ct)try{"EXTERNAL"===Kt.type&&null!=Xe.error?Kt.error(Xe.error):Kt.next(Xe)}catch(cn){}}function Hi(ot){return ot.expireTimeMillis-Date.now()>0}function ri(ot){return{token:qt(pt),error:ot}}class Xi{constructor(Xe,Ct){this.app=Xe,this.heartbeatServiceProvider=Ct}_delete(){const{tokenObservers:Xe}=be(this.app);for(const Ct of Xe)fr(this.app,Ct.next);return Promise.resolve()}}const Si="app-check-internal";!function zr(){(0,yt._registerComponent)(new Pt.wA("app-check",ot=>function ki(ot,Xe){return new Xi(ot,Xe)}(ot.getProvider("app").getImmediate(),ot.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ot,Xe,Ct)=>{ot.getProvider(Si).initialize()})),(0,yt._registerComponent)(new Pt.wA(Si,ot=>function Hr(ot){return{getToken:Xe=>En(ot,Xe),addTokenListener:Xe=>function On(ot,Xe,Ct,Kt){const{app:cn}=ot,An=be(cn),lr={next:Ct,error:Kt,type:Xe};if(ge(cn,Object.assign(Object.assign({},An),{tokenObservers:[...An.tokenObservers,lr]})),An.token&&Hi(An.token)){const ii=An.token;Promise.resolve().then(()=>{Ct({token:ii.token}),un(ot)}).catch(()=>{})}An.cachedTokenPromise.then(()=>un(ot))}(ot,"INTERNAL",Xe),removeTokenListener:Xe=>fr(ot.app,Xe)}}(ot.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,yt.registerVersion)("@firebase/app-check","0.5.8")}();class ne{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},7451:(Qt,lt,N)=>{"use strict";N.d(lt,{zQ:()=>we,ww:()=>be,rT:()=>gt,f7:()=>Ee,L6:()=>yt,_Q:()=>Pt,lh:()=>_t,Qv:()=>Ye,nw:()=>nt});var c=N(5e3),z=N(8929),W=N(1086),ke=N(2916),Te=N(5254),te=N(6787),_e=N(7545);function re(ge,Be){return Be?(0,_e.w)(()=>ge,Be):(0,_e.w)(()=>ge)}var Ie=N(2102),Z=N(4850),pe=N(96),ee=N(7224),le=N(8915),Fe=N(2198),He=N(6351),De=N(2011),Oe=N(9808),Le=N(440),et=N(127);const Ye=new c.OlP("angularfire2.auth.use-emulator"),yt=new c.OlP("angularfire2.auth.settings"),Pt=new c.OlP("angularfire2.auth.tenant-id"),gt=new c.OlP("angularfire2.auth.langugage-code"),_t=new c.OlP("angularfire2.auth.use-device-language"),Ee=new c.OlP("angularfire.auth.persistence"),nt=(ge,Be,$e,Et,Ot,ut,ze,q)=>(0,De.cc)(`${ge.name}.auth`,"AngularFireAuth",ge.name,()=>{const Ce=Be.runOutsideAngular(()=>ge.auth());if($e&&Ce.useEmulator(...$e),Et&&(Ce.tenantId=Et),Ce.languageCode=Ot,ut&&Ce.useDeviceLanguage(),ze)for(const[Ze,Me]of Object.entries(ze))Ce.settings[Ze]=Me;return q&&Ce.setPersistence(q),Ce},[$e,Et,Ot,ut,ze,q]);let we=(()=>{class ge{constructor($e,Et,Ot,ut,ze,q,Ce,Ze,Me,st,Xt,ct){const ft=new z.xQ,Nt=(0,W.of)(void 0).pipe((0,Ie.QV)(ze.outsideAngular),(0,_e.w)(()=>ut.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8775)))),(0,Z.U)(()=>(0,De.on)($e,ut,Et)),(0,Z.U)(zt=>nt(zt,ut,q,Ze,Me,st,Ce,Xt)),(0,pe.d)({bufferSize:1,refCount:!1}));if((0,Oe.PM)(Ot))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Nt.pipe((0,ee.P)()).subscribe();const Jt=Nt.pipe((0,_e.w)(Bn=>Bn.getRedirectResult().then(er=>er,()=>null)),He.iC,(0,pe.d)({bufferSize:1,refCount:!1})),hn=Nt.pipe((0,_e.w)(Bn=>new ke.y(er=>({unsubscribe:ut.runOutsideAngular(()=>Bn.onAuthStateChanged(Zn=>er.next(Zn),Zn=>er.error(Zn),()=>er.complete()))})))),Fn=Nt.pipe((0,_e.w)(Bn=>new ke.y(er=>({unsubscribe:ut.runOutsideAngular(()=>Bn.onIdTokenChanged(Zn=>er.next(Zn),Zn=>er.error(Zn),()=>er.complete()))}))));this.authState=Jt.pipe(re(hn),(0,le.R)(ze.outsideAngular),(0,Ie.QV)(ze.insideAngular)),this.user=Jt.pipe(re(Fn),(0,le.R)(ze.outsideAngular),(0,Ie.QV)(ze.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Bn=>Bn?(0,Te.D)(Bn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Bn=>Bn?(0,Te.D)(Bn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,te.T)(Jt,ft,this.authState.pipe((0,Fe.h)(Bn=>!Bn))).pipe((0,Z.U)(Bn=>(null==Bn?void 0:Bn.user)?Bn:null),(0,le.R)(ze.outsideAngular),(0,Ie.QV)(ze.insideAngular))}return(0,De.pX)(this,Nt,ut,{spy:{apply:(zt,Jt,hn)=>{(zt.startsWith("signIn")||zt.startsWith("createUser"))&&hn.then(Fn=>ft.next(Fn))}}})}}return ge.\u0275fac=function($e){return new($e||ge)(c.LFG(De.Dh),c.LFG(De.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(He.HU),c.LFG(Ye,8),c.LFG(yt,8),c.LFG(Pt,8),c.LFG(gt,8),c.LFG(_t,8),c.LFG(Ee,8),c.LFG(Le.nm,8))},ge.\u0275prov=c.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"any"}),ge})(),be=(()=>{class ge{constructor(){et.Z.registerVersion("angularfire",He.q4.full,"auth-compat")}}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275mod=c.oAB({type:ge}),ge.\u0275inj=c.cJS({providers:[we]}),ge})()},4524:(Qt,lt,N)=>{"use strict";N.d(lt,{ST:()=>st});var c=N(5e3),z=N(353),W=N(2916),ke=N(5254),Te=N(1086),te=N(6351),_e=N(3489);function re(){return ct=>ct.lift(new Ie)}class Ie{call(ft,Nt){return Nt.subscribe(new Z(ft))}}class Z extends _e.L{constructor(ft){super(ft),this.hasPrev=!1}_next(ft){let Nt;this.hasPrev?Nt=[this.prev,ft]:this.hasPrev=!0,this.prev=ft,Nt&&this.destination.next(Nt)}}var pe=N(1059),ee=N(4850),le=N(2014),Fe=N(5778),He=N(2198),De=N(2011),Oe=N(9808),rt=(N(8775),N(6463),N(7451)),Ye=N(440);function gt(ct,ft){return function Pt(ct,ft=z.z){return new W.y(Nt=>{let zt;return null!=ft?ft.schedule(()=>{zt=ct.onSnapshot({includeMetadataChanges:!0},Nt)}):zt=ct.onSnapshot({includeMetadataChanges:!0},Nt),()=>{null!=zt&&zt()}})}(ct,ft)}function Ee(ct,ft){return gt(ct,ft).pipe((0,ee.U)(Nt=>({payload:Nt,type:"query"})))}function nt(ct,ft){return Ee(ct,ft).pipe((0,pe.O)(void 0),re(),(0,ee.U)(([Nt,zt])=>{const Jt=zt.payload.docChanges(),hn=Jt.map(Fn=>({type:Fn.type,payload:Fn}));return Nt&&JSON.stringify(Nt.payload.metadata)!==JSON.stringify(zt.payload.metadata)&&zt.payload.docs.forEach((Fn,Bn)=>{const er=Jt.find(yn=>yn.doc.ref.isEqual(Fn.ref)),Zn=null==Nt?void 0:Nt.payload.docs.find(yn=>yn.ref.isEqual(Fn.ref));er&&JSON.stringify(er.doc.metadata)===JSON.stringify(Fn.metadata)||!er&&Zn&&JSON.stringify(Zn.metadata)===JSON.stringify(Fn.metadata)||hn.push({type:"modified",payload:{oldIndex:Bn,newIndex:Bn,type:"modified",doc:Fn}})}),hn}))}function we(ct,ft,Nt){return nt(ct,Nt).pipe((0,le.R)((zt,Jt)=>function be(ct,ft,Nt){return ft.forEach(zt=>{Nt.indexOf(zt.type)>-1&&(ct=function Be(ct,ft){switch(ft.type){case"added":if(!ct[ft.newIndex]||!ct[ft.newIndex].doc.ref.isEqual(ft.doc.ref))return ge(ct,ft.newIndex,0,ft);break;case"modified":if(null==ct[ft.oldIndex]||ct[ft.oldIndex].doc.ref.isEqual(ft.doc.ref)){if(ft.oldIndex!==ft.newIndex){const Nt=ct.slice();return Nt.splice(ft.oldIndex,1),Nt.splice(ft.newIndex,0,ft),Nt}return ge(ct,ft.newIndex,1,ft)}break;case"removed":if(ct[ft.oldIndex]&&ct[ft.oldIndex].doc.ref.isEqual(ft.doc.ref))return ge(ct,ft.oldIndex,1)}return ct}(ct,zt))}),ct}(zt,Jt.map(hn=>hn.payload),ft),[]),(0,Fe.x)(),(0,ee.U)(zt=>zt.map(Jt=>({type:Jt.type,payload:Jt}))))}function ge(ct,ft,Nt,...zt){const Jt=ct.slice();return Jt.splice(ft,Nt,...zt),Jt}function $e(ct){return(!ct||0===ct.length)&&(ct=["added","removed","modified"]),ct}N(127);class Et{constructor(ft,Nt,zt){this.ref=ft,this.query=Nt,this.afs=zt}stateChanges(ft){let Nt=nt(this.query,this.afs.schedulers.outsideAngular);return ft&&ft.length>0&&(Nt=Nt.pipe((0,ee.U)(zt=>zt.filter(Jt=>ft.indexOf(Jt.type)>-1)))),Nt.pipe((0,pe.O)(void 0),re(),(0,He.h)(([zt,Jt])=>Jt.length>0||!zt),(0,ee.U)(([zt,Jt])=>Jt),te.iC)}auditTrail(ft){return this.stateChanges(ft).pipe((0,le.R)((Nt,zt)=>[...Nt,...zt],[]))}snapshotChanges(ft){const Nt=$e(ft);return we(this.query,Nt,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ft={}){return Ee(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(Nt=>Nt.payload.docs.map(zt=>ft.idField?Object.assign(Object.assign({},zt.data()),{[ft.idField]:zt.id}):zt.data())),te.iC)}get(ft){return(0,ke.D)(this.query.get(ft)).pipe(te.iC)}add(ft){return this.ref.add(ft)}doc(ft){return new Ot(this.ref.doc(ft),this.afs)}}class Ot{constructor(ft,Nt){this.ref=ft,this.afs=Nt}set(ft,Nt){return this.ref.set(ft,Nt)}update(ft){return this.ref.update(ft)}delete(){return this.ref.delete()}collection(ft,Nt){const zt=this.ref.collection(ft),{ref:Jt,query:hn}=Me(zt,Nt);return new Et(Jt,hn,this.afs)}snapshotChanges(){return function _t(ct,ft){return gt(ct,ft).pipe((0,pe.O)(void 0),re(),(0,ee.U)(([Nt,zt])=>zt.exists?(null==Nt?void 0:Nt.exists)?{payload:zt,type:"modified"}:{payload:zt,type:"added"}:{payload:zt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ft={}){return this.snapshotChanges().pipe((0,ee.U)(({payload:Nt})=>ft.idField?Object.assign(Object.assign({},Nt.data()),{[ft.idField]:Nt.id}):Nt.data()))}get(ft){return(0,ke.D)(this.ref.get(ft)).pipe(te.iC)}}class ut{constructor(ft,Nt){this.query=ft,this.afs=Nt}stateChanges(ft){return ft&&0!==ft.length?nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(Nt=>Nt.filter(zt=>ft.indexOf(zt.type)>-1)),(0,He.h)(Nt=>Nt.length>0),te.iC):nt(this.query,this.afs.schedulers.outsideAngular).pipe(te.iC)}auditTrail(ft){return this.stateChanges(ft).pipe((0,le.R)((Nt,zt)=>[...Nt,...zt],[]))}snapshotChanges(ft){const Nt=$e(ft);return we(this.query,Nt,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(ft={}){return Ee(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(zt=>zt.payload.docs.map(Jt=>ft.idField?Object.assign({[ft.idField]:Jt.id},Jt.data()):Jt.data())),te.iC)}get(ft){return(0,ke.D)(this.query.get(ft)).pipe(te.iC)}}const ze=new c.OlP("angularfire2.enableFirestorePersistence"),q=new c.OlP("angularfire2.firestore.persistenceSettings"),Ce=new c.OlP("angularfire2.firestore.settings"),Ze=new c.OlP("angularfire2.firestore.use-emulator");function Me(ct,ft=(Nt=>Nt)){return{query:ft(ct),ref:ct}}let st=(()=>{class ct{constructor(Nt,zt,Jt,hn,Fn,Bn,er,Zn,yn,Xr,hr,vr,Pr,Pn,bt,Ge,Ae){this.schedulers=er;const Wt=(0,De.on)(Nt,Bn,zt),At=yn;Xr&&(0,rt.nw)(Wt,Bn,hr,Pr,Pn,bt,vr,Ge),[this.firestore,this.persistenceEnabled$]=(0,De.cc)(`${Wt.name}.firestore`,"AngularFirestore",Wt.name,()=>{const Gt=Bn.runOutsideAngular(()=>Wt.firestore());if(hn&&Gt.settings(hn),At&&Gt.useEmulator(...At),Jt&&!(0,Oe.PM)(Fn)){const dn=()=>{try{return(0,ke.D)(Gt.enablePersistence(Zn||void 0).then(()=>!0,()=>!1))}catch(Ln){return"undefined"!=typeof console&&console.warn(Ln),(0,Te.of)(!1)}};return[Gt,Bn.runOutsideAngular(dn)]}return[Gt,(0,Te.of)(!1)]},[hn,At,Jt])}collection(Nt,zt){let Jt;Jt="string"==typeof Nt?this.firestore.collection(Nt):Nt;const{ref:hn,query:Fn}=Me(Jt,zt),Bn=this.schedulers.ngZone.run(()=>hn);return new Et(Bn,Fn,this)}collectionGroup(Nt,zt){const Jt=zt||(Fn=>Fn),hn=this.firestore.collectionGroup(Nt);return new ut(Jt(hn),this)}doc(Nt){let zt;zt="string"==typeof Nt?this.firestore.doc(Nt):Nt;const Jt=this.schedulers.ngZone.run(()=>zt);return new Ot(Jt,this)}createId(){return this.firestore.collection("_").doc().id}}return ct.\u0275fac=function(Nt){return new(Nt||ct)(c.LFG(De.Dh),c.LFG(De.xv,8),c.LFG(ze,8),c.LFG(Ce,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(te.HU),c.LFG(q,8),c.LFG(Ze,8),c.LFG(rt.zQ,8),c.LFG(rt.Qv,8),c.LFG(rt.L6,8),c.LFG(rt._Q,8),c.LFG(rt.rT,8),c.LFG(rt.lh,8),c.LFG(rt.f7,8),c.LFG(Ye.nm,8))},ct.\u0275prov=c.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"any"}),ct})()},2011:(Qt,lt,N)=>{"use strict";N.d(lt,{hO:()=>le,xv:()=>Ie,Dh:()=>re,GT:()=>te,cc:()=>Fe,on:()=>Z,pX:()=>Te});var c=N(5e3),z=N(127),W=N(6351);Qt=N.hmd(Qt);const ke=["ngOnDestroy"],Te=(Le,et,rt,Ye={})=>new Proxy(Le,{get:(yt,Pt)=>rt.runOutsideAngular(()=>{var gt;if(Le[Pt])return(null===(gt=null==Ye?void 0:Ye.spy)||void 0===gt?void 0:gt.get)&&Ye.spy.get(Pt,Le[Pt]),Le[Pt];if(ke.indexOf(Pt)>-1)return()=>{};const _t=et.toPromise().then(Ee=>{const nt=Ee&&Ee[Pt];return"function"==typeof nt?nt.bind(Ee):nt&&nt.then?nt.then(we=>rt.run(()=>we)):rt.run(()=>nt)});return new Proxy(()=>{},{get:(Ee,nt)=>_t[nt],apply:(Ee,nt,we)=>_t.then(be=>{var ge;const Be=be&&be(...we);return(null===(ge=null==Ye?void 0:Ye.spy)||void 0===ge?void 0:ge.apply)&&Ye.spy.apply(Pt,we,Be),Be})})})}),te=(Le,et)=>{et.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Ye=>{Object.defineProperty(Le.prototype,Ye,Object.getOwnPropertyDescriptor(rt.prototype||rt,Ye))})})};class _e{constructor(et){return et}}const re=new c.OlP("angularfire2.app.options"),Ie=new c.OlP("angularfire2.app.name");function Z(Le,et,rt){const yt="object"==typeof rt&&rt||{};yt.name=yt.name||"string"==typeof rt&&rt||"[DEFAULT]";const gt=z.Z.apps.filter(_t=>_t&&_t.name===yt.name)[0]||et.runOutsideAngular(()=>z.Z.initializeApp(Le,yt));try{JSON.stringify(Le)!==JSON.stringify(gt.options)&&pe("error",`${gt.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_t){}return new _e(gt)}const pe=(Le,...et)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Le](...et)},ee={provide:_e,useFactory:Z,deps:[re,c.R0b,[new c.FiY,Ie]]};let le=(()=>{class Le{constructor(rt){z.Z.registerVersion("angularfire",W.q4.full,"core"),z.Z.registerVersion("angularfire",W.q4.full,"app-compat"),z.Z.registerVersion("angular",c.q4F.full,rt.toString())}static initializeApp(rt,Ye){return{ngModule:Le,providers:[{provide:re,useValue:rt},{provide:Ie,useValue:Ye}]}}}return Le.\u0275fac=function(rt){return new(rt||Le)(c.LFG(c.Lbi))},Le.\u0275mod=c.oAB({type:Le}),Le.\u0275inj=c.cJS({providers:[ee]}),Le})();function Fe(Le,et,rt,Ye,yt){const[,Pt,gt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===Le)||[];if(Pt)return function He(Le,et){try{return Le.toString()===et.toString()}catch(rt){return Le===et}}(yt,gt)||(Oe("error",`${et} was already initialized on the ${rt} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:yt,was:gt})),Pt;{const _t=Ye();return globalThis.\u0275AngularfireInstanceCache.push([Le,_t,yt]),_t}}const De=!!Qt.hot,Oe=(Le,...et)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Le](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Qt,lt,N)=>{"use strict";N.d(lt,{q4:()=>Ea,iC:()=>zs,fc:()=>Iu,HU:()=>Pd,vb:()=>Rs,JM:()=>wu});var c=N(5e3),z=N(5867),W=N(5861),ke=N(9681),Te=N(2090),te=N(4859),_e=N(1877),re=N(8766);const Ie="@firebase/installations",Z="0.5.9",ee=`w:${Z}`,le="FIS_v2",et=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(F){return F instanceof Te.ZR&&F.code.includes("request-failed")}function Ye({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function yt(F){return{token:F.token,requestStatus:2,expiresIn:be(F.expiresIn),creationTime:Date.now()}}function Pt(F,H){return gt.apply(this,arguments)}function gt(){return(gt=(0,W.Z)(function*(F,H){const Ue=(yield H.json()).error;return et.create("request-failed",{requestName:F,serverCode:Ue.code,serverMessage:Ue.message,serverStatus:Ue.status})})).apply(this,arguments)}function _t({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function Ee(F,{refreshToken:H}){const de=_t(F);return de.append("Authorization",function ge(F){return`${le} ${F}`}(H)),de}function nt(F){return we.apply(this,arguments)}function we(){return(we=(0,W.Z)(function*(F){const H=yield F();return H.status>=500&&H.status<600?F():H})).apply(this,arguments)}function be(F){return Number(F.replace("s","000"))}function Be(F,H){return $e.apply(this,arguments)}function $e(){return($e=(0,W.Z)(function*({appConfig:F,heartbeatServiceProvider:H},{fid:de}){const Ue=Ye(F),wt=_t(F),Rt=H.getImmediate({optional:!0});if(Rt){const ir=yield Rt.getHeartbeatsHeader();ir&&wt.append("x-firebase-client",ir)}const $n={method:"POST",headers:wt,body:JSON.stringify({fid:de,authVersion:le,appId:F.appId,sdkVersion:ee})},or=yield nt(()=>fetch(Ue,$n));if(or.ok){const ir=yield or.json();return{fid:ir.fid||de,registrationStatus:2,refreshToken:ir.refreshToken,authToken:yt(ir.authToken)}}throw yield Pt("Create Installation",or)})).apply(this,arguments)}function Et(F){return new Promise(H=>{setTimeout(H,F)})}const ut=/^[cdef][\w-]{21}$/;function q(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const de=function Ce(F){return function Ot(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return ut.test(de)?de:""}catch(F){return""}}function Ze(F){return`${F.appName}!${F.appId}`}const Me=new Map;function st(F,H){const de=Ze(F);ft(de,H),function Nt(F,H){const de=function Jt(){return!zt&&"BroadcastChannel"in self&&(zt=new BroadcastChannel("[Firebase] FID Change"),zt.onmessage=F=>{ft(F.data.key,F.data.fid)}),zt}();de&&de.postMessage({key:F,fid:H}),function hn(){0===Me.size&&zt&&(zt.close(),zt=null)}()}(de,H)}function ft(F,H){const de=Me.get(F);if(de)for(const Ue of de)Ue(H)}let zt=null;const er="firebase-installations-store";let Zn=null;function yn(){return Zn||(Zn=(0,re.X3)("firebase-installations-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(er)}})),Zn}function Xr(F,H){return hr.apply(this,arguments)}function hr(){return(hr=(0,W.Z)(function*(F,H){const de=Ze(F),wt=(yield yn()).transaction(er,"readwrite"),Rt=wt.objectStore(er),rn=yield Rt.get(de);return yield Rt.put(H,de),yield wt.done,(!rn||rn.fid!==H.fid)&&st(F,H.fid),H})).apply(this,arguments)}function vr(F){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,W.Z)(function*(F){const H=Ze(F),Ue=(yield yn()).transaction(er,"readwrite");yield Ue.objectStore(er).delete(H),yield Ue.done})).apply(this,arguments)}function Pn(F,H){return bt.apply(this,arguments)}function bt(){return(bt=(0,W.Z)(function*(F,H){const de=Ze(F),wt=(yield yn()).transaction(er,"readwrite"),Rt=wt.objectStore(er),rn=yield Rt.get(de),$n=H(rn);return void 0===$n?yield Rt.delete(de):yield Rt.put($n,de),yield wt.done,$n&&(!rn||rn.fid!==$n.fid)&&st(F,$n.fid),$n})).apply(this,arguments)}function Ge(F){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,W.Z)(function*(F){let H;const de=yield Pn(F.appConfig,Ue=>{const wt=Wt(Ue),Rt=At(F,wt);return H=Rt.registrationPromise,Rt.installationEntry});return""===de.fid?{installationEntry:yield H}:{installationEntry:de,registrationPromise:H}})).apply(this,arguments)}function Wt(F){return ai(F||{fid:q(),registrationStatus:0})}function At(F,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(et.create("app-offline"))};const de={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Ue=function Gt(F,H){return dn.apply(this,arguments)}(F,de);return{installationEntry:de,registrationPromise:Ue}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:Ln(F)}:{installationEntry:H}}function dn(){return(dn=(0,W.Z)(function*(F,H){try{const de=yield Be(F,H);return Xr(F.appConfig,de)}catch(de){throw rt(de)&&409===de.customData.serverCode?yield vr(F.appConfig):yield Xr(F.appConfig,{fid:H.fid,registrationStatus:0}),de}})).apply(this,arguments)}function Ln(F){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,W.Z)(function*(F){let H=yield Tn(F.appConfig);for(;1===H.registrationStatus;)yield Et(100),H=yield Tn(F.appConfig);if(0===H.registrationStatus){const{installationEntry:de,registrationPromise:Ue}=yield Ge(F);return Ue||de}return H})).apply(this,arguments)}function Tn(F){return Pn(F,H=>{if(!H)throw et.create("installation-not-found");return ai(H)})}function ai(F){return function Lr(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function qn(F,H){return Re.apply(this,arguments)}function Re(){return(Re=(0,W.Z)(function*({appConfig:F,heartbeatServiceProvider:H},de){const Ue=Ke(F,de),wt=Ee(F,de),Rt=H.getImmediate({optional:!0});if(Rt){const ir=yield Rt.getHeartbeatsHeader();ir&&wt.append("x-firebase-client",ir)}const $n={method:"POST",headers:wt,body:JSON.stringify({installation:{sdkVersion:ee,appId:F.appId}})},or=yield nt(()=>fetch(Ue,$n));if(or.ok)return yt(yield or.json());throw yield Pt("Generate Auth Token",or)})).apply(this,arguments)}function Ke(F,{fid:H}){return`${Ye(F)}/${H}/authTokens:generate`}function Qe(F){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,W.Z)(function*(F,H=!1){let de;const Ue=yield Pn(F.appConfig,Rt=>{if(!On(Rt))throw et.create("not-registered");const rn=Rt.authToken;if(!H&&fr(rn))return Rt;if(1===rn.requestStatus)return de=We(F,H),Rt;{if(!navigator.onLine)throw et.create("app-offline");const $n=an(Rt);return de=En(F,$n),$n}});return de?yield de:Ue.authToken})).apply(this,arguments)}function We(F,H){return pt.apply(this,arguments)}function pt(){return(pt=(0,W.Z)(function*(F,H){let de=yield qt(F.appConfig);for(;1===de.authToken.requestStatus;)yield Et(100),de=yield qt(F.appConfig);const Ue=de.authToken;return 0===Ue.requestStatus?Qe(F,H):Ue})).apply(this,arguments)}function qt(F){return Pn(F,H=>{if(!On(H))throw et.create("not-registered");return function Cr(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function En(F,H){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,W.Z)(function*(F,H){try{const de=yield qn(F,H),Ue=Object.assign(Object.assign({},H),{authToken:de});return yield Xr(F.appConfig,Ue),de}catch(de){if(!rt(de)||401!==de.customData.serverCode&&404!==de.customData.serverCode){const Ue=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Xr(F.appConfig,Ue)}else yield vr(F.appConfig);throw de}})).apply(this,arguments)}function On(F){return void 0!==F&&2===F.registrationStatus}function fr(F){return 2===F.requestStatus&&!function un(F){const H=Date.now();return H<F.creationTime||F.creationTime+F.expiresIn<H+36e5}(F)}function an(F){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:H})}function ri(){return(ri=(0,W.Z)(function*(F){const H=F,{installationEntry:de,registrationPromise:Ue}=yield Ge(H);return Ue?Ue.catch(console.error):Qe(H).catch(console.error),de.fid})).apply(this,arguments)}function ki(){return(ki=(0,W.Z)(function*(F,H=!1){const de=F;return yield Hr(de),(yield Qe(de,H)).token})).apply(this,arguments)}function Hr(F){return vi.apply(this,arguments)}function vi(){return(vi=(0,W.Z)(function*(F){const{registrationPromise:H}=yield Ge(F);H&&(yield H)})).apply(this,arguments)}function pr(F){return et.create("missing-app-config-values",{valueName:F})}const Vr="installations",Cn=F=>{const H=F.getProvider("app").getImmediate(),de=function Nr(F){if(!F||!F.options)throw pr("App Configuration");if(!F.name)throw pr("App Name");const H=["projectId","apiKey","appId"];for(const de of H)if(!F.options[de])throw pr(de);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(H);return{app:H,appConfig:de,heartbeatServiceProvider:(0,ke._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},ye=F=>{const H=F.getProvider("app").getImmediate(),de=(0,ke._getProvider)(H,Vr).getImmediate();return{getId:()=>function Hi(F){return ri.apply(this,arguments)}(de),getToken:wt=>function Xi(F){return ki.apply(this,arguments)}(de,wt)}};(function Ur(){(0,ke._registerComponent)(new te.wA(Vr,Cn,"PUBLIC")),(0,ke._registerComponent)(new te.wA("installations-internal",ye,"PRIVATE"))})(),(0,ke.registerVersion)(Ie,Z),(0,ke.registerVersion)(Ie,Z,"esm2017");const qr="@firebase/remote-config",kr=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bn{constructor(H,de,Ue,wt){this.client=H,this.storage=de,this.storageCache=Ue,this.logger=wt}isCachedDataFresh(H,de){if(!de)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ue=Date.now()-de,wt=Ue<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${wt}.`),wt}fetch(H){var de=this;return(0,W.Z)(function*(){const[Ue,wt]=yield Promise.all([de.storage.getLastSuccessfulFetchTimestampMillis(),de.storage.getLastSuccessfulFetchResponse()]);if(wt&&de.isCachedDataFresh(H.cacheMaxAgeMillis,Ue))return wt;H.eTag=wt&&wt.eTag;const Rt=yield de.client.fetch(H),rn=[de.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Rt.status&&rn.push(de.storage.setLastSuccessfulFetchResponse(Rt)),yield Promise.all(rn),Rt})()}}function Yn(F=navigator){return F.languages&&F.languages[0]||F.language}class nr{constructor(H,de,Ue,wt,Rt,rn){this.firebaseInstallations=H,this.sdkVersion=de,this.namespace=Ue,this.projectId=wt,this.apiKey=Rt,this.appId=rn}fetch(H){var de=this;return(0,W.Z)(function*(){const[Ue,wt]=yield Promise.all([de.firebaseInstallations.getId(),de.firebaseInstallations.getToken()]),rn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${de.projectId}/namespaces/${de.namespace}:fetch?key=${de.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},or={sdk_version:de.sdkVersion,app_instance_id:Ue,app_instance_id_token:wt,app_id:de.appId,language_code:Yn()},ir={method:"POST",headers:$n,body:JSON.stringify(or)},Kr=fetch(rn,ir),mr=new Promise((Ia,al)=>{H.signal.addEventListener(()=>{const Zl=new Error("The operation was aborted.");Zl.name="AbortError",al(Zl)})});let yi;try{yield Promise.race([Kr,mr]),yi=yield Kr}catch(Ia){let al="fetch-client-network";throw"AbortError"===Ia.name&&(al="fetch-timeout"),kr.create(al,{originalErrorMessage:Ia.message})}let ti=yi.status;const ol=yi.headers.get("ETag")||void 0;let Cu,wa;if(200===yi.status){let Ia;try{Ia=yield yi.json()}catch(al){throw kr.create("fetch-client-parse",{originalErrorMessage:al.message})}Cu=Ia.entries,wa=Ia.state}if("INSTANCE_STATE_UNSPECIFIED"===wa?ti=500:"NO_CHANGE"===wa?ti=304:("NO_TEMPLATE"===wa||"EMPTY_CONFIG"===wa)&&(Cu={}),304!==ti&&200!==ti)throw kr.create("fetch-status",{httpStatus:ti});return{status:ti,eTag:ol,config:Cu}})()}}class ot{constructor(H,de){this.client=H,this.storage=de}fetch(H){var de=this;return(0,W.Z)(function*(){const Ue=(yield de.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return de.attemptFetch(H,Ue)})()}attemptFetch(H,{throttleEndTimeMillis:de,backoffCount:Ue}){var wt=this;return(0,W.Z)(function*(){yield function di(F,H){return new Promise((de,Ue)=>{const wt=Math.max(H-Date.now(),0),Rt=setTimeout(de,wt);F.addEventListener(()=>{clearTimeout(Rt),Ue(kr.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,de);try{const Rt=yield wt.client.fetch(H);return yield wt.storage.deleteThrottleMetadata(),Rt}catch(Rt){if(!function Li(F){if(!(F instanceof Te.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Rt))throw Rt;const rn={throttleEndTimeMillis:Date.now()+(0,Te.$s)(Ue),backoffCount:Ue+1};return yield wt.storage.setThrottleMetadata(rn),wt.attemptFetch(H,rn)}})()}}class Kt{constructor(H,de,Ue,wt,Rt){this.app=H,this._client=de,this._storageCache=Ue,this._storage=wt,this._logger=Rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cn(F,H){const de=F.target.error||void 0;return kr.create(H,{originalErrorMessage:de&&de.message})}const An="app_namespace_store";class ds{constructor(H,de,Ue,wt=function ur(){return new Promise((F,H)=>{try{const de=indexedDB.open("firebase_remote_config",1);de.onerror=Ue=>{H(cn(Ue,"storage-open"))},de.onsuccess=Ue=>{F(Ue.target.result)},de.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(An,{keyPath:"compositeKey"})}}catch(de){H(kr.create("storage-open",{originalErrorMessage:de}))}})}()){this.appId=H,this.appName=de,this.namespace=Ue,this.openDbPromise=wt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var de=this;return(0,W.Z)(function*(){const Ue=yield de.openDbPromise;return new Promise((wt,Rt)=>{const $n=Ue.transaction([An],"readonly").objectStore(An),or=de.createCompositeKey(H);try{const ir=$n.get(or);ir.onerror=Kr=>{Rt(cn(Kr,"storage-get"))},ir.onsuccess=Kr=>{const mr=Kr.target.result;wt(mr?mr.value:void 0)}}catch(ir){Rt(kr.create("storage-get",{originalErrorMessage:ir&&ir.message}))}})})()}set(H,de){var Ue=this;return(0,W.Z)(function*(){const wt=yield Ue.openDbPromise;return new Promise((Rt,rn)=>{const or=wt.transaction([An],"readwrite").objectStore(An),ir=Ue.createCompositeKey(H);try{const Kr=or.put({compositeKey:ir,value:de});Kr.onerror=mr=>{rn(cn(mr,"storage-set"))},Kr.onsuccess=()=>{Rt()}}catch(Kr){rn(kr.create("storage-set",{originalErrorMessage:Kr&&Kr.message}))}})})()}delete(H){var de=this;return(0,W.Z)(function*(){const Ue=yield de.openDbPromise;return new Promise((wt,Rt)=>{const $n=Ue.transaction([An],"readwrite").objectStore(An),or=de.createCompositeKey(H);try{const ir=$n.delete(or);ir.onerror=Kr=>{Rt(cn(Kr,"storage-delete"))},ir.onsuccess=()=>{wt()}}catch(ir){Rt(kr.create("storage-delete",{originalErrorMessage:ir&&ir.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class es{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,W.Z)(function*(){const de=H.storage.getLastFetchStatus(),Ue=H.storage.getLastSuccessfulFetchTimestampMillis(),wt=H.storage.getActiveConfig(),Rt=yield de;Rt&&(H.lastFetchStatus=Rt);const rn=yield Ue;rn&&(H.lastSuccessfulFetchTimestampMillis=rn);const $n=yield wt;$n&&(H.activeConfig=$n)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function gs(){return Do.apply(this,arguments)}function Do(){return(Do=(0,W.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(F){return!1}})).apply(this,arguments)}!function Gi(){(0,ke._registerComponent)(new te.wA("remote-config",function F(H,{instanceIdentifier:de}){const Ue=H.getProvider("app").getImmediate(),wt=H.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kr.create("registration-window");if(!(0,Te.hl)())throw kr.create("indexed-db-unavailable");const{projectId:Rt,apiKey:rn,appId:$n}=Ue.options;if(!Rt)throw kr.create("registration-project-id");if(!rn)throw kr.create("registration-api-key");if(!$n)throw kr.create("registration-app-id");const or=new ds($n,Ue.name,de=de||"firebase"),ir=new es(or),Kr=new _e.Yd(qr);Kr.logLevel=_e.in.ERROR;const mr=new nr(wt,ke.SDK_VERSION,de,Rt,rn,$n),yi=new ot(mr,or),ti=new bn(yi,or,ir,Kr),ol=new Kt(Ue,ti,ir,or,Kr);return function ve(F){const H=(0,Te.m9)(F);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(ol),ol},"PUBLIC").setMultipleInstances(!0)),(0,ke.registerVersion)(qr,"0.3.8"),(0,ke.registerVersion)(qr,"0.3.8","esm2017")}();const xs="/firebase-messaging-sw.js",li="/firebase-cloud-messaging-push-scope",js="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",si="google.c.a.c_id",Ps="google.c.a.c_l",so="google.c.a.ts",oo="google.c.a.e";var Tr=(()=>{return(F=Tr||(Tr={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Tr;var F})();function zi(F){const H=new Uint8Array(F);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hs(F){const de=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ue=atob(de),wt=new Uint8Array(Ue.length);for(let Rt=0;Rt<Ue.length;++Rt)wt[Rt]=Ue.charCodeAt(Rt);return wt}const Ri="fcm_token_details_db",Qr="fcm_token_object_Store";function Zs(F){return ms.apply(this,arguments)}function ms(){return ms=(0,W.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Rt=>Rt.name).includes(Ri))return null;let H=null;return(yield(0,re.X3)(Ri,5,{upgrade:(Ue=(0,W.Z)(function*(wt,Rt,rn,$n){var or;if(Rt<2||!wt.objectStoreNames.contains(Qr))return;const ir=$n.objectStore(Qr),Kr=yield ir.index("fcmSenderId").get(F);if(yield ir.clear(),Kr)if(2===Rt){const mr=Kr;if(!mr.auth||!mr.p256dh||!mr.endpoint)return;H={token:mr.fcmToken,createTime:null!==(or=mr.createTime)&&void 0!==or?or:Date.now(),subscriptionOptions:{auth:mr.auth,p256dh:mr.p256dh,endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:"string"==typeof mr.vapidKey?mr.vapidKey:zi(mr.vapidKey)}}}else if(3===Rt){const mr=Kr;H={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:zi(mr.auth),p256dh:zi(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:zi(mr.vapidKey)}}}else if(4===Rt){const mr=Kr;H={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:zi(mr.auth),p256dh:zi(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:zi(mr.vapidKey)}}}}),function(Rt,rn,$n,or){return Ue.apply(this,arguments)})})).close(),yield(0,re.Lj)(Ri),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),Ko(H)?H:null;var Ue}),ms.apply(this,arguments)}function Ko(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:H}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const oi="firebase-messaging-store";let ks=null;function Er(){return ks||(ks=(0,re.X3)("firebase-messaging-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(oi)}})),ks}function U(F){return ae.apply(this,arguments)}function ae(){return(ae=(0,W.Z)(function*(F){const H=Yt(F),Ue=yield(yield Er()).transaction(oi).objectStore(oi).get(H);if(Ue)return Ue;{const wt=yield Zs(F.appConfig.senderId);if(wt)return yield $(F,wt),wt}})).apply(this,arguments)}function $(F,H){return fe.apply(this,arguments)}function fe(){return(fe=(0,W.Z)(function*(F,H){const de=Yt(F),wt=(yield Er()).transaction(oi,"readwrite");return yield wt.objectStore(oi).put(H,de),yield wt.done,H})).apply(this,arguments)}function Je(F){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,W.Z)(function*(F){const H=Yt(F),Ue=(yield Er()).transaction(oi,"readwrite");yield Ue.objectStore(oi).delete(H),yield Ue.done})).apply(this,arguments)}function Yt({appConfig:F}){return F.appId}const Jn=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sr(F,H){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,W.Z)(function*(F,H){const de=yield ys(F),Ue=Fs(H),wt={method:"POST",headers:de,body:JSON.stringify(Ue)};let Rt;try{Rt=yield(yield fetch(os(F.appConfig),wt)).json()}catch(rn){throw Jn.create("token-subscribe-failed",{errorInfo:rn})}if(Rt.error)throw Jn.create("token-subscribe-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw Jn.create("token-subscribe-no-token");return Rt.token})).apply(this,arguments)}function rr(F,H){return mi.apply(this,arguments)}function mi(){return(mi=(0,W.Z)(function*(F,H){const de=yield ys(F),Ue=Fs(H.subscriptionOptions),wt={method:"PATCH",headers:de,body:JSON.stringify(Ue)};let Rt;try{Rt=yield(yield fetch(`${os(F.appConfig)}/${H.token}`,wt)).json()}catch(rn){throw Jn.create("token-update-failed",{errorInfo:rn})}if(Rt.error)throw Jn.create("token-update-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw Jn.create("token-update-no-token");return Rt.token})).apply(this,arguments)}function Wr(F,H){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,W.Z)(function*(F,H){const Ue={method:"DELETE",headers:yield ys(F)};try{const Rt=yield(yield fetch(`${os(F.appConfig)}/${H}`,Ue)).json();if(Rt.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:Rt.error.message})}catch(wt){throw Jn.create("token-unsubscribe-failed",{errorInfo:wt})}})).apply(this,arguments)}function os({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function ys(F){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,W.Z)(function*({appConfig:F,installations:H}){const de=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${de}`})})).apply(this,arguments)}function Fs({p256dh:F,auth:H,endpoint:de,vapidKey:Ue}){const wt={web:{endpoint:de,auth:H,p256dh:F}};return Ue!==js&&(wt.web.applicationPubKey=Ue),wt}const G=6048e5;function B(F){return L.apply(this,arguments)}function L(){return(L=(0,W.Z)(function*(F){const H=yield oe(F.swRegistration,F.vapidKey),de={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:H.endpoint,auth:zi(H.getKey("auth")),p256dh:zi(H.getKey("p256dh"))},Ue=yield U(F.firebaseDependencies);if(Ue){if(ln(Ue.subscriptionOptions,de))return Date.now()>=Ue.createTime+G?E(F,{token:Ue.token,createTime:Date.now(),subscriptionOptions:de}):Ue.token;try{yield Wr(F.firebaseDependencies,Ue.token)}catch(wt){console.warn(wt)}return b(F.firebaseDependencies,de)}return b(F.firebaseDependencies,de)})).apply(this,arguments)}function he(F){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,W.Z)(function*(F){const H=yield U(F.firebaseDependencies);H&&(yield Wr(F.firebaseDependencies,H.token),yield Je(F.firebaseDependencies));const de=yield F.swRegistration.pushManager.getSubscription();return!de||de.unsubscribe()})).apply(this,arguments)}function E(F,H){return R.apply(this,arguments)}function R(){return(R=(0,W.Z)(function*(F,H){try{const de=yield rr(F.firebaseDependencies,H),Ue=Object.assign(Object.assign({},H),{token:de,createTime:Date.now()});return yield $(F.firebaseDependencies,Ue),de}catch(de){throw yield he(F),de}})).apply(this,arguments)}function b(F,H){return j.apply(this,arguments)}function j(){return(j=(0,W.Z)(function*(F,H){const Ue={token:yield Sr(F,H),createTime:Date.now(),subscriptionOptions:H};return yield $(F,Ue),Ue.token})).apply(this,arguments)}function oe(F,H){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,W.Z)(function*(F,H){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hs(H)})})).apply(this,arguments)}function ln(F,H){return H.vapidKey===F.vapidKey&&H.endpoint===F.endpoint&&H.auth===F.auth&&H.p256dh===F.p256dh}function Rn(F){const H={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function cr(F,H){if(!H.notification)return;F.notification={};const de=H.notification.title;de&&(F.notification.title=de);const Ue=H.notification.body;Ue&&(F.notification.body=Ue);const wt=H.notification.image;wt&&(F.notification.image=wt)}(H,F),function dr(F,H){!H.data||(F.data=H.data)}(H,F),function Bi(F,H){if(!H.fcmOptions)return;F.fcmOptions={};const de=H.fcmOptions.link;de&&(F.fcmOptions.link=de);const Ue=H.fcmOptions.analytics_label;Ue&&(F.fcmOptions.analyticsLabel=Ue)}(H,F),H}function Oi(F){return"object"==typeof F&&!!F&&si in F}function Wi(F,H){const de=[];for(let Ue=0;Ue<F.length;Ue++)de.push(F.charAt(Ue)),Ue<H.length&&de.push(H.charAt(Ue));return de.join("")}function bi(F){return Jn.create("missing-app-config-values",{valueName:F})}Wi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _s{constructor(H,de,Ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const wt=function Ki(F){if(!F||!F.options)throw bi("App Configuration Object");if(!F.name)throw bi("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:de}=F;for(const Ue of H)if(!de[Ue])throw bi(Ue);return{appName:F.name,projectId:de.projectId,apiKey:de.apiKey,appId:de.appId,senderId:de.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:wt,installations:de,analyticsProvider:Ue}}_delete(){return Promise.resolve()}}function vs(F){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,W.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(xs,{scope:li}),F.swRegistration.update().catch(()=>{})}catch(H){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:H.message})}})).apply(this,arguments)}function fo(F,H){return wl.apply(this,arguments)}function wl(){return(wl=(0,W.Z)(function*(F,H){if(!H&&!F.swRegistration&&(yield vs(F)),H||!F.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");F.swRegistration=H}})).apply(this,arguments)}function ga(F,H){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,W.Z)(function*(F,H){H?F.vapidKey=H:F.vapidKey||(F.vapidKey=js)})).apply(this,arguments)}function Yo(){return(Yo=(0,W.Z)(function*(F,H){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield ga(F,null==H?void 0:H.vapidKey),yield fo(F,null==H?void 0:H.serviceWorkerRegistration),B(F)})).apply(this,arguments)}function el(F,H,de){return Na.apply(this,arguments)}function Na(){return(Na=(0,W.Z)(function*(F,H,de){const Ue=qo(H);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(Ue,{message_id:de[si],message_name:de[Ps],message_time:de[so],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qo(F){switch(F){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Il(){return(Il=(0,W.Z)(function*(F,H){const de=H.data;if(!de.isFirebaseMessaging)return;F.onMessageHandler&&de.messageType===Tr.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(Rn(de)):F.onMessageHandler.next(Rn(de)));const Ue=de.data;Oi(Ue)&&"1"===Ue[oo]&&(yield el(F,de.messageType,Ue))})).apply(this,arguments)}const Zo="@firebase/messaging",zl=F=>{const H=new _s(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",de=>function oc(F,H){return Il.apply(this,arguments)}(H,de)),H},po=F=>{const H=F.getProvider("messaging").getImmediate();return{getToken:Ue=>function ao(F,H){return Yo.apply(this,arguments)}(H,Ue)}};function tl(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,W.Z)(function*(){try{yield(0,Te.eu)()}catch(F){return!1}return"undefined"!=typeof window&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cl(){(0,ke._registerComponent)(new te.wA("messaging",zl,"PUBLIC")),(0,ke._registerComponent)(new te.wA("messaging-internal",po,"PRIVATE")),(0,ke.registerVersion)(Zo,"0.9.13"),(0,ke.registerVersion)(Zo,"0.9.13","esm2017")}();const Jo="analytics",Qs="firebase_id",go="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ka="https://www.googletagmanager.com/gtag/js",Vi=new _e.Yd("@firebase/analytics");function lc(F){return Promise.all(F.map(H=>H.catch(de=>de)))}function To(F,H){const de=document.createElement("script");de.src=`${ka}?l=${F}&id=${H}`,de.async=!0,document.head.appendChild(de)}function Tl(F,H,de,Ue,wt,Rt){return ns.apply(this,arguments)}function ns(){return(ns=(0,W.Z)(function*(F,H,de,Ue,wt,Rt){const rn=Ue[wt];try{if(rn)yield H[rn];else{const or=(yield lc(de)).find(ir=>ir.measurementId===wt);or&&(yield H[or.appId])}}catch($n){Vi.error($n)}F("config",wt,Rt)})).apply(this,arguments)}function So(F,H,de,Ue,wt){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,W.Z)(function*(F,H,de,Ue,wt){try{let Rt=[];if(wt&&wt.send_to){let rn=wt.send_to;Array.isArray(rn)||(rn=[rn]);const $n=yield lc(de);for(const or of rn){const ir=$n.find(mr=>mr.measurementId===or),Kr=ir&&H[ir.appId];if(!Kr){Rt=[];break}Rt.push(Kr)}}0===Rt.length&&(Rt=Object.values(H)),yield Promise.all(Rt),F("event",Ue,wt||{})}catch(Rt){Vi.error(Rt)}})).apply(this,arguments)}function pn(){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(ka))return H;return null}const Ts=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Kl=new class zn{constructor(H={},de=1e3){this.throttleMetadata=H,this.intervalMillis=de}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,de){this.throttleMetadata[H]=de}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function Dn(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function St(F){return en.apply(this,arguments)}function en(){return(en=(0,W.Z)(function*(F){var H;const{appId:de,apiKey:Ue}=F,wt={method:"GET",headers:Dn(Ue)},Rt=go.replace("{app-id}",de),rn=yield fetch(Rt,wt);if(200!==rn.status&&304!==rn.status){let $n="";try{const or=yield rn.json();(null===(H=or.error)||void 0===H?void 0:H.message)&&($n=or.error.message)}catch(or){}throw Ts.create("config-fetch-failed",{httpStatus:rn.status,responseMessage:$n})}return rn.json()})).apply(this,arguments)}function br(F){return ya.apply(this,arguments)}function ya(){return(ya=(0,W.Z)(function*(F,H=Kl,de){const{appId:Ue,apiKey:wt,measurementId:Rt}=F.options;if(!Ue)throw Ts.create("no-app-id");if(!wt){if(Rt)return{measurementId:Rt,appId:Ue};throw Ts.create("no-api-key")}const rn=H.getThrottleMetadata(Ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$n=new Wc;return setTimeout((0,W.Z)(function*(){$n.abort()}),void 0!==de?de:6e4),La({appId:Ue,apiKey:wt,measurementId:Rt},rn,$n,H)})).apply(this,arguments)}function La(F,H,de){return uc.apply(this,arguments)}function uc(){return(uc=(0,W.Z)(function*(F,{throttleEndTimeMillis:H,backoffCount:de},Ue,wt=Kl){const{appId:Rt,measurementId:rn}=F;try{yield Sl(Ue,H)}catch($n){if(rn)return Vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rn} provided in the "measurementId" field in the local Firebase config. [${$n.message}]`),{appId:Rt,measurementId:rn};throw $n}try{const $n=yield St(F);return wt.deleteThrottleMetadata(Rt),$n}catch($n){if(!cc($n)){if(wt.deleteThrottleMetadata(Rt),rn)return Vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rn} provided in the "measurementId" field in the local Firebase config. [${$n.message}]`),{appId:Rt,measurementId:rn};throw $n}const or=503===Number($n.customData.httpStatus)?(0,Te.$s)(de,wt.intervalMillis,30):(0,Te.$s)(de,wt.intervalMillis),ir={throttleEndTimeMillis:Date.now()+or,backoffCount:de+1};return wt.setThrottleMetadata(Rt,ir),Vi.debug(`Calling attemptFetch again in ${or} millis`),La(F,ir,Ue,wt)}})).apply(this,arguments)}function Sl(F,H){return new Promise((de,Ue)=>{const wt=Math.max(H-Date.now(),0),Rt=setTimeout(de,wt);F.addEventListener(()=>{clearTimeout(Rt),Ue(Ts.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function cc(F){if(!(F instanceof Te.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Wc{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}function O(){return A.apply(this,arguments)}function A(){return(A=(0,W.Z)(function*(){if(!(0,Te.hl)())return Vi.warn(Ts.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(F){return Vi.warn(Ts.create("indexeddb-unavailable",{errorInfo:F}).message),!1}return!0})).apply(this,arguments)}function V(){return(V=(0,W.Z)(function*(F,H,de,Ue,wt,Rt,rn){var $n;const or=br(F);or.then(ti=>{de[ti.measurementId]=ti.appId,F.options.measurementId&&ti.measurementId!==F.options.measurementId&&Vi.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ti=>Vi.error(ti)),H.push(or);const ir=O().then(ti=>{if(ti)return Ue.getId()}),[Kr,mr]=yield Promise.all([or,ir]);pn()||To(Rt,Kr.measurementId),wt("js",new Date);const yi=null!==($n=null==rn?void 0:rn.config)&&void 0!==$n?$n:{};return yi.origin="firebase",yi.update=!0,null!=mr&&(yi[Qs]=mr),wt("config",Kr.measurementId,yi),Kr.measurementId})).apply(this,arguments)}class K{constructor(H){this.app=H}_delete(){return delete ue[this.app.options.appId],Promise.resolve()}}let ue={},xe=[];const qe={};let _n,jn,jt="dataLayer",Rr=!1;function Or(F,H,de){!function bs(){const F=[];if((0,Te.ru)()&&F.push("This is a browser extension environment."),(0,Te.zI)()||F.push("Cookies are not available."),F.length>0){const H=F.map((Ue,wt)=>`(${wt+1}) ${Ue}`).join(" "),de=Ts.create("invalid-analytics-context",{errorInfo:H});Vi.warn(de.message)}}();const Ue=F.options.appId;if(!Ue)throw Ts.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Ts.create("no-api-key");Vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ue[Ue])throw Ts.create("already-exists",{id:Ue});if(!Rr){!function nl(F){let H=[];Array.isArray(window[F])?H=window[F]:window[F]=H}(jt);const{wrappedGtag:Rt,gtagCore:rn}=function rl(F,H,de,Ue,wt){let Rt=function(...rn){window[Ue].push(arguments)};return window[wt]&&"function"==typeof window[wt]&&(Rt=window[wt]),window[wt]=function Eu(F,H,de,Ue){function Rt(){return(Rt=(0,W.Z)(function*(rn,$n,or){try{"event"===rn?yield So(F,H,de,$n,or):"config"===rn?yield Tl(F,H,de,Ue,$n,or):F("set",$n)}catch(ir){Vi.error(ir)}})).apply(this,arguments)}return function wt(rn,$n,or){return Rt.apply(this,arguments)}}(Rt,F,H,de),{gtagCore:Rt,wrappedGtag:window[wt]}}(ue,xe,qe,jt,"gtag");jn=Rt,_n=rn,Rr=!0}return ue[Ue]=function T(F,H,de,Ue,wt,Rt,rn){return V.apply(this,arguments)}(F,xe,qe,H,_n,jt,de),new K(F)}function Yi(){return(Yi=(0,W.Z)(function*(F,H,de,Ue,wt){if(wt&&wt.global)F("event",de,Ue);else{const Rt=yield H;F("event",de,Object.assign(Object.assign({},Ue),{send_to:Rt}))}})).apply(this,arguments)}function Rd(){return ko.apply(this,arguments)}function ko(){return(ko=(0,W.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(F){return!1}})).apply(this,arguments)}const Va="@firebase/analytics";!function _a(){(0,ke._registerComponent)(new te.wA(Jo,(H,{options:de})=>Or(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),de),"PUBLIC")),(0,ke._registerComponent)(new te.wA("analytics-internal",function F(H){try{const de=H.getProvider(Jo).getImmediate();return{logEvent:(Ue,wt,Rt)=>function Ba(F,H,de,Ue){F=(0,Te.m9)(F),function ea(F,H,de,Ue,wt){return Yi.apply(this,arguments)}(jn,ue[F.app.options.appId],H,de,Ue).catch(wt=>Vi.error(wt))}(de,Ue,wt,Rt)}}catch(de){throw Ts.create("interop-component-reg-failed",{reason:de})}},"PRIVATE")),(0,ke.registerVersion)(Va,"0.7.9"),(0,ke.registerVersion)(Va,"0.7.9","esm2017")}();var Ao=N(341),xo=N(353),ls=N(2868),va=N(2102),$i=N(8915);const Ea=new c.GfV("7.3.0"),$a="__angularfire_symbol__analyticsIsSupportedValue",Pi="__angularfire_symbol__analyticsIsSupported",Ii="__angularfire_symbol__remoteConfigIsSupportedValue",sl="__angularfire_symbol__remoteConfigIsSupported",yo="__angularfire_symbol__messagingIsSupportedValue",ra="__angularfire_symbol__messagingIsSupported";function wu(F,H,de){if(H){if(1===H.length)return H[0];const Rt=H.filter(rn=>rn.app===de);if(1===Rt.length)return Rt[0]}return de.container.getProvider(F).getImmediate({optional:!0})}globalThis[Pi]||(globalThis[Pi]=Rd().then(F=>globalThis[$a]=F).catch(()=>globalThis[$a]=!1)),globalThis[ra]||(globalThis[ra]=tl().then(F=>globalThis[yo]=F).catch(()=>globalThis[yo]=!1)),globalThis[sl]||(globalThis[sl]=gs().then(F=>globalThis[Ii]=F).catch(()=>globalThis[Ii]=!1));const Rs=(F,H)=>{const de=H?[H]:(0,z.C6)(),Ue=[];return de.forEach(wt=>{wt.container.getProvider(F).instances.forEach(rn=>{Ue.includes(rn)||Ue.push(rn)})}),Ue};function Ss(){}class gr{constructor(H,de=Ao.N){this.zone=H,this.delegate=de}now(){return this.delegate.now()}schedule(H,de,Ue){const wt=this.zone;return this.delegate.schedule(function(rn){wt.runGuarded(()=>{H.apply(this,[rn])})},de,Ue)}}class ia{constructor(H){this.zone=H,this.task=null}call(H,de){const Ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),de.pipe((0,ls.b)({next:Ue,complete:Ue,error:Ue})).subscribe(H).add(Ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pd=(()=>{class F{constructor(de){this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new gr(Zone.current)),this.insideAngular=de.run(()=>new gr(Zone.current,xo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(de){return new(de||F)(c.LFG(c.R0b))},F.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function _o(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Iu(F){return F.pipe((0,va.QV)(_o().outsideAngular))}function zs(F){return _o(),function ba(F){return function(de){return(de=de.lift(new ia(F.ngZone))).pipe((0,$i.R)(F.outsideAngular),(0,va.QV)(F.insideAngular))}}(_o())(F)}},5525:(Qt,lt,N)=>{"use strict";N.d(lt,{u7:()=>_u,Jj:()=>bl,IX:()=>yu,my:()=>Us,xU:()=>mn,Lz:()=>$c,WA:()=>en,F8:()=>Sd,$q:()=>Mn,W:()=>_r,EK:()=>gn,PU:()=>rc,l7:()=>ko,Ky:()=>wn,Xb:()=>Yi,Cf:()=>_i,K9:()=>Kl,Me:()=>Yl,yq:()=>Ts,Wi:()=>ug,ET:()=>Ay,Ab:()=>ty,vr:()=>_m,Fc:()=>cm,hJ:()=>Td,B$:()=>Oo,at:()=>dg,oe:()=>e_,AK:()=>Ry,TF:()=>gg,JU:()=>pa,ST:()=>lm,fH:()=>mf,Ix:()=>Ym,Wu:()=>Dy,Lx:()=>Ky,qY:()=>$s,GL:()=>bf,QT:()=>ic,kl:()=>Sy,Xk:()=>Zy,PL:()=>Xy,UQ:()=>Qy,zN:()=>Jy,nP:()=>ny,b9:()=>wy,vh:()=>Wy,Pb:()=>hp,L$:()=>Ey,cf:()=>t_,sc:()=>xy,Xo:()=>Ef,IO:()=>no,iE:()=>om,Eo:()=>dp,i3:()=>My,Bt:()=>ey,pl:()=>Jm,Ub:()=>rl,qK:()=>zo,TQ:()=>vp,e0:()=>Iy,r7:()=>_g,Mx:()=>dm,ar:()=>As});var re,c=N(5861),z=N(9681),W=N(4859),ke=N(1877),Te=N(2090),te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_e={},Ie=Ie||{},Z=te||self;function pe(){}function ee(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function le(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var He="closure_uid_"+(1e9*Math.random()>>>0),De=0;function Oe(i,e,n){return i.call.apply(i.bind,arguments)}function Le(i,e,n){if(!i)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function et(i,e,n){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oe:Le).apply(null,arguments)}function rt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var l=n.slice();return l.push.apply(l,arguments),i.apply(this,l)}}function Ye(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(l,h,_){for(var I=Array(arguments.length-2),P=2;P<arguments.length;P++)I[P-2]=arguments[P];return e.prototype[h].apply(l,I)}}function yt(){this.s=this.s,this.o=this.o}var gt={};yt.prototype.s=!1,yt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Fe(i){return Object.prototype.hasOwnProperty.call(i,He)&&i[He]||(i[He]=++De)}(this);delete gt[i]}},yt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _t=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Ee=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const l=i.length,h="string"==typeof i?i.split(""):i;for(let _=0;_<l;_++)_ in h&&e.call(n,h[_],_,i)};function we(i){return Array.prototype.concat.apply([],arguments)}function be(i){const e=i.length;if(0<e){const n=Array(e);for(let l=0;l<e;l++)n[l]=i[l];return n}return[]}function ge(i){return/^[\s\xa0]*$/.test(i)}var Ot,Be=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function $e(i,e){return-1!=i.indexOf(e)}function Et(i,e){return i<e?-1:i>e?1:0}e:{var ut=Z.navigator;if(ut){var ze=ut.userAgent;if(ze){Ot=ze;break e}}Ot=""}function q(i,e,n){for(const l in i)e.call(n,i[l],l,i)}function Ce(i){const e={};for(const n in i)e[n]=i[n];return e}var Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Me(i,e){let n,l;for(let h=1;h<arguments.length;h++){for(n in l=arguments[h],l)i[n]=l[n];for(let _=0;_<Ze.length;_++)n=Ze[_],Object.prototype.hasOwnProperty.call(l,n)&&(i[n]=l[n])}}function st(i){return st[" "](i),i}st[" "]=pe;var Bn,i,ct=$e(Ot,"Opera"),ft=$e(Ot,"Trident")||$e(Ot,"MSIE"),Nt=$e(Ot,"Edge"),zt=Nt||ft,Jt=$e(Ot,"Gecko")&&!($e(Ot.toLowerCase(),"webkit")&&!$e(Ot,"Edge"))&&!($e(Ot,"Trident")||$e(Ot,"MSIE"))&&!$e(Ot,"Edge"),hn=$e(Ot.toLowerCase(),"webkit")&&!$e(Ot,"Edge");function Fn(){var i=Z.document;return i?i.documentMode:void 0}e:{var er="",Zn=(i=Ot,Jt?/rv:([^\);]+)(\)|;)/.exec(i):Nt?/Edge\/([\d\.]+)/.exec(i):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hn?/WebKit\/(\S+)/.exec(i):ct?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Zn&&(er=Zn?Zn[1]:""),ft){var yn=Fn();if(null!=yn&&yn>parseFloat(er)){Bn=String(yn);break e}}Bn=er}var Xr={};var Pn=Z.document&&ft&&(Fn()||parseInt(Bn,10))||void 0,bt=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Z.addEventListener("test",pe,e),Z.removeEventListener("test",pe,e)}catch(n){}return i}();function Ge(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Ae(i,e){if(Ge.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,l=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Jt){e:{try{st(e.nodeName);var h=!0;break e}catch(_){}h=!1}h||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Wt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ae.Z.h.call(this)}}Ge.prototype.h=function(){this.defaultPrevented=!0},Ye(Ae,Ge);var Wt={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function dn(i,e,n,l,h){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!l,this.ia=h,this.key=++Gt,this.ca=this.fa=!1}function Ln(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Vn(i){this.src=i,this.g={},this.h=0}function Tn(i,e){var n=e.type;if(n in i.g){var _,l=i.g[n],h=_t(l,e);(_=0<=h)&&Array.prototype.splice.call(l,h,1),_&&(Ln(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ai(i,e,n,l){for(var h=0;h<i.length;++h){var _=i[h];if(!_.ca&&_.listener==e&&_.capture==!!n&&_.ia==l)return h}return-1}Vn.prototype.add=function(i,e,n,l,h){var _=i.toString();(i=this.g[_])||(i=this.g[_]=[],this.h++);var I=ai(i,e,l,h);return-1<I?(e=i[I],n||(e.fa=!1)):((e=new dn(e,this.src,_,!!l,h)).fa=n,i.push(e)),e};var Lr="closure_lm_"+(1e6*Math.random()|0),qn={};function Re(i,e,n,l,h){if(l&&l.once)return Bt(i,e,n,l,h);if(Array.isArray(e)){for(var _=0;_<e.length;_++)Re(i,e[_],n,l,h);return null}return n=fr(n),i&&i[At]?i.N(e,n,le(l)?!!l.capture:!!l,h):Ke(i,e,n,!1,l,h)}function Ke(i,e,n,l,h,_){if(!e)throw Error("Invalid event type");var I=le(h)?!!h.capture:!!h,P=Sn(i);if(P||(i[Lr]=P=new Vn(i)),(n=P.add(e,n,l,I,_)).proxy)return n;if(l=function Qe(){var e=En;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=l,l.src=i,l.listener=n,i.addEventListener)bt||(h=I),void 0===h&&(h=!1),i.addEventListener(e.toString(),l,h);else if(i.attachEvent)i.attachEvent(qt(e.toString()),l);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(l)}return n}function Bt(i,e,n,l,h){if(Array.isArray(e)){for(var _=0;_<e.length;_++)Bt(i,e[_],n,l,h);return null}return n=fr(n),i&&i[At]?i.O(e,n,le(l)?!!l.capture:!!l,h):Ke(i,e,n,!0,l,h)}function We(i,e,n,l,h){if(Array.isArray(e))for(var _=0;_<e.length;_++)We(i,e[_],n,l,h);else l=le(l)?!!l.capture:!!l,n=fr(n),i&&i[At]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=ai(_=i.g[e],n,l,h))&&(Ln(_[n]),Array.prototype.splice.call(_,n,1),0==_.length&&(delete i.g[e],i.h--))):i&&(i=Sn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ai(e,n,l,h)),(n=-1<i?e[i]:null)&&pt(n))}function pt(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[At])Tn(e.i,i);else{var n=i.type,l=i.proxy;e.removeEventListener?e.removeEventListener(n,l,i.capture):e.detachEvent?e.detachEvent(qt(n),l):e.addListener&&e.removeListener&&e.removeListener(l),(n=Sn(e))?(Tn(n,i),0==n.h&&(n.src=null,e[Lr]=null)):Ln(i)}}}function qt(i){return i in qn?qn[i]:qn[i]="on"+i}function En(i,e){if(i.ca)i=!0;else{e=new Ae(e,this);var n=i.listener,l=i.ia||i.src;i.fa&&pt(i),i=n.call(l,e)}return i}function Sn(i){return(i=i[Lr])instanceof Vn?i:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(i){return"function"==typeof i?i:(i[On]||(i[On]=function(e){return i.handleEvent(e)}),i[On])}function un(){yt.call(this),this.i=new Vn(this),this.P=this,this.I=null}function an(i,e){var n,l=i.I;if(l)for(n=[];l;l=l.I)n.push(l);if(i=i.P,l=e.type||e,"string"==typeof e)e=new Ge(e,i);else if(e instanceof Ge)e.target=e.target||i;else{var h=e;Me(e=new Ge(l,i),h)}if(h=!0,n)for(var _=n.length-1;0<=_;_--){var I=e.g=n[_];h=Cr(I,l,!0,e)&&h}if(h=Cr(I=e.g=i,l,!0,e)&&h,h=Cr(I,l,!1,e)&&h,n)for(_=0;_<n.length;_++)h=Cr(I=e.g=n[_],l,!1,e)&&h}function Cr(i,e,n,l){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,_=0;_<e.length;++_){var I=e[_];if(I&&!I.ca&&I.capture==n){var P=I.listener,Q=I.ia||I.src;I.fa&&Tn(i.i,I),h=!1!==P.call(Q,l)&&h}}return h&&!l.defaultPrevented}Ye(un,yt),un.prototype[At]=!0,un.prototype.removeEventListener=function(i,e,n,l){We(this,i,e,n,l)},un.prototype.M=function(){if(un.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],l=0;l<n.length;l++)Ln(n[l]);delete i.g[e],i.h--}}this.I=null},un.prototype.N=function(i,e,n,l){return this.i.add(String(i),e,!1,n,l)},un.prototype.O=function(i,e,n,l){return this.i.add(String(i),e,!0,n,l)};var Hi=Z.JSON.stringify;function ri(){var i=Ji;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var xr,ki=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Hr,i=>i.reset());class Hr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vi(i){Z.setTimeout(()=>{throw i},0)}function fi(i,e){xr||function Ei(){var i=Z.Promise.resolve(void 0);xr=function(){i.then(rs)}}(),Qi||(xr(),Qi=!0),Ji.add(i,e)}var Qi=!1,Ji=new class Xi{constructor(){this.h=this.g=null}add(e,n){const l=ki.get();l.set(e,n),this.h?this.h.next=l:this.g=l,this.h=l}};function rs(){for(var i;i=ri();){try{i.h.call(i.g)}catch(n){vi(n)}var e=ki;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Qi=!1}function Br(i,e){un.call(this),this.h=i||1,this.g=e||Z,this.j=et(this.kb,this),this.l=Date.now()}function Nr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function pr(i,e,n){if("function"==typeof i)n&&(i=et(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=et(i.handleEvent,i)}return 2147483647<Number(e)?-1:Z.setTimeout(i,e||0)}function Vr(i){i.g=pr(()=>{i.g=null,i.i&&(i.i=!1,Vr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ye(Br,un),(re=Br.prototype).da=!1,re.S=null,re.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(Nr(this),this.start()))}},re.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.M=function(){Br.Z.M.call(this),Nr(this),delete this.g};class nn extends yt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vr(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(i){yt.call(this),this.h=i,this.g={}}Ye(Cn,yt);var ye=[];function Ur(i,e,n,l){Array.isArray(n)||(n&&(ye[0]=n.toString()),n=ye);for(var h=0;h<n.length;h++){var _=Re(e,n[h],l||i.handleEvent,!1,i.h||i);if(!_)break;i.g[_.key]=_}}function qr(i){q(i.g,function(e,n){this.g.hasOwnProperty(n)&&pt(e)},i),i.g={}}function sr(){this.g=!0}function tr(i,e,n,l){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var l=n[i];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var _=h[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var I=1;I<h.length;I++)h[I]=""}}}return Hi(n)}catch(P){return e}}(i,n)+(l?" "+l:"")})}Cn.prototype.M=function(){Cn.Z.M.call(this),qr(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sr.prototype.Aa=function(){this.g=!1},sr.prototype.info=function(){};var Gr={},ci=null;function Fi(){return ci=ci||new un}function Si(i){Ge.call(this,Gr.Ma,i)}function zr(i){const e=Fi();an(e,new Si(e,i))}function pi(i,e){Ge.call(this,Gr.STAT_EVENT,i),this.stat=e}function Dr(i){const e=Fi();an(e,new pi(e,i))}function ne(i,e){Ge.call(this,Gr.Na,i),this.size=e}function ve(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){i()},e)}Gr.Ma="serverreachability",Ye(Si,Ge),Gr.STAT_EVENT="statevent",Ye(pi,Ge),Gr.Na="timingevent",Ye(ne,Ge);var tt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Se(){}function dt(){}Se.prototype.h=null;var fn,Ft={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xt(){Ge.call(this,"d")}function Ut(){Ge.call(this,"c")}function bn(){}function Yn(i,e,n,l){this.l=i,this.j=e,this.m=n,this.X=l||1,this.V=new Cn(this),this.P=di,this.W=new Br(i=zt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}Ye(xt,Ge),Ye(Ut,Ge),Ye(bn,Se),bn.prototype.g=function(){return new XMLHttpRequest},bn.prototype.i=function(){return{}},fn=new bn;var di=45e3,Li={},ot={};function Xe(i,e,n){i.K=1,i.v=zi(si(e)),i.s=n,i.U=!0,Ct(i,null)}function Ct(i,e){i.F=Date.now(),lr(i),i.A=si(i.v);var n=i.A,l=i.X;Array.isArray(l)||(l=[String(l)]),$(n.h,"t",l),i.C=0,n=i.l.H,i.h=new nr,i.g=Qo(i.l,n?e:null,!i.s),0<i.O&&(i.L=new nn(et(i.Ia,i,i.g),i.O)),Ur(i.V,i.g,"readystatechange",i.gb),e=i.H?Ce(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),zr(1),function Ti(i,e,n,l,h,_){i.info(function(){if(i.g)if(_)for(var I="",P=_.split("&"),Q=0;Q<P.length;Q++){var ie=P[Q].split("=");if(1<ie.length){var je=ie[0];ie=ie[1];var at=je.split("_");I=2<=at.length&&"type"==at[1]?I+(je+"=")+ie+"&":I+(je+"=redacted&")}}else I=null;else I=_;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+n+"\n"+I})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Kt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function cn(i,e,n){let h,l=!0;for(;!i.I&&i.C<n.length;){if(h=An(i,n),h==ot){4==e&&(i.o=4,Dr(14),l=!1),tr(i.j,i.m,null,"[Incomplete Response]");break}if(h==Li){i.o=4,Dr(15),tr(i.j,i.m,n,"[Invalid Chunk]"),l=!1;break}tr(i.j,i.m,h,null),Gi(i,h)}Kt(i)&&h!=ot&&h!=Li&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Dr(16),l=!1),i.i=i.i&&l,l?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),No(e),e.L=!0,Dr(11))):(tr(i.j,i.m,n,"[Invalid Chunked Response]"),es(i),ds(i))}function An(i,e){var n=i.C,l=e.indexOf("\n",n);return-1==l?ot:(n=Number(e.substring(n,l)),isNaN(n)?Li:(l+=1)+n>e.length?ot:(e=e.substr(l,n),i.C=l+n,e))}function lr(i){i.Y=Date.now()+i.P,ii(i,i.P)}function ii(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ve(et(i.eb,i),e)}function ur(i){i.B&&(Z.clearTimeout(i.B),i.B=null)}function ds(i){0==i.l.G||i.I||Cl(i.l,i)}function es(i){ur(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Nr(i.W),qr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Gi(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Wn(n.i,i)))if(n.I=i.N,!i.J&&Wn(n.i,i)&&3==n.G){try{var l=n.Ca.g.parse(e)}catch(ie){l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0])e:if(n.u)n.ta=h[1],0<n.ta-n.U&&37500>h[2]&&n.N&&0==n.A&&!n.v&&(n.v=ve(et(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;po(n),ga(n)}Zo(n),Dr(18)}if(1>=Sr(n.i)&&n.ka){try{n.ka()}catch(ie){}n.ka=void 0}}else Xo(n,11)}else if((i.J||n.g==i)&&po(n),!ge(e))for(h=n.Ca.g.parse(e),e=0;e<h.length;e++){let ie=h[e];if(n.U=ie[0],ie=ie[1],2==n.G)if("c"==ie[0]){n.J=ie[1],n.la=ie[2];const je=ie[3];null!=je&&(n.ma=je,n.h.info("VER="+n.ma));const at=ie[4];null!=at&&(n.za=at,n.h.info("SVER="+n.za));const Lt=ie[5];null!=Lt&&"number"==typeof Lt&&0<Lt&&(n.K=l=1.5*Lt,n.h.info("backChannelRequestTimeoutMs_="+l)),l=n;const sn=i.g;if(sn){const on=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(on){var _=l.i;!_.g&&($e(on,"spdy")||$e(on,"quic")||$e(on,"h2"))&&(_.j=_.l,_.g=new Set,_.h&&(rr(_,_.h),_.h=null))}if(l.D){const Kn=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kn&&(l.sa=Kn,Tr(l.F,l.D,Kn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var I=i;if((l=n).oa=Es(l,l.H?l.la:null,l.W),I.J){mi(l.i,I);var P=I,Q=l.K;Q&&P.setTimeout(Q),P.B&&(ur(P),lr(P)),l.g=I}else Il(l);0<n.l.length&&Yo(n)}else"stop"!=ie[0]&&"close"!=ie[0]||Xo(n,7);else 3==n.G&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Xo(n,7):wl(n):"noop"!=ie[0]&&n.j&&n.j.wa(ie),n.A=0)}zr(4)}catch(ie){}}function io(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ee(i)||"string"==typeof i)Ee(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(ee(i)||"string"==typeof i){n=[];for(var l=i.length,h=0;h<l;h++)n.push(h)}else for(h in n=[],l=0,i)n[l++]=h;l=function Po(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ee(i)){for(var e=[],n=i.length,l=0;l<n;l++)e.push(i[l]);return e}for(l in e=[],n=0,i)e[n++]=i[l];return e}(i),h=l.length;for(var _=0;_<h;_++)e.call(void 0,l[_],n&&n[_],i)}}function gs(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var l=0;l<n;l+=2)this.set(arguments[l],arguments[l+1])}else if(i)if(i instanceof gs)for(n=i.T(),l=0;l<n.length;l++)this.set(n[l],i.get(n[l]));else for(l in i)this.set(l,i[l])}function Do(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var l=i.g[e];xs(i.h,l)&&(i.g[n++]=l),e++}i.g.length=n}if(i.i!=i.g.length){var h={};for(n=e=0;e<i.g.length;)xs(h,l=i.g[e])||(i.g[n++]=l,h[l]=1),e++;i.g.length=n}}function xs(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(re=Yn.prototype).setTimeout=function(i){this.P=i},re.gb=function(i){i=i.target;const e=this.L;e&&3==Ki(i)?e.l():this.Ia(i)},re.Ia=function(i){try{if(i==this.g)e:{const je=Ki(this.g);var e=this.g.Da();const at=this.g.ba();if(!(3>je)&&(3!=je||zt||this.g&&(this.h.h||this.g.ga()||bi(this.g)))){this.I||4!=je||7==e||zr(8==e||0>=at?3:2),ur(this);var n=this.g.ba();this.N=n;t:if(Kt(this)){var l=bi(this.g);i="";var h=l.length,_=4==Ki(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){es(this),ds(this);var I="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(l[e],{stream:_&&e==h-1});l.splice(0,h),this.h.g+=i,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==n,function Mr(i,e,n,l,h,_,I){i.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+n+"\n"+_+" "+I})}(this.j,this.u,this.A,this.m,this.X,je,n),this.i){if(this.$&&!this.J){t:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(P)){var ie=P;break t}}ie=null}if(!(n=ie)){this.i=!1,this.o=3,Dr(12),es(this),ds(this);break e}tr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gi(this,n)}this.U?(cn(this,je,I),zt&&this.i&&3==je&&(Ur(this.V,this.W,"tick",this.fb),this.W.start())):(tr(this.j,this.m,I,null),Gi(this,I)),4==je&&es(this),this.i&&!this.I&&(4==je?Cl(this.l,this):(this.i=!1,lr(this)))}else 400==n&&0<I.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),es(this),ds(this)}}}catch(je){}},re.fb=function(){if(this.g){var i=Ki(this.g),e=this.g.ga();this.C<e.length&&(ur(this),cn(this,i,e),this.i&&4!=i&&lr(this))}},re.cancel=function(){this.I=!0,es(this)},re.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function kr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zr(3),Dr(17)),es(this),this.o=2,ds(this)):ii(this,this.Y-i)},(re=gs.prototype).R=function(){Do(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},re.T=function(){return Do(this),this.g.concat()},re.get=function(i,e){return xs(this.h,i)?this.h[i]:e},re.set=function(i,e){xs(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},re.forEach=function(i,e){for(var n=this.T(),l=0;l<n.length;l++){var h=n[l],_=this.get(h);i.call(e,_,h,this)}};var li=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof gi){this.g=void 0!==e?e:i.g,Ps(this,i.j),this.s=i.s,so(this,i.i),oo(this,i.m),this.l=i.l,e=i.h;var n=new ks;n.i=e.i,e.g&&(n.g=new gs(e.g),n.h=e.h),is(this,n),this.o=i.o}else i&&(n=String(i).match(li))?(this.g=!!e,Ps(this,n[1]||"",!0),this.s=Ns(n[2]||""),so(this,n[3]||"",!0),oo(this,n[4]),this.l=Ns(n[5]||"",!0),is(this,n[6]||"",!0),this.o=Ns(n[7]||"")):(this.g=!!e,this.h=new ks(null,this.g))}function si(i){return new gi(i)}function Ps(i,e,n){i.j=n?Ns(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function so(i,e,n){i.i=n?Ns(e,!0):e}function oo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function is(i,e,n){e instanceof ks?(i.h=e,function Je(i,e){e&&!i.j&&(Er(i),i.i=null,i.g.forEach(function(n,l){var h=l.toLowerCase();l!=h&&(U(this,l),$(this,h,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Qr(e,ss)),i.h=new ks(e,i.g))}function Tr(i,e,n){i.h.set(e,n)}function zi(i){return Tr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ns(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Qr(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Zs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Zs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Qr(e,ms,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Qr(e,ms,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Qr(n,"/"==n.charAt(0)?Ms:Ko,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Qr(n,oi)),i.join("")};var ms=/[#\/\?@]/g,Ko=/[#\?:]/g,Ms=/[#\?]/g,ss=/[#\?@]/g,oi=/#/g;function ks(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Er(i){i.g||(i.g=new gs,i.h=0,i.i&&function js(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var l=i[n].indexOf("="),h=null;if(0<=l){var _=i[n].substring(0,l);h=i[n].substring(l+1)}else _=i[n];e(_,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function U(i,e){Er(i),e=fe(i,e),xs(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,xs((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Do(i)))}function ae(i,e){return Er(i),e=fe(i,e),xs(i.g.h,e)}function $(i,e,n){U(i,e),0<n.length&&(i.i=null,i.g.set(fe(i,e),be(n)),i.h+=n.length)}function fe(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Yt(i){this.l=i||xn,i=Z.PerformanceNavigationTiming?0<(i=Z.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Z.g&&Z.g.Ea&&Z.g.Ea()&&Z.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=ks.prototype).add=function(i,e){Er(this),this.i=null,i=fe(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},re.forEach=function(i,e){Er(this),this.g.forEach(function(n,l){Ee(n,function(h){i.call(e,h,l,this)},this)},this)},re.T=function(){Er(this);for(var i=this.g.R(),e=this.g.T(),n=[],l=0;l<e.length;l++)for(var h=i[l],_=0;_<h.length;_++)n.push(e[l]);return n},re.R=function(i){Er(this);var e=[];if("string"==typeof i)ae(this,i)&&(e=we(e,this.g.get(fe(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=we(e,i[n])}return e},re.set=function(i,e){return Er(this),this.i=null,ae(this,i=fe(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},re.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var l=e[n],h=encodeURIComponent(String(l));l=this.R(l);for(var _=0;_<l.length;_++){var I=h;""!==l[_]&&(I+="="+encodeURIComponent(String(l[_]))),i.push(I)}}return this.i=i.join("&")};var xn=10;function Jn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Sr(i){return i.h?1:i.g?i.g.size:0}function Wn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function rr(i,e){i.g?i.g.add(e):i.h=e}function mi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Wr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return be(i.i)}function Jr(){}function os(){this.g=new Jr}function ys(i,e,n){const l=n||"";try{io(i,function(h,_){let I=h;le(h)&&(I=Hi(h)),e.push(l+_+"="+encodeURIComponent(I))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function Fs(i,e,n,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch(_){}}function G(i){this.l=i.$b||null,this.j=i.ib||!1}function B(i,e){un.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=L,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Jr.prototype.stringify=function(i){return Z.JSON.stringify(i,void 0)},Jr.prototype.parse=function(i){return Z.JSON.parse(i,void 0)},Ye(G,Se),G.prototype.g=function(){return new B(this.l,this.j)},G.prototype.i=function(i){return function(){return i}}({}),Ye(B,un);var L=0;function he(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Vt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,E(i)}function E(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(re=B.prototype).open=function(i,e){if(this.readyState!=L)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,E(this)},re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=L},re.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,E(this)),this.g&&(this.readyState=3,E(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Z.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;he(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},re.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Vt(this):E(this),3==this.readyState&&he(this)}},re.Ua=function(i){this.g&&(this.response=this.responseText=i,Vt(this))},re.Ta=function(i){this.g&&(this.response=i,Vt(this))},re.ha=function(){this.g&&Vt(this)},re.setRequestHeader=function(i,e){this.v.append(i,e)},re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(B.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var R=Z.JSON.parse;function b(i){un.call(this),this.headers=new gs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=j,this.K=this.L=!1}Ye(b,un);var j="",oe=/^https?$/i,Tt=["POST","PUT"];function Rn(i){return"content-type"==i.toLowerCase()}function cr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,dr(i),Oi(i)}function dr(i){i.D||(i.D=!0,an(i,"complete"),an(i,"error"))}function Bi(i){if(i.h&&void 0!==Ie&&(!i.C[1]||4!=Ki(i)||2!=i.ba()))if(i.v&&4==Ki(i))pr(i.Fa,0,i);else if(an(i,"readystatechange"),4==Ki(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var l;if(l=0===P){var h=String(i.H).match(li)[1]||null;if(!h&&Z.self&&Z.self.location){var _=Z.self.location.protocol;h=_.substr(0,_.length-1)}l=!oe.test(h?h.toLowerCase():"")}n=l}if(n)an(i,"complete"),an(i,"success");else{i.m=6;try{var I=2<Ki(i)?i.g.statusText:""}catch(Q){I=""}i.j=I+" ["+i.ba()+"]",dr(i)}}finally{Oi(i)}}}function Oi(i,e){if(i.g){Wi(i);const n=i.g,l=i.C[0]?pe:null;i.g=null,i.C=null,e||an(i,"ready");try{n.onreadystatechange=l}catch(h){}}}function Wi(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Z.clearTimeout(i.A),i.A=null)}function Ki(i){return i.g?i.g.readyState:0}function bi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case j:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vs(i,e,n){e:{for(l in n){var l=!1;break e}l=!0}l||(n=function _s(i){let e="";return q(i,function(n,l){e+=l,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Tr(i,e,n))}function Xs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function fo(i){this.za=0,this.l=[],this.h=new sr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xs("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xs("baseRetryDelayMs",5e3,i),this.$a=Xs("retryDelaySeedMs",1e4,i),this.Ya=Xs("forwardChannelMaxRetries",2,i),this.ra=Xs("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Yt(i&&i.concurrentRequestLimit),this.Ca=new os,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function wl(i){if(Gl(i),3==i.G){var e=i.V++,n=si(i.F);Tr(n,"SID",i.J),Tr(n,"RID",e),Tr(n,"TYPE","terminate"),qo(i,n),(e=new Yn(i,i.h,e,void 0)).K=2,e.v=zi(si(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=Qo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lr(e)}Dl(i)}function ga(i){i.g&&(No(i),i.g.cancel(),i.g=null)}function Gl(i){ga(i),i.u&&(Z.clearTimeout(i.u),i.u=null),po(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Z.clearTimeout(i.m),i.m=null)}function ao(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Yo(i)}function Yo(i){Jn(i.i)||i.m||(i.m=!0,fi(i.Ha,i),i.C=0)}function Na(i,e){var n;n=e?e.m:i.V++;const l=si(i.F);Tr(l,"SID",i.J),Tr(l,"RID",n),Tr(l,"AID",i.U),qo(i,l),i.o&&i.s&&vs(l,i.o,i.s),n=new Yn(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=oc(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),rr(i.i,n),Xe(n,l,e)}function qo(i,e){i.j&&io({},function(n,l){Tr(e,l,n)})}function oc(i,e,n){n=Math.min(i.l.length,n);var l=i.j?et(i.j.Oa,i.j,i):null;e:{var h=i.l;let _=-1;for(;;){const I=["count="+n];-1==_?0<n?(_=h[0].h,I.push("ofs="+_)):_=0:I.push("ofs="+_);let P=!0;for(let Q=0;Q<n;Q++){let ie=h[Q].h;const je=h[Q].g;if(ie-=_,0>ie)_=Math.max(0,h[Q].h-100),P=!1;else try{ys(je,I,"req"+ie+"_")}catch(at){l&&l(je)}}if(P){l=I.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,l}function Il(i){i.g||i.u||(i.Y=1,fi(i.Ga,i),i.A=0)}function Zo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=ve(et(i.Ga,i),tl(i,i.A)),i.A++,0))}function No(i){null!=i.B&&(Z.clearTimeout(i.B),i.B=null)}function zl(i){i.g=new Yn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=si(i.oa);Tr(e,"RID","rpc"),Tr(e,"SID",i.J),Tr(e,"CI",i.N?"0":"1"),Tr(e,"AID",i.U),qo(i,e),Tr(e,"TYPE","xmlhttp"),i.o&&i.s&&vs(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=zi(si(e)),n.s=null,n.U=!0,Ct(n,i)}function po(i){null!=i.v&&(Z.clearTimeout(i.v),i.v=null)}function Cl(i,e){var n=null;if(i.g==e){po(i),No(i),i.g=null;var l=2}else{if(!Wn(i.i,e))return;n=e.D,mi(i.i,e),l=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==l){n=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;an(l=Fi(),new ne(l,n,e,h)),Yo(i)}else Il(i);else if(3==(h=e.o)||0==h&&0<i.I||!(1==l&&function el(i,e){return!(Sr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=ve(et(i.Ha,i,e),tl(i,i.C)),i.C++,0)))}(i,e)||2==l&&Zo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),h){case 1:Xo(i,5);break;case 4:Xo(i,10);break;case 3:Xo(i,6);break;default:Xo(i,2)}}function tl(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Xo(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var l=et(i.jb,i);n||(n=new gi("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Ps(n,"https"),zi(n)),function Gn(i,e){const n=new sr;if(Z.Image){const l=new Image;l.onload=rt(Fs,n,l,"TestLoadImage: loaded",!0,e),l.onerror=rt(Fs,n,l,"TestLoadImage: error",!1,e),l.onabort=rt(Fs,n,l,"TestLoadImage: abort",!1,e),l.ontimeout=rt(Fs,n,l,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=i}else e(!1)}(n.toString(),l)}else Dr(2);i.G=0,i.j&&i.j.va(e),Dl(i),Gl(i)}function Dl(i){i.G=0,i.I=-1,i.j&&((0!=Wr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,be(i.l),i.l.length=0),i.j.ua())}function Es(i,e,n){let l=function hs(i){return i instanceof gi?si(i):new gi(i,void 0)}(n);if(""!=l.i)e&&so(l,e+"."+l.i),oo(l,l.m);else{const h=Z.location;l=function Ri(i,e,n,l){var h=new gi(null,void 0);return i&&Ps(h,i),e&&so(h,e),n&&oo(h,n),l&&(h.l=l),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,n)}return i.aa&&q(i.aa,function(h,_){Tr(l,_,h)}),n=i.sa,(e=i.D)&&n&&Tr(l,e,n),Tr(l,"VER",i.ma),qo(i,l),l}function Qo(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new b(n&&i.Ba&&!i.qa?new G({ib:!0}):i.qa)).L=i.H,e}function ts(){}function vu(){if(ft&&!(10<=Number(Pn)))throw Error("Environmental error: no available transport.")}function Hs(i,e){un.call(this),this.g=new fo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!ge(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ge(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Jo(this)}function zc(i){xt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ac(){Ut.call(this),this.status=1}function Jo(i){this.g=i}(re=b.prototype).ea=function(i,e,n,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fn.g(),this.C=function Ve(i){return i.h||(i.h=i.i())}(this.u?this.u:fn),this.g.onreadystatechange=et(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(_){return void cr(this,_)}i=n||"";const h=new gs(this.headers);l&&io(l,function(_,I){h.set(I,_)}),l=function nt(i){e:{var e=Rn;const n=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<n;h++)if(h in l&&e.call(void 0,l[h],h,i)){e=h;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(h.T()),n=Z.FormData&&i instanceof Z.FormData,!(0<=_t(Tt,e))||l||n||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(_,I){this.g.setRequestHeader(I,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wi(this),0<this.B&&((this.K=function ln(i){return ft&&function hr(){return function Xt(i){var e=Xr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Be(String(Bn)).split("."),n=Be("9").split("."),l=Math.max(e.length,n.length);for(let I=0;0==i&&I<l;I++){var h=e[I]||"",_=n[I]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==h[0].length&&0==_[0].length)break;i=Et(0==h[1].length?0:parseInt(h[1],10),0==_[1].length?0:parseInt(_[1],10))||Et(0==h[2].length,0==_[2].length)||Et(h[2],_[2]),h=h[3],_=_[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.pa,this)):this.A=pr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(_){cr(this,_)}},re.pa=function(){void 0!==Ie&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,an(this,"complete"),an(this,"abort"),Oi(this))},re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oi(this,!0)),b.Z.M.call(this)},re.Fa=function(){this.s||(this.F||this.v||this.l?Bi(this):this.cb())},re.cb=function(){Bi(this)},re.ba=function(){try{return 2<Ki(this)?this.g.status:-1}catch(i){return-1}},re.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},re.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),R(e)}},re.Da=function(){return this.m},re.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=fo.prototype).ma=8,re.G=1,re.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},re.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const h=new Yn(this,this.h,i,void 0);let _=this.s;if(this.P&&(_?(_=Ce(_),Me(_,this.P)):_=this.P),null===this.o&&(h.H=_),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var l=this.l[n];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oc(this,h,e),Tr(n=si(this.F),"RID",i),Tr(n,"CVER",22),this.D&&Tr(n,"X-HTTP-Session-Id",this.D),qo(this,n),this.o&&_&&vs(n,this.o,_),rr(this.i,h),this.Ra&&Tr(n,"TYPE","init"),this.ja?(Tr(n,"$req",e),Tr(n,"SID","null"),h.$=!0,Xe(h,n,null)):Xe(h,n,e),this.G=2}}else 3==this.G&&(i?Na(this,i):0==this.l.length||Jn(this.i)||Na(this))},re.Ga=function(){if(this.u=null,zl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=ve(et(this.bb,this),i)}},re.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dr(10),ga(this),zl(this))},re.ab=function(){null!=this.v&&(this.v=null,ga(this),Zo(this),Dr(19))},re.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Dr(2)):(this.h.info("Failed to ping google.com"),Dr(1))},(re=ts.prototype).xa=function(){},re.wa=function(){},re.va=function(){},re.ua=function(){},re.Oa=function(){},vu.prototype.g=function(i,e){return new Hs(i,e)},Ye(Hs,un),Hs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),fi(et(i.hb,i,e))),Dr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Es(i,null,i.W),Yo(i)},Hs.prototype.close=function(){wl(this.g)},Hs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,ao(this.g,e)}else this.v?((e={}).__data__=Hi(i),ao(this.g,e)):ao(this.g,i)},Hs.prototype.M=function(){this.g.j=null,delete this.j,wl(this.g),delete this.g,Hs.Z.M.call(this)},Ye(zc,xt),Ye(ac,Ut),Ye(Jo,ts),Jo.prototype.xa=function(){an(this.g,"a")},Jo.prototype.wa=function(i){an(this.g,new zc(i))},Jo.prototype.va=function(i){an(this.g,new ac(i))},Jo.prototype.ua=function(){an(this.g,"b")},vu.prototype.createWebChannel=vu.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,tt.NO_ERROR=0,tt.TIMEOUT=8,tt.HTTP_ERROR=6,mt.COMPLETE="complete",dt.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",un.prototype.listen=un.prototype.N,b.prototype.listenOnce=b.prototype.O,b.prototype.getLastError=b.prototype.La,b.prototype.getLastErrorCode=b.prototype.Da,b.prototype.getStatus=b.prototype.ba,b.prototype.getResponseJson=b.prototype.Qa,b.prototype.getResponseText=b.prototype.ga,b.prototype.send=b.prototype.ea;var Qs=_e.createWebChannelTransport=function(){return new vu},Wl=_e.getStatEventTarget=function(){return Fi()},ma=_e.ErrorCode=tt,go=_e.EventType=mt,ka=_e.Event=Gr,Vi=_e.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lc=_e.FetchXmlHttpFactory=G,To=_e.WebChannel=dt,nl=_e.XhrIo=b;const Tl="@firebase/firestore";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let So="9.8.0";const Cs=new ke.Yd("@firebase/firestore");function Eu(){return Cs.logLevel}function rl(i){Cs.setLogLevel(i)}function pn(i,...e){if(Cs.logLevel<=ke.in.DEBUG){const n=e.map(Fa);Cs.debug(`Firestore (${So}): ${i}`,...n)}}function Ds(i,...e){if(Cs.logLevel<=ke.in.ERROR){const n=e.map(Fa);Cs.error(`Firestore (${So}): ${i}`,...n)}}function Ts(i,...e){if(Cs.logLevel<=ke.in.WARN){const n=e.map(Fa);Cs.warn(`Firestore (${So}): ${i}`,...n)}}function Fa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function Un(i="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+i;throw Ds(e),new Error(e)}function zn(i,e){i||Un()}function Kl(i,e){i||Un()}function Dn(i,e){return i}const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends Te.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ya{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class La{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ns.UNAUTHENTICATED))}shutdown(){}}class uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Sl{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var l=this;let h=this.i;const _=ie=>this.i!==h?(h=this.i,n(ie)):Promise.resolve();let I=new br;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new br,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const ie=I;e.enqueueRetryable((0,c.Z)(function*(){yield ie.promise,yield _(l.currentUser)}))},Q=ie=>{pn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(ie=>Q(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?Q(ie):(pn("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new br)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(l=>this.i!==e?(pn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(zn("string"==typeof l.accessToken),new ya(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zn(null===e||"string"==typeof e),new ns(e)}}class cc{constructor(e,n,l){this.type="FirstParty",this.user=ns.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),l&&this.headers.set("X-Goog-Iam-Authorization-Token",l)}}class Wc{constructor(e,n,l){this.h=e,this.l=n,this.m=l}getToken(){return Promise.resolve(new cc(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const l=_=>{null!=_.error&&pn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const I=_.token!==this.p;return this.p=_.token,pn("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?n(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>l(_))};const h=_=>{pn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.g.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.g.getImmediate({optional:!0});_?h(_):pn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zn("string"==typeof n.token),this.p=n.token,new O(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class V{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=l=>this.I(l),this.T=l=>n.writeSequenceNumber(l))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function K(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let l=0;l<i;l++)n[l]=Math.floor(256*Math.random());return n}V.A=-1;class ue{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const h=K(40);for(let _=0;_<h.length;++_)l.length<20&&h[_]<n&&(l+=e.charAt(h[_]%e.length))}return l}}function xe(i,e){return i<e?-1:i>e?1:0}function qe(i,e,n){return i.length===e.length&&i.every((l,h)=>n(l,e[h]))}function jt(i){return i+"\0"}class gn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new en(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new en(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new en(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new en(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*n));return new gn(n,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new gn(0,0))}static max(){return new _n(new gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function jn(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Rr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ei(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class bs{constructor(e,n,l){void 0===n?n=0:n>e.length&&Un(),void 0===l?l=e.length-n:l>e.length-n&&Un(),this.segments=e,this.offset=n,this.len=l}get length(){return this.len}isEqual(e){return 0===bs.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bs?e.forEach(l=>{n.push(l)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,l=this.limit();n<l;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const l=Math.min(e.length,n.length);for(let h=0;h<l;h++){const _=e.get(h),I=n.get(h);if(_<I)return-1;if(_>I)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Or extends bs{construct(e,n,l){return new Or(e,n,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const l of e){if(l.indexOf("//")>=0)throw new en(St.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);n.push(...l.split("/").filter(h=>h.length>0))}return new Or(n)}static emptyPath(){return new Or([])}}const ea=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends bs{construct(e,n,l){return new Yi(e,n,l)}static isValidIdentifier(e){return ea.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(e){const n=[];let l="",h=0;const _=()=>{if(0===l.length)throw new en(St.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(l),l=""};let I=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new en(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[h+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new en(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=Q,h+=2}else"`"===P?(I=!I,h++):"."!==P||I?(l+=P,h++):(_(),h++)}if(_(),I)throw new en(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(n)}static emptyPath(){return new Yi([])}}class Gs{constructor(e){this.fields=e,e.sort(Yi.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qe(this.fields,e.fields,(n,l)=>n.isEqual(l))}}function Yl(){return"undefined"!=typeof atob}class as{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new as(n)}static fromUint8Array(e){const n=function(l){let h="";for(let _=0;_<l.length;++_)h+=String.fromCharCode(l[_]);return h}(e);return new as(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}as.EMPTY_BYTE_STRING=new as("");const bu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(i){if(zn(!!i),"string"==typeof i){let e=0;const n=bu.exec(i);if(zn(!!n),n[1]){let h=n[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(i);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:wi(i.seconds),nanos:wi(i.nanos)}}function wi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ta(i){return"string"==typeof i?as.fromBase64String(i):as.fromUint8Array(i)}function il(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Al(i){const e=i.mapValue.fields.__previous_value__;return il(e)?Al(e):e}function na(i){const e=mo(i.mapValue.fields.__local_write_time__.timestampValue);return new gn(e.seconds,e.nanos)}class Rd{constructor(e,n,l,h,_,I,P,Q){this.databaseId=e,this.appId=n,this.persistenceKey=l,this.host=h,this.ssl=_,this.forceLongPolling=I,this.autoDetectLongPolling=P,this.useFetchStreams=Q}}class ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}function Ui(i){return null==i}function dc(i){return 0===i&&1/i==-1/0}function vh(i){return"number"==typeof i&&Number.isInteger(i)&&!dc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class wn{constructor(e){this.path=e}static fromPath(e){return new wn(Or.fromString(e))}static fromName(e){return new wn(Or.fromString(e).popFirst(5))}static empty(){return new wn(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new Or(e.slice()))}}const Ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Va={nullValue:"NULL_VALUE"};function Ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?il(i)?4:lo(i)?9007199254740991:10:Un()}function _a(i,e){if(i===e)return!0;const n=Ua(i);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return na(i).isEqual(na(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const _=mo(l.timestampValue),I=mo(h.timestampValue);return _.seconds===I.seconds&&_.nanos===I.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,ta(i.bytesValue).isEqual(ta(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,h){return wi(l.geoPointValue.latitude)===wi(h.geoPointValue.latitude)&&wi(l.geoPointValue.longitude)===wi(h.geoPointValue.longitude)}(i,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return wi(l.integerValue)===wi(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const _=wi(l.doubleValue),I=wi(h.doubleValue);return _===I?dc(_)===dc(I):isNaN(_)&&isNaN(I)}return!1}(i,e);case 9:return qe(i.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:return function(l,h){const _=l.mapValue.fields||{},I=h.mapValue.fields||{};if(jn(_)!==jn(I))return!1;for(const P in _)if(_.hasOwnProperty(P)&&(void 0===I[P]||!_a(_[P],I[P])))return!1;return!0}(i,e);default:return Un()}var h}function Ao(i,e){return void 0!==(i.values||[]).find(n=>_a(n,e))}function xo(i,e){if(i===e)return 0;const n=Ua(i),l=Ua(e);if(n!==l)return xe(n,l);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(h,_){const I=wi(h.integerValue||h.doubleValue),P=wi(_.integerValue||_.doubleValue);return I<P?-1:I>P?1:I===P?0:isNaN(I)?isNaN(P)?0:-1:1}(i,e);case 3:return ls(i.timestampValue,e.timestampValue);case 4:return ls(na(i),na(e));case 5:return xe(i.stringValue,e.stringValue);case 6:return function(h,_){const I=ta(h),P=ta(_);return I.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(h,_){const I=h.split("/"),P=_.split("/");for(let Q=0;Q<I.length&&Q<P.length;Q++){const ie=xe(I[Q],P[Q]);if(0!==ie)return ie}return xe(I.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,_){const I=xe(wi(h.latitude),wi(_.latitude));return 0!==I?I:xe(wi(h.longitude),wi(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,_){const I=h.values||[],P=_.values||[];for(let Q=0;Q<I.length&&Q<P.length;++Q){const ie=xo(I[Q],P[Q]);if(ie)return ie}return xe(I.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,_){if(h===Ba.mapValue&&_===Ba.mapValue)return 0;if(h===Ba.mapValue)return 1;if(_===Ba.mapValue)return-1;const I=h.fields||{},P=Object.keys(I),Q=_.fields||{},ie=Object.keys(Q);P.sort(),ie.sort();for(let je=0;je<P.length&&je<ie.length;++je){const at=xe(P[je],ie[je]);if(0!==at)return at;const Lt=xo(I[P[je]],Q[ie[je]]);if(0!==Lt)return Lt}return xe(P.length,ie.length)}(i.mapValue,e.mapValue);default:throw Un()}}function ls(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return xe(i,e);const n=mo(i),l=mo(e),h=xe(n.seconds,l.seconds);return 0!==h?h:xe(n.nanos,l.nanos)}function va(i){return $i(i)}function $i(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(l){const h=mo(l);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ta(i.bytesValue).toBase64():"referenceValue"in i?wn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(l){let h="[",_=!0;for(const I of l.values||[])_?_=!1:h+=",",h+=$i(I);return h+"]"}(i.arrayValue):"mapValue"in i?function(l){const h=Object.keys(l.fields||{}).sort();let _="{",I=!0;for(const P of h)I?I=!1:_+=",",_+=`${P}:${$i(l.fields[P])}`;return _+"}"}(i.mapValue):Un();var e}function Ea(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $a(i){return!!i&&"integerValue"in i}function Pi(i){return!!i&&"arrayValue"in i}function Ii(i){return!!i&&"nullValue"in i}function sl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yo(i){return!!i&&"mapValue"in i}function ra(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Rr(i.mapValue.fields,(n,l)=>e.mapValue.fields[n]=ra(l)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(i.arrayValue.values[n]);return e}return Object.assign({},i)}function lo(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mo(i){return"nullValue"in i?Va:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ea(ko.empty(),wn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Un()}function Fo(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ea(ko.empty(),wn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ba:Un()}function Od(i,e){const n=xo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function wu(i,e){const n=xo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Rs{constructor(e){this.value=e}static empty(){return new Rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let l=0;l<e.length-1;++l)if(n=(n.mapValue.fields||{})[e.get(l)],!yo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=Yi.emptyPath(),l={},h=[];e.forEach((I,P)=>{if(!n.isImmediateParentOf(P)){const Q=this.getFieldsMap(n);this.applyChanges(Q,l,h),l={},h=[],n=P.popLast()}I?l[P.lastSegment()]=ra(I):h.push(P.lastSegment())});const _=this.getFieldsMap(n);this.applyChanges(_,l,h)}delete(e){const n=this.field(e.popLast());yo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=n.mapValue.fields[e.get(l)];yo(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},n.mapValue.fields[e.get(l)]=h),n=h}return n.mapValue.fields}applyChanges(e,n,l){Rr(n,(h,_)=>e[h]=_);for(const h of l)delete e[h]}clone(){return new Rs(ra(this.value))}}function Ss(i){const e=[];return Rr(i.fields,(n,l)=>{const h=new Yi([n]);if(yo(l)){const _=Ss(l.mapValue).fields;if(0===_.length)e.push(h);else for(const I of _)e.push(h.child(I))}else e.push(h)}),new Gs(e)}class gr{constructor(e,n,l,h,_,I){this.key=e,this.documentType=n,this.version=l,this.readTime=h,this.data=_,this.documentState=I}static newInvalidDocument(e){return new gr(e,0,_n.min(),_n.min(),Rs.empty(),0)}static newFoundDocument(e,n,l){return new gr(e,1,n,_n.min(),l,0)}static newNoDocument(e,n){return new gr(e,2,n,_n.min(),Rs.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,_n.min(),Rs.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ia{constructor(e,n,l,h){this.indexId=e,this.collectionGroup=n,this.fields=l,this.indexState=h}}function Pd(i){return i.fields.find(e=>2===e.kind)}function _o(i){return i.fields.filter(e=>2!==e.kind)}ia.UNKNOWN_ID=-1;class ql{constructor(e,n){this.fieldPath=e,this.kind=n}}class sa{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new sa(0,zs.min())}}function Iu(i,e){const n=i.toTimestamp().seconds,l=i.toTimestamp().nanoseconds+1,h=_n.fromTimestamp(1e9===l?new gn(n+1,0):new gn(n,l));return new zs(h,wn.empty(),e)}function Nd(i){return new zs(i.readTime,i.key,-1)}class zs{constructor(e,n,l){this.readTime=e,this.documentKey=n,this.largestBatchId=l}static min(){return new zs(_n.min(),wn.empty(),-1)}static max(){return new zs(_n.max(),wn.empty(),-1)}}function ba(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=wn.comparator(i.documentKey,e.documentKey),0!==n?n:xe(i.largestBatchId,e.largestBatchId))}class us{constructor(e,n){this.comparator=e,this.root=n||F.EMPTY}insert(e,n){return new us(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,F.BLACK,null,null))}remove(e){return new us(this.comparator,this.root.remove(e,this.comparator).copy(null,null,F.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const l=this.comparator(e,n.key);if(0===l)return n.value;l<0?n=n.left:l>0&&(n=n.right)}return null}indexOf(e){let n=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return n+l.left.size;h<0?l=l.left:(n+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,l)=>(e(n,l),!1))}toString(){const e=[];return this.inorderTraversal((n,l)=>(e.push(`${n}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,n,l,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=n?l(e.key,n):1,n&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class F{constructor(e,n,l,h,_){this.key=e,this.value=n,this.color=null!=l?l:F.RED,this.left=null!=h?h:F.EMPTY,this.right=null!=_?_:F.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,l,h,_){return new F(null!=e?e:this.key,null!=n?n:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,l){let h=this;const _=l(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,n,l),null):0===_?h.copy(null,n,null,null,null):h.copy(null,null,null,null,h.right.insert(e,n,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return F.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let l,h=this;if(n(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,n),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===n(e,h.key)){if(h.right.isEmpty())return F.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,n))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,F.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,F.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Un();const e=this.left.check();if(e!==this.right.check())throw Un();return e+(this.isRed()?0:1)}}F.EMPTY=null,F.RED=!0,F.BLACK=!1,F.EMPTY=new class{constructor(){this.size=0}get key(){throw Un()}get value(){throw Un()}get color(){throw Un()}get left(){throw Un()}get right(){throw Un()}copy(i,e,n,l,h){return this}insert(i,e,n){return new F(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class H{constructor(e){this.comparator=e,this.data=new us(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,l)=>(e(n),!1))}forEachInRange(e,n){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;n(h.key)}}forEachWhile(e,n){let l;for(l=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new de(this.data.getIterator())}getIteratorFrom(e){return new de(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(l=>{n=n.add(l)}),n}isEqual(e){if(!(e instanceof H)||this.size!==e.size)return!1;const n=this.data.getIterator(),l=e.data.getIterator();for(;n.hasNext();){const h=n.getNext().key,_=l.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new H(this.comparator);return n.data=e,n}}class de{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ue(i){return i.hasNext()?i.getNext():void 0}class wt{constructor(e,n=null,l=[],h=[],_=null,I=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=l,this.filters=h,this.limit=_,this.startAt=I,this.endAt=P,this.P=null}}function Rt(i,e=null,n=[],l=[],h=null,_=null,I=null){return new wt(i,e,n,l,h,_,I)}function rn(i){const e=Dn(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(l=>{return(h=l).field.canonicalString()+h.op.toString()+va(h.value);var h}).join(","),n+="|ob:",n+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),Ui(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>va(l)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>va(l)).join(",")),e.P=n}return e.P}function or(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!wp(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((n=i.filters[h]).op!==(l=e.filters[h]).op||!n.field.isEqual(l.field)||!_a(n.value,l.value))return!1;var n,l;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Kc(i.startAt,e.startAt)&&Kc(i.endAt,e.endAt)}function ir(i){return wn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Kr(i,e){return i.filters.filter(n=>n instanceof ti&&n.field.isEqual(e))}function mr(i,e,n){let l=Va,h=!0;for(const _ of Kr(i,e)){let I=Va,P=!0;switch(_.op){case"<":case"<=":I=Mo(_.value);break;case"==":case"in":case">=":I=_.value;break;case">":I=_.value,P=!1;break;case"!=":case"not-in":I=Va}Od({value:l,inclusive:h},{value:I,inclusive:P})<0&&(l=I,h=P)}if(null!==n)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const I=n.position[_];Od({value:l,inclusive:h},{value:I,inclusive:n.inclusive})<0&&(l=I,h=n.inclusive);break}return{value:l,inclusive:h}}function yi(i,e,n){let l=Ba,h=!0;for(const _ of Kr(i,e)){let I=Ba,P=!0;switch(_.op){case">=":case">":I=Fo(_.value),P=!1;break;case"==":case"in":case"<=":I=_.value;break;case"<":I=_.value,P=!1;break;case"!=":case"not-in":I=Ba}wu({value:l,inclusive:h},{value:I,inclusive:P})>0&&(l=I,h=P)}if(null!==n)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const I=n.position[_];wu({value:l,inclusive:h},{value:I,inclusive:n.inclusive})>0&&(l=I,h=n.inclusive);break}return{value:l,inclusive:h}}class ti extends class{}{constructor(e,n,l){super(),this.field=e,this.op=n,this.value=l}static create(e,n,l){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,l):new ol(e,n,l):"array-contains"===n?new al(e,l):"in"===n?new Zl(e,l):"not-in"===n?new xl(e,l):"array-contains-any"===n?new Du(e,l):new ti(e,n,l)}static V(e,n,l){return"in"===n?new Cu(e,l):new wa(e,l)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(xo(n,this.value)):null!==n&&Ua(this.value)===Ua(n)&&this.v(xo(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Un()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ol extends ti{constructor(e,n,l){super(e,n,l),this.key=wn.fromName(l.referenceValue)}matches(e){const n=wn.comparator(e.key,this.key);return this.v(n)}}class Cu extends ti{constructor(e,n){super(e,"in",n),this.keys=Ia(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wa extends ti{constructor(e,n){super(e,"not-in",n),this.keys=Ia(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ia(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(l=>wn.fromName(l.referenceValue))}class al extends ti{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pi(n)&&Ao(n.arrayValue,this.value)}}class Zl extends ti{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ao(this.value.arrayValue,n)}}class xl extends ti{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ao(this.value.arrayValue,n)}}class Du extends ti{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(l=>Ao(this.value.arrayValue,l))}}class ll{constructor(e,n){this.position=e,this.inclusive=n}}class oa{constructor(e,n="asc"){this.field=e,this.dir=n}}function wp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function kd(i,e,n){let l=0;for(let h=0;h<i.position.length;h++){const _=e[h],I=i.position[h];if(l=_.field.isKeyField()?wn.comparator(wn.fromName(I.referenceValue),n.key):xo(I,n.data.field(_.field)),"desc"===_.dir&&(l*=-1),0!==l)break}return l}function Kc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!_a(i.position[n],e.position[n]))return!1;return!0}class Lo{constructor(e,n=null,l=[],h=[],_=null,I="F",P=null,Q=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=l,this.filters=h,this.limit=_,this.limitType=I,this.startAt=P,this.endAt=Q,this.D=null,this.C=null}}function Fd(i,e,n,l,h,_,I,P){return new Lo(i,e,n,l,h,_,I,P)}function Xl(i){return new Lo(i)}function Ql(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Tu(i){for(const e of i.filters)if(e.S())return e.field;return null}function bh(i){return null!==i.collectionGroup}function Su(i){const e=Dn(i);if(null===e.D){e.D=[];const n=Tu(e),l=Ql(e);if(null!==n&&null===l)n.isKeyField()||e.D.push(new oa(n)),e.D.push(new oa(Yi.keyField(),"asc"));else{let h=!1;for(const _ of e.explicitOrderBy)e.D.push(_),_.field.isKeyField()&&(h=!0);if(!h){const _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new oa(Yi.keyField(),_))}}}return e.D}function Bo(i){const e=Dn(i);if(!e.C)if("F"===e.limitType)e.C=Rt(e.path,e.collectionGroup,Su(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const _ of Su(e))n.push(new oa(_.field,"desc"===_.dir?"asc":"desc"));const l=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;e.C=Rt(e.path,e.collectionGroup,n,e.filters,e.limit,l,h)}return e.C}function wh(i,e,n){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yc(i,e){return or(Bo(i),Bo(e))&&i.limitType===e.limitType}function wf(i){return`${rn(Bo(i))}|lt:${i.limitType}`}function hc(i){return`Query(target=${function $n(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(l=n).field.canonicalString()} ${l.op} ${va(l.value)}`;var l}).join(", ")}]`),Ui(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(l=n).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>va(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>va(n)).join(",")),`Target(${e})`}(Bo(i))}; limitType=${i.limitType})`}function ul(i,e){return e.isFoundDocument()&&function(n,l){const h=l.key.path;return null!==n.collectionGroup?l.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(h):wn.isDocumentKey(n.path)?n.path.isEqual(h):n.path.isImmediateParentOf(h)}(i,e)&&function(n,l){for(const h of n.explicitOrderBy)if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(i,e)&&function(n,l){for(const h of n.filters)if(!h.matches(l))return!1;return!0}(i,e)&&(l=e,!((n=i).startAt&&!function(h,_,I){const P=kd(h,_,I);return h.inclusive?P<=0:P<0}(n.startAt,Su(n),l)||n.endAt&&!function(h,_,I){const P=kd(h,_,I);return h.inclusive?P>=0:P>0}(n.endAt,Su(n),l)));var n,l}function Au(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ld(i){return(e,n)=>{let l=!1;for(const h of Su(i)){const _=fc(h,e,n);if(0!==_)return _;l=l||h.field.isKeyField()}return 0}}function fc(i,e,n){const l=i.field.isKeyField()?wn.comparator(e.key,n.key):function(h,_,I){const P=_.data.field(h),Q=I.data.field(h);return null!==P&&null!==Q?xo(P,Q):Un()}(i.field,e,n);switch(i.dir){case"asc":return l;case"desc":return-1*l;default:return Un()}}function qc(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function xu(i){return{integerValue:""+i}}function If(i,e){return vh(e)?xu(e):qc(i,e)}class Mu{constructor(){this._=void 0}}function Zc(i,e,n){return i instanceof Ml?function(l,h){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&(_.fields.__previous_value__=h),{mapValue:_}}(n,e):i instanceof Rl?Df(i,e):i instanceof Ol?Tf(i,e):function(l,h){const _=Ih(l,h),I=Ch(_)+Ch(l.k);return $a(_)&&$a(l.k)?xu(I):qc(l.M,I)}(i,e)}function Cf(i,e,n){return i instanceof Rl?Df(i,e):i instanceof Ol?Tf(i,e):n}function Ih(i,e){return i instanceof Ru?$a(n=e)||(l=n)&&"doubleValue"in l?e:{integerValue:0}:null;var l,n}class Ml extends Mu{}class Rl extends Mu{constructor(e){super(),this.elements=e}}function Df(i,e){const n=cl(e);for(const l of i.elements)n.some(h=>_a(h,l))||n.push(l);return{arrayValue:{values:n}}}class Ol extends Mu{constructor(e){super(),this.elements=e}}function Tf(i,e){let n=cl(e);for(const l of i.elements)n=n.filter(h=>!_a(h,l));return{arrayValue:{values:n}}}class Ru extends Mu{constructor(e,n){super(),this.M=e,this.k=n}}function Ch(i){return wi(i.integerValue||i.doubleValue)}function cl(i){return Pi(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ca{constructor(e,n){this.field=e,this.transform=n}}class Dh{constructor(e,n){this.version=e,this.transformResults=n}}class Ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ls}static exists(e){return new Ls(void 0,e)}static updateTime(e){return new Ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class pc{}function Th(i,e,n){i instanceof Da?function(l,h,_){const I=l.value.clone(),P=ja(l.fieldTransforms,h,_.transformResults);I.setAll(P),h.convertToFoundDocument(_.version,I).setHasCommittedMutations()}(i,e,n):i instanceof Ci?function(l,h,_){if(!Xc(l.precondition,h))return void h.convertToUnknownDocument(_.version);const I=ja(l.fieldTransforms,h,_.transformResults),P=h.data;P.setAll(Sh(l)),P.setAll(I),h.convertToFoundDocument(_.version,P).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Qc(i,e,n){var h;i instanceof Da?function(l,h,_){if(!Xc(l.precondition,h))return;const I=l.value.clone(),P=Ou(l.fieldTransforms,_,h);I.setAll(P),h.convertToFoundDocument($r(h),I).setHasLocalMutations()}(i,e,n):i instanceof Ci?function(l,h,_){if(!Xc(l.precondition,h))return;const I=Ou(l.fieldTransforms,_,h),P=h.data;P.setAll(Sh(l)),P.setAll(I),h.convertToFoundDocument($r(h),P).setHasLocalMutations()}(i,e,n):Xc(i.precondition,h=e)&&h.convertToNoDocument(_n.min())}function Ai(i,e){let n=null;for(const l of i.fieldTransforms){const h=e.data.field(l.field),_=Ih(l.transform,h||null);null!=_&&(null==n&&(n=Rs.empty()),n.set(l.field,_))}return n||null}function hi(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===l||n&&l&&qe(n,l,(h,_)=>function Ip(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(n=i.transform)instanceof Rl&&l instanceof Rl||n instanceof Ol&&l instanceof Ol?qe(n.elements,l.elements,_a):n instanceof Ru&&l instanceof Ru?_a(n.k,l.k):n instanceof Ml&&l instanceof Ml);var n,l}(h,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,l}function $r(i){return i.isFoundDocument()?i.version:_n.min()}class Da extends pc{constructor(e,n,l,h=[]){super(),this.key=e,this.value=n,this.precondition=l,this.fieldTransforms=h,this.type=0}}class Ci extends pc{constructor(e,n,l,h,_=[]){super(),this.key=e,this.data=n,this.fieldMask=l,this.precondition=h,this.fieldTransforms=_,this.type=1}}function Sh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const l=i.data.field(n);e.set(n,l)}}),e}function ja(i,e,n){const l=new Map;zn(i.length===n.length);for(let h=0;h<n.length;h++){const _=i[h],I=_.transform,P=e.data.field(_.field);l.set(_.field,Cf(I,P,n[h]))}return l}function Ou(i,e,n){const l=new Map;for(const h of i){const _=h.transform,I=n.data.field(h.field);l.set(h.field,Zc(_,I,e))}return l}class Ro extends pc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Di extends pc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class jr{constructor(e){this.count=e}}var ni,ui;function Ah(i){switch(i){default:return Un();case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0}}function Vo(i){if(void 0===i)return Ds("GRPC error has no .code"),St.UNKNOWN;switch(i){case ni.OK:return St.OK;case ni.CANCELLED:return St.CANCELLED;case ni.UNKNOWN:return St.UNKNOWN;case ni.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case ni.INTERNAL:return St.INTERNAL;case ni.UNAVAILABLE:return St.UNAVAILABLE;case ni.UNAUTHENTICATED:return St.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case ni.NOT_FOUND:return St.NOT_FOUND;case ni.ALREADY_EXISTS:return St.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return St.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case ni.ABORTED:return St.ABORTED;case ni.OUT_OF_RANGE:return St.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return St.UNIMPLEMENTED;case ni.DATA_LOSS:return St.DATA_LOSS;default:return Un()}}(ui=ni||(ni={}))[ui.OK=0]="OK",ui[ui.CANCELLED=1]="CANCELLED",ui[ui.UNKNOWN=2]="UNKNOWN",ui[ui.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ui[ui.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ui[ui.NOT_FOUND=5]="NOT_FOUND",ui[ui.ALREADY_EXISTS=6]="ALREADY_EXISTS",ui[ui.PERMISSION_DENIED=7]="PERMISSION_DENIED",ui[ui.UNAUTHENTICATED=16]="UNAUTHENTICATED",ui[ui.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ui[ui.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ui[ui.ABORTED=10]="ABORTED",ui[ui.OUT_OF_RANGE=11]="OUT_OF_RANGE",ui[ui.UNIMPLEMENTED=12]="UNIMPLEMENTED",ui[ui.INTERNAL=13]="INTERNAL",ui[ui.UNAVAILABLE=14]="UNAVAILABLE",ui[ui.DATA_LOSS=15]="DATA_LOSS";class Pu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0!==l)for(const[h,_]of l)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,n){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,n]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,n]);h.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[n]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,(n,l)=>{for(const[h,_]of l)e(h,_)})}isEmpty(){return ei(this.inner)}size(){return this.innerSize}}const xh=new us(wn.comparator);function Eo(){return xh}const Bd=new us(wn.comparator);function Jl(...i){let e=Bd;for(const n of i)e=e.insert(n.key,n);return e}function gc(){return new Pu(i=>i.toString(),(i,e)=>i.isEqual(e))}const mc=new us(wn.comparator),Cp=new H(wn.comparator);function xi(...i){let e=Cp;for(const n of i)e=e.add(n);return e}const Vd=new H(xe);function Ud(){return Vd}class yc{constructor(e,n,l,h,_){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,n){const l=new Map;return l.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,n)),new yc(_n.min(),l,Ud(),Eo(),xi())}}class dl{constructor(e,n,l,h,_){this.resumeToken=e,this.current=n,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,n){return new dl(as.EMPTY_BYTE_STRING,n,xi(),xi(),xi())}}class Nu{constructor(e,n,l,h){this.O=e,this.removedTargetIds=n,this.key=l,this.F=h}}class hl{constructor(e,n){this.targetId=e,this.$=n}}class Yr{constructor(e,n,l=as.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=n,this.resumeToken=l,this.cause=h}}class qi{constructor(){this.B=0,this.L=aa(),this.U=as.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=xi(),n=xi(),l=xi();return this.L.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:n=n.add(h);break;case 1:l=l.add(h);break;default:Un()}}),new dl(this.U,this.q,e,n,l)}J(){this.K=!1,this.L=aa()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class $d{constructor(e){this.nt=e,this.st=new Map,this.it=Eo(),this.rt=Mh(),this.ot=new H(xe)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const l=this.lt(n);switch(e.state){case 0:this.ft(n)&&l.W(e.resumeToken);break;case 1:l.tt(),l.G||l.J(),l.W(e.resumeToken);break;case 2:l.tt(),l.G||this.removeTarget(n);break;case 3:this.ft(n)&&(l.et(),l.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),l.W(e.resumeToken));break;default:Un()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((l,h)=>{this.ft(h)&&n(h)})}_t(e){const n=e.targetId,l=e.$.count,h=this.wt(n);if(h){const _=h.target;if(ir(_))if(0===l){const I=new wn(_.path);this.ct(n,I,gr.newNoDocument(I,_n.min()))}else zn(1===l);else this.gt(n)!==l&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((_,I)=>{const P=this.wt(I);if(P){if(_.current&&ir(P.target)){const Q=new wn(P.target.path);null!==this.it.get(Q)||this.It(I,Q)||this.ct(I,Q,gr.newNoDocument(Q,e))}_.j&&(n.set(I,_.H()),_.J())}});let l=xi();this.rt.forEach((_,I)=>{let P=!0;I.forEachWhile(Q=>{const ie=this.wt(Q);return!ie||2===ie.purpose||(P=!1,!1)}),P&&(l=l.add(_))}),this.it.forEach((_,I)=>I.setReadTime(e));const h=new yc(e,n,this.ot,this.it,l);return this.it=Eo(),this.rt=Mh(),this.ot=new H(xe),h}at(e,n){if(!this.ft(e))return;const l=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,l),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,l){if(!this.ft(e))return;const h=this.lt(e);this.It(e,n)?h.Y(n,1):h.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),l&&(this.it=this.it.insert(n,l))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new qi,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new H(xe),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||pn("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new qi),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Mh(){return new us(wn.comparator)}function aa(){return new us(wn.comparator)}const _c={asc:"ASCENDING",desc:"DESCENDING"},Ha={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dp{constructor(e,n){this.databaseId=e,this.N=n}}function Js(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sf(i,e){return i.N?e.toBase64():e.toUint8Array()}function ku(i,e){return Js(i,e.toTimestamp())}function Ws(i){return zn(!!i),_n.fromTimestamp(function(e){const n=mo(e);return new gn(n.seconds,n.nanos)}(i))}function Rh(i,e){return(n=i,new Or(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Fu(i){const e=Or.fromString(i);return zn(co(e)),e}function Bs(i,e){return Rh(i.databaseId,e.path)}function la(i,e){const n=Fu(e);if(n.get(1)!==i.databaseId.projectId)throw new en(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new en(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new wn(eu(n))}function Pl(i,e){return Rh(i.databaseId,e)}function Jc(i){const e=Fu(i);return 4===e.length?Or.emptyPath():eu(e)}function ws(i){return new Or(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function eu(i){return zn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ed(i,e,n){return{name:Bs(i,e),fields:n.value.mapValue.fields}}function Af(i,e,n){const l=la(i,e.name),h=Ws(e.updateTime),_=new Rs({mapValue:{fields:e.fields}}),I=gr.newFoundDocument(l,h,_);return n&&I.setHasCommittedMutations(),n?I.setHasCommittedMutations():I}function uo(i,e){let n;if(e instanceof Da)n={update:ed(i,e.key,e.value)};else if(e instanceof Ro)n={delete:Bs(i,e.key)};else if(e instanceof Ci)n={update:ed(i,e.key,e.data),updateMask:Lu(e.fieldMask)};else{if(!(e instanceof Di))return Un();n={verify:Bs(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(l=>function(h,_){const I=_.transform;if(I instanceof Ml)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Rl)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof Ol)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof Ru)return{fieldPath:_.field.canonicalString(),increment:I.k};throw Un()}(0,l))),e.precondition.isNone||(n.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:ku(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Un()),n;var h}function Ga(i,e){const n=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Ls.updateTime(Ws(h.updateTime)):void 0!==h.exists?Ls.exists(h.exists):Ls.none():Ls.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(_,I){let P=null;"setToServerValue"in I?(zn("REQUEST_TIME"===I.setToServerValue),P=new Ml):"appendMissingElements"in I?P=new Rl(I.appendMissingElements.values||[]):"removeAllFromArray"in I?P=new Ol(I.removeAllFromArray.values||[]):"increment"in I?P=new Ru(_,I.increment):Un();const Q=Yi.fromServerFormat(I.fieldPath);return new Ca(Q,P)}(i,h)):[];var h;if(e.update){const h=la(i,e.update.name),_=new Rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Gs((e.updateMask.fieldPaths||[]).map(ie=>Yi.fromServerFormat(ie)));return new Ci(h,_,I,n,l)}return new Da(h,_,n,l)}if(e.delete){const h=la(i,e.delete);return new Ro(h,n)}if(e.verify){const h=la(i,e.verify);return new Di(h,n)}return Un()}function tu(i,e){return{documents:[Pl(i,e.path)]}}function Ta(i,e){const n={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(n.parent=Pl(i,l),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pl(i,l.popLast()),n.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(Q){if(0===Q.length)return;const ie=Q.map(je=>function(at){if("=="===at.op){if(sl(at.value))return{unaryFilter:{field:Ni(at.field),op:"IS_NAN"}};if(Ii(at.value))return{unaryFilter:{field:Ni(at.field),op:"IS_NULL"}}}else if("!="===at.op){if(sl(at.value))return{unaryFilter:{field:Ni(at.field),op:"IS_NOT_NAN"}};if(Ii(at.value))return{unaryFilter:{field:Ni(at.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(at.field),op:fl(at.op),value:at.value}}}(je));return 1===ie.length?ie[0]:{compositeFilter:{op:"AND",filters:ie}}}(e.filters);h&&(n.structuredQuery.where=h);const _=function(Q){if(0!==Q.length)return Q.map(ie=>{return{field:Ni((je=ie).field),direction:td(je.dir)};var je})}(e.orderBy);_&&(n.structuredQuery.orderBy=_);const I=(ie=e.limit,i.N||Ui(ie)?ie:{value:ie});var ie,P,Q;return null!==I&&(n.structuredQuery.limit=I),e.startAt&&(n.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(n.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),n}function nu(i){let e=Jc(i.parent);const n=i.structuredQuery,l=n.from?n.from.length:0;let h=null;if(l>0){zn(1===l);const je=n.from[0];je.allDescendants?h=je.collectionId:e=e.child(je.collectionId)}let _=[];n.where&&(_=Oh(n.where));let I=[];n.orderBy&&(I=n.orderBy.map(je=>{return new oa(ru((at=je).field),function(Lt){switch(Lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(at.direction));var at}));let P=null;n.limit&&(P=function(je){let at;return at="object"==typeof je?je.value:je,Ui(at)?null:at}(n.limit));let Q=null;var je;n.startAt&&(Q=new ll((je=n.startAt).values||[],!!je.before));let ie=null;return n.endAt&&(ie=function(je){return new ll(je.values||[],!je.before)}(n.endAt)),Fd(e,h,I,_,P,"F",Q,ie)}function Oh(i){return i?void 0!==i.unaryFilter?[Ph(i)]:void 0!==i.fieldFilter?[Hd(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Oh(e)).reduce((e,n)=>e.concat(n)):Un():[]}function td(i){return _c[i]}function fl(i){return Ha[i]}function Ni(i){return{fieldPath:i.canonicalString()}}function ru(i){return Yi.fromServerFormat(i.fieldPath)}function Hd(i){return ti.create(ru(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Un()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ph(i){switch(i.unaryFilter.op){case"IS_NAN":const e=ru(i.unaryFilter.field);return ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ru(i.unaryFilter.field);return ti.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ru(i.unaryFilter.field);return ti.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ru(i.unaryFilter.field);return ti.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Un()}}function Lu(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function co(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function eo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Nh(e)),e=Gd(i.get(n),e);return Nh(e)}function Gd(i,e){let n=e;const l=i.length;for(let h=0;h<l;h++){const _=i.charAt(h);switch(_){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=_}}return n}function Nh(i){return i+"\x01\x01"}function Ks(i){const e=i.length;if(zn(e>=2),2===e)return zn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Or.emptyPath();const n=e-2,l=[];let h="";for(let _=0;_<e;){const I=i.indexOf("\x01",_);switch((I<0||I>n)&&Un(),i.charAt(I+1)){case"\x01":const P=i.substring(_,I);let Q;0===h.length?Q=P:(h+=P,Q=h,h=""),l.push(Q);break;case"\x10":h+=i.substring(_,I),h+="\0";break;case"\x11":h+=i.substring(_,I+1);break;default:Un()}_=I+2}return new Or(l)}const Bu=["userId","batchId"];function vc(i,e){return[i,eo(e)]}function iu(i,e,n){return[i,eo(e),n]}const nd={},Vu=["prefixPath","collectionGroup","readTime","documentId"],Tp=["prefixPath","collectionGroup","documentId"],kh=["collectionGroup","readTime","prefixPath","documentId"],pl=["canonicalId","targetId"],gl=["targetId","path"],w=["path","targetId"],g=["collectionId","parent"],y=["indexId","uid"],S=["uid","sequenceNumber"],Y=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],me=["indexId","uid","orderedDocumentKey"],ht=["userId","collectionPath","documentId"],Ht=["userId","collectionPath","largestBatchId"],vn=["userId","collectionGroup","largestBatchId"],Nn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ar=[...Nn,"documentOverlays"],Xn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Os=[...Xn,"indexConfiguration","indexState","indexEntries"],ho="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class za{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $t((l,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(l,h)},this.catchCallback=_=>{this.wrapFailure(n,_).next(l,h)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $t?n:$t.resolve(n)}catch(n){return $t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$t.reject(n)}static resolve(e){return new $t((n,l)=>{n(e)})}static reject(e){return new $t((n,l)=>{l(e)})}static waitFor(e){return new $t((n,l)=>{let h=0,_=0,I=!1;e.forEach(P=>{++h,P.next(()=>{++_,I&&_===h&&n()},Q=>l(Q))}),I=!0,_===h&&n()})}static or(e){let n=$t.resolve(!1);for(const l of e)n=n.next(h=>h?$t.resolve(h):l());return n}static forEach(e,n){const l=[];return e.forEach((h,_)=>{l.push(n.call(this,h,_))}),this.waitFor(l)}}class ua{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new br,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new su(e,n.error)):this.At.resolve()},this.transaction.onerror=l=>{const h=rd(l.target.error);this.At.reject(new su(e,h))}}static open(e,n,l,h){try{return new ua(n,e.transaction(h,l))}catch(_){throw new su(n,_)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(pn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Mf(n)}}class Uo{constructor(e,n,l){this.name=e,this.version=n,this.Pt=l,12.2===Uo.Vt((0,Te.z$)())&&Ds("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pn("SimpleDb","Removing database:",e),Nl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Te.hl)())return!1;if(Uo.St())return!0;const e=(0,Te.z$)(),n=Uo.Vt(e),l=0<n&&n<10,h=Uo.Dt(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||_)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),l=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(l)}Nt(e){var n=this;return(0,c.Z)(function*(){return n.db||(pn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((l,h)=>{const _=indexedDB.open(n.name,n.version);_.onsuccess=I=>{l(I.target.result)},_.onblocked=()=>{h(new su(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=I=>{const P=I.target.error;h("VersionError"===P.name?new en(St.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new en(St.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new su(e,P))},_.onupgradeneeded=I=>{pn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',I.oldVersion),n.Pt.kt(I.target.result,_.transaction,I.oldVersion,n.version).next(()=>{pn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=l=>n.Mt(l)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,l,h){var _=this;return(0,c.Z)(function*(){const I="readonly"===n;let P=0;for(;;){++P;try{_.db=yield _.Nt(e);const Q=ua.open(_.db,e,I?"readonly":"readwrite",l),ie=h(Q).next(je=>(Q.bt(),je)).catch(je=>(Q.abort(je),$t.reject(je))).toPromise();return ie.catch(()=>{}),yield Q.Rt,ie}catch(Q){const ie="FirebaseError"!==Q.name&&P<3;if(pn("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ie),_.close(),!ie)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fh{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Nl(this.Ft.delete())}}class su extends en{constructor(e,n){super(St.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ml(i){return"IndexedDbTransactionError"===i.name}class Mf{constructor(e){this.store=e}put(e,n){let l;return void 0!==n?(pn("SimpleDb","PUT",this.store.name,e,n),l=this.store.put(n,e)):(pn("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Nl(l)}add(e){return pn("SimpleDb","ADD",this.store.name,e,e),Nl(this.store.add(e))}get(e){return Nl(this.store.get(e)).next(n=>(void 0===n&&(n=null),pn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return pn("SimpleDb","DELETE",this.store.name,e),Nl(this.store.delete(e))}count(){return pn("SimpleDb","COUNT",this.store.name),Nl(this.store.count())}qt(e,n){const l=this.options(e,n);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),_=[];return this.Kt(h,(I,P)=>{_.push(P)}).next(()=>_)}{const h=this.store.getAll(l.range);return new $t((_,I)=>{h.onerror=P=>{I(P.target.error)},h.onsuccess=P=>{_(P.target.result)}})}}Gt(e,n){const l=this.store.getAll(e,null===n?void 0:n);return new $t((h,_)=>{l.onerror=I=>{_(I.target.error)},l.onsuccess=I=>{h(I.target.result)}})}Qt(e,n){pn("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,n);l.jt=!1;const h=this.cursor(l);return this.Kt(h,(_,I,P)=>P.delete())}Wt(e,n){let l;n?l=e:(l={},n=e);const h=this.cursor(l);return this.Kt(h,n)}zt(e){const n=this.cursor({});return new $t((l,h)=>{n.onerror=_=>{const I=rd(_.target.error);h(I)},n.onsuccess=_=>{const I=_.target.result;I?e(I.primaryKey,I.value).next(P=>{P?I.continue():l()}):l()}})}Kt(e,n){const l=[];return new $t((h,_)=>{e.onerror=I=>{_(I.target.error)},e.onsuccess=I=>{const P=I.target.result;if(!P)return void h();const Q=new Fh(P),ie=n(P.primaryKey,P.value,Q);if(ie instanceof $t){const je=ie.catch(at=>(Q.done(),$t.reject(at)));l.push(je)}Q.isDone?h():null===Q.Lt?P.continue():P.continue(Q.Lt)}}).next(()=>$t.waitFor(l))}options(e,n){let l;return void 0!==e&&("string"==typeof e?l=e:n=e),{index:l,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const l=this.store.index(e.index);return e.jt?l.openKeyCursor(e.range,n):l.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Nl(i){return new $t((e,n)=>{i.onsuccess=l=>{e(l.target.result)},i.onerror=l=>{const h=rd(l.target.error);n(h)}})}let $o=!1;function rd(i){const e=Uo.Vt((0,Te.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const l=new en("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $o||($o=!0,setTimeout(()=>{throw l},0)),l}}return i}class Ec extends za{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Vs(i,e){const n=Dn(i);return Uo.xt(n.Ht,e)}class id{constructor(e,n,l,h){this.batchId=e,this.localWriteTime=n,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,n){const l=n.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Th(_,e,l[h])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Qc(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Qc(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const l=e.get(n.key),h=l;this.applyToLocalView(h),l.isValidDocument()||h.convertToNoDocument(_n.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xi())}isEqual(e){return this.batchId===e.batchId&&qe(this.mutations,e.mutations,(n,l)=>hi(n,l))&&qe(this.baseMutations,e.baseMutations,(n,l)=>hi(n,l))}}class Uu{constructor(e,n,l,h){this.batch=e,this.commitVersion=n,this.mutationResults=l,this.docVersions=h}static from(e,n,l){zn(e.mutations.length===l.length);let h=mc;const _=e.mutations;for(let I=0;I<_.length;I++)h=h.insert(_[I].key,l[I].version);return new Uu(e,n,l,h)}}class ou{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ca{constructor(e,n,l,h,_=_n.min(),I=_n.min(),P=as.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=P}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $u{constructor(e){this.Jt=e}}function Sp(i,e){const n=e.key,l={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ju(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Bs(h=i.Jt,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:Js(h,_.version.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:n.path.toArray(),readTime:Wa(e.version)};else{if(!e.isUnknownDocument())return Un();l.unknownDocument={path:n.path.toArray(),version:Wa(e.version)}}var h,_;return l}function ju(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Wa(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bc(i){const e=new gn(i.seconds,i.nanoseconds);return _n.fromTimestamp(e)}function au(i,e){const n=(e.baseMutations||[]).map(_=>Ga(i.Jt,_));for(let _=0;_<e.mutations.length-1;++_){const I=e.mutations[_];_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(I.updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_)}const l=e.mutations.map(_=>Ga(i.Jt,_)),h=gn.fromMillis(e.localWriteTimeMs);return new id(e.batchId,h,n,l)}function Hu(i){const e=bc(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?bc(i.lastLimboFreeSnapshotVersion):_n.min();let l;var h;return void 0!==i.query.documents?(zn(1===(h=i.query).documents.length),l=Bo(Xl(Jc(h.documents[0])))):l=Bo(nu(i.query)),new ca(l,i.targetId,0,i.lastListenSequenceNumber,e,n,as.fromBase64String(i.resumeToken))}function zd(i,e){const n=Wa(e.snapshotVersion),l=Wa(e.lastLimboFreeSnapshotVersion);let h;h=ir(e.target)?tu(i.Jt,e.target):Ta(i.Jt,e.target);const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rn(e.target),readTime:n,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function Wd(i){const e=nu({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?wh(e,e.limit,"L"):e}function lu(i,e){return new ou(e.largestBatchId,Ga(i.Jt,e.overlayMutation))}function Lh(i,e){const n=e.path.lastSegment();return[i,eo(e.path.popLast()),n]}class wg{getBundleMetadata(e,n){return Zi(e).get(n).next(l=>{if(l)return{id:(h=l).bundleId,createTime:bc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,n){return Zi(e).put({bundleId:(l=n).id,createTime:Wa(Ws(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return Ka(e).get(n).next(l=>{if(l)return{name:(h=l).name,query:Wd(h.bundledQuery),readTime:bc(h.readTime)};var h})}saveNamedQuery(e,n){return Ka(e).put({name:(l=n).name,readTime:Wa(Ws(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Zi(i){return Vs(i,"bundles")}function Ka(i){return Vs(i,"namedQueries")}class uu{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new uu(e,n.uid||"")}getOverlay(e,n){return cu(e).get(Lh(this.userId,n)).next(l=>l?lu(this.M,l):null)}saveOverlays(e,n,l){const h=[];return l.forEach((_,I)=>{const P=new ou(n,I);h.push(this.Xt(e,P))}),$t.waitFor(h)}removeOverlaysForBatchId(e,n,l){const h=new Set;n.forEach(I=>h.add(eo(I.getCollectionPath())));const _=[];return h.forEach(I=>{const P=IDBKeyRange.bound([this.userId,I,l],[this.userId,I,l+1],!1,!0);_.push(cu(e).Qt("collectionPathOverlayIndex",P))}),$t.waitFor(_)}getOverlaysForCollection(e,n,l){const h=gc(),_=eo(n),I=IDBKeyRange.bound([this.userId,_,l],[this.userId,_,Number.POSITIVE_INFINITY],!0);return cu(e).qt("collectionPathOverlayIndex",I).next(P=>{for(const Q of P){const ie=lu(this.M,Q);h.set(ie.getKey(),ie)}return h})}getOverlaysForCollectionGroup(e,n,l,h){const _=gc();let I;const P=IDBKeyRange.bound([this.userId,n,l],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cu(e).Wt({index:"collectionGroupOverlayIndex",range:P},(Q,ie,je)=>{const at=lu(this.M,ie);_.size()<h||at.largestBatchId===I?(_.set(at.getKey(),at),I=at.largestBatchId):je.done()}).next(()=>_)}Xt(e,n){return cu(e).put(function(l,h,_){const[I,P,Q]=Lh(h,_.mutation.key);return{userId:h,collectionPath:P,documentId:Q,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:uo(l.Jt,_.mutation)}}(this.M,this.userId,n))}}function cu(i){return Vs(i,"documentOverlays")}class Gu{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(wi(e.integerValue));else if("doubleValue"in e){const l=wi(e.doubleValue);isNaN(l)?this.ne(n,13):(this.ne(n,15),dc(l)?n.se(0):n.se(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ne(n,20),"string"==typeof l?n.ie(l):(n.ie(`${l.seconds||""}`),n.se(l.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ta(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const l=e.geoPointValue;this.ne(n,45),n.se(l.latitude||0),n.se(l.longitude||0)}else"mapValue"in e?lo(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):Un()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const l=e.fields||{};this.ne(n,55);for(const h of Object.keys(l))this.re(h,n),this.te(l[h],n)}he(e,n){const l=e.values||[];this.ne(n,50);for(const h of l)this.te(h,n)}ae(e,n){this.ne(n,37),wn.fromName(e).path.forEach(l=>{this.ne(n,60),this.le(l,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Bh(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function zu(i){const e=64-function(n){let l=0;for(let h=0;h<8;++h){const _=Bh(255&n[h]);if(l+=_,8!==_)break}return l}(i);return Math.ceil(e/8)}Gu.fe=new Gu;class Rf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this._e(l.value),l=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this.ge(l.value),l=n.next();this.ye()}pe(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this._e(l);else if(l<2048)this._e(960|l>>>6),this._e(128|63&l);else if(n<"\ud800"||"\udbff"<n)this._e(480|l>>>12),this._e(128|63&l>>>6),this._e(128|63&l);else{const h=n.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this.ge(l);else if(l<2048)this.ge(960|l>>>6),this.ge(128|63&l);else if(n<"\ud800"||"\udbff"<n)this.ge(480|l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l);else{const h=n.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const n=this.Ee(e),l=zu(n);this.Ae(1+l),this.buffer[this.position++]=255&l;for(let h=n.length-l;h<n.length;++h)this.buffer[this.position++]=255&n[h]}Re(e){const n=this.Ee(e),l=zu(n);this.Ae(1+l),this.buffer[this.position++]=~(255&l);for(let h=n.length-l;h<n.length;++h)this.buffer[this.position++]=~(255&n[h])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(h){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,h,!1),new Uint8Array(_.buffer)}(e),l=0!=(128&n[0]);n[0]^=l?255:128;for(let h=1;h<n.length;++h)n[h]^=l?255:0;return n}_e(e){const n=255&e;0===n?(this.Pe(0),this.Pe(255)):255===n?(this.Pe(255),this.Pe(0)):this.Pe(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let l=2*this.buffer.length;l<n&&(l=n);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class yl{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Ap{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class kl{constructor(){this.De=new Rf,this.Ce=new yl(this.De),this.xe=new Ap(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class wc{constructor(e,n,l,h){this.indexId=e,this.documentKey=n,this.arrayValue=l,this.directionalValue=h}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(n);return l.set(this.directionalValue,0),n!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new wc(this.indexId,this.documentKey,this.arrayValue,l)}}function du(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=xp(i.arrayValue,e.arrayValue),0!==n?n:(n=xp(i.directionalValue,e.directionalValue),0!==n?n:wn.comparator(i.documentKey,e.documentKey)))}function xp(i,e){for(let n=0;n<i.length&&n<e.length;++n){const l=i[n]-e[n];if(0!==l)return l}return i.length-e.length}class Mp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const l=n;l.S()?this.Fe=l:this.Oe.push(l)}}$e(e){const n=Pd(e);if(void 0!==n&&!this.Be(n))return!1;const l=_o(e);let h=0,_=0;for(;h<l.length&&this.Be(l[h]);++h);if(h===l.length)return!0;if(void 0!==this.Fe){const I=l[h];if(!this.Le(this.Fe,I)||!this.Ue(this.Me[_++],I))return!1;++h}for(;h<l.length;++h){const I=l[h];if(_>=this.Me.length||!this.Ue(this.Me[_++],I))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Ig{constructor(){this.qe=new Cg}addToCollectionParentIndex(e,n){return this.qe.add(n),$t.resolve()}getCollectionParents(e,n){return $t.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return $t.resolve()}deleteFieldIndex(e,n){return $t.resolve()}getDocumentsMatchingTarget(e,n){return $t.resolve(null)}getIndexType(e,n){return $t.resolve(0)}getFieldIndexes(e,n){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}getMinOffset(e,n){return $t.resolve(zs.min())}updateCollectionGroup(e,n,l){return $t.resolve()}updateIndexEntries(e,n){return $t.resolve()}}class Cg{constructor(){this.index={}}add(e){const n=e.lastSegment(),l=e.popLast(),h=this.index[n]||new H(Or.comparator),_=!h.has(l);return this.index[n]=h.add(l),_}has(e){const n=e.lastSegment(),l=e.popLast(),h=this.index[n];return h&&h.has(l)}getEntries(e){return(this.index[e]||new H(Or.comparator)).toArray()}}const Vh=new Uint8Array(0);class Tm{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new Cg,this.Ge=new Pu(l=>rn(l),(l,h)=>or(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const l=n.lastSegment(),h=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const _={collectionId:l,parent:eo(h)};return Rp(e).put(_)}return $t.resolve()}getCollectionParents(e,n){const l=[],h=IDBKeyRange.bound([n,""],[jt(n),""],!1,!0);return Rp(e).qt(h).next(_=>{for(const I of _){if(I.collectionId!==n)break;l.push(Ks(I.parent))}return l})}addFieldIndex(e,n){const l=Uh(e),h={indexId:(_=n).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(I=>[I.fieldPath.canonicalString(),I.kind])};var _;return delete h.indexId,l.add(h).next()}deleteFieldIndex(e,n){const l=Uh(e),h=Sa(e),_=Kd(e);return l.delete(n.indexId).next(()=>h.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const l=Kd(e);let h=!0;const _=new Map;return $t.forEach(this.Qe(n),I=>this.je(e,I).next(P=>{h&&(h=!!P),_.set(I,P)})).next(()=>{if(h){let I=xi();const P=[];return $t.forEach(_,(Q,ie)=>{var je;pn("IndexedDbIndexManager",`Using index ${je=Q,`id=${je.indexId}|cg=${je.collectionGroup}|f=${je.fields.map(qs=>`${qs.fieldPath}:${qs.kind}`).join(",")}`} to execute ${rn(n)}`);const at=function(qs,Pa){const Io=Pd(Pa);if(void 0===Io)return null;for(const ro of Kr(qs,Io.fieldPath))switch(ro.op){case"array-contains-any":return ro.value.arrayValue.values||[];case"array-contains":return[ro.value]}return null}(ie,Q),Lt=function(qs,Pa){const Io=new Map;for(const ro of _o(Pa))for(const Ja of Kr(qs,ro.fieldPath))switch(Ja.op){case"==":case"in":Io.set(ro.fieldPath.canonicalString(),Ja.value);break;case"not-in":case"!=":return Io.set(ro.fieldPath.canonicalString(),Ja.value),Array.from(Io.values())}return null}(ie,Q),sn=function(qs,Pa){const Io=[];let ro=!0;for(const Ja of _o(Pa)){const bp=0===Ja.kind?mr(qs,Ja.fieldPath,qs.startAt):yi(qs,Ja.fieldPath,qs.startAt);Io.push(bp.value),ro&&(ro=bp.inclusive)}return new ll(Io,ro)}(ie,Q),on=function(qs,Pa){const Io=[];let ro=!0;for(const Ja of _o(Pa)){const bp=0===Ja.kind?yi(qs,Ja.fieldPath,qs.endAt):mr(qs,Ja.fieldPath,qs.endAt);Io.push(bp.value),ro&&(ro=bp.inclusive)}return new ll(Io,ro)}(ie,Q),Kn=this.We(Q,ie,sn),Fr=this.We(Q,ie,on),Ys=this.ze(Q,ie,Lt),wo=this.He(Q.indexId,at,Kn,sn.inclusive,Fr,on.inclusive,Ys);return $t.forEach(wo,qs=>l.Gt(qs,n.limit).next(Pa=>{Pa.forEach(Io=>{const ro=wn.fromSegments(Io.documentKey);I.has(ro)||(I=I.add(ro),P.push(ro))})}))}).next(()=>P)}return $t.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}He(e,n,l,h,_,I,P){const Q=(null!=n?n.length:1)*Math.max(l.length,_.length),ie=Q/(null!=n?n.length:1),je=[];for(let at=0;at<Q;++at){const Lt=n?this.Je(n[at/ie]):Vh,sn=this.Ye(e,Lt,l[at%ie],h),on=this.Xe(e,Lt,_[at%ie],I),Kn=P.map(Fr=>this.Ye(e,Lt,Fr,!0));je.push(...this.createRange(sn,on,Kn))}return je}Ye(e,n,l,h){const _=new wc(e,wn.empty(),n,l);return h?_:_.ke()}Xe(e,n,l,h){const _=new wc(e,wn.empty(),n,l);return h?_.ke():_}je(e,n){const l=new Mp(n),h=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let I=null;for(const P of _)l.$e(P)&&(!I||P.fields.length>I.fields.length)&&(I=P);return I})}getIndexType(e,n){let l=2;return $t.forEach(this.Qe(n),h=>this.je(e,h).next(_=>{_?0!==l&&_.fields.length<function(I){let P=new H(Yi.comparator),Q=!1;for(const ie of I.filters){const je=ie;je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?Q=!0:P=P.add(je.field))}for(const ie of I.orderBy)ie.field.isKeyField()||(P=P.add(ie.field));return P.size+(Q?1:0)}(h)&&(l=1):l=0})).next(()=>l)}Ze(e,n){const l=new kl;for(const h of _o(e)){const _=n.data.field(h.fieldPath);if(null==_)return null;const I=l.Ne(h.kind);Gu.fe.Zt(_,I)}return l.Se()}Je(e){const n=new kl;return Gu.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const l=new kl;return Gu.fe.Zt(Ea(this.databaseId,n),l.Ne(function(h){const _=_o(h);return 0===_.length?0:_[_.length-1].kind}(e))),l.Se()}ze(e,n,l){if(null===l)return[];let h=[];h.push(new kl);let _=0;for(const I of _o(e)){const P=l[_++];for(const Q of h)if(this.en(n,I.fieldPath)&&Pi(P))h=this.nn(h,I,P);else{const ie=Q.Ne(I.kind);Gu.fe.Zt(P,ie)}}return this.sn(h)}We(e,n,l){return this.ze(e,n,l.position)}sn(e){const n=[];for(let l=0;l<e.length;++l)n[l]=e[l].Se();return n}nn(e,n,l){const h=[...e],_=[];for(const I of l.arrayValue.values||[])for(const P of h){const Q=new kl;Q.seed(P.Se()),Gu.fe.Zt(I,Q.Ne(n.kind)),_.push(Q)}return _}en(e,n){return!!e.filters.find(l=>l instanceof ti&&l.field.isEqual(n)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,n){const l=Uh(e),h=Sa(e);return(n?l.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):l.qt()).next(_=>{const I=[];return $t.forEach(_,P=>h.get([P.indexId,this.uid]).next(Q=>{I.push(function(ie,je){const at=je?new sa(je.sequenceNumber,new zs(bc(je.readTime),new wn(Ks(je.documentKey)),je.largestBatchId)):sa.empty(),Lt=ie.fields.map(([sn,on])=>new ql(Yi.fromServerFormat(sn),on));return new ia(ie.indexId,ie.collectionGroup,Lt,at)}(P,Q))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((l,h)=>{const _=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:xe(l.collectionGroup,h.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,l){const h=Uh(e),_=Sa(e);return this.rn(e).next(I=>h.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>$t.forEach(P,Q=>{return _.put({indexId:Q.indexId,uid:this.user.uid||"",sequenceNumber:I,readTime:Wa((Lt=l).readTime),documentKey:eo(Lt.documentKey.path),largestBatchId:Lt.largestBatchId});var Lt})))}updateIndexEntries(e,n){const l=new Map;return $t.forEach(n,(h,_)=>{const I=l.get(h.collectionGroup);return(I?$t.resolve(I):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(l.set(h.collectionGroup,P),$t.forEach(P,Q=>this.on(e,h,Q).next(ie=>{const je=this.un(_,Q);return ie.isEqual(je)?$t.resolve():this.an(e,_,Q,ie,je)}))))})}cn(e,n,l,h){return Kd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(l,n.key),documentKey:n.key.path.toArray()})}hn(e,n,l,h){return Kd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(l,n.key),n.key.path.toArray()])}on(e,n,l){const h=Kd(e);let _=new H(du);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.tn(l,n)])},(I,P)=>{_=_.add(new wc(l.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>_)}un(e,n){let l=new H(du);const h=this.Ze(n,e);if(null==h)return l;const _=Pd(n);if(null!=_){const I=e.data.field(_.fieldPath);if(Pi(I))for(const P of I.arrayValue.values||[])l=l.add(new wc(n.indexId,e.key,this.Je(P),h))}else l=l.add(new wc(n.indexId,e.key,Vh,h));return l}an(e,n,l,h,_){pn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const I=[];return function(P,Q,ie,je,at){const Lt=P.getIterator(),sn=Q.getIterator();let on=Ue(Lt),Kn=Ue(sn);for(;on||Kn;){let Fr=!1,Ys=!1;if(on&&Kn){const wo=ie(on,Kn);wo<0?Ys=!0:wo>0&&(Fr=!0)}else null!=on?Ys=!0:Fr=!0;Fr?(je(Kn),Kn=Ue(sn)):Ys?(at(on),on=Ue(Lt)):(on=Ue(Lt),Kn=Ue(sn))}}(h,_,du,P=>{I.push(this.cn(e,n,l,P))},P=>{I.push(this.hn(e,n,l,P))}),$t.waitFor(I)}rn(e){let n=1;return Sa(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,_)=>{_.done(),n=h.sequenceNumber+1}).next(()=>n)}createRange(e,n,l){l=l.sort((I,P)=>du(I,P)).filter((I,P,Q)=>!P||0!==du(I,Q[P-1]));const h=[];h.push(e);for(const I of l){const P=du(I,e),Q=du(I,n);if(0===P)h[0]=e.ke();else if(P>0&&Q<0)h.push(I),h.push(I.ke());else if(Q>0)break}h.push(n);const _=[];for(let I=0;I<h.length;I+=2)_.push(IDBKeyRange.bound([h[I].indexId,this.uid,h[I].arrayValue,h[I].directionalValue,Vh,[]],[h[I+1].indexId,this.uid,h[I+1].arrayValue,h[I+1].directionalValue,Vh,[]]));return _}getMinOffset(e,n){let l;return $t.forEach(this.Qe(n),h=>this.je(e,h).next(_=>{_?(!l||ba(_.indexState.offset,l)<0)&&(l=_.indexState.offset):l=zs.min()})).next(()=>l)}}function Rp(i){return Vs(i,"collectionParents")}function Kd(i){return Vs(i,"indexEntries")}function Uh(i){return Vs(i,"indexConfiguration")}function Sa(i){return Vs(i,"indexState")}const Dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class da{constructor(e,n,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new da(e,da.DEFAULT_COLLECTION_PERCENTILE,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tg(i,e,n){const l=i.store("mutations"),h=i.store("documentMutations"),_=[],I=IDBKeyRange.only(n.batchId);let P=0;const Q=l.Wt({range:I},(je,at,Lt)=>(P++,Lt.delete()));_.push(Q.next(()=>{zn(1===P)}));const ie=[];for(const je of n.mutations){const at=iu(e,je.key.path,n.batchId);_.push(h.delete(at)),ie.push(je.key)}return $t.waitFor(_).next(()=>ie)}function Of(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Un();e=i.noDocument}return JSON.stringify(e).length}da.DEFAULT_COLLECTION_PERCENTILE=10,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,da.DEFAULT=new da(41943040,da.DEFAULT_COLLECTION_PERCENTILE,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),da.DISABLED=new da(-1,0,0);class Op{constructor(e,n,l,h){this.userId=e,this.M=n,this.indexManager=l,this.referenceDelegate=h,this.ln={}}static Yt(e,n,l,h){zn(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Op(_,n,l,h)}checkEmpty(e){let n=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(e).Wt({index:"userMutationsIndex",range:l},(h,_,I)=>{n=!1,I.done()}).next(()=>n)}addMutationBatch(e,n,l,h){const _=sd(e),I=Fl(e);return I.add({}).next(P=>{zn("number"==typeof P);const Q=new id(P,n,l,h),ie=function(Lt,sn,on){const Kn=on.baseMutations.map(Ys=>uo(Lt.Jt,Ys)),Fr=on.mutations.map(Ys=>uo(Lt.Jt,Ys));return{userId:sn,batchId:on.batchId,localWriteTimeMs:on.localWriteTime.toMillis(),baseMutations:Kn,mutations:Fr}}(this.M,this.userId,Q),je=[];let at=new H((Lt,sn)=>xe(Lt.canonicalString(),sn.canonicalString()));for(const Lt of h){const sn=iu(this.userId,Lt.key.path,P);at=at.add(Lt.key.path.popLast()),je.push(I.put(ie)),je.push(_.put(sn,nd))}return at.forEach(Lt=>{je.push(this.indexManager.addToCollectionParentIndex(e,Lt))}),e.addOnCommittedListener(()=>{this.ln[P]=Q.keys()}),$t.waitFor(je).next(()=>Q)})}lookupMutationBatch(e,n){return Fl(e).get(n).next(l=>l?(zn(l.userId===this.userId),au(this.M,l)):null)}fn(e,n){return this.ln[n]?$t.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(l=>{if(l){const h=l.keys();return this.ln[n]=h,h}return null})}getNextMutationBatchAfterBatchId(e,n){const l=n+1,h=IDBKeyRange.lowerBound([this.userId,l]);let _=null;return Fl(e).Wt({index:"userMutationsIndex",range:h},(I,P,Q)=>{P.userId===this.userId&&(zn(P.batchId>=l),_=au(this.M,P)),Q.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Fl(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(h,_,I)=>{l=_.batchId,I.done()}).next(()=>l)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(e).qt("userMutationsIndex",n).next(l=>l.map(h=>au(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,n){const l=vc(this.userId,n.path),h=IDBKeyRange.lowerBound(l),_=[];return sd(e).Wt({range:h},(I,P,Q)=>{const[ie,je,at]=I,Lt=Ks(je);if(ie===this.userId&&n.path.isEqual(Lt))return Fl(e).get(at).next(sn=>{if(!sn)throw Un();zn(sn.userId===this.userId),_.push(au(this.M,sn))});Q.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new H(xe);const h=[];return n.forEach(_=>{const I=vc(this.userId,_.path),P=IDBKeyRange.lowerBound(I),Q=sd(e).Wt({range:P},(ie,je,at)=>{const[Lt,sn,on]=ie,Kn=Ks(sn);Lt===this.userId&&_.path.isEqual(Kn)?l=l.add(on):at.done()});h.push(Q)}),$t.waitFor(h).next(()=>this.dn(e,l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,h=l.length+1,_=vc(this.userId,l),I=IDBKeyRange.lowerBound(_);let P=new H(xe);return sd(e).Wt({range:I},(Q,ie,je)=>{const[at,Lt,sn]=Q,on=Ks(Lt);at===this.userId&&l.isPrefixOf(on)?on.length===h&&(P=P.add(sn)):je.done()}).next(()=>this.dn(e,P))}dn(e,n){const l=[],h=[];return n.forEach(_=>{h.push(Fl(e).get(_).next(I=>{if(null===I)throw Un();zn(I.userId===this.userId),l.push(au(this.M,I))}))}),$t.waitFor(h).next(()=>l)}removeMutationBatch(e,n){return Tg(e.Ht,this.userId,n).next(l=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),$t.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $t.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return sd(e).Wt({range:l},(_,I,P)=>{if(_[0]===this.userId){const Q=Ks(_[1]);h.push(Q)}else P.done()}).next(()=>{zn(0===h.length)})})}containsKey(e,n){return $h(e,this.userId,n)}wn(e){return jh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $h(i,e,n){const l=vc(e,n.path),h=l[1],_=IDBKeyRange.lowerBound(l);let I=!1;return sd(i).Wt({range:_,jt:!0},(P,Q,ie)=>{const[je,at,Lt]=P;je===e&&at===h&&(I=!0),ie.done()}).next(()=>I)}function Fl(i){return Vs(i,"mutations")}function sd(i){return Vs(i,"documentMutations")}function jh(i){return Vs(i,"mutationQueues")}class od{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new od(0)}static yn(){return new od(-1)}}class Ar{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const l=new od(n.highestTargetId);return n.highestTargetId=l.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>_n.fromTimestamp(new gn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,l){return this.pn(e).next(h=>(h.highestListenSequenceNumber=n,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),n>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=n),this.In(e,h)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(l=>(l.targetCount+=1,this.En(n,l),this.In(e,l))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ic(e).delete(n.targetId)).next(()=>this.pn(e)).next(l=>(zn(l.targetCount>0),l.targetCount-=1,this.In(e,l)))}removeTargets(e,n,l){let h=0;const _=[];return Ic(e).Wt((I,P)=>{const Q=Hu(P);Q.sequenceNumber<=n&&null===l.get(Q.targetId)&&(h++,_.push(this.removeTargetData(e,Q)))}).next(()=>$t.waitFor(_)).next(()=>h)}forEachTarget(e,n){return Ic(e).Wt((l,h)=>{const _=Hu(h);n(_)})}pn(e){return Pf(e).get("targetGlobalKey").next(n=>(zn(null!==n),n))}In(e,n){return Pf(e).put("targetGlobalKey",n)}Tn(e,n){return Ic(e).put(zd(this.M,n))}En(e,n){let l=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,l=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const l=rn(n),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let _=null;return Ic(e).Wt({range:h,index:"queryTargetsIndex"},(I,P,Q)=>{const ie=Hu(P);or(n,ie.target)&&(_=ie,Q.done())}).next(()=>_)}addMatchingKeys(e,n,l){const h=[],_=Wu(e);return n.forEach(I=>{const P=eo(I.path);h.push(_.put({targetId:l,path:P})),h.push(this.referenceDelegate.addReference(e,l,I))}),$t.waitFor(h)}removeMatchingKeys(e,n,l){const h=Wu(e);return $t.forEach(n,_=>{const I=eo(_.path);return $t.waitFor([h.delete([l,I]),this.referenceDelegate.removeReference(e,l,_)])})}removeMatchingKeysForTargetId(e,n){const l=Wu(e),h=IDBKeyRange.bound([n],[n+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,n){const l=IDBKeyRange.bound([n],[n+1],!1,!0),h=Wu(e);let _=xi();return h.Wt({range:l,jt:!0},(I,P,Q)=>{const ie=Ks(I[1]),je=new wn(ie);_=_.add(je)}).next(()=>_)}containsKey(e,n){const l=eo(n.path),h=IDBKeyRange.bound([l],[jt(l)],!1,!0);let _=0;return Wu(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([I,P],Q,ie)=>{0!==I&&(_++,ie.done())}).next(()=>_>0)}Et(e,n){return Ic(e).get(n).next(l=>l?Hu(l):null)}}function Ic(i){return Vs(i,"targets")}function Pf(i){return Vs(i,"targetGlobal")}function Wu(i){return Vs(i,"targetDocuments")}function hu(i){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,c.Z)(function*(i){if(i.code!==St.FAILED_PRECONDITION||i.message!==ho)throw i;pn("LocalStore","Unexpectedly lost primary lease")}),Aa.apply(this,arguments)}function Hh([i,e],[n,l]){const h=xe(i,n);return 0===h?xe(e,l):h}class Sm{constructor(e){this.An=e,this.buffer=new H(Hh),this.Rn=0}bn(){return++this.Rn}Pn(e){const n=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const l=this.buffer.last();Hh(n,l)<0&&(this.buffer=this.buffer.delete(l).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pp{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const l=this.Vn?3e5:6e4;pn("LruGarbageCollector",`Garbage collection scheduled in ${l}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",l,(0,c.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(h){ml(h)?pn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield hu(h)}yield n.Sn(e)}))}}class Ku{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(l=>Math.floor(n/100*l))}nthSequenceNumber(e,n){if(0===n)return $t.resolve(V.A);const l=new Sm(n);return this.Dn.forEachTarget(e,h=>l.Pn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>l.Pn(h))).next(()=>l.maxValue)}removeTargets(e,n,l){return this.Dn.removeTargets(e,n,l)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(pn("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(Dg)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(pn("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dg):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let l,h,_,I,P,Q,ie;const je=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(at=>(at>this.params.maximumSequenceNumbersToCollect?(pn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${at}`),h=this.params.maximumSequenceNumbersToCollect):h=at,I=Date.now(),this.nthSequenceNumber(e,h))).next(at=>(l=at,P=Date.now(),this.removeTargets(e,l,n))).next(at=>(_=at,Q=Date.now(),this.removeOrphanedDocuments(e,l))).next(at=>(ie=Date.now(),Eu()<=ke.in.DEBUG&&pn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-je}ms\n\tDetermined least recently used ${h} in `+(P-I)+`ms\n\tRemoved ${_} targets in `+(Q-P)+`ms\n\tRemoved ${at} documents in `+(ie-Q)+`ms\nTotal Duration: ${ie-je}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:at})))}}class Np{constructor(e,n){this.db=e,this.garbageCollector=new Ku(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>n.next(h=>l+h))}kn(e){let n=0;return this.xn(e,l=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(l,h)=>n(h))}addReference(e,n,l){return Yd(e,l)}removeReference(e,n,l){return Yd(e,l)}removeTargets(e,n,l){return this.db.getTargetCache().removeTargets(e,n,l)}markPotentiallyOrphaned(e,n){return Yd(e,n)}On(e,n){return function(l,h){let _=!1;return jh(l).zt(I=>$h(l,I,h).next(P=>(P&&(_=!0),$t.resolve(!P)))).next(()=>_)}(e,n)}removeOrphanedDocuments(e,n){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.Mn(e,(I,P)=>{if(P<=n){const Q=this.On(e,I).next(ie=>{if(!ie)return _++,l.getEntry(e,I).next(()=>(l.removeEntry(I,_n.min()),Wu(e).delete([0,eo(I.path)])))});h.push(Q)}}).next(()=>$t.waitFor(h)).next(()=>l.apply(e)).next(()=>_)}removeTarget(e,n){const l=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,n){return Yd(e,n)}Mn(e,n){const l=Wu(e);let h,_=V.A;return l.Wt({index:"documentTargetsIndex"},([I,P],{path:Q,sequenceNumber:ie})=>{0===I?(_!==V.A&&n(new wn(Ks(h)),_),_=ie,h=Q):_=V.A}).next(()=>{_!==V.A&&n(new wn(Ks(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yd(i,e){return Wu(i).put((l=i.currentSequenceNumber,{targetId:0,path:eo(e.path),sequenceNumber:l}));var l}class ad{constructor(){this.changes=new Pu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const l=this.changes.get(n);return void 0!==l?$t.resolve(l):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,l){return Ll(e).put(l)}removeEntry(e,n,l){return Ll(e).delete(function(h,_){const I=h.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],ju(_),I[I.length-1]]}(n,l))}updateMetadata(e,n){return this.getMetadata(e).next(l=>(l.byteSize+=n,this.Fn(e,l)))}getEntry(e,n){let l=gr.newInvalidDocument(n);return Ll(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(fu(n))},(h,_)=>{l=this.$n(n,_)}).next(()=>l)}Bn(e,n){let l={size:0,document:gr.newInvalidDocument(n)};return Ll(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(fu(n))},(h,_)=>{l={document:this.$n(n,_),size:Of(_)}}).next(()=>l)}getEntries(e,n){let l=Eo();return this.Ln(e,n,(h,_)=>{const I=this.$n(h,_);l=l.insert(h,I)}).next(()=>l)}Un(e,n){let l=Eo(),h=new us(wn.comparator);return this.Ln(e,n,(_,I)=>{const P=this.$n(_,I);l=l.insert(_,P),h=h.insert(_,Of(I))}).next(()=>({documents:l,qn:h}))}Ln(e,n,l){if(n.isEmpty())return $t.resolve();let h=new H(kf);n.forEach(Q=>h=h.add(Q));const _=IDBKeyRange.bound(fu(h.first()),fu(h.last())),I=h.getIterator();let P=I.getNext();return Ll(e).Wt({index:"documentKeyIndex",range:_},(Q,ie,je)=>{const at=wn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;P&&kf(P,at)<0;)l(P,null),P=I.getNext();P&&P.isEqual(at)&&(l(P,ie),P=I.hasNext()?I.getNext():null),P?je.Ut(fu(P)):je.done()}).next(()=>{for(;P;)l(P,null),P=I.hasNext()?I.getNext():null})}getAllFromCollection(e,n,l){const h=[n.popLast().toArray(),n.lastSegment(),ju(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],_=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ll(e).qt(IDBKeyRange.bound(h,_,!0)).next(I=>{let P=Eo();for(const Q of I){const ie=this.$n(wn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);P=P.insert(ie.key,ie)}return P})}getAllFromCollectionGroup(e,n,l,h){let _=Eo();const I=Nf(n,l),P=Nf(n,zs.max());return Ll(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,P,!0)},(Q,ie,je)=>{const at=this.$n(wn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);_=_.insert(at.key,at),_.size===h&&je.done()}).next(()=>_)}newChangeBuffer(e){return new kp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Am(e).get("remoteDocumentGlobalKey").next(n=>(zn(!!n),n))}Fn(e,n){return Am(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const l=function Dm(i,e){let n;if(e.document)n=Af(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=wn.fromSegments(e.noDocument.path),h=bc(e.noDocument.readTime);n=gr.newNoDocument(l,h),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Un();{const l=wn.fromSegments(e.unknownDocument.path),h=bc(e.unknownDocument.version);n=gr.newUnknownDocument(l,h)}}return e.readTime&&n.setReadTime(function(l){const h=new gn(l[0],l[1]);return _n.fromTimestamp(h)}(e.readTime)),n}(this.M,n);if(!l.isNoDocument()||!l.version.isEqual(_n.min()))return l}return gr.newInvalidDocument(e)}}class kp extends ad{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new Pu(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const n=[];let l=0,h=new H((_,I)=>xe(_.canonicalString(),I.canonicalString()));return this.changes.forEach((_,I)=>{const P=this.Gn.get(_);if(n.push(this.Kn.removeEntry(e,_,P.readTime)),I.isValidDocument()){const Q=Sp(this.Kn.M,I);h=h.add(_.path.popLast()),l+=Of(Q)-P.size,n.push(this.Kn.addEntry(e,_,Q))}else if(l-=P.size,this.trackRemovals){const Q=Sp(this.Kn.M,I.convertToNoDocument(_n.min()));n.push(this.Kn.addEntry(e,_,Q))}}),h.forEach(_=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,_))}),n.push(this.Kn.updateMetadata(e,l)),$t.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(l=>(this.Gn.set(n,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:l,qn:h})=>(h.forEach((_,I)=>{this.Gn.set(_,{size:I,readTime:l.get(_).readTime})}),l))}}function Am(i){return Vs(i,"remoteDocumentGlobal")}function Ll(i){return Vs(i,"remoteDocumentsV14")}function fu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Nf(i,e){const n=e.documentKey.path.toArray();return[i,ju(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kf(i,e){const n=i.path.toArray(),l=e.path.toArray();let h=0;for(let _=0;_<n.length-2&&_<l.length-2;++_)if(h=xe(n[_],l[_]),h)return h;return h=xe(n.length,l.length),h||(h=xe(n[n.length-2],l[l.length-2]),h||xe(n[n.length-1],l[l.length-1]))}class Fp{constructor(e){this.M=e}kt(e,n,l,h){const _=new ua("createOrUpgrade",n);var P;l<1&&h>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bu,{unique:!0}),P.createObjectStore("documentMutations"),xm(e),function(P){P.createObjectStore("remoteDocuments")}(e));let I=$t.resolve();return l<3&&h>=3&&(0!==l&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),xm(e)),I=I.next(()=>function(P){const Q=P.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",ie)}(_))),l<4&&h>=4&&(0!==l&&(I=I.next(()=>function(P,Q){return Q.store("mutations").qt().next(ie=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bu,{unique:!0});const je=Q.store("mutations"),at=ie.map(Lt=>je.put(Lt));return $t.waitFor(at)})}(e,_))),I=I.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(I=I.next(()=>this.Qn(_))),l<6&&h>=6&&(I=I.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.jn(_)))),l<7&&h>=7&&(I=I.next(()=>this.Wn(_))),l<8&&h>=8&&(I=I.next(()=>this.zn(e,_))),l<9&&h>=9&&(I=I.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(I=I.next(()=>this.Hn(_))),l<11&&h>=11&&(I=I.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(I=I.next(()=>{!function(P){const Q=P.createObjectStore("documentOverlays",{keyPath:ht});Q.createIndex("collectionPathOverlayIndex",Ht,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",vn,{unique:!1})}(e)})),l<13&&h>=13&&(I=I.next(()=>function(P){const Q=P.createObjectStore("remoteDocumentsV14",{keyPath:Vu});Q.createIndex("documentKeyIndex",Tp),Q.createIndex("collectionGroupIndex",kh)}(e)).next(()=>this.Jn(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(I=I.next(()=>{!function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:y}).createIndex("sequenceNumberIndex",S,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:Y}).createIndex("documentKeyIndex",me,{unique:!1})}(e)})),I}jn(e){let n=0;return e.store("remoteDocuments").Wt((l,h)=>{n+=Of(h)}).next(()=>{const l={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Qn(e){const n=e.store("mutationQueues"),l=e.store("mutations");return n.qt().next(h=>$t.forEach(h,_=>{const I=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return l.qt("userMutationsIndex",I).next(P=>$t.forEach(P,Q=>{zn(Q.userId===_.userId);const ie=au(this.M,Q);return Tg(e,_.userId,ie).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return l.Wt((I,P)=>{const Q=new Or(I),ie=[0,eo(Q)];_.push(n.get(ie).next(je=>je?$t.resolve():n.put({targetId:0,path:eo(Q),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>$t.waitFor(_))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:g});const l=n.store("collectionParents"),h=new Cg,_=I=>{if(h.add(I)){const P=I.lastSegment(),Q=I.popLast();return l.put({collectionId:P,parent:eo(Q)})}};return n.store("remoteDocuments").Wt({jt:!0},(I,P)=>{const Q=new Or(I);return _(Q.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([I,P,Q],ie)=>{const je=Ks(P);return _(je.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((l,h)=>{const _=Hu(h),I=zd(this.M,_);return n.put(I)})}Jn(e,n){const l=n.store("remoteDocuments"),h=[];return l.Wt((_,I)=>{const P=n.store("remoteDocumentsV14"),Q=(ie=I,ie.document?new wn(Or.fromString(ie.document.name).popFirst(5)):ie.noDocument?wn.fromSegments(ie.noDocument.path):ie.unknownDocument?wn.fromSegments(ie.unknownDocument.path):Un()).path.toArray();var ie;const je={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};h.push(P.put(je))}).next(()=>$t.waitFor(h))}}function xm(i){i.createObjectStore("targetDocuments",{keyPath:gl}).createIndex("documentTargetsIndex",w,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pl,{unique:!0}),i.createObjectStore("targetGlobal")}const Lp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bp{constructor(e,n,l,h,_,I,P,Q,ie,je,at=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=l,this.Yn=_,this.window=I,this.document=P,this.Xn=ie,this.Zn=je,this.ts=at,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Lt=>Promise.resolve(),!Bp.vt())throw new en(St.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Np(this,h),this.hs=n+"main",this.M=new $u(Q),this.ls=new Uo(this.hs,this.ts,new Fp(this.M)),this.fs=new Ar(this.referenceDelegate,this.M),this.ds=new Sg(this.M),this._s=new wg,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===je&&Ds("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new en(St.FAILED_PRECONDITION,Lp);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new V(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var l=(0,c.Z)(function*(h){if(n.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,c.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.bs(e).next(()=>!0))).catch(e=>{if(ml(e))return pn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Gh(e).get("owner").next(n=>$t.resolve(this.Ps(n)))}Vs(e){return zh(e).delete(this.clientId)}vs(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=Vs(l,"clientMetadata");return h.qt().next(_=>{const I=e.Ds(_,18e5),P=_.filter(Q=>-1===I.indexOf(Q));return $t.forEach(P,Q=>h.delete(Q.clientId)).next(()=>P)})}).catch(()=>[]);if(e.ws)for(const l of n)e.ws.removeItem(e.Cs(l.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?$t.resolve(!0):Gh(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.Ps(n)&&this.networkEnabled)return!0;if(!this.Ps(n)){if(!n.allowTabSynchronization)throw new en(St.FAILED_PRECONDITION,Lp);return!1}}return!(!this.networkEnabled||!this.inForeground)||zh(e).qt().next(l=>void 0===this.Ds(l,5e3).find(h=>{if(this.clientId!==h.clientId){const I=!this.inForeground&&h.inForeground,P=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||I&&P)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&pn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const l=new Ec(n,V.A);return e.Rs(l).next(()=>e.Vs(l))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(l=>this.Ss(l.updateTimeMs,n)&&!this.xs(l.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>zh(e).qt().next(n=>this.Ds(n,18e5).map(l=>l.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return Op.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Tm(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return uu.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,l){pn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===n?"readonly":"readwrite",_=14===(I=this.ts)?Os:13===I?Xn:12===I?ar:11===I?Nn:void Un();var I;let P;return this.ls.runTransaction(e,h,_,Q=>(P=new Ec(Q,this.es?this.es.next():V.A),"readwrite-primary"===n?this.Es(P).next(ie=>!!ie||this.As(P)).next(ie=>{if(!ie)throw Ds(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new en(St.FAILED_PRECONDITION,ho);return l(P)}).next(ie=>this.bs(P).next(()=>ie)):this.$s(P).next(()=>l(P)))).then(Q=>(P.raiseOnCommittedEvent(),Q))}$s(e){return Gh(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.Ps(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new en(St.FAILED_PRECONDITION,Lp)})}bs(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gh(e).put("owner",n)}static vt(){return Uo.vt()}Rs(e){const n=Gh(e);return n.get("owner").next(l=>this.Ps(l)?(pn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$t.resolve())}Ss(e,n){const l=Date.now();return!(e<l-n||e>l&&(Ds(`Detected an update time that is in the future: ${e} > ${l}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Te.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const l=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return pn("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Ds("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Ds("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gh(i){return Vs(i,"owner")}function zh(i){return Vs(i,"clientMetadata")}function Ff(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Mm{constructor(e,n,l){this.ds=e,this.Bs=n,this.indexManager=l}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(l=>this.Us(e,n,l))}Us(e,n,l){return this.ds.getEntry(e,n).next(h=>{for(const _ of l)_.applyToLocalView(h);return h})}qs(e,n){e.forEach((l,h)=>{for(const _ of n)_.applyToLocalView(h)})}Ks(e,n){return this.ds.getEntries(e,n).next(l=>this.Gs(e,l).next(()=>l))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>this.qs(n,l))}Qs(e,n,l){return wn.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,n.path):bh(n)?this.Ws(e,n,l):this.zs(e,n,l);var h}js(e,n){return this.Ls(e,new wn(n)).next(l=>{let h=Jl();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}Ws(e,n,l){const h=n.collectionGroup;let _=Jl();return this.indexManager.getCollectionParents(e,h).next(I=>$t.forEach(I,P=>{const Q=(ie=n,je=P.child(h),new Lo(je,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,je;return this.zs(e,Q,l).next(ie=>{ie.forEach((je,at)=>{_=_.insert(je,at)})})}).next(()=>_))}zs(e,n,l){let h;return this.ds.getAllFromCollection(e,n.path,l).next(_=>(h=_,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(_=>{for(const I of _)for(const P of I.mutations){const Q=P.key;let ie=h.get(Q);null==ie&&(ie=gr.newInvalidDocument(Q),h=h.insert(Q,ie)),Qc(P,ie,I.localWriteTime),ie.isFoundDocument()||(h=h.remove(Q))}}).next(()=>(h.forEach((_,I)=>{ul(n,I)||(h=h.remove(_))}),h))}}class Lf{constructor(e,n,l,h){this.targetId=e,this.fromCache=n,this.Hs=l,this.Js=h}static Ys(e,n){let l=xi(),h=xi();for(const _ of n.docChanges)switch(_.type){case 0:l=l.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new Lf(e,n.fromCache,l,h)}}class Rm{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,l,h){return this.ti(e,n).next(_=>_||this.ei(e,n,h,l)).next(_=>_||this.ni(e,n))}ti(e,n){return $t.resolve(null)}ei(e,n,l,h){return function Eh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||h.isEqual(_n.min())?this.ni(e,n):this.Zs.Ks(e,l).next(_=>{const I=this.si(n,_);return this.ii(n,I,l,h)?this.ni(e,n):(Eu()<=ke.in.DEBUG&&pn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),hc(n)),this.ri(e,I,n,Iu(h,-1)))})}si(e,n){let l=new H(Ld(e));return n.forEach((h,_)=>{ul(e,_)&&(l=l.add(_))}),l}ii(e,n,l,h){if(null===e.limit)return!1;if(l.size!==n.size)return!0;const _="F"===e.limitType?n.last():n.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}ni(e,n){return Eu()<=ke.in.DEBUG&&pn("QueryEngine","Using full collection scan to execute query:",hc(n)),this.Zs.Qs(e,n,zs.min())}ri(e,n,l,h){return this.Zs.Qs(e,l,h).next(_=>(n.forEach(I=>{_=_.insert(I.key,I)}),_))}}class Vp{constructor(e,n,l,h){this.persistence=e,this.oi=n,this.M=h,this.ui=new us(xe),this.ai=new Pu(_=>rn(_),or),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(l)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Mm(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function qd(i,e,n,l){return new Vp(i,e,n,l)}function Up(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,c.Z)(function*(i,e){const n=Dn(i);return yield n.persistence.runTransaction("Handle user change","readonly",l=>{let h;return n.Bs.getAllMutationBatches(l).next(_=>(h=_,n.li(e),n.Bs.getAllMutationBatches(l))).next(_=>{const I=[],P=[];let Q=xi();for(const ie of h){I.push(ie.batchId);for(const je of ie.mutations)Q=Q.add(je.key)}for(const ie of _){P.push(ie.batchId);for(const je of ie.mutations)Q=Q.add(je.key)}return n.fi.Ks(l,Q).next(ie=>({di:ie,removedBatchIds:I,addedBatchIds:P}))})})}),Wh.apply(this,arguments)}function py(i,e){const n=Dn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),_=n.hi.newChangeBuffer({trackRemovals:!0});return function(I,P,Q,ie){const je=Q.batch,at=je.keys();let Lt=$t.resolve();return at.forEach(sn=>{Lt=Lt.next(()=>ie.getEntry(P,sn)).next(on=>{const Kn=Q.docVersions.get(sn);zn(null!==Kn),on.version.compareTo(Kn)<0&&(je.applyToRemoteDocument(on,Q),on.isValidDocument()&&(on.setReadTime(Q.commitVersion),ie.addEntry(on)))})}),Lt.next(()=>I.Bs.removeMutationBatch(P,je))}(n,l,e,_).next(()=>_.apply(l)).next(()=>n.Bs.performConsistencyCheck(l)).next(()=>n.fi.Ks(l,h))})}function Om(i){const e=Dn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Ag(i,e){const n=Dn(i),l=e.snapshotVersion;let h=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const I=n.hi.newChangeBuffer({trackRemovals:!0});h=n.ui;const P=[];e.targetChanges.forEach((ie,je)=>{const at=h.get(je);if(!at)return;P.push(n.fs.removeMatchingKeys(_,ie.removedDocuments,je).next(()=>n.fs.addMatchingKeys(_,ie.addedDocuments,je)));let Lt=at.withSequenceNumber(_.currentSequenceNumber);var sn,on,Kn;e.targetMismatches.has(je)?Lt=Lt.withResumeToken(as.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):ie.resumeToken.approximateByteSize()>0&&(Lt=Lt.withResumeToken(ie.resumeToken,l)),h=h.insert(je,Lt),on=Lt,Kn=ie,(0===(sn=at).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-sn.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&P.push(n.fs.updateTargetData(_,Lt))});let Q=Eo();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(_,ie))}),P.push(xg(_,I,e.documentUpdates).next(ie=>{Q=ie})),!l.isEqual(_n.min())){const ie=n.fs.getLastRemoteSnapshotVersion(_).next(je=>n.fs.setTargetsMetadata(_,_.currentSequenceNumber,l));P.push(ie)}return $t.waitFor(P).next(()=>I.apply(_)).next(()=>n.fi.Gs(_,Q)).next(()=>Q)}).then(_=>(n.ui=h,_))}function xg(i,e,n){let l=xi();return n.forEach(h=>l=l.add(h)),e.getEntries(i,l).next(h=>{let _=Eo();return n.forEach((I,P)=>{const Q=h.get(I);P.isNoDocument()&&P.version.isEqual(_n.min())?(e.removeEntry(I,P.readTime),_=_.insert(I,P)):!Q.isValidDocument()||P.version.compareTo(Q.version)>0||0===P.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(P),_=_.insert(I,P)):pn("LocalStore","Ignoring outdated watch update for ",I,". Current version:",Q.version," Watch version:",P.version)}),_})}function gy(i,e){const n=Dn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(l,e)))}function Kh(i,e){const n=Dn(i);return n.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return n.fs.getTargetData(l,e).next(_=>_?(h=_,$t.resolve(h)):n.fs.allocateTargetId(l).next(I=>(h=new ca(e,I,0,l.currentSequenceNumber),n.fs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=n.ui.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(n.ui=n.ui.insert(l.targetId,l),n.ai.set(e,l.targetId)),l})}function Zd(i,e,n){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,c.Z)(function*(i,e,n){const l=Dn(i),h=l.ui.get(e),_=n?"readwrite":"readwrite-primary";try{n||(yield l.persistence.runTransaction("Release target",_,I=>l.persistence.referenceDelegate.removeTarget(I,h)))}catch(I){if(!ml(I))throw I;pn("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}l.ui=l.ui.remove(e),l.ai.delete(h.target)}),Yu.apply(this,arguments)}function Bf(i,e,n){const l=Dn(i);let h=_n.min(),_=xi();return l.persistence.runTransaction("Execute query","readonly",I=>function(P,Q,ie){const je=Dn(P),at=je.ai.get(ie);return void 0!==at?$t.resolve(je.ui.get(at)):je.fs.getTargetData(Q,ie)}(l,I,Bo(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,l.fs.getMatchingKeysForTargetId(I,P.targetId).next(Q=>{_=Q})}).next(()=>l.oi.Qs(I,e,n?h:_n.min(),n?_:xi())).next(P=>(ld(l,Au(e),P),{documents:P,_i:_})))}function Mg(i,e){const n=Dn(i),l=Dn(n.fs),h=n.ui.get(e);return h?Promise.resolve(h.target):n.persistence.runTransaction("Get target data","readonly",_=>l.Et(_,e).next(I=>I?I.target:null))}function jo(i,e){const n=Dn(i),l=n.ci.get(e)||_n.min();return n.persistence.runTransaction("Get new document changes","readonly",h=>n.hi.getAllFromCollectionGroup(h,e,Iu(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(ld(n,e,h),h))}function ld(i,e,n){let l=_n.min();n.forEach((h,_)=>{_.readTime.compareTo(l)>0&&(l=_.readTime)}),i.ci.set(e,l)}function Uf(){return Uf=(0,c.Z)(function*(i,e,n,l){const h=Dn(i);let _=xi(),I=Eo();for(const ie of n){const je=e.wi(ie.metadata.name);ie.document&&(_=_.add(je));const at=e.mi(ie);at.setReadTime(e.gi(ie.metadata.readTime)),I=I.insert(je,at)}const P=h.hi.newChangeBuffer({trackRemovals:!0}),Q=yield Kh(h,(ie=l,Bo(Xl(Or.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",ie=>xg(ie,P,I).next(je=>(P.apply(ie),je)).next(je=>h.fs.removeMatchingKeysForTargetId(ie,Q.targetId).next(()=>h.fs.addMatchingKeys(ie,_,Q.targetId)).next(()=>h.fi.Gs(ie,je)).next(()=>je)))}),Uf.apply(this,arguments)}function $p(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,c.Z)(function*(i,e,n=xi()){const l=yield Kh(i,Bo(Wd(e.bundledQuery))),h=Dn(i);return h.persistence.runTransaction("Save named query","readwrite",_=>{const I=Ws(e.readTime);if(l.snapshotVersion.compareTo(I)>=0)return h._s.saveNamedQuery(_,e);const P=l.withResumeToken(as.EMPTY_BYTE_STRING,I);return h.ui=h.ui.insert(P.targetId,P),h.fs.updateTargetData(_,P).next(()=>h.fs.removeMatchingKeysForTargetId(_,l.targetId)).next(()=>h.fs.addMatchingKeys(_,n,l.targetId)).next(()=>h._s.saveNamedQuery(_,e))})}),$f.apply(this,arguments)}class jf{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return $t.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var l;return this.yi.set(n.id,{id:(l=n).id,version:l.version,createTime:Ws(l.createTime)}),$t.resolve()}getNamedQuery(e,n){return $t.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(l=n).name,query:Wd(l.bundledQuery),readTime:Ws(l.readTime)}),$t.resolve();var l}}class jp{constructor(){this.overlays=new us(wn.comparator),this.Ii=new Map}getOverlay(e,n){return $t.resolve(this.overlays.get(n))}saveOverlays(e,n,l){return l.forEach((h,_)=>{this.Xt(e,n,_)}),$t.resolve()}removeOverlaysForBatchId(e,n,l){const h=this.Ii.get(l);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ii.delete(l)),$t.resolve()}getOverlaysForCollection(e,n,l){const h=gc(),_=n.length+1,I=new wn(n.child("")),P=this.overlays.getIteratorFrom(I);for(;P.hasNext();){const Q=P.getNext().value,ie=Q.getKey();if(!n.isPrefixOf(ie.path))break;ie.path.length===_&&Q.largestBatchId>l&&h.set(Q.getKey(),Q)}return $t.resolve(h)}getOverlaysForCollectionGroup(e,n,l,h){let _=new us((ie,je)=>ie-je);const I=this.overlays.getIterator();for(;I.hasNext();){const ie=I.getNext().value;if(ie.getKey().getCollectionGroup()===n&&ie.largestBatchId>l){let je=_.get(ie.largestBatchId);null===je&&(je=gc(),_=_.insert(ie.largestBatchId,je)),je.set(ie.getKey(),ie)}}const P=gc(),Q=_.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((ie,je)=>P.set(ie,je)),!(P.size()>=h)););return $t.resolve(P)}Xt(e,n,l){if(null===l)return;const h=this.overlays.get(l.key);if(null!==h){const I=this.Ii.get(h.largestBatchId).delete(l.key);this.Ii.set(h.largestBatchId,I)}this.overlays=this.overlays.insert(l.key,new ou(n,l));let _=this.Ii.get(n);void 0===_&&(_=xi(),this.Ii.set(n,_)),this.Ii.set(n,_.add(l.key))}}class pu{constructor(){this.Ti=new H(fs.Ei),this.Ai=new H(fs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const l=new fs(e,n);this.Ti=this.Ti.add(l),this.Ai=this.Ai.add(l)}bi(e,n){e.forEach(l=>this.addReference(l,n))}removeReference(e,n){this.Pi(new fs(e,n))}Vi(e,n){e.forEach(l=>this.removeReference(l,n))}vi(e){const n=new wn(new Or([])),l=new fs(n,e),h=new fs(n,e+1),_=[];return this.Ai.forEachInRange([l,h],I=>{this.Pi(I),_.push(I.key)}),_}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new wn(new Or([])),l=new fs(n,e),h=new fs(n,e+1);let _=xi();return this.Ai.forEachInRange([l,h],I=>{_=_.add(I.key)}),_}containsKey(e){const n=new fs(e,0),l=this.Ti.firstAfterOrEqual(n);return null!==l&&e.isEqual(l.key)}}class fs{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return wn.comparator(e.key,n.key)||xe(e.Ci,n.Ci)}static Ri(e,n){return xe(e.Ci,n.Ci)||wn.comparator(e.key,n.key)}}class Yh{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new H(fs.Ei)}checkEmpty(e){return $t.resolve(0===this.Bs.length)}addMutationBatch(e,n,l,h){const _=this.xi;this.xi++;const I=new id(_,n,l,h);this.Bs.push(I);for(const P of h)this.Ni=this.Ni.add(new fs(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return $t.resolve(I)}lookupMutationBatch(e,n){return $t.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const h=this.Mi(n+1),_=h<0?0:h;return $t.resolve(this.Bs.length>_?this.Bs[_]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return $t.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const l=new fs(n,0),h=new fs(n,Number.POSITIVE_INFINITY),_=[];return this.Ni.forEachInRange([l,h],I=>{const P=this.ki(I.Ci);_.push(P)}),$t.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new H(xe);return n.forEach(h=>{const _=new fs(h,0),I=new fs(h,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([_,I],P=>{l=l.add(P.Ci)})}),$t.resolve(this.Oi(l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,h=l.length+1;let _=l;wn.isDocumentKey(_)||(_=_.child(""));const I=new fs(new wn(_),0);let P=new H(xe);return this.Ni.forEachWhile(Q=>{const ie=Q.key.path;return!!l.isPrefixOf(ie)&&(ie.length===h&&(P=P.add(Q.Ci)),!0)},I),$t.resolve(this.Oi(P))}Oi(e){const n=[];return e.forEach(l=>{const h=this.ki(l);null!==h&&n.push(h)}),n}removeMutationBatch(e,n){zn(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let l=this.Ni;return $t.forEach(n.mutations,h=>{const _=new fs(h.key,n.batchId);return l=l.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Ni=l})}_n(e){}containsKey(e,n){const l=new fs(n,0),h=this.Ni.firstAfterOrEqual(l);return $t.resolve(n.isEqual(h&&h.key))}performConsistencyCheck(e){return $t.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class Hp{constructor(e){this.$i=e,this.docs=new us(wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const l=n.key,h=this.docs.get(l),_=h?h.size:0,I=this.$i(n);return this.docs=this.docs.insert(l,{document:n.mutableCopy(),size:I}),this.size+=I-_,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const l=this.docs.get(n);return $t.resolve(l?l.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let l=Eo();return n.forEach(h=>{const _=this.docs.get(h);l=l.insert(h,_?_.document.mutableCopy():gr.newInvalidDocument(h))}),$t.resolve(l)}getAllFromCollection(e,n,l){let h=Eo();const _=new wn(n.child("")),I=this.docs.getIteratorFrom(_);for(;I.hasNext();){const{key:P,value:{document:Q}}=I.getNext();if(!n.isPrefixOf(P.path))break;P.path.length>n.length+1||ba(Nd(Q),l)<=0||(h=h.insert(Q.key,Q.mutableCopy()))}return $t.resolve(h)}getAllFromCollectionGroup(e,n,l,h){Un()}Bi(e,n){return $t.forEach(this.docs,l=>n(l))}newChangeBuffer(e){return new Pm(this)}getSize(e){return $t.resolve(this.size)}}class Pm extends ad{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?n.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(l)}),$t.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class Rg{constructor(e){this.persistence=e,this.Li=new Pu(n=>rn(n),or),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.Ui=0,this.qi=new pu,this.targetCount=0,this.Ki=od.gn()}forEachTarget(e,n){return this.Li.forEach((l,h)=>n(h)),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,n,l){return l&&(this.lastRemoteSnapshotVersion=l),n>this.Ui&&(this.Ui=n),$t.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new od(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,$t.resolve()}updateTargetData(e,n){return this.Tn(n),$t.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,n,l){let h=0;const _=[];return this.Li.forEach((I,P)=>{P.sequenceNumber<=n&&null===l.get(P.targetId)&&(this.Li.delete(I),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),$t.waitFor(_).next(()=>h)}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,n){const l=this.Li.get(n)||null;return $t.resolve(l)}addMatchingKeys(e,n,l){return this.qi.bi(n,l),$t.resolve()}removeMatchingKeys(e,n,l){this.qi.Vi(n,l);const h=this.persistence.referenceDelegate,_=[];return h&&n.forEach(I=>{_.push(h.markPotentiallyOrphaned(e,I))}),$t.waitFor(_)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),$t.resolve()}getMatchingKeysForTargetId(e,n){const l=this.qi.Di(n);return $t.resolve(l)}containsKey(e,n){return $t.resolve(this.qi.containsKey(n))}}class Gp{constructor(e,n){this.Gi={},this.overlays={},this.es=new V(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Rg(this),this.indexManager=new Ig,this.ds=new Hp(l=>this.referenceDelegate.Qi(l)),this.M=new $u(n),this._s=new jf(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jp,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let l=this.Gi[e.toKey()];return l||(l=new Yh(n,this.referenceDelegate),this.Gi[e.toKey()]=l),l}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,l){pn("MemoryPersistence","Starting transaction:",e);const h=new Nm(this.es.next());return this.referenceDelegate.ji(),l(h).next(_=>this.referenceDelegate.Wi(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}zi(e,n){return $t.or(Object.values(this.Gi).map(l=>()=>l.containsKey(e,n)))}}class Nm extends za{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.Hi=new pu,this.Ji=null}static Yi(e){return new ud(e)}get Xi(){if(this.Ji)return this.Ji;throw Un()}addReference(e,n,l){return this.Hi.addReference(l,n),this.Xi.delete(l.toString()),$t.resolve()}removeReference(e,n,l){return this.Hi.removeReference(l,n),this.Xi.add(l.toString()),$t.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),$t.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(h=>this.Xi.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,n.targetId).next(h=>{h.forEach(_=>this.Xi.add(_.toString()))}).next(()=>l.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.Xi,l=>{const h=wn.fromPath(l);return this.Zi(e,h).next(_=>{_||n.removeEntry(h,_n.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(l=>{l?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return $t.or([()=>$t.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}function Cc(i,e){return`firestore_clients_${i}_${e}`}function cd(i,e,n){let l=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Dc(i,e){return`firestore_targets_${i}_${e}`}class Ya{constructor(e,n,l,h){this.user=e,this.batchId=n,this.state=l,this.error=h}static tr(e,n,l){const h=JSON.parse(l);let _,I="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return I&&h.error&&(I="string"==typeof h.error.message&&"string"==typeof h.error.code,I&&(_=new en(h.error.code,h.error.message))),I?new Ya(e,n,h.state,_):(Ds("SharedClientState",`Failed to parse mutation state for ID '${n}': ${l}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bl{constructor(e,n,l){this.targetId=e,this.state=n,this.error=l}static tr(e,n){const l=JSON.parse(n);let h,_="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return _&&l.error&&(_="string"==typeof l.error.message&&"string"==typeof l.error.code,_&&(h=new en(l.error.code,l.error.message))),_?new Bl(e,l.state,h):(Ds("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static tr(e,n){const l=JSON.parse(n);let h="object"==typeof l&&l.activeTargetIds instanceof Array,_=Ud();for(let I=0;h&&I<l.activeTargetIds.length;++I)h=vh(l.activeTargetIds[I]),_=_.add(l.activeTargetIds[I]);return h?new qh(e,_):(Ds("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Zh{constructor(e,n){this.clientId=e,this.onlineState=n}static tr(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Zh(n.clientId,n.onlineState):(Ds("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dd{constructor(){this.activeTargetIds=Ud()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tc{constructor(e,n,l,h,_){this.window=e,this.Yn=n,this.persistenceKey=l,this.ir=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new us(xe),this.started=!1,this.cr=[];const I=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.hr=Cc(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new dd),this.dr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Fs();for(const h of n){if(h===e.ir)continue;const _=e.getItem(Cc(e.persistenceKey,h));if(_){const I=qh.tr(h,_);I&&(e.ar=e.ar.insert(I.clientId,I))}}e.yr();const l=e.storage.getItem(e.mr);if(l){const h=e.pr(l);h&&e.Ir(h)}for(const h of e.cr)e.ur(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((l,h)=>{h.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,n,l){this.Er(e,n,l),this.Ar(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(Dc(this.persistenceKey,e));if(l){const h=Bl.tr(e,l);h&&(n=h.state)}}return this.Rr.nr(e),this.yr(),n}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dc(this.persistenceKey,e))}updateQueryState(e,n,l){this.br(e,n,l)}handleUserChange(e,n,l){n.forEach(h=>{this.Ar(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pn("SharedClientState","READ",e,n),n}setItem(e,n){pn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){pn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var n=this;const l=e;if(l.storageArea===this.storage){if(pn("SharedClientState","EVENT",l.key,l.newValue),l.key===this.hr)return void Ds("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==l.key)if(n.dr.test(l.key)){if(null==l.newValue){const h=n.vr(l.key);return n.Sr(h,null)}{const h=n.Dr(l.key,l.newValue);if(h)return n.Sr(h.clientId,h)}}else if(n._r.test(l.key)){if(null!==l.newValue){const h=n.Cr(l.key,l.newValue);if(h)return n.Nr(h)}}else if(n.wr.test(l.key)){if(null!==l.newValue){const h=n.kr(l.key,l.newValue);if(h)return n.Mr(h)}}else if(l.key===n.mr){if(null!==l.newValue){const h=n.pr(l.newValue);if(h)return n.Ir(h)}}else if(l.key===n.lr){const h=function(_){let I=V.A;if(null!=_)try{const P=JSON.parse(_);zn("number"==typeof P),I=P}catch(P){Ds("SharedClientState","Failed to read sequence number from WebStorage",P)}return I}(l.newValue);h!==V.A&&n.sequenceNumberHandler(h)}else if(l.key===n.gr){const h=n.Or(l.newValue);yield Promise.all(h.map(_=>n.syncEngine.Fr(_)))}}else n.cr.push(l)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,n,l){const h=new Ya(this.currentUser,e,n,l),_=cd(this.persistenceKey,this.currentUser,e);this.setItem(_,h.er())}Ar(e){const n=cd(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,n,l){const h=Dc(this.persistenceKey,e),_=new Bl(e,n,l);this.setItem(h,_.er())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.gr,n)}vr(e){const n=this.dr.exec(e);return n?n[1]:null}Dr(e,n){const l=this.vr(e);return qh.tr(l,n)}Cr(e,n){const l=this._r.exec(e),h=Number(l[1]);return Ya.tr(new ns(void 0!==l[2]?l[2]:null),h,n)}kr(e,n){const l=this.wr.exec(e),h=Number(l[1]);return Bl.tr(h,n)}pr(e){return Zh.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.$r(e.batchId,e.state,e.error);pn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,n){const l=n?this.ar.insert(e,n):this.ar.remove(e),h=this.Tr(this.ar),_=this.Tr(l),I=[],P=[];return _.forEach(Q=>{h.has(Q)||I.push(Q)}),h.forEach(Q=>{_.has(Q)||P.push(Q)}),this.syncEngine.Lr(I,P).then(()=>{this.ar=l})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let n=Ud();return e.forEach((l,h)=>{n=n.unionWith(h.activeTargetIds)}),n}}class Xd{constructor(){this.Ur=new dd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,l){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,l){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new dd,Promise.resolve()}handleUserChange(e,n,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hf{Kr(e){}shutdown(){}}class hd{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){pn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){pn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const km={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Qd{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class my extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,l,h,_){const I=this.ho(e,n);pn("RestConnection","Sending: ",I,l);const P={};return this.lo(P,h,_),this.fo(e,I,P,l).then(Q=>(pn("RestConnection","Received: ",Q),Q),Q=>{throw Ts("RestConnection",`${e} failed with error: `,Q,"url: ",I,"request:",l),Q})}_o(e,n,l,h,_){return this.co(e,n,l,h,_)}lo(e,n,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+So,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((h,_)=>e[_]=h),l&&l.headers.forEach((h,_)=>e[_]=h)}ho(e,n){return`${this.uo}/v1/${n}:${km[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,l,h){return new Promise((_,I)=>{const P=new nl;P.listenOnce(go.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case ma.NO_ERROR:const ie=P.getResponseJson();pn("Connection","XHR received:",JSON.stringify(ie)),_(ie);break;case ma.TIMEOUT:pn("Connection",'RPC "'+e+'" timed out'),I(new en(St.DEADLINE_EXCEEDED,"Request time out"));break;case ma.HTTP_ERROR:const je=P.getStatus();if(pn("Connection",'RPC "'+e+'" failed with status:',je,"response text:",P.getResponseText()),je>0){const at=P.getResponseJson().error;if(at&&at.status&&at.message){const Lt=function(sn){const on=sn.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(on)>=0?on:St.UNKNOWN}(at.status);I(new en(Lt,at.message))}else I(new en(St.UNKNOWN,"Server responded with status "+P.getStatus()))}else I(new en(St.UNAVAILABLE,"Connection failed."));break;default:Un()}}finally{pn("Connection",'RPC "'+e+'" completed.')}});const Q=JSON.stringify(h);P.send(n,"POST",Q,l,15)})}wo(e,n,l){const h=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Qs(),I=Wl(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new lc({})),this.lo(P.initMessageHeaders,n,l),(0,Te.uI)()||(0,Te.b$)()||(0,Te.d)()||(0,Te.w1)()||(0,Te.Mn)()||(0,Te.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const Q=h.join("");pn("Connection","Creating WebChannel: "+Q,P);const ie=_.createWebChannel(Q,P);let je=!1,at=!1;const Lt=new Qd({Jr:on=>{at?pn("Connection","Not sending because WebChannel is closed:",on):(je||(pn("Connection","Opening WebChannel transport."),ie.open(),je=!0),pn("Connection","WebChannel sending:",on),ie.send(on))},Yr:()=>ie.close()}),sn=(on,Kn,Fr)=>{on.listen(Kn,Ys=>{try{Fr(Ys)}catch(wo){setTimeout(()=>{throw wo},0)}})};return sn(ie,To.EventType.OPEN,()=>{at||pn("Connection","WebChannel transport opened.")}),sn(ie,To.EventType.CLOSE,()=>{at||(at=!0,pn("Connection","WebChannel transport closed"),Lt.ro())}),sn(ie,To.EventType.ERROR,on=>{at||(at=!0,Ts("Connection","WebChannel transport errored:",on),Lt.ro(new en(St.UNAVAILABLE,"The operation could not be completed")))}),sn(ie,To.EventType.MESSAGE,on=>{var Kn;if(!at){const Fr=on.data[0];zn(!!Fr);const Ys=Fr,wo=Ys.error||(null===(Kn=Ys[0])||void 0===Kn?void 0:Kn.error);if(wo){pn("Connection","WebChannel received error:",wo);const qs=wo.status;let Pa=function(ro){const Ja=ni[ro];if(void 0!==Ja)return Vo(Ja)}(qs),Io=wo.message;void 0===Pa&&(Pa=St.INTERNAL,Io="Unknown error status: "+qs+" with message "+wo.message),at=!0,Lt.ro(new en(Pa,Io)),ie.close()}else pn("Connection","WebChannel received:",Fr),Lt.oo(Fr)}}),sn(I,ka.STAT_EVENT,on=>{on.stat===Vi.PROXY?pn("Connection","Detected buffering proxy"):on.stat===Vi.NOPROXY&&pn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Lt.io()},0),Lt}}function zp(){return"undefined"!=typeof window?window:null}function Xh(){return"undefined"!=typeof document?document:null}function fd(i){return new Dp(i,!0)}class Jd{constructor(e,n,l=1e3,h=1.5,_=6e4){this.Yn=e,this.timerId=n,this.mo=l,this.yo=h,this.po=_,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),l=Math.max(0,Date.now()-this.Eo),h=Math.max(0,n-l);h>0&&pn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${l} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Og{constructor(e,n,l,h,_,I,P,Q){this.Yn=e,this.Vo=l,this.vo=h,this.So=_,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=P,this.listener=Q,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Jd(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,c.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,c.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var l=this;return(0,c.Z)(function*(){l.Uo(),l.qo(),l.No.cancel(),l.Do++,4!==e?l.No.reset():n&&n.code===St.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),l.No.Ao()):n&&n.code===St.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Ko(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Do===n&&this.Qo(l,h)},l=>{e(()=>{const h=new en(St.UNKNOWN,"Fetching auth token failed: "+l.message);return this.jo(h)})})}Qo(e,n){const l=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{l(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(h=>{l(()=>this.jo(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.No.Ro((0,c.Z)(function*(){e.state=0,e.start()}))}jo(e){return pn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(pn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pg extends Og{constructor(e,n,l,h,_,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,l,h,I),this.M=_}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function xf(i,e){let n;if("targetChange"in e){const l="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Un(),h=e.targetChange.targetIds||[],_=function(Q,ie){return Q.N?(zn(void 0===ie||"string"==typeof ie),as.fromBase64String(ie||"")):(zn(void 0===ie||ie instanceof Uint8Array),as.fromUint8Array(ie||new Uint8Array))}(i,e.targetChange.resumeToken),I=e.targetChange.cause,P=I&&function(Q){const ie=void 0===Q.code?St.UNKNOWN:Vo(Q.code);return new en(ie,Q.message||"")}(I);n=new Yr(l,h,_,P||null)}else if("documentChange"in e){const l=e.documentChange,h=la(i,l.document.name),_=Ws(l.document.updateTime),I=new Rs({mapValue:{fields:l.document.fields}}),P=gr.newFoundDocument(h,_,I);n=new Nu(l.targetIds||[],l.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const l=e.documentDelete,h=la(i,l.document),_=l.readTime?Ws(l.readTime):_n.min(),I=gr.newNoDocument(h,_);n=new Nu([],l.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const l=e.documentRemove,h=la(i,l.document);n=new Nu([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Un();{const l=e.filter,_=new jr(l.count||0);n=new hl(l.targetId,_)}}var Q;return n}(this.M,e),l=function(h){if(!("targetChange"in h))return _n.min();const _=h.targetChange;return _.targetIds&&_.targetIds.length?_n.min():_.readTime?Ws(_.readTime):_n.min()}(e);return this.listener.zo(n,l)}Ho(e){const n={};n.database=ws(this.M),n.addTarget=function(h,_){let I;const P=_.target;return I=ir(P)?{documents:tu(h,P)}:{query:Ta(h,P)},I.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?I.resumeToken=Sf(h,_.resumeToken):_.snapshotVersion.compareTo(_n.min())>0&&(I.readTime=Js(h,_.snapshotVersion.toTimestamp())),I}(this.M,e);const l=function Ir(i,e){const n=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Un()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);l&&(n.labels=l),this.Lo(n)}Jo(e){const n={};n.database=ws(this.M),n.removeTarget=e,this.Lo(n)}}class qa extends Og{constructor(e,n,l,h,_,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,l,h,I),this.M=_,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(zn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function jd(i,e){return i&&i.length>0?(zn(void 0!==e),i.map(n=>function(l,h){let _=Ws(l.updateTime?l.updateTime:h);return _.isEqual(_n.min())&&(_=Ws(h)),new Dh(_,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),l=Ws(e.commitTime);return this.listener.tu(l,n)}return zn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ws(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(l=>uo(this.M,l))};this.Lo(n)}}class Fm extends class{}{constructor(e,n,l,h){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=l,this.M=h,this.su=!1}iu(){if(this.su)throw new en(St.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,l){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,_])=>this.So.co(e,n,l,h,_)).catch(h=>{throw"FirebaseError"===h.name?(h.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new en(St.UNKNOWN,h.toString())})}_o(e,n,l){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,_])=>this.So._o(e,n,l,h,_)).catch(h=>{throw"FirebaseError"===h.name?(h.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new en(St.UNKNOWN,h.toString())})}terminate(){this.su=!0}}class Ng{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ds(n),this.uu=!1):pn("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class kg{constructor(e,n,l,h,_){var I=this;this.localStore=e,this.datastore=n,this.asyncQueue=l,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=_,this.gu.Kr(P=>{l.enqueueAndForget((0,c.Z)(function*(){var Q;_l(I)&&(pn("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,c.Z)(function*(ie){const je=Dn(ie);je.wu.add(4),yield Sc(je),je.yu.set("Unknown"),je.wu.delete(4),yield eh(je)}),function(ie){return Q.apply(this,arguments)})(I))}))}),this.yu=new Ng(l,h)}}function eh(i){return th.apply(this,arguments)}function th(){return th=(0,c.Z)(function*(i){if(_l(i))for(const e of i.mu)yield e(!0)}),th.apply(this,arguments)}function Sc(i){return qu.apply(this,arguments)}function qu(){return qu=(0,c.Z)(function*(i){for(const e of i.mu)yield e(!1)}),qu.apply(this,arguments)}function Ac(i,e){const n=Dn(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),zf(n)?Gf(n):sh(n).Mo()&&Wp(n,e))}function pd(i,e){const n=Dn(i),l=sh(n);n._u.delete(e),l.Mo()&&Qh(n,e),0===n._u.size&&(l.Mo()?l.$o():_l(n)&&n.yu.set("Unknown"))}function Wp(i,e){i.pu.Z(e.targetId),sh(i).Ho(e)}function Qh(i,e){i.pu.Z(e),sh(i).Jo(e)}function Gf(i){i.pu=new $d({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),sh(i).start(),i.yu.au()}function zf(i){return _l(i)&&!sh(i).ko()&&i._u.size>0}function _l(i){return 0===Dn(i).wu.size}function Jh(i){i.pu=void 0}function Lm(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,c.Z)(function*(i){i._u.forEach((e,n)=>{Wp(i,e)})}),Kp.apply(this,arguments)}function Fg(i,e){return nh.apply(this,arguments)}function nh(){return nh=(0,c.Z)(function*(i,e){Jh(i),zf(i)?(i.yu.lu(e),Gf(i)):i.yu.set("Unknown")}),nh.apply(this,arguments)}function Wf(i,e,n){return Za.apply(this,arguments)}function Za(){return Za=(0,c.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof Yr&&2===e.state&&e.cause)try{yield(l=(0,c.Z)(function*(h,_){const I=_.cause;for(const P of _.targetIds)h._u.has(P)&&(yield h.remoteSyncer.rejectListen(P,I),h._u.delete(P),h.pu.removeTarget(P))}),function(h,_){return l.apply(this,arguments)})(i,e)}catch(l){pn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield rh(i,l)}else if(e instanceof Nu?i.pu.ut(e):e instanceof hl?i.pu._t(e):i.pu.ht(e),!n.isEqual(_n.min()))try{const l=yield Om(i.localStore);n.compareTo(l)>=0&&(yield function(h,_){const I=h.pu.yt(_);return I.targetChanges.forEach((P,Q)=>{if(P.resumeToken.approximateByteSize()>0){const ie=h._u.get(Q);ie&&h._u.set(Q,ie.withResumeToken(P.resumeToken,_))}}),I.targetMismatches.forEach(P=>{const Q=h._u.get(P);if(!Q)return;h._u.set(P,Q.withResumeToken(as.EMPTY_BYTE_STRING,Q.snapshotVersion)),Qh(h,P);const ie=new ca(Q.target,P,1,Q.sequenceNumber);Wp(h,ie)}),h.remoteSyncer.applyRemoteEvent(I)}(i,n))}catch(l){pn("RemoteStore","Failed to raise snapshot:",l),yield rh(i,l)}var l}),Za.apply(this,arguments)}function rh(i,e,n){return gd.apply(this,arguments)}function gd(){return gd=(0,c.Z)(function*(i,e,n){if(!ml(e))throw e;i.wu.add(1),yield Sc(i),i.yu.set("Offline"),n||(n=()=>Om(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){pn("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield eh(i)}))}),gd.apply(this,arguments)}function Vl(i,e){return e().catch(n=>rh(i,n,e))}function Zu(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,c.Z)(function*(i){const e=Dn(i),n=gu(e);let l=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Lg(e);)try{const h=yield gy(e.localStore,l);if(null===h){0===e.du.length&&n.$o();break}l=h.batchId,Yp(e,h)}catch(h){yield rh(e,h)}ih(e)&&xc(e)}),Kf.apply(this,arguments)}function Lg(i){return _l(i)&&i.du.length<10}function Yp(i,e){i.du.push(e);const n=gu(i);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function ih(i){return _l(i)&&!gu(i).ko()&&i.du.length>0}function xc(i){gu(i).start()}function Bm(i){return xa.apply(this,arguments)}function xa(){return xa=(0,c.Z)(function*(i){gu(i).nu()}),xa.apply(this,arguments)}function ef(i){return tf.apply(this,arguments)}function tf(){return tf=(0,c.Z)(function*(i){const e=gu(i);for(const n of i.du)e.Zo(n.mutations)}),tf.apply(this,arguments)}function Yf(i,e,n){return md.apply(this,arguments)}function md(){return md=(0,c.Z)(function*(i,e,n){const l=i.du.shift(),h=Uu.from(l,e,n);yield Vl(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield Zu(i)}),md.apply(this,arguments)}function Ma(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,c.Z)(function*(i,e){var n;e&&gu(i).Xo&&(yield(n=(0,c.Z)(function*(l,h){if(Ah(_=h.code)&&_!==St.ABORTED){const I=l.du.shift();gu(l).Fo(),yield Vl(l,()=>l.remoteSyncer.rejectFailedWrite(I.batchId,h)),yield Zu(l)}var _}),function(l,h){return n.apply(this,arguments)})(i,e)),ih(i)&&xc(i)}),nf.apply(this,arguments)}function Bg(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(i,e){const n=Dn(i);n.asyncQueue.verifyOperationInProgress(),pn("RemoteStore","RemoteStore received new credentials");const l=_l(n);n.wu.add(3),yield Sc(n),l&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield eh(n)}),qf.apply(this,arguments)}function rf(i,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,c.Z)(function*(i,e){const n=Dn(i);e?(n.wu.delete(2),yield eh(n)):e||(n.wu.add(2),yield Sc(n),n.yu.set("Unknown"))}),Vg.apply(this,arguments)}function sh(i){return i.Iu||(i.Iu=function(e,n,l){const h=Dn(e);return h.iu(),new Pg(n,h.So,h.authCredentials,h.appCheckCredentials,h.M,l)}(i.datastore,i.asyncQueue,{Xr:Lm.bind(null,i),eo:Fg.bind(null,i),zo:Wf.bind(null,i)}),i.mu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Iu.Fo(),zf(i)?Gf(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Jh(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function gu(i){return i.Tu||(i.Tu=function(e,n,l){const h=Dn(e);return h.iu(),new qa(n,h.So,h.authCredentials,h.appCheckCredentials,h.M,l)}(i.datastore,i.asyncQueue,{Xr:Bm.bind(null,i),eo:Ma.bind(null,i),eu:ef.bind(null,i),tu:Yf.bind(null,i)}),i.mu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Tu.Fo(),yield Zu(i)):(yield i.Tu.stop(),i.du.length>0&&(pn("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class Mc{constructor(e,n,l,h,_){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=l,this.op=h,this.removalCallback=_,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,n,l,h,_){const I=Date.now()+l,P=new Mc(e,n,I,h,_);return P.start(l),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new en(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rc(i,e){if(Ds("AsyncQueue",`${e}: ${i}`),ml(i))return new en(St.UNAVAILABLE,`${e}: ${i}`);throw i}class Oc{constructor(e){this.comparator=e?(n,l)=>e(n,l)||wn.comparator(n.key,l.key):(n,l)=>wn.comparator(n.key,l.key),this.keyedMap=Jl(),this.sortedSet=new us(this.comparator)}static emptySet(e){return new Oc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,l)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;n.hasNext();){const h=n.getNext().key,_=l.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const l=new Oc;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=n,l}}class qp{constructor(){this.Eu=new us(wn.comparator)}track(e){const n=e.doc.key,l=this.Eu.get(n);l?0!==e.type&&3===l.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==l.type?this.Eu=this.Eu.insert(n,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Eu=this.Eu.remove(n):1===e.type&&2===l.type?this.Eu=this.Eu.insert(n,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):Un():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,l)=>{e.push(l)}),e}}class Ho{constructor(e,n,l,h,_,I,P,Q){this.query=e,this.docs=n,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=_,this.fromCache=I,this.syncStateChanged=P,this.excludesMetadataChanges=Q}static fromInitialDocuments(e,n,l,h){const _=[];return n.forEach(I=>{_.push({type:0,doc:I})}),new Ho(e,n,Oc.emptySet(n),_,l,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,l=e.docChanges;if(n.length!==l.length)return!1;for(let h=0;h<n.length;h++)if(n[h].type!==l[h].type||!n[h].doc.isEqual(l[h].doc))return!1;return!0}}class yd{constructor(){this.Ru=void 0,this.listeners=[]}}class Vm{constructor(){this.queries=new Pu(e=>wf(e),Yc),this.onlineState="Unknown",this.bu=new Set}}function sf(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,c.Z)(function*(i,e){const n=Dn(i),l=e.query;let h=!1,_=n.queries.get(l);if(_||(h=!0,_=new yd),h)try{_.Ru=yield n.onListen(l)}catch(I){const P=Rc(I,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(P)}n.queries.set(l,_),_.listeners.push(e),e.Pu(n.onlineState),_.Ru&&e.Vu(_.Ru)&&Zp(n)}),Ug.apply(this,arguments)}function af(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,c.Z)(function*(i,e){const n=Dn(i),l=e.query;let h=!1;const _=n.queries.get(l);if(_){const I=_.listeners.indexOf(e);I>=0&&(_.listeners.splice(I,1),h=0===_.listeners.length)}if(h)return n.queries.delete(l),n.onUnlisten(l)}),Zf.apply(this,arguments)}function Xf(i,e){const n=Dn(i);let l=!1;for(const h of e){const I=n.queries.get(h.query);if(I){for(const P of I.listeners)P.Vu(h)&&(l=!0);I.Ru=h}}l&&Zp(n)}function lf(i,e,n){const l=Dn(i),h=l.queries.get(e);if(h)for(const _ of h.listeners)_.onError(n);l.queries.delete(e)}function Zp(i){i.bu.forEach(e=>{e.next()})}class uf{constructor(e,n,l){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=l||{}}Vu(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new Ho(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Qf{constructor(e,n){this.payload=e,this.byteLength=n}Mu(){return"metadata"in this.payload}}class Jf{constructor(e){this.M=e}wi(e){return la(this.M,e)}mi(e){return e.metadata.exists?Af(this.M,e.document,!1):gr.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Ws(e)}}class $g{constructor(e,n,l){this.Ou=e,this.localStore=n,this.M=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_d(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const l=Or.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,l=new Jf(this.M);for(const h of e)if(h.metadata.queries){const _=l.wi(h.metadata.name);for(const I of h.metadata.queries){const P=(n.get(I)||xi()).add(_);n.set(I,P)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function Vf(i,e,n,l){return Uf.apply(this,arguments)}(e.localStore,new Jf(e.M),e.documents,e.Ou.id),l=e.$u(e.documents);for(const h of e.queries)yield $p(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function _d(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ul{constructor(e){this.key=e}}class jg{constructor(e){this.key=e}}class ep{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=xi(),this.mutatedKeys=xi(),this.Gu=Ld(e),this.Qu=new Oc(this.Gu)}get ju(){return this.Uu}Wu(e,n){const l=n?n.zu:new qp,h=n?n.Qu:this.Qu;let _=n?n.mutatedKeys:this.mutatedKeys,I=h,P=!1;const Q="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ie="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((je,at)=>{const Lt=h.get(je),sn=ul(this.query,at)?at:null,on=!!Lt&&this.mutatedKeys.has(Lt.key),Kn=!!sn&&(sn.hasLocalMutations||this.mutatedKeys.has(sn.key)&&sn.hasCommittedMutations);let Fr=!1;Lt&&sn?Lt.data.isEqual(sn.data)?on!==Kn&&(l.track({type:3,doc:sn}),Fr=!0):this.Hu(Lt,sn)||(l.track({type:2,doc:sn}),Fr=!0,(Q&&this.Gu(sn,Q)>0||ie&&this.Gu(sn,ie)<0)&&(P=!0)):!Lt&&sn?(l.track({type:0,doc:sn}),Fr=!0):Lt&&!sn&&(l.track({type:1,doc:Lt}),Fr=!0,(Q||ie)&&(P=!0)),Fr&&(sn?(I=I.add(sn),_=Kn?_.add(je):_.delete(je)):(I=I.delete(je),_=_.delete(je)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const je="F"===this.query.limitType?I.last():I.first();I=I.delete(je.key),_=_.delete(je.key),l.track({type:1,doc:je})}return{Qu:I,zu:l,ii:P,mutatedKeys:_}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,l){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const _=e.zu.Au();_.sort((ie,je)=>function(at,Lt){const sn=on=>{switch(on){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Un()}};return sn(at)-sn(Lt)}(ie.type,je.type)||this.Gu(ie.doc,je.doc)),this.Ju(l);const I=n?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,Q=P!==this.qu;return this.qu=P,0!==_.length||Q?{snapshot:new Ho(this.query,e.Qu,h,_,e.mutatedKeys,0===P,Q,!1),Xu:I}:{Xu:I}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qp,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xi(),this.Qu.forEach(l=>{this.Zu(l.key)&&(this.Ku=this.Ku.add(l.key))});const n=[];return e.forEach(l=>{this.Ku.has(l)||n.push(new jg(l))}),this.Ku.forEach(l=>{e.has(l)||n.push(new Ul(l))}),n}ta(e){this.Uu=e._i,this.Ku=xi();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Ho.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class cf{constructor(e,n,l){this.query=e,this.targetId=n,this.view=l}}class oh{constructor(e){this.key=e,this.na=!1}}class vd{constructor(e,n,l,h,_,I){this.localStore=e,this.remoteStore=n,this.eventManager=l,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=I,this.sa={},this.ia=new Pu(P=>wf(P),Yc),this.ra=new Map,this.oa=new Set,this.ua=new us(wn.comparator),this.aa=new Map,this.ca=new pu,this.ha={},this.la=new Map,this.fa=od.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Um(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,c.Z)(function*(i,e){const n=hh(i);let l,h;const _=n.ia.get(e);if(_)l=_.targetId,n.sharedClientState.addLocalQueryTarget(l),h=_.view.ea();else{const I=yield Kh(n.localStore,Bo(e));n.isPrimaryClient&&Ac(n.remoteStore,I);const P=n.sharedClientState.addLocalQueryTarget(I.targetId);l=I.targetId,h=yield Xu(n,e,l,"current"===P)}return h}),tp.apply(this,arguments)}function Xu(i,e,n,l){return np.apply(this,arguments)}function np(){return np=(0,c.Z)(function*(i,e,n,l){i._a=(je,at,Lt)=>{return(sn=(0,c.Z)(function*(on,Kn,Fr,Ys){let wo=Kn.view.Wu(Fr);wo.ii&&(wo=yield Bf(on.localStore,Kn.query,!1).then(({documents:Io})=>Kn.view.Wu(Io,wo)));const qs=Ys&&Ys.targetChanges.get(Kn.targetId),Pa=Kn.view.applyChanges(wo,on.isPrimaryClient,qs);return Pc(on,Kn.targetId,Pa.Xu),Pa.snapshot}),function(on,Kn,Fr,Ys){return sn.apply(this,arguments)})(i,je,at,Lt);var sn};const h=yield Bf(i.localStore,e,!0),_=new ep(e,h._i),I=_.Wu(h.documents),P=dl.createSynthesizedTargetChangeForCurrentChange(n,l&&"Offline"!==i.onlineState),Q=_.applyChanges(I,i.isPrimaryClient,P);Pc(i,n,Q.Xu);const ie=new cf(e,n,_);return i.ia.set(e,ie),i.ra.has(n)?i.ra.get(n).push(e):i.ra.set(n,[e]),Q.snapshot}),np.apply(this,arguments)}function rp(i,e){return df.apply(this,arguments)}function df(){return df=(0,c.Z)(function*(i,e){const n=Dn(i),l=n.ia.get(e),h=n.ra.get(l.targetId);if(h.length>1)return n.ra.set(l.targetId,h.filter(_=>!Yc(_,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(l.targetId),n.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Zd(n.localStore,l.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(l.targetId),pd(n.remoteStore,l.targetId),Ed(n,l.targetId)}).catch(hu))):(Ed(n,l.targetId),yield Zd(n.localStore,l.targetId,!0))}),df.apply(this,arguments)}function Xa(){return Xa=(0,c.Z)(function*(i,e,n){const l=kc(i);try{const h=yield function(_,I){const P=Dn(_),Q=gn.now(),ie=I.reduce((at,Lt)=>at.add(Lt.key),xi());let je;return P.persistence.runTransaction("Locally write mutations","readwrite",at=>P.fi.Ks(at,ie).next(Lt=>{je=Lt;const sn=[];for(const on of I){const Kn=Ai(on,je.get(on.key));null!=Kn&&sn.push(new Ci(on.key,Kn,Ss(Kn.value.mapValue),Ls.exists(!0)))}return P.Bs.addMutationBatch(at,Q,sn,I)})).then(at=>(at.applyToLocalDocumentSet(je),{batchId:at.batchId,changes:je}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(_,I,P){let Q=_.ha[_.currentUser.toKey()];Q||(Q=new us(xe)),Q=Q.insert(I,P),_.ha[_.currentUser.toKey()]=Q}(l,h.batchId,n),yield mu(l,h.changes),yield Zu(l.remoteStore)}catch(h){const _=Rc(h,"Failed to persist write");n.reject(_)}}),Xa.apply(this,arguments)}function ip(i,e){return ah.apply(this,arguments)}function ah(){return ah=(0,c.Z)(function*(i,e){const n=Dn(i);try{const l=yield Ag(n.localStore,e);e.targetChanges.forEach((h,_)=>{const I=n.aa.get(_);I&&(zn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?I.na=!0:h.modifiedDocuments.size>0?zn(I.na):h.removedDocuments.size>0&&(zn(I.na),I.na=!1))}),yield mu(n,l,e)}catch(l){yield hu(l)}}),ah.apply(this,arguments)}function Qp(i,e,n){const l=Dn(i);if(l.isPrimaryClient&&0===n||!l.isPrimaryClient&&1===n){const h=[];l.ia.forEach((_,I)=>{const P=I.view.Pu(e);P.snapshot&&h.push(P.snapshot)}),function(_,I){const P=Dn(_);P.onlineState=I;let Q=!1;P.queries.forEach((ie,je)=>{for(const at of je.listeners)at.Pu(I)&&(Q=!0)}),Q&&Zp(P)}(l.eventManager,e),h.length&&l.sa.zo(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Jp(i,e,n){return hf.apply(this,arguments)}function hf(){return hf=(0,c.Z)(function*(i,e,n){const l=Dn(i);l.sharedClientState.updateQueryState(e,"rejected",n);const h=l.aa.get(e),_=h&&h.key;if(_){let I=new us(wn.comparator);I=I.insert(_,gr.newNoDocument(_,_n.min()));const P=xi().add(_),Q=new yc(_n.min(),new Map,new H(xe),I,P);yield ip(l,Q),l.ua=l.ua.remove(_),l.aa.delete(e),eg(l)}else yield Zd(l.localStore,e,!1).then(()=>Ed(l,e,n)).catch(hu)}),hf.apply(this,arguments)}function Hg(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,c.Z)(function*(i,e){const n=Dn(i),l=e.batch.batchId;try{const h=yield py(n.localStore,e);Ju(n,l,null),ha(n,l),n.sharedClientState.updateMutationState(l,"acknowledged"),yield mu(n,h)}catch(h){yield hu(h)}}),sp.apply(this,arguments)}function Ra(i,e,n){return lh.apply(this,arguments)}function lh(){return lh=(0,c.Z)(function*(i,e,n){const l=Dn(i);try{const h=yield function(_,I){const P=Dn(_);return P.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ie;return P.Bs.lookupMutationBatch(Q,I).next(je=>(zn(null!==je),ie=je.keys(),P.Bs.removeMutationBatch(Q,je))).next(()=>P.Bs.performConsistencyCheck(Q)).next(()=>P.fi.Ks(Q,ie))})}(l.localStore,e);Ju(l,e,n),ha(l,e),l.sharedClientState.updateMutationState(e,"rejected",n),yield mu(l,h)}catch(h){yield hu(h)}}),lh.apply(this,arguments)}function ff(){return ff=(0,c.Z)(function*(i,e){const n=Dn(i);_l(n.remoteStore)||pn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(_){const I=Dn(_);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>I.Bs.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===l)return void e.resolve();const h=n.la.get(l)||[];h.push(e),n.la.set(l,h)}catch(l){const h=Rc(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),ff.apply(this,arguments)}function ha(i,e){(i.la.get(e)||[]).forEach(n=>{n.resolve()}),i.la.delete(e)}function Ju(i,e,n){const l=Dn(i);let h=l.ha[l.currentUser.toKey()];if(h){const _=h.get(e);_&&(n?_.reject(n):_.resolve(),h=h.remove(e)),l.ha[l.currentUser.toKey()]=h}}function Ed(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const l of i.ra.get(e))i.ia.delete(l),n&&i.sa.wa(l,n);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(l=>{i.ca.containsKey(l)||Gg(i,l)})}function Gg(i,e){i.oa.delete(e.path.canonicalString());const n=i.ua.get(e);null!==n&&(pd(i.remoteStore,n),i.ua=i.ua.remove(e),i.aa.delete(n),eg(i))}function Pc(i,e,n){for(const l of n)l instanceof Ul?(i.ca.addReference(l.key,e),zg(i,l)):l instanceof jg?(pn("SyncEngine","Document no longer in limbo: "+l.key),i.ca.removeReference(l.key,e),i.ca.containsKey(l.key)||Gg(i,l.key)):Un()}function zg(i,e){const n=e.key,l=n.path.canonicalString();i.ua.get(n)||i.oa.has(l)||(pn("SyncEngine","New document in limbo: "+n),i.oa.add(l),eg(i))}function eg(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const n=new wn(Or.fromString(e)),l=i.fa.next();i.aa.set(l,new oh(n)),i.ua=i.ua.insert(n,l),Ac(i.remoteStore,new ca(Bo(Xl(n.path)),l,2,V.A))}}function mu(i,e,n){return uh.apply(this,arguments)}function uh(){return uh=(0,c.Z)(function*(i,e,n){const l=Dn(i),h=[],_=[],I=[];var P;l.ia.isEmpty()||(l.ia.forEach((P,Q)=>{I.push(l._a(Q,e,n).then(ie=>{if(ie){l.isPrimaryClient&&l.sharedClientState.updateQueryState(Q.targetId,ie.fromCache?"not-current":"current"),h.push(ie);const je=Lf.Ys(Q.targetId,ie);_.push(je)}}))}),yield Promise.all(I),l.sa.zo(h),yield(P=(0,c.Z)(function*(Q,ie){const je=Dn(Q);try{yield je.persistence.runTransaction("notifyLocalViewChanges","readwrite",at=>$t.forEach(ie,Lt=>$t.forEach(Lt.Hs,sn=>je.persistence.referenceDelegate.addReference(at,Lt.targetId,sn)).next(()=>$t.forEach(Lt.Js,sn=>je.persistence.referenceDelegate.removeReference(at,Lt.targetId,sn)))))}catch(at){if(!ml(at))throw at;pn("LocalStore","Failed to update sequence numbers: "+at)}for(const at of ie){const Lt=at.targetId;if(!at.fromCache){const sn=je.ui.get(Lt),Kn=sn.withLastLimboFreeSnapshotVersion(sn.snapshotVersion);je.ui=je.ui.insert(Lt,Kn)}}}),function(Q,ie){return P.apply(this,arguments)})(l.localStore,_))}),uh.apply(this,arguments)}function yy(i,e){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,c.Z)(function*(i,e){const n=Dn(i);if(!n.currentUser.isEqual(e)){pn("SyncEngine","User change. New user:",e.toKey());const l=yield Up(n.localStore,e);n.currentUser=e,(h=n).la.forEach(I=>{I.forEach(P=>{P.reject(new en(St.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.la.clear(),n.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield mu(n,l.di)}var h}),Qa.apply(this,arguments)}function _y(i,e){const n=Dn(i),l=n.aa.get(e);if(l&&l.na)return xi().add(l.key);{let h=xi();const _=n.ra.get(e);if(!_)return h;for(const I of _){const P=n.ia.get(I);h=h.unionWith(P.view.ju)}return h}}function vy(i,e){return bd.apply(this,arguments)}function bd(){return bd=(0,c.Z)(function*(i,e){const n=Dn(i),l=yield Bf(n.localStore,e.query,!0),h=e.view.ta(l);return n.isPrimaryClient&&Pc(n,e.targetId,h.Xu),h}),bd.apply(this,arguments)}function pf(i,e){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,c.Z)(function*(i,e){const n=Dn(i);return jo(n.localStore,e).then(l=>mu(n,l))}),Nc.apply(this,arguments)}function tg(i,e,n,l){return ng.apply(this,arguments)}function ng(){return ng=(0,c.Z)(function*(i,e,n,l){const h=Dn(i),_=yield function(I,P){const Q=Dn(I),ie=Dn(Q.Bs);return Q.persistence.runTransaction("Lookup mutation documents","readonly",je=>ie.fn(je,P).next(at=>at?Q.fi.Ks(je,at):$t.resolve(null)))}(h.localStore,e);var P;null!==_?("pending"===n?yield Zu(h.remoteStore):"acknowledged"===n||"rejected"===n?(Ju(h,e,l||null),ha(h,e),P=e,Dn(Dn(h.localStore).Bs)._n(P)):Un(),yield mu(h,_)):pn("SyncEngine","Cannot apply mutation batch with id: "+e)}),ng.apply(this,arguments)}function ch(){return ch=(0,c.Z)(function*(i,e){const n=Dn(i);if(hh(n),kc(n),!0===e&&!0!==n.da){const l=n.sharedClientState.getAllActiveQueryTargets(),h=yield ig(n,l.toArray());n.da=!0,yield rf(n.remoteStore,!0);for(const _ of h)Ac(n.remoteStore,_)}else if(!1===e&&!1!==n.da){const l=[];let h=Promise.resolve();n.ra.forEach((_,I)=>{n.sharedClientState.isLocalQueryTarget(I)?l.push(I):h=h.then(()=>(Ed(n,I),Zd(n.localStore,I,!0))),pd(n.remoteStore,I)}),yield h,yield ig(n,l),function(_){const I=Dn(_);I.aa.forEach((P,Q)=>{pd(I.remoteStore,Q)}),I.ca.Si(),I.aa=new Map,I.ua=new us(wn.comparator)}(n),n.da=!1,yield rf(n.remoteStore,!1)}}),ch.apply(this,arguments)}function ig(i,e,n){return dh.apply(this,arguments)}function dh(){return dh=(0,c.Z)(function*(i,e,n){const l=Dn(i),h=[],_=[];for(const I of e){let P;const Q=l.ra.get(I);if(Q&&0!==Q.length){P=yield Kh(l.localStore,Bo(Q[0]));for(const ie of Q){const je=l.ia.get(ie),at=yield vy(l,je);at.snapshot&&_.push(at.snapshot)}}else{const ie=yield Mg(l.localStore,I);P=yield Kh(l.localStore,ie),yield Xu(l,vl(ie),I,!1)}h.push(P)}return l.sa.zo(_),h}),dh.apply(this,arguments)}function vl(i){return Fd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Wg(i){const e=Dn(i);return Dn(Dn(e.localStore).persistence).Fs()}function $m(i,e,n,l){return sg.apply(this,arguments)}function sg(){return sg=(0,c.Z)(function*(i,e,n,l){const h=Dn(i);if(h.da)return void pn("SyncEngine","Ignoring unexpected query state notification.");const _=h.ra.get(e);if(_&&_.length>0)switch(n){case"current":case"not-current":{const I=yield jo(h.localStore,Au(_[0])),P=yc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield mu(h,I,P);break}case"rejected":yield Zd(h.localStore,e,!0),Ed(h,e,l);break;default:Un()}}),sg.apply(this,arguments)}function jm(i,e,n){return op.apply(this,arguments)}function op(){return op=(0,c.Z)(function*(i,e,n){const l=hh(i);if(l.da){for(const h of e){if(l.ra.has(h)){pn("SyncEngine","Adding an already active target "+h);continue}const _=yield Mg(l.localStore,h),I=yield Kh(l.localStore,_);yield Xu(l,vl(_),I.targetId,!1),Ac(l.remoteStore,I)}for(const h of n)l.ra.has(h)&&(yield Zd(l.localStore,h,!1).then(()=>{pd(l.remoteStore,h),Ed(l,h)}).catch(hu))}}),op.apply(this,arguments)}function hh(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jp.bind(null,e),e.sa.zo=Xf.bind(null,e.eventManager),e.sa.wa=lf.bind(null,e.eventManager),e}function kc(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ra.bind(null,e),e}class fh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.M=fd(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return qd(this.persistence,new Rm,e.initialUser,this.M)}ya(e){return new Gp(ud.Yi,this.M)}ga(e){return new Xd}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kg extends fh{constructor(e,n,l){super(),this.Ta=e,this.cacheSizeBytes=n,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,l=this;return(0,c.Z)(function*(){yield n().call(l,e),yield l.Ta.initialize(l,e),yield kc(l.Ta.syncEngine),yield Zu(l.Ta.remoteStore),yield l.persistence.Ts(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(l.localStore),Promise.resolve()))})()}Ia(e){return qd(this.persistence,new Rm,e.initialUser,this.M)}pa(e){return new Pp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const n=Ff(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?da.withCacheSize(this.cacheSizeBytes):da.DEFAULT;return new Bp(this.synchronizeTabs,n,e.clientId,l,e.asyncQueue,zp(),Xh(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Xd}}class Gm extends Kg{constructor(e,n){super(e,n,!1),this.Ta=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,l=this;return(0,c.Z)(function*(){yield n().call(l,e);const h=l.Ta.syncEngine;l.sharedClientState instanceof Tc&&(l.sharedClientState.syncEngine={$r:tg.bind(null,h),Br:$m.bind(null,h),Lr:jm.bind(null,h),Fs:Wg.bind(null,h),Fr:pf.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ts(function(){var _=(0,c.Z)(function*(I){yield function rg(i,e){return ch.apply(this,arguments)}(l.Ta.syncEngine,I),l.gcScheduler&&(I&&!l.gcScheduler.started?l.gcScheduler.start(l.localStore):I||l.gcScheduler.stop())});return function(I){return _.apply(this,arguments)}}())})()}ga(e){const n=zp();if(!Tc.vt(n))throw new en(St.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Ff(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tc(n,e.asyncQueue,l,e.clientId,e.initialUser)}}class gf{initialize(e,n){var l=this;return(0,c.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(n),l.remoteStore=l.createRemoteStore(n),l.eventManager=l.createEventManager(n),l.syncEngine=l.createSyncEngine(n,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>Qp(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=yy.bind(null,l.syncEngine),yield rf(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vm}createDatastore(e){const n=fd(e.databaseInfo.databaseId),l=new my(e.databaseInfo);return new Fm(e.authCredentials,e.appCheckCredentials,l,n)}createRemoteStore(e){return n=this.localStore,l=this.datastore,h=e.asyncQueue,_=P=>Qp(this.syncEngine,P,0),I=hd.vt()?new hd:new Hf,new kg(n,l,h,_,I);var n,l,h,_,I}createSyncEngine(e,n){return function(l,h,_,I,P,Q,ie){const je=new vd(l,h,_,I,P,Q);return ie&&(je.da=!0),je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const l=Dn(n);pn("RemoteStore","RemoteStore shutting down."),l.wu.add(5),yield Sc(l),l.gu.shutdown(),l.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function $l(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const l={value:i.slice(n,n+e),done:!1};return n+=e,l}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Go{constructor(e,n){this.Ra=e,this.M=n,this.metadata=new br,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(l=>{l&&l.Mu()?this.metadata.resolve(l.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.payload)}`))},l=>this.metadata.reject(l))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,c.Z)(function*(){const n=yield e.Va();if(null===n)return null;const l=e.ba.decode(n),h=Number(l);isNaN(h)&&e.va(`length string (${l}) is not valid number`);const _=yield e.Sa(h);return new Qf(JSON.parse(_),n.length+h)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,c.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const n=e.Da();n<0&&e.va("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),l})()}Sa(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ca())&&n.va("Reached the end of bundle when more is expected.");const l=n.ba.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),l})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ra.read();if(!n.done){const l=new Uint8Array(e.buffer.length+n.value.length);l.set(e.buffer),l.set(n.value,e.buffer.length),e.buffer=l}return n.done})()}}class wd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new en(St.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,c.Z)(function*(_,I){const P=Dn(_),Q=ws(P.M)+"/documents",ie={documents:I.map(sn=>Bs(P.M,sn))},je=yield P._o("BatchGetDocuments",Q,ie),at=new Map;je.forEach(sn=>{const on=function ji(i,e){return"found"in e?function(n,l){zn(!!l.found);const h=la(n,l.found.name),_=Ws(l.found.updateTime),I=new Rs({mapValue:{fields:l.found.fields}});return gr.newFoundDocument(h,_,I)}(i,e):"missing"in e?function(n,l){zn(!!l.missing),zn(!!l.readTime);const h=la(n,l.missing),_=Ws(l.readTime);return gr.newNoDocument(h,_)}(i,e):Un()}(P.M,sn);at.set(on.key.toString(),on)});const Lt=[];return I.forEach(sn=>{const on=at.get(sn.toString());zn(!!on),Lt.push(on)}),Lt}),function(_,I){return h.apply(this,arguments)})(n.datastore,e);var h;return l.forEach(h=>n.recordVersion(h)),l})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var l;e.mutations.forEach(l=>{n.delete(l.key.toString())}),n.forEach((l,h)=>{const _=wn.fromPath(h);e.mutations.push(new Di(_,e.precondition(_)))}),yield(l=(0,c.Z)(function*(h,_){const I=Dn(h),P=ws(I.M)+"/documents",Q={writes:_.map(ie=>uo(I.M,ie))};yield I.co("Commit",P,Q)}),function(h,_){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Un();n=_n.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!n.isEqual(l))throw new en(St.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Ls.updateTime(n):Ls.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_n.min()))throw new en(St.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ls.updateTime(n)}return Ls.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ap{constructor(e,n,l,h,_){this.asyncQueue=e,this.datastore=n,this.options=l,this.updateFunction=h,this.deferred=_,this.xa=l.maxAttempts,this.No=new Jd(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,c.Z)(function*(){const n=new wd(e.datastore),l=e.ka(n);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.Ma(_)}))}).catch(h=>{e.Ma(h)})}))}ka(e){try{const n=this.updateFunction(e);return!Ui(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Ah(n)}return!1}}class El{constructor(e,n,l,h){var _=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=l,this.databaseInfo=h,this.user=ns.UNAUTHENTICATED,this.clientId=ue.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var I=(0,c.Z)(function*(P){pn("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(l,I=>(pn("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new en(St.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(l){const h=Rc(l,"Failed to shutdown persistence");n.reject(h)}})),n.promise}}function lp(i,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),pn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let l=n.initialUser;i.setCredentialChangeListener(function(){var h=(0,c.Z)(function*(_){l.isEqual(_)||(yield Up(e.localStore,_),l=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Lc.apply(this,arguments)}function Id(i,e){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield bo(i);pn("FirestoreClient","Initializing OnlineComponentProvider");const l=yield i.getConfiguration();yield e.initialize(n,l),i.setCredentialChangeListener(h=>Bg(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,_)=>Bg(e.remoteStore,_)),i.onlineComponents=e}),Bc.apply(this,arguments)}function bo(i){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,c.Z)(function*(i){return i.offlineComponents||(pn("FirestoreClient","Using default OfflineComponentProvider"),yield lp(i,new fh)),i.offlineComponents}),Vc.apply(this,arguments)}function jl(i){return ec.apply(this,arguments)}function ec(){return ec=(0,c.Z)(function*(i){return i.onlineComponents||(pn("FirestoreClient","Using default OnlineComponentProvider"),yield Id(i,new gf)),i.onlineComponents}),ec.apply(this,arguments)}function Cd(i){return bo(i).then(e=>e.persistence)}function tc(i){return bo(i).then(e=>e.localStore)}function og(i){return jl(i).then(e=>e.remoteStore)}function up(i){return jl(i).then(e=>e.syncEngine)}function Dd(i){return cp.apply(this,arguments)}function cp(){return cp=(0,c.Z)(function*(i){const e=yield jl(i),n=e.eventManager;return n.onListen=Um.bind(null,e.syncEngine),n.onUnlisten=rp.bind(null,e.syncEngine),n}),cp.apply(this,arguments)}function Zg(i,e,n={}){const l=new br;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(h,_,I,P,Q){const ie=new Fc({next:at=>{_.enqueueAndForget(()=>af(h,je));const Lt=at.docs.has(I);!Lt&&at.fromCache?Q.reject(new en(St.UNAVAILABLE,"Failed to get document because the client is offline.")):Lt&&at.fromCache&&P&&"server"===P.source?Q.reject(new en(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(at)},error:at=>Q.reject(at)}),je=new uf(Xl(I.path),ie,{includeMetadataChanges:!0,ku:!0});return sf(h,je)}(yield Dd(i),i.asyncQueue,e,n,l)})),l.promise}function Qg(i,e,n={}){const l=new br;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(h,_,I,P,Q){const ie=new Fc({next:at=>{_.enqueueAndForget(()=>af(h,je)),at.fromCache&&"server"===P.source?Q.reject(new en(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(at)},error:at=>Q.reject(at)}),je=new uf(I,ie,{includeMetadataChanges:!0,ku:!0});return sf(h,je)}(yield Dd(i),i.asyncQueue,e,n,l)})),l.promise}const nm=new Map;function lg(i,e,n){if(!n)throw new en(St.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ug(i,e,n,l){if(!0===e&&!0===l)throw new en(St.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function rm(i){if(!wn.isDocumentKey(i))throw new en(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function im(i){if(wn.isDocumentKey(i))throw new en(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Un()}function _i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new en(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cg(i);throw new en(St.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Wm(i,e){if(e<=0)throw new en(St.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class sm{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new en(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new en(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ug("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,n,l){this._authCredentials=n,this._appCheckCredentials=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sm({}),this._settingsFrozen=!1,e instanceof ko?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new en(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(h.options.projectId)}(e))}get app(){if(!this._app)throw new en(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new en(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sm(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new La;switch(n.type){case"gapi":const l=n.client;return zn(!("object"!=typeof l||null===l||!l.auth||!l.auth.getAuthHeaderValueForFirstParty)),new Wc(l,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new en(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=nm.get(e);n&&(pn("ComponentProvider","Removing Datastore"),nm.delete(e),n.terminate())}(this),Promise.resolve()}}function dg(i,e,n,l={}){var h;const _=(i=_i(i,Uc))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==e&&Ts("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},_),{host:`${e}:${n}`,ssl:!1})),l.mockUserToken){let I,P;if("string"==typeof l.mockUserToken)I=l.mockUserToken,P=ns.MOCK_USER;else{I=(0,Te.Sg)(l.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const Q=l.mockUserToken.sub||l.mockUserToken.user_id;if(!Q)throw new en(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ns(Q)}i._authCredentials=new uc(new ya(I,P))}}class Us{constructor(e,n,l){this.converter=n,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}}class fa{constructor(e,n,l){this.converter=n,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class nc extends fa{constructor(e,n,l){super(e,n,Xl(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new wn(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function Td(i,e,...n){if(i=(0,Te.m9)(i),lg("collection","path",e),i instanceof Uc){const l=Or.fromString(e,...n);return im(l),new nc(i,null,l)}{if(!(i instanceof Us||i instanceof nc))throw new en(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Or.fromString(e,...n));return im(l),new nc(i.firestore,null,l)}}function Oo(i,e){if(i=_i(i,Uc),lg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new en(St.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fa(i,null,(n=e,new Lo(Or.emptyPath(),n)));var n}function pa(i,e,...n){if(i=(0,Te.m9)(i),1===arguments.length&&(e=ue.R()),lg("doc","path",e),i instanceof Uc){const l=Or.fromString(e,...n);return rm(l),new Us(i,null,new wn(l))}{if(!(i instanceof Us||i instanceof nc))throw new en(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Or.fromString(e,...n));return rm(l),new Us(i.firestore,i instanceof nc?i.converter:null,new wn(l))}}function dp(i,e){return i=(0,Te.m9)(i),e=(0,Te.m9)(e),(i instanceof Us||i instanceof nc)&&(e instanceof Us||e instanceof nc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function om(i,e){return i=(0,Te.m9)(i),e=(0,Te.m9)(e),i instanceof fa&&e instanceof fa&&i.firestore===e.firestore&&Yc(i._query,e._query)&&i.converter===e.converter}class ph{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Jd(this,"async_queue_retry"),this.Qa=()=>{const n=Xh();n&&pn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Xh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Xh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new br;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,c.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!ml(n))throw n;pn("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(l=>{throw this.Ua=l,this.qa=!1,Ds("INTERNAL UNHANDLED ERROR: ",function(_){let I=_.message||"";return _.stack&&(I=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),I}(l)),l}).then(l=>(this.qa=!1,l))));return this.Fa=n,n}enqueueAfterDelay(e,n,l){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const h=Mc.createAndSchedule(this,e,n,l,_=>this.Ha(_));return this.La.push(h),h}ja(){this.Ua&&Un()}verifyOperationInProgress(){}Ja(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,l)=>n.targetTimeMs-l.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function hg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(i)}class am{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,l){this._progressObserver={next:e,error:n,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const yu=-1;class Is extends Uc{constructor(e,n,l){super(e,n,l),this.type="firestore",this._queue=new ph,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||pg(this),this._firestoreClient.terminate()}}function $s(i){return i._firestoreClient||pg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function pg(i){var e;const n=i._freezeSettings(),l=(_=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Rd(i._databaseId,_,i._persistenceKey,(P=n).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var _,P;i._firestoreClient=new El(i._authCredentials,i._appCheckCredentials,i._queue,l)}function lm(i,e){fp(i=_i(i,Is));const n=$s(i),l=i._freezeSettings(),h=new gf;return um(n,h,new Kg(h,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function mf(i){fp(i=_i(i,Is));const e=$s(i),n=i._freezeSettings(),l=new gf;return um(e,l,new Gm(l,n.cacheSizeBytes))}function um(i,e,n){const l=new br;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield lp(i,n),yield Id(i,e),l.resolve()}catch(h){if(!("FirebaseError"===(_=h).name?_.code===St.FAILED_PRECONDITION||_.code===St.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),l.reject(h)}var _})).then(()=>l.promise)}function cm(i){if(i._initialized&&!i._terminated)throw new en(St.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(l){if(!Uo.vt())return Promise.resolve();const h=l+"main";yield Uo.delete(h)}),function(l){return n.apply(this,arguments)})(Ff(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function dm(i){return function(e){const n=new br;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Qu(i,e){return ff.apply(this,arguments)}(yield up(e),n)})),n.promise}($s(i=_i(i,Is)))}function Ym(i){return function ag(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Cd(i),n=yield og(i);return e.setNetworkEnabled(!0),function(l){const h=Dn(l);return h.wu.delete(0),eh(h)}(n)}))}($s(i=_i(i,Is)))}function gg(i){return function Yg(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Cd(i),n=yield og(i);return e.setNetworkEnabled(!1),(l=(0,c.Z)(function*(h){const _=Dn(h);_.wu.add(0),yield Sc(_),_.yu.set("Offline")}),function(h){return l.apply(this,arguments)})(n);var l}))}($s(i=_i(i,Is)))}function hp(i,e){const n=$s(i=_i(i,Is)),l=new am;return function em(i,e,n,l){const h=function(_,I){let P;return P="string"==typeof _?(new TextEncoder).encode(_):_,Q=function(Q,ie){if(Q instanceof Uint8Array)return $l(Q,void 0);if(Q instanceof ArrayBuffer)return $l(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Go(Q,I);var Q}(n,fd(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function Hm(i,e,n){const l=Dn(i);var h;(h=(0,c.Z)(function*(_,I,P){try{const Q=yield I.getMetadata();if(yield function(Lt,sn){const on=Dn(Lt),Kn=Ws(sn.createTime);return on.persistence.runTransaction("hasNewerBundle","readonly",Fr=>on._s.getBundleMetadata(Fr,sn.id)).then(Fr=>!!Fr&&Fr.createTime.compareTo(Kn)>=0)}(_.localStore,Q))return yield I.close(),P._completeWith({taskState:"Success",documentsLoaded:(Lt=Q).totalDocuments,bytesLoaded:Lt.totalBytes,totalDocuments:Lt.totalDocuments,totalBytes:Lt.totalBytes}),Promise.resolve(new Set);P._updateProgress(_d(Q));const ie=new $g(Q,_.localStore,I.M);let je=yield I.ma();for(;je;){const Lt=yield ie.Fu(je);Lt&&P._updateProgress(Lt),je=yield I.ma()}const at=yield ie.complete();return yield mu(_,at.Lu,void 0),yield function(Lt,sn){const on=Dn(Lt);return on.persistence.runTransaction("Save bundle","readwrite",Kn=>on._s.saveBundleMetadata(Kn,sn))}(_.localStore,Q),P._completeWith(at.progress),Promise.resolve(at.Bu)}catch(Q){return Ts("SyncEngine",`Loading bundle failed with ${Q}`),P._failWith(Q),Promise.resolve(new Set)}var Lt}),function(_,I,P){return h.apply(this,arguments)})(l,e,n).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield up(i),h,l)}))}(n,i._databaseId,e,l),l}function Ey(i,e){return function tm(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,l){const h=Dn(n);return h.persistence.runTransaction("Get named query","readonly",_=>h._s.getNamedQuery(_,l))}(yield tc(i),e)}))}($s(i=_i(i,Is)),e).then(n=>n?new fa(i,null,n.query):null)}function fp(i){if(i._initialized||i._terminated)throw new en(St.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $c{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new en(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(as.fromBase64String(e))}catch(n){throw new en(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bl(as.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jc{constructor(e){this._methodName=e}}class Sd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new en(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new en(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}const mg=/^__.*__$/;class qm{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return null!==this.fieldMask?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Da(e,this.data,n,this.fieldTransforms)}}class yf{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _f(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Un()}}class gh{constructor(e,n,l,h,_,I){this.settings=e,this.databaseId=n,this.M=l,this.ignoreUndefinedProperties=h,void 0===_&&this.tc(),this.fieldTransforms=_||[],this.fieldMask=I||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.nc({path:l,ic:!1});return h.rc(e),h}oc(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.nc({path:l,ic:!1});return h.tc(),h}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return J(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(_f(this.ec)&&mg.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class pp{constructor(e,n,l){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=l||fd(e)}lc(e,n,l,h=!1){return new gh({ec:e,methodName:n,hc:l,path:Yi.emptyPath(),ic:!1,cc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Hc(i){const e=i._freezeSettings(),n=fd(i._databaseId);return new pp(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Ad(i,e,n,l,h,_={}){const I=i.lc(_.merge||_.mergeFields?2:0,e,n,h);f("Data must be an object, but it was:",I,l);const P=s(l,I);let Q,ie;if(_.merge)Q=new Gs(I.fieldMask),ie=I.fieldTransforms;else if(_.mergeFields){const je=[];for(const at of _.mergeFields){const Lt=v(e,at,n);if(!I.contains(Lt))throw new en(St.INVALID_ARGUMENT,`Field '${Lt}' is specified in your field mask but missing from your input data.`);ce(je,Lt)||je.push(Lt)}Q=new Gs(je),ie=I.fieldTransforms.filter(at=>Q.covers(at.field))}else Q=null,ie=I.fieldTransforms;return new qm(new Rs(P),Q,ie)}class Gc extends jc{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gc}}function Oa(i,e,n){return new gh({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class gp extends jc{_toFieldTransform(e){return new Ca(e.path,new Ml)}isEqual(e){return e instanceof gp}}class yg extends jc{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=Oa(this,e,!0),l=this.fc.map(_=>u(_,n)),h=new Rl(l);return new Ca(e.path,h)}isEqual(e){return this===e}}class fm extends jc{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=Oa(this,e,!0),l=this.fc.map(_=>u(_,n)),h=new Ol(l);return new Ca(e.path,h)}isEqual(e){return this===e}}class pm extends jc{constructor(e,n){super(e),this.dc=n}_toFieldTransform(e){const n=new Ru(e.M,If(e.M,this.dc));return new Ca(e.path,n)}isEqual(e){return this===e}}function vf(i,e,n,l){const h=i.lc(1,e,n);f("Data must be an object, but it was:",h,l);const _=[],I=Rs.empty();Rr(l,(Q,ie)=>{const je=M(e,Q,n);ie=(0,Te.m9)(ie);const at=h.oc(je);if(ie instanceof Gc)_.push(je);else{const Lt=u(ie,at);null!=Lt&&(_.push(je),I.set(je,Lt))}});const P=new Gs(_);return new yf(I,P,h.fieldTransforms)}function mp(i,e,n,l,h,_){const I=i.lc(1,e,n),P=[v(e,l,n)],Q=[h];if(_.length%2!=0)throw new en(St.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Lt=0;Lt<_.length;Lt+=2)P.push(v(e,_[Lt])),Q.push(_[Lt+1]);const ie=[],je=Rs.empty();for(let Lt=P.length-1;Lt>=0;--Lt)if(!ce(ie,P[Lt])){const sn=P[Lt];let on=Q[Lt];on=(0,Te.m9)(on);const Kn=I.oc(sn);if(on instanceof Gc)ie.push(sn);else{const Fr=u(on,Kn);null!=Fr&&(ie.push(sn),je.set(sn,Fr))}}const at=new Gs(ie);return new yf(je,at,I.fieldTransforms)}function gm(i,e,n,l=!1){return u(n,i.lc(l?4:3,e))}function u(i,e){if(a(i=(0,Te.m9)(i)))return f("Unsupported field value:",e,i),s(i,e);if(i instanceof jc)return function(n,l){if(!_f(l.ec))throw l.ac(`${n._methodName}() can only be used with update() and set()`);if(!l.path)throw l.ac(`${n._methodName}() is not currently supported inside arrays`);const h=n._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,l){const h=[];let _=0;for(const I of n){let P=u(I,l.uc(_));null==P&&(P={nullValue:"NULL_VALUE"}),h.push(P),_++}return{arrayValue:{values:h}}}(i,e)}return function(n,l){if(null===(n=(0,Te.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return If(l.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const h=gn.fromDate(n);return{timestampValue:Js(l.M,h)}}if(n instanceof gn){const h=new gn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Js(l.M,h)}}if(n instanceof Sd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bl)return{bytesValue:Sf(l.M,n._byteString)};if(n instanceof Us){const h=l.databaseId,_=n.firestore._databaseId;if(!_.isEqual(h))throw l.ac(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rh(n.firestore._databaseId||l.databaseId,n._key.path)}}throw l.ac(`Unsupported field value: ${cg(n)}`)}(i,e)}function s(i,e){const n={};return ei(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(i,(l,h)=>{const _=u(h,e.sc(l));null!=_&&(n[l]=_)}),{mapValue:{fields:n}}}function a(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gn||i instanceof Sd||i instanceof bl||i instanceof Us||i instanceof jc)}function f(i,e,n){if(!a(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=cg(n);throw e.ac("an object"===l?i+" a custom object":i+" "+l)}var l}function v(i,e,n){if((e=(0,Te.m9)(e))instanceof $c)return e._internalPath;if("string"==typeof e)return M(i,e);throw J("Field path arguments must be of type string or ",i,!1,void 0,n)}const D=new RegExp("[~\\*/\\[\\]]");function M(i,e,n){if(e.search(D)>=0)throw J(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $c(...e.split("."))._internalPath}catch(l){throw J(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function J(i,e,n,l,h){const _=l&&!l.isEmpty(),I=void 0!==h;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let Q="";return(_||I)&&(Q+=" (found",_&&(Q+=` in field ${l}`),I&&(Q+=` in document ${h}`),Q+=")"),new en(St.INVALID_ARGUMENT,P+i+Q)}function ce(i,e){return i.some(n=>n.isEqual(e))}class Pe{constructor(e,n,l,h,_){this._firestore=e,this._userDataWriter=n,this._key=l,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(It("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class vt extends Pe{data(){return super.data()}}function It(i,e){return"string"==typeof e?M(i,e):e instanceof $c?e._internalPath:e._delegate._internalPath}class kt{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mn extends Pe{constructor(e,n,l,h,_,I){super(e,n,l,h,I),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const l=this._document.data.field(It("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,n.serverTimestamps)}}}class Mn extends mn{data(e={}){return super.data(e)}}class _r{constructor(e,n,l,h){this._firestore=e,this._userDataWriter=n,this._snapshot=h,this.metadata=new kt(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(l=>{e.call(n,new Mn(this._firestore,this._userDataWriter,l.key,l,new kt(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new en(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let _=0;return l._snapshot.docChanges.map(I=>({type:"added",doc:new Mn(l._firestore,l._userDataWriter,I.doc.key,I.doc,new kt(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:_++}))}{let _=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(I=>h||3!==I.type).map(I=>{const P=new Mn(l._firestore,l._userDataWriter,I.doc.key,I.doc,new kt(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter);let Q=-1,ie=-1;return 0!==I.type&&(Q=_.indexOf(I.doc.key),_=_.delete(I.doc.key)),1!==I.type&&(_=_.add(I.doc),ie=_.indexOf(I.doc.key)),{type:Zr(I.type),doc:P,oldIndex:Q,newIndex:ie}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zr(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Un()}}function zo(i,e){return i instanceof mn&&e instanceof mn?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _r&&e instanceof _r&&i._firestore===e._firestore&&om(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function to(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new en(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cs{}function no(i,...e){for(const n of e)i=n._apply(i);return i}class mh extends cs{constructor(e,n,l){super(),this._c=e,this.wc=n,this.mc=l,this.type="where"}_apply(e){const n=Hc(e.firestore),l=function(h,_,I,P,Q,ie,je){let at;if(Q.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new en(St.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){Yy(je,ie);const sn=[];for(const on of je)sn.push(Xm(P,h,on));at={arrayValue:{values:sn}}}else at=Xm(P,h,je)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Yy(je,ie),at=gm(I,"where",je,"in"===ie||"not-in"===ie);const Lt=ti.create(Q,ie,at);return function(sn,on){if(on.S()){const Fr=Tu(sn);if(null!==Fr&&!Fr.isEqual(on.field))throw new en(St.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fr.toString()}' and '${on.field.toString()}'`);const Ys=Ql(sn);null!==Ys&&mm(0,on.field,Ys)}const Kn=function(Fr,Ys){for(const wo of Fr.filters)if(Ys.indexOf(wo.op)>=0)return wo.op;return null}(sn,function(Fr){switch(Fr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(on.op));if(null!==Kn)throw new en(St.INVALID_ARGUMENT,Kn===on.op?`Invalid query. You cannot use more than one '${on.op.toString()}' filter.`:`Invalid query. You cannot use '${on.op.toString()}' filters with '${Kn.toString()}' filters.`)}(h,Lt),Lt}(e._query,0,n,e.firestore._databaseId,this._c,this.wc,this.mc);return new fa(e.firestore,e.converter,function(h,_){const I=h.filters.concat([_]);return new Lo(h.path,h.collectionGroup,h.explicitOrderBy.slice(),I,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,l))}}function As(i,e,n){const l=e,h=It("where",i);return new mh(h,l,n)}class yp extends cs{constructor(e,n){super(),this._c=e,this.gc=n,this.type="orderBy"}_apply(e){const n=function(l,h,_){if(null!==l.startAt)throw new en(St.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new en(St.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new oa(h,_);return function(P,Q){if(null===Ql(P)){const ie=Tu(P);null!==ie&&mm(0,ie,Q.field)}}(l,I),I}(e._query,this._c,this.gc);return new fa(e.firestore,e.converter,function(l,h){const _=l.explicitOrderBy.concat([h]);return new Lo(l.path,l.collectionGroup,_,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function Ef(i,e="asc"){const n=e,l=It("orderBy",i);return new yp(l,n)}class _p extends cs{constructor(e,n,l){super(),this.type=e,this.yc=n,this.Ic=l}_apply(e){return new fa(e.firestore,e.converter,wh(e._query,this.yc,this.Ic))}}function wy(i){return Wm("limit",i),new _p("limit",i,"F")}function Wy(i){return Wm("limitToLast",i),new _p("limitToLast",i,"L")}class Zm extends cs{constructor(e,n,l){super(),this.type=e,this.Tc=n,this.Ec=l}_apply(e){const n=Ty(e,this.type,this.Tc,this.Ec);return new fa(e.firestore,e.converter,(h=n,new Lo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}function Iy(...i){return new Zm("startAt",i,!0)}function vp(...i){return new Zm("startAfter",i,!1)}class Cy extends cs{constructor(e,n,l){super(),this.type=e,this.Tc=n,this.Ec=l}_apply(e){const n=Ty(e,this.type,this.Tc,this.Ec);return new fa(e.firestore,e.converter,(h=n,new Lo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function Ky(...i){return new Cy("endBefore",i,!1)}function Dy(...i){return new Cy("endAt",i,!0)}function Ty(i,e,n,l){if(n[0]=(0,Te.m9)(n[0]),n[0]instanceof Pe)return function(h,_,I,P,Q){if(!P)throw new en(St.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const ie=[];for(const je of Su(h))if(je.field.isKeyField())ie.push(Ea(_,P.key));else{const at=P.data.field(je.field);if(il(at))throw new en(St.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+je.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===at){const Lt=je.field.canonicalString();throw new en(St.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Lt}' (used as the orderBy) does not exist.`)}ie.push(at)}return new ll(ie,Q)}(i._query,i.firestore._databaseId,e,n[0]._document,l);{const h=Hc(i.firestore);return function(_,I,P,Q,ie,je){const at=_.explicitOrderBy;if(ie.length>at.length)throw new en(St.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Lt=[];for(let sn=0;sn<ie.length;sn++){const on=ie[sn];if(at[sn].field.isKeyField()){if("string"!=typeof on)throw new en(St.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof on}`);if(!bh(_)&&-1!==on.indexOf("/"))throw new en(St.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${on}' contains a slash.`);const Kn=_.path.child(Or.fromString(on));if(!wn.isDocumentKey(Kn))throw new en(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${Kn}' is not because it contains an odd number of segments.`);const Fr=new wn(Kn);Lt.push(Ea(I,Fr))}else{const Kn=gm(P,Q,on);Lt.push(Kn)}}return new ll(Lt,je)}(i._query,i.firestore._databaseId,h,e,n,l)}}function Xm(i,e,n){if("string"==typeof(n=(0,Te.m9)(n))){if(""===n)throw new en(St.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bh(e)&&-1!==n.indexOf("/"))throw new en(St.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const l=e.path.child(Or.fromString(n));if(!wn.isDocumentKey(l))throw new en(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return Ea(i,new wn(l))}if(n instanceof Us)return Ea(i,n._key);throw new en(St.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(n)}.`)}function Yy(i,e){if(!Array.isArray(i)||0===i.length)throw new en(St.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new en(St.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function mm(i,e,n){if(!n.isEqual(e))throw new en(St.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const Qm={maxAttempts:5};class _u{convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Un()}}convertObject(e,n){const l={};return Rr(e.fields,(h,_)=>{l[h]=this.convertValue(_,n)}),l}convertGeoPoint(e){return new Sd(wi(e.latitude),wi(e.longitude))}convertArray(e,n){return(e.values||[]).map(l=>this.convertValue(l,n))}convertServerTimestamp(e,n){switch(n){case"previous":const l=Al(e);return null==l?null:this.convertValue(l,n);case"estimate":return this.convertTimestamp(na(e));default:return null}}convertTimestamp(e){const n=mo(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const l=Or.fromString(e);zn(co(l));const h=new ko(l.get(1),l.get(3)),_=new wn(l.popFirst(5));return h.isEqual(n)||Ds(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),_}}function ym(i,e,n){let l;return l=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,l}class qy extends _u{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,n)}}class rc{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,n,l){this._verifyNotCommitted();const h=Wo(e,this._firestore),_=ym(h.converter,n,l),I=Ad(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,l);return this._mutations.push(I.toMutation(h._key,Ls.none())),this}update(e,n,l,...h){this._verifyNotCommitted();const _=Wo(e,this._firestore);let I;return I="string"==typeof(n=(0,Te.m9)(n))||n instanceof $c?mp(this._dataReader,"WriteBatch.update",_._key,n,l,h):vf(this._dataReader,"WriteBatch.update",_._key,n),this._mutations.push(I.toMutation(_._key,Ls.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wo(e,this._firestore);return this._mutations=this._mutations.concat(new Ro(n._key,Ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new en(St.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wo(i,e){if((i=(0,Te.m9)(i)).firestore!==e)throw new en(St.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ic(i){i=_i(i,Us);const e=_i(i.firestore,Is);return Zg($s(e),i._key).then(n=>Ep(e,i,n))}class yh extends _u{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,n)}}function Sy(i){i=_i(i,Us);const e=_i(i.firestore,Is),n=$s(e),l=new yh(e);return function qg(i,e){const n=new br;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(l=(0,c.Z)(function*(h,_,I){try{const P=yield function(Q,ie){const je=Dn(Q);return je.persistence.runTransaction("read document","readonly",at=>je.fi.Ls(at,ie))}(h,_);P.isFoundDocument()?I.resolve(P):P.isNoDocument()?I.resolve(null):I.reject(new en(St.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const Q=Rc(P,`Failed to get document '${_} from cache`);I.reject(Q)}}),function(h,_,I){return l.apply(this,arguments)})(yield tc(i),e,n);var l})),n.promise}(n,i._key).then(h=>new mn(e,l,i._key,h,new kt(null!==h&&h.hasLocalMutations,!0),i.converter))}function Zy(i){i=_i(i,Us);const e=_i(i.firestore,Is);return Zg($s(e),i._key,{source:"server"}).then(n=>Ep(e,i,n))}function Xy(i){i=_i(i,fa);const e=_i(i.firestore,Is),n=$s(e),l=new yh(e);return to(i._query),Qg(n,i._query).then(h=>new _r(e,l,i,h))}function Qy(i){i=_i(i,fa);const e=_i(i.firestore,Is),n=$s(e),l=new yh(e);return function Xg(i,e){const n=new br;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(l=(0,c.Z)(function*(h,_,I){try{const P=yield Bf(h,_,!0),Q=new ep(_,P._i),ie=Q.Wu(P.documents),je=Q.applyChanges(ie,!1);I.resolve(je.snapshot)}catch(P){const Q=Rc(P,`Failed to execute query '${_} against cache`);I.reject(Q)}}),function(h,_,I){return l.apply(this,arguments)})(yield tc(i),e,n);var l})),n.promise}(n,i._query).then(h=>new _r(e,l,i,h))}function Jy(i){i=_i(i,fa);const e=_i(i.firestore,Is),n=$s(e),l=new yh(e);return Qg(n,i._query,{source:"server"}).then(h=>new _r(e,l,i,h))}function Jm(i,e,n){i=_i(i,Us);const l=_i(i.firestore,Is),h=ym(i.converter,e,n);return bf(l,[Ad(Hc(l),"setDoc",i._key,h,null!==i.converter,n).toMutation(i._key,Ls.none())])}function _g(i,e,n,...l){i=_i(i,Us);const h=_i(i.firestore,Is),_=Hc(h);let I;return I="string"==typeof(e=(0,Te.m9)(e))||e instanceof $c?mp(_,"updateDoc",i._key,e,n,l):vf(_,"updateDoc",i._key,e),bf(h,[I.toMutation(i._key,Ls.exists(!0))])}function e_(i){return bf(_i(i.firestore,Is),[new Ro(i._key,Ls.none())])}function Ay(i,e){const n=_i(i.firestore,Is),l=pa(i),h=ym(i.converter,e);return bf(n,[Ad(Hc(i.firestore),"addDoc",l._key,h,null!==i.converter,{}).toMutation(l._key,Ls.exists(!1))]).then(()=>l)}function t_(i,...e){var n,l,h;i=(0,Te.m9)(i);let _={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||hg(e[I])||(_=e[I],I++);const P={includeMetadataChanges:_.includeMetadataChanges};if(hg(e[I])){const at=e[I];e[I]=null===(n=at.next)||void 0===n?void 0:n.bind(at),e[I+1]=null===(l=at.error)||void 0===l?void 0:l.bind(at),e[I+2]=null===(h=at.complete)||void 0===h?void 0:h.bind(at)}let Q,ie,je;if(i instanceof Us)ie=_i(i.firestore,Is),je=Xl(i._key.path),Q={next:at=>{e[I]&&e[I](Ep(ie,i,at))},error:e[I+1],complete:e[I+2]};else{const at=_i(i,fa);ie=_i(at.firestore,Is),je=at._query;const Lt=new yh(ie);Q={next:sn=>{e[I]&&e[I](new _r(ie,Lt,at,sn))},error:e[I+1],complete:e[I+2]},to(i._query)}return function(at,Lt,sn,on){const Kn=new Fc(on),Fr=new uf(Lt,Kn,sn);return at.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return sf(yield Dd(at),Fr)})),()=>{Kn.Aa(),at.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return af(yield Dd(at),Fr)}))}}($s(ie),je,P,Q)}function xy(i,e){return function Jg(i,e){const n=new Fc(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return l=yield Dd(i),h=n,Dn(l).bu.add(h),void h.next();var l,h})),()=>{n.Aa(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return l=yield Dd(i),h=n,void Dn(l).bu.delete(h);var l,h}))}}($s(i=_i(i,Is)),hg(e)?e:{next:e})}function bf(i,e){return function(n,l){const h=new br;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Xp(i,e,n){return Xa.apply(this,arguments)}(yield up(n),l,h)})),h.promise}($s(i),e)}function Ep(i,e,n){const l=n.docs.get(e._key),h=new yh(i);return new mn(i,h,e._key,l,new kt(n.hasPendingWrites,n.fromCache),e.converter)}class n_ extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Hc(e)}get(e){const n=Wo(e,this._firestore),l=new qy(this._firestore);return this._transaction.lookup([n._key]).then(h=>{if(!h||1!==h.length)return Un();const _=h[0];if(_.isFoundDocument())return new Pe(this._firestore,l,_.key,_,n.converter);if(_.isNoDocument())return new Pe(this._firestore,l,n._key,null,n.converter);throw Un()})}set(e,n,l){const h=Wo(e,this._firestore),_=ym(h.converter,n,l),I=Ad(this._dataReader,"Transaction.set",h._key,_,null!==h.converter,l);return this._transaction.set(h._key,I),this}update(e,n,l,...h){const _=Wo(e,this._firestore);let I;return I="string"==typeof(n=(0,Te.m9)(n))||n instanceof $c?mp(this._dataReader,"Transaction.update",_._key,n,l,h):vf(this._dataReader,"Transaction.update",_._key,n),this._transaction.update(_._key,I),this}delete(e){const n=Wo(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wo(e,this._firestore),l=new yh(this._firestore);return super.get(e).then(h=>new mn(this._firestore,l,n._key,h._document,new kt(!1,!1),n.converter))}}function My(i,e,n){i=_i(i,Is);const l=Object.assign(Object.assign({},Qm),n);return function(h){if(h.maxAttempts<1)throw new en(St.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function zm(i,e,n){const l=new br;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const h=yield(_=i,jl(_).then(I=>I.datastore));var _;new ap(i.asyncQueue,h,n,e,l).run()})),l.promise}($s(i),h=>e(new n_(i,h)),l)}function Ry(){return new Gc("deleteField")}function ey(){return new gp("serverTimestamp")}function _m(...i){return new yg("arrayUnion",i)}function ty(...i){return new fm("arrayRemove",i)}function ny(i){return new pm("increment",i)}!function(i,e=!0){So=z.SDK_VERSION,(0,z._registerComponent)(new W.wA("firestore",(n,{options:l})=>{const h=n.getProvider("app").getImmediate(),_=new Is(h,new Sl(n.getProvider("auth-internal")),new A(n.getProvider("app-check-internal")));return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC")),(0,z.registerVersion)(Tl,"3.4.9",i),(0,z.registerVersion)(Tl,"3.4.9","esm2017")}()},2090:(Qt,lt,N)=>{"use strict";N.d(lt,{BH:()=>le,LL:()=>$e,ZR:()=>Be,gQ:()=>er,zI:()=>we,hu:()=>z,g5:()=>W,US:()=>te,tV:()=>Ie,h$:()=>_e,L:()=>re,$s:()=>Tn,r3:()=>Xt,Sg:()=>Fe,ne:()=>Zn,p$:()=>Z,vZ:()=>zt,ZB:()=>pe,gK:()=>Pn,pd:()=>Bn,m9:()=>qn,z$:()=>He,GJ:()=>st,jU:()=>Le,ru:()=>et,d:()=>Ye,xb:()=>ft,w1:()=>yt,hl:()=>Ee,uI:()=>De,UG:()=>Oe,Yr:()=>gt,b$:()=>rt,G6:()=>_t,Mn:()=>Pt,w9:()=>Me,cI:()=>ut,UI:()=>Nt,xO:()=>hn,zd:()=>Fn,DV:()=>ct,ug:()=>At,dS:()=>Wt,Pz:()=>ze,Dv:()=>Pr,Wj:()=>Ge,lb:()=>Ae,eu:()=>nt});const z=function(Re,Ke){if(!Re)throw W(Ke)},W=function(Re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Re)},ke=function(Re){const Ke=[];let Qe=0;for(let Bt=0;Bt<Re.length;Bt++){let We=Re.charCodeAt(Bt);We<128?Ke[Qe++]=We:We<2048?(Ke[Qe++]=We>>6|192,Ke[Qe++]=63&We|128):55296==(64512&We)&&Bt+1<Re.length&&56320==(64512&Re.charCodeAt(Bt+1))?(We=65536+((1023&We)<<10)+(1023&Re.charCodeAt(++Bt)),Ke[Qe++]=We>>18|240,Ke[Qe++]=We>>12&63|128,Ke[Qe++]=We>>6&63|128,Ke[Qe++]=63&We|128):(Ke[Qe++]=We>>12|224,Ke[Qe++]=We>>6&63|128,Ke[Qe++]=63&We|128)}return Ke},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,Ke){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Qe=Ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,Bt=[];for(let We=0;We<Re.length;We+=3){const pt=Re[We],qt=We+1<Re.length,En=qt?Re[We+1]:0,Sn=We+2<Re.length,On=Sn?Re[We+2]:0;let an=(15&En)<<2|On>>6,Cr=63&On;Sn||(Cr=64,qt||(an=64)),Bt.push(Qe[pt>>2],Qe[(3&pt)<<4|En>>4],Qe[an],Qe[Cr])}return Bt.join("")},encodeString(Re,Ke){return this.HAS_NATIVE_SUPPORT&&!Ke?btoa(Re):this.encodeByteArray(ke(Re),Ke)},decodeString(Re,Ke){return this.HAS_NATIVE_SUPPORT&&!Ke?atob(Re):function(Re){const Ke=[];let Qe=0,Bt=0;for(;Qe<Re.length;){const We=Re[Qe++];if(We<128)Ke[Bt++]=String.fromCharCode(We);else if(We>191&&We<224){const pt=Re[Qe++];Ke[Bt++]=String.fromCharCode((31&We)<<6|63&pt)}else if(We>239&&We<365){const Sn=((7&We)<<18|(63&Re[Qe++])<<12|(63&Re[Qe++])<<6|63&Re[Qe++])-65536;Ke[Bt++]=String.fromCharCode(55296+(Sn>>10)),Ke[Bt++]=String.fromCharCode(56320+(1023&Sn))}else{const pt=Re[Qe++],qt=Re[Qe++];Ke[Bt++]=String.fromCharCode((15&We)<<12|(63&pt)<<6|63&qt)}}return Ke.join("")}(this.decodeStringToByteArray(Re,Ke))},decodeStringToByteArray(Re,Ke){this.init_();const Qe=Ke?this.charToByteMapWebSafe_:this.charToByteMap_,Bt=[];for(let We=0;We<Re.length;){const pt=Qe[Re.charAt(We++)],En=We<Re.length?Qe[Re.charAt(We)]:0;++We;const On=We<Re.length?Qe[Re.charAt(We)]:64;++We;const un=We<Re.length?Qe[Re.charAt(We)]:64;if(++We,null==pt||null==En||null==On||null==un)throw Error();Bt.push(pt<<2|En>>4),64!==On&&(Bt.push(En<<4&240|On>>2),64!==un&&Bt.push(On<<6&192|un))}return Bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}},_e=function(Re){const Ke=ke(Re);return te.encodeByteArray(Ke,!0)},re=function(Re){return _e(Re).replace(/\./g,"")},Ie=function(Re){try{return te.decodeString(Re,!0)}catch(Ke){console.error("base64Decode failed: ",Ke)}return null};function Z(Re){return pe(void 0,Re)}function pe(Re,Ke){if(!(Ke instanceof Object))return Ke;switch(Ke.constructor){case Date:return new Date(Ke.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return Ke}for(const Qe in Ke)!Ke.hasOwnProperty(Qe)||!ee(Qe)||(Re[Qe]=pe(Re[Qe],Ke[Qe]));return Re}function ee(Re){return"__proto__"!==Re}class le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ke,Qe)=>{this.resolve=Ke,this.reject=Qe})}wrapCallback(Ke){return(Qe,Bt)=>{Qe?this.reject(Qe):this.resolve(Bt),"function"==typeof Ke&&(this.promise.catch(()=>{}),1===Ke.length?Ke(Qe):Ke(Qe,Bt))}}}function Fe(Re,Ke){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Bt=Ke||"demo-project",We=Re.iat||0,pt=Re.sub||Re.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${Bt}`,aud:Bt,iat:We,exp:We+3600,auth_time:We,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(qt)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Re){return!1}}function Le(){return"object"==typeof self&&self.self===self}function et(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){return He().indexOf("Electron/")>=0}function yt(){const Re=He();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function Pt(){return He().indexOf("MSAppHost/")>=0}function gt(){return!1}function _t(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"object"==typeof indexedDB}function nt(){return new Promise((Re,Ke)=>{try{let Qe=!0;const Bt="validate-browser-context-for-indexeddb-analytics-module",We=self.indexedDB.open(Bt);We.onsuccess=()=>{We.result.close(),Qe||self.indexedDB.deleteDatabase(Bt),Re(!0)},We.onupgradeneeded=()=>{Qe=!1},We.onerror=()=>{var pt;Ke((null===(pt=We.error)||void 0===pt?void 0:pt.message)||"")}}catch(Qe){Ke(Qe)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Be extends Error{constructor(Ke,Qe,Bt){super(Qe),this.code=Ke,this.customData=Bt,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(Ke,Qe,Bt){this.service=Ke,this.serviceName=Qe,this.errors=Bt}create(Ke,...Qe){const Bt=Qe[0]||{},We=`${this.service}/${Ke}`,pt=this.errors[Ke],qt=pt?function Et(Re,Ke){return Re.replace(Ot,(Qe,Bt)=>{const We=Ke[Bt];return null!=We?String(We):`<${Bt}?>`})}(pt,Bt):"Error";return new Be(We,`${this.serviceName}: ${qt} (${We}).`,Bt)}}const Ot=/\{\$([^}]+)}/g;function ut(Re){return JSON.parse(Re)}function ze(Re){return JSON.stringify(Re)}const q=function(Re){let Ke={},Qe={},Bt={},We="";try{const pt=Re.split(".");Ke=ut(Ie(pt[0])||""),Qe=ut(Ie(pt[1])||""),We=pt[2],Bt=Qe.d||{},delete Qe.d}catch(pt){}return{header:Ke,claims:Qe,data:Bt,signature:We}},Me=function(Re){const Qe=q(Re).claims;return!!Qe&&"object"==typeof Qe&&Qe.hasOwnProperty("iat")},st=function(Re){const Ke=q(Re).claims;return"object"==typeof Ke&&!0===Ke.admin};function Xt(Re,Ke){return Object.prototype.hasOwnProperty.call(Re,Ke)}function ct(Re,Ke){if(Object.prototype.hasOwnProperty.call(Re,Ke))return Re[Ke]}function ft(Re){for(const Ke in Re)if(Object.prototype.hasOwnProperty.call(Re,Ke))return!1;return!0}function Nt(Re,Ke,Qe){const Bt={};for(const We in Re)Object.prototype.hasOwnProperty.call(Re,We)&&(Bt[We]=Ke.call(Qe,Re[We],We,Re));return Bt}function zt(Re,Ke){if(Re===Ke)return!0;const Qe=Object.keys(Re),Bt=Object.keys(Ke);for(const We of Qe){if(!Bt.includes(We))return!1;const pt=Re[We],qt=Ke[We];if(Jt(pt)&&Jt(qt)){if(!zt(pt,qt))return!1}else if(pt!==qt)return!1}for(const We of Bt)if(!Qe.includes(We))return!1;return!0}function Jt(Re){return null!==Re&&"object"==typeof Re}function hn(Re){const Ke=[];for(const[Qe,Bt]of Object.entries(Re))Array.isArray(Bt)?Bt.forEach(We=>{Ke.push(encodeURIComponent(Qe)+"="+encodeURIComponent(We))}):Ke.push(encodeURIComponent(Qe)+"="+encodeURIComponent(Bt));return Ke.length?"&"+Ke.join("&"):""}function Fn(Re){const Ke={};return Re.replace(/^\?/,"").split("&").forEach(Bt=>{if(Bt){const[We,pt]=Bt.split("=");Ke[decodeURIComponent(We)]=decodeURIComponent(pt)}}),Ke}function Bn(Re){const Ke=Re.indexOf("?");if(!Ke)return"";const Qe=Re.indexOf("#",Ke);return Re.substring(Ke,Qe>0?Qe:void 0)}class er{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ke=1;Ke<this.blockSize;++Ke)this.pad_[Ke]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ke,Qe){Qe||(Qe=0);const Bt=this.W_;if("string"==typeof Ke)for(let un=0;un<16;un++)Bt[un]=Ke.charCodeAt(Qe)<<24|Ke.charCodeAt(Qe+1)<<16|Ke.charCodeAt(Qe+2)<<8|Ke.charCodeAt(Qe+3),Qe+=4;else for(let un=0;un<16;un++)Bt[un]=Ke[Qe]<<24|Ke[Qe+1]<<16|Ke[Qe+2]<<8|Ke[Qe+3],Qe+=4;for(let un=16;un<80;un++){const an=Bt[un-3]^Bt[un-8]^Bt[un-14]^Bt[un-16];Bt[un]=4294967295&(an<<1|an>>>31)}let On,fr,We=this.chain_[0],pt=this.chain_[1],qt=this.chain_[2],En=this.chain_[3],Sn=this.chain_[4];for(let un=0;un<80;un++){un<40?un<20?(On=En^pt&(qt^En),fr=1518500249):(On=pt^qt^En,fr=1859775393):un<60?(On=pt&qt|En&(pt|qt),fr=2400959708):(On=pt^qt^En,fr=3395469782);const an=(We<<5|We>>>27)+On+Sn+fr+Bt[un]&4294967295;Sn=En,En=qt,qt=4294967295&(pt<<30|pt>>>2),pt=We,We=an}this.chain_[0]=this.chain_[0]+We&4294967295,this.chain_[1]=this.chain_[1]+pt&4294967295,this.chain_[2]=this.chain_[2]+qt&4294967295,this.chain_[3]=this.chain_[3]+En&4294967295,this.chain_[4]=this.chain_[4]+Sn&4294967295}update(Ke,Qe){if(null==Ke)return;void 0===Qe&&(Qe=Ke.length);const Bt=Qe-this.blockSize;let We=0;const pt=this.buf_;let qt=this.inbuf_;for(;We<Qe;){if(0===qt)for(;We<=Bt;)this.compress_(Ke,We),We+=this.blockSize;if("string"==typeof Ke){for(;We<Qe;)if(pt[qt]=Ke.charCodeAt(We),++qt,++We,qt===this.blockSize){this.compress_(pt),qt=0;break}}else for(;We<Qe;)if(pt[qt]=Ke[We],++qt,++We,qt===this.blockSize){this.compress_(pt),qt=0;break}}this.inbuf_=qt,this.total_+=Qe}digest(){const Ke=[];let Qe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let We=this.blockSize-1;We>=56;We--)this.buf_[We]=255&Qe,Qe/=256;this.compress_(this.buf_);let Bt=0;for(let We=0;We<5;We++)for(let pt=24;pt>=0;pt-=8)Ke[Bt]=this.chain_[We]>>pt&255,++Bt;return Ke}}function Zn(Re,Ke){const Qe=new yn(Re,Ke);return Qe.subscribe.bind(Qe)}class yn{constructor(Ke,Qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qe,this.task.then(()=>{Ke(this)}).catch(Bt=>{this.error(Bt)})}next(Ke){this.forEachObserver(Qe=>{Qe.next(Ke)})}error(Ke){this.forEachObserver(Qe=>{Qe.error(Ke)}),this.close(Ke)}complete(){this.forEachObserver(Ke=>{Ke.complete()}),this.close()}subscribe(Ke,Qe,Bt){let We;if(void 0===Ke&&void 0===Qe&&void 0===Bt)throw new Error("Missing Observer.");We=function hr(Re,Ke){if("object"!=typeof Re||null===Re)return!1;for(const Qe of Ke)if(Qe in Re&&"function"==typeof Re[Qe])return!0;return!1}(Ke,["next","error","complete"])?Ke:{next:Ke,error:Qe,complete:Bt},void 0===We.next&&(We.next=vr),void 0===We.error&&(We.error=vr),void 0===We.complete&&(We.complete=vr);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?We.error(this.finalError):We.complete()}catch(qt){}}),this.observers.push(We),pt}unsubscribeOne(Ke){void 0===this.observers||void 0===this.observers[Ke]||(delete this.observers[Ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ke){if(!this.finalized)for(let Qe=0;Qe<this.observers.length;Qe++)this.sendOne(Qe,Ke)}sendOne(Ke,Qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ke])try{Qe(this.observers[Ke])}catch(Bt){"undefined"!=typeof console&&console.error&&console.error(Bt)}})}close(Ke){this.finalized||(this.finalized=!0,void 0!==Ke&&(this.finalError=Ke),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const Pr=function(Re,Ke,Qe,Bt){let We;if(Bt<Ke?We="at least "+Ke:Bt>Qe&&(We=0===Qe?"none":"no more than "+Qe),We)throw new Error(Re+" failed: Was called with "+Bt+(1===Bt?" argument.":" arguments.")+" Expects "+We+".")};function Pn(Re,Ke){return`${Re} failed: ${Ke} argument `}function Ge(Re,Ke,Qe,Bt){if((!Bt||Qe)&&"function"!=typeof Qe)throw new Error(Pn(Re,Ke)+"must be a valid function.")}function Ae(Re,Ke,Qe,Bt){if((!Bt||Qe)&&("object"!=typeof Qe||null===Qe))throw new Error(Pn(Re,Ke)+"must be a valid context object.")}const Wt=function(Re){const Ke=[];let Qe=0;for(let Bt=0;Bt<Re.length;Bt++){let We=Re.charCodeAt(Bt);if(We>=55296&&We<=56319){const pt=We-55296;Bt++,z(Bt<Re.length,"Surrogate pair missing trail surrogate."),We=65536+(pt<<10)+(Re.charCodeAt(Bt)-56320)}We<128?Ke[Qe++]=We:We<2048?(Ke[Qe++]=We>>6|192,Ke[Qe++]=63&We|128):We<65536?(Ke[Qe++]=We>>12|224,Ke[Qe++]=We>>6&63|128,Ke[Qe++]=63&We|128):(Ke[Qe++]=We>>18|240,Ke[Qe++]=We>>12&63|128,Ke[Qe++]=We>>6&63|128,Ke[Qe++]=63&We|128)}return Ke},At=function(Re){let Ke=0;for(let Qe=0;Qe<Re.length;Qe++){const Bt=Re.charCodeAt(Qe);Bt<128?Ke++:Bt<2048?Ke+=2:Bt>=55296&&Bt<=56319?(Ke+=4,Qe++):Ke+=3}return Ke};function Tn(Re,Ke=1e3,Qe=2){const Bt=Ke*Math.pow(Qe,Re),We=Math.round(.5*Bt*(Math.random()-.5)*2);return Math.min(144e5,Bt+We)}function qn(Re){return Re&&Re._delegate?Re._delegate:Re}},4433:(Qt,lt,N)=>{"use strict";N.d(lt,{BX:()=>Jn,Br:()=>Sr,dr:()=>Gt,BJ:()=>dn,oU:()=>Ln,cs:()=>ss,yp:()=>Tn,YG:()=>qn,Sm:()=>Re,PM:()=>Ke,FN:()=>Qe,Zi:()=>Bt,tO:()=>We,Dq:()=>pt,hM:()=>En,wI:()=>Sn,W2:()=>On,IJ:()=>un,W4:()=>an,fr:()=>Hi,jY:()=>ri,Gu:()=>Xi,gu:()=>ki,pK:()=>xr,Ie:()=>Ei,Q$:()=>pr,q_:()=>Vr,uN:()=>Ti,I_:()=>Hn,jP:()=>ms,Nd:()=>pi,VI:()=>Dr,cJ:()=>ne,GO:()=>ve,t9:()=>tt,n0:()=>mt,PQ:()=>Ft,yq:()=>Ut,ZU:()=>fn,UN:()=>Ms,yW:()=>bn,g2:()=>Yn,Bs:()=>nr,wd:()=>di,sr:()=>ot,Pc:()=>Vt,r4:()=>B,HT:()=>Wn,IN:()=>Wr,SH:()=>Ri,X1:()=>Xe,as:()=>yn,Dh:()=>Jr,YI:()=>ks,QI:()=>hr,j9:()=>vr,yF:()=>os});var c=N(5e3),z=N(4182),W=N(655),ke=N(2916),Te=N(6688),te=N(7043),_e=N(4850);function Ie(E,R,b,j){return(0,te.m)(b)&&(j=b,b=void 0),j?Ie(E,R,b).pipe((0,_e.U)(oe=>(0,Te.k)(oe)?j(...oe):j(oe))):new ke.y(oe=>{Z(E,R,function Tt(ln){oe.next(arguments.length>1?Array.prototype.slice.call(arguments):ln)},oe,b)})}function Z(E,R,b,j,oe){let Tt;if(function le(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const ln=E;E.addEventListener(R,b,oe),Tt=()=>ln.removeEventListener(R,b,oe)}else if(function ee(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const ln=E;E.on(R,b),Tt=()=>ln.off(R,b)}else if(function pe(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const ln=E;E.addListener(R,b),Tt=()=>ln.removeListener(R,b)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let ln=0,Rn=E.length;ln<Rn;ln++)Z(E[ln],R,b,j,oe)}j.add(Tt)}var Fe=N(8929),He=N(591),De=N(8599),rt=(N(1815),N(6447),N(3139),N(6254)),Ye=N(3756),yt=N(4318),gt=(N(7726),N(599)),Ee=(N(3509),N(2361)),$e=N(2198),Et=N(7545),Ot=N(5778),ut=N(9808);const q=rt.i,Me=["*"],st=["outlet"],Xt=[[["","slot","top"]],"*"],ct=["[slot=top]","*"],zt=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);let Jt=(()=>{class E{constructor(b,j){this.injector=b,this.el=j,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(b){this.el.nativeElement.value=this.lastValue=null==b?"":b,hn(this.el)}handleChangeEvent(b,j){b===this.el.nativeElement&&(j!==this.lastValue&&(this.lastValue=j,this.onChange(j)),hn(this.el))}_handleBlurEvent(b){b===this.el.nativeElement&&(this.onTouched(),hn(this.el))}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.el.nativeElement.disabled=b}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let b;try{b=this.injector.get(z.a5)}catch(oe){}if(!b)return;b.statusChanges&&(this.statusChanges=b.statusChanges.subscribe(()=>hn(this.el)));const j=b.control;j&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Tt=>{if(void 0!==j[Tt]){const ln=j[Tt].bind(j);j[Tt]=(...Rn)=>{ln(...Rn),hn(this.el)}}})}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,hostBindings:function(b,j){1&b&&c.NdJ("ionBlur",function(Tt){return j._handleBlurEvent(Tt.target)})}}),E})();const hn=E=>{zt(()=>{const R=E.nativeElement,b=null!=R.value&&R.value.toString().length>0,j=Fn(R);Bn(R,j);const oe=R.closest("ion-item");oe&&Bn(oe,b?[...j,"item-has-value"]:j)})},Fn=E=>{const R=E.classList,b=[];for(let j=0;j<R.length;j++){const oe=R.item(j);null!==oe&&er(oe,"ng-")&&b.push(`ion-${oe.substring(3)}`)}return b},Bn=(E,R)=>{const b=E.classList;b.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),b.add(...R)},er=(E,R)=>E.substring(0,R.length)===R;let yn=(()=>{class E extends Jt{constructor(b,j){super(b,j)}_handleIonChange(b){this.handleChangeEvent(b,b.value)}registerOnChange(b){super.registerOnChange(j=>{b(""===j?null:parseFloat(j))})}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(b,j){1&b&&c.NdJ("ionChange",function(Tt){return j._handleIonChange(Tt.target)})},features:[c._Bn([{provide:z.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),hr=(()=>{class E extends Jt{constructor(b,j){super(b,j)}_handleChangeEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(b,j){1&b&&c.NdJ("ionChange",function(Tt){return j._handleChangeEvent(Tt.target)})},features:[c._Bn([{provide:z.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),vr=(()=>{class E extends Jt{constructor(b,j){super(b,j)}_handleInputEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(b,j){1&b&&c.NdJ("ionChange",function(Tt){return j._handleInputEvent(Tt.target)})},features:[c._Bn([{provide:z.JU,useExisting:E,multi:!0}]),c.qOj]}),E})();const Pr=(E,R)=>{const b=E.prototype;R.forEach(j=>{Object.defineProperty(b,j,{get(){return this.el[j]},set(oe){this.z.runOutsideAngular(()=>this.el[j]=oe)}})})},Pn=(E,R)=>{const b=E.prototype;R.forEach(j=>{b[j]=function(){const oe=arguments;return this.z.runOutsideAngular(()=>this.el[j].apply(this.el,oe))}})},bt=(E,R,b)=>{b.forEach(j=>E[j]=Ie(R,j))};function Ae(E){return function(b){const{defineCustomElementFn:j,inputs:oe,methods:Tt}=E;return void 0!==j&&j(),oe&&Pr(b,oe),Tt&&Pn(b,Tt),b}}let Gt=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0})],E),E})(),dn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-avatar"]],ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0})],E),E})(),Ln=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),Tn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),qn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Re=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),Ke=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Qe=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["mode"]})],E),E})(),Bt=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],E),E})(),We=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),pt=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),En=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],E),E})(),Sn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],E),E})(),On=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),un=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],E),E})(),an=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],E),E})(),Hi=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),ri=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["fixed"]})],E),E})(),Xi=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),ki=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),xr=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Ei=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),pr=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),Vr=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),Ti=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Hn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],E),E})(),pi=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-row"]],ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0})],E),E})(),Dr=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),ne=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionChange"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),ve=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],E),E})(),tt=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],E),E})(),mt=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["disabled","value"]})],E),E})(),Ft=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],E),E})(),Ut=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],E),E})(),fn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],E),E})(),bn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Yn=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement,bt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],E),E})(),nr=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-thumbnail"]],ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0})],E),E})(),di=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),ot=(()=>{let E=class{constructor(b,j,oe){this.z=oe,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,W.gn)([Ae({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class Xe{constructor(R={}){this.data=R}get(R){return this.data[R]}}let Ct=(()=>{class E{constructor(b,j){this.zone=b,this.appRef=j}create(b,j,oe){return new Kt(b,j,oe,this.appRef,this.zone)}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(c.R0b),c.LFG(c.z2F))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();class Kt{constructor(R,b,j,oe,Tt){this.resolver=R,this.injector=b,this.location=j,this.appRef=oe,this.zone=Tt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(R,b,j,oe){return this.zone.run(()=>new Promise(Tt=>{Tt(cn(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,R,b,j,oe))}))}removeViewFromDom(R,b){return this.zone.run(()=>new Promise(j=>{const oe=this.elRefMap.get(b);if(oe){oe.destroy(),this.elRefMap.delete(b);const Tt=this.elEventsMap.get(b);Tt&&(Tt(),this.elEventsMap.delete(b))}j()}))}}const cn=(E,R,b,j,oe,Tt,ln,Rn,cr,dr,Bi)=>{const Oi=R.resolveComponentFactory(cr),Wi=c.zs3.create({providers:ur(dr),parent:b}),Ki=j?j.createComponent(Oi,j.length,Wi):Oi.create(Wi),bi=Ki.instance,_s=Ki.location.nativeElement;if(dr&&Object.assign(bi,dr),Bi)for(const Xs of Bi)_s.classList.add(Xs);const vs=lr(E,bi,_s);return Rn.appendChild(_s),j||oe.attachView(Ki.hostView),Ki.changeDetectorRef.reattach(),Tt.set(_s,Ki),ln.set(_s,vs),_s},An=[yt.L,yt.a,yt.b,yt.c,yt.d],lr=(E,R,b)=>E.run(()=>{const j=An.filter(oe=>"function"==typeof R[oe]).map(oe=>{const Tt=ln=>R[oe](ln.detail);return b.addEventListener(oe,Tt),()=>b.removeEventListener(oe,Tt)});return()=>j.forEach(oe=>oe())}),ii=new c.OlP("NavParamsToken"),ur=E=>[{provide:ii,useValue:E},{provide:Xe,useFactory:ds,deps:[ii]}],ds=E=>new Xe(E),Gi=(E,R)=>((E=E.filter(b=>b.stackId!==R.stackId)).push(R),E),gs=(E,R)=>{const b=E.createUrlTree(["."],{relativeTo:R});return E.serializeUrl(b)},xs=(E,R)=>{if(!E)return;const b=li(R);for(let j=0;j<b.length;j++){if(j>=E.length)return b[j];if(b[j]!==E[j])return}},li=E=>E.split("/").map(R=>R.trim()).filter(R=>""!==R),js=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class gi{constructor(R,b,j,oe,Tt,ln){this.containerEl=b,this.router=j,this.navCtrl=oe,this.zone=Tt,this.location=ln,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==R?li(R):void 0}createView(R,b){var j;const oe=gs(this.router,b),Tt=null===(j=null==R?void 0:R.location)||void 0===j?void 0:j.nativeElement,ln=lr(this.zone,R.instance,Tt);return{id:this.nextId++,stackId:xs(this.tabsPrefix,oe),unlistenEvents:ln,element:Tt,ref:R,url:oe}}getExistingView(R){const b=gs(this.router,R),j=this.views.find(oe=>oe.url===b);return j&&j.ref.changeDetectorRef.reattach(),j}setActive(R){var b,j;const oe=this.navCtrl.consumeTransition();let{direction:Tt,animation:ln,animationBuilder:Rn}=oe;const cr=this.activeView,dr=((E,R)=>!R||E.stackId!==R.stackId)(R,cr);dr&&(Tt="back",ln=void 0);const Bi=this.views.slice();let Oi;const Wi=this.router;Wi.getCurrentNavigation?Oi=Wi.getCurrentNavigation():(null===(b=Wi.navigations)||void 0===b?void 0:b.value)&&(Oi=Wi.navigations.value),(null===(j=null==Oi?void 0:Oi.extras)||void 0===j?void 0:j.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Ki=this.views.includes(R),bi=this.insertView(R,Tt);Ki||R.ref.changeDetectorRef.detectChanges();const _s=R.animationBuilder;return void 0===Rn&&"back"===Tt&&!dr&&void 0!==_s&&(Rn=_s),cr&&(cr.animationBuilder=Rn),this.zone.runOutsideAngular(()=>this.wait(()=>(cr&&cr.ref.changeDetectorRef.detach(),R.ref.changeDetectorRef.reattach(),this.transition(R,cr,ln,this.canGoBack(1),!1,Rn).then(()=>si(R,bi,Bi,this.location,this.zone)).then(()=>({enteringView:R,direction:Tt,animation:ln,tabSwitch:dr})))))}canGoBack(R,b=this.getActiveStackId()){return this.getStack(b).length>R}pop(R,b=this.getActiveStackId()){return this.zone.run(()=>{var j,oe;const Tt=this.getStack(b);if(Tt.length<=R)return Promise.resolve(!1);const ln=Tt[Tt.length-R-1];let Rn=ln.url;const cr=ln.savedData;if(cr){const Bi=cr.get("primary");(null===(oe=null===(j=null==Bi?void 0:Bi.route)||void 0===j?void 0:j._routerState)||void 0===oe?void 0:oe.snapshot.url)&&(Rn=Bi.route._routerState.snapshot.url)}const{animationBuilder:dr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Rn,Object.assign(Object.assign({},ln.savedExtras),{animation:dr})).then(()=>!0)})}startBackTransition(){const R=this.activeView;if(R){const b=this.getStack(R.stackId),j=b[b.length-2],oe=j.animationBuilder;return this.wait(()=>this.transition(j,R,"back",this.canGoBack(2),!0,oe))}return Promise.resolve()}endBackTransition(R){R?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ps(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(R){const b=this.getStack(R);return b.length>0?b[b.length-1]:void 0}getRootUrl(R){const b=this.getStack(R);return b.length>0?b[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(js),this.activeView=void 0,this.views=[]}getStack(R){return this.views.filter(b=>b.stackId===R)}insertView(R,b){return this.activeView=R,this.views=((E,R,b)=>"root"===b?Gi(E,R):"forward"===b?((E,R)=>(E.indexOf(R)>=0?E=E.filter(j=>j.stackId!==R.stackId||j.id<=R.id):E.push(R),E))(E,R):((E,R)=>E.indexOf(R)>=0?E.filter(j=>j.stackId!==R.stackId||j.id<=R.id):Gi(E,R))(E,R))(this.views,R,b),this.views.slice()}transition(R,b,j,oe,Tt,ln){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(b===R)return Promise.resolve(!1);const Rn=R?R.element:void 0,cr=b?b.element:void 0,dr=this.containerEl;return Rn&&Rn!==cr&&(Rn.classList.add("ion-page"),Rn.classList.add("ion-page-invisible"),Rn.parentElement!==dr&&dr.appendChild(Rn),dr.commit)?dr.commit(Rn,cr,{deepWait:!0,duration:void 0===j?0:void 0,direction:j,showGoBack:oe,progressAnimation:Tt,animationBuilder:ln}):Promise.resolve(!1)}wait(R){return(0,W.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const b=this.runningTask=R();return b.finally(()=>this.runningTask=void 0),b})}}const si=(E,R,b,j,oe)=>"function"==typeof requestAnimationFrame?new Promise(Tt=>{requestAnimationFrame(()=>{Ps(E,R,b,j,oe),Tt()})}):Promise.resolve(),Ps=(E,R,b,j,oe)=>{oe.run(()=>b.filter(Tt=>!R.includes(Tt)).forEach(js)),R.forEach(Tt=>{const Rn=j.path().split("?")[0].split("#")[0];if(Tt!==E&&Tt.url!==Rn){const cr=Tt.element;cr.setAttribute("aria-hidden","true"),cr.classList.add("ion-page-hidden"),Tt.ref.changeDetectorRef.detach()}})};let so=(()=>{class E{get(b,j){const oe=is();return oe?oe.get(b,j):null}getBoolean(b,j){const oe=is();return!!oe&&oe.getBoolean(b,j)}getNumber(b,j){const oe=is();return oe?oe.getNumber(b,j):0}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const oo=new c.OlP("USERCONFIG"),is=()=>{if("undefined"!=typeof window){const E=window.Ionic;if(null==E?void 0:E.config)return E.config}return null};let Tr=(()=>{class E{constructor(b,j){this.doc=b,this.backButton=new Fe.xQ,this.keyboardDidShow=new Fe.xQ,this.keyboardDidHide=new Fe.xQ,this.pause=new Fe.xQ,this.resume=new Fe.xQ,this.resize=new Fe.xQ,j.run(()=>{var oe;let Tt;this.win=b.defaultView,this.backButton.subscribeWithPriority=function(ln,Rn){return this.subscribe(cr=>cr.register(ln,dr=>j.run(()=>Rn(dr))))},hs(this.pause,b,"pause"),hs(this.resume,b,"resume"),hs(this.backButton,b,"ionBackButton"),hs(this.resize,this.win,"resize"),hs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),hs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(ln=>{Tt=ln}),(null===(oe=this.win)||void 0===oe?void 0:oe.cordova)?b.addEventListener("deviceready",()=>{Tt("cordova")},{once:!0}):Tt("dom")})}is(b){return(0,rt.a)(this.win,b)}platforms(){return(0,rt.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(b){return zi(this.win.location.href,b)}isLandscape(){return!this.isPortrait()}isPortrait(){var b,j;return null===(j=(b=this.win).matchMedia)||void 0===j?void 0:j.call(b,"(orientation: portrait)").matches}testUserAgent(b){const j=this.win.navigator;return!!((null==j?void 0:j.userAgent)&&j.userAgent.indexOf(b)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(ut.K0),c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const zi=(E,R)=>{R=R.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const j=new RegExp("[\\?&]"+R+"=([^&#]*)").exec(E);return j?decodeURIComponent(j[1].replace(/\+/g," ")):null},hs=(E,R,b)=>{R&&R.addEventListener(b,j=>{E.next(null!=j?j.detail:void 0)})};let Ri=(()=>{class E{constructor(b,j,oe,Tt){this.location=j,this.serializer=oe,this.router=Tt,this.direction=Qr,this.animated=Zs,this.guessDirection="forward",this.lastNavId=-1,Tt&&Tt.events.subscribe(ln=>{if(ln instanceof De.OD){const Rn=ln.restoredState?ln.restoredState.navigationId:ln.id;this.guessDirection=Rn<this.lastNavId?"back":"forward",this.guessAnimation=ln.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?ln.id:Rn}}),b.backButton.subscribeWithPriority(0,ln=>{this.pop(),ln()})}navigateForward(b,j={}){return this.setDirection("forward",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}navigateBack(b,j={}){return this.setDirection("back",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}navigateRoot(b,j={}){return this.setDirection("root",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}back(b={animated:!0,animationDirection:"back"}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.location.back()}pop(){return(0,W.mG)(this,void 0,void 0,function*(){let b=this.topOutlet;for(;b&&!(yield b.pop());)b=b.parentOutlet})}setDirection(b,j,oe,Tt){this.direction=b,this.animated=Ns(b,j,oe),this.animationBuilder=Tt}setTopOutlet(b){this.topOutlet=b}consumeTransition(){let j,b="root";const oe=this.animationBuilder;return"auto"===this.direction?(b=this.guessDirection,j=this.guessAnimation):(j=this.animated,b=this.direction),this.direction=Qr,this.animated=Zs,this.animationBuilder=void 0,{direction:b,animation:j,animationBuilder:oe}}navigate(b,j){if(Array.isArray(b))return this.router.navigate(b,j);{const oe=this.serializer.parse(b.toString());return void 0!==j.queryParams&&(oe.queryParams=Object.assign({},j.queryParams)),void 0!==j.fragment&&(oe.fragment=j.fragment),this.router.navigateByUrl(oe,j)}}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(Tr),c.LFG(ut.Ye),c.LFG(De.Hx),c.LFG(De.F0,8))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ns=(E,R,b)=>{if(!1!==R){if(void 0!==b)return b;if("forward"===E||"back"===E)return E;if("root"===E&&!0===R)return"forward"}},Qr="auto",Zs=void 0;let ms=(()=>{class E{constructor(b,j,oe,Tt,ln,Rn,cr,dr,Bi,Oi,Wi,Ki,bi){this.parentContexts=b,this.location=j,this.resolver=oe,this.config=Rn,this.navCtrl=cr,this.parentOutlet=bi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new He.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=Bi.nativeElement,this.name=Tt||De.eC,this.tabsPrefix="true"===ln?gs(Oi,Ki):void 0,this.stackCtrl=new gi(this.tabsPrefix,this.nativeEl,Oi,cr,Wi,dr),b.onChildOutletCreated(this.name,this)}set animation(b){this.nativeEl.animation=b}set animated(b){this.nativeEl.animated=b}set swipeGesture(b){this._swipeGesture=b,this.nativeEl.swipeHandler=b?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:j=>this.stackCtrl.endBackTransition(j)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const b=this.getContext();(null==b?void 0:b.route)&&this.activateWith(b.route,b.resolver||null)}new Promise(b=>(0,Ye.c)(this.nativeEl,b)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(b,j){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const j=this.getContext();this.activatedView.savedData=new Map(j.children.contexts);const oe=this.activatedView.savedData.get("primary");if(oe&&j.route&&(oe.route=Object.assign({},j.route)),this.activatedView.savedExtras={},j.route){const Tt=j.route.snapshot;this.activatedView.savedExtras.queryParams=Tt.queryParams,this.activatedView.savedExtras.fragment=Tt.fragment}}const b=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,j){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;let oe,Tt=this.stackCtrl.getExistingView(b);if(Tt){oe=this.activated=Tt.ref;const ln=Tt.savedData;ln&&(this.getContext().children.contexts=ln),this.updateActivatedRouteProxy(oe.instance,b)}else{const cr=(j=j||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),dr=this.parentContexts.getOrCreateContext(this.name).children,Bi=new He.X(null),Oi=this.createActivatedRouteProxy(Bi,b),Wi=new Ko(Oi,dr,this.location.injector);oe=this.activated=this.location.createComponent(cr,this.location.length,Wi),Bi.next(oe.instance),Tt=this.stackCtrl.createView(this.activated,b),this.proxyMap.set(oe.instance,Oi),this.currentActivatedRoute$.next({component:oe.instance,activatedRoute:b})}this.activatedView=Tt,this.stackCtrl.setActive(Tt).then(ln=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(oe.instance),this.stackEvents.emit(ln)})}canGoBack(b=1,j){return this.stackCtrl.canGoBack(b,j)}pop(b=1,j){return this.stackCtrl.pop(b,j)}getLastUrl(b){const j=this.stackCtrl.getLastUrl(b);return j?j.url:void 0}getLastRouteView(b){return this.stackCtrl.getLastUrl(b)}getRootView(b){return this.stackCtrl.getRootUrl(b)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(b,j){const oe=new De.gz;return oe._futureSnapshot=j._futureSnapshot,oe._routerState=j._routerState,oe.snapshot=j.snapshot,oe.outlet=j.outlet,oe.component=j.component,oe._paramMap=this.proxyObservable(b,"paramMap"),oe._queryParamMap=this.proxyObservable(b,"queryParamMap"),oe.url=this.proxyObservable(b,"url"),oe.params=this.proxyObservable(b,"params"),oe.queryParams=this.proxyObservable(b,"queryParams"),oe.fragment=this.proxyObservable(b,"fragment"),oe.data=this.proxyObservable(b,"data"),oe}proxyObservable(b,j){return b.pipe((0,$e.h)(oe=>!!oe),(0,Et.w)(oe=>this.currentActivatedRoute$.pipe((0,$e.h)(Tt=>null!==Tt&&Tt.component===oe),(0,Et.w)(Tt=>Tt&&Tt.activatedRoute[j]),(0,Ot.x)())))}updateActivatedRouteProxy(b,j){const oe=this.proxyMap.get(b);if(!oe)throw new Error("Could not find activated route proxy for view");oe._futureSnapshot=j._futureSnapshot,oe._routerState=j._routerState,oe.snapshot=j.snapshot,oe.outlet=j.outlet,oe.component=j.component,this.currentActivatedRoute$.next({component:b,activatedRoute:j})}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(De.y6),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.$8M("tabs"),c.Y36(so),c.Y36(Ri),c.Y36(ut.Ye),c.Y36(c.SBq),c.Y36(De.F0),c.Y36(c.R0b),c.Y36(De.gz),c.Y36(E,12))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class Ko{constructor(R,b,j){this.route=R,this.childContexts=b,this.parent=j}get(R,b){return R===De.gz?this.route:R===De.y6?this.childContexts:this.parent.get(R,b)}}let Ms=(()=>{class E{constructor(b){this.navCtrl=b,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(b){const j=b.enteringView.stackId;b.tabSwitch&&void 0!==j&&(this.ionTabsWillChange.emit({tab:j}),this.tabBar&&(this.tabBar.selectedTab=j),this.ionTabsDidChange.emit({tab:j}))}select(b){const j="string"==typeof b,oe=j?b:b.detail.tab,Tt=this.outlet.getActiveStackId()===oe,ln=`${this.outlet.tabsPrefix}/${oe}`;if(j||b.stopPropagation(),Tt){const Rn=this.outlet.getActiveStackId(),cr=this.outlet.getLastRouteView(Rn);if((null==cr?void 0:cr.url)===ln)return;const dr=this.outlet.getRootView(oe);return this.navCtrl.navigateRoot(ln,Object.assign(Object.assign({},dr&&ln===dr.url&&dr.savedExtras),{animated:!0,animationDirection:"back"}))}{const Rn=this.outlet.getLastRouteView(oe);return this.navCtrl.navigateRoot((null==Rn?void 0:Rn.url)||ln,Object.assign(Object.assign({},null==Rn?void 0:Rn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(Ri))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tabs"]],contentQueries:function(b,j,oe){if(1&b&&c.Suo(oe,Ut,5),2&b){let Tt;c.iGM(Tt=c.CRH())&&(j.tabBar=Tt.first)}},viewQuery:function(b,j){if(1&b&&c.Gf(st,5,ms),2&b){let oe;c.iGM(oe=c.CRH())&&(j.outlet=oe.first)}},hostBindings:function(b,j){1&b&&c.NdJ("ionTabButtonClick",function(Tt){return j.select(Tt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:ct,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(b,j){1&b&&(c.F$t(Xt),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(Tt){return j.onPageSelected(Tt)}),c.qZA()(),c.Hsn(4,1))},directives:[ms],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),E})(),ss=(()=>{class E{constructor(b,j,oe){this.routerOutlet=b,this.navCtrl=j,this.config=oe}onClick(b){var j;const oe=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(j=this.routerOutlet)||void 0===j?void 0:j.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),b.preventDefault()):null!=oe&&(this.navCtrl.navigateBack(oe,{animation:this.routerAnimation}),b.preventDefault())}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(ms,8),c.Y36(Ri),c.Y36(so))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(b,j){1&b&&c.NdJ("click",function(Tt){return j.onClick(Tt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})(),ks=(()=>{class E{constructor(b,j,oe,Tt,ln){this.locationStrategy=b,this.navCtrl=j,this.elementRef=oe,this.router=Tt,this.routerLink=ln,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var b;if(null===(b=this.routerLink)||void 0===b?void 0:b.urlTree){const j=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=j}}onClick(b){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),b.preventDefault()}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(ut.S$),c.Y36(Ri),c.Y36(c.SBq),c.Y36(De.F0),c.Y36(De.rH,8))},E.\u0275dir=c.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,j){1&b&&c.NdJ("click",function(Tt){return j.onClick(Tt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]}),E})();class xn{constructor(R){this.ctrl=R}create(R){return this.ctrl.create(R||{})}dismiss(R,b,j){return this.ctrl.dismiss(R,b,j)}getTop(){return this.ctrl.getTop()}}let Jn=(()=>{class E extends xn{constructor(){super(gt.b)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Sr=(()=>{class E extends xn{constructor(){super(gt.a)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Wn=(()=>{class E extends xn{constructor(){super(gt.l)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Wr=(()=>{class E extends xn{constructor(b,j,oe){super(gt.m),this.angularDelegate=b,this.resolver=j,this.injector=oe}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(Ct),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),Jr=(()=>{class E extends xn{constructor(b,j,oe){super(gt.c),this.angularDelegate=b,this.resolver=j,this.injector=oe}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(Ct),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),os=(()=>{class E extends xn{constructor(){super(gt.t)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class B{shouldDetach(R){return!1}shouldAttach(R){return!1}store(R,b){}retrieve(R){return null}shouldReuseRoute(R,b){if(R.routeConfig!==b.routeConfig)return!1;const j=R.params,oe=b.params,Tt=Object.keys(j),ln=Object.keys(oe);if(Tt.length!==ln.length)return!1;for(const Rn of Tt)if(oe[Rn]!==j[Rn])return!1;return!0}}const L=(E,R,b)=>()=>{if(R.defaultView&&"undefined"!=typeof window){(E=>{const R=window,b=R.Ionic;b&&b.config&&"Object"!==b.config.constructor.name||(R.Ionic=R.Ionic||{},R.Ionic.config=Object.assign(Object.assign({},R.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:Tt=>b.run(Tt)}));const oe="__zone_symbol__addEventListener"in R.body?"__zone_symbol__addEventListener":"addEventListener";return function ze(){var E=[];if("undefined"!=typeof window){var R=window;(!R.customElements||R.Element&&(!R.Element.prototype.closest||!R.Element.prototype.matches||!R.Element.prototype.remove||!R.Element.prototype.getRootNode))&&E.push(N.e(6748).then(N.t.bind(N,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||R.NodeList&&!R.NodeList.prototype.forEach||!R.fetch||!function(){try{var j=new URL("b","http://a");return j.pathname="c%20d","http://a/c%20d"===j.href&&j.searchParams}catch(oe){return!1}}()||"undefined"==typeof WeakMap)&&E.push(N.e(2214).then(N.t.bind(N,4144,23)))}return Promise.all(E)}().then(()=>((E,R)=>"undefined"==typeof window?Promise.resolve():(0,Ee.p)().then(()=>(q(),(0,Ee.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),R))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:zt,jmp:Tt=>b.runOutsideAngular(Tt),ael(Tt,ln,Rn,cr){Tt[oe](ln,Rn,cr)},rel(Tt,ln,Rn,cr){Tt.removeEventListener(ln,Rn,cr)}}))}};let Vt=(()=>{class E{static forRoot(b){return{ngModule:E,providers:[{provide:oo,useValue:b},{provide:c.ip1,useFactory:L,multi:!0,deps:[oo,ut.K0,c.R0b]}]}}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({providers:[Ct,Wr,Jr],imports:[[ut.ez]]}),E})()},9442:(Qt,lt,N)=>{"use strict";N.d(lt,{c:()=>He});var c=N(3756);let z;const ke=De=>De.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=De=>{if(void 0===z){const Le=void 0!==De.style.webkitAnimationName;z=void 0===De.style.animationName&&Le?"-webkit-":""}return z},te=(De,Oe,Le)=>{const et=Oe.startsWith("animation")?Te(De):"";De.style.setProperty(et+Oe,Le)},_e=(De,Oe)=>{const Le=Oe.startsWith("animation")?Te(De):"";De.style.removeProperty(Le+Oe)},Z=[],Fe=(De=[],Oe)=>{if(void 0!==Oe){const Le=Array.isArray(Oe)?Oe:[Oe];return[...De,...Le]}return De},He=De=>{let Oe,Le,et,rt,Ye,yt,nt,ut,ze,q,Ce,Xt,ct,Pt=[],gt=[],_t=[],Ee=!1,we={},be=[],ge=[],Be={},$e=0,Et=!1,Ot=!1,Ze=!0,Me=!1,st=!0,ft=!1;const Nt=De,zt=[],Jt=[],hn=[],Fn=[],Bn=[],er=[],Zn=[],yn=[],Xr=[],hr=[],vr="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Pr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vr,bt=()=>hr,Gt=(Se,Ve)=>(((null==Ve?void 0:Ve.oneTimeCallback)?Jt:zt).push({c:Se,o:Ve}),ct),Ln=()=>{if(Pr)hr.forEach(Se=>{Se.cancel()}),hr.length=0;else{const Se=hn.slice();(0,c.r)(()=>{Se.forEach(Ve=>{_e(Ve,"animation-name"),_e(Ve,"animation-duration"),_e(Ve,"animation-timing-function"),_e(Ve,"animation-iteration-count"),_e(Ve,"animation-delay"),_e(Ve,"animation-play-state"),_e(Ve,"animation-fill-mode"),_e(Ve,"animation-direction")})})}},Vn=()=>{Bn.forEach(Se=>{(null==Se?void 0:Se.parentNode)&&Se.parentNode.removeChild(Se)}),Bn.length=0},Sn=()=>void 0!==Ye?Ye:nt?nt.getFill():"both",On=()=>void 0!==ze?ze:void 0!==yt?yt:nt?nt.getDirection():"normal",fr=()=>Et?"linear":void 0!==et?et:nt?nt.getEasing():"linear",un=()=>Ot?0:void 0!==q?q:void 0!==Le?Le:nt?nt.getDuration():0,an=()=>void 0!==rt?rt:nt?nt.getIterations():1,Cr=()=>void 0!==Ce?Ce:void 0!==Oe?Oe:nt?nt.getDelay():0,pr=()=>{0!==$e&&($e--,0===$e&&((()=>{ci(),yn.forEach(xt=>xt()),Xr.forEach(xt=>xt());const Se=Ze?1:0,Ve=be,dt=ge,Ft=Be;hn.forEach(xt=>{const Ut=xt.classList;Ve.forEach(fn=>Ut.add(fn)),dt.forEach(fn=>Ut.remove(fn));for(const fn in Ft)Ft.hasOwnProperty(fn)&&te(xt,fn,Ft[fn])}),zt.forEach(xt=>xt.c(Se,ct)),Jt.forEach(xt=>xt.c(Se,ct)),Jt.length=0,st=!0,Ze&&(Me=!0),Ze=!0})(),nt&&nt.animationFinish()))},Vr=(Se=!0)=>{Vn();const Ve=(De=>(De.forEach(Oe=>{for(const Le in Oe)if(Oe.hasOwnProperty(Le)){const et=Oe[Le];if("easing"===Le)Oe["animation-timing-function"]=et,delete Oe[Le];else{const rt=ke(Le);rt!==Le&&(Oe[rt]=et,delete Oe[Le])}}}),De))(Pt);hn.forEach(dt=>{if(Ve.length>0){const Ft=((De=[])=>De.map(Oe=>{const Le=Oe.offset,et=[];for(const rt in Oe)Oe.hasOwnProperty(rt)&&"offset"!==rt&&et.push(`${rt}: ${Oe[rt]};`);return`${100*Le}% { ${et.join(" ")} }`}).join(" "))(Ve);Xt=void 0!==De?De:(De=>{let Oe=Z.indexOf(De);return Oe<0&&(Oe=Z.push(De)-1),`ion-animation-${Oe}`})(Ft);const xt=((De,Oe,Le)=>{const et=(De=>{const Oe=De.getRootNode();return Oe.head||Oe})(Le),rt=Te(Le),Ye=et.querySelector("#"+De);if(Ye)return Ye;const yt=(Le.ownerDocument||document).createElement("style");return yt.id=De,yt.textContent=`@${rt}keyframes ${De} { ${Oe} } @${rt}keyframes ${De}-alt { ${Oe} }`,et.appendChild(yt),yt})(Xt,Ft,dt);Bn.push(xt),te(dt,"animation-duration",`${un()}ms`),te(dt,"animation-timing-function",fr()),te(dt,"animation-delay",`${Cr()}ms`),te(dt,"animation-fill-mode",Sn()),te(dt,"animation-direction",On());const Ut=an()===1/0?"infinite":an().toString();te(dt,"animation-iteration-count",Ut),te(dt,"animation-play-state","paused"),Se&&te(dt,"animation-name",`${xt.id}-alt`),(0,c.r)(()=>{te(dt,"animation-name",xt.id||null)})}})},Cn=(Se=!0)=>{(()=>{er.forEach(Ft=>Ft()),Zn.forEach(Ft=>Ft());const Se=gt,Ve=_t,dt=we;hn.forEach(Ft=>{const xt=Ft.classList;Se.forEach(Ut=>xt.add(Ut)),Ve.forEach(Ut=>xt.remove(Ut));for(const Ut in dt)dt.hasOwnProperty(Ut)&&te(Ft,Ut,dt[Ut])})})(),Pt.length>0&&(Pr?(hn.forEach(Se=>{const Ve=Se.animate(Pt,{id:Nt,delay:Cr(),duration:un(),easing:fr(),iterations:an(),fill:Sn(),direction:On()});Ve.pause(),hr.push(Ve)}),hr.length>0&&(hr[0].onfinish=()=>{pr()})):Vr(Se)),Ee=!0},ye=Se=>{if(Se=Math.min(Math.max(Se,0),.9999),Pr)hr.forEach(Ve=>{Ve.currentTime=Ve.effect.getComputedTiming().delay+un()*Se,Ve.pause()});else{const Ve=`-${un()*Se}ms`;hn.forEach(dt=>{Pt.length>0&&(te(dt,"animation-delay",Ve),te(dt,"animation-play-state","paused"))})}},Ur=Se=>{hr.forEach(Ve=>{Ve.effect.updateTiming({delay:Cr(),duration:un(),easing:fr(),iterations:an(),fill:Sn(),direction:On()})}),void 0!==Se&&ye(Se)},qr=(Se=!0,Ve)=>{(0,c.r)(()=>{hn.forEach(dt=>{te(dt,"animation-name",Xt||null),te(dt,"animation-duration",`${un()}ms`),te(dt,"animation-timing-function",fr()),te(dt,"animation-delay",void 0!==Ve?`-${Ve*un()}ms`:`${Cr()}ms`),te(dt,"animation-fill-mode",Sn()||null),te(dt,"animation-direction",On()||null);const Ft=an()===1/0?"infinite":an().toString();te(dt,"animation-iteration-count",Ft),Se&&te(dt,"animation-name",`${Xt}-alt`),(0,c.r)(()=>{te(dt,"animation-name",Xt||null)})})})},sr=(Se=!1,Ve=!0,dt)=>(Se&&Fn.forEach(Ft=>{Ft.update(Se,Ve,dt)}),Pr?Ur(dt):qr(Ve,dt),ct),kr=()=>{Ee&&(Pr?hr.forEach(Se=>{Se.pause()}):hn.forEach(Se=>{te(Se,"animation-play-state","paused")}),ft=!0)},Gr=()=>{ut=void 0,pr()},ci=()=>{ut&&clearTimeout(ut)},Dr=Se=>new Promise(Ve=>{(null==Se?void 0:Se.sync)&&(Ot=!0,Gt(()=>Ot=!1,{oneTimeCallback:!0})),Ee||Cn(),Me&&(Pr?(ye(0),Ur()):qr(),Me=!1),st&&($e=Fn.length+1,st=!1),Gt(()=>Ve(),{oneTimeCallback:!0}),Fn.forEach(dt=>{dt.play()}),Pr?(hr.forEach(Se=>{Se.play()}),(0===Pt.length||0===hn.length)&&pr()):(()=>{if(ci(),(0,c.r)(()=>{hn.forEach(Se=>{Pt.length>0&&te(Se,"animation-play-state","running")})}),0===Pt.length||0===hn.length)pr();else{const Se=Cr()||0,Ve=un()||0,dt=an()||1;isFinite(dt)&&(ut=setTimeout(Gr,Se+Ve*dt+100)),((De,Oe)=>{let Le;const et={passive:!0},Ye=yt=>{De===yt.target&&(Le&&Le(),ci(),(0,c.r)(()=>{hn.forEach(Se=>{_e(Se,"animation-duration"),_e(Se,"animation-delay"),_e(Se,"animation-play-state")}),(0,c.r)(pr)}))};De&&(De.addEventListener("webkitAnimationEnd",Ye,et),De.addEventListener("animationend",Ye,et),Le=()=>{De.removeEventListener("webkitAnimationEnd",Ye,et),De.removeEventListener("animationend",Ye,et)})})(hn[0])}})(),ft=!1}),ve=(Se,Ve)=>{const dt=Pt[0];return void 0===dt||void 0!==dt.offset&&0!==dt.offset?Pt=[{offset:0,[Se]:Ve},...Pt]:dt[Se]=Ve,ct};return ct={parentAnimation:nt,elements:hn,childAnimations:Fn,id:Nt,animationFinish:pr,from:ve,to:(Se,Ve)=>{const dt=Pt[Pt.length-1];return void 0===dt||void 0!==dt.offset&&1!==dt.offset?Pt=[...Pt,{offset:1,[Se]:Ve}]:dt[Se]=Ve,ct},fromTo:(Se,Ve,dt)=>ve(Se,Ve).to(Se,dt),parent:Se=>(nt=Se,ct),play:Dr,pause:()=>(Fn.forEach(Se=>{Se.pause()}),kr(),ct),stop:()=>{Fn.forEach(Se=>{Se.stop()}),Ee&&(Ln(),Ee=!1),Et=!1,Ot=!1,st=!0,ze=void 0,q=void 0,Ce=void 0,$e=0,Me=!1,Ze=!0,ft=!1},destroy:Se=>(Fn.forEach(Ve=>{Ve.destroy(Se)}),(Se=>{Ln(),Se&&Vn()})(Se),hn.length=0,Fn.length=0,Pt.length=0,zt.length=0,Jt.length=0,Ee=!1,st=!0,ct),keyframes:Se=>{const Ve=Pt!==Se;return Pt=Se,Ve&&(Se=>{Pr?bt().forEach(Ve=>{if(Ve.effect.setKeyframes)Ve.effect.setKeyframes(Se);else{const dt=new KeyframeEffect(Ve.effect.target,Se,Ve.effect.getTiming());Ve.effect=dt}}):Vr()})(Pt),ct},addAnimation:Se=>{if(null!=Se)if(Array.isArray(Se))for(const Ve of Se)Ve.parent(ct),Fn.push(Ve);else Se.parent(ct),Fn.push(Se);return ct},addElement:Se=>{if(null!=Se)if(1===Se.nodeType)hn.push(Se);else if(Se.length>=0)for(let Ve=0;Ve<Se.length;Ve++)hn.push(Se[Ve]);else console.error("Invalid addElement value");return ct},update:sr,fill:Se=>(Ye=Se,sr(!0),ct),direction:Se=>(yt=Se,sr(!0),ct),iterations:Se=>(rt=Se,sr(!0),ct),duration:Se=>(!Pr&&0===Se&&(Se=1),Le=Se,sr(!0),ct),easing:Se=>(et=Se,sr(!0),ct),delay:Se=>(Oe=Se,sr(!0),ct),getWebAnimations:bt,getKeyframes:()=>Pt,getFill:Sn,getDirection:On,getDelay:Cr,getIterations:an,getEasing:fr,getDuration:un,afterAddRead:Se=>(yn.push(Se),ct),afterAddWrite:Se=>(Xr.push(Se),ct),afterClearStyles:(Se=[])=>{for(const Ve of Se)Be[Ve]="";return ct},afterStyles:(Se={})=>(Be=Se,ct),afterRemoveClass:Se=>(ge=Fe(ge,Se),ct),afterAddClass:Se=>(be=Fe(be,Se),ct),beforeAddRead:Se=>(er.push(Se),ct),beforeAddWrite:Se=>(Zn.push(Se),ct),beforeClearStyles:(Se=[])=>{for(const Ve of Se)we[Ve]="";return ct},beforeStyles:(Se={})=>(we=Se,ct),beforeRemoveClass:Se=>(_t=Fe(_t,Se),ct),beforeAddClass:Se=>(gt=Fe(gt,Se),ct),onFinish:Gt,isRunning:()=>0!==$e&&!ft,progressStart:(Se=!1,Ve)=>(Fn.forEach(dt=>{dt.progressStart(Se,Ve)}),kr(),Et=Se,Ee||Cn(),sr(!1,!0,Ve),ct),progressStep:Se=>(Fn.forEach(Ve=>{Ve.progressStep(Se)}),ye(Se),ct),progressEnd:(Se,Ve,dt)=>(Et=!1,Fn.forEach(Ft=>{Ft.progressEnd(Se,Ve,dt)}),void 0!==dt&&(q=dt),Me=!1,Ze=!0,0===Se?(ze="reverse"===On()?"normal":"reverse","reverse"===ze&&(Ze=!1),Pr?(sr(),ye(1-Ve)):(Ce=(1-Ve)*un()*-1,sr(!1,!1))):1===Se&&(Pr?(sr(),ye(Ve)):(Ce=Ve*un()*-1,sr(!1,!1))),void 0!==Se&&(Gt(()=>{q=void 0,ze=void 0,Ce=void 0},{oneTimeCallback:!0}),nt||Dr()),ct)}}},3509:(Qt,lt,N)=>{"use strict";N.d(lt,{G:()=>Te});class z{constructor(_e,re,Ie,Z,pe){this.id=re,this.name=Ie,this.disableScroll=pe,this.priority=1e6*Z+re,this.ctrl=_e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const _e=this.ctrl.capture(this.name,this.id,this.priority);return _e&&this.disableScroll&&this.ctrl.disableScroll(this.id),_e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(_e,re,Ie,Z){this.id=re,this.disable=Ie,this.disableScroll=Z,this.ctrl=_e}block(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.disableGesture(_e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.enableGesture(_e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ke="backdrop-no-scroll",Te=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(_e){return new z(this,this.newID(),_e.name,_e.priority||0,!!_e.disableScroll)}createBlocker(_e={}){return new W(this,this.newID(),_e.disable,!!_e.disableScroll)}start(_e,re,Ie){return this.canStart(_e)?(this.requestedStart.set(re,Ie),!0):(this.requestedStart.delete(re),!1)}capture(_e,re,Ie){if(!this.start(_e,re,Ie))return!1;const Z=this.requestedStart;let pe=-1e4;if(Z.forEach(ee=>{pe=Math.max(pe,ee)}),pe===Ie){this.capturedId=re,Z.clear();const ee=new CustomEvent("ionGestureCaptured",{detail:{gestureName:_e}});return document.dispatchEvent(ee),!0}return Z.delete(re),!1}release(_e){this.requestedStart.delete(_e),this.capturedId===_e&&(this.capturedId=void 0)}disableGesture(_e,re){let Ie=this.disabledGestures.get(_e);void 0===Ie&&(Ie=new Set,this.disabledGestures.set(_e,Ie)),Ie.add(re)}enableGesture(_e,re){const Ie=this.disabledGestures.get(_e);void 0!==Ie&&Ie.delete(re)}disableScroll(_e){this.disabledScroll.add(_e),1===this.disabledScroll.size&&document.body.classList.add(ke)}enableScroll(_e){this.disabledScroll.delete(_e),0===this.disabledScroll.size&&document.body.classList.remove(ke)}canStart(_e){return!(void 0!==this.capturedId||this.isDisabled(_e))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(_e){const re=this.disabledGestures.get(_e);return!!(re&&re.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Qt,lt,N)=>{"use strict";N.r(lt),N.d(lt,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>ke,blockHardwareBackButton:()=>z,startHardwareBackButton:()=>W});var c=N(5861);const z=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const te=document;let _e=!1;te.addEventListener("backbutton",()=>{if(_e)return;let re=0,Ie=[];const Z=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(le,Fe){Ie.push({priority:le,handler:Fe,id:re++})}}});te.dispatchEvent(Z);const pe=function(){var le=(0,c.Z)(function*(Fe){try{if(null==Fe?void 0:Fe.handler){const He=Fe.handler(ee);null!=He&&(yield He)}}catch(He){console.error(He)}});return function(He){return le.apply(this,arguments)}}(),ee=()=>{if(Ie.length>0){let le={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ie.forEach(Fe=>{Fe.priority>=le.priority&&(le=Fe)}),_e=!0,Ie=Ie.filter(Fe=>Fe.id!==le.id),pe(le).then(()=>_e=!1)}};ee()})},ke=100,Te=99},3756:(Qt,lt,N)=>{"use strict";N.d(lt,{a:()=>_e,b:()=>re,c:()=>W,d:()=>Fe,e:()=>He,f:()=>le,g:()=>Ie,h:()=>Ye,i:()=>te,j:()=>ke,k:()=>ee,l:()=>De,m:()=>pe,n:()=>Oe,o:()=>rt,p:()=>et,q:()=>yt,r:()=>Z,s:()=>Pt,t:()=>c,u:()=>Le});const c=(gt,_t=0)=>new Promise(Ee=>{z(gt,_t,Ee)}),z=(gt,_t=0,Ee)=>{let nt,we;const be={passive:!0},Be=()=>{nt&&nt()},$e=Et=>{(void 0===Et||gt===Et.target)&&(Be(),Ee(Et))};return gt&&(gt.addEventListener("webkitTransitionEnd",$e,be),gt.addEventListener("transitionend",$e,be),we=setTimeout($e,_t+500),nt=()=>{we&&(clearTimeout(we),we=void 0),gt.removeEventListener("webkitTransitionEnd",$e,be),gt.removeEventListener("transitionend",$e,be)}),Be},W=(gt,_t)=>{gt.componentOnReady?gt.componentOnReady().then(Ee=>_t(Ee)):Z(()=>_t(gt))},ke=(gt,_t=[])=>{const Ee={};return _t.forEach(nt=>{gt.hasAttribute(nt)&&(null!==gt.getAttribute(nt)&&(Ee[nt]=gt.getAttribute(nt)),gt.removeAttribute(nt))}),Ee},Te=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],te=gt=>ke(gt,Te),_e=(gt,_t,Ee,nt)=>{var we;if("undefined"!=typeof window){const be=window,ge=null===(we=null==be?void 0:be.Ionic)||void 0===we?void 0:we.config;if(ge){const Be=ge.get("_ael");if(Be)return Be(gt,_t,Ee,nt);if(ge._ael)return ge._ael(gt,_t,Ee,nt)}}return gt.addEventListener(_t,Ee,nt)},re=(gt,_t,Ee,nt)=>{var we;if("undefined"!=typeof window){const be=window,ge=null===(we=null==be?void 0:be.Ionic)||void 0===we?void 0:we.config;if(ge){const Be=ge.get("_rel");if(Be)return Be(gt,_t,Ee,nt);if(ge._rel)return ge._rel(gt,_t,Ee,nt)}}return gt.removeEventListener(_t,Ee,nt)},Ie=(gt,_t=gt)=>gt.shadowRoot||_t,Z=gt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(gt):"function"==typeof requestAnimationFrame?requestAnimationFrame(gt):setTimeout(gt),pe=gt=>!!gt.shadowRoot&&!!gt.attachShadow,ee=gt=>{const _t=gt.closest("ion-item");return _t?_t.querySelector("ion-label"):null},le=gt=>{if(gt.focus(),gt.classList.contains("ion-focusable")){const _t=gt.closest("ion-app");_t&&_t.setFocus([gt])}},Fe=(gt,_t)=>{let Ee;const nt=gt.getAttribute("aria-labelledby"),we=gt.id;let be=null!==nt&&""!==nt.trim()?nt:_t+"-lbl",ge=null!==nt&&""!==nt.trim()?document.getElementById(nt):ee(gt);return ge?(null===nt&&(ge.id=be),Ee=ge.textContent,ge.setAttribute("aria-hidden","true")):""!==we.trim()&&(ge=document.querySelector(`label[for="${we}"]`),ge&&(""!==ge.id?be=ge.id:ge.id=be=`${we}-lbl`,Ee=ge.textContent)),{label:ge,labelId:be,labelText:Ee}},He=(gt,_t,Ee,nt,we)=>{if(gt||pe(_t)){let be=_t.querySelector("input.aux-input");be||(be=_t.ownerDocument.createElement("input"),be.type="hidden",be.classList.add("aux-input"),_t.appendChild(be)),be.disabled=we,be.name=Ee,be.value=nt||""}},De=(gt,_t,Ee)=>Math.max(gt,Math.min(_t,Ee)),Oe=(gt,_t)=>{if(!gt){const Ee="ASSERT: "+_t;throw console.error(Ee),new Error(Ee)}},Le=gt=>gt.timeStamp||Date.now(),et=gt=>{if(gt){const _t=gt.changedTouches;if(_t&&_t.length>0){const Ee=_t[0];return{x:Ee.clientX,y:Ee.clientY}}if(void 0!==gt.pageX)return{x:gt.pageX,y:gt.pageY}}return{x:0,y:0}},rt=gt=>{const _t="rtl"===document.dir;switch(gt){case"start":return _t;case"end":return!_t;default:throw new Error(`"${gt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ye=(gt,_t)=>{const Ee=gt._original||gt;return{_original:gt,emit:yt(Ee.emit.bind(Ee),_t)}},yt=(gt,_t=0)=>{let Ee;return(...nt)=>{clearTimeout(Ee),Ee=setTimeout(gt,_t,...nt)}},Pt=(gt,_t)=>{if(null!=gt||(gt={}),null!=_t||(_t={}),gt===_t)return!0;const Ee=Object.keys(gt);if(Ee.length!==Object.keys(_t).length)return!1;for(const nt of Ee)if(!(nt in _t)||gt[nt]!==_t[nt])return!1;return!0}},4318:(Qt,lt,N)=>{"use strict";N.d(lt,{L:()=>ke,a:()=>Te,b:()=>te,c:()=>_e,d:()=>re,e:()=>_t,g:()=>we,l:()=>Pt,s:()=>Ee,t:()=>pe});var c=N(5861),z=N(2361),W=N(3756);const ke="ionViewWillEnter",Te="ionViewDidEnter",te="ionViewWillLeave",_e="ionViewDidLeave",re="ionViewWillUnload",pe=be=>new Promise((ge,Be)=>{(0,z.c)(()=>{ee(be),le(be).then($e=>{$e.animation&&$e.animation.destroy(),Fe(be),ge($e)},$e=>{Fe(be),Be($e)})})}),ee=be=>{const ge=be.enteringEl,Be=be.leavingEl;nt(ge,Be,be.direction),be.showGoBack?ge.classList.add("can-go-back"):ge.classList.remove("can-go-back"),Ee(ge,!1),ge.style.setProperty("pointer-events","none"),Be&&(Ee(Be,!1),Be.style.setProperty("pointer-events","none"))},le=function(){var be=(0,c.Z)(function*(ge){const Be=yield He(ge);return Be&&z.B.isBrowser?De(Be,ge):Oe(ge)});return function(Be){return be.apply(this,arguments)}}(),Fe=be=>{const ge=be.enteringEl,Be=be.leavingEl;ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events"),void 0!==Be&&(Be.classList.remove("ion-page-invisible"),Be.style.removeProperty("pointer-events"))},He=function(){var be=(0,c.Z)(function*(ge){return ge.leavingEl&&ge.animated&&0!==ge.duration?ge.animationBuilder?ge.animationBuilder:"ios"===ge.mode?(yield Promise.resolve().then(N.bind(N,1815))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,6447))).mdTransitionAnimation:void 0});return function(Be){return be.apply(this,arguments)}}(),De=function(){var be=(0,c.Z)(function*(ge,Be){yield Le(Be,!0);const $e=ge(Be.baseEl,Be);Ye(Be.enteringEl,Be.leavingEl);const Et=yield rt($e,Be);return Be.progressCallback&&Be.progressCallback(void 0),Et&&yt(Be.enteringEl,Be.leavingEl),{hasCompleted:Et,animation:$e}});return function(Be,$e){return be.apply(this,arguments)}}(),Oe=function(){var be=(0,c.Z)(function*(ge){const Be=ge.enteringEl,$e=ge.leavingEl;return yield Le(ge,!1),Ye(Be,$e),yt(Be,$e),{hasCompleted:!0}});return function(Be){return be.apply(this,arguments)}}(),Le=function(){var be=(0,c.Z)(function*(ge,Be){const Et=(void 0!==ge.deepWait?ge.deepWait:Be)?[_t(ge.enteringEl),_t(ge.leavingEl)]:[gt(ge.enteringEl),gt(ge.leavingEl)];yield Promise.all(Et),yield et(ge.viewIsReady,ge.enteringEl)});return function(Be,$e){return be.apply(this,arguments)}}(),et=function(){var be=(0,c.Z)(function*(ge,Be){ge&&(yield ge(Be))});return function(Be,$e){return be.apply(this,arguments)}}(),rt=(be,ge)=>{const Be=ge.progressCallback,$e=new Promise(Et=>{be.onFinish(Ot=>Et(1===Ot))});return Be?(be.progressStart(!0),Be(be)):be.play(),$e},Ye=(be,ge)=>{Pt(ge,te),Pt(be,ke)},yt=(be,ge)=>{Pt(be,Te),Pt(ge,_e)},Pt=(be,ge)=>{if(be){const Be=new CustomEvent(ge,{bubbles:!1,cancelable:!1});be.dispatchEvent(Be)}},gt=be=>be?new Promise(ge=>(0,W.c)(be,ge)):Promise.resolve(),_t=function(){var be=(0,c.Z)(function*(ge){const Be=ge;if(Be){if(null!=Be.componentOnReady){if(null!=(yield Be.componentOnReady()))return}else if(null!=Be.__registerHost)return void(yield new Promise(Et=>(0,W.r)(Et)));yield Promise.all(Array.from(Be.children).map(_t))}});return function(Be){return be.apply(this,arguments)}}(),Ee=(be,ge)=>{ge?(be.setAttribute("aria-hidden","true"),be.classList.add("ion-page-hidden")):(be.hidden=!1,be.removeAttribute("aria-hidden"),be.classList.remove("ion-page-hidden"))},nt=(be,ge,Be)=>{void 0!==be&&(be.style.zIndex="back"===Be?"99":"101"),void 0!==ge&&(ge.style.zIndex="100")},we=be=>be.classList.contains("ion-page")?be:be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||be},3139:(Qt,lt,N)=>{"use strict";N.r(lt),N.d(lt,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ie});var c=N(3509);const z=(le,Fe,He,De)=>{const Oe=W(le)?{capture:!!De.capture,passive:!!De.passive}:!!De.capture;let Le,et;return le.__zone_symbol__addEventListener?(Le="__zone_symbol__addEventListener",et="__zone_symbol__removeEventListener"):(Le="addEventListener",et="removeEventListener"),le[Le](Fe,He,Oe),()=>{le[et](Fe,He,Oe)}},W=le=>{if(void 0===ke)try{const Fe=Object.defineProperty({},"passive",{get:()=>{ke=!0}});le.addEventListener("optsTest",()=>{},Fe)}catch(Fe){ke=!1}return!!ke};let ke;const _e=le=>le instanceof Document?le:le.ownerDocument,Ie=le=>{let Fe=!1,He=!1,De=!0,Oe=!1;const Le=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},le),et=Le.canStart,rt=Le.onWillStart,Ye=Le.onStart,yt=Le.onEnd,Pt=Le.notCaptured,gt=Le.onMove,_t=Le.threshold,Ee=Le.passive,nt=Le.blurOnStart,we={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},be=((le,Fe,He)=>{const De=He*(Math.PI/180),Oe="x"===le,Le=Math.cos(De),et=Fe*Fe;let rt=0,Ye=0,yt=!1,Pt=0;return{start(gt,_t){rt=gt,Ye=_t,Pt=0,yt=!0},detect(gt,_t){if(!yt)return!1;const Ee=gt-rt,nt=_t-Ye,we=Ee*Ee+nt*nt;if(we<et)return!1;const be=Math.sqrt(we),ge=(Oe?Ee:nt)/be;return Pt=ge>Le?1:ge<-Le?-1:0,yt=!1,!0},isGesture:()=>0!==Pt,getDirection:()=>Pt}})(Le.direction,Le.threshold,Le.maxAngle),ge=c.G.createGesture({name:le.gestureName,priority:le.gesturePriority,disableScroll:le.disableScroll}),Et=()=>{!Fe||(Oe=!1,gt&&gt(we))},Ot=()=>!(ge&&!ge.capture()||(Fe=!0,De=!1,we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime,rt?rt(we).then(ze):ze(),0)),ze=()=>{nt&&(()=>{if("undefined"!=typeof document){const st=document.activeElement;(null==st?void 0:st.blur)&&st.blur()}})(),Ye&&Ye(we),De=!0},q=()=>{Fe=!1,He=!1,Oe=!1,De=!0,ge.release()},Ce=st=>{const Xt=Fe,ct=De;if(q(),ct){if(Z(we,st),Xt)return void(yt&&yt(we));Pt&&Pt(we)}},Ze=((le,Fe,He,De,Oe)=>{let Le,et,rt,Ye,yt,Pt,gt,_t=0;const Ee=ut=>{_t=Date.now()+2e3,Fe(ut)&&(!et&&He&&(et=z(le,"touchmove",He,Oe)),rt||(rt=z(ut.target,"touchend",we,Oe)),Ye||(Ye=z(ut.target,"touchcancel",we,Oe)))},nt=ut=>{_t>Date.now()||!Fe(ut)||(!Pt&&He&&(Pt=z(_e(le),"mousemove",He,Oe)),gt||(gt=z(_e(le),"mouseup",be,Oe)))},we=ut=>{ge(),De&&De(ut)},be=ut=>{Be(),De&&De(ut)},ge=()=>{et&&et(),rt&&rt(),Ye&&Ye(),et=rt=Ye=void 0},Be=()=>{Pt&&Pt(),gt&&gt(),Pt=gt=void 0},$e=()=>{ge(),Be()},Et=(ut=!0)=>{ut?(Le||(Le=z(le,"touchstart",Ee,Oe)),yt||(yt=z(le,"mousedown",nt,Oe))):(Le&&Le(),yt&&yt(),Le=yt=void 0,$e())};return{enable:Et,stop:$e,destroy:()=>{Et(!1),De=He=Fe=void 0}}})(Le.el,st=>{const Xt=ee(st);return!(He||!De||(pe(st,we),we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime=Xt,we.velocityX=we.velocityY=we.deltaX=we.deltaY=0,we.event=st,et&&!1===et(we))||(ge.release(),!ge.start()))&&(He=!0,0===_t?Ot():(be.start(we.startX,we.startY),!0))},st=>{Fe?!Oe&&De&&(Oe=!0,Z(we,st),requestAnimationFrame(Et)):(Z(we,st),be.detect(we.currentX,we.currentY)&&(!be.isGesture()||!Ot())&&Me())},Ce,{capture:!1,passive:Ee}),Me=()=>{q(),Ze.stop(),Pt&&Pt(we)};return{enable(st=!0){st||(Fe&&Ce(void 0),q()),Ze.enable(st)},destroy(){ge.destroy(),Ze.destroy()}}},Z=(le,Fe)=>{if(!Fe)return;const He=le.currentX,De=le.currentY,Oe=le.currentTime;pe(Fe,le);const Le=le.currentX,et=le.currentY,Ye=(le.currentTime=ee(Fe))-Oe;if(Ye>0&&Ye<100){const Pt=(et-De)/Ye;le.velocityX=(Le-He)/Ye*.7+.3*le.velocityX,le.velocityY=.7*Pt+.3*le.velocityY}le.deltaX=Le-le.startX,le.deltaY=et-le.startY,le.event=Fe},pe=(le,Fe)=>{let He=0,De=0;if(le){const Oe=le.changedTouches;if(Oe&&Oe.length>0){const Le=Oe[0];He=Le.clientX,De=Le.clientY}else void 0!==le.pageX&&(He=le.pageX,De=le.pageY)}Fe.currentX=He,Fe.currentY=De},ee=le=>le.timeStamp||Date.now()},2361:(Qt,lt,N)=>{"use strict";N.d(lt,{B:()=>Dr,H:()=>Fn,a:()=>Me,b:()=>Nr,c:()=>pi,e:()=>Qe,f:()=>zr,g:()=>st,h:()=>Jt,i:()=>Ke,j:()=>fr,k:()=>pr,p:()=>De,r:()=>Cn,s:()=>Fe});var c=N(5861);let W,ke,Te,te=!1,_e=!1,re=!1,Ie=!1,Z=!1;const pe="undefined"!=typeof window?window:{},ee=pe.document||{head:{}},le={$flags$:0,$resourcesUrl$:"",jmp:ne=>ne(),raf:ne=>requestAnimationFrame(ne),ael:(ne,ve,tt,mt)=>ne.addEventListener(ve,tt,mt),rel:(ne,ve,tt,mt)=>ne.removeEventListener(ve,tt,mt),ce:(ne,ve)=>new CustomEvent(ne,ve)},Fe=ne=>{Object.assign(le,ne)},De=ne=>Promise.resolve(ne),Oe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(ne){}return!1})(),Le=(ne,ve,tt,mt)=>{tt&&tt.map(([Se,Ve,dt])=>{const Ft=rt(ne,Se),xt=et(ve,dt),Ut=Ye(Se);le.ael(Ft,Ve,xt,Ut),(ve.$rmListeners$=ve.$rmListeners$||[]).push(()=>le.rel(Ft,Ve,xt,Ut))})},et=(ne,ve)=>tt=>{try{256&ne.$flags$?ne.$lazyInstance$[ve](tt):(ne.$queuedListeners$=ne.$queuedListeners$||[]).push([ve,tt])}catch(mt){qr(mt)}},rt=(ne,ve)=>4&ve?ee:8&ve?pe:16&ve?ee.body:ne,Ye=ne=>0!=(2&ne),Ee="s-id",nt="sty-id",ge="http://www.w3.org/1999/xlink",Et=new WeakMap,Ot=(ne,ve,tt)=>{let mt=Mr.get(ne);Oe&&tt?(mt=mt||new CSSStyleSheet,mt.replace(ve)):mt=ve,Mr.set(ne,mt)},ut=(ne,ve,tt,mt)=>{let Se=q(ve,tt),Ve=Mr.get(Se);if(ne=11===ne.nodeType?ne:ee,Ve)if("string"==typeof Ve){let Ft,dt=Et.get(ne=ne.head||ne);dt||Et.set(ne,dt=new Set),dt.has(Se)||(ne.host&&(Ft=ne.querySelector(`[${nt}="${Se}"]`))?Ft.innerHTML=Ve:(Ft=ee.createElement("style"),Ft.innerHTML=Ve,ne.insertBefore(Ft,ne.querySelector("link"))),dt&&dt.add(Se))}else ne.adoptedStyleSheets.includes(Ve)||(ne.adoptedStyleSheets=[...ne.adoptedStyleSheets,Ve]);return Se},q=(ne,ve)=>"sc-"+(ve&&32&ne.$flags$?ne.$tagName$+"-"+ve:ne.$tagName$),Ce=ne=>ne.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Me=ne=>tr.push(ne),st=ne=>nn(ne).$modeName$,Xt={},zt=ne=>"object"==(ne=typeof ne)||"function"===ne,Jt=(ne,ve,...tt)=>{let mt=null,Se=null,Ve=null,dt=!1,Ft=!1,xt=[];const Ut=bn=>{for(let Yn=0;Yn<bn.length;Yn++)mt=bn[Yn],Array.isArray(mt)?Ut(mt):null!=mt&&"boolean"!=typeof mt&&((dt="function"!=typeof ne&&!zt(mt))&&(mt=String(mt)),dt&&Ft?xt[xt.length-1].$text$+=mt:xt.push(dt?hn(null,mt):mt),Ft=dt)};if(Ut(tt),ve){ve.key&&(Se=ve.key),ve.name&&(Ve=ve.name);{const bn=ve.className||ve.class;bn&&(ve.class="object"!=typeof bn?bn:Object.keys(bn).filter(Yn=>bn[Yn]).join(" "))}}if("function"==typeof ne)return ne(null===ve?{}:ve,xt,er);const fn=hn(ne,null);return fn.$attrs$=ve,xt.length>0&&(fn.$children$=xt),fn.$key$=Se,fn.$name$=Ve,fn},hn=(ne,ve)=>({$flags$:0,$tag$:ne,$text$:ve,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Fn={},er={forEach:(ne,ve)=>ne.map(Zn).forEach(ve),map:(ne,ve)=>ne.map(Zn).map(ve).map(yn)},Zn=ne=>({vattrs:ne.$attrs$,vchildren:ne.$children$,vkey:ne.$key$,vname:ne.$name$,vtag:ne.$tag$,vtext:ne.$text$}),yn=ne=>{if("function"==typeof ne.vtag){const tt=Object.assign({},ne.vattrs);return ne.vkey&&(tt.key=ne.vkey),ne.vname&&(tt.name=ne.vname),Jt(ne.vtag,tt,...ne.vchildren||[])}const ve=hn(ne.vtag,ne.vtext);return ve.$attrs$=ne.vattrs,ve.$children$=ne.vchildren,ve.$key$=ne.vkey,ve.$name$=ne.vname,ve},Xr=(ne,ve,tt,mt,Se,Ve)=>{if(tt!==mt){let dt=Ur(ne,ve),Ft=ve.toLowerCase();if("class"===ve){const xt=ne.classList,Ut=vr(tt),fn=vr(mt);xt.remove(...Ut.filter(bn=>bn&&!fn.includes(bn))),xt.add(...fn.filter(bn=>bn&&!Ut.includes(bn)))}else if("style"===ve){for(const xt in tt)(!mt||null==mt[xt])&&(xt.includes("-")?ne.style.removeProperty(xt):ne.style[xt]="");for(const xt in mt)(!tt||mt[xt]!==tt[xt])&&(xt.includes("-")?ne.style.setProperty(xt,mt[xt]):ne.style[xt]=mt[xt])}else if("key"!==ve)if("ref"===ve)mt&&mt(ne);else if(dt||"o"!==ve[0]||"n"!==ve[1]){const xt=zt(mt);if((dt||xt&&null!==mt)&&!Se)try{if(ne.tagName.includes("-"))ne[ve]=mt;else{let fn=null==mt?"":mt;"list"===ve?dt=!1:(null==tt||ne[ve]!=fn)&&(ne[ve]=fn)}}catch(fn){}let Ut=!1;Ft!==(Ft=Ft.replace(/^xlink\:?/,""))&&(ve=Ft,Ut=!0),null==mt||!1===mt?(!1!==mt||""===ne.getAttribute(ve))&&(Ut?ne.removeAttributeNS(ge,ve):ne.removeAttribute(ve)):(!dt||4&Ve||Se)&&!xt&&(mt=!0===mt?"":mt,Ut?ne.setAttributeNS(ge,ve,mt):ne.setAttribute(ve,mt))}else ve="-"===ve[2]?ve.slice(3):Ur(pe,Ft)?Ft.slice(2):Ft[2]+ve.slice(3),tt&&le.rel(ne,ve,tt,!1),mt&&le.ael(ne,ve,mt,!1)}},hr=/\s/,vr=ne=>ne?ne.split(hr):[],Pr=(ne,ve,tt,mt)=>{const Se=11===ve.$elm$.nodeType&&ve.$elm$.host?ve.$elm$.host:ve.$elm$,Ve=ne&&ne.$attrs$||Xt,dt=ve.$attrs$||Xt;for(mt in Ve)mt in dt||Xr(Se,mt,Ve[mt],void 0,tt,ve.$flags$);for(mt in dt)Xr(Se,mt,Ve[mt],dt[mt],tt,ve.$flags$)},Pn=(ne,ve,tt,mt)=>{let dt,Ft,xt,Se=ve.$children$[tt],Ve=0;if(te||(re=!0,"slot"===Se.$tag$&&(W&&mt.classList.add(W+"-s"),Se.$flags$|=Se.$children$?2:1)),null!==Se.$text$)dt=Se.$elm$=ee.createTextNode(Se.$text$);else if(1&Se.$flags$)dt=Se.$elm$=ee.createTextNode("");else{if(Ie||(Ie="svg"===Se.$tag$),dt=Se.$elm$=ee.createElementNS(Ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Se.$flags$?"slot-fb":Se.$tag$),Ie&&"foreignObject"===Se.$tag$&&(Ie=!1),Pr(null,Se,Ie),(ne=>null!=ne)(W)&&dt["s-si"]!==W&&dt.classList.add(dt["s-si"]=W),Se.$children$)for(Ve=0;Ve<Se.$children$.length;++Ve)Ft=Pn(ne,Se,Ve,dt),Ft&&dt.appendChild(Ft);"svg"===Se.$tag$?Ie=!1:"foreignObject"===dt.tagName&&(Ie=!0)}return dt["s-hn"]=Te,3&Se.$flags$&&(dt["s-sr"]=!0,dt["s-cr"]=ke,dt["s-sn"]=Se.$name$||"",xt=ne&&ne.$children$&&ne.$children$[tt],xt&&xt.$tag$===Se.$tag$&&ne.$elm$&&bt(ne.$elm$,!1)),dt},bt=(ne,ve)=>{le.$flags$|=1;const tt=ne.childNodes;for(let mt=tt.length-1;mt>=0;mt--){const Se=tt[mt];Se["s-hn"]!==Te&&Se["s-ol"]&&(dn(Se).insertBefore(Se,Gt(Se)),Se["s-ol"].remove(),Se["s-ol"]=void 0,re=!0),ve&&bt(Se,ve)}le.$flags$&=-2},Ge=(ne,ve,tt,mt,Se,Ve)=>{let Ft,dt=ne["s-cr"]&&ne["s-cr"].parentNode||ne;for(dt.shadowRoot&&dt.tagName===Te&&(dt=dt.shadowRoot);Se<=Ve;++Se)mt[Se]&&(Ft=Pn(null,tt,Se,ne),Ft&&(mt[Se].$elm$=Ft,dt.insertBefore(Ft,Gt(ve))))},Ae=(ne,ve,tt,mt,Se)=>{for(;ve<=tt;++ve)(mt=ne[ve])&&(Se=mt.$elm$,qn(mt),_e=!0,Se["s-ol"]?Se["s-ol"].remove():bt(Se,!0),Se.remove())},At=(ne,ve)=>ne.$tag$===ve.$tag$&&("slot"===ne.$tag$?ne.$name$===ve.$name$:ne.$key$===ve.$key$),Gt=ne=>ne&&ne["s-ol"]||ne,dn=ne=>(ne["s-ol"]?ne["s-ol"]:ne).parentNode,Ln=(ne,ve)=>{const tt=ve.$elm$=ne.$elm$,mt=ne.$children$,Se=ve.$children$,Ve=ve.$tag$,dt=ve.$text$;let Ft;null===dt?(Ie="svg"===Ve||"foreignObject"!==Ve&&Ie,"slot"===Ve||Pr(ne,ve,Ie),null!==mt&&null!==Se?((ne,ve,tt,mt)=>{let di,Li,Se=0,Ve=0,dt=0,Ft=0,xt=ve.length-1,Ut=ve[0],fn=ve[xt],bn=mt.length-1,Yn=mt[0],nr=mt[bn];for(;Se<=xt&&Ve<=bn;)if(null==Ut)Ut=ve[++Se];else if(null==fn)fn=ve[--xt];else if(null==Yn)Yn=mt[++Ve];else if(null==nr)nr=mt[--bn];else if(At(Ut,Yn))Ln(Ut,Yn),Ut=ve[++Se],Yn=mt[++Ve];else if(At(fn,nr))Ln(fn,nr),fn=ve[--xt],nr=mt[--bn];else if(At(Ut,nr))("slot"===Ut.$tag$||"slot"===nr.$tag$)&&bt(Ut.$elm$.parentNode,!1),Ln(Ut,nr),ne.insertBefore(Ut.$elm$,fn.$elm$.nextSibling),Ut=ve[++Se],nr=mt[--bn];else if(At(fn,Yn))("slot"===Ut.$tag$||"slot"===nr.$tag$)&&bt(fn.$elm$.parentNode,!1),Ln(fn,Yn),ne.insertBefore(fn.$elm$,Ut.$elm$),fn=ve[--xt],Yn=mt[++Ve];else{for(dt=-1,Ft=Se;Ft<=xt;++Ft)if(ve[Ft]&&null!==ve[Ft].$key$&&ve[Ft].$key$===Yn.$key$){dt=Ft;break}dt>=0?(Li=ve[dt],Li.$tag$!==Yn.$tag$?di=Pn(ve&&ve[Ve],tt,dt,ne):(Ln(Li,Yn),ve[dt]=void 0,di=Li.$elm$),Yn=mt[++Ve]):(di=Pn(ve&&ve[Ve],tt,Ve,ne),Yn=mt[++Ve]),di&&dn(Ut.$elm$).insertBefore(di,Gt(Ut.$elm$))}Se>xt?Ge(ne,null==mt[bn+1]?null:mt[bn+1].$elm$,tt,mt,Ve,bn):Ve>bn&&Ae(ve,Se,xt)})(tt,mt,ve,Se):null!==Se?(null!==ne.$text$&&(tt.textContent=""),Ge(tt,null,ve,Se,0,Se.length-1)):null!==mt&&Ae(mt,0,mt.length-1),Ie&&"svg"===Ve&&(Ie=!1)):(Ft=tt["s-cr"])?Ft.parentNode.textContent=dt:ne.$text$!==dt&&(tt.data=dt)},Vn=ne=>{let tt,mt,Se,Ve,dt,Ft,ve=ne.childNodes;for(mt=0,Se=ve.length;mt<Se;mt++)if(tt=ve[mt],1===tt.nodeType){if(tt["s-sr"])for(dt=tt["s-sn"],tt.hidden=!1,Ve=0;Ve<Se;Ve++)if(Ft=ve[Ve].nodeType,ve[Ve]["s-hn"]!==tt["s-hn"]||""!==dt){if(1===Ft&&dt===ve[Ve].getAttribute("slot")){tt.hidden=!0;break}}else if(1===Ft||3===Ft&&""!==ve[Ve].textContent.trim()){tt.hidden=!0;break}Vn(tt)}},Tn=[],ai=ne=>{let ve,tt,mt,Se,Ve,dt,Ft=0,xt=ne.childNodes,Ut=xt.length;for(;Ft<Ut;Ft++){if(ve=xt[Ft],ve["s-sr"]&&(tt=ve["s-cr"])&&tt.parentNode)for(mt=tt.parentNode.childNodes,Se=ve["s-sn"],dt=mt.length-1;dt>=0;dt--)tt=mt[dt],!tt["s-cn"]&&!tt["s-nr"]&&tt["s-hn"]!==ve["s-hn"]&&(Lr(tt,Se)?(Ve=Tn.find(fn=>fn.$nodeToRelocate$===tt),_e=!0,tt["s-sn"]=tt["s-sn"]||Se,Ve?Ve.$slotRefNode$=ve:Tn.push({$slotRefNode$:ve,$nodeToRelocate$:tt}),tt["s-sr"]&&Tn.map(fn=>{Lr(fn.$nodeToRelocate$,tt["s-sn"])&&(Ve=Tn.find(bn=>bn.$nodeToRelocate$===tt),Ve&&!fn.$slotRefNode$&&(fn.$slotRefNode$=Ve.$slotRefNode$))})):Tn.some(fn=>fn.$nodeToRelocate$===tt)||Tn.push({$nodeToRelocate$:tt}));1===ve.nodeType&&ai(ve)}},Lr=(ne,ve)=>1===ne.nodeType?null===ne.getAttribute("slot")&&""===ve||ne.getAttribute("slot")===ve:ne["s-sn"]===ve||""===ve,qn=ne=>{ne.$attrs$&&ne.$attrs$.ref&&ne.$attrs$.ref(null),ne.$children$&&ne.$children$.map(qn)},Ke=ne=>nn(ne).$hostElement$,Qe=(ne,ve,tt)=>{const mt=Ke(ne);return{emit:Se=>Bt(mt,ve,{bubbles:!!(4&tt),composed:!!(2&tt),cancelable:!!(1&tt),detail:Se})}},Bt=(ne,ve,tt)=>{const mt=le.ce(ve,tt);return ne.dispatchEvent(mt),mt},We=(ne,ve)=>{ve&&!ne.$onRenderResolve$&&ve["s-p"]&&ve["s-p"].push(new Promise(tt=>ne.$onRenderResolve$=tt))},pt=(ne,ve)=>{if(ne.$flags$|=16,!(4&ne.$flags$))return We(ne,ne.$ancestorComponent$),pi(()=>qt(ne,ve));ne.$flags$|=512},qt=(ne,ve)=>{const mt=ne.$lazyInstance$;let Se;return ve&&(ne.$flags$|=256,ne.$queuedListeners$&&(ne.$queuedListeners$.map(([Ve,dt])=>an(mt,Ve,dt)),ne.$queuedListeners$=null),Se=an(mt,"componentWillLoad")),Se=Cr(Se,()=>an(mt,"componentWillRender")),Cr(Se,()=>En(ne,mt,ve))},En=function(){var ne=(0,c.Z)(function*(ve,tt,mt){const Se=ve.$hostElement$,dt=Se["s-rc"];mt&&(ne=>{const ve=ne.$cmpMeta$,tt=ne.$hostElement$,mt=ve.$flags$,Ve=ut(tt.shadowRoot?tt.shadowRoot:tt.getRootNode(),ve,ne.$modeName$);10&mt&&(tt["s-sc"]=Ve,tt.classList.add(Ve+"-h"),2&mt&&tt.classList.add(Ve+"-s"))})(ve);Sn(ve,tt),dt&&(dt.map(xt=>xt()),Se["s-rc"]=void 0);{const xt=Se["s-p"],Ut=()=>On(ve);0===xt.length?Ut():(Promise.all(xt).then(Ut),ve.$flags$|=4,xt.length=0)}});return function(tt,mt,Se){return ne.apply(this,arguments)}}(),Sn=(ne,ve,tt)=>{try{ve=ve.render&&ve.render(),ne.$flags$&=-17,ne.$flags$|=2,((ne,ve)=>{const tt=ne.$hostElement$,mt=ne.$cmpMeta$,Se=ne.$vnode$||hn(null,null),Ve=(ne=>ne&&ne.$tag$===Fn)(ve)?ve:Jt(null,null,ve);if(Te=tt.tagName,mt.$attrsToReflect$&&(Ve.$attrs$=Ve.$attrs$||{},mt.$attrsToReflect$.map(([dt,Ft])=>Ve.$attrs$[Ft]=tt[dt])),Ve.$tag$=null,Ve.$flags$|=4,ne.$vnode$=Ve,Ve.$elm$=Se.$elm$=tt.shadowRoot||tt,W=tt["s-sc"],ke=tt["s-cr"],te=0!=(1&mt.$flags$),_e=!1,Ln(Se,Ve),le.$flags$|=1,re){ai(Ve.$elm$);let dt,Ft,xt,Ut,fn,bn,Yn=0;for(;Yn<Tn.length;Yn++)dt=Tn[Yn],Ft=dt.$nodeToRelocate$,Ft["s-ol"]||(xt=ee.createTextNode(""),xt["s-nr"]=Ft,Ft.parentNode.insertBefore(Ft["s-ol"]=xt,Ft));for(Yn=0;Yn<Tn.length;Yn++)if(dt=Tn[Yn],Ft=dt.$nodeToRelocate$,dt.$slotRefNode$){for(Ut=dt.$slotRefNode$.parentNode,fn=dt.$slotRefNode$.nextSibling,xt=Ft["s-ol"];xt=xt.previousSibling;)if(bn=xt["s-nr"],bn&&bn["s-sn"]===Ft["s-sn"]&&Ut===bn.parentNode&&(bn=bn.nextSibling,!bn||!bn["s-nr"])){fn=bn;break}(!fn&&Ut!==Ft.parentNode||Ft.nextSibling!==fn)&&Ft!==fn&&(!Ft["s-hn"]&&Ft["s-ol"]&&(Ft["s-hn"]=Ft["s-ol"].parentNode.nodeName),Ut.insertBefore(Ft,fn))}else 1===Ft.nodeType&&(Ft.hidden=!0)}_e&&Vn(Ve.$elm$),le.$flags$&=-2,Tn.length=0})(ne,ve)}catch(mt){qr(mt,ne.$hostElement$)}return null},On=ne=>{const tt=ne.$hostElement$,Se=ne.$lazyInstance$,Ve=ne.$ancestorComponent$;an(Se,"componentDidRender"),64&ne.$flags$?an(Se,"componentDidUpdate"):(ne.$flags$|=64,Hi(tt),an(Se,"componentDidLoad"),ne.$onReadyResolve$(tt),Ve||un()),ne.$onInstanceResolve$(tt),ne.$onRenderResolve$&&(ne.$onRenderResolve$(),ne.$onRenderResolve$=void 0),512&ne.$flags$&&Si(()=>pt(ne,!1)),ne.$flags$&=-517},fr=ne=>{{const ve=nn(ne),tt=ve.$hostElement$.isConnected;return tt&&2==(18&ve.$flags$)&&pt(ve,!1),tt}},un=ne=>{Hi(ee.documentElement),Si(()=>Bt(pe,"appload",{detail:{namespace:"ionic"}}))},an=(ne,ve,tt)=>{if(ne&&ne[ve])try{return ne[ve](tt)}catch(mt){qr(mt)}},Cr=(ne,ve)=>ne&&ne.then?ne.then(ve):ve(),Hi=ne=>ne.classList.add("hydrated"),Xi=(ne,ve,tt,mt,Se,Ve,dt)=>{let Ft,xt,Ut,fn;if(1===Ve.nodeType){for(Ft=Ve.getAttribute("c-id"),Ft&&(xt=Ft.split("."),(xt[0]===dt||"0"===xt[0])&&(Ut={$flags$:0,$hostId$:xt[0],$nodeId$:xt[1],$depth$:xt[2],$index$:xt[3],$tag$:Ve.tagName.toLowerCase(),$elm$:Ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ve.push(Ut),Ve.removeAttribute("c-id"),ne.$children$||(ne.$children$=[]),ne.$children$[Ut.$index$]=Ut,ne=Ut,mt&&"0"===Ut.$depth$&&(mt[Ut.$index$]=Ut.$elm$))),fn=Ve.childNodes.length-1;fn>=0;fn--)Xi(ne,ve,tt,mt,Se,Ve.childNodes[fn],dt);if(Ve.shadowRoot)for(fn=Ve.shadowRoot.childNodes.length-1;fn>=0;fn--)Xi(ne,ve,tt,mt,Se,Ve.shadowRoot.childNodes[fn],dt)}else if(8===Ve.nodeType)xt=Ve.nodeValue.split("."),(xt[1]===dt||"0"===xt[1])&&(Ft=xt[0],Ut={$flags$:0,$hostId$:xt[1],$nodeId$:xt[2],$depth$:xt[3],$index$:xt[4],$elm$:Ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ft?(Ut.$elm$=Ve.nextSibling,Ut.$elm$&&3===Ut.$elm$.nodeType&&(Ut.$text$=Ut.$elm$.textContent,ve.push(Ut),Ve.remove(),ne.$children$||(ne.$children$=[]),ne.$children$[Ut.$index$]=Ut,mt&&"0"===Ut.$depth$&&(mt[Ut.$index$]=Ut.$elm$))):Ut.$hostId$===dt&&("s"===Ft?(Ut.$tag$="slot",Ve["s-sn"]=xt[5]?Ut.$name$=xt[5]:"",Ve["s-sr"]=!0,mt&&(Ut.$elm$=ee.createElement(Ut.$tag$),Ut.$name$&&Ut.$elm$.setAttribute("name",Ut.$name$),Ve.parentNode.insertBefore(Ut.$elm$,Ve),Ve.remove(),"0"===Ut.$depth$&&(mt[Ut.$index$]=Ut.$elm$)),tt.push(Ut),ne.$children$||(ne.$children$=[]),ne.$children$[Ut.$index$]=Ut):"r"===Ft&&(mt?Ve.remove():(Se["s-cr"]=Ve,Ve["s-cn"]=!0))));else if(ne&&"style"===ne.$tag$){const bn=hn(null,Ve.textContent);bn.$elm$=Ve,bn.$index$="0",ne.$children$=[bn]}},ki=(ne,ve)=>{if(1===ne.nodeType){let tt=0;for(;tt<ne.childNodes.length;tt++)ki(ne.childNodes[tt],ve);if(ne.shadowRoot)for(tt=0;tt<ne.shadowRoot.childNodes.length;tt++)ki(ne.shadowRoot.childNodes[tt],ve)}else if(8===ne.nodeType){const tt=ne.nodeValue.split(".");"o"===tt[0]&&(ve.set(tt[1]+"."+tt[2],ne),ne.nodeValue="",ne["s-en"]=tt[3])}},xr=(ne,ve,tt)=>{if(ve.$members$){ne.watchers&&(ve.$watchers$=ne.watchers);const mt=Object.entries(ve.$members$),Se=ne.prototype;if(mt.map(([Ve,[dt]])=>{31&dt||2&tt&&32&dt?Object.defineProperty(Se,Ve,{get(){return((ne,ve)=>nn(this).$instanceValues$.get(ve))(0,Ve)},set(Ft){((ne,ve,tt,mt)=>{const Se=nn(ne),Ve=Se.$hostElement$,dt=Se.$instanceValues$.get(ve),Ft=Se.$flags$,xt=Se.$lazyInstance$;tt=((ne,ve)=>null==ne||zt(ne)?ne:4&ve?"false"!==ne&&(""===ne||!!ne):2&ve?parseFloat(ne):1&ve?String(ne):ne)(tt,mt.$members$[ve][0]);const Ut=Number.isNaN(dt)&&Number.isNaN(tt);if((!(8&Ft)||void 0===dt)&&tt!==dt&&!Ut&&(Se.$instanceValues$.set(ve,tt),xt)){if(mt.$watchers$&&128&Ft){const bn=mt.$watchers$[ve];bn&&bn.map(Yn=>{try{xt[Yn](tt,dt,ve)}catch(nr){qr(nr,Ve)}})}2==(18&Ft)&&pt(Se,!1)}})(this,Ve,Ft,ve)},configurable:!0,enumerable:!0}):1&tt&&64&dt&&Object.defineProperty(Se,Ve,{value(...Ft){const xt=nn(this);return xt.$onInstancePromise$.then(()=>xt.$lazyInstance$[Ve](...Ft))}})}),1&tt){const Ve=new Map;Se.attributeChangedCallback=function(dt,Ft,xt){le.jmp(()=>{const Ut=Ve.get(dt);if(this.hasOwnProperty(Ut))xt=this[Ut],delete this[Ut];else if(Se.hasOwnProperty(Ut)&&"number"==typeof this[Ut]&&this[Ut]==xt)return;this[Ut]=(null!==xt||"boolean"!=typeof this[Ut])&&xt})},ne.observedAttributes=mt.filter(([dt,Ft])=>15&Ft[0]).map(([dt,Ft])=>{const xt=Ft[1]||dt;return Ve.set(xt,dt),512&Ft[0]&&ve.$attrsToReflect$.push([dt,xt]),xt})}}return ne},Ei=function(){var ne=(0,c.Z)(function*(ve,tt,mt,Se,Ve){if(0==(32&tt.$flags$)){{if(tt.$flags$|=32,(Ve=Ti(mt)).then){const Ut=()=>{};Ve=yield Ve,Ut()}Ve.isProxied||(mt.$watchers$=Ve.watchers,xr(Ve,mt,2),Ve.isProxied=!0);const xt=()=>{};tt.$flags$|=8;try{new Ve(tt)}catch(Ut){qr(Ut)}tt.$flags$&=-9,tt.$flags$|=128,xt(),Qi(tt.$lazyInstance$)}if(Ve.style){let xt=Ve.style;"string"!=typeof xt&&(xt=xt[tt.$modeName$=(ne=>tr.map(ve=>ve(ne)).find(ve=>!!ve))(ve)]);const Ut=q(mt,tt.$modeName$);if(!Mr.has(Ut)){const fn=()=>{};Ot(Ut,xt,!!(1&mt.$flags$)),fn()}}}const dt=tt.$ancestorComponent$,Ft=()=>pt(tt,!0);dt&&dt["s-rc"]?dt["s-rc"].push(Ft):Ft()});return function(tt,mt,Se,Ve,dt){return ne.apply(this,arguments)}}(),Qi=ne=>{an(ne,"connectedCallback")},rs=ne=>{const ve=ne["s-cr"]=ee.createComment("");ve["s-cn"]=!0,ne.insertBefore(ve,ne.firstChild)},Nr=(ne,ve={})=>{const mt=[],Se=ve.exclude||[],Ve=pe.customElements,dt=ee.head,Ft=dt.querySelector("meta[charset]"),xt=ee.createElement("style"),Ut=[],fn=ee.querySelectorAll(`[${nt}]`);let bn,Yn=!0,nr=0;for(Object.assign(le,ve),le.$resourcesUrl$=new URL(ve.resourcesUrl||"./",ee.baseURI).href,le.$flags$|=2;nr<fn.length;nr++)Ot(fn[nr].getAttribute(nt),Ce(fn[nr].innerHTML),!0);ne.map(di=>{di[1].map(Li=>{const ot={$flags$:Li[0],$tagName$:Li[1],$members$:Li[2],$listeners$:Li[3]};ot.$members$=Li[2],ot.$listeners$=Li[3],ot.$attrsToReflect$=[],ot.$watchers$={};const Xe=ot.$tagName$,Ct=class extends HTMLElement{constructor(Kt){super(Kt),ye(Kt=this,ot),1&ot.$flags$&&Kt.attachShadow({mode:"open",delegatesFocus:!!(16&ot.$flags$)})}connectedCallback(){bn&&(clearTimeout(bn),bn=null),Yn?Ut.push(this):le.jmp(()=>(ne=>{if(0==(1&le.$flags$)){const ve=nn(ne),tt=ve.$cmpMeta$,mt=()=>{};if(1&ve.$flags$)Le(ne,ve,tt.$listeners$),Qi(ve.$lazyInstance$);else{let Se;if(ve.$flags$|=1,Se=ne.getAttribute(Ee),Se){if(1&tt.$flags$){const Ve=ut(ne.shadowRoot,tt,ne.getAttribute("s-mode"));ne.classList.remove(Ve+"-h",Ve+"-s")}((ne,ve,tt,mt)=>{const Ve=ne.shadowRoot,dt=[],xt=Ve?[]:null,Ut=mt.$vnode$=hn(ve,null);le.$orgLocNodes$||ki(ee.body,le.$orgLocNodes$=new Map),ne[Ee]=tt,ne.removeAttribute(Ee),Xi(Ut,dt,[],xt,ne,ne,tt),dt.map(fn=>{const bn=fn.$hostId$+"."+fn.$nodeId$,Yn=le.$orgLocNodes$.get(bn),nr=fn.$elm$;Yn&&""===Yn["s-en"]&&Yn.parentNode.insertBefore(nr,Yn.nextSibling),Ve||(nr["s-hn"]=ve,Yn&&(nr["s-ol"]=Yn,nr["s-ol"]["s-nr"]=nr)),le.$orgLocNodes$.delete(bn)}),Ve&&xt.map(fn=>{fn&&Ve.appendChild(fn)})})(ne,tt.$tagName$,Se,ve)}Se||12&tt.$flags$&&rs(ne);{let Ve=ne;for(;Ve=Ve.parentNode||Ve.host;)if(1===Ve.nodeType&&Ve.hasAttribute("s-id")&&Ve["s-p"]||Ve["s-p"]){We(ve,ve.$ancestorComponent$=Ve);break}}tt.$members$&&Object.entries(tt.$members$).map(([Ve,[dt]])=>{if(31&dt&&ne.hasOwnProperty(Ve)){const Ft=ne[Ve];delete ne[Ve],ne[Ve]=Ft}}),Si(()=>Ei(ne,ve,tt))}mt()}})(this))}disconnectedCallback(){le.jmp(()=>(ne=>{if(0==(1&le.$flags$)){const ve=nn(this),tt=ve.$lazyInstance$;ve.$rmListeners$&&(ve.$rmListeners$.map(mt=>mt()),ve.$rmListeners$=void 0),an(tt,"disconnectedCallback")}})())}componentOnReady(){return nn(this).$onReadyPromise$}};ot.$lazyBundleId$=di[0],!Se.includes(Xe)&&!Ve.get(Xe)&&(mt.push(Xe),Ve.define(Xe,xr(Ct,ot,1)))})}),xt.innerHTML=mt+"{visibility:hidden}.hydrated{visibility:inherit}",xt.setAttribute("data-styles",""),dt.insertBefore(xt,Ft?Ft.nextSibling:dt.firstChild),Yn=!1,Ut.length?Ut.map(di=>di.connectedCallback()):le.jmp(()=>bn=setTimeout(un,30))},pr=ne=>{const ve=new URL(ne,le.$resourcesUrl$);return ve.origin!==pe.location.origin?ve.href:ve.pathname},Vr=new WeakMap,nn=ne=>Vr.get(ne),Cn=(ne,ve)=>Vr.set(ve.$lazyInstance$=ne,ve),ye=(ne,ve)=>{const tt={$flags$:0,$hostElement$:ne,$cmpMeta$:ve,$instanceValues$:new Map};return tt.$onInstancePromise$=new Promise(mt=>tt.$onInstanceResolve$=mt),tt.$onReadyPromise$=new Promise(mt=>tt.$onReadyResolve$=mt),ne["s-p"]=[],ne["s-rc"]=[],Le(ne,tt,ve.$listeners$),Vr.set(ne,tt)},Ur=(ne,ve)=>ve in ne,qr=(ne,ve)=>(0,console.error)(ne,ve),sr=new Map,Ti=(ne,ve,tt)=>{const mt=ne.$tagName$.replace(/-/g,"_"),Se=ne.$lazyBundleId$,Ve=sr.get(Se);return Ve?Ve[mt]:N(863)(`./${Se}.entry.js`).then(dt=>(sr.set(Se,dt),dt[mt]),qr)},Mr=new Map,tr=[],kr=[],Hn=[],Gr=(ne,ve)=>tt=>{ne.push(tt),Z||(Z=!0,ve&&4&le.$flags$?Si(Fi):le.raf(Fi))},ci=ne=>{for(let ve=0;ve<ne.length;ve++)try{ne[ve](performance.now())}catch(tt){qr(tt)}ne.length=0},Fi=()=>{ci(kr),ci(Hn),(Z=kr.length>0)&&le.raf(Fi)},Si=ne=>De().then(ne),zr=Gr(kr,!1),pi=Gr(Hn,!0),Dr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(Qt,lt,N)=>{"use strict";N.d(lt,{m:()=>pe});var c=N(5861),z=N(7593),W=N(3756),ke=N(6254),Te=N(9442);const te=ee=>(0,Te.c)().duration(ee?400:300),_e=ee=>{let le,Fe;const He=ee.width+8,De=(0,Te.c)(),Oe=(0,Te.c)();ee.isEndSide?(le=He+"px",Fe="0px"):(le=-He+"px",Fe="0px"),De.addElement(ee.menuInnerEl).fromTo("transform",`translateX(${le})`,`translateX(${Fe})`);const et="ios"===(0,ke.b)(ee),rt=et?.2:.25;return Oe.addElement(ee.backdropEl).fromTo("opacity",.01,rt),te(et).addAnimation([De,Oe])},re=ee=>{let le,Fe;const He=(0,ke.b)(ee),De=ee.width;ee.isEndSide?(le=-De+"px",Fe=De+"px"):(le=De+"px",Fe=-De+"px");const Oe=(0,Te.c)().addElement(ee.menuInnerEl).fromTo("transform",`translateX(${Fe})`,"translateX(0px)"),Le=(0,Te.c)().addElement(ee.contentEl).fromTo("transform","translateX(0px)",`translateX(${le})`),et=(0,Te.c)().addElement(ee.backdropEl).fromTo("opacity",.01,.32);return te("ios"===He).addAnimation([Oe,Le,et])},Ie=ee=>{const le=(0,ke.b)(ee),Fe=ee.width*(ee.isEndSide?-1:1)+"px",He=(0,Te.c)().addElement(ee.contentEl).fromTo("transform","translateX(0px)",`translateX(${Fe})`);return te("ios"===le).addAnimation(He)},pe=(()=>{const ee=new Map,le=[],Fe=function(){var ze=(0,c.Z)(function*(q){const Ce=yield Ye(q);return!!Ce&&Ce.open()});return function(Ce){return ze.apply(this,arguments)}}(),He=function(){var ze=(0,c.Z)(function*(q){const Ce=yield void 0!==q?Ye(q):yt();return void 0!==Ce&&Ce.close()});return function(Ce){return ze.apply(this,arguments)}}(),De=function(){var ze=(0,c.Z)(function*(q){const Ce=yield Ye(q);return!!Ce&&Ce.toggle()});return function(Ce){return ze.apply(this,arguments)}}(),Oe=function(){var ze=(0,c.Z)(function*(q,Ce){const Ze=yield Ye(Ce);return Ze&&(Ze.disabled=!q),Ze});return function(Ce,Ze){return ze.apply(this,arguments)}}(),Le=function(){var ze=(0,c.Z)(function*(q,Ce){const Ze=yield Ye(Ce);return Ze&&(Ze.swipeGesture=q),Ze});return function(Ce,Ze){return ze.apply(this,arguments)}}(),et=function(){var ze=(0,c.Z)(function*(q){if(null!=q){const Ce=yield Ye(q);return void 0!==Ce&&Ce.isOpen()}return void 0!==(yield yt())});return function(Ce){return ze.apply(this,arguments)}}(),rt=function(){var ze=(0,c.Z)(function*(q){const Ce=yield Ye(q);return!!Ce&&!Ce.disabled});return function(Ce){return ze.apply(this,arguments)}}(),Ye=function(){var ze=(0,c.Z)(function*(q){return yield ut(),"start"===q||"end"===q?Ot(Me=>Me.side===q&&!Me.disabled)||Ot(Me=>Me.side===q):null!=q?Ot(Ze=>Ze.menuId===q):Ot(Ze=>!Ze.disabled)||(le.length>0?le[0].el:void 0)});return function(Ce){return ze.apply(this,arguments)}}(),yt=function(){var ze=(0,c.Z)(function*(){return yield ut(),Be()});return function(){return ze.apply(this,arguments)}}(),Pt=function(){var ze=(0,c.Z)(function*(){return yield ut(),$e()});return function(){return ze.apply(this,arguments)}}(),gt=function(){var ze=(0,c.Z)(function*(){return yield ut(),Et()});return function(){return ze.apply(this,arguments)}}(),_t=(ze,q)=>{ee.set(ze,q)},we=ze=>{const q=ze.side;le.filter(Ce=>Ce.side===q&&Ce!==ze).forEach(Ce=>Ce.disabled=!0)},be=function(){var ze=(0,c.Z)(function*(q,Ce,Ze){if(Et())return!1;if(Ce){const Me=yield yt();Me&&q.el!==Me&&(yield Me.setOpen(!1,!1))}return q._setOpen(Ce,Ze)});return function(Ce,Ze,Me){return ze.apply(this,arguments)}}(),Be=()=>Ot(ze=>ze._isOpen),$e=()=>le.map(ze=>ze.el),Et=()=>le.some(ze=>ze.isAnimating),Ot=ze=>{const q=le.find(ze);if(void 0!==q)return q.el},ut=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ze=>new Promise(q=>(0,W.c)(ze,q))));return _t("reveal",Ie),_t("push",re),_t("overlay",_e),"undefined"!=typeof document&&document.addEventListener("ionBackButton",ze=>{const q=Be();q&&ze.detail.register(z.MENU_BACK_BUTTON_PRIORITY,()=>q.close())}),{registerAnimation:_t,get:Ye,getMenus:Pt,getOpen:yt,isEnabled:rt,swipeGesture:Le,isAnimating:gt,isOpen:et,enable:Oe,toggle:De,close:He,open:Fe,_getOpenSync:Be,_createAnimation:(ze,q)=>{const Ce=ee.get(ze);if(!Ce)throw new Error("animation not registered");return Ce(q)},_register:ze=>{le.indexOf(ze)<0&&(ze.disabled||we(ze),le.push(ze))},_unregister:ze=>{const q=le.indexOf(ze);q>-1&&le.splice(q,1)},_setOpen:be,_setActiveMenu:we}})()},6254:(Qt,lt,N)=>{"use strict";N.d(lt,{a:()=>pe,b:()=>Et,c:()=>W,g:()=>Z,i:()=>Ot});var c=N(2361);class z{constructor(){this.m=new Map}reset(ze){this.m=new Map(Object.entries(ze))}get(ze,q){const Ce=this.m.get(ze);return void 0!==Ce?Ce:q}getBoolean(ze,q=!1){const Ce=this.m.get(ze);return void 0===Ce?q:"string"==typeof Ce?"true"===Ce:!!Ce}getNumber(ze,q){const Ce=parseFloat(this.m.get(ze));return isNaN(Ce)?void 0!==q?q:NaN:Ce}set(ze,q){this.m.set(ze,q)}}const W=new z,Ie="ionic-persist-config",Z=ut=>ee(ut),pe=(ut,ze)=>("string"==typeof ut&&(ze=ut,ut=void 0),Z(ut).includes(ze)),ee=(ut=window)=>{if(void 0===ut)return[];ut.Ionic=ut.Ionic||{};let ze=ut.Ionic.platforms;return null==ze&&(ze=ut.Ionic.platforms=le(ut),ze.forEach(q=>ut.document.documentElement.classList.add(`plt-${q}`))),ze},le=ut=>{const ze=W.get("platform");return Object.keys(Be).filter(q=>{const Ce=null==ze?void 0:ze[q];return"function"==typeof Ce?Ce(ut):Be[q](ut)})},He=ut=>!!(be(ut,/iPad/i)||be(ut,/Macintosh/i)&&yt(ut)),Le=ut=>be(ut,/android|sink/i),yt=ut=>ge(ut,"(any-pointer:coarse)"),gt=ut=>_t(ut)||Ee(ut),_t=ut=>!!(ut.cordova||ut.phonegap||ut.PhoneGap),Ee=ut=>{const ze=ut.Capacitor;return!!(null==ze?void 0:ze.isNative)},be=(ut,ze)=>ze.test(ut.navigator.userAgent),ge=(ut,ze)=>{var q;return null===(q=ut.matchMedia)||void 0===q?void 0:q.call(ut,ze).matches},Be={ipad:He,iphone:ut=>be(ut,/iPhone/i),ios:ut=>be(ut,/iPhone|iPod/i)||He(ut),android:Le,phablet:ut=>{const ze=ut.innerWidth,q=ut.innerHeight,Ce=Math.min(ze,q),Ze=Math.max(ze,q);return Ce>390&&Ce<520&&Ze>620&&Ze<800},tablet:ut=>{const ze=ut.innerWidth,q=ut.innerHeight,Ce=Math.min(ze,q),Ze=Math.max(ze,q);return He(ut)||(ut=>Le(ut)&&!be(ut,/mobile/i))(ut)||Ce>460&&Ce<820&&Ze>780&&Ze<1400},cordova:_t,capacitor:Ee,electron:ut=>be(ut,/electron/i),pwa:ut=>{var ze;return!(!(null===(ze=ut.matchMedia)||void 0===ze?void 0:ze.call(ut,"(display-mode: standalone)").matches)&&!ut.navigator.standalone)},mobile:yt,mobileweb:ut=>yt(ut)&&!gt(ut),desktop:ut=>!yt(ut),hybrid:gt};let $e;const Et=ut=>ut&&(0,c.g)(ut)||$e,Ot=(ut={})=>{if("undefined"==typeof window)return;const ze=window.document,q=window,Ce=q.Ionic=q.Ionic||{},Ze={};ut._ael&&(Ze.ael=ut._ael),ut._rel&&(Ze.rel=ut._rel),ut._ce&&(Ze.ce=ut._ce),(0,c.s)(Ze);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ut=>{try{const ze=ut.sessionStorage.getItem(Ie);return null!==ze?JSON.parse(ze):{}}catch(ze){return{}}})(q)),{persistConfig:!1}),Ce.config),(ut=>{const ze={};return ut.location.search.slice(1).split("&").map(q=>q.split("=")).map(([q,Ce])=>[decodeURIComponent(q),decodeURIComponent(Ce)]).filter(([q])=>((ut,ze)=>ut.substr(0,ze.length)===ze)(q,"ionic:")).map(([q,Ce])=>[q.slice("ionic:".length),Ce]).forEach(([q,Ce])=>{ze[q]=Ce}),ze})(q)),ut);W.reset(Me),W.getBoolean("persistConfig")&&((ut,ze)=>{try{ut.sessionStorage.setItem(Ie,JSON.stringify(ze))}catch(q){return}})(q,Me),ee(q),Ce.config=W,Ce.mode=$e=W.get("mode",ze.documentElement.getAttribute("mode")||(pe(q,"ios")?"ios":"md")),W.set("mode",$e),ze.documentElement.setAttribute("mode",$e),ze.documentElement.classList.add($e),W.getBoolean("_testing")&&W.set("animated",!1);const st=ct=>{var ft;return null===(ft=ct.tagName)||void 0===ft?void 0:ft.startsWith("ION-")},Xt=ct=>["ios","md"].includes(ct);(0,c.a)(ct=>{for(;ct;){const ft=ct.mode||ct.getAttribute("mode");if(ft){if(Xt(ft))return ft;st(ct)&&console.warn('Invalid ionic mode: "'+ft+'", expected: "ios" or "md"')}ct=ct.parentElement}return $e})}},1815:(Qt,lt,N)=>{"use strict";N.r(lt),N.d(lt,{iosTransitionAnimation:()=>ee,shadow:()=>te});var c=N(9442),z=N(4318);N(2361);const Te=le=>document.querySelector(`${le}.ion-cloned-element`),te=le=>le.shadowRoot||le,_e=le=>{const Fe="ION-TABS"===le.tagName?le:le.querySelector("ion-tabs"),He="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Fe){const De=Fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=De?De.querySelector(He):null}return le.querySelector(He)},re=(le,Fe)=>{const He="ION-TABS"===le.tagName?le:le.querySelector("ion-tabs");let De=[];if(null!=He){const Oe=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Oe&&(De=Oe.querySelectorAll("ion-buttons"))}else De=le.querySelectorAll("ion-buttons");for(const Oe of De){const Le=Oe.closest("ion-header"),et=Le&&!Le.classList.contains("header-collapse-condense-inactive"),rt=Oe.querySelector("ion-back-button"),Ye=Oe.classList.contains("buttons-collapse"),yt="start"===Oe.slot||""===Oe.slot;if(null!==rt&&yt&&(Ye&&et&&Fe||!Ye))return rt}return null},Z=(le,Fe,He,De,Oe,Le)=>{const et=Fe?`calc(100% - ${Le.right+4}px)`:Le.left-4+"px",rt=Fe?"7px":"-7px",Ye=Fe?"-4px":"4px",yt=Fe?"-4px":"4px",Pt=Fe?"right":"left",gt=Fe?"left":"right",nt=He?[{offset:0,opacity:1,transform:`translate3d(${Ye}, ${Le.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${rt}, ${Oe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${rt}, ${Oe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ye}, ${Le.top-46}px, 0) scale(1)`}],ge=He?[{offset:0,opacity:1,transform:`translate3d(${yt}, ${Le.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${yt}, ${Le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${yt}, ${Le.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${yt}, ${Le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${yt}, ${Le.top-46}px, 0) scale(1)`}],Be=(0,c.c)(),$e=(0,c.c)(),Et=Te("ion-back-button"),Ot=te(Et).querySelector(".button-text"),ut=te(Et).querySelector("ion-icon");Et.text=De.text,Et.mode=De.mode,Et.icon=De.icon,Et.color=De.color,Et.disabled=De.disabled,Et.style.setProperty("display","block"),Et.style.setProperty("position","fixed"),$e.addElement(ut),Be.addElement(Ot),Be.beforeStyles({"transform-origin":`${Pt} center`}).beforeAddWrite(()=>{De.style.setProperty("display","none"),Et.style.setProperty(Pt,et)}).afterAddWrite(()=>{De.style.setProperty("display",""),Et.style.setProperty("display","none"),Et.style.removeProperty(Pt)}).keyframes(nt),$e.beforeStyles({"transform-origin":`${gt} center`}).keyframes(ge),le.addAnimation([Be,$e])},pe=(le,Fe,He,De,Oe,Le)=>{const et=Fe?`calc(100% - ${Oe.right}px)`:`${Oe.left}px`,rt=Fe?"-18px":"18px",Ye=Fe?"right":"left",gt=He?[{offset:0,opacity:0,transform:`translate3d(${rt}, ${Le.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Oe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Oe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${rt}, ${Le.top-4}px, 0) scale(0.5)`}],_t=Te("ion-title"),Ee=(0,c.c)();_t.innerText=De.innerText,_t.size=De.size,_t.color=De.color,Ee.addElement(_t),Ee.beforeStyles({"transform-origin":`${Ye} center`,height:"46px",display:"",position:"relative",[Ye]:et}).beforeAddWrite(()=>{De.style.setProperty("display","none")}).afterAddWrite(()=>{De.style.setProperty("display",""),_t.style.setProperty("display","none")}).keyframes(gt),le.addAnimation(Ee)},ee=(le,Fe)=>{try{const He="cubic-bezier(0.32,0.72,0,1)",De="opacity",Oe="transform",Le="0%",rt="rtl"===le.ownerDocument.dir,Ye=rt?"-99.5%":"99.5%",yt=rt?"33%":"-33%",Pt=Fe.enteringEl,gt=Fe.leavingEl,_t="back"===Fe.direction,Ee=Pt.querySelector(":scope > ion-content"),nt=Pt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),we=Pt.querySelectorAll(":scope > ion-header > ion-toolbar"),be=(0,c.c)(),ge=(0,c.c)();if(be.addElement(Pt).duration(Fe.duration||540).easing(Fe.easing||He).fill("both").beforeRemoveClass("ion-page-invisible"),gt&&le){const Ot=(0,c.c)();Ot.addElement(le),be.addAnimation(Ot)}if(Ee||0!==we.length||0!==nt.length?(ge.addElement(Ee),ge.addElement(nt)):ge.addElement(Pt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),be.addAnimation(ge),_t?ge.beforeClearStyles([De]).fromTo("transform",`translateX(${yt})`,`translateX(${Le})`).fromTo(De,.8,1):ge.beforeClearStyles([De]).fromTo("transform",`translateX(${Ye})`,`translateX(${Le})`),Ee){const Ot=te(Ee).querySelector(".transition-effect");if(Ot){const ut=Ot.querySelector(".transition-cover"),ze=Ot.querySelector(".transition-shadow"),q=(0,c.c)(),Ce=(0,c.c)(),Ze=(0,c.c)();q.addElement(Ot).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ce.addElement(ut).beforeClearStyles([De]).fromTo(De,0,.1),Ze.addElement(ze).beforeClearStyles([De]).fromTo(De,.03,.7),q.addAnimation([Ce,Ze]),ge.addAnimation([q])}}const Be=Pt.querySelector("ion-header.header-collapse-condense"),{forward:$e,backward:Et}=((le,Fe,He,De,Oe)=>{const Le=re(De,He),et=_e(Oe),rt=_e(De),Ye=re(Oe,He),yt=null!==Le&&null!==et&&!He,Pt=null!==rt&&null!==Ye&&He;if(yt){const gt=et.getBoundingClientRect(),_t=Le.getBoundingClientRect();pe(le,Fe,He,et,gt,_t),Z(le,Fe,He,Le,gt,_t)}else if(Pt){const gt=rt.getBoundingClientRect(),_t=Ye.getBoundingClientRect();pe(le,Fe,He,rt,gt,_t),Z(le,Fe,He,Ye,gt,_t)}return{forward:yt,backward:Pt}})(be,rt,_t,Pt,gt);if(we.forEach(Ot=>{const ut=(0,c.c)();ut.addElement(Ot),be.addAnimation(ut);const ze=(0,c.c)();ze.addElement(Ot.querySelector("ion-title"));const q=(0,c.c)(),Ce=Array.from(Ot.querySelectorAll("ion-buttons,[menuToggle]")),Ze=Ot.closest("ion-header"),Me=null==Ze?void 0:Ze.classList.contains("header-collapse-condense-inactive");let st;st=Ce.filter(_t?zt=>{const Jt=zt.classList.contains("buttons-collapse");return Jt&&!Me||!Jt}:zt=>!zt.classList.contains("buttons-collapse")),q.addElement(st);const Xt=(0,c.c)();Xt.addElement(Ot.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ct=(0,c.c)();ct.addElement(te(Ot).querySelector(".toolbar-background"));const ft=(0,c.c)(),Nt=Ot.querySelector("ion-back-button");if(Nt&&ft.addElement(Nt),ut.addAnimation([ze,q,Xt,ct,ft]),q.fromTo(De,.01,1),Xt.fromTo(De,.01,1),_t)Me||ze.fromTo("transform",`translateX(${yt})`,`translateX(${Le})`).fromTo(De,.01,1),Xt.fromTo("transform",`translateX(${yt})`,`translateX(${Le})`),ft.fromTo(De,.01,1);else if(Be||ze.fromTo("transform",`translateX(${Ye})`,`translateX(${Le})`).fromTo(De,.01,1),Xt.fromTo("transform",`translateX(${Ye})`,`translateX(${Le})`),ct.beforeClearStyles([De,"transform"]),(null==Ze?void 0:Ze.translucent)?ct.fromTo("transform",rt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ct.fromTo(De,.01,"var(--opacity)"),$e||ft.fromTo(De,.01,1),Nt&&!$e){const Jt=(0,c.c)();Jt.addElement(te(Nt).querySelector(".button-text")).fromTo("transform",rt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ut.addAnimation(Jt)}}),gt){const Ot=(0,c.c)(),ut=gt.querySelector(":scope > ion-content"),ze=gt.querySelectorAll(":scope > ion-header > ion-toolbar"),q=gt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ut||0!==ze.length||0!==q.length?(Ot.addElement(ut),Ot.addElement(q)):Ot.addElement(gt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),be.addAnimation(Ot),_t){Ot.beforeClearStyles([De]).fromTo("transform",`translateX(${Le})`,rt?"translateX(-100%)":"translateX(100%)");const Ce=(0,z.g)(gt);be.afterAddWrite(()=>{"normal"===be.getDirection()&&Ce.style.setProperty("display","none")})}else Ot.fromTo("transform",`translateX(${Le})`,`translateX(${yt})`).fromTo(De,1,.8);if(ut){const Ce=te(ut).querySelector(".transition-effect");if(Ce){const Ze=Ce.querySelector(".transition-cover"),Me=Ce.querySelector(".transition-shadow"),st=(0,c.c)(),Xt=(0,c.c)(),ct=(0,c.c)();st.addElement(Ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Xt.addElement(Ze).beforeClearStyles([De]).fromTo(De,.1,0),ct.addElement(Me).beforeClearStyles([De]).fromTo(De,.7,.03),st.addAnimation([Xt,ct]),Ot.addAnimation([st])}}ze.forEach(Ce=>{const Ze=(0,c.c)();Ze.addElement(Ce);const Me=(0,c.c)();Me.addElement(Ce.querySelector("ion-title"));const st=(0,c.c)(),Xt=Ce.querySelectorAll("ion-buttons,[menuToggle]"),ct=Ce.closest("ion-header"),ft=null==ct?void 0:ct.classList.contains("header-collapse-condense-inactive"),Nt=Array.from(Xt).filter(er=>{const Zn=er.classList.contains("buttons-collapse");return Zn&&!ft||!Zn});st.addElement(Nt);const zt=(0,c.c)(),Jt=Ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Jt.length>0&&zt.addElement(Jt);const hn=(0,c.c)();hn.addElement(te(Ce).querySelector(".toolbar-background"));const Fn=(0,c.c)(),Bn=Ce.querySelector("ion-back-button");if(Bn&&Fn.addElement(Bn),Ze.addAnimation([Me,st,zt,Fn,hn]),be.addAnimation(Ze),Fn.fromTo(De,.99,0),st.fromTo(De,.99,0),zt.fromTo(De,.99,0),_t){if(ft||Me.fromTo("transform",`translateX(${Le})`,rt?"translateX(-100%)":"translateX(100%)").fromTo(De,.99,0),zt.fromTo("transform",`translateX(${Le})`,rt?"translateX(-100%)":"translateX(100%)"),hn.beforeClearStyles([De,"transform"]),(null==ct?void 0:ct.translucent)?hn.fromTo("transform","translateX(0px)",rt?"translateX(-100%)":"translateX(100%)"):hn.fromTo(De,"var(--opacity)",0),Bn&&!Et){const Zn=(0,c.c)();Zn.addElement(te(Bn).querySelector(".button-text")).fromTo("transform",`translateX(${Le})`,`translateX(${(rt?-124:124)+"px"})`),Ze.addAnimation(Zn)}}else ft||Me.fromTo("transform",`translateX(${Le})`,`translateX(${yt})`).fromTo(De,.99,0).afterClearStyles([Oe,De]),zt.fromTo("transform",`translateX(${Le})`,`translateX(${yt})`).afterClearStyles([Oe,De]),Fn.afterClearStyles([De]),Me.afterClearStyles([De]),st.afterClearStyles([De])})}return be}catch(He){throw He}}},6447:(Qt,lt,N)=>{"use strict";N.r(lt),N.d(lt,{mdTransitionAnimation:()=>ke});var c=N(9442),z=N(4318);N(2361);const ke=(Te,te)=>{const Ie="back"===te.direction,pe=te.leavingEl,ee=(0,z.g)(te.enteringEl),le=ee.querySelector("ion-toolbar"),Fe=(0,c.c)();if(Fe.addElement(ee).fill("both").beforeRemoveClass("ion-page-invisible"),Ie?Fe.duration(te.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Fe.duration(te.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),le){const He=(0,c.c)();He.addElement(le),Fe.addAnimation(He)}if(pe&&Ie){Fe.duration(te.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const He=(0,c.c)();He.addElement((0,z.g)(pe)).onFinish(De=>{1===De&&He.elements.length>0&&He.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Fe.addAnimation(He)}return Fe}},599:(Qt,lt,N)=>{"use strict";N.d(lt,{B:()=>Ce,a:()=>re,b:()=>Ie,c:()=>le,d:()=>we,e:()=>He,f:()=>ge,g:()=>Et,h:()=>te,i:()=>ut,j:()=>et,k:()=>Ee,l:()=>Z,m:()=>pe,s:()=>q,t:()=>Fe});var c=N(5861),z=N(6254),W=N(7593),ke=N(3756);let Te=0;const te=new WeakMap,_e=Ze=>({create:Me=>De(Ze,Me),dismiss:(Me,st,Xt)=>gt(document,Me,st,Ze,Xt),getTop:()=>(0,c.Z)(function*(){return Ee(document,Ze)})()}),re=_e("ion-alert"),Ie=_e("ion-action-sheet"),Z=_e("ion-loading"),pe=_e("ion-modal"),le=_e("ion-popover"),Fe=_e("ion-toast"),He=Ze=>{"undefined"!=typeof document&&Pt(document);const Me=Te++;Ze.overlayIndex=Me,Ze.hasAttribute("id")||(Ze.id=`ion-overlay-${Me}`)},De=(Ze,Me)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Ze).then(()=>{const st=document.createElement(Ze);return st.classList.add("overlay-hidden"),Object.assign(st,Object.assign(Object.assign({},Me),{hasController:!0})),Be(document).appendChild(st),new Promise(Xt=>(0,ke.c)(st,Xt))}):Promise.resolve(),Oe='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Le="input:not([type=hidden]), textarea, button, select",et=(Ze,Me)=>{let st=Ze.querySelector(Oe);const Xt=null==st?void 0:st.shadowRoot;Xt&&(st=Xt.querySelector(Le)||st),st?(0,ke.f)(st):Me.focus()},Ye=(Ze,Me)=>{const st=Array.from(Ze.querySelectorAll(Oe));let Xt=st.length>0?st[st.length-1]:null;const ct=null==Xt?void 0:Xt.shadowRoot;ct&&(Xt=ct.querySelector(Le)||Xt),Xt?Xt.focus():Me.focus()},Pt=Ze=>{0===Te&&(Te=1,Ze.addEventListener("focus",Me=>{((Ze,Me)=>{const st=Ee(Me,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Xt=Ze.target;st&&Xt&&!st.classList.contains("ion-disable-focus-trap")&&(st.shadowRoot?(()=>{if(st.contains(Xt))st.lastFocus=Xt;else{const Nt=st.lastFocus;et(st,st),Nt===Me.activeElement&&Ye(st,st),st.lastFocus=Me.activeElement}})():(()=>{if(st===Xt)st.lastFocus=void 0;else{const Nt=(0,ke.g)(st);if(!Nt.contains(Xt))return;const zt=Nt.querySelector(".ion-overlay-wrapper");if(!zt)return;if(zt.contains(Xt))st.lastFocus=Xt;else{const Jt=st.lastFocus;et(zt,st),Jt===Me.activeElement&&Ye(zt,st),st.lastFocus=Me.activeElement}}})())})(Me,Ze)},!0),Ze.addEventListener("ionBackButton",Me=>{const st=Ee(Ze);(null==st?void 0:st.backdropDismiss)&&Me.detail.register(W.OVERLAY_BACK_BUTTON_PRIORITY,()=>st.dismiss(void 0,Ce))}),Ze.addEventListener("keyup",Me=>{if("Escape"===Me.key){const st=Ee(Ze);(null==st?void 0:st.backdropDismiss)&&st.dismiss(void 0,Ce)}}))},gt=(Ze,Me,st,Xt,ct)=>{const ft=Ee(Ze,Xt,ct);return ft?ft.dismiss(Me,st):Promise.reject("overlay does not exist")},Ee=(Ze,Me,st)=>{const Xt=((Ze,Me)=>(void 0===Me&&(Me="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ze.querySelectorAll(Me)).filter(st=>st.overlayIndex>0)))(Ze,Me).filter(ct=>!(Ze=>Ze.classList.contains("overlay-hidden"))(ct));return void 0===st?Xt[Xt.length-1]:Xt.find(ct=>ct.id===st)},nt=(Ze=!1)=>{const st=Be(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!st||(Ze?st.setAttribute("aria-hidden","true"):st.removeAttribute("aria-hidden"))},we=function(){var Ze=(0,c.Z)(function*(Me,st,Xt,ct,ft){var Nt,zt;if(Me.presented)return;nt(!0),Me.presented=!0,Me.willPresent.emit(),null===(Nt=Me.willPresentShorthand)||void 0===Nt||Nt.emit();const Jt=(0,z.b)(Me),hn=Me.enterAnimation?Me.enterAnimation:z.c.get(st,"ios"===Jt?Xt:ct);(yield $e(Me,hn,Me.el,ft))&&(Me.didPresent.emit(),null===(zt=Me.didPresentShorthand)||void 0===zt||zt.emit()),"ION-TOAST"!==Me.el.tagName&&be(Me.el),Me.keyboardClose&&Me.el.focus()});return function(st,Xt,ct,ft,Nt){return Ze.apply(this,arguments)}}(),be=function(){var Ze=(0,c.Z)(function*(Me){let st=document.activeElement;if(!st)return;const Xt=null==st?void 0:st.shadowRoot;Xt&&(st=Xt.querySelector(Le)||st),yield Me.onDidDismiss(),st.focus()});return function(st){return Ze.apply(this,arguments)}}(),ge=function(){var Ze=(0,c.Z)(function*(Me,st,Xt,ct,ft,Nt,zt){var Jt,hn;if(!Me.presented)return!1;nt(!1),Me.presented=!1;try{Me.el.style.setProperty("pointer-events","none"),Me.willDismiss.emit({data:st,role:Xt}),null===(Jt=Me.willDismissShorthand)||void 0===Jt||Jt.emit({data:st,role:Xt});const Fn=(0,z.b)(Me),Bn=Me.leaveAnimation?Me.leaveAnimation:z.c.get(ct,"ios"===Fn?ft:Nt);"gesture"!==Xt&&(yield $e(Me,Bn,Me.el,zt)),Me.didDismiss.emit({data:st,role:Xt}),null===(hn=Me.didDismissShorthand)||void 0===hn||hn.emit({data:st,role:Xt}),te.delete(Me),Me.el.classList.add("overlay-hidden"),Me.el.style.removeProperty("pointer-events")}catch(Fn){console.error(Fn)}return Me.el.remove(),!0});return function(st,Xt,ct,ft,Nt,zt,Jt){return Ze.apply(this,arguments)}}(),Be=Ze=>Ze.querySelector("ion-app")||Ze.body,$e=function(){var Ze=(0,c.Z)(function*(Me,st,Xt,ct){Xt.classList.remove("overlay-hidden");const Nt=st(Me.el,ct);(!Me.animated||!z.c.getBoolean("animated",!0))&&Nt.duration(0),Me.keyboardClose&&Nt.beforeAddWrite(()=>{const Jt=Xt.ownerDocument.activeElement;(null==Jt?void 0:Jt.matches("input,ion-input, ion-textarea"))&&Jt.blur()});const zt=te.get(Me)||[];return te.set(Me,[...zt,Nt]),yield Nt.play(),!0});return function(st,Xt,ct,ft){return Ze.apply(this,arguments)}}(),Et=(Ze,Me)=>{let st;const Xt=new Promise(ct=>st=ct);return Ot(Ze,Me,ct=>{st(ct.detail)}),Xt},Ot=(Ze,Me,st)=>{const Xt=ct=>{(0,ke.b)(Ze,Me,Xt),st(ct)};(0,ke.a)(Ze,Me,Xt)},ut=Ze=>"cancel"===Ze||Ze===Ce,ze=Ze=>Ze(),q=(Ze,Me)=>{if("function"==typeof Ze)return z.c.get("_zoneGate",ze)(()=>{try{return Ze(Me)}catch(Xt){throw Xt}})},Ce="backdrop"},1328:(Qt,lt,N)=>{"use strict";N.d(lt,{u:()=>_e});var c=N(655),z=N(5e3),W=N(4524),ke=N(4433),Te=N(7451),te=N(8599);let _e=(()=>{class re{constructor(Z,pe,ee,le,Fe,He){this.afStore=Z,this.toast=pe,this.ngFireAuth=ee,this.navCtrl=le,this.router=Fe,this.ngZone=He,this.user={},this.ngFireAuth.authState.subscribe(De=>(0,c.mG)(this,void 0,void 0,function*(){if(De){this.userData=De;const Oe=yield De.getIdToken();localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("token",Oe)}else localStorage.removeItem("user"),localStorage.removeItem("token")}))}SendVerificationMail(){return(0,c.mG)(this,void 0,void 0,function*(){const Z=yield this.ngFireAuth.currentUser;Z&&(yield Z.sendEmailVerification(),this.router.navigate(["verify-email"]))})}get isEmailVerified(){const Z=JSON.parse(localStorage.getItem("user")||"null");return!!(null==Z?void 0:Z.emailVerified)}SetUserData(Z){return this.afStore.doc(`users/${Z.uid}`).set({uid:Z.uid,email:Z.email,displayName:Z.displayName,photoURL:Z.photoURL,emailVerified:Z.emailVerified},{merge:!0})}SignOut(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.ngFireAuth.signOut(),localStorage.removeItem("user"),localStorage.removeItem("token"),sessionStorage.clear(),this.ngZone.run(()=>{this.router.navigate(["/login"])}),this.showToaster("You are logged out")}catch(Z){console.error("Sign out error:",Z),this.showToaster("Error during logout")}})}showToaster(Z){this.toast.create({message:Z,color:"danger",duration:4e3}).then(pe=>pe.present())}Logout(){localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])}get isLoggedIn(){const Z=JSON.parse(localStorage.getItem("user")||"null");return null!==Z&&!0===Z.emailVerified&&!!localStorage.getItem("token")}}return re.\u0275fac=function(Z){return new(Z||re)(z.LFG(W.ST),z.LFG(ke.yF),z.LFG(Te.zQ),z.LFG(ke.SH),z.LFG(te.F0),z.LFG(z.R0b))},re.\u0275prov=z.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},7160:(Qt,lt,N)=>{"use strict";var c=N(9808),z=N(5e3);class W extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ke extends W{static makeCurrent(){(0,c.HT)(new ke)}onAndCancel(s,a,f){return s.addEventListener(a,f,!1),()=>{s.removeEventListener(a,f,!1)}}dispatchEvent(s,a){s.dispatchEvent(a)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,a){return(a=a||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,a){return"window"===a?window:"document"===a?s:"body"===a?s.body:null}getBaseHref(s){const a=function te(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==a?null:function re(u){_e=_e||document.createElement("a"),_e.setAttribute("href",u);const s=_e.pathname;return"/"===s.charAt(0)?s:`/${s}`}(a)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return(0,c.Mx)(document.cookie,s)}}let _e,Te=null;const Ie=new z.OlP("TRANSITION_ID"),pe=[{provide:z.ip1,useFactory:function Z(u,s,a){return()=>{a.get(z.CZH).donePromise.then(()=>{const f=(0,c.q)(),v=s.querySelectorAll(`style[ng-transition="${u}"]`);for(let D=0;D<v.length;D++)f.remove(v[D])})}},deps:[Ie,c.K0,z.zs3],multi:!0}];class ee{static init(){(0,z.VLi)(new ee)}addToWindow(s){z.dqk.getAngularTestability=(f,v=!0)=>{const D=s.findTestabilityInTree(f,v);if(null==D)throw new Error("Could not find testability for element.");return D},z.dqk.getAllAngularTestabilities=()=>s.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>s.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(f=>{const v=z.dqk.getAllAngularTestabilities();let D=v.length,M=!1;const J=function(ce){M=M||ce,D--,0==D&&f(M)};v.forEach(function(ce){ce.whenStable(J)})})}findTestabilityInTree(s,a,f){if(null==a)return null;const v=s.getTestability(a);return null!=v?v:f?(0,c.q)().isShadowRoot(a)?this.findTestabilityInTree(s,a.host,!0):this.findTestabilityInTree(s,a.parentElement,!0):null}}let le=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})();const Fe=new z.OlP("EventManagerPlugins");let He=(()=>{class u{constructor(a,f){this._zone=f,this._eventNameToPlugin=new Map,a.forEach(v=>v.manager=this),this._plugins=a.slice().reverse()}addEventListener(a,f,v){return this._findPluginFor(f).addEventListener(a,f,v)}addGlobalEventListener(a,f,v){return this._findPluginFor(f).addGlobalEventListener(a,f,v)}getZone(){return this._zone}_findPluginFor(a){const f=this._eventNameToPlugin.get(a);if(f)return f;const v=this._plugins;for(let D=0;D<v.length;D++){const M=v[D];if(M.supports(a))return this._eventNameToPlugin.set(a,M),M}throw new Error(`No event manager plugin found for event ${a}`)}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(Fe),z.LFG(z.R0b))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})();class De{constructor(s){this._doc=s}addGlobalEventListener(s,a,f){const v=(0,c.q)().getGlobalEventTarget(this._doc,s);if(!v)throw new Error(`Unsupported event target ${v} for event ${a}`);return this.addEventListener(v,a,f)}}let Oe=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(a){const f=new Set;a.forEach(v=>{this._stylesSet.has(v)||(this._stylesSet.add(v),f.add(v))}),this.onStylesAdded(f)}onStylesAdded(a){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})(),Le=(()=>{class u extends Oe{constructor(a){super(),this._doc=a,this._hostNodes=new Map,this._hostNodes.set(a.head,[])}_addStylesToHost(a,f,v){a.forEach(D=>{const M=this._doc.createElement("style");M.textContent=D,v.push(f.appendChild(M))})}addHost(a){const f=[];this._addStylesToHost(this._stylesSet,a,f),this._hostNodes.set(a,f)}removeHost(a){const f=this._hostNodes.get(a);f&&f.forEach(et),this._hostNodes.delete(a)}onStylesAdded(a){this._hostNodes.forEach((f,v)=>{this._addStylesToHost(a,v,f)})}ngOnDestroy(){this._hostNodes.forEach(a=>a.forEach(et))}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(c.K0))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})();function et(u){(0,c.q)().remove(u)}const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g;function we(u,s,a){for(let f=0;f<s.length;f++){let v=s[f];Array.isArray(v)?we(u,v,a):(v=v.replace(Ye,u),a.push(v))}return a}function be(u){return s=>{if("__ngUnwrap__"===s)return u;!1===u(s)&&(s.preventDefault(),s.returnValue=!1)}}let Be=(()=>{class u{constructor(a,f,v){this.eventManager=a,this.sharedStylesHost=f,this.appId=v,this.rendererByCompId=new Map,this.defaultRenderer=new $e(a)}createRenderer(a,f){if(!a||!f)return this.defaultRenderer;switch(f.encapsulation){case z.ifc.Emulated:{let v=this.rendererByCompId.get(f.id);return v||(v=new ut(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,v)),v.applyToHost(a),v}case 1:case z.ifc.ShadowDom:return new ze(this.eventManager,this.sharedStylesHost,a,f);default:if(!this.rendererByCompId.has(f.id)){const v=we(f.id,f.styles,[]);this.sharedStylesHost.addStyles(v),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(He),z.LFG(Le),z.LFG(z.AFp))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})();class $e{constructor(s){this.eventManager=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(s,a){return a?document.createElementNS(rt[a]||a,s):document.createElement(s)}createComment(s){return document.createComment(s)}createText(s){return document.createTextNode(s)}appendChild(s,a){s.appendChild(a)}insertBefore(s,a,f){s&&s.insertBefore(a,f)}removeChild(s,a){s&&s.removeChild(a)}selectRootElement(s,a){let f="string"==typeof s?document.querySelector(s):s;if(!f)throw new Error(`The selector "${s}" did not match any elements`);return a||(f.textContent=""),f}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,a,f,v){if(v){a=v+":"+a;const D=rt[v];D?s.setAttributeNS(D,a,f):s.setAttribute(a,f)}else s.setAttribute(a,f)}removeAttribute(s,a,f){if(f){const v=rt[f];v?s.removeAttributeNS(v,a):s.removeAttribute(`${f}:${a}`)}else s.removeAttribute(a)}addClass(s,a){s.classList.add(a)}removeClass(s,a){s.classList.remove(a)}setStyle(s,a,f,v){v&(z.JOm.DashCase|z.JOm.Important)?s.style.setProperty(a,f,v&z.JOm.Important?"important":""):s.style[a]=f}removeStyle(s,a,f){f&z.JOm.DashCase?s.style.removeProperty(a):s.style[a]=""}setProperty(s,a,f){s[a]=f}setValue(s,a){s.nodeValue=a}listen(s,a,f){return"string"==typeof s?this.eventManager.addGlobalEventListener(s,a,be(f)):this.eventManager.addEventListener(s,a,be(f))}}class ut extends $e{constructor(s,a,f,v){super(s),this.component=f;const D=we(v+"-"+f.id,f.styles,[]);a.addStyles(D),this.contentAttr=function Ee(u){return"_ngcontent-%COMP%".replace(Ye,u)}(v+"-"+f.id),this.hostAttr=function nt(u){return"_nghost-%COMP%".replace(Ye,u)}(v+"-"+f.id)}applyToHost(s){super.setAttribute(s,this.hostAttr,"")}createElement(s,a){const f=super.createElement(s,a);return super.setAttribute(f,this.contentAttr,""),f}}class ze extends $e{constructor(s,a,f,v){super(s),this.sharedStylesHost=a,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=we(v.id,v.styles,[]);for(let M=0;M<D.length;M++){const J=document.createElement("style");J.textContent=D[M],this.shadowRoot.appendChild(J)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(s,a){return super.appendChild(this.nodeOrShadowRoot(s),a)}insertBefore(s,a,f){return super.insertBefore(this.nodeOrShadowRoot(s),a,f)}removeChild(s,a){return super.removeChild(this.nodeOrShadowRoot(s),a)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}}let q=(()=>{class u extends De{constructor(a){super(a)}supports(a){return!0}addEventListener(a,f,v){return a.addEventListener(f,v,!1),()=>this.removeEventListener(a,f,v)}removeEventListener(a,f,v){return a.removeEventListener(f,v)}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(c.K0))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})();const Ce=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xt={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let ct=(()=>{class u extends De{constructor(a){super(a)}supports(a){return null!=u.parseEventName(a)}addEventListener(a,f,v){const D=u.parseEventName(f),M=u.eventCallback(D.fullKey,v,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(a,D.domEventName,M))}static parseEventName(a){const f=a.toLowerCase().split("."),v=f.shift();if(0===f.length||"keydown"!==v&&"keyup"!==v)return null;const D=u._normalizeKey(f.pop());let M="";if(Ce.forEach(ce=>{const Pe=f.indexOf(ce);Pe>-1&&(f.splice(Pe,1),M+=ce+".")}),M+=D,0!=f.length||0===D.length)return null;const J={};return J.domEventName=v,J.fullKey=M,J}static getEventFullKey(a){let f="",v=function ft(u){let s=u.key;if(null==s){if(s=u.keyIdentifier,null==s)return"Unidentified";s.startsWith("U+")&&(s=String.fromCharCode(parseInt(s.substring(2),16)),3===u.location&&st.hasOwnProperty(s)&&(s=st[s]))}return Me[s]||s}(a);return v=v.toLowerCase()," "===v?v="space":"."===v&&(v="dot"),Ce.forEach(D=>{D!=v&&Xt[D](a)&&(f+=D+".")}),f+=v,f}static eventCallback(a,f,v){return D=>{u.getEventFullKey(D)===a&&v.runGuarded(()=>f(D))}}static _normalizeKey(a){return"esc"===a?"escape":a}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(c.K0))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac}),u})();const Fn=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:c.bD},{provide:z.g9A,useValue:function Nt(){ke.makeCurrent(),ee.init()},multi:!0},{provide:c.K0,useFactory:function Jt(){return(0,z.RDi)(document),document},deps:[]}]),Bn=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function zt(){return new z.qLn},deps:[]},{provide:Fe,useClass:q,multi:!0,deps:[c.K0,z.R0b,z.Lbi]},{provide:Fe,useClass:ct,multi:!0,deps:[c.K0]},{provide:Be,useClass:Be,deps:[He,Le,z.AFp]},{provide:z.FYo,useExisting:Be},{provide:Oe,useExisting:Le},{provide:Le,useClass:Le,deps:[c.K0]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b]},{provide:He,useClass:He,deps:[Fe,z.R0b]},{provide:c.JF,useClass:le,deps:[]}];let er=(()=>{class u{constructor(a){if(a)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(a){return{ngModule:u,providers:[{provide:z.AFp,useValue:a.appId},{provide:Ie,useExisting:z.AFp},pe]}}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(u,12))},u.\u0275mod=z.oAB({type:u}),u.\u0275inj=z.cJS({providers:Bn,imports:[c.ez,z.hGG]}),u})();"undefined"!=typeof window&&window;var ri=N(2011),Xi=N(8599),ki=N(2916),Hr=N(1086),vi=N(5254),fi=N(3489),xr=N(353);class Qi{constructor(s,a){this.dueTime=s,this.scheduler=a}call(s,a){return a.subscribe(new Ji(s,this.dueTime,this.scheduler))}}class Ji extends fi.L{constructor(s,a,f){super(s),this.dueTime=a,this.scheduler=f,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(s){this.clearDebounce(),this.lastValue=s,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(rs,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:s}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(s)}}clearDebounce(){const s=this.debouncedSubscription;null!==s&&(this.remove(s),s.unsubscribe(),this.debouncedSubscription=null)}}function rs(u){u.debouncedNext()}var Br=N(4850),Nr=N(7545),pr=N(6351),Vr=N(3942),nn=N(5861),Cn=N(9681),ye=N(2090),Ur=N(4859);const qr="firebasestorage.googleapis.com",sr="storageBucket";class tr extends ye.ZR{constructor(s,a){super(kr(s),`Firebase Storage: ${a} (${kr(s)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}_codeEquals(s){return kr(s)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(s){this.customData.serverResponse=s,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function kr(u){return"storage/"+u}function Hn(){return new tr("unknown","An unknown error occurred, please check the error payload for server response.")}function Dr(){return new tr("canceled","User canceled the upload/download.")}function mt(){return new tr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dt(u){return new tr("invalid-argument",u)}function Ft(){return new tr("app-deleted","The Firebase app was deleted.")}function xt(u){return new tr("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ut(u,s){return new tr("invalid-format","String does not match format '"+u+"': "+s)}function fn(u){throw new tr("internal-error","Internal error: "+u)}class bn{constructor(s,a){this.bucket=s,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const s=encodeURIComponent;return"/b/"+s(this.bucket)+"/o/"+s(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(s,a){let f;try{f=bn.makeFromUrl(s,a)}catch(v){return new bn(s,"")}if(""===f.path)return f;throw function ve(u){return new tr("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(s)}static makeFromUrl(s,a){let f=null;const v="([A-Za-z0-9.\\-_]+)",J=new RegExp("^gs://"+v+"(/(.*))?$","i");function Pe(no){no.path_=decodeURIComponent(no.path)}const It=a.replace(/[.]/g,"\\."),cs=[{regex:J,indices:{bucket:1,path:3},postModify:function D(no){"/"===no.path.charAt(no.path.length-1)&&(no.path_=no.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${It}/v[A-Za-z0-9_]+/b/${v}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Pe},{regex:new RegExp(`^https?://${a===qr?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${v}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Pe}];for(let no=0;no<cs.length;no++){const mh=cs[no],As=mh.regex.exec(s);if(As){let Ef=As[mh.indices.path];Ef||(Ef=""),f=new bn(As[mh.indices.bucket],Ef),mh.postModify(f);break}}if(null==f)throw function ne(u){return new tr("invalid-url","Invalid URL '"+u+"'.")}(s);return f}}class Yn{constructor(s){this.promise_=Promise.reject(s)}getPromise(){return this.promise_}cancel(s=!1){}}function Ct(u){return"string"==typeof u||u instanceof String}function Kt(u){return cn()&&u instanceof Blob}function cn(){return"undefined"!=typeof Blob}function An(u,s,a,f){if(f<s)throw dt(`Invalid value for '${u}'. Expected ${s} or greater.`);if(f>a)throw dt(`Invalid value for '${u}'. Expected ${a} or less.`)}function lr(u,s,a){let f=s;return null==a&&(f=`https://${s}`),`${a}://${f}/v0${u}`}function ii(u){const s=encodeURIComponent;let a="?";for(const f in u)u.hasOwnProperty(f)&&(a=a+(s(f)+"=")+s(u[f])+"&");return a=a.slice(0,-1),a}var ur=(()=>{return(u=ur||(ur={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",ur;var u})();class ds{constructor(s,a,f,v,D,M,J,ce,Pe,vt,It){this.url_=s,this.method_=a,this.headers_=f,this.body_=v,this.successCodes_=D,this.additionalRetryCodes_=M,this.callback_=J,this.errorCallback_=ce,this.timeout_=Pe,this.progressCallback_=vt,this.connectionFactory_=It,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((kt,mn)=>{this.resolve_=kt,this.reject_=mn,this.start_()})}start_(){const a=(f,v)=>{const D=this.resolve_,M=this.reject_,J=v.connection;if(v.wasSuccessCode)try{const ce=this.callback_(J,J.getResponse());!function Li(u){return void 0!==u}(ce)?D():D(ce)}catch(ce){M(ce)}else if(null!==J){const ce=Hn();ce.serverResponse=J.getErrorText(),M(this.errorCallback_?this.errorCallback_(J,ce):ce)}else M(v.canceled?this.appDelete_?Ft():Dr():function pi(){return new tr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?a(0,new es(!1,null,!0)):this.backoffId_=function nr(u,s,a){let f=1,v=null,D=null,M=!1,J=0;function ce(){return 2===J}let Pe=!1;function vt(...Zr){Pe||(Pe=!0,s.apply(null,Zr))}function It(Zr){v=setTimeout(()=>{v=null,u(mn,ce())},Zr)}function kt(){D&&clearTimeout(D)}function mn(Zr,...zo){if(Pe)return void kt();if(Zr)return kt(),void vt.call(null,Zr,...zo);if(ce()||M)return kt(),void vt.call(null,Zr,...zo);let cs;f<64&&(f*=2),1===J?(J=2,cs=0):cs=1e3*(f+Math.random()),It(cs)}let Mn=!1;function _r(Zr){Mn||(Mn=!0,kt(),!Pe&&(null!==v?(Zr||(J=2),clearTimeout(v),It(0)):Zr||(J=1)))}return It(0),D=setTimeout(()=>{M=!0,_r(!0)},a),_r}((f,v)=>{if(v)return void f(!1,new es(!1,null,!0));const D=this.connectionFactory_();this.pendingConnection_=D;const M=J=>{null!==this.progressCallback_&&this.progressCallback_(J.loaded,J.lengthComputable?J.total:-1)};null!==this.progressCallback_&&D.addUploadProgressListener(M),D.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&D.removeUploadProgressListener(M),this.pendingConnection_=null;const J=D.getErrorCode()===ur.NO_ERROR,ce=D.getStatus();if(!J||this.isRetryStatusCode_(ce)){const vt=D.getErrorCode()===ur.ABORT;return void f(!1,new es(!1,null,vt))}const Pe=-1!==this.successCodes_.indexOf(ce);f(!0,new es(Pe,D))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(s){this.canceled_=!0,this.appDelete_=s||!1,null!==this.backoffId_&&function di(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(s){const a=s>=500&&s<600,v=-1!==[408,429].indexOf(s),D=-1!==this.additionalRetryCodes_.indexOf(s);return a||v||D}}class es{constructor(s,a,f){this.wasSuccessCode=s,this.connection=a,this.canceled=!!f}}function li(...u){const s=function xs(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==s){const a=new s;for(let f=0;f<u.length;f++)a.append(u[f]);return a.getBlob()}if(cn())return new Blob(u);throw new tr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ps{constructor(s,a){this.data=s,this.contentType=a||null}}function so(u,s){switch(u){case si.RAW:return new Ps(oo(s));case si.BASE64:case si.BASE64URL:return new Ps(Tr(u,s));case si.DATA_URL:return new Ps(function hs(u){const s=new zi(u);return s.base64?Tr(si.BASE64,s.rest):function is(u){let s;try{s=decodeURIComponent(u)}catch(a){throw Ut(si.DATA_URL,"Malformed data URL.")}return oo(s)}(s.rest)}(s),function Ri(u){return new zi(u).contentType}(s))}throw Hn()}function oo(u){const s=[];for(let a=0;a<u.length;a++){let f=u.charCodeAt(a);f<=127?s.push(f):f<=2047?s.push(192|f>>6,128|63&f):55296==(64512&f)?a<u.length-1&&56320==(64512&u.charCodeAt(a+1))?(f=65536|(1023&f)<<10|1023&u.charCodeAt(++a),s.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):s.push(239,191,189):56320==(64512&f)?s.push(239,191,189):s.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(s)}function Tr(u,s){switch(u){case si.BASE64:{const v=-1!==s.indexOf("-"),D=-1!==s.indexOf("_");if(v||D)throw Ut(u,"Invalid character '"+(v?"-":"_")+"' found: is it base64url encoded?");break}case si.BASE64URL:{const v=-1!==s.indexOf("+"),D=-1!==s.indexOf("/");if(v||D)throw Ut(u,"Invalid character '"+(v?"+":"/")+"' found: is it base64 encoded?");s=s.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function gi(u){return atob(u)}(s)}catch(v){throw Ut(u,"Invalid character found")}const f=new Uint8Array(a.length);for(let v=0;v<a.length;v++)f[v]=a.charCodeAt(v);return f}class zi{constructor(s){this.base64=!1,this.contentType=null;const a=s.match(/^data:([^,]+)?,/);if(null===a)throw Ut(si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=a[1]||null;null!=f&&(this.base64=function Ns(u,s){return u.length>=s.length&&u.substring(u.length-s.length)===s}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=s.substring(s.indexOf(",")+1)}}class Qr{constructor(s,a){let f=0,v="";Kt(s)?(this.data_=s,f=s.size,v=s.type):s instanceof ArrayBuffer?(a?this.data_=new Uint8Array(s):(this.data_=new Uint8Array(s.byteLength),this.data_.set(new Uint8Array(s))),f=this.data_.length):s instanceof Uint8Array&&(a?this.data_=s:(this.data_=new Uint8Array(s.length),this.data_.set(s)),f=s.length),this.size_=f,this.type_=v}size(){return this.size_}type(){return this.type_}slice(s,a){if(Kt(this.data_)){const v=function js(u,s,a){return u.webkitSlice?u.webkitSlice(s,a):u.mozSlice?u.mozSlice(s,a):u.slice?u.slice(s,a):null}(this.data_,s,a);return null===v?null:new Qr(v)}{const f=new Uint8Array(this.data_.buffer,s,a-s);return new Qr(f,!0)}}static getBlob(...s){if(cn()){const a=s.map(f=>f instanceof Qr?f.data_:f);return new Qr(li.apply(null,a))}{const a=s.map(M=>Ct(M)?so(si.RAW,M).data:M.data_);let f=0;a.forEach(M=>{f+=M.byteLength});const v=new Uint8Array(f);let D=0;return a.forEach(M=>{for(let J=0;J<M.length;J++)v[D++]=M[J]}),new Qr(v,!0)}}uploadData(){return this.data_}}function Zs(u){let s;try{s=JSON.parse(u)}catch(a){return null}return function Xe(u){return"object"==typeof u&&!Array.isArray(u)}(s)?s:null}function Ms(u){const s=u.lastIndexOf("/",u.length-2);return-1===s?u:u.slice(s+1)}function ss(u,s){return s}class oi{constructor(s,a,f,v){this.server=s,this.local=a||s,this.writable=!!f,this.xform=v||ss}}let ks=null;function U(){if(ks)return ks;const u=[];u.push(new oi("bucket")),u.push(new oi("generation")),u.push(new oi("metageneration")),u.push(new oi("name","fullPath",!0));const a=new oi("name");a.xform=function s(D,M){return function Er(u){return!Ct(u)||u.length<2?u:Ms(u)}(M)},u.push(a);const v=new oi("size");return v.xform=function f(D,M){return void 0!==M?Number(M):M},u.push(v),u.push(new oi("timeCreated")),u.push(new oi("updated")),u.push(new oi("md5Hash",null,!0)),u.push(new oi("cacheControl",null,!0)),u.push(new oi("contentDisposition",null,!0)),u.push(new oi("contentEncoding",null,!0)),u.push(new oi("contentLanguage",null,!0)),u.push(new oi("contentType",null,!0)),u.push(new oi("metadata","customMetadata",!0)),ks=u,ks}function fe(u,s,a){const f=Zs(s);return null===f?null:function $(u,s,a){const f={type:"file"},v=a.length;for(let D=0;D<v;D++){const M=a[D];f[M.local]=M.xform(f,s[M.server])}return function ae(u,s){Object.defineProperty(u,"ref",{get:function a(){const D=new bn(u.bucket,u.fullPath);return s._makeStorageReference(D)}})}(f,u),f}(u,f,a)}function Mt(u,s){const a={},f=s.length;for(let v=0;v<f;v++){const D=s[v];D.writable&&(a[D.server]=u[D.local])}return JSON.stringify(a)}const Yt="prefixes";class Wn{constructor(s,a,f,v){this.url=s,this.method=a,this.handler=f,this.timeout=v,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rr(u){if(!u)throw Hn()}function mi(u,s){return function a(f,v){const D=fe(u,v,s);return rr(null!==D),D}}function os(u){return function s(a,f){let v;return v=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function Si(){return new tr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Fi(){return new tr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function ci(u){return new tr("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===a.getStatus()?function zr(u){return new tr("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):f,v.serverResponse=f.serverResponse,v}}function ys(u){const s=os(u);return function a(f,v){let D=s(f,v);return 404===f.getStatus()&&(D=function Gr(u){return new tr("object-not-found","Object '"+u+"' does not exist.")}(u.path)),D.serverResponse=v.serverResponse,D}}function Gn(u,s,a){const v=lr(s.fullServerUrl(),u.host,u._protocol),M=u.maxOperationRetryTime,J=new Wn(v,"GET",mi(u,a),M);return J.errorHandler=ys(s),J}function Fs(u,s,a,f,v){const D={};D.prefix=s.isRoot?"":s.path+"/",a&&a.length>0&&(D.delimiter=a),f&&(D.pageToken=f),v&&(D.maxResults=v);const J=lr(s.bucketOnlyServerUrl(),u.host,u._protocol),Pe=u.maxOperationRetryTime,vt=new Wn(J,"GET",function Wr(u,s){return function a(f,v){const D=function Sr(u,s,a){const f=Zs(a);return null===f?null:function Jn(u,s,a){const f={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[Yt])for(const v of a[Yt]){const D=v.replace(/\/$/,""),M=u._makeStorageReference(new bn(s,D));f.prefixes.push(M)}if(a.items)for(const v of a.items){const D=u._makeStorageReference(new bn(s,v.name));f.items.push(D)}return f}(u,s,f)}(u,s,v);return rr(null!==D),D}}(u,s.bucket),Pe);return vt.urlParams=D,vt.errorHandler=os(s),vt}function E(u,s,a){const f=Object.assign({},a);return f.fullPath=u.path,f.size=s.size(),f.contentType||(f.contentType=function Vt(u,s){return u&&u.contentType||s&&s.type()||"application/octet-stream"}(null,s)),f}class b{constructor(s,a,f,v){this.current=s,this.total=a,this.finalized=!!f,this.metadata=v||null}}function j(u,s){let a=null;try{a=u.getResponseHeader("X-Goog-Upload-Status")}catch(v){rr(!1)}return rr(!!a&&-1!==(s||["active"]).indexOf(a)),a}const cr={STATE_CHANGED:"state_changed"},dr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bi(u){switch(u){case"running":case"pausing":case"canceling":return dr.RUNNING;case"paused":return dr.PAUSED;case"success":return dr.SUCCESS;case"canceled":return dr.CANCELED;default:return dr.ERROR}}class Oi{constructor(s,a,f){if(function ot(u){return"function"==typeof u}(s)||null!=a||null!=f)this.next=s,this.error=null!=a?a:void 0,this.complete=null!=f?f:void 0;else{const D=s;this.next=D.next,this.error=D.error,this.complete=D.complete}}}function Wi(u){return(...s)=>{Promise.resolve().then(()=>u(...s))}}class _s extends class bi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ur.NO_ERROR,this.sendPromise_=new Promise(s=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ur.ABORT,s()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ur.NETWORK_ERROR,s()}),this.xhr_.addEventListener("load",()=>{s()})})}send(s,a,f,v){if(this.sent_)throw fn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,s,!0),void 0!==v)for(const D in v)v.hasOwnProperty(D)&&this.xhr_.setRequestHeader(D,v[D].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(s){return-1}}getResponse(){if(!this.sent_)throw fn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(s){return this.xhr_.getResponseHeader(s)}addUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",s)}removeUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",s)}}{initXhr(){this.xhr_.responseType="text"}}function vs(){return new _s}class Gl{constructor(s,a,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=s,this._blob=a,this._metadata=f,this._mappings=U(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=v=>{this._request=void 0,this._chunkMultiplier=1,v._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=v,this._transition("error"))},this._metadataErrorHandler=v=>{this._request=void 0,v._codeEquals("canceled")?this.completeTransitions_():(this._error=v,this._transition("error"))},this._promise=new Promise((v,D)=>{this._resolve=v,this._reject=D,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const s=this._transferred;return a=>this._updateProgress(s+a)}_shouldDoResumable(s){return s.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(s){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,f])=>{switch(this._state){case"running":s(a,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((s,a)=>{const f=function oe(u,s,a,f,v){const D=s.bucketOnlyServerUrl(),M=E(s,f,v),J={name:M.fullPath},ce=lr(D,u.host,u._protocol),vt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":M.contentType,"Content-Type":"application/json; charset=utf-8"},It=Mt(M,a),Mn=new Wn(ce,"POST",function mn(_r){let Zr;j(_r);try{Zr=_r.getResponseHeader("X-Goog-Upload-URL")}catch(zo){rr(!1)}return rr(Ct(Zr)),Zr},u.maxUploadRetryTime);return Mn.urlParams=J,Mn.headers=vt,Mn.body=It,Mn.errorHandler=os(s),Mn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,vs,s,a);this._request=v,v.getPromise().then(D=>{this._request=void 0,this._uploadUrl=D,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const s=this._uploadUrl;this._resolveToken((a,f)=>{const v=function Tt(u,s,a,f){const ce=new Wn(a,"POST",function D(Pe){const vt=j(Pe,["active","final"]);let It=null;try{It=Pe.getResponseHeader("X-Goog-Upload-Size-Received")}catch(mn){rr(!1)}It||rr(!1);const kt=Number(It);return rr(!isNaN(kt)),new b(kt,f.size(),"final"===vt)},u.maxUploadRetryTime);return ce.headers={"X-Goog-Upload-Command":"query"},ce.errorHandler=os(s),ce}(this._ref.storage,this._ref._location,s,this._blob),D=this._ref.storage._makeRequest(v,vs,a,f);this._request=D,D.getPromise().then(M=>{M=M,this._request=void 0,this._updateProgress(M.current),this._needToFetchStatus=!1,M.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const s=262144*this._chunkMultiplier,a=new b(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((v,D)=>{let M;try{M=function Rn(u,s,a,f,v,D,M,J){const ce=new b(0,0);if(M?(ce.current=M.current,ce.total=M.total):(ce.current=0,ce.total=f.size()),f.size()!==ce.total)throw function Se(){return new tr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Pe=ce.total-ce.current;let vt=Pe;v>0&&(vt=Math.min(vt,v));const It=ce.current,Mn={"X-Goog-Upload-Command":vt===Pe?"upload, finalize":"upload","X-Goog-Upload-Offset":`${ce.current}`},_r=f.slice(It,It+vt);if(null===_r)throw mt();const cs=new Wn(a,"POST",function Zr(no,mh){const As=j(no,["active","final"]),yp=ce.current+vt,Ef=f.size();let _p;return _p="final"===As?mi(s,D)(no,mh):null,new b(yp,Ef,"final"===As,_p)},s.maxUploadRetryTime);return cs.headers=Mn,cs.body=_r.uploadData(),cs.progressCallback=J||null,cs.errorHandler=os(u),cs}(this._ref._location,this._ref.storage,f,this._blob,s,this._mappings,a,this._makeProgressCallback())}catch(ce){return this._error=ce,void this._transition("error")}const J=this._ref.storage._makeRequest(M,vs,v,D);this._request=J,J.getPromise().then(ce=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ce.current),ce.finalized?(this._metadata=ce.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((s,a)=>{const f=Gn(this._ref.storage,this._ref._location,this._mappings),v=this._ref.storage._makeRequest(f,vs,s,a);this._request=v,v.getPromise().then(D=>{this._request=void 0,this._metadata=D,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((s,a)=>{const f=function R(u,s,a,f,v){const D=s.bucketOnlyServerUrl(),M={"X-Goog-Upload-Protocol":"multipart"},ce=function J(){let cs="";for(let no=0;no<2;no++)cs+=Math.random().toString().slice(2);return cs}();M["Content-Type"]="multipart/related; boundary="+ce;const Pe=E(s,f,v),vt=Mt(Pe,a),mn=Qr.getBlob("--"+ce+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vt+"\r\n--"+ce+"\r\nContent-Type: "+Pe.contentType+"\r\n\r\n",f,"\r\n--"+ce+"--");if(null===mn)throw mt();const Mn={name:Pe.fullPath},_r=lr(D,u.host,u._protocol),zo=u.maxUploadRetryTime,to=new Wn(_r,"POST",mi(u,a),zo);return to.urlParams=Mn,to.headers=M,to.body=mn.uploadData(),to.errorHandler=os(s),to}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,vs,s,a);this._request=v,v.getPromise().then(D=>{this._request=void 0,this._metadata=D,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(s){const a=this._transferred;this._transferred=s,this._transferred!==a&&this._notifyObservers()}_transition(s){if(this._state!==s)switch(s){case"canceling":case"pausing":this._state=s,void 0!==this._request&&this._request.cancel();break;case"running":const a="paused"===this._state;this._state=s,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=s,this._notifyObservers();break;case"canceled":this._error=Dr(),this._state=s,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const s=Bi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:s,metadata:this._metadata,task:this,ref:this._ref}}on(s,a,f,v){const D=new Oi(a||void 0,f||void 0,v||void 0);return this._addObserver(D),()=>{this._removeObserver(D)}}then(s,a){return this._promise.then(s,a)}catch(s){return this.then(null,s)}_addObserver(s){this._observers.push(s),this._notifyObserver(s)}_removeObserver(s){const a=this._observers.indexOf(s);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let s=!0;switch(Bi(this._state)){case dr.SUCCESS:Wi(this._resolve.bind(null,this.snapshot))();break;case dr.CANCELED:case dr.ERROR:Wi(this._reject.bind(null,this._error))();break;default:s=!1}s&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(s){switch(Bi(this._state)){case dr.RUNNING:case dr.PAUSED:s.next&&Wi(s.next.bind(s,this.snapshot))();break;case dr.SUCCESS:s.complete&&Wi(s.complete.bind(s))();break;default:s.error&&Wi(s.error.bind(s,this._error))()}}resume(){const s="paused"===this._state||"pausing"===this._state;return s&&this._transition("running"),s}pause(){const s="running"===this._state;return s&&this._transition("pausing"),s}cancel(){const s="running"===this._state||"pausing"===this._state;return s&&this._transition("canceling"),s}}class ao{constructor(s,a){this._service=s,this._location=a instanceof bn?a:bn.makeFromUrl(a,s.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(s,a){return new ao(s,a)}get root(){const s=new bn(this._location.bucket,"");return this._newRef(this._service,s)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ms(this._location.path)}get storage(){return this._service}get parent(){const s=function ms(u){if(0===u.length)return null;const s=u.lastIndexOf("/");return-1===s?"":u.slice(0,s)}(this._location.path);if(null===s)return null;const a=new bn(this._location.bucket,s);return new ao(this._service,a)}_throwIfRoot(s){if(""===this._location.path)throw xt(s)}}function Zo(u,s,a){return No.apply(this,arguments)}function No(){return(No=(0,nn.Z)(function*(u,s,a){const v=yield zl(u,{pageToken:a});s.prefixes.push(...v.prefixes),s.items.push(...v.items),null!=v.nextPageToken&&(yield Zo(u,s,v.nextPageToken))})).apply(this,arguments)}function zl(u,s){null!=s&&"number"==typeof s.maxResults&&An("options.maxResults",1,1e3,s.maxResults);const a=s||{},f=Fs(u.storage,u._location,"/",a.pageToken,a.maxResults);return u.storage.makeRequestWithTokens(f,vs)}function tl(u){u._throwIfRoot("getDownloadURL");const s=function B(u,s,a){const v=lr(s.fullServerUrl(),u.host,u._protocol),M=u.maxOperationRetryTime,J=new Wn(v,"GET",function Jr(u,s){return function a(f,v){const D=fe(u,v,s);return rr(null!==D),function Je(u,s,a,f){const v=Zs(s);if(null===v||!Ct(v.downloadTokens))return null;const D=v.downloadTokens;if(0===D.length)return null;const M=encodeURIComponent;return D.split(",").map(Pe=>{const It=u.fullPath;return lr("/b/"+M(u.bucket)+"/o/"+M(It),a,f)+ii({alt:"media",token:Pe})})[0]}(D,v,u.host,u._protocol)}}(u,a),M);return J.errorHandler=ys(s),J}(u.storage,u._location,U());return u.storage.makeRequestWithTokens(s,vs).then(a=>{if(null===a)throw function Ve(){return new tr("no-download-url","The given file does not have any download URLs.")}();return a})}function Dl(u,s){const a=function Ko(u,s){const a=s.split("/").filter(f=>f.length>0).join("/");return 0===u.length?a:u+"/"+a}(u._location.path,s),f=new bn(u._location.bucket,a);return new ao(u.storage,f)}function ts(u,s){if(u instanceof ac){const a=u;if(null==a._bucket)throw function tt(){return new tr("no-default-bucket","No default bucket found. Did you set the '"+sr+"' property when initializing the app?")}();const f=new ao(a,a._bucket);return null!=s?ts(f,s):f}return void 0!==s?Dl(u,s):u}function vu(u,s){if(s&&function Es(u){return/^[A-Za-z]+:\/\//.test(u)}(s)){if(u instanceof ac)return function Qo(u,s){return new ao(u,s)}(u,s);throw dt("To use ref(service, url), the first argument must be a Storage instance.")}return ts(u,s)}function Hs(u,s){const a=null==s?void 0:s[sr];return null==a?null:bn.makeFromBucketSpec(a,u)}class ac{constructor(s,a,f,v,D){this.app=s,this._authProvider=a,this._appCheckProvider=f,this._url=v,this._firebaseVersion=D,this._bucket=null,this._host=qr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=v?bn.makeFromBucketSpec(v,this._host):Hs(this._host,this.app.options)}get host(){return this._host}set host(s){this._host=s,this._bucket=null!=this._url?bn.makeFromBucketSpec(this._url,s):Hs(s,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(s){An("time",0,Number.POSITIVE_INFINITY,s),this._maxUploadRetryTime=s}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(s){An("time",0,Number.POSITIVE_INFINITY,s),this._maxOperationRetryTime=s}_getAuthToken(){var s=this;return(0,nn.Z)(function*(){if(s._overrideAuthToken)return s._overrideAuthToken;const a=s._authProvider.getImmediate({optional:!0});if(a){const f=yield a.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var s=this;return(0,nn.Z)(function*(){const a=s._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(s=>s.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(s){return new ao(this,s)}_makeRequest(s,a,f,v){if(this._deleted)return new Yn(Ft());{const D=function Do(u,s,a,f,v,D){const M=ii(u.urlParams),J=u.url+M,ce=Object.assign({},u.headers);return function io(u,s){s&&(u["X-Firebase-GMPID"]=s)}(ce,s),function Gi(u,s){null!==s&&s.length>0&&(u.Authorization="Firebase "+s)}(ce,a),function Po(u,s){u["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager")}(ce,D),function gs(u,s){null!==s&&(u["X-Firebase-AppCheck"]=s)}(ce,f),new ds(J,u.method,ce,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,v)}(s,this._appId,f,v,a,this._firebaseVersion);return this._requests.add(D),D.getPromise().then(()=>this._requests.delete(D),()=>this._requests.delete(D)),D}}makeRequestWithTokens(s,a){var f=this;return(0,nn.Z)(function*(){const[v,D]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(s,a,v,D).getPromise()})()}}const Jo="@firebase/storage";function Cs(u,s){return vu(u=(0,ye.m9)(u),s)}function Fa(u,{instanceIdentifier:s}){const a=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),v=u.getProvider("app-check-internal");return new ac(a,f,v,s,Cn.SDK_VERSION)}!function Un(){(0,Cn._registerComponent)(new Ur.wA("storage",Fa,"PUBLIC").setMultipleInstances(!0)),(0,Cn.registerVersion)(Jo,"0.9.6",""),(0,Cn.registerVersion)(Jo,"0.9.6","esm2017")}();class zn{constructor(s,a,f){this._delegate=s,this.task=a,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Kl{constructor(s,a){this._delegate=s,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new zn(this._delegate.snapshot,this,this._ref)}then(s,a){return this._delegate.then(f=>{if(s)return s(new zn(f,this,this._ref))},a)}on(s,a,f,v){let D;return a&&(D="function"==typeof a?M=>a(new zn(M,this,this._ref)):{next:a.next?M=>a.next(new zn(M,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(s,D,f||void 0,v||void 0)}}class Dn{constructor(s,a){this._delegate=s,this._service=a}get prefixes(){return this._delegate.prefixes.map(s=>new St(s,this._service))}get items(){return this._delegate.items.map(s=>new St(s,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class St{constructor(s,a){this._delegate=s,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(s){const a=function Eu(u,s){return Dl(u,s)}(this._delegate,s);return new St(a,this.storage)}get root(){return new St(this._delegate.root,this.storage)}get parent(){const s=this._delegate.parent;return null==s?null:new St(s,this.storage)}put(s,a){return this._throwIfRoot("put"),new Kl(function Vi(u,s,a){return function qo(u,s,a){return u._throwIfRoot("uploadBytesResumable"),new Gl(u,new Qr(s),a)}(u=(0,ye.m9)(u),s,a)}(this._delegate,s,a),this)}putString(s,a=si.RAW,f){this._throwIfRoot("putString");const v=so(a,s),D=Object.assign({},f);return null==D.contentType&&null!=v.contentType&&(D.contentType=v.contentType),new Kl(new Gl(this._delegate,new Qr(v.data,!0),D),this)}listAll(){return function Tl(u){return function Il(u){const s={prefixes:[],items:[]};return Zo(u,s).then(()=>s)}(u=(0,ye.m9)(u))}(this._delegate).then(s=>new Dn(s,this.storage))}list(s){return function nl(u,s){return zl(u=(0,ye.m9)(u),s)}(this._delegate,s||void 0).then(a=>new Dn(a,this.storage))}getMetadata(){return function lc(u){return function po(u){u._throwIfRoot("getMetadata");const s=Gn(u.storage,u._location,U());return u.storage.makeRequestWithTokens(s,vs)}(u=(0,ye.m9)(u))}(this._delegate)}updateMetadata(s){return function To(u,s){return function Cl(u,s){u._throwIfRoot("updateMetadata");const a=function L(u,s,a,f){const D=lr(s.fullServerUrl(),u.host,u._protocol),J=Mt(a,f),Pe=u.maxOperationRetryTime,vt=new Wn(D,"PATCH",mi(u,f),Pe);return vt.headers={"Content-Type":"application/json; charset=utf-8"},vt.body=J,vt.errorHandler=ys(s),vt}(u.storage,u._location,s,U());return u.storage.makeRequestWithTokens(a,vs)}(u=(0,ye.m9)(u),s)}(this._delegate,s)}getDownloadURL(){return function ns(u){return tl(u=(0,ye.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function So(u){return function Xo(u){u._throwIfRoot("deleteObject");const s=function he(u,s){const f=lr(s.fullServerUrl(),u.host,u._protocol),J=new Wn(f,"DELETE",function M(ce,Pe){},u.maxOperationRetryTime);return J.successCodes=[200,204],J.errorHandler=ys(s),J}(u.storage,u._location);return u.storage.makeRequestWithTokens(s,vs)}(u=(0,ye.m9)(u))}(this._delegate)}_throwIfRoot(s){if(""===this._delegate._location.path)throw xt(s)}}class en{constructor(s,a){this.app=s,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(s){if(br(s))throw dt("ref() expected a child path but got a URL, use refFromURL instead.");return new St(Cs(this._delegate,s),this)}refFromURL(s){if(!br(s))throw dt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bn.makeFromUrl(s,this._delegate.host)}catch(a){throw dt("refFromUrl() expected a valid full URL but got an invalid one.")}return new St(Cs(this._delegate,s),this)}setMaxUploadRetryTime(s){this._delegate.maxUploadRetryTime=s}setMaxOperationRetryTime(s){this._delegate.maxOperationRetryTime=s}useEmulator(s,a,f={}){!function pn(u,s,a,f={}){!function zc(u,s,a,f={}){u.host=`${s}:${a}`,u._protocol="http";const{mockUserToken:v}=f;v&&(u._overrideAuthToken="string"==typeof v?v:(0,ye.Sg)(v,u.app.options.projectId))}(u,s,a,f)}(this._delegate,s,a,f)}}function br(u){return/^[A-Za-z]+:\/\//.test(u)}function Sl(u,{instanceIdentifier:s}){const a=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:s});return new en(a,f)}!function cc(u){const s={TaskState:dr,TaskEvent:cr,StringFormat:si,Storage:en,Reference:St};u.INTERNAL.registerComponent(new Ur.wA("storage-compat",Sl,"PUBLIC").setServiceProps(s).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.14")}(Vr.Z);var Wc=N(440),O=N(127);function T(u){const s=function A(u){return new ki.y(s=>{const a=M=>s.next(M);a(u.snapshot);const D=u.on("state_changed",a);return u.then(M=>{a(M),s.complete()},M=>{a(u.snapshot),(M=>{s.error(M)})(M)}),function(){D()}}).pipe(function Ei(u,s=xr.P){return a=>a.lift(new Qi(u,s))}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>s,percentageChanges:()=>s.pipe((0,Br.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function V(u){return{getDownloadURL:()=>(0,Hr.of)(void 0).pipe(pr.fc,(0,Nr.w)(()=>u.getDownloadURL()),pr.iC),getMetadata:()=>(0,Hr.of)(void 0).pipe(pr.fc,(0,Nr.w)(()=>u.getMetadata()),pr.iC),delete:()=>(0,vi.D)(u.delete()),child:s=>V(u.child(s)),updateMetadata:s=>(0,vi.D)(u.updateMetadata(s)),put:(s,a)=>T(u.put(s,a)),putString:(s,a,f)=>T(u.putString(s,a,f)),list:s=>(0,vi.D)(u.list(s)),listAll:()=>(0,vi.D)(u.listAll())}}const K=new z.OlP("angularfire2.storageBucket"),ue=new z.OlP("angularfire2.storage.maxUploadRetryTime"),xe=new z.OlP("angularfire2.storage.maxOperationRetryTime"),qe=new z.OlP("angularfire2.storage.use-emulator");let jt=(()=>{class u{constructor(a,f,v,D,M,J,ce,Pe,vt,It){const kt=(0,ri.on)(a,M,f);this.storage=(0,ri.cc)(`${kt.name}.storage.${v}`,"AngularFireStorage",kt.name,()=>{const mn=M.runOutsideAngular(()=>kt.storage(v||void 0)),Mn=vt;return Mn&&mn.useEmulator(...Mn),ce&&mn.setMaxUploadRetryTime(ce),Pe&&mn.setMaxOperationRetryTime(Pe),mn},[ce,Pe])}ref(a){return V(this.storage.ref(a))}refFromURL(a){return V(this.storage.refFromURL(a))}upload(a,f,v){return V(this.storage.ref(a)).put(f,v)}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(ri.Dh),z.LFG(ri.xv,8),z.LFG(K,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(pr.HU),z.LFG(ue,8),z.LFG(xe,8),z.LFG(qe,8),z.LFG(Wc.nm,8))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),_n=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=z.oAB({type:u}),u.\u0275inj=z.cJS({}),u})(),jn=(()=>{class u{constructor(){O.Z.registerVersion("angularfire",pr.q4.full,"gcs-compat")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=z.oAB({type:u}),u.\u0275inj=z.cJS({providers:[jt],imports:[_n]}),u})();var Rr=N(6787),ei=N(2474),bs=N(2014),Or=N(5778),ea=N(826),Yi=N(448);class Yl{constructor(s,a){this.observables=s,this.project=a}call(s,a){return a.subscribe(new as(s,this.observables,this.project))}}class as extends ea.L{constructor(s,a,f){super(s),this.observables=a,this.project=f,this.toRespond=[];const v=a.length;this.values=new Array(v);for(let D=0;D<v;D++)this.toRespond.push(D);for(let D=0;D<v;D++)this.add((0,Yi.D)(this,a[D],void 0,D))}notifyNext(s,a,f){this.values[f]=a;const v=this.toRespond;if(v.length>0){const D=v.indexOf(f);-1!==D&&v.splice(D,1)}}notifyComplete(){}_next(s){if(0===this.toRespond.length){const a=[s,...this.values];this.project?this._tryProject(a):this.destination.next(a)}}_tryProject(s){let a;try{a=this.project.apply(this,s)}catch(f){return void this.destination.error(f)}this.destination.next(a)}}class mo{constructor(s){this.predicate=s}call(s,a){return a.subscribe(new wi(s,this.predicate))}}class wi extends fi.L{constructor(s,a){super(s),this.predicate=a,this.skipping=!0,this.index=0}_next(s){const a=this.destination;this.skipping&&this.tryCallPredicate(s),this.skipping||a.next(s)}tryCallPredicate(s){try{const a=this.predicate(s,this.index++);this.skipping=Boolean(a)}catch(a){this.destination.error(a)}}}N(8775);var il=N(1877);const Al="@firebase/database";let Rd="";function ko(u){Rd=u}class Ui{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,a){null==a?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,ye.Pz)(a))}get(s){const a=this.domStorage_.getItem(this.prefixedName_(s));return null==a?null:(0,ye.cI)(a)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class dc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,a){null==a?delete this.cache_[s]:this.cache_[s]=a}get(s){return(0,ye.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const vh=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){const s=window[u];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new Ui(s)}}catch(s){}return new dc},wn=vh("localStorage"),Ba=vh("sessionStorage"),Va=new il.Yd("@firebase/database"),Ua=function(){let u=1;return function(){return u++}}(),_a=function(u){const s=(0,ye.dS)(u),a=new ye.gQ;a.update(s);const f=a.digest();return ye.US.encodeByteArray(f)},Ao=function(...u){let s="";for(let a=0;a<u.length;a++){const f=u[a];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?s+=Ao.apply(null,f):s+="object"==typeof f?(0,ye.Pz)(f):f,s+=" "}return s};let xo=null,ls=!0;const va=function(u,s){(0,ye.hu)(!s||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Va.logLevel=il.in.VERBOSE,xo=Va.log.bind(Va),s&&Ba.set("logging_enabled",!0)):"function"==typeof u?xo=u:(xo=null,Ba.remove("logging_enabled"))},$i=function(...u){if(!0===ls&&(ls=!1,null===xo&&!0===Ba.get("logging_enabled")&&va(!0)),xo){const s=Ao.apply(null,u);xo(s)}},Ea=function(u){return function(...s){$i(u,...s)}},$a=function(...u){const s="FIREBASE INTERNAL ERROR: "+Ao(...u);Va.error(s)},Pi=function(...u){const s=`FIREBASE FATAL ERROR: ${Ao(...u)}`;throw Va.error(s),new Error(s)},Ii=function(...u){const s="FIREBASE WARNING: "+Ao(...u);Va.warn(s)},yo=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},lo="[MIN_NAME]",Mo="[MAX_NAME]",Fo=function(u,s){if(u===s)return 0;if(u===lo||s===Mo)return-1;if(s===lo||u===Mo)return 1;{const a=zs(u),f=zs(s);return null!==a?null!==f?a-f==0?u.length-s.length:a-f:-1:null!==f?1:u<s?-1:1}},Od=function(u,s){return u===s?0:u<s?-1:1},wu=function(u,s){if(s&&u in s)return s[u];throw new Error("Missing required key ("+u+") in object: "+(0,ye.Pz)(s))},Rs=function(u){if("object"!=typeof u||null===u)return(0,ye.Pz)(u);const s=[];for(const f in u)s.push(f);s.sort();let a="{";for(let f=0;f<s.length;f++)0!==f&&(a+=","),a+=(0,ye.Pz)(s[f]),a+=":",a+=Rs(u[s[f]]);return a+="}",a},Ss=function(u,s){const a=u.length;if(a<=s)return[u];const f=[];for(let v=0;v<a;v+=s)f.push(u.substring(v,v+s>a?a:v+s));return f};function gr(u,s){for(const a in u)u.hasOwnProperty(a)&&s(a,u[a])}const ia=function(u){(0,ye.hu)(!yo(u),"Invalid JSON number");const f=1023;let v,D,M,J,ce;0===u?(D=0,M=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-f)?(J=Math.min(Math.floor(Math.log(u)/Math.LN2),f),D=J+f,M=Math.round(u*Math.pow(2,52-J)-Math.pow(2,52))):(D=0,M=Math.round(u/Math.pow(2,-1074))));const Pe=[];for(ce=52;ce;ce-=1)Pe.push(M%2?1:0),M=Math.floor(M/2);for(ce=11;ce;ce-=1)Pe.push(D%2?1:0),D=Math.floor(D/2);Pe.push(v?1:0),Pe.reverse();const vt=Pe.join("");let It="";for(ce=0;ce<64;ce+=8){let kt=parseInt(vt.substr(ce,8),2).toString(16);1===kt.length&&(kt="0"+kt),It+=kt}return It.toLowerCase()},sa=new RegExp("^-?(0*)\\d{1,10}$"),Iu=-2147483648,Nd=2147483647,zs=function(u){if(sa.test(u)){const s=Number(u);if(s>=Iu&&s<=Nd)return s}return null},ba=function(u){try{u()}catch(s){setTimeout(()=>{throw Ii("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},vo=function(u,s){const a=setTimeout(u,s);return"object"==typeof a&&a.unref&&a.unref(),a};class F{constructor(s,a){this.appName_=s,this.appCheckProvider=a,this.appCheck=null==a?void 0:a.getImmediate({optional:!0}),this.appCheck||null==a||a.get().then(f=>this.appCheck=f)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((a,f)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(a,f):a(null)},0)})}addTokenChangeListener(s){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(f=>f.addTokenListener(s))}notifyForInvalidToken(){Ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class H{constructor(s,a,f){this.appName_=s,this.firebaseOptions_=a,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(v=>this.auth_=v)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(a=>a&&"auth/token-not-initialized"===a.code?($i("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,f)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(a,f):a(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(a=>a.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(a=>a.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ii(s)}}let de=(()=>{class u{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const or=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yi="websocket",ti="long_polling";class ol{constructor(s,a,f,v,D=!1,M="",J=!1){this.secure=a,this.namespace=f,this.webSocketOnly=v,this.nodeAdmin=D,this.persistenceKey=M,this.includeNamespaceInQueryParams=J,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wn.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&wn.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function wa(u,s,a){let f;if((0,ye.hu)("string"==typeof s,"typeof type must == string"),(0,ye.hu)("object"==typeof a,"typeof params must == object"),s===yi)f=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(s!==ti)throw new Error("Unknown connection type: "+s);f=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Cu(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(a.ns=u.namespace);const v=[];return gr(a,(D,M)=>{v.push(D+"="+M)}),f+v.join("&")}class Ia{constructor(){this.counters_={}}incrementCounter(s,a=1){(0,ye.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=a}get(){return(0,ye.p$)(this.counters_)}}const al={},Zl={};function xl(u){const s=u.toString();return al[s]||(al[s]=new Ia),al[s]}class ll{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,a){this.closeAfterResponse=s,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,a){for(this.pendingResponses[s]=a;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<f.length;++v)f[v]&&ba(()=>{this.onMessage_(f[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ul{constructor(s,a,f,v,D,M,J){this.connId=s,this.repoInfo=a,this.applicationId=f,this.appCheckToken=v,this.authToken=D,this.transportSessionId=M,this.lastSessionId=J,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ea(s),this.stats_=xl(a),this.urlFn=ce=>(this.appCheckToken&&(ce.ac=this.appCheckToken),wa(a,ti,ce))}open(s,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new ll(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,ye.Yr)()||"complete"===document.readyState)u();else{let s=!1;const a=function(){document.body?s||(s=!0,u()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Au((...D)=>{const[M,J,ce,Pe,vt]=D;if(this.incrementIncomingBytes_(D),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===M)this.id=J,this.password=ce;else{if("close"!==M)throw new Error("Unrecognized command received: "+M);J?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(J,()=>{this.onClosed_()})):this.onClosed_()}},(...D)=>{const[M,J]=D;this.incrementIncomingBytes_(D),this.myPacketOrderer.handleResponse(M,J)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&or.test(location.hostname)&&(f.r="f");const v=this.urlFn(f);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ul.forceAllow_=!0}static forceDisallow(){ul.forceDisallow_=!0}static isAvailable(){return!((0,ye.Yr)()||!ul.forceAllow_&&(ul.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const a=(0,ye.Pz)(s);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const f=(0,ye.h$)(a),v=Ss(f,1840);for(let D=0;D<v.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[D]),this.curSegmentNum++}addDisconnectPingFrame(s,a){if((0,ye.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=s,f.pw=a,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const a=(0,ye.Pz)(s).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Au{constructor(s,a,f,v){if(this.onDisconnect=f,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ye.Yr)())this.commandCB=s,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=Ua(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=Au.createIFrame_();let D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(D='<script>document.domain="'+document.domain+'";<\/script>');const M="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(M),this.myIFrame.doc.close()}catch(J){$i("frame writing exception"),J.stack&&$i(J.stack),$i(J)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||$i("No IE domain setting required")}catch(a){const f=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,a){for(this.myID=s,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let a=this.urlFn(s),f="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const M=this.pendingSegs.shift();f=f+"&seg"+v+"="+M.seg+"&ts"+v+"="+M.ts+"&d"+v+"="+M.d,v++}return a+=f,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(s,a,f){this.pendingSegs.push({seg:s,ts:a,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(s,a){this.outstandingRequests.add(a);const f=()=>{this.outstandingRequests.delete(a),this.newRequest_()},v=setTimeout(f,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(v),f()})}addTag(s,a){(0,ye.Yr)()?this.doNodeLongPoll(s,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=s,f.onload=f.onreadystatechange=function(){const v=f.readyState;(!v||"loaded"===v||"complete"===v)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),a())},f.onerror=()=>{$i("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch(f){}},Math.floor(1))}}let qc=null;"undefined"!=typeof MozWebSocket?qc=MozWebSocket:"undefined"!=typeof WebSocket&&(qc=WebSocket);let xu=(()=>{class u{constructor(a,f,v,D,M,J,ce){this.connId=a,this.applicationId=v,this.appCheckToken=D,this.authToken=M,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ea(this.connId),this.stats_=xl(f),this.connURL=u.connectionURL_(f,J,ce,D,v),this.nodeAdmin=f.nodeAdmin}static connectionURL_(a,f,v,D,M){const J={v:"5"};return!(0,ye.Yr)()&&"undefined"!=typeof location&&location.hostname&&or.test(location.hostname)&&(J.r="f"),f&&(J.s=f),v&&(J.ls=v),D&&(J.ac=D),M&&(J.p=M),wa(a,yi,J)}open(a,f){this.onDisconnect=f,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wn.set("previous_websocket_failure",!0);try{let v;if((0,ye.Yr)()){const M={headers:{"User-Agent":`Firebase/5/${Rd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(M.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);const J=process.env,ce=0===this.connURL.indexOf("wss://")?J.HTTPS_PROXY||J.https_proxy:J.HTTP_PROXY||J.http_proxy;ce&&(M.proxy={origin:ce})}this.mySock=new qc(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const D=v.message||v.data;return D&&this.log_(D),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const D=v.message||v.data;D&&this.log_(D),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(a=!0)}return!a&&null!==qc&&!u.forceDisallow_}static previouslyFailed(){return wn.isInMemoryStorage||!0===wn.get("previous_websocket_failure")}markConnectionHealthy(){wn.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const v=(0,ye.cI)(f);this.onMessage(v)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,ye.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const f=Number(a);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const f=a.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const v=this.extractFrameCount_(f);null!==v&&this.appendFrame_(v)}}send(a){this.resetKeepAlive();const f=(0,ye.Pz)(a);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const v=Ss(f,16384);v.length>1&&this.sendString_(String(v.length));for(let D=0;D<v.length;D++)this.sendString_(v[D])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),If=(()=>{class u{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[ul,xu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const f=xu&&xu.isAvailable();let v=f&&!xu.previouslyFailed();if(a.webSocketOnly&&(f||Ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[xu];else{const D=this.transports_=[];for(const M of u.ALL_TRANSPORTS)M&&M.isAvailable()&&D.push(M);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Dh{constructor(s,a,f,v,D,M,J,ce,Pe,vt){this.id=s,this.repoInfo_=a,this.applicationId_=f,this.appCheckToken_=v,this.authToken_=D,this.onMessage_=M,this.onReady_=J,this.onDisconnect_=ce,this.onKill_=Pe,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ea("c:"+this.id+":"),this.transportManager_=new If(a),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,f)},Math.floor(0));const v=s.healthyTimeout||0;v>0&&(this.healthyTimeout_=vo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return a=>{s===this.conn_?this.onConnectionLost_(a):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return a=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(a):s===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const a=s.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const a=wu("t",s),f=wu("d",s);if("c"===a)this.onSecondaryControl_(f);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const a=wu("t",s),f=wu("d",s);"c"===a?this.onControl_(f):"d"===a&&this.onDataMessage_(f)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const a=wu("t",s);if("d"in s){const f=s.d;if("h"===a)this.onHandshake_(f);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(f):"r"===a?this.onReset_(f):"e"===a?$a("Server Error: "+f):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$a("Unknown control packet command: "+a)}}onHandshake_(s){const a=s.ts,f=s.v,v=s.h;this.sessionId=s.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==f&&Ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,f),vo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,a){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ls{put(s,a,f,v){}merge(s,a,f,v){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,a,f){}onDisconnectMerge(s,a,f){}onDisconnectCancel(s,a){}reportStats(s){}}class Xc{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,ye.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...a){if(Array.isArray(this.listeners_[s])){const f=[...this.listeners_[s]];for(let v=0;v<f.length;v++)f[v].callback.apply(f[v].context,a)}}on(s,a,f){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:a,context:f});const v=this.getInitialEvent(s);v&&a.apply(f,v)}off(s,a,f){this.validateEventType_(s);const v=this.listeners_[s]||[];for(let D=0;D<v.length;D++)if(v[D].callback===a&&(!f||f===v[D].context))return void v.splice(D,1)}validateEventType_(s){(0,ye.hu)(this.allowedEvents_.find(a=>a===s),"Unknown event: "+s)}}class pc extends Xc{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,ye.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pc}getInitialEvent(s){return(0,ye.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class Ai{constructor(s,a){if(void 0===a){this.pieces_=s.split("/");let f=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[f]=this.pieces_[v],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=a}toString(){let s="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(s+="/"+this.pieces_[a]);return s||"/"}}function hi(){return new Ai("")}function $r(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Da(u){return u.pieces_.length-u.pieceNum_}function Ci(u){let s=u.pieceNum_;return s<u.pieces_.length&&s++,new Ai(u.pieces_,s)}function Sh(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Ou(u,s=0){return u.pieces_.slice(u.pieceNum_+s)}function Ro(u){if(u.pieceNum_>=u.pieces_.length)return null;const s=[];for(let a=u.pieceNum_;a<u.pieces_.length-1;a++)s.push(u.pieces_[a]);return new Ai(s,0)}function Di(u,s){const a=[];for(let f=u.pieceNum_;f<u.pieces_.length;f++)a.push(u.pieces_[f]);if(s instanceof Ai)for(let f=s.pieceNum_;f<s.pieces_.length;f++)a.push(s.pieces_[f]);else{const f=s.split("/");for(let v=0;v<f.length;v++)f[v].length>0&&a.push(f[v])}return new Ai(a,0)}function jr(u){return u.pieceNum_>=u.pieces_.length}function ni(u,s){const a=$r(u),f=$r(s);if(null===a)return s;if(a===f)return ni(Ci(u),Ci(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+u+")")}function ui(u,s){const a=Ou(u,0),f=Ou(s,0);for(let v=0;v<a.length&&v<f.length;v++){const D=Fo(a[v],f[v]);if(0!==D)return D}return a.length===f.length?0:a.length<f.length?-1:1}function Ah(u,s){if(Da(u)!==Da(s))return!1;for(let a=u.pieceNum_,f=s.pieceNum_;a<=u.pieces_.length;a++,f++)if(u.pieces_[a]!==s.pieces_[f])return!1;return!0}function Vo(u,s){let a=u.pieceNum_,f=s.pieceNum_;if(Da(u)>Da(s))return!1;for(;a<u.pieces_.length;){if(u.pieces_[a]!==s.pieces_[f])return!1;++a,++f}return!0}class Pu{constructor(s,a){this.errorPrefix_=a,this.parts_=Ou(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,ye.ug)(this.parts_[f]);Bd(this)}}function Bd(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Jl(u))}function Jl(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class gc extends Xc{constructor(){let s,a;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(a="visibilitychange",s="hidden"):void 0!==document.mozHidden?(a="mozvisibilitychange",s="mozHidden"):void 0!==document.msHidden?(a="msvisibilitychange",s="msHidden"):void 0!==document.webkitHidden&&(a="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const f=!document[s];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new gc}getInitialEvent(s){return(0,ye.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const mc=1e3;let $d,hl=(()=>{class u extends Ls{constructor(a,f,v,D,M,J,ce,Pe){if(super(),this.repoInfo_=a,this.applicationId_=f,this.onDataUpdate_=v,this.onConnectStatus_=D,this.onServerInfoUpdate_=M,this.authTokenProvider_=J,this.appCheckTokenProvider_=ce,this.authOverride_=Pe,this.id=u.nextPersistentConnectionId_++,this.log_=Ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Pe&&!(0,ye.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gc.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&pc.getInstance().on("online",this.onOnline_,this)}sendRequest(a,f,v){const D=++this.requestNumber_,M={r:D,a,b:f};this.log_((0,ye.Pz)(M)),(0,ye.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(M),v&&(this.requestCBHash_[D]=v)}get(a){this.initConnection_();const f=new ye.BH,v={p:a._path.toString(),q:a._queryObject},D={action:"g",request:v,onComplete:J=>{const ce=J.d;"ok"===J.s?(this.onDataUpdate_(v.p,ce,!1,null),f.resolve(ce)):f.reject(ce)}};this.outstandingGets_.push(D),this.outstandingGetCount_++;const M=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const J=this.outstandingGets_[M];void 0===J||D!==J||(delete this.outstandingGets_[M],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+M+" timed out on connection"),f.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(M),f.promise}listen(a,f,v,D){this.initConnection_();const M=a._queryIdentifier,J=a._path.toString();this.log_("Listen called for "+J+" "+M),this.listens.has(J)||this.listens.set(J,new Map),(0,ye.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ye.hu)(!this.listens.get(J).has(M),"listen() called twice for same path/queryId.");const ce={onComplete:D,hashFn:f,query:a,tag:v};this.listens.get(J).set(M,ce),this.connected_&&this.sendListen_(ce)}sendGet_(a){const f=this.outstandingGets_[a];this.sendRequest("g",f.request,v=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(v)})}sendListen_(a){const f=a.query,v=f._path.toString(),D=f._queryIdentifier;this.log_("Listen on "+v+" for "+D);const M={p:v};a.tag&&(M.q=f._queryObject,M.t=a.tag),M.h=a.hashFn(),this.sendRequest("q",M,ce=>{const Pe=ce.d,vt=ce.s;u.warnOnListenWarnings_(Pe,f),(this.listens.get(v)&&this.listens.get(v).get(D))===a&&(this.log_("listen response",ce),"ok"!==vt&&this.removeListen_(v,D),a.onComplete&&a.onComplete(vt,Pe))})}static warnOnListenWarnings_(a,f){if(a&&"object"==typeof a&&(0,ye.r3)(a,"w")){const v=(0,ye.DV)(a,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const D='".indexOn": "'+f._queryParams.getIndex().toString()+'"',M=f._path.toString();Ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${D} at ${M} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,ye.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,f=(0,ye.w9)(a)?"auth":"gauth",v={cred:a};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(f,v,D=>{const M=D.s,J=D.d||"error";this.authToken_===a&&("ok"===M?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(M,J))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const f=a.s,v=a.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,v)})}unlisten(a,f){const v=a._path.toString(),D=a._queryIdentifier;this.log_("Unlisten called for "+v+" "+D),(0,ye.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,D)&&this.connected_&&this.sendUnlisten_(v,D,a._queryObject,f)}sendUnlisten_(a,f,v,D){this.log_("Unlisten on "+a+" for "+f);const M={p:a};D&&(M.q=v,M.t=D),this.sendRequest("n",M)}onDisconnectPut(a,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,f,v):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:f,onComplete:v})}onDisconnectMerge(a,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,f,v):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:f,onComplete:v})}onDisconnectCancel(a,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,f):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(a,f,v,D){const M={p:f,d:v};this.log_("onDisconnect "+a,M),this.sendRequest(a,M,J=>{D&&setTimeout(()=>{D(J.s,J.d)},Math.floor(0))})}put(a,f,v,D){this.putInternal("p",a,f,v,D)}merge(a,f,v,D){this.putInternal("m",a,f,v,D)}putInternal(a,f,v,D,M){this.initConnection_();const J={p:f,d:v};void 0!==M&&(J.h=M),this.outstandingPuts_.push({action:a,request:J,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(a){const f=this.outstandingPuts_[a].action,v=this.outstandingPuts_[a].request,D=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(f,v,M=>{this.log_(f+" response",M),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),D&&D(M.s,M.d)})}reportStats(a){if(this.connected_){const f={c:a};this.log_("reportStats",f),this.sendRequest("s",f,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,ye.Pz)(a));const f=a.r,v=this.requestCBHash_[f];v&&(delete this.requestCBHash_[f],v(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,f){this.log_("handleServerMessage",a,f),"d"===a?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===a?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===a?this.onListenRevoked_(f.p,f.q):"ac"===a?this.onAuthRevoked_(f.s,f.d):"apc"===a?this.onAppCheckRevoked_(f.s,f.d):"sd"===a?this.onSecurityDebugPacket_(f):$a("Unrecognized action received from server: "+(0,ye.Pz)(a)+"\nAre you using the latest client?")}onReady_(a,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,ye.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-a);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,nn.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const f=a.onDataMessage_.bind(a),v=a.onReady_.bind(a),D=a.onRealtimeDisconnect_.bind(a),M=a.id+":"+u.nextConnectionId_++,J=a.lastSessionId;let ce=!1,Pe=null;const vt=function(){Pe?Pe.close():(ce=!0,D())};a.realtime_={close:vt,sendRequest:function(mn){(0,ye.hu)(Pe,"sendRequest call when we're not connected not allowed."),Pe.sendRequest(mn)}};const kt=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[mn,Mn]=yield Promise.all([a.authTokenProvider_.getToken(kt),a.appCheckTokenProvider_.getToken(kt)]);ce?$i("getToken() completed but was canceled"):($i("getToken() completed. Creating connection."),a.authToken_=mn&&mn.accessToken,a.appCheckToken_=Mn&&Mn.token,Pe=new Dh(M,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,f,v,D,_r=>{Ii(_r+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},J))}catch(mn){a.log_("Failed to get token: "+mn),ce||(a.repoInfo_.nodeAdmin&&Ii(mn),vt())}}})()}interrupt(a){$i("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){$i("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,ye.xb)(this.interruptReasons_)&&(this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const f=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const f=this.outstandingPuts_[a];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,f){let v;v=f?f.map(M=>Rs(M)).join("$"):"default";const D=this.removeListen_(a,v);D&&D.onComplete&&D.onComplete("permission_denied")}removeListen_(a,f){const v=new Ai(a).toString();let D;if(this.listens.has(v)){const M=this.listens.get(v);D=M.get(f),M.delete(f),0===M.size&&this.listens.delete(v)}else D=void 0;return D}onAuthRevoked_(a,f){$i("Auth token revoked: "+a+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,f){$i("App check token revoked: "+a+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const f of a.values())this.sendListen_(f);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let f="js";(0,ye.Yr)()&&(f=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+f+"."+Rd.replace(/\./g,"-")]=1,(0,ye.uI)()?a["framework.cordova"]=1:(0,ye.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=pc.getInstance().currentlyOnline();return(0,ye.xb)(this.interruptReasons_)&&a}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Yr{constructor(s,a){this.name=s,this.node=a}static Wrap(s,a){return new Yr(s,a)}}class qi{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,a){const f=new Yr(lo,s),v=new Yr(lo,a);return 0!==this.compare(f,v)}minPost(){return Yr.MIN}}class Mh extends qi{static get __EMPTY_NODE(){return $d}static set __EMPTY_NODE(s){$d=s}compare(s,a){return Fo(s.name,a.name)}isDefinedOn(s){throw(0,ye.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,a){return!1}minPost(){return Yr.MIN}maxPost(){return new Yr(Mo,$d)}makePost(s,a){return(0,ye.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new Yr(s,$d)}toString(){return".key"}}const aa=new Mh;class _c{constructor(s,a,f,v,D=null){this.isReverse_=v,this.resultGenerator_=D,this.nodeStack_=[];let M=1;for(;!s.isEmpty();)if(s=s,M=a?f(s.key,a):1,v&&(M*=-1),M<0)s=this.isReverse_?s.left:s.right;else{if(0===M){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,s=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Ws,Ha=(()=>{class u{constructor(a,f,v,D,M){this.key=a,this.value=f,this.color=null!=v?v:u.RED,this.left=null!=D?D:Js.EMPTY_NODE,this.right=null!=M?M:Js.EMPTY_NODE}copy(a,f,v,D,M){return new u(null!=a?a:this.key,null!=f?f:this.value,null!=v?v:this.color,null!=D?D:this.left,null!=M?M:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,f,v){let D=this;const M=v(a,D.key);return D=M<0?D.copy(null,null,null,D.left.insert(a,f,v),null):0===M?D.copy(null,f,null,null,null):D.copy(null,null,null,null,D.right.insert(a,f,v)),D.fixUp_()}removeMin_(){if(this.left.isEmpty())return Js.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,f){let v,D;if(v=this,f(a,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(a,f),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===f(a,v.key)){if(v.right.isEmpty())return Js.EMPTY_NODE;D=v.right.min_(),v=v.copy(D.key,D.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(a,f))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,f)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Js{constructor(s,a=Js.EMPTY_NODE){this.comparator_=s,this.root_=a}insert(s,a){return new Js(this.comparator_,this.root_.insert(s,a,this.comparator_).copy(null,null,Ha.BLACK,null,null))}remove(s){return new Js(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,Ha.BLACK,null,null))}get(s){let a,f=this.root_;for(;!f.isEmpty();){if(a=this.comparator_(s,f.key),0===a)return f.value;a<0?f=f.left:a>0&&(f=f.right)}return null}getPredecessorKey(s){let a,f=this.root_,v=null;for(;!f.isEmpty();){if(a=this.comparator_(s,f.key),0===a){if(f.left.isEmpty())return v?v.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}a<0?f=f.left:a>0&&(v=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new _c(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,a){return new _c(this.root_,s,this.comparator_,!1,a)}getReverseIteratorFrom(s,a){return new _c(this.root_,s,this.comparator_,!0,a)}getReverseIterator(s){return new _c(this.root_,null,this.comparator_,!0,s)}}function Sf(u,s){return Fo(u.name,s.name)}function ku(u,s){return Fo(u,s)}Js.EMPTY_NODE=new class Dp{copy(s,a,f,v,D){return this}insert(s,a,f){return new Ha(s,a,null)}remove(s,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fu=function(u){return"number"==typeof u?"number:"+ia(u):"string:"+u},Bs=function(u){if(u.isLeafNode()){const s=u.val();(0,ye.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,ye.r3)(s,".sv"),"Priority must be a string or number.")}else(0,ye.hu)(u===Ws||u.isEmpty(),"priority of unexpected type.");(0,ye.hu)(u===Ws||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let la,Jc,ws,Pl=(()=>{class u{constructor(a,f=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=f,this.lazyHash_=null,(0,ye.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Bs(this.priorityNode_)}static set __childrenNodeConstructor(a){la=a}static get __childrenNodeConstructor(){return la}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new u(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return jr(a)?this:".priority"===$r(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,f){return null}updateImmediateChild(a,f){return".priority"===a?this.updatePriority(f):f.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,f).updatePriority(this.priorityNode_)}updateChild(a,f){const v=$r(a);return null===v?f:f.isEmpty()&&".priority"!==v?this:((0,ye.hu)(".priority"!==v||1===Da(a),".priority must be the last token in a path"),this.updateImmediateChild(v,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ci(a),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,f){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+Fu(this.priorityNode_.val())+":");const f=typeof this.value_;a+=f+":",a+="number"===f?ia(this.value_):this.value_,this.lazyHash_=_a(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,ye.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const f=typeof a.value_,v=typeof this.value_,D=u.VALUE_TYPE_ORDER.indexOf(f),M=u.VALUE_TYPE_ORDER.indexOf(v);return(0,ye.hu)(D>=0,"Unknown leaf type: "+f),(0,ye.hu)(M>=0,"Unknown leaf type: "+v),D===M?"object"===v?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:M-D}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const f=a;return this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const ji=new class Af extends qi{compare(s,a){const f=s.node.getPriority(),v=a.node.getPriority(),D=f.compareTo(v);return 0===D?Fo(s.name,a.name):D}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,a){return!s.getPriority().equals(a.getPriority())}minPost(){return Yr.MIN}maxPost(){return new Yr(Mo,new Pl("[PRIORITY-POST]",ws))}makePost(s,a){const f=Jc(s);return new Yr(a,new Pl("[PRIORITY-POST]",f))}toString(){return".priority"}},xf=Math.log(2);class uo{constructor(s){this.count=parseInt(Math.log(s+1)/xf,10),this.current_=this.count-1;const v=(D=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&v}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const Ga=function(u,s,a,f){u.sort(s);const v=function(ce,Pe){const vt=Pe-ce;let It,kt;if(0===vt)return null;if(1===vt)return It=u[ce],kt=a?a(It):It,new Ha(kt,It.node,Ha.BLACK,null,null);{const mn=parseInt(vt/2,10)+ce,Mn=v(ce,mn),_r=v(mn+1,Pe);return It=u[mn],kt=a?a(It):It,new Ha(kt,It.node,Ha.BLACK,Mn,_r)}},J=function(ce){let Pe=null,vt=null,It=u.length;const kt=function(Mn,_r){const Zr=It-Mn,zo=It;It-=Mn;const to=v(Zr+1,zo),cs=u[Zr],no=a?a(cs):cs;mn(new Ha(no,cs.node,_r,null,to))},mn=function(Mn){Pe?(Pe.left=Mn,Pe=Mn):(vt=Mn,Pe=Mn)};for(let Mn=0;Mn<ce.count;++Mn){const _r=ce.nextBitIsOne(),Zr=Math.pow(2,ce.count-(Mn+1));_r?kt(Zr,Ha.BLACK):(kt(Zr,Ha.BLACK),kt(Zr,Ha.RED))}return vt}(new uo(u.length));return new Js(f||s,J)};let jd;const tu={};class Ta{constructor(s,a){this.indexes_=s,this.indexSet_=a}static get Default(){return(0,ye.hu)(tu&&ji,"ChildrenNode.ts has not been loaded"),jd=jd||new Ta({".priority":tu},{".priority":ji}),jd}get(s){const a=(0,ye.DV)(this.indexes_,s);if(!a)throw new Error("No index defined for "+s);return a instanceof Js?a:null}hasIndex(s){return(0,ye.r3)(this.indexSet_,s.toString())}addIndex(s,a){(0,ye.hu)(s!==aa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let v=!1;const D=a.getIterator(Yr.Wrap);let J,M=D.getNext();for(;M;)v=v||s.isDefinedOn(M.node),f.push(M),M=D.getNext();J=v?Ga(f,s.getCompare()):tu;const ce=s.toString(),Pe=Object.assign({},this.indexSet_);Pe[ce]=s;const vt=Object.assign({},this.indexes_);return vt[ce]=J,new Ta(vt,Pe)}addToIndexes(s,a){const f=(0,ye.UI)(this.indexes_,(v,D)=>{const M=(0,ye.DV)(this.indexSet_,D);if((0,ye.hu)(M,"Missing index implementation for "+D),v===tu){if(M.isDefinedOn(s.node)){const J=[],ce=a.getIterator(Yr.Wrap);let Pe=ce.getNext();for(;Pe;)Pe.name!==s.name&&J.push(Pe),Pe=ce.getNext();return J.push(s),Ga(J,M.getCompare())}return tu}{const J=a.get(s.name);let ce=v;return J&&(ce=ce.remove(new Yr(s.name,J))),ce.insert(s,s.node)}});return new Ta(f,this.indexSet_)}removeFromIndexes(s,a){const f=(0,ye.UI)(this.indexes_,v=>{if(v===tu)return v;{const D=a.get(s.name);return D?v.remove(new Yr(s.name,D)):v}});return new Ta(f,this.indexSet_)}}let nu,Ir=(()=>{class u{constructor(a,f,v){this.children_=a,this.priorityNode_=f,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&Bs(this.priorityNode_),this.children_.isEmpty()&&(0,ye.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nu||(nu=new u(new Js(ku),null,Ta.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nu}updatePriority(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const f=this.children_.get(a);return null===f?nu:f}}getChild(a){const f=$r(a);return null===f?this:this.getImmediateChild(f).getChild(Ci(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,f){if((0,ye.hu)(f,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(f);{const v=new Yr(a,f);let D,M;f.isEmpty()?(D=this.children_.remove(a),M=this.indexMap_.removeFromIndexes(v,this.children_)):(D=this.children_.insert(a,f),M=this.indexMap_.addToIndexes(v,this.children_));const J=D.isEmpty()?nu:this.priorityNode_;return new u(D,J,M)}}updateChild(a,f){const v=$r(a);if(null===v)return f;{(0,ye.hu)(".priority"!==$r(a)||1===Da(a),".priority must be the last token in a path");const D=this.getImmediateChild(v).updateChild(Ci(a),f);return this.updateImmediateChild(v,D)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const f={};let v=0,D=0,M=!0;if(this.forEachChild(ji,(J,ce)=>{f[J]=ce.val(a),v++,M&&u.INTEGER_REGEXP_.test(J)?D=Math.max(D,Number(J)):M=!1}),!a&&M&&D<2*v){const J=[];for(const ce in f)J[ce]=f[ce];return J}return a&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+Fu(this.getPriority().val())+":"),this.forEachChild(ji,(f,v)=>{const D=v.hash();""!==D&&(a+=":"+f+":"+D)}),this.lazyHash_=""===a?"":_a(a)}return this.lazyHash_}getPredecessorChildName(a,f,v){const D=this.resolveIndex_(v);if(D){const M=D.getPredecessorKey(new Yr(a,f));return M?M.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const f=this.resolveIndex_(a);if(f){const v=f.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(a){const f=this.getFirstChildName(a);return f?new Yr(f,this.children_.get(f)):null}getLastChildName(a){const f=this.resolveIndex_(a);if(f){const v=f.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(a){const f=this.getLastChildName(a);return f?new Yr(f,this.children_.get(f)):null}forEachChild(a,f){const v=this.resolveIndex_(a);return v?v.inorderTraversal(D=>f(D.name,D.node)):this.children_.inorderTraversal(f)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,f){const v=this.resolveIndex_(f);if(v)return v.getIteratorFrom(a,D=>D);{const D=this.children_.getIteratorFrom(a.name,Yr.Wrap);let M=D.peek();for(;null!=M&&f.compare(M,a)<0;)D.getNext(),M=D.peek();return D}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,f){const v=this.resolveIndex_(f);if(v)return v.getReverseIteratorFrom(a,D=>D);{const D=this.children_.getReverseIteratorFrom(a.name,Yr.Wrap);let M=D.peek();for(;null!=M&&f.compare(M,a)>0;)D.getNext(),M=D.peek();return D}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===td?-1:0}withIndex(a){if(a===aa||this.indexMap_.hasIndex(a))return this;{const f=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,f)}}isIndexed(a){return a===aa||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const f=a;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const v=this.getIterator(ji),D=f.getIterator(ji);let M=v.getNext(),J=D.getNext();for(;M&&J;){if(M.name!==J.name||!M.node.equals(J.node))return!1;M=v.getNext(),J=D.getNext()}return null===M&&null===J}return!1}return!1}}resolveIndex_(a){return a===aa?null:this.indexMap_.get(a.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const td=new class Oh extends Ir{constructor(){super(new Js(ku),Ir.EMPTY_NODE,Ta.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return Ir.EMPTY_NODE}isEmpty(){return!1}};function Ni(u,s=null){if(null===u)return Ir.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(s=u[".priority"]),(0,ye.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Pl(u,Ni(s));if(u instanceof Array){let a=Ir.EMPTY_NODE;return gr(u,(f,v)=>{if((0,ye.r3)(u,f)&&"."!==f.substring(0,1)){const D=Ni(v);(D.isLeafNode()||!D.isEmpty())&&(a=a.updateImmediateChild(f,D))}}),a.updatePriority(Ni(s))}{const a=[];let f=!1;if(gr(u,(M,J)=>{if("."!==M.substring(0,1)){const ce=Ni(J);ce.isEmpty()||(f=f||!ce.getPriority().isEmpty(),a.push(new Yr(M,ce)))}}),0===a.length)return Ir.EMPTY_NODE;const D=Ga(a,Sf,M=>M.name,ku);if(f){const M=Ga(a,ji.getCompare());return new Ir(D,Ni(s),new Ta({".priority":M},{".priority":ji}))}return new Ir(D,Ni(s),Ta.Default)}}Object.defineProperties(Yr,{MIN:{value:new Yr(lo,Ir.EMPTY_NODE)},MAX:{value:new Yr(Mo,td)}}),Mh.__EMPTY_NODE=Ir.EMPTY_NODE,Pl.__childrenNodeConstructor=Ir,function Rh(u){Ws=u}(td),function ed(u){ws=u}(td),function eu(u){Jc=u}(Ni);class ru extends qi{constructor(s){super(),this.indexPath_=s,(0,ye.hu)(!jr(s)&&".priority"!==$r(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,a){const f=this.extractChild(s.node),v=this.extractChild(a.node),D=f.compareTo(v);return 0===D?Fo(s.name,a.name):D}makePost(s,a){const f=Ni(s),v=Ir.EMPTY_NODE.updateChild(this.indexPath_,f);return new Yr(a,v)}maxPost(){const s=Ir.EMPTY_NODE.updateChild(this.indexPath_,td);return new Yr(Mo,s)}toString(){return Ou(this.indexPath_,0).join("/")}}const Ph=new class Hd extends qi{compare(s,a){const f=s.node.compareTo(a.node);return 0===f?Fo(s.name,a.name):f}isDefinedOn(s){return!0}indexedValueChanged(s,a){return!s.equals(a)}minPost(){return Yr.MIN}maxPost(){return Yr.MAX}makePost(s,a){const f=Ni(s);return new Yr(a,f)}toString(){return".value"}},Lu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nh=function(){let u=0;const s=[];return function(a){const f=a===u;let v;u=a;const D=new Array(8);for(v=7;v>=0;v--)D[v]=Lu.charAt(a%64),a=Math.floor(a/64);(0,ye.hu)(0===a,"Cannot push at time == 0");let M=D.join("");if(f){for(v=11;v>=0&&63===s[v];v--)s[v]=0;s[v]++}else for(v=0;v<12;v++)s[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)M+=Lu.charAt(s[v]);return(0,ye.hu)(20===M.length,"nextPushId: Length should be 20."),M}}(),Ks=function(u){if(u===""+Nd)return"-";const s=zs(u);if(null!=s)return""+(s+1);const a=new Array(u.length);for(let M=0;M<a.length;M++)a[M]=u.charAt(M);if(a.length<786)return a.push("-"),a.join("");let f=a.length-1;for(;f>=0&&"z"===a[f];)f--;if(-1===f)return Mo;const D=Lu.charAt(Lu.indexOf(a[f])+1);return a[f]=D,a.slice(0,f+1).join("")},Bu=function(u){if(u===""+Iu)return lo;const s=zs(u);if(null!=s)return""+(s-1);const a=new Array(u.length);for(let f=0;f<a.length;f++)a[f]=u.charAt(f);return"-"===a[a.length-1]?1===a.length?""+Nd:(delete a[a.length-1],a.join("")):(a[a.length-1]=Lu.charAt(Lu.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function vc(u){return{type:"value",snapshotNode:u}}function iu(u,s){return{type:"child_added",snapshotNode:s,childName:u}}function nd(u,s){return{type:"child_removed",snapshotNode:s,childName:u}}function Vu(u,s,a){return{type:"child_changed",snapshotNode:s,childName:u,oldSnap:a}}class kh{constructor(s){this.index_=s}updateChild(s,a,f,v,D,M){(0,ye.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const J=s.getImmediateChild(a);return J.getChild(v).equals(f.getChild(v))&&J.isEmpty()===f.isEmpty()||(null!=M&&(f.isEmpty()?s.hasChild(a)?M.trackChildChange(nd(a,J)):(0,ye.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):J.isEmpty()?M.trackChildChange(iu(a,f)):M.trackChildChange(Vu(a,f,J))),s.isLeafNode()&&f.isEmpty())?s:s.updateImmediateChild(a,f).withIndex(this.index_)}updateFullNode(s,a,f){return null!=f&&(s.isLeafNode()||s.forEachChild(ji,(v,D)=>{a.hasChild(v)||f.trackChildChange(nd(v,D))}),a.isLeafNode()||a.forEachChild(ji,(v,D)=>{if(s.hasChild(v)){const M=s.getImmediateChild(v);M.equals(D)||f.trackChildChange(Vu(v,D,M))}else f.trackChildChange(iu(v,D))})),a.withIndex(this.index_)}updatePriority(s,a){return s.isEmpty()?Ir.EMPTY_NODE:s.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pl{constructor(s){this.indexedFilter_=new kh(s.getIndex()),this.index_=s.getIndex(),this.startPost_=pl.getStartPost_(s),this.endPost_=pl.getEndPost_(s)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){return this.index_.compare(this.getStartPost(),s)<=0&&this.index_.compare(s,this.getEndPost())<=0}updateChild(s,a,f,v,D,M){return this.matches(new Yr(a,f))||(f=Ir.EMPTY_NODE),this.indexedFilter_.updateChild(s,a,f,v,D,M)}updateFullNode(s,a,f){a.isLeafNode()&&(a=Ir.EMPTY_NODE);let v=a.withIndex(this.index_);v=v.updatePriority(Ir.EMPTY_NODE);const D=this;return a.forEachChild(ji,(M,J)=>{D.matches(new Yr(M,J))||(v=v.updateImmediateChild(M,Ir.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,v,f)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const a=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),a)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const a=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),a)}return s.getIndex().maxPost()}}class gl{constructor(s){this.rangedFilter_=new pl(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft()}updateChild(s,a,f,v,D,M){return this.rangedFilter_.matches(new Yr(a,f))||(f=Ir.EMPTY_NODE),s.getImmediateChild(a).equals(f)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,a,f,v,D,M):this.fullLimitUpdateChild_(s,a,f,D,M)}updateFullNode(s,a,f){let v;if(a.isLeafNode()||a.isEmpty())v=Ir.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let D;v=Ir.EMPTY_NODE.withIndex(this.index_),D=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let M=0;for(;D.hasNext()&&M<this.limit_;){const J=D.getNext();let ce;if(ce=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),J)<=0:this.index_.compare(J,this.rangedFilter_.getEndPost())<=0,!ce)break;v=v.updateImmediateChild(J.name,J.node),M++}}else{let D,M,J,ce;if(v=a.withIndex(this.index_),v=v.updatePriority(Ir.EMPTY_NODE),this.reverse_){ce=v.getReverseIterator(this.index_),D=this.rangedFilter_.getEndPost(),M=this.rangedFilter_.getStartPost();const It=this.index_.getCompare();J=(kt,mn)=>It(mn,kt)}else ce=v.getIterator(this.index_),D=this.rangedFilter_.getStartPost(),M=this.rangedFilter_.getEndPost(),J=this.index_.getCompare();let Pe=0,vt=!1;for(;ce.hasNext();){const It=ce.getNext();!vt&&J(D,It)<=0&&(vt=!0),vt&&Pe<this.limit_&&J(It,M)<=0?Pe++:v=v.updateImmediateChild(It.name,Ir.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,v,f)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,a,f,v,D){let M;if(this.reverse_){const It=this.index_.getCompare();M=(kt,mn)=>It(mn,kt)}else M=this.index_.getCompare();const J=s;(0,ye.hu)(J.numChildren()===this.limit_,"");const ce=new Yr(a,f),Pe=this.reverse_?J.getFirstChild(this.index_):J.getLastChild(this.index_),vt=this.rangedFilter_.matches(ce);if(J.hasChild(a)){const It=J.getImmediateChild(a);let kt=v.getChildAfterChild(this.index_,Pe,this.reverse_);for(;null!=kt&&(kt.name===a||J.hasChild(kt.name));)kt=v.getChildAfterChild(this.index_,kt,this.reverse_);const mn=null==kt?1:M(kt,ce);if(vt&&!f.isEmpty()&&mn>=0)return null!=D&&D.trackChildChange(Vu(a,f,It)),J.updateImmediateChild(a,f);{null!=D&&D.trackChildChange(nd(a,It));const _r=J.updateImmediateChild(a,Ir.EMPTY_NODE);return null!=kt&&this.rangedFilter_.matches(kt)?(null!=D&&D.trackChildChange(iu(kt.name,kt.node)),_r.updateImmediateChild(kt.name,kt.node)):_r}}return f.isEmpty()?s:vt&&M(Pe,ce)>=0?(null!=D&&(D.trackChildChange(nd(Pe.name,Pe.node)),D.trackChildChange(iu(a,f))),J.updateImmediateChild(a,f).updateImmediateChild(Pe.name,Ir.EMPTY_NODE)):s}}class w{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ji}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ye.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ye.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ye.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ye.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ye.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ji}copy(){const s=new w;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Y(u,s,a){const f=u.copy();return f.startSet_=!0,void 0===s&&(s=null),f.indexStartValue_=s,null!=a?(f.startNameSet_=!0,f.indexStartName_=a):(f.startNameSet_=!1,f.indexStartName_=""),f}function ht(u,s,a){const f=u.copy();return f.endSet_=!0,void 0===s&&(s=null),f.indexEndValue_=s,void 0!==a?(f.endNameSet_=!0,f.indexEndName_=a):(f.endNameSet_=!1,f.indexEndName_=""),f}function vn(u,s){const a=u.copy();return a.index_=s,a}function Nn(u){const s={};if(u.isDefault())return s;let a;return u.index_===ji?a="$priority":u.index_===Ph?a="$value":u.index_===aa?a="$key":((0,ye.hu)(u.index_ instanceof ru,"Unrecognized index type!"),a=u.index_.toString()),s.orderBy=(0,ye.Pz)(a),u.startSet_&&(s.startAt=(0,ye.Pz)(u.indexStartValue_),u.startNameSet_&&(s.startAt+=","+(0,ye.Pz)(u.indexStartName_))),u.endSet_&&(s.endAt=(0,ye.Pz)(u.indexEndValue_),u.endNameSet_&&(s.endAt+=","+(0,ye.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?s.limitToFirst=u.limit_:s.limitToLast=u.limit_),s}function ar(u){const s={};if(u.startSet_&&(s.sp=u.indexStartValue_,u.startNameSet_&&(s.sn=u.indexStartName_)),u.endSet_&&(s.ep=u.indexEndValue_,u.endNameSet_&&(s.en=u.indexEndName_)),u.limitSet_){s.l=u.limit_;let a=u.viewFrom_;""===a&&(a=u.isViewFromLeft()?"l":"r"),s.vf=a}return u.index_!==ji&&(s.i=u.index_.toString()),s}class Xn extends Ls{constructor(s,a,f,v){super(),this.repoInfo_=s,this.onDataUpdate_=a,this.authTokenProvider_=f,this.appCheckTokenProvider_=v,this.log_=Ea("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,a){return void 0!==a?"tag$"+a:((0,ye.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,a,f,v){const D=s._path.toString();this.log_("Listen called for "+D+" "+s._queryIdentifier);const M=Xn.getListenId_(s,f),J={};this.listens_[M]=J;const ce=Nn(s._queryParams);this.restRequest_(D+".json",ce,(Pe,vt)=>{let It=vt;if(404===Pe&&(It=null,Pe=null),null===Pe&&this.onDataUpdate_(D,It,!1,f),(0,ye.DV)(this.listens_,M)===J){let kt;kt=Pe?401===Pe?"permission_denied":"rest_error:"+Pe:"ok",v(kt,null)}})}unlisten(s,a){const f=Xn.getListenId_(s,a);delete this.listens_[f]}get(s){const a=Nn(s._queryParams),f=s._path.toString(),v=new ye.BH;return this.restRequest_(f+".json",a,(D,M)=>{let J=M;404===D&&(J=null,D=null),null===D?(this.onDataUpdate_(f,J,!1,null),v.resolve(J)):v.reject(new Error(J))}),v.promise}refreshAuthToken(s){}restRequest_(s,a={},f){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,D])=>{v&&v.accessToken&&(a.auth=v.accessToken),D&&D.token&&(a.ac=D.token);const M=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,ye.xO)(a);this.log_("Sending REST request for "+M);const J=new XMLHttpRequest;J.onreadystatechange=()=>{if(f&&4===J.readyState){this.log_("REST Response for "+M+" received. status:",J.status,"response:",J.responseText);let ce=null;if(J.status>=200&&J.status<300){try{ce=(0,ye.cI)(J.responseText)}catch(Pe){Ii("Failed to parse JSON response for "+M+": "+J.responseText)}f(null,ce)}else 401!==J.status&&404!==J.status&&Ii("Got unsuccessful REST response for "+M+" Status: "+J.status),f(J.status);f=null}},J.open("GET",M,!0),J.send()})}}class Os{constructor(){this.rootNode_=Ir.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,a){this.rootNode_=this.rootNode_.updateChild(s,a)}}function ho(){return{value:null,children:new Map}}function za(u,s,a){if(jr(s))u.value=a,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(s,a);else{const f=$r(s);u.children.has(f)||u.children.set(f,ho()),za(u.children.get(f),s=Ci(s),a)}}function $t(u,s){if(jr(s))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const a=u.value;return u.value=null,a.forEachChild(ji,(f,v)=>{za(u,new Ai(f),v)}),$t(u,s)}}if(u.children.size>0){const a=$r(s);return s=Ci(s),u.children.has(a)&&$t(u.children.get(a),s)&&u.children.delete(a),0===u.children.size}return!0}function ua(u,s,a){null!==u.value?a(s,u.value):function Uo(u,s){u.children.forEach((a,f)=>{s(f,a)})}(u,(f,v)=>{ua(v,new Ai(s.toString()+"/"+f),a)})}class Fh{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),a=Object.assign({},s);return this.last_&&gr(this.last_,(f,v)=>{a[f]=a[f]-v}),this.last_=s,a}}class Nl{constructor(s,a){this.server_=a,this.statsToReport_={},this.statsListener_=new Fh(s);const f=1e4+2e4*Math.random();vo(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const s=this.statsListener_.get(),a={};let f=!1;gr(s,(v,D)=>{D>0&&(0,ye.r3)(this.statsToReport_,v)&&(a[v]=D,f=!0)}),f&&this.server_.reportStats(a),vo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $o=(()=>{return(u=$o||($o={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$o;var u})();function Vs(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class id{constructor(s,a,f){this.path=s,this.affectedTree=a,this.revert=f,this.type=$o.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(jr(this.path)){if(null!=this.affectedTree.value)return(0,ye.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Ai(s));return new id(hi(),a,this.revert)}}return(0,ye.hu)($r(this.path)===s,"operationForChild called for unrelated child."),new id(Ci(this.path),this.affectedTree,this.revert)}}class Uu{constructor(s,a){this.source=s,this.path=a,this.type=$o.LISTEN_COMPLETE}operationForChild(s){return jr(this.path)?new Uu(this.source,hi()):new Uu(this.source,Ci(this.path))}}class ou{constructor(s,a,f){this.source=s,this.path=a,this.snap=f,this.type=$o.OVERWRITE}operationForChild(s){return jr(this.path)?new ou(this.source,hi(),this.snap.getImmediateChild(s)):new ou(this.source,Ci(this.path),this.snap)}}class ca{constructor(s,a,f){this.source=s,this.path=a,this.children=f,this.type=$o.MERGE}operationForChild(s){if(jr(this.path)){const a=this.children.subtree(new Ai(s));return a.isEmpty()?null:a.value?new ou(this.source,hi(),a.value):new ca(this.source,hi(),a)}return(0,ye.hu)($r(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new ca(this.source,Ci(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $u{constructor(s,a,f){this.node_=s,this.fullyInitialized_=a,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(jr(s))return this.isFullyInitialized()&&!this.filtered_;const a=$r(s);return this.isCompleteForChild(a)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class Dm{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function ju(u,s,a,f,v,D){const M=f.filter(J=>J.type===a);M.sort((J,ce)=>function bc(u,s,a){if(null==s.childName||null==a.childName)throw(0,ye.g5)("Should only compare child_ events.");const f=new Yr(s.childName,s.snapshotNode),v=new Yr(a.childName,a.snapshotNode);return u.index_.compare(f,v)}(u,J,ce)),M.forEach(J=>{const ce=function Wa(u,s,a){return"value"===s.type||"child_removed"===s.type||(s.prevName=a.getPredecessorChildName(s.childName,s.snapshotNode,u.index_)),s}(u,J,D);v.forEach(Pe=>{Pe.respondsTo(J.type)&&s.push(Pe.createEvent(ce,u.query_))})})}function au(u,s){return{eventCache:u,serverCache:s}}function Hu(u,s,a,f){return au(new $u(s,a,f),u.serverCache)}function zd(u,s,a,f){return au(u.eventCache,new $u(s,a,f))}function Wd(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function lu(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Lh;class Zi{constructor(s,a=(()=>(Lh||(Lh=new Js(Od)),Lh))()){this.value=s,this.children=a}static fromObject(s){let a=new Zi(null);return gr(s,(f,v)=>{a=a.set(new Ai(f),v)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,a){if(null!=this.value&&a(this.value))return{path:hi(),value:this.value};if(jr(s))return null;{const f=$r(s),v=this.children.get(f);if(null!==v){const D=v.findRootMostMatchingPathAndValue(Ci(s),a);return null!=D?{path:Di(new Ai(f),D.path),value:D.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(jr(s))return this;{const a=$r(s),f=this.children.get(a);return null!==f?f.subtree(Ci(s)):new Zi(null)}}set(s,a){if(jr(s))return new Zi(a,this.children);{const f=$r(s),D=(this.children.get(f)||new Zi(null)).set(Ci(s),a),M=this.children.insert(f,D);return new Zi(this.value,M)}}remove(s){if(jr(s))return this.children.isEmpty()?new Zi(null):new Zi(null,this.children);{const a=$r(s),f=this.children.get(a);if(f){const v=f.remove(Ci(s));let D;return D=v.isEmpty()?this.children.remove(a):this.children.insert(a,v),null===this.value&&D.isEmpty()?new Zi(null):new Zi(this.value,D)}return this}}get(s){if(jr(s))return this.value;{const a=$r(s),f=this.children.get(a);return f?f.get(Ci(s)):null}}setTree(s,a){if(jr(s))return a;{const f=$r(s),D=(this.children.get(f)||new Zi(null)).setTree(Ci(s),a);let M;return M=D.isEmpty()?this.children.remove(f):this.children.insert(f,D),new Zi(this.value,M)}}fold(s){return this.fold_(hi(),s)}fold_(s,a){const f={};return this.children.inorderTraversal((v,D)=>{f[v]=D.fold_(Di(s,v),a)}),a(s,this.value,f)}findOnPath(s,a){return this.findOnPath_(s,hi(),a)}findOnPath_(s,a,f){const v=!!this.value&&f(a,this.value);if(v)return v;if(jr(s))return null;{const D=$r(s),M=this.children.get(D);return M?M.findOnPath_(Ci(s),Di(a,D),f):null}}foreachOnPath(s,a){return this.foreachOnPath_(s,hi(),a)}foreachOnPath_(s,a,f){if(jr(s))return this;{this.value&&f(a,this.value);const v=$r(s),D=this.children.get(v);return D?D.foreachOnPath_(Ci(s),Di(a,v),f):new Zi(null)}}foreach(s){this.foreach_(hi(),s)}foreach_(s,a){this.children.inorderTraversal((f,v)=>{v.foreach_(Di(s,f),a)}),this.value&&a(s,this.value)}foreachChild(s){this.children.inorderTraversal((a,f)=>{f.value&&s(a,f.value)})}}class Ka{constructor(s){this.writeTree_=s}static empty(){return new Ka(new Zi(null))}}function uu(u,s,a){if(jr(s))return new Ka(new Zi(a));{const f=u.writeTree_.findRootMostValueAndPath(s);if(null!=f){const v=f.path;let D=f.value;const M=ni(v,s);return D=D.updateChild(M,a),new Ka(u.writeTree_.set(v,D))}{const v=new Zi(a),D=u.writeTree_.setTree(s,v);return new Ka(D)}}}function cu(u,s,a){let f=u;return gr(a,(v,D)=>{f=uu(f,Di(s,v),D)}),f}function Gu(u,s){if(jr(s))return Ka.empty();{const a=u.writeTree_.setTree(s,new Zi(null));return new Ka(a)}}function Bh(u,s){return null!=zu(u,s)}function zu(u,s){const a=u.writeTree_.findRootMostValueAndPath(s);return null!=a?u.writeTree_.get(a.path).getChild(ni(a.path,s)):null}function Rf(u){const s=[],a=u.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(ji,(f,v)=>{s.push(new Yr(f,v))}):u.writeTree_.children.inorderTraversal((f,v)=>{null!=v.value&&s.push(new Yr(f,v.value))}),s}function yl(u,s){if(jr(s))return u;{const a=zu(u,s);return new Ka(null!=a?new Zi(a):u.writeTree_.subtree(s))}}function Ap(u){return u.writeTree_.isEmpty()}function kl(u,s){return wc(hi(),u.writeTree_,s)}function wc(u,s,a){if(null!=s.value)return a.updateChild(u,s.value);{let f=null;return s.children.inorderTraversal((v,D)=>{".priority"===v?((0,ye.hu)(null!==D.value,"Priority writes must always be leaf nodes"),f=D.value):a=wc(Di(u,v),D,a)}),!a.getChild(u).isEmpty()&&null!==f&&(a=a.updateChild(Di(u,".priority"),f)),a}}function du(u,s){return Pf(s,u)}function Vh(u,s){if(u.snap)return Vo(u.path,s);for(const a in u.children)if(u.children.hasOwnProperty(a)&&Vo(Di(u.path,a),s))return!0;return!1}function Rp(u){return u.visible}function Kd(u,s,a){let f=Ka.empty();for(let v=0;v<u.length;++v){const D=u[v];if(s(D)){const M=D.path;let J;if(D.snap)Vo(a,M)?(J=ni(a,M),f=uu(f,J,D.snap)):Vo(M,a)&&(J=ni(M,a),f=uu(f,hi(),D.snap.getChild(J)));else{if(!D.children)throw(0,ye.g5)("WriteRecord should have .snap or .children");if(Vo(a,M))J=ni(a,M),f=cu(f,J,D.children);else if(Vo(M,a))if(J=ni(M,a),jr(J))f=cu(f,hi(),D.children);else{const ce=(0,ye.DV)(D.children,$r(J));if(ce){const Pe=ce.getChild(Ci(J));f=uu(f,hi(),Pe)}}}}}return f}function Uh(u,s,a,f,v){if(f||v){const D=yl(u.visibleWrites,s);return!v&&Ap(D)?a:v||null!=a||Bh(D,hi())?kl(Kd(u.allWrites,function(Pe){return(Pe.visible||v)&&(!f||!~f.indexOf(Pe.writeId))&&(Vo(Pe.path,s)||Vo(s,Pe.path))},s),a||Ir.EMPTY_NODE):null}{const D=zu(u.visibleWrites,s);if(null!=D)return D;{const M=yl(u.visibleWrites,s);return Ap(M)?a:null!=a||Bh(M,hi())?kl(M,a||Ir.EMPTY_NODE):null}}}function $h(u,s,a,f){return Uh(u.writeTree,u.treePath,s,a,f)}function Fl(u,s){return function Sa(u,s,a){let f=Ir.EMPTY_NODE;const v=zu(u.visibleWrites,s);if(v)return v.isLeafNode()||v.forEachChild(ji,(D,M)=>{f=f.updateImmediateChild(D,M)}),f;if(a){const D=yl(u.visibleWrites,s);return a.forEachChild(ji,(M,J)=>{const ce=kl(yl(D,new Ai(M)),J);f=f.updateImmediateChild(M,ce)}),Rf(D).forEach(M=>{f=f.updateImmediateChild(M.name,M.node)}),f}return Rf(yl(u.visibleWrites,s)).forEach(M=>{f=f.updateImmediateChild(M.name,M.node)}),f}(u.writeTree,u.treePath,s)}function sd(u,s,a,f){return function Dg(u,s,a,f,v){(0,ye.hu)(f||v,"Either existingEventSnap or existingServerSnap must exist");const D=Di(s,a);if(Bh(u.visibleWrites,D))return null;{const M=yl(u.visibleWrites,D);return Ap(M)?v.getChild(a):kl(M,v.getChild(a))}}(u.writeTree,u.treePath,s,a,f)}function jh(u,s){return function Tg(u,s){return zu(u.visibleWrites,s)}(u.writeTree,Di(u.treePath,s))}function Ar(u,s,a){return function da(u,s,a,f){const v=Di(s,a),D=zu(u.visibleWrites,v);return null!=D?D:f.isCompleteForChild(a)?kl(yl(u.visibleWrites,v),f.getNode().getImmediateChild(a)):null}(u.writeTree,u.treePath,s,a)}function Ic(u,s){return Pf(Di(u.treePath,s),u.writeTree)}function Pf(u,s){return{treePath:u,writeTree:s}}class Wu{constructor(){this.changeMap=new Map}trackChildChange(s){const a=s.type,f=s.childName;(0,ye.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,ye.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(f);if(v){const D=v.type;if("child_added"===a&&"child_removed"===D)this.changeMap.set(f,Vu(f,s.snapshotNode,v.snapshotNode));else if("child_removed"===a&&"child_added"===D)this.changeMap.delete(f);else if("child_removed"===a&&"child_changed"===D)this.changeMap.set(f,nd(f,v.oldSnap));else if("child_changed"===a&&"child_added"===D)this.changeMap.set(f,iu(f,s.snapshotNode));else{if("child_changed"!==a||"child_changed"!==D)throw(0,ye.g5)("Illegal combination of changes: "+s+" occurred after "+v);this.changeMap.set(f,Vu(f,s.snapshotNode,v.oldSnap))}}else this.changeMap.set(f,s)}getChanges(){return Array.from(this.changeMap.values())}}const Aa=new class hu{getCompleteChild(s){return null}getChildAfterChild(s,a,f){return null}};class Hh{constructor(s,a,f=null){this.writes_=s,this.viewCache_=a,this.optCompleteServerCache_=f}getCompleteChild(s){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(s))return a.getNode().getImmediateChild(s);{const f=null!=this.optCompleteServerCache_?new $u(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ar(this.writes_,s,f)}}getChildAfterChild(s,a,f){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lu(this.viewCache_),D=function od(u,s,a,f,v,D){return function Of(u,s,a,f,v,D,M){let J;const ce=yl(u.visibleWrites,s),Pe=zu(ce,hi());if(null!=Pe)J=Pe;else{if(null==a)return[];J=kl(ce,a)}if(J=J.withIndex(M),J.isEmpty()||J.isLeafNode())return[];{const vt=[],It=M.getCompare(),kt=D?J.getReverseIteratorFrom(f,M):J.getIteratorFrom(f,M);let mn=kt.getNext();for(;mn&&vt.length<v;)0!==It(mn,f)&&vt.push(mn),mn=kt.getNext();return vt}}(u.writeTree,u.treePath,s,a,f,v,D)}(this.writes_,v,a,1,f,s);return 0===D.length?null:D[0]}}function Yd(u,s,a,f,v,D){const M=s.eventCache;if(null!=jh(f,a))return s;{let J,ce;if(jr(a))if((0,ye.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const Pe=lu(s),It=Fl(f,Pe instanceof Ir?Pe:Ir.EMPTY_NODE);J=u.filter.updateFullNode(s.eventCache.getNode(),It,D)}else{const Pe=$h(f,lu(s));J=u.filter.updateFullNode(s.eventCache.getNode(),Pe,D)}else{const Pe=$r(a);if(".priority"===Pe){(0,ye.hu)(1===Da(a),"Can't have a priority with additional path components");const vt=M.getNode();ce=s.serverCache.getNode();const It=sd(f,a,vt,ce);J=null!=It?u.filter.updatePriority(vt,It):M.getNode()}else{const vt=Ci(a);let It;if(M.isCompleteForChild(Pe)){ce=s.serverCache.getNode();const kt=sd(f,a,M.getNode(),ce);It=null!=kt?M.getNode().getImmediateChild(Pe).updateChild(vt,kt):M.getNode().getImmediateChild(Pe)}else It=Ar(f,Pe,s.serverCache);J=null!=It?u.filter.updateChild(M.getNode(),Pe,It,vt,v,D):M.getNode()}}return Hu(s,J,M.isFullyInitialized()||jr(a),u.filter.filtersNodes())}}function ad(u,s,a,f,v,D,M,J){const ce=s.serverCache;let Pe;const vt=M?u.filter:u.filter.getIndexedFilter();if(jr(a))Pe=vt.updateFullNode(ce.getNode(),f,null);else if(vt.filtersNodes()&&!ce.isFiltered()){const mn=ce.getNode().updateChild(a,f);Pe=vt.updateFullNode(ce.getNode(),mn,null)}else{const mn=$r(a);if(!ce.isCompleteForPath(a)&&Da(a)>1)return s;const Mn=Ci(a),Zr=ce.getNode().getImmediateChild(mn).updateChild(Mn,f);Pe=".priority"===mn?vt.updatePriority(ce.getNode(),Zr):vt.updateChild(ce.getNode(),mn,Zr,Mn,Aa,null)}const It=zd(s,Pe,ce.isFullyInitialized()||jr(a),vt.filtersNodes());return Yd(u,It,a,v,new Hh(v,It,D),J)}function Sg(u,s,a,f,v,D,M){const J=s.eventCache;let ce,Pe;const vt=new Hh(v,s,D);if(jr(a))Pe=u.filter.updateFullNode(s.eventCache.getNode(),f,M),ce=Hu(s,Pe,!0,u.filter.filtersNodes());else{const It=$r(a);if(".priority"===It)Pe=u.filter.updatePriority(s.eventCache.getNode(),f),ce=Hu(s,Pe,J.isFullyInitialized(),J.isFiltered());else{const kt=Ci(a),mn=J.getNode().getImmediateChild(It);let Mn;if(jr(kt))Mn=f;else{const _r=vt.getCompleteChild(It);Mn=null!=_r?".priority"===Sh(kt)&&_r.getChild(Ro(kt)).isEmpty()?_r:_r.updateChild(kt,f):Ir.EMPTY_NODE}ce=mn.equals(Mn)?s:Hu(s,u.filter.updateChild(J.getNode(),It,Mn,kt,vt,M),J.isFullyInitialized(),u.filter.filtersNodes())}}return ce}function kp(u,s){return u.eventCache.isCompleteForChild(s)}function Ll(u,s,a){return a.foreach((f,v)=>{s=s.updateChild(f,v)}),s}function fu(u,s,a,f,v,D,M,J){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let Pe,ce=s;Pe=jr(a)?f:new Zi(null).setTree(a,f);const vt=s.serverCache.getNode();return Pe.children.inorderTraversal((It,kt)=>{if(vt.hasChild(It)){const Mn=Ll(0,s.serverCache.getNode().getImmediateChild(It),kt);ce=ad(u,ce,new Ai(It),Mn,v,D,M,J)}}),Pe.children.inorderTraversal((It,kt)=>{const mn=!s.serverCache.isCompleteForChild(It)&&void 0===kt.value;if(!vt.hasChild(It)&&!mn){const _r=Ll(0,s.serverCache.getNode().getImmediateChild(It),kt);ce=ad(u,ce,new Ai(It),_r,v,D,M,J)}}),ce}class xm{constructor(s,a){this.query_=s,this.eventRegistrations_=[];const f=this.query_._queryParams,v=new kh(f.getIndex()),D=function g(u){return u.loadsAllData()?new kh(u.getIndex()):u.hasLimit()?new gl(u):new pl(u)}(f);this.processor_=function Sm(u){return{filter:u}}(D);const M=a.serverCache,J=a.eventCache,ce=v.updateFullNode(Ir.EMPTY_NODE,M.getNode(),null),Pe=D.updateFullNode(Ir.EMPTY_NODE,J.getNode(),null),vt=new $u(ce,M.isFullyInitialized(),v.filtersNodes()),It=new $u(Pe,J.isFullyInitialized(),D.filtersNodes());this.viewCache_=au(It,vt),this.eventGenerator_=new Dm(this.query_)}get query(){return this.query_}}function Gh(u,s){const a=lu(u.viewCache_);return a&&(u.query._queryParams.loadsAllData()||!jr(s)&&!a.getImmediateChild($r(s)).isEmpty())?a.getChild(s):null}function zh(u){return 0===u.eventRegistrations_.length}function Mm(u,s,a){const f=[];if(a){(0,ye.hu)(null==s,"A cancel should cancel all event registrations.");const v=u.query._path;u.eventRegistrations_.forEach(D=>{const M=D.createCancelEvent(a,v);M&&f.push(M)})}if(s){let v=[];for(let D=0;D<u.eventRegistrations_.length;++D){const M=u.eventRegistrations_[D];if(M.matches(s)){if(s.hasAnyCallback()){v=v.concat(u.eventRegistrations_.slice(D+1));break}}else v.push(M)}u.eventRegistrations_=v}else u.eventRegistrations_=[];return f}function Lf(u,s,a,f){s.type===$o.MERGE&&null!==s.source.queryId&&((0,ye.hu)(lu(u.viewCache_),"We should always have a full cache before handling merges"),(0,ye.hu)(Wd(u.viewCache_),"Missing event cache, even though we have a server cache"));const v=u.viewCache_,D=function Ku(u,s,a,f,v){const D=new Wu;let M,J;if(a.type===$o.OVERWRITE){const Pe=a;Pe.source.fromUser?M=Sg(u,s,Pe.path,Pe.snap,f,v,D):((0,ye.hu)(Pe.source.fromServer,"Unknown source."),J=Pe.source.tagged||s.serverCache.isFiltered()&&!jr(Pe.path),M=ad(u,s,Pe.path,Pe.snap,f,v,J,D))}else if(a.type===$o.MERGE){const Pe=a;Pe.source.fromUser?M=function Am(u,s,a,f,v,D,M){let J=s;return f.foreach((ce,Pe)=>{const vt=Di(a,ce);kp(s,$r(vt))&&(J=Sg(u,J,vt,Pe,v,D,M))}),f.foreach((ce,Pe)=>{const vt=Di(a,ce);kp(s,$r(vt))||(J=Sg(u,J,vt,Pe,v,D,M))}),J}(u,s,Pe.path,Pe.children,f,v,D):((0,ye.hu)(Pe.source.fromServer,"Unknown source."),J=Pe.source.tagged||s.serverCache.isFiltered(),M=fu(u,s,Pe.path,Pe.children,f,v,J,D))}else if(a.type===$o.ACK_USER_WRITE){const Pe=a;M=Pe.revert?function Fp(u,s,a,f,v,D){let M;if(null!=jh(f,a))return s;{const J=new Hh(f,s,v),ce=s.eventCache.getNode();let Pe;if(jr(a)||".priority"===$r(a)){let vt;if(s.serverCache.isFullyInitialized())vt=$h(f,lu(s));else{const It=s.serverCache.getNode();(0,ye.hu)(It instanceof Ir,"serverChildren would be complete if leaf node"),vt=Fl(f,It)}vt=vt,Pe=u.filter.updateFullNode(ce,vt,D)}else{const vt=$r(a);let It=Ar(f,vt,s.serverCache);null==It&&s.serverCache.isCompleteForChild(vt)&&(It=ce.getImmediateChild(vt)),Pe=null!=It?u.filter.updateChild(ce,vt,It,Ci(a),J,D):s.eventCache.getNode().hasChild(vt)?u.filter.updateChild(ce,vt,Ir.EMPTY_NODE,Ci(a),J,D):ce,Pe.isEmpty()&&s.serverCache.isFullyInitialized()&&(M=$h(f,lu(s)),M.isLeafNode()&&(Pe=u.filter.updateFullNode(Pe,M,D)))}return M=s.serverCache.isFullyInitialized()||null!=jh(f,hi()),Hu(s,Pe,M,u.filter.filtersNodes())}}(u,s,Pe.path,f,v,D):function Nf(u,s,a,f,v,D,M){if(null!=jh(v,a))return s;const J=s.serverCache.isFiltered(),ce=s.serverCache;if(null!=f.value){if(jr(a)&&ce.isFullyInitialized()||ce.isCompleteForPath(a))return ad(u,s,a,ce.getNode().getChild(a),v,D,J,M);if(jr(a)){let Pe=new Zi(null);return ce.getNode().forEachChild(aa,(vt,It)=>{Pe=Pe.set(new Ai(vt),It)}),fu(u,s,a,Pe,v,D,J,M)}return s}{let Pe=new Zi(null);return f.foreach((vt,It)=>{const kt=Di(a,vt);ce.isCompleteForPath(kt)&&(Pe=Pe.set(vt,ce.getNode().getChild(kt)))}),fu(u,s,a,Pe,v,D,J,M)}}(u,s,Pe.path,Pe.affectedTree,f,v,D)}else{if(a.type!==$o.LISTEN_COMPLETE)throw(0,ye.g5)("Unknown operation type: "+a.type);M=function kf(u,s,a,f,v){const D=s.serverCache;return Yd(u,zd(s,D.getNode(),D.isFullyInitialized()||jr(a),D.isFiltered()),a,f,Aa,v)}(u,s,a.path,f,D)}const ce=D.getChanges();return function Np(u,s,a){const f=s.eventCache;if(f.isFullyInitialized()){const v=f.getNode().isLeafNode()||f.getNode().isEmpty(),D=Wd(u);(a.length>0||!u.eventCache.isFullyInitialized()||v&&!f.getNode().equals(D)||!f.getNode().getPriority().equals(D.getPriority()))&&a.push(vc(Wd(s)))}}(s,M,ce),{viewCache:M,changes:ce}}(u.processor_,v,s,a,f);return function Pp(u,s){(0,ye.hu)(s.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,ye.hu)(s.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,D.viewCache),(0,ye.hu)(D.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=D.viewCache,Vp(u,D.changes,D.viewCache.eventCache.getNode(),null)}function Vp(u,s,a,f){return function Sp(u,s,a,f){const v=[],D=[];return s.forEach(M=>{"child_changed"===M.type&&u.index_.indexedValueChanged(M.oldSnap,M.snapshotNode)&&D.push(function Tp(u,s){return{type:"child_moved",snapshotNode:s,childName:u}}(M.childName,M.snapshotNode))}),ju(u,v,"child_removed",s,f,a),ju(u,v,"child_added",s,f,a),ju(u,v,"child_moved",D,f,a),ju(u,v,"child_changed",s,f,a),ju(u,v,"value",s,f,a),v}(u.eventGenerator_,s,a,f?[f]:u.eventRegistrations_)}let qd,Vf;class Up{constructor(){this.views=new Map}}function Ag(u,s,a,f){const v=s.source.queryId;if(null!==v){const D=u.views.get(v);return(0,ye.hu)(null!=D,"SyncTree gave us an op for an invalid query."),Lf(D,s,a,f)}{let D=[];for(const M of u.views.values())D=D.concat(Lf(M,s,a,f));return D}}function xg(u,s,a,f,v){const M=u.views.get(s._queryIdentifier);if(!M){let J=$h(a,v?f:null),ce=!1;J?ce=!0:f instanceof Ir?(J=Fl(a,f),ce=!1):(J=Ir.EMPTY_NODE,ce=!1);const Pe=au(new $u(J,ce,!1),new $u(f,v,!1));return new xm(s,Pe)}return M}function Zd(u){const s=[];for(const a of u.views.values())a.query._queryParams.loadsAllData()||s.push(a);return s}function Yu(u,s){let a=null;for(const f of u.views.values())a=a||Gh(f,s);return a}function Bf(u,s){return s._queryParams.loadsAllData()?ld(u):u.views.get(s._queryIdentifier)}function Mg(u,s){return null!=Bf(u,s)}function jo(u){return null!=ld(u)}function ld(u){for(const s of u.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let $f=1;class jf{constructor(s){this.listenProvider_=s,this.syncPointTree_=new Zi(null),this.pendingWriteTree_=function Op(){return{visibleWrites:Ka.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jp(u,s,a,f,v){return function xp(u,s,a,f,v){(0,ye.hu)(f>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:s,snap:a,writeId:f,visible:v}),v&&(u.visibleWrites=uu(u.visibleWrites,s,a)),u.lastWriteId=f}(u.pendingWriteTree_,s,a,f,v),v?Ya(u,new ou({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,a)):[]}function fs(u,s,a=!1){const f=function Ig(u,s){for(let a=0;a<u.allWrites.length;a++){const f=u.allWrites[a];if(f.writeId===s)return f}return null}(u.pendingWriteTree_,s);if(function Cg(u,s){const a=u.allWrites.findIndex(J=>J.writeId===s);(0,ye.hu)(a>=0,"removeWrite called with nonexistent writeId.");const f=u.allWrites[a];u.allWrites.splice(a,1);let v=f.visible,D=!1,M=u.allWrites.length-1;for(;v&&M>=0;){const J=u.allWrites[M];J.visible&&(M>=a&&Vh(J,f.path)?v=!1:Vo(f.path,J.path)&&(D=!0)),M--}return!!v&&(D?(function Tm(u){u.visibleWrites=Kd(u.allWrites,Rp,hi()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(f.snap?u.visibleWrites=Gu(u.visibleWrites,f.path):gr(f.children,ce=>{u.visibleWrites=Gu(u.visibleWrites,Di(f.path,ce))}),!0))}(u.pendingWriteTree_,s)){let D=new Zi(null);return null!=f.snap?D=D.set(hi(),!0):gr(f.children,M=>{D=D.set(new Ai(M),!0)}),Ya(u,new id(f.path,D,a))}return[]}function Yh(u,s,a){return Ya(u,new ou({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,a))}function Gp(u,s,a,f){const v=s._path,D=u.syncPointTree_.get(v);let M=[];if(D&&("default"===s._queryIdentifier||Mg(D,s))){const J=function Kh(u,s,a,f){const v=s._queryIdentifier,D=[];let M=[];const J=jo(u);if("default"===v)for(const[ce,Pe]of u.views.entries())M=M.concat(Mm(Pe,a,f)),zh(Pe)&&(u.views.delete(ce),Pe.query._queryParams.loadsAllData()||D.push(Pe.query));else{const ce=u.views.get(v);ce&&(M=M.concat(Mm(ce,a,f)),zh(ce)&&(u.views.delete(v),ce.query._queryParams.loadsAllData()||D.push(ce.query)))}return J&&!jo(u)&&D.push(new(function py(){return(0,ye.hu)(qd,"Reference.ts has not been loaded"),qd}())(s._repo,s._path)),{removed:D,events:M}}(D,s,a,f);(function Om(u){return 0===u.views.size})(D)&&(u.syncPointTree_=u.syncPointTree_.remove(v));const ce=J.removed;M=J.events;const Pe=-1!==ce.findIndex(It=>It._queryParams.loadsAllData()),vt=u.syncPointTree_.findOnPath(v,(It,kt)=>jo(kt));if(Pe&&!vt){const It=u.syncPointTree_.subtree(v);if(!It.isEmpty()){const kt=function km(u){return u.fold((s,a,f)=>{if(a&&jo(a))return[ld(a)];{let v=[];return a&&(v=Zd(a)),gr(f,(D,M)=>{v=v.concat(M)}),v}})}(It);for(let mn=0;mn<kt.length;++mn){const Mn=kt[mn],_r=Mn.query,Zr=Zh(u,Mn);u.listenProvider_.startListening(Qd(_r),dd(u,_r),Zr.hashFn,Zr.onComplete)}}}!vt&&ce.length>0&&!f&&(Pe?u.listenProvider_.stopListening(Qd(s),null):ce.forEach(It=>{const kt=u.queryToTagMap.get(Tc(It));u.listenProvider_.stopListening(Qd(It),kt)})),function my(u,s){for(let a=0;a<s.length;++a){const f=s[a];if(!f._queryParams.loadsAllData()){const v=Tc(f),D=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(D)}}}(u,ce)}return M}function Cc(u,s,a){const f=s._path;let v=null,D=!1;u.syncPointTree_.foreachOnPath(f,(It,kt)=>{const mn=ni(It,f);v=v||Yu(kt,mn),D=D||jo(kt)});let J,M=u.syncPointTree_.get(f);M?(D=D||jo(M),v=v||Yu(M,hi())):(M=new Up,u.syncPointTree_=u.syncPointTree_.set(f,M)),null!=v?J=!0:(J=!1,v=Ir.EMPTY_NODE,u.syncPointTree_.subtree(f).foreachChild((kt,mn)=>{const Mn=Yu(mn,hi());Mn&&(v=v.updateImmediateChild(kt,Mn))}));const ce=Mg(M,s);if(!ce&&!s._queryParams.loadsAllData()){const It=Tc(s);(0,ye.hu)(!u.queryToTagMap.has(It),"View does not exist, but we have a tag");const kt=function zp(){return $f++}();u.queryToTagMap.set(It,kt),u.tagToQueryMap.set(kt,It)}let vt=function gy(u,s,a,f,v,D){const M=xg(u,s,f,v,D);return u.views.has(s._queryIdentifier)||u.views.set(s._queryIdentifier,M),function Ff(u,s){u.eventRegistrations_.push(s)}(M,a),function Rm(u,s){const a=u.viewCache_.eventCache,f=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(ji,(D,M)=>{f.push(iu(D,M))}),a.isFullyInitialized()&&f.push(vc(a.getNode())),Vp(u,f,a.getNode(),s)}(M,a)}(M,s,a,du(u.pendingWriteTree_,f),v,J);if(!ce&&!D){const It=Bf(M,s);vt=vt.concat(function Xh(u,s,a){const f=s._path,v=dd(u,s),D=Zh(u,a),M=u.listenProvider_.startListening(Qd(s),v,D.hashFn,D.onComplete),J=u.syncPointTree_.subtree(f);if(v)(0,ye.hu)(!jo(J.value),"If we're adding a query, it shouldn't be shadowed");else{const ce=J.fold((Pe,vt,It)=>{if(!jr(Pe)&&vt&&jo(vt))return[ld(vt).query];{let kt=[];return vt&&(kt=kt.concat(Zd(vt).map(mn=>mn.query))),gr(It,(mn,Mn)=>{kt=kt.concat(Mn)}),kt}});for(let Pe=0;Pe<ce.length;++Pe){const vt=ce[Pe];u.listenProvider_.stopListening(Qd(vt),dd(u,vt))}}return M}(u,s,It))}return vt}function cd(u,s,a){const v=u.pendingWriteTree_,D=u.syncPointTree_.findOnPath(s,(M,J)=>{const Pe=Yu(J,ni(M,s));if(Pe)return Pe});return Uh(v,s,D,a,!0)}function Ya(u,s){return Bl(s,u.syncPointTree_,null,du(u.pendingWriteTree_,hi()))}function Bl(u,s,a,f){if(jr(u.path))return qh(u,s,a,f);{const v=s.get(hi());null==a&&null!=v&&(a=Yu(v,hi()));let D=[];const M=$r(u.path),J=u.operationForChild(M),ce=s.children.get(M);if(ce&&J){const Pe=a?a.getImmediateChild(M):null,vt=Ic(f,M);D=D.concat(Bl(J,ce,Pe,vt))}return v&&(D=D.concat(Ag(v,u,f,a))),D}}function qh(u,s,a,f){const v=s.get(hi());null==a&&null!=v&&(a=Yu(v,hi()));let D=[];return s.children.inorderTraversal((M,J)=>{const ce=a?a.getImmediateChild(M):null,Pe=Ic(f,M),vt=u.operationForChild(M);vt&&(D=D.concat(qh(vt,J,ce,Pe)))}),v&&(D=D.concat(Ag(v,u,f,a))),D}function Zh(u,s){const a=s.query,f=dd(u,a);return{hashFn:()=>(function Lp(u){return u.viewCache_.serverCache.getNode()}(s)||Ir.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return f?function Rg(u,s,a){const f=Xd(u,a);if(f){const v=Hf(f),D=v.path,M=v.queryId,J=ni(D,s);return hd(u,D,new Uu(Vs(M),J))}return[]}(u,a._path,f):function Pm(u,s){return Ya(u,new Uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(u,a._path);{const D=function ql(u,s){let a="Unknown Error";"too_big"===u?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?a="Client doesn't have permission to access the desired data.":"unavailable"===u&&(a="The service is unavailable");const f=new Error(u+" at "+s._path.toString()+": "+a);return f.code=u.toUpperCase(),f}(v,a);return Gp(u,a,null,D)}}}}function dd(u,s){const a=Tc(s);return u.queryToTagMap.get(a)}function Tc(u){return u._path.toString()+"$"+u._queryIdentifier}function Xd(u,s){return u.tagToQueryMap.get(s)}function Hf(u){const s=u.indexOf("$");return(0,ye.hu)(-1!==s&&s<u.length-1,"Bad queryKey."),{queryId:u.substr(s+1),path:new Ai(u.substr(0,s))}}function hd(u,s,a){const f=u.syncPointTree_.get(s);return(0,ye.hu)(f,"Missing sync point for query tag that we're tracking"),Ag(f,a,du(u.pendingWriteTree_,s),null)}function Qd(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function $p(){return(0,ye.hu)(Vf,"Reference.ts has not been loaded"),Vf}())(u._repo,u._path):u}class fd{constructor(s){this.node_=s}getImmediateChild(s){const a=this.node_.getImmediateChild(s);return new fd(a)}node(){return this.node_}}class Jd{constructor(s,a){this.syncTree_=s,this.path_=a}getImmediateChild(s){const a=Di(this.path_,s);return new Jd(this.syncTree_,a)}node(){return cd(this.syncTree_,this.path_)}}const Pg=function(u,s,a){return u&&"object"==typeof u?((0,ye.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?qa(u[".sv"],s,a):"object"==typeof u[".sv"]?Fm(u[".sv"],s):void(0,ye.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},qa=function(u,s,a){if("timestamp"===u)return a.timestamp;(0,ye.hu)(!1,"Unexpected server value: "+u)},Fm=function(u,s,a){u.hasOwnProperty("increment")||(0,ye.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const f=u.increment;"number"!=typeof f&&(0,ye.hu)(!1,"Unexpected increment value: "+f);const v=s.node();if((0,ye.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return f;const M=v.getValue();return"number"!=typeof M?f:M+f},Ng=function(u,s,a,f){return eh(s,new Jd(a,u),f)},kg=function(u,s,a){return eh(u,new fd(s),a)};function eh(u,s,a){const f=u.getPriority().val(),v=Pg(f,s.getImmediateChild(".priority"),a);let D;if(u.isLeafNode()){const M=u,J=Pg(M.getValue(),s,a);return J!==M.getValue()||v!==M.getPriority().val()?new Pl(J,Ni(v)):u}{const M=u;return D=M,v!==M.getPriority().val()&&(D=D.updatePriority(new Pl(v))),M.forEachChild(ji,(J,ce)=>{const Pe=eh(ce,s.getImmediateChild(J),a);Pe!==ce&&(D=D.updateImmediateChild(J,Pe))}),D}}class th{constructor(s="",a=null,f={children:{},childCount:0}){this.name=s,this.parent=a,this.node=f}}function Sc(u,s){let a=s instanceof Ai?s:new Ai(s),f=u,v=$r(a);for(;null!==v;){const D=(0,ye.DV)(f.node.children,v)||{children:{},childCount:0};f=new th(v,f,D),a=Ci(a),v=$r(a)}return f}function qu(u){return u.node.value}function Ac(u,s){u.node.value=s,Jh(u)}function pd(u){return u.node.childCount>0}function Qh(u,s){gr(u.node.children,(a,f)=>{s(new th(a,u,f))})}function Gf(u,s,a,f){a&&!f&&s(u),Qh(u,v=>{Gf(v,s,!0,f)}),a&&f&&s(u)}function _l(u){return new Ai(null===u.parent?u.name:_l(u.parent)+"/"+u.name)}function Jh(u){null!==u.parent&&function Lm(u,s,a){const f=function Wp(u){return void 0===qu(u)&&!pd(u)}(a),v=(0,ye.r3)(u.node.children,s);f&&v?(delete u.node.children[s],u.node.childCount--,Jh(u)):!f&&!v&&(u.node.children[s]=a.node,u.node.childCount++,Jh(u))}(u.parent,u.name,u)}const Kp=/[\[\].#$\/\u0000-\u001F\u007F]/,Fg=/[\[\].#$\u0000-\u001F\u007F]/,nh=10485760,Wf=function(u){return"string"==typeof u&&0!==u.length&&!Kp.test(u)},Za=function(u){return"string"==typeof u&&0!==u.length&&!Fg.test(u)},gd=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!yo(u)||u&&"object"==typeof u&&(0,ye.r3)(u,".sv")},Vl=function(u,s,a,f){f&&void 0===s||Zu((0,ye.gK)(u,"value"),s,a)},Zu=function(u,s,a){const f=a instanceof Ai?new Pu(a,u):a;if(void 0===s)throw new Error(u+"contains undefined "+Jl(f));if("function"==typeof s)throw new Error(u+"contains a function "+Jl(f)+" with contents = "+s.toString());if(yo(s))throw new Error(u+"contains "+s.toString()+" "+Jl(f));if("string"==typeof s&&s.length>nh/3&&(0,ye.ug)(s)>nh)throw new Error(u+"contains a string greater than "+nh+" utf8 bytes "+Jl(f)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let v=!1,D=!1;if(gr(s,(M,J)=>{if(".value"===M)v=!0;else if(".priority"!==M&&".sv"!==M&&(D=!0,!Wf(M)))throw new Error(u+" contains an invalid key ("+M+") "+Jl(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function xh(u,s){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=(0,ye.ug)(s),Bd(u)})(f,M),Zu(u,J,f),function Eo(u){const s=u.parts_.pop();u.byteLength_-=(0,ye.ug)(s),u.parts_.length>0&&(u.byteLength_-=1)}(f)}),v&&D)throw new Error(u+' contains ".value" child '+Jl(f)+" in addition to actual children.")}},Lg=function(u,s,a,f){if(f&&void 0===s)return;const v=(0,ye.gK)(u,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(v+" must be an object containing the children to replace.");const D=[];gr(s,(M,J)=>{const ce=new Ai(M);if(Zu(v,J,Di(a,ce)),".priority"===Sh(ce)&&!gd(J))throw new Error(v+"contains an invalid value for '"+ce.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(ce)}),function(u,s){let a,f;for(a=0;a<s.length;a++){f=s[a];const D=Ou(f);for(let M=0;M<D.length;M++)if((".priority"!==D[M]||M!==D.length-1)&&!Wf(D[M]))throw new Error(u+"contains an invalid key ("+D[M]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(ui);let v=null;for(a=0;a<s.length;a++){if(f=s[a],null!==v&&Vo(v,f))throw new Error(u+"contains a path "+v.toString()+" that is ancestor of another path "+f.toString());v=f}}(v,D)},Yp=function(u,s,a){if(!a||void 0!==s){if(yo(s))throw new Error((0,ye.gK)(u,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gd(s))throw new Error((0,ye.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ih=function(u,s,a,f){if(!(f&&void 0===a||Wf(a)))throw new Error((0,ye.gK)(u,s)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xc=function(u,s,a,f){if(!(f&&void 0===a||Za(a)))throw new Error((0,ye.gK)(u,s)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xa=function(u,s){if(".info"===$r(s))throw new Error(u+" failed = Can't modify data under /.info/")},ef=function(u,s){const a=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!Wf(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==a.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Za(u)}(a))throw new Error((0,ye.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class tf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yf(u,s){let a=null;for(let f=0;f<s.length;f++){const v=s[f],D=v.getPath();null!==a&&!Ah(D,a.path)&&(u.eventLists_.push(a),a=null),null===a&&(a={events:[],path:D}),a.events.push(v)}a&&u.eventLists_.push(a)}function md(u,s,a){Yf(u,a),nf(u,f=>Ah(f,s))}function Ma(u,s,a){Yf(u,a),nf(u,f=>Vo(f,s)||Vo(s,f))}function nf(u,s){u.recursionDepth_++;let a=!0;for(let f=0;f<u.eventLists_.length;f++){const v=u.eventLists_[f];v&&(s(v.path)?(Bg(u.eventLists_[f]),u.eventLists_[f]=null):a=!1)}a&&(u.eventLists_=[]),u.recursionDepth_--}function Bg(u){for(let s=0;s<u.events.length;s++){const a=u.events[s];if(null!==a){u.events[s]=null;const f=a.getEventRunner();xo&&$i("event: "+a.toString()),ba(f)}}}const qf="repo_interrupt";class Vg{constructor(s,a,f,v){this.repoInfo_=s,this.forceRestClient_=a,this.authTokenProvider_=f,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ho(),this.transactionQueueTree_=new th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gu(u){const a=u.infoData_.getNode(new Ai(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Mc(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:gu(u)})}function Rc(u,s,a,f,v){u.dataUpdateCount++;const D=new Ai(s);a=u.interceptServerDataCallback_?u.interceptServerDataCallback_(s,a):a;let M=[];if(v)if(f){const ce=(0,ye.UI)(a,Pe=>Ni(Pe));M=function ud(u,s,a,f){const v=Xd(u,f);if(v){const D=Hf(v),M=D.path,J=D.queryId,ce=ni(M,s),Pe=Zi.fromObject(a);return hd(u,M,new ca(Vs(J),ce,Pe))}return[]}(u.serverSyncTree_,D,ce,v)}else{const ce=Ni(a);M=function Nm(u,s,a,f){const v=Xd(u,f);if(null!=v){const D=Hf(v),M=D.path,J=D.queryId,ce=ni(M,s);return hd(u,M,new ou(Vs(J),ce,a))}return[]}(u.serverSyncTree_,D,ce,v)}else if(f){const ce=(0,ye.UI)(a,Pe=>Ni(Pe));M=function Hp(u,s,a){const f=Zi.fromObject(a);return Ya(u,new ca({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,f))}(u.serverSyncTree_,D,ce)}else{const ce=Ni(a);M=Yh(u.serverSyncTree_,D,ce)}let J=D;M.length>0&&(J=vd(u,D)),Ma(u.eventQueue_,J,M)}function Oc(u,s){Ho(u,"connected",s),!1===s&&function af(u){_d(u,"onDisconnectEvents");const s=Mc(u),a=ho();ua(u.onDisconnect_,hi(),(v,D)=>{const M=Ng(v,D,u.serverSyncTree_,s);za(a,v,M)});let f=[];ua(a,hi(),(v,D)=>{f=f.concat(Yh(u.serverSyncTree_,v,D));const M=df(u,v);vd(u,M)}),u.onDisconnect_=ho(),Ma(u.eventQueue_,hi(),f)}(u)}function Ho(u,s,a){const f=new Ai("/.info/"+s),v=Ni(a);u.infoData_.updateSnapshot(f,v);const D=Yh(u.infoSyncTree_,f,v);Ma(u.eventQueue_,f,D)}function yd(u){return u.nextWriteId_++}function sf(u,s,a,f,v){_d(u,"set",{path:s.toString(),value:a,priority:f});const D=Mc(u),M=Ni(a,f),J=cd(u.serverSyncTree_,s),ce=kg(M,J,D),Pe=yd(u),vt=jp(u.serverSyncTree_,s,ce,Pe,!0);Yf(u.eventQueue_,vt),u.server_.put(s.toString(),M.val(!0),(kt,mn)=>{const Mn="ok"===kt;Mn||Ii("set at "+s+" failed: "+kt);const _r=fs(u.serverSyncTree_,Pe,!Mn);Ma(u.eventQueue_,s,_r),Ul(0,v,kt,mn)});const It=df(u,s);vd(u,It),Ma(u.eventQueue_,It,[])}function Zf(u,s,a){u.server_.onDisconnectCancel(s.toString(),(f,v)=>{"ok"===f&&$t(u.onDisconnect_,s),Ul(0,a,f,v)})}function Xf(u,s,a,f){const v=Ni(a);u.server_.onDisconnectPut(s.toString(),v.val(!0),(D,M)=>{"ok"===D&&za(u.onDisconnect_,s,v),Ul(0,f,D,M)})}function Qf(u,s,a){let f;f=".info"===$r(s._path)?Gp(u.infoSyncTree_,s,a):Gp(u.serverSyncTree_,s,a),md(u.eventQueue_,s._path,f)}function Jf(u){u.persistentConnection_&&u.persistentConnection_.interrupt(qf)}function _d(u,...s){let a="";u.persistentConnection_&&(a=u.persistentConnection_.id+":"),$i(a,...s)}function Ul(u,s,a,f){s&&ba(()=>{if("ok"===a)s(null);else{const v=(a||"error").toUpperCase();let D=v;f&&(D+=": "+f);const M=new Error(D);M.code=v,s(M)}})}function ep(u,s,a){return cd(u.serverSyncTree_,s,a)||Ir.EMPTY_NODE}function cf(u,s=u.transactionQueueTree_){if(s||rp(u,s),qu(s)){const a=Xu(u,s);(0,ye.hu)(a.length>0,"Sending zero length transaction queue"),a.every(v=>0===v.status)&&function oh(u,s,a){const f=a.map(Pe=>Pe.currentWriteId),v=ep(u,s,f);let D=v;const M=v.hash();for(let Pe=0;Pe<a.length;Pe++){const vt=a[Pe];(0,ye.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const It=ni(s,vt.path);D=D.updateChild(It,vt.currentOutputSnapshotRaw)}const J=D.val(!0),ce=s;u.server_.put(ce.toString(),J,Pe=>{_d(u,"transaction put response",{path:ce.toString(),status:Pe});let vt=[];if("ok"===Pe){const It=[];for(let kt=0;kt<a.length;kt++)a[kt].status=2,vt=vt.concat(fs(u.serverSyncTree_,a[kt].currentWriteId)),a[kt].onComplete&&It.push(()=>a[kt].onComplete(null,!0,a[kt].currentOutputSnapshotResolved)),a[kt].unwatcher();rp(u,Sc(u.transactionQueueTree_,s)),cf(u,u.transactionQueueTree_),Ma(u.eventQueue_,s,vt);for(let kt=0;kt<It.length;kt++)ba(It[kt])}else{if("datastale"===Pe)for(let It=0;It<a.length;It++)a[It].status=3===a[It].status?4:0;else{Ii("transaction at "+ce.toString()+" failed: "+Pe);for(let It=0;It<a.length;It++)a[It].status=4,a[It].abortReason=Pe}vd(u,s)}},M)}(u,_l(s),a)}else pd(s)&&Qh(s,a=>{cf(u,a)})}function vd(u,s){const a=tp(u,s),f=_l(a);return function Um(u,s,a){if(0===s.length)return;const f=[];let v=[];const M=s.filter(J=>0===J.status).map(J=>J.currentWriteId);for(let J=0;J<s.length;J++){const ce=s[J],Pe=ni(a,ce.path);let It,vt=!1;if((0,ye.hu)(null!==Pe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ce.status)vt=!0,It=ce.abortReason,v=v.concat(fs(u.serverSyncTree_,ce.currentWriteId,!0));else if(0===ce.status)if(ce.retryCount>=25)vt=!0,It="maxretry",v=v.concat(fs(u.serverSyncTree_,ce.currentWriteId,!0));else{const kt=ep(u,ce.path,M);ce.currentInputSnapshot=kt;const mn=s[J].update(kt.val());if(void 0!==mn){Zu("transaction failed: Data returned ",mn,ce.path);let Mn=Ni(mn);"object"==typeof mn&&null!=mn&&(0,ye.r3)(mn,".priority")||(Mn=Mn.updatePriority(kt.getPriority()));const Zr=ce.currentWriteId,zo=Mc(u),to=kg(Mn,kt,zo);ce.currentOutputSnapshotRaw=Mn,ce.currentOutputSnapshotResolved=to,ce.currentWriteId=yd(u),M.splice(M.indexOf(Zr),1),v=v.concat(jp(u.serverSyncTree_,ce.path,to,ce.currentWriteId,ce.applyLocally)),v=v.concat(fs(u.serverSyncTree_,Zr,!0))}else vt=!0,It="nodata",v=v.concat(fs(u.serverSyncTree_,ce.currentWriteId,!0))}Ma(u.eventQueue_,a,v),v=[],vt&&(s[J].status=2,setTimeout(s[J].unwatcher,Math.floor(0)),s[J].onComplete&&f.push("nodata"===It?()=>s[J].onComplete(null,!1,s[J].currentInputSnapshot):()=>s[J].onComplete(new Error(It),!1,null)))}rp(u,u.transactionQueueTree_);for(let J=0;J<f.length;J++)ba(f[J]);cf(u,u.transactionQueueTree_)}(u,Xu(u,a),f),f}function tp(u,s){let a,f=u.transactionQueueTree_;for(a=$r(s);null!==a&&void 0===qu(f);)f=Sc(f,a),a=$r(s=Ci(s));return f}function Xu(u,s){const a=[];return np(u,s,a),a.sort((f,v)=>f.order-v.order),a}function np(u,s,a){const f=qu(s);if(f)for(let v=0;v<f.length;v++)a.push(f[v]);Qh(s,v=>{np(u,v,a)})}function rp(u,s){const a=qu(s);if(a){let f=0;for(let v=0;v<a.length;v++)2!==a[v].status&&(a[f]=a[v],f++);a.length=f,Ac(s,a.length>0?a:void 0)}Qh(s,f=>{rp(u,f)})}function df(u,s){const a=_l(tp(u,s)),f=Sc(u.transactionQueueTree_,s);return function zf(u,s,a){let f=a?u:u.parent;for(;null!==f;){if(s(f))return!0;f=f.parent}}(f,v=>{Xp(u,v)}),Xp(u,f),Gf(f,v=>{Xp(u,v)}),a}function Xp(u,s){const a=qu(s);if(a){const f=[];let v=[],D=-1;for(let M=0;M<a.length;M++)3===a[M].status||(1===a[M].status?((0,ye.hu)(D===M-1,"All SENT items should be at beginning of queue."),D=M,a[M].status=3,a[M].abortReason="set"):((0,ye.hu)(0===a[M].status,"Unexpected transaction status in abort"),a[M].unwatcher(),v=v.concat(fs(u.serverSyncTree_,a[M].currentWriteId,!0)),a[M].onComplete&&f.push(a[M].onComplete.bind(null,new Error("set"),!1,null))));-1===D?Ac(s,void 0):a.length=D+1,Ma(u.eventQueue_,_l(s),v);for(let M=0;M<f.length;M++)ba(f[M])}}const ah=function(u,s){const a=Qp(u),f=a.namespace;return"firebase.com"===a.domain&&Pi(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==a.domain&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ol(a.host,a.secure,f,"ws"===a.scheme||"wss"===a.scheme,s,"",f!==a.subdomain),path:new Ai(a.pathString)}},Qp=function(u){let s="",a="",f="",v="",D="",M=!0,J="https",ce=443;if("string"==typeof u){let Pe=u.indexOf("//");Pe>=0&&(J=u.substring(0,Pe-1),u=u.substring(Pe+2));let vt=u.indexOf("/");-1===vt&&(vt=u.length);let It=u.indexOf("?");-1===It&&(It=u.length),s=u.substring(0,Math.min(vt,It)),vt<It&&(v=function Xa(u){let s="";const a=u.split("/");for(let f=0;f<a.length;f++)if(a[f].length>0){let v=a[f];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(D){}s+="/"+v}return s}(u.substring(vt,It)));const kt=function ip(u){const s={};"?"===u.charAt(0)&&(u=u.substring(1));for(const a of u.split("&")){if(0===a.length)continue;const f=a.split("=");2===f.length?s[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):Ii(`Invalid query segment '${a}' in query '${u}'`)}return s}(u.substring(Math.min(u.length,It)));Pe=s.indexOf(":"),Pe>=0?(M="https"===J||"wss"===J,ce=parseInt(s.substring(Pe+1),10)):Pe=s.length;const mn=s.slice(0,Pe);if("localhost"===mn.toLowerCase())a="localhost";else if(mn.split(".").length<=2)a=mn;else{const Mn=s.indexOf(".");f=s.substring(0,Mn).toLowerCase(),a=s.substring(Mn+1),D=f}"ns"in kt&&(D=kt.ns)}return{host:s,port:ce,domain:a,subdomain:f,secure:M,scheme:J,pathString:v,namespace:D}};class Jp{constructor(s,a,f,v){this.eventType=s,this.eventRegistration=a,this.snapshot=f,this.prevName=v}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ye.Pz)(this.snapshot.exportVal())}}class hf{constructor(s,a,f){this.eventRegistration=s,this.error=a,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Hg{constructor(s,a){this.snapshotCallback=s,this.cancelCallback=a}onValue(s,a){this.snapshotCallback.call(null,s,a)}onCancel(s){return(0,ye.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class sp{constructor(s,a){this._repo=s,this._path=a}cancel(){const s=new ye.BH;return Zf(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){xa("OnDisconnect.remove",this._path);const s=new ye.BH;return Xf(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){xa("OnDisconnect.set",this._path),Vl("OnDisconnect.set",s,this._path,!1);const a=new ye.BH;return Xf(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}setWithPriority(s,a){xa("OnDisconnect.setWithPriority",this._path),Vl("OnDisconnect.setWithPriority",s,this._path,!1),Yp("OnDisconnect.setWithPriority",a,!1);const f=new ye.BH;return function lf(u,s,a,f,v){const D=Ni(a,f);u.server_.onDisconnectPut(s.toString(),D.val(!0),(M,J)=>{"ok"===M&&za(u.onDisconnect_,s,D),Ul(0,v,M,J)})}(this._repo,this._path,s,a,f.wrapCallback(()=>{})),f.promise}update(s){xa("OnDisconnect.update",this._path),Lg("OnDisconnect.update",s,this._path,!1);const a=new ye.BH;return function Zp(u,s,a,f){if((0,ye.xb)(a))return $i("onDisconnect().update() called with empty data.  Don't do anything."),void Ul(0,f,"ok",void 0);u.server_.onDisconnectMerge(s.toString(),a,(v,D)=>{"ok"===v&&gr(a,(M,J)=>{const ce=Ni(J);za(u.onDisconnect_,Di(s,M),ce)}),Ul(0,f,v,D)})}(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}}class Ra{constructor(s,a,f,v){this._repo=s,this._path=a,this._queryParams=f,this._orderByCalled=v}get key(){return jr(this._path)?null:Sh(this._path)}get ref(){return new ha(this._repo,this._path)}get _queryIdentifier(){const s=ar(this._queryParams),a=Rs(s);return"{}"===a?"default":a}get _queryObject(){return ar(this._queryParams)}isEqual(s){if(!((s=(0,ye.m9)(s))instanceof Ra))return!1;const a=this._repo===s._repo,f=Ah(this._path,s._path);return a&&f&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ja(u){let s="";for(let a=u.pieceNum_;a<u.pieces_.length;a++)""!==u.pieces_[a]&&(s+="/"+encodeURIComponent(String(u.pieces_[a])));return s||"/"}(this._path)}}function lh(u,s){if(!0===u._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function Qu(u){let s=null,a=null;if(u.hasStart()&&(s=u.getIndexStartValue()),u.hasEnd()&&(a=u.getIndexEndValue()),u.getIndex()===aa){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==lo)throw new Error(f);if("string"!=typeof s)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==Mo)throw new Error(f);if("string"!=typeof a)throw new Error(v)}}else if(u.getIndex()===ji){if(null!=s&&!gd(s)||null!=a&&!gd(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ye.hu)(u.getIndex()instanceof ru||u.getIndex()===Ph,"unknown index type."),null!=s&&"object"==typeof s||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ff(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ha extends Ra{constructor(s,a){super(s,a,new w,!1)}get parent(){const s=Ro(this._path);return null===s?null:new ha(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class Ju{constructor(s,a,f){this._node=s,this.ref=a,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const a=new Ai(s),f=Pc(this.ref,s);return new Ju(this._node.getChild(a),f,ji)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,v)=>s(new Ju(v,Pc(this.ref,f),ji)))}hasChild(s){const a=new Ai(s);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ed(u,s){return(u=(0,ye.m9)(u))._checkNotDeleted("ref"),void 0!==s?Pc(u._root,s):u._root}function Gg(u,s){(u=(0,ye.m9)(u))._checkNotDeleted("refFromURL");const a=ah(s,u._repo.repoInfo_.nodeAdmin);ef("refFromURL",a);const f=a.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&f.host!==u._repo.repoInfo_.host&&Pi("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+u._repo.repoInfo_.host+")"),Ed(u,a.path.toString())}function Pc(u,s){return null===$r((u=(0,ye.m9)(u))._path)?(a=s,a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),xc("child","path",a,!1)):xc("child","path",s,!1),new ha(u._repo,Di(u._path,s));var a}function uh(u,s){u=(0,ye.m9)(u),xa("set",u._path),Vl("set",s,u._path,!1);const a=new ye.BH;return sf(u._repo,u._path,s,null,a.wrapCallback(()=>{})),a.promise}function _y(u,s){Lg("update",s,u._path,!1);const a=new ye.BH;return function Ug(u,s,a,f){_d(u,"update",{path:s.toString(),value:a});let v=!0;const D=Mc(u),M={};if(gr(a,(J,ce)=>{v=!1,M[J]=Ng(Di(s,J),Ni(ce),u.serverSyncTree_,D)}),v)$i("update() called with empty data.  Don't do anything."),Ul(0,f,"ok",void 0);else{const J=yd(u),ce=function pu(u,s,a,f){!function Mp(u,s,a,f){(0,ye.hu)(f>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:s,children:a,writeId:f,visible:!0}),u.visibleWrites=cu(u.visibleWrites,s,a),u.lastWriteId=f}(u.pendingWriteTree_,s,a,f);const v=Zi.fromObject(a);return Ya(u,new ca({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,v))}(u.serverSyncTree_,s,M,J);Yf(u.eventQueue_,ce),u.server_.merge(s.toString(),a,(Pe,vt)=>{const It="ok"===Pe;It||Ii("update at "+s+" failed: "+Pe);const kt=fs(u.serverSyncTree_,J,!It),mn=kt.length>0?vd(u,s):s;Ma(u.eventQueue_,mn,kt),Ul(0,f,Pe,vt)}),gr(a,Pe=>{const vt=df(u,Di(s,Pe));vd(u,vt)}),Ma(u.eventQueue_,s,[])}}(u._repo,u._path,s,a.wrapCallback(()=>{})),a.promise}function vy(u){return function Vm(u,s){const a=function Dc(u,s){const a=s._path;let f=null;u.syncPointTree_.foreachOnPath(a,(Pe,vt)=>{const It=ni(Pe,a);f=f||Yu(vt,It)});let v=u.syncPointTree_.get(a);v?f=f||Yu(v,hi()):(v=new Up,u.syncPointTree_=u.syncPointTree_.set(a,v));const D=null!=f,M=D?new $u(f,!0,!1):null;return function Bp(u){return Wd(u.viewCache_)}(xg(v,s,du(u.pendingWriteTree_,s._path),D?M.getNode():Ir.EMPTY_NODE,D))}(u.serverSyncTree_,s);return null!=a?Promise.resolve(a):u.server_.get(s).then(f=>{const v=Ni(f).withIndex(s._queryParams.getIndex()),D=Yh(u.serverSyncTree_,s._path,v);return md(u.eventQueue_,s._path,D),Promise.resolve(v)},f=>(_d(u,"get for query "+(0,ye.Pz)(s)+" failed: "+f),Promise.reject(new Error(f))))}((u=(0,ye.m9)(u))._repo,u).then(s=>new Ju(s,new ha(u._repo,u._path),u._queryParams.getIndex()))}class bd{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,a){const f=a._queryParams.getIndex();return new Jp("value",this,new Ju(s.snapshotNode,new ha(a._repo,a._path),f))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new hf(this,s,a):null}matches(s){return s instanceof bd&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class pf{constructor(s,a){this.eventType=s,this.callbackContext=a}respondsTo(s){let a="children_added"===s?"child_added":s;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new hf(this,s,a):null}createEvent(s,a){(0,ye.hu)(null!=s.childName,"Child events should have a childName.");const f=Pc(new ha(a._repo,a._path),s.childName),v=a._queryParams.getIndex();return new Jp(s.type,this,new Ju(s.snapshotNode,f,v),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof pf&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nc(u,s,a,f,v){let D;if("object"==typeof f&&(D=void 0,v=f),"function"==typeof f&&(D=f),v&&v.onlyOnce){const ce=a,Pe=(vt,It)=>{Qf(u._repo,u,J),ce(vt,It)};Pe.userCallback=a.userCallback,Pe.context=a.context,a=Pe}const M=new Hg(a,D||void 0),J="value"===s?new bd(M):new pf(s,M);return function uf(u,s,a){let f;f=".info"===$r(s._path)?Cc(u.infoSyncTree_,s,a):Cc(u.serverSyncTree_,s,a),md(u.eventQueue_,s._path,f)}(u._repo,u,J),()=>Qf(u._repo,u,J)}function tg(u,s,a,f){return Nc(u,"value",s,a,f)}function ng(u,s,a,f){return Nc(u,"child_added",s,a,f)}function rg(u,s,a,f){return Nc(u,"child_changed",s,a,f)}function ch(u,s,a,f){return Nc(u,"child_moved",s,a,f)}function ig(u,s,a,f){return Nc(u,"child_removed",s,a,f)}function dh(u,s,a){let f=null;const v=a?new Hg(a):null;"value"===s?f=new bd(v):s&&(f=new pf(s,v)),Qf(u._repo,u,f)}class vl{}class Wg extends vl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){Vl("endAt",this._value,s._path,!0);const a=ht(s._queryParams,this._value,this._key);if(ff(a),Qu(a),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ra(s._repo,s._path,a,s._orderByCalled)}}class sg extends vl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){Vl("endBefore",this._value,s._path,!1);const a=function Ht(u,s,a){let f,v;return u.index_===aa?("string"==typeof s&&(s=Bu(s)),v=ht(u,s,a)):(f=null==a?lo:Bu(a),v=ht(u,s,f)),v.endBeforeSet_=!0,v}(s._queryParams,this._value,this._key);if(ff(a),Qu(a),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ra(s._repo,s._path,a,s._orderByCalled)}}class op extends vl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){Vl("startAt",this._value,s._path,!0);const a=Y(s._queryParams,this._value,this._key);if(ff(a),Qu(a),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ra(s._repo,s._path,a,s._orderByCalled)}}class kc extends vl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){Vl("startAfter",this._value,s._path,!1);const a=function me(u,s,a){let f;if(u.index_===aa)"string"==typeof s&&(s=Ks(s)),f=Y(u,s,a);else{let v;v=null==a?Mo:Ks(a),f=Y(u,s,v)}return f.startAfterSet_=!0,f}(s._queryParams,this._value,this._key);if(ff(a),Qu(a),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ra(s._repo,s._path,a,s._orderByCalled)}}class fh extends vl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ra(s._repo,s._path,function y(u,s){const a=u.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="l",a}(s._queryParams,this._limit),s._orderByCalled)}}class Gm extends vl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ra(s._repo,s._path,function S(u,s){const a=u.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="r",a}(s._queryParams,this._limit),s._orderByCalled)}}class $l extends vl{constructor(s){super(),this._path=s}_apply(s){lh(s,"orderByChild");const a=new Ai(this._path);if(jr(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new ru(a),v=vn(s._queryParams,f);return Qu(v),new Ra(s._repo,s._path,v,!0)}}class Go extends vl{_apply(s){lh(s,"orderByKey");const a=vn(s._queryParams,aa);return Qu(a),new Ra(s._repo,s._path,a,!0)}}class ap extends vl{_apply(s){lh(s,"orderByPriority");const a=vn(s._queryParams,ji);return Qu(a),new Ra(s._repo,s._path,a,!0)}}class lp extends vl{_apply(s){lh(s,"orderByValue");const a=vn(s._queryParams,Ph);return Qu(a),new Ra(s._repo,s._path,a,!0)}}class Id extends vl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){if(Vl("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wg(this._value,this._key)._apply(new op(this._value,this._key)._apply(s))}}function bo(u,...s){let a=(0,ye.m9)(u);for(const f of s)a=f._apply(a);return a}(function Wh(u){(0,ye.hu)(!qd,"__referenceConstructor has already been defined"),qd=u})(ha),function Uf(u){(0,ye.hu)(!Vf,"__referenceConstructor has already been defined"),Vf=u}(ha);const jl={};function tc(u,s,a,f,v){let D=f||u.options.databaseURL;void 0===D&&(u.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$i("Using default host for project ",u.options.projectId),D=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ce,Pe,M=ah(D,v),J=M.repoInfo;"undefined"!=typeof process&&process.env&&(Pe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Pe?(ce=!0,D=`http://${Pe}?ns=${J.namespace}`,M=ah(D,v),J=M.repoInfo):ce=!M.repoInfo.secure;const vt=v&&ce?new de(de.OWNER):new H(u.name,u.options,s);ef("Invalid Firebase Database URL",M),jr(M.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const It=function up(u,s,a,f){let v=jl[s.name];v||(v={},jl[s.name]=v);let D=v[u.toURLString()];return D&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new Vg(u,false,a,f),v[u.toURLString()]=D,D}(J,u,vt,new F(u.name,a));return new cp(It,u)}class cp{constructor(s,a){this._repoInternal=s,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function sh(u,s,a){if(u.stats_=xl(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Xn(u.repoInfo_,(f,v,D,M)=>{Rc(u,f,v,D,M)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Oc(u,!0),0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ye.Pz)(a)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}u.persistentConnection_=new hl(u.repoInfo_,s,(f,v,D,M)=>{Rc(u,f,v,D,M)},f=>{Oc(u,f)},f=>{!function qp(u,s){gr(s,(a,f)=>{Ho(u,a,f)})}(u,f)},u.authTokenProvider_,u.appCheckProvider_,a),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(f=>{u.server_.refreshAuthToken(f)}),u.appCheckProvider_.addTokenChangeListener(f=>{u.server_.refreshAppCheckToken(f.token)}),u.statsReporter_=function Du(u,s){const a=u.toString();return Zl[a]||(Zl[a]=s()),Zl[a]}(u.repoInfo_,()=>new Nl(u.stats_,u.server_)),u.infoData_=new Os,u.infoSyncTree_=new jf({startListening:(f,v,D,M)=>{let J=[];const ce=u.infoData_.getNode(f._path);return ce.isEmpty()||(J=Yh(u.infoSyncTree_,f._path,ce),setTimeout(()=>{M("ok")},0)),J},stopListening:()=>{}}),Ho(u,"connected",!1),u.serverSyncTree_=new jf({startListening:(f,v,D,M)=>(u.server_.listen(f,D,v,(J,ce)=>{const Pe=M(J,ce);Ma(u.eventQueue_,f._path,Pe)}),[]),stopListening:(f,v)=>{u.server_.unlisten(f,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ha(this._repo,hi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function og(u,s){const a=jl[s];(!a||a[u.key]!==u)&&Pi(`Database ${s}(${u.repoInfo_}) has already been deleted.`),Jf(u),delete a[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&Pi("Cannot call "+s+" on a deleted database.")}}function ag(){If.IS_TRANSPORT_INITIALIZED&&Ii("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Yg(){ag(),ul.forceDisallow()}function qg(){ag(),xu.forceDisallow(),ul.forceAllow()}function zm(u,s){va(u,s)}const tm={".sv":"timestamp"};class ug{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}hl.prototype.simpleListen=function(u,s){this.sendRequest("q",{p:u},s)},hl.prototype.echo=function(u,s){this.sendRequest("echo",{d:u},s)},function em(u){ko(Cn.SDK_VERSION),(0,Cn._registerComponent)(new Ur.wA("database",(s,{instanceIdentifier:a})=>tc(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,Cn.registerVersion)(Al,"0.13.0",u),(0,Cn.registerVersion)(Al,"0.13.0","esm2017")}();const sm=new il.Yd("@firebase/database-compat"),Uc=function(u){sm.warn("FIREBASE WARNING: "+u)};class fa{constructor(s){this._delegate=s}cancel(s){(0,ye.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ye.Wj)("OnDisconnect.cancel","onComplete",s,!0);const a=this._delegate.cancel();return s&&a.then(()=>s(null),f=>s(f)),a}remove(s){(0,ye.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ye.Wj)("OnDisconnect.remove","onComplete",s,!0);const a=this._delegate.remove();return s&&a.then(()=>s(null),f=>s(f)),a}set(s,a){(0,ye.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ye.Wj)("OnDisconnect.set","onComplete",a,!0);const f=this._delegate.set(s);return a&&f.then(()=>a(null),v=>a(v)),f}setWithPriority(s,a,f){(0,ye.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ye.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const v=this._delegate.setWithPriority(s,a);return f&&v.then(()=>f(null),D=>f(D)),v}update(s,a){if((0,ye.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const v={};for(let D=0;D<s.length;++D)v[""+D]=s[D];s=v,Uc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ye.Wj)("OnDisconnect.update","onComplete",a,!0);const f=this._delegate.update(s);return a&&f.then(()=>a(null),v=>a(v)),f}}class nc{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return(0,ye.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Td{constructor(s,a){this._database=s,this._delegate=a}val(){return(0,ye.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ye.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ye.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ye.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,ye.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),xc("DataSnapshot.child","path",s,!1),new Td(this._database,this._delegate.child(s))}hasChild(s){return(0,ye.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xc("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,ye.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,ye.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ye.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(a=>s(new Td(this._database,a)))}hasChildren(){return(0,ye.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ye.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ye.Dv)("DataSnapshot.ref",0,0,arguments.length),new pa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Oo{constructor(s,a){this.database=s,this._delegate=a}on(s,a,f,v){var D;(0,ye.Dv)("Query.on",2,4,arguments.length),(0,ye.Wj)("Query.on","callback",a,!1);const M=Oo.getCancelAndContextArgs_("Query.on",f,v),J=(Pe,vt)=>{a.call(M.context,new Td(this.database,Pe),vt)};J.userCallback=a,J.context=M.context;const ce=null===(D=M.cancel)||void 0===D?void 0:D.bind(M.context);switch(s){case"value":return tg(this._delegate,J,ce),a;case"child_added":return ng(this._delegate,J,ce),a;case"child_removed":return ig(this._delegate,J,ce),a;case"child_changed":return rg(this._delegate,J,ce),a;case"child_moved":return ch(this._delegate,J,ce),a;default:throw new Error((0,ye.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,a,f){if((0,ye.Dv)("Query.off",0,3,arguments.length),function(u,s,a){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ye.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,ye.Wj)("Query.off","callback",a,!0),(0,ye.lb)("Query.off","context",f,!0),a){const v=()=>{};v.userCallback=a,v.context=f,dh(this._delegate,s,v)}else dh(this._delegate,s)}get(){return vy(this._delegate).then(s=>new Td(this.database,s))}once(s,a,f,v){(0,ye.Dv)("Query.once",1,4,arguments.length),(0,ye.Wj)("Query.once","callback",a,!0);const D=Oo.getCancelAndContextArgs_("Query.once",f,v),M=new ye.BH,J=(Pe,vt)=>{const It=new Td(this.database,Pe);a&&a.call(D.context,It,vt),M.resolve(It)};J.userCallback=a,J.context=D.context;const ce=Pe=>{D.cancel&&D.cancel.call(D.context,Pe),M.reject(Pe)};switch(s){case"value":tg(this._delegate,J,ce,{onlyOnce:!0});break;case"child_added":ng(this._delegate,J,ce,{onlyOnce:!0});break;case"child_removed":ig(this._delegate,J,ce,{onlyOnce:!0});break;case"child_changed":rg(this._delegate,J,ce,{onlyOnce:!0});break;case"child_moved":ch(this._delegate,J,ce,{onlyOnce:!0});break;default:throw new Error((0,ye.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return M.promise}limitToFirst(s){return(0,ye.Dv)("Query.limitToFirst",1,1,arguments.length),new Oo(this.database,bo(this._delegate,function Kg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fh(u)}(s)))}limitToLast(s){return(0,ye.Dv)("Query.limitToLast",1,1,arguments.length),new Oo(this.database,bo(this._delegate,function gf(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gm(u)}(s)))}orderByChild(s){return(0,ye.Dv)("Query.orderByChild",1,1,arguments.length),new Oo(this.database,bo(this._delegate,function Fc(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xc("orderByChild","path",u,!1),new $l(u)}(s)))}orderByKey(){return(0,ye.Dv)("Query.orderByKey",0,0,arguments.length),new Oo(this.database,bo(this._delegate,function wd(){return new Go}()))}orderByPriority(){return(0,ye.Dv)("Query.orderByPriority",0,0,arguments.length),new Oo(this.database,bo(this._delegate,function El(){return new ap}()))}orderByValue(){return(0,ye.Dv)("Query.orderByValue",0,0,arguments.length),new Oo(this.database,bo(this._delegate,function Lc(){return new lp}()))}startAt(s=null,a){return(0,ye.Dv)("Query.startAt",0,2,arguments.length),new Oo(this.database,bo(this._delegate,function hh(u=null,s){return ih("startAt","key",s,!0),new op(u,s)}(s,a)))}startAfter(s=null,a){return(0,ye.Dv)("Query.startAfter",0,2,arguments.length),new Oo(this.database,bo(this._delegate,function Hm(u,s){return ih("startAfter","key",s,!0),new kc(u,s)}(s,a)))}endAt(s=null,a){return(0,ye.Dv)("Query.endAt",0,2,arguments.length),new Oo(this.database,bo(this._delegate,function $m(u,s){return ih("endAt","key",s,!0),new Wg(u,s)}(s,a)))}endBefore(s=null,a){return(0,ye.Dv)("Query.endBefore",0,2,arguments.length),new Oo(this.database,bo(this._delegate,function jm(u,s){return ih("endBefore","key",s,!0),new sg(u,s)}(s,a)))}equalTo(s,a){return(0,ye.Dv)("Query.equalTo",1,2,arguments.length),new Oo(this.database,bo(this._delegate,function Bc(u,s){return ih("equalTo","key",s,!0),new Id(u,s)}(s,a)))}toString(){return(0,ye.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ye.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,ye.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof Oo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,a,f){const v={cancel:void 0,context:void 0};if(a&&f)v.cancel=a,(0,ye.Wj)(s,"cancel",v.cancel,!0),v.context=f,(0,ye.lb)(s,"context",v.context,!0);else if(a)if("object"==typeof a&&null!==a)v.context=a;else{if("function"!=typeof a)throw new Error((0,ye.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=a}return v}get ref(){return new pa(this.database,new ha(this._delegate._repo,this._delegate._path))}}class pa extends Oo{constructor(s,a){super(s,new Ra(a._repo,a._path,new w,!1)),this.database=s,this._delegate=a}getKey(){return(0,ye.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,ye.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new pa(this.database,Pc(this._delegate,s))}getParent(){(0,ye.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new pa(this.database,s):null}getRoot(){return(0,ye.Dv)("Reference.root",0,0,arguments.length),new pa(this.database,this._delegate.root)}set(s,a){(0,ye.Dv)("Reference.set",1,2,arguments.length),(0,ye.Wj)("Reference.set","onComplete",a,!0);const f=uh(this._delegate,s);return a&&f.then(()=>a(null),v=>a(v)),f}update(s,a){if((0,ye.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const v={};for(let D=0;D<s.length;++D)v[""+D]=s[D];s=v,Uc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xa("Reference.update",this._delegate._path),(0,ye.Wj)("Reference.update","onComplete",a,!0);const f=_y(this._delegate,s);return a&&f.then(()=>a(null),v=>a(v)),f}setWithPriority(s,a,f){(0,ye.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ye.Wj)("Reference.setWithPriority","onComplete",f,!0);const v=function Qa(u,s,a){if(xa("setWithPriority",u._path),Vl("setWithPriority",s,u._path,!1),Yp("setWithPriority",a,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const f=new ye.BH;return sf(u._repo,u._path,s,a,f.wrapCallback(()=>{})),f.promise}(this._delegate,s,a);return f&&v.then(()=>f(null),D=>f(D)),v}remove(s){(0,ye.Dv)("Reference.remove",0,1,arguments.length),(0,ye.Wj)("Reference.remove","onComplete",s,!0);const a=function mu(u){return xa("remove",u._path),uh(u,null)}(this._delegate);return s&&a.then(()=>s(null),f=>s(f)),a}transaction(s,a,f){(0,ye.Dv)("Reference.transaction",1,3,arguments.length),(0,ye.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,ye.Wj)("Reference.transaction","onComplete",a,!0),function(u,s,a,f){if(void 0!==a&&"boolean"!=typeof a)throw new Error((0,ye.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const v=function rm(u,s,a){var f;if(u=(0,ye.m9)(u),xa("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const v=null===(f=null==a?void 0:a.applyLocally)||void 0===f||f,D=new ye.BH,J=tg(u,()=>{});return function jg(u,s,a,f,v,D){_d(u,"transaction on "+s);const M={path:s,update:a,onComplete:f,status:null,order:Ua(),applyLocally:D,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},J=ep(u,s,void 0);M.currentInputSnapshot=J;const ce=M.update(J.val());if(void 0===ce)M.unwatcher(),M.currentOutputSnapshotRaw=null,M.currentOutputSnapshotResolved=null,M.onComplete&&M.onComplete(null,!1,M.currentInputSnapshot);else{Zu("transaction failed: Data returned ",ce,M.path),M.status=0;const Pe=Sc(u.transactionQueueTree_,s),vt=qu(Pe)||[];let It;vt.push(M),Ac(Pe,vt),"object"==typeof ce&&null!==ce&&(0,ye.r3)(ce,".priority")?(It=(0,ye.DV)(ce,".priority"),(0,ye.hu)(gd(It),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):It=(cd(u.serverSyncTree_,s)||Ir.EMPTY_NODE).getPriority().val();const kt=Mc(u),mn=Ni(ce,It),Mn=kg(mn,J,kt);M.currentOutputSnapshotRaw=mn,M.currentOutputSnapshotResolved=Mn,M.currentWriteId=yd(u);const _r=jp(u.serverSyncTree_,s,Mn,M.currentWriteId,M.applyLocally);Ma(u.eventQueue_,s,_r),cf(u,u.transactionQueueTree_)}}(u._repo,u._path,s,(ce,Pe,vt)=>{let It=null;ce?D.reject(ce):(It=new Ju(vt,new ha(u._repo,u._path),ji),D.resolve(new ug(Pe,It)))},J,v),D.promise}(this._delegate,s,{applyLocally:f}).then(D=>new nc(D.committed,new Td(this.database,D.snapshot)));return a&&v.then(D=>a(null,D.committed,D.snapshot),D=>a(D,!1,null)),v}setPriority(s,a){(0,ye.Dv)("Reference.setPriority",1,2,arguments.length),(0,ye.Wj)("Reference.setPriority","onComplete",a,!0);const f=function yy(u,s){u=(0,ye.m9)(u),xa("setPriority",u._path),Yp("setPriority",s,!1);const a=new ye.BH;return sf(u._repo,Di(u._path,".priority"),s,null,a.wrapCallback(()=>{})),a.promise}(this._delegate,s);return a&&f.then(()=>a(null),v=>a(v)),f}push(s,a){(0,ye.Dv)("Reference.push",0,2,arguments.length),(0,ye.Wj)("Reference.push","onComplete",a,!0);const f=function eg(u,s){u=(0,ye.m9)(u),xa("push",u._path),Vl("push",s,u._path,!0);const a=gu(u._repo),f=Nh(a),v=Pc(u,f),D=Pc(u,f);let M;return M=null!=s?uh(D,s).then(()=>D):Promise.resolve(D),v.then=M.then.bind(M),v.catch=M.then.bind(M,void 0),v}(this._delegate,s),v=f.then(M=>new pa(this.database,M));a&&v.then(()=>a(null),M=>a(M));const D=new pa(this.database,f);return D.then=v.then.bind(v),D.catch=v.catch.bind(v,void 0),D}onDisconnect(){return xa("Reference.onDisconnect",this._delegate._path),new fa(new sp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class dp{constructor(s,a){this._delegate=s,this.app=a,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Yg,forceLongPolling:qg}}useEmulator(s,a,f={}){!function Xg(u,s,a,f={}){(u=(0,ye.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Pi("Cannot call useEmulator() after instance has already been initialized.");const v=u._repoInternal;let D;if(v.repoInfo_.nodeAdmin)f.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new de(de.OWNER);else if(f.mockUserToken){const M="string"==typeof f.mockUserToken?f.mockUserToken:(0,ye.Sg)(f.mockUserToken,u.app.options.projectId);D=new de(M)}!function Cd(u,s,a,f){u.repoInfo_=new ol(`${s}:${a}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),f&&(u.authTokenProvider_=f)}(v,s,a,D)}(this._delegate,s,a,f)}ref(s){if((0,ye.Dv)("database.ref",0,1,arguments.length),s instanceof pa){const a=Gg(this._delegate,s.toString());return new pa(this,a)}{const a=Ed(this._delegate,s);return new pa(this,a)}}refFromURL(s){(0,ye.Dv)("database.refFromURL",1,1,arguments.length);const f=Gg(this._delegate,s);return new pa(this,f)}goOffline(){return(0,ye.Dv)("database.goOffline",0,0,arguments.length),function Qg(u){(u=(0,ye.m9)(u))._checkNotDeleted("goOffline"),Jf(u._repo)}(this._delegate)}goOnline(){return(0,ye.Dv)("database.goOnline",0,0,arguments.length),function Jg(u){(u=(0,ye.m9)(u))._checkNotDeleted("goOnline"),function $g(u){u.persistentConnection_&&u.persistentConnection_.resume(qf)}(u._repo)}(this._delegate)}}dp.ServerValue={TIMESTAMP:function nm(){return tm}(),increment:u=>function lg(u){return{".sv":{increment:u}}}(u)};var ph=Object.freeze({__proto__:null,initStandalone:function om({app:u,url:s,version:a,customAuthImpl:f,namespace:v,nodeAdmin:D=!1}){ko(a);const M=new Ur.zt("auth-internal",new Ur.H0("database-standalone"));return M.setComponent(new Ur.wA("auth-internal",()=>f,"PRIVATE")),{instance:new dp(tc(u,M,void 0,s,D),u),namespace:v}}});const hg=dp.ServerValue;!function am(u){u.INTERNAL.registerComponent(new Ur.wA("database-compat",(s,{instanceIdentifier:a})=>{const f=s.getProvider("app-compat").getImmediate(),v=s.getProvider("database").getImmediate({identifier:a});return new dp(v,f)},"PUBLIC").setServiceProps({Reference:pa,Query:Oo,Database:dp,DataSnapshot:Td,enableLogging:zm,INTERNAL:ph,ServerValue:hg}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.0")}(Vr.Z);var yu=N(7451);function Km(u){return null==u}function $s(u){return"function"==typeof u.set}function pg(u,s){return $s(s)?s:u.ref(s)}function lm(u,s){if(function Is(u){return"string"==typeof u}(u))return s.stringCase();if($s(u))return s.firebaseCase();if(function fg(u){return"function"==typeof u.exportVal}(u))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function mf(u,s,a="on",f=xr.z){return new ki.y(v=>{let D=null;return D=u[a](s,(M,J)=>{f.schedule(()=>{v.next({snapshot:M,prevKey:J})}),"once"===a&&f.schedule(()=>v.complete())},M=>{f.schedule(()=>v.error(M))}),"on"===a?{unsubscribe(){null!=D&&u.off(s,D)}}:{unsubscribe(){}}}).pipe((0,Br.U)(v=>{const{snapshot:D,prevKey:M}=v;let J=null;return D.exists()&&(J=D.key),{type:s,payload:D,prevKey:M,key:J}}),(0,ei.B)())}function cm(u,s){const a=u.length;for(let f=0;f<a;f++)if(u[f].payload.key===s)return f;return-1}function Ym(u,s){const{payload:a,prevKey:f,key:v}=s,D=cm(u,v),M=function dm(u,s){if(Km(s))return 0;{const a=cm(u,s);return-1===a?u.length:a+1}}(u,f);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let J=null;s.payload.forEach(ce=>{const Pe={payload:ce,type:"value",prevKey:J,key:ce.key};return J=ce.key,u=[...u,Pe],!1})}return u;case"child_added":if(D>-1){const J=u[D-1];(J&&J.key||null)!==f&&(u=u.filter(ce=>ce.payload.key!==a.key)).splice(M,0,s)}else{if(null==f)return[s,...u];(u=u.slice()).splice(M,0,s)}return u;case"child_removed":return u.filter(J=>J.payload.key!==a.key);case"child_changed":return u.map(J=>J.payload.key===v?s:J);case"child_moved":if(D>-1){const J=u.splice(D,1)[0];return(u=u.slice()).splice(M,0,J),u}return u;default:return u}}function gg(u){return(Km(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function hm(u,s,a){return function um(u,s,a){return mf(u,"value","once",a).pipe((0,Nr.w)(f=>{const v=[(0,Hr.of)(f)];return s.forEach(D=>v.push(mf(u,D,"on",a))),(0,Rr.T)(...v).pipe((0,bs.R)(Ym,[]))}),(0,Or.x)())}(u,s=gg(s),a)}function hp(u,s,a){const f=(s=gg(s)).map(v=>mf(u,v,"on",a));return(0,Rr.T)(...f)}function by(u,s){return function(f,v){return lm(f,{stringCase:()=>u.child(f)[s](v),firebaseCase:()=>f[s](v),snapshotCase:()=>f.ref[s](v)})}}function bl(u){return function(a){return a?lm(a,{stringCase:()=>u.child(a).remove(),firebaseCase:()=>a.remove(),snapshotCase:()=>a.ref.remove()}):u.remove()}}function Sd(u,s){return function(){return mf(u,"value","on",s)}}const qm=new z.OlP("angularfire2.realtimeDatabaseURL"),yf=new z.OlP("angularfire2.database.use-emulator");let _f=(()=>{class u{constructor(a,f,v,D,M,J,ce,Pe,vt,It,kt,mn,Mn,_r,Zr){this.schedulers=J;const zo=ce,to=(0,ri.on)(a,M,f);Pe&&(0,yu.nw)(to,M,vt,kt,mn,Mn,It,_r),this.database=(0,ri.cc)(`${to.name}.database.${v}`,"AngularFireDatabase",to.name,()=>{const cs=M.runOutsideAngular(()=>to.database(v||void 0));return zo&&cs.useEmulator(...zo),cs},[zo])}list(a,f){const v=this.schedulers.ngZone.runOutsideAngular(()=>pg(this.database,a));let D=v;return f&&(D=f(v)),function jc(u,s){const a=s.schedulers.outsideAngular,f=s.schedulers.ngZone.run(()=>u.ref);return{query:u,update:by(f,"update"),set:by(f,"set"),push:v=>f.push(v),remove:bl(f),snapshotChanges:v=>hm(u,v,a).pipe(pr.iC),stateChanges:v=>hp(u,v,a).pipe(pr.iC),auditTrail:v=>function Ey(u,s,a){return function $c(u,s,a){return function fp(u,s){return mf(u,"value","on",s).pipe((0,Br.U)(a=>{let f;return a.payload.forEach(v=>(f=v.key,!1)),{data:a,lastKeyToLoad:f}}))}(u,a).pipe(function Gs(...u){return s=>{let a;return"function"==typeof u[u.length-1]&&(a=u.pop()),s.lift(new Yl(u,a))}}(s),(0,Br.U)(([v,D])=>{const M=v.lastKeyToLoad,J=D.map(ce=>ce.key);return{actions:D,lastKeyToLoad:M,loadedKeys:J}}),function bu(u){return s=>s.lift(new mo(u))}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,Br.U)(v=>v.actions))}(u,hp(u,s).pipe((0,bs.R)((v,D)=>[...v,D],[])),a)}(u,v,a).pipe(pr.iC),valueChanges:(v,D)=>hm(u,v,a).pipe((0,Br.U)(J=>J.map(ce=>D&&D.idField?Object.assign(Object.assign({},ce.payload.val()),{[D.idField]:ce.key}):ce.payload.val())),pr.iC)}}(D,this)}object(a){return function mg(u,s){return{query:u,snapshotChanges:()=>Sd(u,s.schedulers.outsideAngular)().pipe(pr.iC),update:a=>u.ref.update(a),set:a=>u.ref.set(a),remove:()=>u.ref.remove(),valueChanges:()=>Sd(u,s.schedulers.outsideAngular)().pipe(pr.iC,(0,Br.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>pg(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(ri.Dh),z.LFG(ri.xv,8),z.LFG(qm,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(pr.HU),z.LFG(yf,8),z.LFG(yu.zQ,8),z.LFG(yu.Qv,8),z.LFG(yu.L6,8),z.LFG(yu._Q,8),z.LFG(yu.rT,8),z.LFG(yu.lh,8),z.LFG(yu.f7,8),z.LFG(Wc.nm,8))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),gh=(()=>{class u{constructor(){O.Z.registerVersion("angularfire",pr.q4.full,"rtdb-compat")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=z.oAB({type:u}),u.\u0275inj=z.cJS({providers:[_f]}),u})();var pp=N(4433);const Hc_firebase={apiKey:"AIzaSyBY3Sfork3oMSXgDsmymDelMcku9ctk3MA",authDomain:"harware-8f5e9.firebaseapp.com",projectId:"harware-8f5e9",storageBucket:"harware-8f5e9.appspot.com",messagingSenderId:"162423168685",appId:"1:162423168685:web:23de3cfbe4e6b35fcdb024",measurementId:"G-VECW99Z6VL"};var Ad=N(7221),Gc=N(1328);let Oa=(()=>{class u{constructor(a,f,v){this.authService=a,this.afAuth=f,this.router=v}canActivate(){const a=localStorage.getItem("user");if(!a)return this.redirectToLogin();try{const f=JSON.parse(a);return f&&f.uid?this.afAuth.authState.pipe((0,Br.U)(v=>v?!!v.emailVerified||this.redirectToVerifyEmail():this.redirectToLogin()),(0,Ad.K)(()=>(0,Hr.of)(this.redirectToLogin()))):this.redirectToLogin()}catch(f){return console.error("Error parsing user data:",f),this.redirectToLogin()}}redirectToLogin(){return localStorage.removeItem("user"),this.router.parseUrl("/login")}redirectToVerifyEmail(){return this.router.parseUrl("/verify-email")}}return u.\u0275fac=function(a){return new(a||u)(z.LFG(Gc.u),z.LFG(yu.zQ),z.LFG(Xi.F0))},u.\u0275prov=z.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const gp=[{path:"",loadChildren:()=>N.e(8388).then(N.bind(N,8388)).then(u=>u.IndexPageModule)},{path:"",loadChildren:()=>Promise.all([N.e(1447),N.e(8592),N.e(4705)]).then(N.bind(N,4705)).then(u=>u.HomePageModule),canActivate:[Oa]},{path:"users",loadChildren:()=>Promise.all([N.e(1447),N.e(5285)]).then(N.bind(N,5285)).then(u=>u.UsersPageModule),canActivate:[Oa]},{path:"orders",loadChildren:()=>N.e(8633).then(N.bind(N,8633)).then(u=>u.OrdersPageModule),canActivate:[Oa]},{path:"stock",loadChildren:()=>N.e(781).then(N.bind(N,781)).then(u=>u.StockPageModule),canActivate:[Oa]},{path:"reviews",loadChildren:()=>Promise.all([N.e(1447),N.e(6324)]).then(N.bind(N,6324)).then(u=>u.ReviewsPageModule),canActivate:[Oa]},{path:"view-reviews",loadChildren:()=>Promise.all([N.e(1447),N.e(981)]).then(N.bind(N,981)).then(u=>u.ViewReviewsPageModule),canActivate:[Oa]},{path:"order",loadChildren:()=>Promise.all([N.e(1447),N.e(8592),N.e(4238)]).then(N.bind(N,4238)).then(u=>u.OrderPageModule),canActivate:[Oa]},{path:"order-menu",loadChildren:()=>Promise.all([N.e(8592),N.e(2818)]).then(N.bind(N,2818)).then(u=>u.OrderMenuPageModule),canActivate:[Oa]},{path:"forgot",loadChildren:()=>Promise.all([N.e(1447),N.e(4479)]).then(N.bind(N,4479)).then(u=>u.ForgotPageModule)},{path:"products",loadChildren:()=>Promise.all([N.e(1447),N.e(1240)]).then(N.bind(N,1240)).then(u=>u.ProductsPageModule),canActivate:[Oa]},{path:"verify-email",loadChildren:()=>N.e(5640).then(N.bind(N,5640)).then(u=>u.VerifyEmailPageModule)},{path:"cart-modal",loadChildren:()=>N.e(1671).then(N.bind(N,1671)).then(u=>u.CartModalPageModule),canActivate:[Oa]},{path:"cart",loadChildren:()=>Promise.all([N.e(1447),N.e(8592),N.e(5213)]).then(N.bind(N,5213)).then(u=>u.CartPageModule),canActivate:[Oa]},{path:"checkout",loadChildren:()=>Promise.all([N.e(1447),N.e(776)]).then(N.bind(N,776)).then(u=>u.CheckoutPageModule)},{path:"receipt",loadChildren:()=>N.e(4393).then(N.bind(N,4393)).then(u=>u.ReceiptPageModule)},{path:"**",redirectTo:"",pathMatch:"full"}];let yg=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=z.oAB({type:u}),u.\u0275inj=z.cJS({imports:[[Xi.Bz.forRoot(gp,{preloadingStrategy:Xi.wm})],Xi.Bz]}),u})(),fm=(()=>{class u{constructor(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=z.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(a,f){1&a&&(z.TgZ(0,"ion-app"),z._UZ(1,"ion-router-outlet"),z.qZA())},directives:[pp.dr,pp.jP],styles:[""]}),u})();var pm=N(520),vf=N(4182);let mp=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=z.oAB({type:u}),u.\u0275inj=z.cJS({imports:[[c.ez,pp.Pc]]}),u})(),gm=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=z.oAB({type:u,bootstrap:[fm]}),u.\u0275inj=z.cJS({providers:[{provide:Xi.wN,useClass:pp.r4}],imports:[[er,vf.u5,yu.ww,jn,gh,ri.hO.initializeApp(Hc_firebase),pm.JF,pp.Pc.forRoot(),yg,mp]]}),u})();(0,z.G48)(),Fn([{provide:c.mr,useValue:"/Hardware/"}]).bootstrapModule(gm).catch(u=>console.log(u))},5867:(Qt,lt,N)=>{"use strict";N.d(lt,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=N(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Qt,lt,N)=>{"use strict";N.d(lt,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Qt,lt,N)=>{"use strict";N.r(lt);var c=N(5861),z=N(3942),W=N(2090),ke=N(9681),Te=N(655),te=N(1877),_e=N(4859);const He=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new te.Yd("@firebase/auth");function rt(w,...g){et.logLevel<=te.in.ERROR&&et.error(`Auth (${ke.SDK_VERSION}): ${w}`,...g)}function Ye(w,...g){throw _t(w,...g)}function yt(w,...g){return _t(w,...g)}function Pt(w,g,y){const S=Object.assign(Object.assign({},De()),{[g]:y});return new W.LL("auth","Firebase",S).create(g,{appName:w.name})}function gt(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ye(w,"argument-error"),Pt(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(w,...g){if("string"!=typeof w){const y=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=w.name),w._errorFactory.create(y,...S)}return Oe.create(w,...g)}function Ee(w,g,...y){if(!w)throw _t(g,...y)}function nt(w){const g="INTERNAL ASSERTION FAILED: "+w;throw rt(g),new Error(g)}function we(w,g){w||nt(g)}const be=new Map;function ge(w){we(w instanceof Function,"Expected a class definition");let g=be.get(w);return g?(we(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,be.set(w,g),g)}function Et(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ot(){return"http:"===ut()||"https:"===ut()}function ut(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ce{constructor(g,y){this.shortDelay=g,this.longDelay=y,we(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function ze(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ze(w,g){we(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Me{static initialize(g,y,S){this.fetchImpl=g,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xt=new Ce(3e4,6e4);function ct(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function ft(w,g,y,S){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(w,g,y,S,Y={}){return zt(w,Y,(0,c.Z)(function*(){let me={},ht={};S&&("GET"===g?ht=S:me={body:JSON.stringify(S)});const Ht=(0,W.xO)(Object.assign({key:w.config.apiKey},ht)).slice(1),vn=yield w._getAdditionalHeaders();return vn["Content-Type"]="application/json",w.languageCode&&(vn["X-Firebase-Locale"]=w.languageCode),Me.fetch()(Bn(w,w.config.apiHost,y,Ht),Object.assign({method:g,headers:vn,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function zt(w,g,y){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(w,g,y){w._canInitEmulator=!1;const S=Object.assign(Object.assign({},st),g);try{const Y=new er(w),me=yield Promise.race([y(),Y.promise]);Y.clearNetworkTimeout();const ht=yield me.json();if("needConfirmation"in ht)throw Zn(w,"account-exists-with-different-credential",ht);if(me.ok&&!("errorMessage"in ht))return ht;{const Ht=me.ok?ht.errorMessage:ht.error.message,[vn,Nn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw Zn(w,"credential-already-in-use",ht);if("EMAIL_EXISTS"===vn)throw Zn(w,"email-already-in-use",ht);if("USER_DISABLED"===vn)throw Zn(w,"user-disabled",ht);const ar=S[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(Nn)throw Pt(w,ar,Nn);Ye(w,ar)}}catch(Y){if(Y instanceof W.ZR)throw Y;Ye(w,"network-request-failed")}})).apply(this,arguments)}function hn(w,g,y,S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(w,g,y,S,Y={}){const me=yield ft(w,g,y,S,Y);return"mfaPendingCredential"in me&&Ye(w,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function Bn(w,g,y,S){const Y=`${g}${y}?${S}`;return w.config.emulator?Ze(w.config,Y):`${w.config.apiScheme}://${Y}`}class er{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(yt(this.auth,"network-request-failed")),Xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(w,g,y){const S={appName:w.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const Y=yt(w,g,S);return Y.customData._tokenResponse=y,Y}function Xr(){return(Xr=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function hr(w,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pr(w,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function bt(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Wt(){return(Wt=(0,c.Z)(function*(w,g=!1){const y=(0,W.m9)(w),S=yield y.getIdToken(g),Y=Gt(S);Ee(Y&&Y.exp&&Y.auth_time&&Y.iat,y.auth,"internal-error");const me="object"==typeof Y.firebase?Y.firebase:void 0,ht=null==me?void 0:me.sign_in_provider;return{claims:Y,token:S,authTime:bt(At(Y.auth_time)),issuedAtTime:bt(At(Y.iat)),expirationTime:bt(At(Y.exp)),signInProvider:ht||null,signInSecondFactor:(null==me?void 0:me.sign_in_second_factor)||null}})).apply(this,arguments)}function At(w){return 1e3*Number(w)}function Gt(w){const[g,y,S]=w.split(".");if(void 0===g||void 0===y||void 0===S)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,W.tV)(y);return Y?JSON.parse(Y):(rt("Failed to decode base64 JWT payload"),null)}catch(Y){return rt("Caught error parsing JWT payload as JSON",Y),null}}function Ln(w,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(S){throw S instanceof W.ZR&&Tn(S)&&w.auth.currentUser===w&&(yield w.auth.signOut()),S}})).apply(this,arguments)}function Tn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class ai{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Y=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),S)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class Lr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(w){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(w){var g;const y=w.auth,S=yield w.getIdToken(),Y=yield Ln(w,Pr(y,{idToken:S}));Ee(null==Y?void 0:Y.users.length,y,"internal-error");const me=Y.users[0];w._notifyReloadListener(me);const ht=(null===(g=me.providerUserInfo)||void 0===g?void 0:g.length)?We(me.providerUserInfo):[],Ht=Bt(w.providerData,ht),ar=!!w.isAnonymous&&!(w.email&&me.passwordHash||(null==Ht?void 0:Ht.length)),Xn={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Ht,metadata:new Lr(me.createdAt,me.lastLoginAt),isAnonymous:ar};Object.assign(w,Xn)})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(w){const g=(0,W.m9)(w);yield qn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Bt(w,g){return[...w.filter(S=>!g.some(Y=>Y.providerId===S.providerId)),...g]}function We(w){return w.map(g=>{var{providerId:y}=g,S=(0,Te._T)(g,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function qt(){return(qt=(0,c.Z)(function*(w,g){const y=yield zt(w,{},(0,c.Z)(function*(){const S=(0,W.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Y,apiKey:me}=w.config,ht=Bn(w,Y,"/v1/token",`key=${me}`),Ht=yield w._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(ht,{method:"POST",headers:Ht,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class En{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ee(g.idToken,"internal-error"),Ee(void 0!==g.idToken,"internal-error"),Ee(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function dn(w){const g=Gt(w);return Ee(g,"internal-error"),Ee(void 0!==g.exp,"internal-error"),Ee(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var S=this;return(0,c.Z)(function*(){return Ee(!S.accessToken||S.refreshToken,g,"user-token-expired"),y||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var S=this;return(0,c.Z)(function*(){const{accessToken:Y,refreshToken:me,expiresIn:ht}=yield function pt(w,g){return qt.apply(this,arguments)}(g,y);S.updateTokensAndExpiration(Y,me,Number(ht))})()}updateTokensAndExpiration(g,y,S){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,y){const{refreshToken:S,accessToken:Y,expirationTime:me}=y,ht=new En;return S&&(Ee("string"==typeof S,"internal-error",{appName:g}),ht.refreshToken=S),Y&&(Ee("string"==typeof Y,"internal-error",{appName:g}),ht.accessToken=Y),me&&(Ee("number"==typeof me,"internal-error",{appName:g}),ht.expirationTime=me),ht}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new En,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Sn(w,g){Ee("string"==typeof w||void 0===w,"internal-error",{appName:g})}class On{constructor(g){var{uid:y,auth:S,stsTokenManager:Y}=g,me=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new Lr(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,c.Z)(function*(){const S=yield Ln(y,y.stsTokenManager.getToken(y.auth,g));return Ee(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(g){return function Ae(w){return Wt.apply(this,arguments)}(this,g)}reload(){return function Ke(w){return Qe.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new On(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var S=this;return(0,c.Z)(function*(){let Y=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),Y=!0),y&&(yield qn(S)),yield S.auth._persistUserIfCurrent(S),Y&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,c.Z)(function*(){const y=yield g.getIdToken();return yield Ln(g,function yn(w,g){return Xr.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var S,Y,me,ht,Ht,vn,Nn,ar;const Xn=null!==(S=y.displayName)&&void 0!==S?S:void 0,Os=null!==(Y=y.email)&&void 0!==Y?Y:void 0,ho=null!==(me=y.phoneNumber)&&void 0!==me?me:void 0,za=null!==(ht=y.photoURL)&&void 0!==ht?ht:void 0,$t=null!==(Ht=y.tenantId)&&void 0!==Ht?Ht:void 0,ua=null!==(vn=y._redirectEventId)&&void 0!==vn?vn:void 0,Uo=null!==(Nn=y.createdAt)&&void 0!==Nn?Nn:void 0,Fh=null!==(ar=y.lastLoginAt)&&void 0!==ar?ar:void 0,{uid:su,emailVerified:ml,isAnonymous:Mf,providerData:Nl,stsTokenManager:$o}=y;Ee(su&&$o,g,"internal-error");const rd=En.fromJSON(this.name,$o);Ee("string"==typeof su,g,"internal-error"),Sn(Xn,g.name),Sn(Os,g.name),Ee("boolean"==typeof ml,g,"internal-error"),Ee("boolean"==typeof Mf,g,"internal-error"),Sn(ho,g.name),Sn(za,g.name),Sn($t,g.name),Sn(ua,g.name),Sn(Uo,g.name),Sn(Fh,g.name);const Ec=new On({uid:su,auth:g,email:Os,emailVerified:ml,displayName:Xn,isAnonymous:Mf,photoURL:za,phoneNumber:ho,tenantId:$t,stsTokenManager:rd,createdAt:Uo,lastLoginAt:Fh});return Nl&&Array.isArray(Nl)&&(Ec.providerData=Nl.map(Vs=>Object.assign({},Vs))),ua&&(Ec._redirectEventId=ua),Ec}static _fromIdTokenResponse(g,y,S=!1){return(0,c.Z)(function*(){const Y=new En;Y.updateFromServerResponse(y);const me=new On({uid:y.localId,auth:g,stsTokenManager:Y,isAnonymous:S});return yield qn(me),me})()}}const un=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,S){var Y=this;return(0,c.Z)(function*(){Y.storage[y]=S})()}_get(y){var S=this;return(0,c.Z)(function*(){const Y=S.storage[y];return void 0===Y?null:Y})()}_remove(y){var S=this;return(0,c.Z)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return w.type="NONE",w})();function an(w,g,y){return`firebase:${w}:${g}:${y}`}class Cr{constructor(g,y,S){this.persistence=g,this.auth=y,this.userKey=S;const{config:Y,name:me}=this.auth;this.fullUserKey=an(this.userKey,Y.apiKey,me),this.fullPersistenceKey=an("persistence",Y.apiKey,me),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?On._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,c.Z)(function*(){if(y.persistence===g)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,S="authUser"){return(0,c.Z)(function*(){if(!y.length)return new Cr(ge(un),g,S);const Y=(yield Promise.all(y.map(function(){var Nn=(0,c.Z)(function*(ar){if(yield ar._isAvailable())return ar});return function(ar){return Nn.apply(this,arguments)}}()))).filter(Nn=>Nn);let me=Y[0]||ge(un);const ht=an(S,g.config.apiKey,g.name);let Ht=null;for(const Nn of y)try{const ar=yield Nn._get(ht);if(ar){const Xn=On._fromJSON(g,ar);Nn!==me&&(Ht=Xn),me=Nn;break}}catch(ar){}const vn=Y.filter(Nn=>Nn._shouldAllowMigration);return me._shouldAllowMigration&&vn.length?(me=vn[0],Ht&&(yield me._set(ht,Ht.toJSON())),yield Promise.all(y.map(function(){var Nn=(0,c.Z)(function*(ar){if(ar!==me)try{yield ar._remove(ht)}catch(Xn){}});return function(ar){return Nn.apply(this,arguments)}}())),new Cr(me,g,S)):new Cr(me,g,S)})()}}function Hi(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Hr(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ri(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(fi(g))return"Blackberry";if(xr(g))return"Webos";if(Xi(g))return"Safari";if((g.includes("chrome/")||ki(g))&&!g.includes("edge/"))return"Chrome";if(vi(g))return"Android";{const S=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function ri(w=(0,W.z$)()){return/firefox\//i.test(w)}function Xi(w=(0,W.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ki(w=(0,W.z$)()){return/crios\//i.test(w)}function Hr(w=(0,W.z$)()){return/iemobile/i.test(w)}function vi(w=(0,W.z$)()){return/android/i.test(w)}function fi(w=(0,W.z$)()){return/blackberry/i.test(w)}function xr(w=(0,W.z$)()){return/webos/i.test(w)}function Ei(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)}function Br(w=(0,W.z$)()){return Ei(w)||vi(w)||xr(w)||fi(w)||/windows phone/i.test(w)||Hr(w)}function pr(w,g=[]){let y;switch(w){case"Browser":y=Hi((0,W.z$)());break;case"Worker":y=`${Hi((0,W.z$)())}-${w}`;break;default:y=w}const S=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${ke.SDK_VERSION}/${S}`}class Vr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const S=me=>new Promise((ht,Ht)=>{try{ht(g(me))}catch(vn){Ht(vn)}});S.onAbort=y,this.queue.push(S);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,c.Z)(function*(){if(y.auth.currentUser===g)return;const S=[];try{for(const Y of y.queue)yield Y(g),Y.onAbort&&S.push(Y.onAbort)}catch(Y){S.reverse();for(const me of S)try{me()}catch(ht){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:Y.message})}})()}}class nn{constructor(g,y,S){this.app=g,this.heartbeatServiceProvider=y,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ye(this),this.idTokenSubscription=new ye(this),this.beforeStateQueue=new Vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,y){var S=this;return y&&(this._popupRedirectResolver=ge(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Y,me;if(!S._deleted&&(S.persistenceManager=yield Cr.create(S,g),!S._deleted)){if(null===(Y=S._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(ht){}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(me=S.currentUser)||void 0===me?void 0:me.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,c.Z)(function*(){var S;const Y=yield y.assertedPersistence.getCurrentUser();let me=Y,ht=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ht=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,vn=null==me?void 0:me._redirectEventId,Nn=yield y.tryRedirectSignIn(g);(!Ht||Ht===vn)&&(null==Nn?void 0:Nn.user)&&(me=Nn.user,ht=!0)}if(!me)return y.directlySetCurrentUser(null);if(!me._redirectEventId){if(ht)try{yield y.beforeStateQueue.runMiddleware(me)}catch(Ht){me=Y,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ht))}return me?y.reloadAndSetCurrentUserOrClear(me):y.directlySetCurrentUser(null)}return Ee(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===me._redirectEventId?y.directlySetCurrentUser(me):y.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var y=this;return(0,c.Z)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(Y){yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,c.Z)(function*(){try{yield qn(g)}catch(S){if("auth/network-request-failed"!==S.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function q(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){const S=g?(0,W.m9)(g):null;return S&&Ee(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(g,y=!1){var S=this;return(0,c.Z)(function*(){if(!S._deleted)return g&&Ee(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),y||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,c.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(ge(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new W.LL("auth","Firebase",g())}onAuthStateChanged(g,y,S){return this.registerStateListener(this.authStateSubscription,g,y,S)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,S){return this.registerStateListener(this.idTokenSubscription,g,y,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var S=this;return(0,c.Z)(function*(){const Y=yield S.getOrInitRedirectPersistenceManager(y);return null===g?Y.removeCurrentUser():Y.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const S=g&&ge(g)||y._popupRedirectResolver;Ee(S,y,"argument-error"),y.redirectPersistenceManager=yield Cr.create(y,[ge(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,c.Z)(function*(){var S,Y;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===g?y._currentUser:(null===(Y=y.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,c.Z)(function*(){if(g===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,S,Y){if(this._deleted)return()=>{};const me="function"==typeof y?y:y.next.bind(y),ht=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(ht,this,"internal-error"),ht.then(()=>me(this.currentUser)),"function"==typeof y?g.addObserver(y,S,Y):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var y;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const Y=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return Y&&(S["X-Firebase-Client"]=Y),S})()}}function Cn(w){return(0,W.m9)(w)}class ye{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,W.ne)(y=>this.observer=y)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qr(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Ti(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class tr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return nt("not implemented")}_getIdTokenResponse(g){return nt("not implemented")}_linkToIdToken(g,y){return nt("not implemented")}_getReauthenticationResolver(g){return nt("not implemented")}}function kr(w,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:resetPassword",ct(w,g))})).apply(this,arguments)}function Gr(w,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fi(w,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:update",ct(w,g))})).apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithPassword",ct(w,g))})).apply(this,arguments)}function Dr(w,g){return ne.apply(this,arguments)}function ne(){return(ne=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:sendOobCode",ct(w,g))})).apply(this,arguments)}function ve(w,g){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(w,g){return Dr(w,g)})).apply(this,arguments)}function mt(w,g){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(w,g){return Dr(w,g)})).apply(this,arguments)}function Ve(w,g){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(w,g){return Dr(w,g)})).apply(this,arguments)}function Ft(w,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(w,g){return Dr(w,g)})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithEmailLink",ct(w,g))})).apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithEmailLink",ct(w,g))})).apply(this,arguments)}class nr extends tr{constructor(g,y,S,Y=null){super("password",S),this._email=g,this._password=y,this._tenantId=Y}static _fromEmailAndPassword(g,y){return new nr(g,y,"password")}static _fromEmailAndCode(g,y,S=null){return new nr(g,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function zr(w,g){return pi.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ut(w,g){return fn.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,y){var S=this;return(0,c.Z)(function*(){switch(S.signInMethod){case"password":return Gr(g,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function bn(w,g){return Yn.apply(this,arguments)}(g,{idToken:y,email:S._email,oobCode:S._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function di(w,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithIdp",ct(w,g))})).apply(this,arguments)}class Xe extends tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Xe(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ye("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:Y}=y,me=(0,Te._T)(y,["providerId","signInMethod"]);if(!S||!Y)return null;const ht=new Xe(S,Y);return ht.idToken=me.idToken||void 0,ht.accessToken=me.accessToken||void 0,ht.secret=me.secret,ht.nonce=me.nonce,ht.pendingToken=me.pendingToken||null,ht}_getIdTokenResponse(g){return di(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,di(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,di(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,W.xO)(y)}return g}}function Ct(w,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:sendVerificationCode",ct(w,g))})).apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithPhoneNumber",ct(w,g))})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(w,g){const y=yield hn(w,"POST","/v1/accounts:signInWithPhoneNumber",ct(w,g));if(y.temporaryProof)throw Zn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const ur={USER_NOT_FOUND:"user-not-found"};function es(){return(es=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithPhoneNumber",ct(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ur)})).apply(this,arguments)}class Gi extends tr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Gi({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Gi({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function cn(w,g){return An.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function lr(w,g){return ii.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ds(w,g){return es.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:S,verificationCode:Y}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:S,code:Y}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:S,phoneNumber:Y,temporaryProof:me}=g;return S||y||Y||me?new Gi({verificationId:y,verificationCode:S,phoneNumber:Y,temporaryProof:me}):null}}class gs{constructor(g){var y,S,Y,me,ht,Ht;const vn=(0,W.zd)((0,W.pd)(g)),Nn=null!==(y=vn.apiKey)&&void 0!==y?y:null,ar=null!==(S=vn.oobCode)&&void 0!==S?S:null,Xn=function Po(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=vn.mode)&&void 0!==Y?Y:null);Ee(Nn&&ar&&Xn,"argument-error"),this.apiKey=Nn,this.operation=Xn,this.code=ar,this.continueUrl=null!==(me=vn.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(ht=vn.languageCode)&&void 0!==ht?ht:null,this.tenantId=null!==(Ht=vn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(g){const y=function io(w){const g=(0,W.zd)((0,W.pd)(w)).link,y=g?(0,W.zd)((0,W.pd)(g)).deep_link_id:null,S=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(S?(0,W.zd)((0,W.pd)(S)).link:null)||S||y||g||w}(g);try{return new gs(y)}catch(S){return null}}}let xs=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,S){return nr._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const Y=gs.parseLink(S);return Ee(Y,"argument-error"),nr._fromEmailAndCode(y,Y.code,Y.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class li{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class js extends li{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class gi extends js{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return Ee("providerId"in y&&"signInMethod"in y,"argument-error"),Xe._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ee(g.idToken||g.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return gi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return gi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S,oauthTokenSecret:Y,pendingToken:me,nonce:ht,providerId:Ht}=g;if(!S&&!Y&&!y&&!me||!Ht)return null;try{return new gi(Ht)._credential({idToken:y,accessToken:S,nonce:ht,pendingToken:me})}catch(vn){return null}}}let si=(()=>{class w extends js{constructor(){super("facebook.com")}static credential(y){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(S){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ps=(()=>{class w extends js{constructor(){super("google.com"),this.addScope("profile")}static credential(y,S){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:S})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:S,oauthAccessToken:Y}=y;if(!S&&!Y)return null;try{return w.credential(S,Y)}catch(me){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),so=(()=>{class w extends js{constructor(){super("github.com")}static credential(y){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(S){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class is extends tr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return di(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,di(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,di(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:Y,pendingToken:me}=y;return S&&Y&&me&&S===Y?new is(S,me):null}static _create(g,y){return new is(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends li{constructor(g){Ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return zi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return zi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=is.fromJSON(g);return Ee(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:S}=g;if(!y||!S)return null;try{return is._create(S,y)}catch(Y){return null}}}let hs=(()=>{class w extends js{constructor(){super("twitter.com")}static credential(y,S){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:S})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:S,oauthTokenSecret:Y}=y;if(!S||!Y)return null;try{return w.credential(S,Y)}catch(me){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ri(w,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signUp",ct(w,g))})).apply(this,arguments)}class Qr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,S,Y=!1){return(0,c.Z)(function*(){const me=yield On._fromIdTokenResponse(g,S,Y),ht=Zs(S);return new Qr({user:me,providerId:ht,_tokenResponse:S,operationType:y})})()}static _forOperation(g,y,S){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const Y=Zs(S);return new Qr({user:g,providerId:Y,_tokenResponse:S,operationType:y})})()}}function Zs(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ko(){return(Ko=(0,c.Z)(function*(w){var g;const y=Cn(w);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new Qr({user:y.currentUser,providerId:null,operationType:"signIn"});const S=yield Ri(y,{returnSecureToken:!0}),Y=yield Qr._fromIdTokenResponse(y,"signIn",S,!0);return yield y._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ms extends W.ZR{constructor(g,y,S,Y){var me;super(y.code,y.message),this.operationType=S,this.user=Y,Object.setPrototypeOf(this,Ms.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,y,S,Y){return new Ms(g,y,S,Y)}}function ss(w,g,y,S){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?Ms._fromErrorAndOperation(w,me,g,S):me})}function oi(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Er(){return(Er=(0,c.Z)(function*(w,g){const y=(0,W.m9)(w);yield $(!0,y,g);const{providerUserInfo:S}=yield hr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),Y=oi(S||[]);return y.providerData=y.providerData.filter(me=>Y.has(me.providerId)),Y.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function U(w,g){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(w,g,y=!1){const S=yield Ln(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return Qr._forOperation(w,"link",S)})).apply(this,arguments)}function $(w,g,y){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(w,g,y){yield qn(g);const Y=!1===w?"provider-already-linked":"no-such-provider";Ee(oi(g.providerData).has(y)===w,g.auth,Y)})).apply(this,arguments)}function Je(w,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(w,g,y=!1){const{auth:S}=w,Y="reauthenticate";try{const me=yield Ln(w,ss(S,Y,g,w),y);Ee(me.idToken,S,"internal-error");const ht=Gt(me.idToken);Ee(ht,S,"internal-error");const{sub:Ht}=ht;return Ee(w.uid===Ht,S,"user-mismatch"),Qr._forOperation(w,Y,me)}catch(me){throw"auth/user-not-found"===(null==me?void 0:me.code)&&Ye(S,"user-mismatch"),me}})).apply(this,arguments)}function Yt(w,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(w,g,y=!1){const S="signIn",Y=yield ss(w,S,g),me=yield Qr._fromIdTokenResponse(w,S,Y);return y||(yield w._updateCurrentUser(me.user)),me})).apply(this,arguments)}function Jn(w,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(w,g){return Yt(Cn(w),g)})).apply(this,arguments)}function Wn(w,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(w,g){const y=(0,W.m9)(w);return yield $(!1,y,g.providerId),U(y,g)})).apply(this,arguments)}function mi(w,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(w,g){return Je((0,W.m9)(w),g)})).apply(this,arguments)}function Jr(w,g){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(w,g){return hn(w,"POST","/v1/accounts:signInWithCustomToken",ct(w,g))})).apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(w,g){const y=Cn(w),S=yield Jr(y,{token:g,returnSecureToken:!0}),Y=yield Qr._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Fs{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?G._fromServerResponse(g,y):Ye(g,"internal-error")}}class G extends Fs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new G(y)}}function B(w,g,y){var S;Ee((null===(S=y.url)||void 0===S?void 0:S.length)>0,w,"invalid-continue-uri"),Ee(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Ee(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(Ee(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function he(){return(he=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w),Y={requestType:"PASSWORD_RESET",email:g};y&&B(S,Y,y),yield mt(S,Y)})).apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(w,g,y){yield kr((0,W.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function b(){return(b=(0,c.Z)(function*(w,g){yield Fi((0,W.m9)(w),{oobCode:g})})).apply(this,arguments)}function j(w,g){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(w,g){const y=(0,W.m9)(w),S=yield kr(y,{oobCode:g}),Y=S.requestType;switch(Ee(Y,y,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(S.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(S.mfaInfo,y,"internal-error");default:Ee(S.email,y,"internal-error")}let me=null;return S.mfaInfo&&(me=Fs._fromServerResponse(Cn(y),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:me},operation:Y}})).apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(w,g){const{data:y}=yield j((0,W.m9)(w),g);return y.email})).apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(w,g,y){const S=Cn(w),Y=yield Ri(S,{returnSecureToken:!0,email:g,password:y}),me=yield Qr._fromIdTokenResponse(S,"signIn",Y);return yield S._updateCurrentUser(me.user),me})).apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w),Y={requestType:"EMAIL_SIGNIN",email:g};Ee(y.handleCodeInApp,S,"argument-error"),y&&B(S,Y,y),yield Ve(S,Y)})).apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w),Y=xs.credentialWithLink(g,y||Et());return Ee(Y._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Jn(S,Y)})).apply(this,arguments)}function _s(w,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:createAuthUri",ct(w,g))})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(w,g){const S={identifier:g,continueUri:Ot()?Et():"http://localhost"},{signinMethods:Y}=yield _s((0,W.m9)(w),S);return Y||[]})).apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(w,g){const y=(0,W.m9)(w),Y={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&B(y.auth,Y,g);const{email:me}=yield ve(y.auth,Y);me!==w.email&&(yield w.reload())})).apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&B(S.auth,me,y);const{email:ht}=yield Ft(S.auth,me);ht!==w.email&&(yield w.reload())})).apply(this,arguments)}function Yo(w,g){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(w,g){return ft(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const S=(0,W.m9)(w),me={idToken:yield S.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ht=yield Ln(S,Yo(S.auth,me));S.displayName=ht.displayName||null,S.photoURL=ht.photoUrl||null;const Ht=S.providerData.find(({providerId:vn})=>"password"===vn);Ht&&(Ht.displayName=S.displayName,Ht.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ht)})).apply(this,arguments)}function Zo(w,g,y){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(w,g,y){const{auth:S}=w,me={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(me.email=g),y&&(me.password=y);const ht=yield Ln(w,Gr(S,me));yield w._updateTokensIfNecessary(ht,!0)})).apply(this,arguments)}class po{constructor(g,y,S={}){this.isNewUser=g,this.providerId=y,this.profile=S}}class Cl extends po{constructor(g,y,S,Y){super(g,y,S),this.username=Y}}class tl extends po{constructor(g,y){super(g,"facebook.com",y)}}class Xo extends Cl{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Dl extends po{constructor(g,y){super(g,"google.com",y)}}class Es extends Cl{constructor(g,y,S){super(g,"twitter.com",y,S)}}function Qo(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function zl(w){var g,y;if(!w)return null;const{providerId:S}=w,Y=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},me=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!S&&(null==w?void 0:w.idToken)){const ht=null===(y=null===(g=Gt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ht)return new po(me,"anonymous"!==ht&&"custom"!==ht?ht:null)}if(!S)return null;switch(S){case"facebook.com":return new tl(me,Y);case"github.com":return new Xo(me,Y);case"google.com":return new Dl(me,Y);case"twitter.com":return new Es(me,Y,w.screenName||null);case"custom":case"anonymous":return new po(me,null);default:return new po(me,S,Y)}}(y)}class go{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new go("enroll",g)}static _fromMfaPendingCredential(g){return new go("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,S;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return go._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return go._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ka{constructor(g,y,S){this.session=g,this.hints=y,this.signInResolver=S}static _fromError(g,y){const S=Cn(g),Y=y.customData._serverResponse,me=(Y.mfaInfo||[]).map(Ht=>Fs._fromServerResponse(S,Ht));Ee(Y.mfaPendingCredential,S,"internal-error");const ht=go._fromMfaPendingCredential(Y.mfaPendingCredential);return new ka(ht,me,function(){var Ht=(0,c.Z)(function*(vn){const Nn=yield vn._process(S,ht);delete Y.mfaInfo,delete Y.mfaPendingCredential;const ar=Object.assign(Object.assign({},Y),{idToken:Nn.idToken,refreshToken:Nn.refreshToken});switch(y.operationType){case"signIn":const Xn=yield Qr._fromIdTokenResponse(S,y.operationType,ar);return yield S._updateCurrentUser(Xn.user),Xn;case"reauthenticate":return Ee(y.user,S,"internal-error"),Qr._forOperation(y.user,y.operationType,ar);default:Ye(S,"internal-error")}});return function(vn){return Ht.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,c.Z)(function*(){return y.signInResolver(g)})()}}function lc(w,g){return ft(w,"POST","/v2/accounts/mfaEnrollment:start",ct(w,g))}class Tl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(S=>Fs._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Tl(g)}getSession(){var g=this;return(0,c.Z)(function*(){return go._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var S=this;return(0,c.Z)(function*(){const Y=g,me=yield S.getSession(),ht=yield Ln(S.user,Y._process(S.user.auth,me,y));return yield S.user._updateTokensIfNecessary(ht),S.user.reload()})()}unenroll(g){var y=this;return(0,c.Z)(function*(){const S="string"==typeof g?g:g.uid,Y=yield y.user.getIdToken(),me=yield Ln(y.user,function nl(w,g){return ft(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(w,g))}(y.user.auth,{idToken:Y,mfaEnrollmentId:S}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ht})=>ht!==S),yield y.user._updateTokensIfNecessary(me);try{yield y.user.reload()}catch(ht){if("auth/user-token-expired"!==ht.code)throw ht}})()}}const ns=new WeakMap,Cs="__sak";class Eu{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fa=(()=>{class w extends Eu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rl(){const w=(0,W.z$)();return Xi(w)||Ei(w)}()&&function Nr(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Br(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const Y=this.storage.getItem(S),me=this.localCache[S];Y!==me&&y(S,me,Y)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((Ht,vn,Nn)=>{this.notifyListeners(Ht,Nn)});const Y=y.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(Y);if(y.newValue!==Ht)null!==y.newValue?this.storage.setItem(Y,y.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===y.newValue&&!S)return}const me=()=>{const Ht=this.storage.getItem(Y);!S&&this.localCache[Y]===Ht||this.notifyListeners(Y,Ht)},ht=this.storage.getItem(Y);!function rs(){return(0,W.w1)()&&10===document.documentMode}()||ht===y.newValue||y.newValue===y.oldValue?me():setTimeout(me,10)}notifyListeners(y,S){this.localCache[y]=S;const Y=this.listeners[y];if(Y)for(const me of Array.from(Y))me(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var Y=()=>super._set,me=this;return(0,c.Z)(function*(){yield Y().call(me,y,S),me.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,Y=this;return(0,c.Z)(function*(){const me=yield S().call(Y,y);return Y.localCache[y]=JSON.stringify(me),me})()}_remove(y){var S=()=>super._remove,Y=this;return(0,c.Z)(function*(){yield S().call(Y,y),delete Y.localCache[y]})()}}return w.type="LOCAL",w})(),zn=(()=>{class w extends Eu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return w.type="SESSION",w})();let Dn=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(me=>me.isListeningto(y));if(S)return S;const Y=new w(y);return this.receivers.push(Y),Y}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,c.Z)(function*(){const Y=y,{eventId:me,eventType:ht,data:Ht}=Y.data,vn=S.handlersMap[ht];if(!(null==vn?void 0:vn.size))return;Y.ports[0].postMessage({status:"ack",eventId:me,eventType:ht});const Nn=Array.from(vn).map(function(){var Xn=(0,c.Z)(function*(Os){return Os(Y.origin,Ht)});return function(Os){return Xn.apply(this,arguments)}}()),ar=yield function Kl(w){return Promise.all(w.map(function(){var g=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return g.apply(this,arguments)}}()))}(Nn);Y.ports[0].postMessage({status:"done",eventId:me,eventType:ht,response:ar})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function St(w="",g=10){let y="";for(let S=0;S<g;S++)y+=Math.floor(10*Math.random());return w+y}class en{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,S=50){var Y=this;return(0,c.Z)(function*(){const me="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let ht,Ht;return new Promise((vn,Nn)=>{const ar=St("",20);me.port1.start();const Xn=setTimeout(()=>{Nn(new Error("unsupported_event"))},S);Ht={messageChannel:me,onMessage(Os){const ho=Os;if(ho.data.eventId===ar)switch(ho.data.status){case"ack":clearTimeout(Xn),ht=setTimeout(()=>{Nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ht),vn(ho.data.response);break;default:clearTimeout(Xn),clearTimeout(ht),Nn(new Error("invalid_response"))}}},Y.handlers.add(Ht),me.port1.addEventListener("message",Ht.onMessage),Y.target.postMessage({eventType:g,eventId:ar,data:y},[me.port2])}).finally(()=>{Ht&&Y.removeMessageHandler(Ht)})})()}}function br(){return window}function La(){return void 0!==br().WorkerGlobalScope&&"function"==typeof br().importScripts}function Sl(){return(Sl=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const O="firebaseLocalStorageDb",T="firebaseLocalStorage",V="fbase_key";class K{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ue(w,g){return w.transaction([T],g?"readwrite":"readonly").objectStore(T)}function qe(){const w=indexedDB.open(O,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const S=w.result;try{S.createObjectStore(T,{keyPath:V})}catch(Y){y(Y)}}),w.addEventListener("success",(0,c.Z)(function*(){const S=w.result;S.objectStoreNames.contains(T)?g(S):(S.close(),yield function xe(){const w=indexedDB.deleteDatabase(O);return new K(w).toPromise()}(),g(yield qe()))}))})}function jt(w,g,y){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(w,g,y){const S=ue(w,!0).put({[V]:g,value:y});return new K(S).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(w,g){const y=ue(w,!1).get(g),S=yield new K(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Rr(w,g){const y=ue(w,!0).delete(g);return new K(y).toPromise()}const ea=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield qe()),y.db})()}_withRetries(y){var S=this;return(0,c.Z)(function*(){let Y=0;for(;;)try{const me=yield S._openDb();return yield y(me)}catch(me){if(Y++>3)throw me;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return La()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=Dn._getInstance(function Wc(){return La()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,c.Z)(function*(Y,me){return{keyProcessed:(yield y._poll()).includes(me.key)}});return function(Y,me){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,c.Z)(function*(Y,me){return["keyChanged"]});return function(Y,me){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var S,Y;if(y.activeServiceWorker=yield function uc(){return Sl.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new en(y.activeServiceWorker);const me=yield y.sender._send("ping",{},800);!me||(null===(S=me[0])||void 0===S?void 0:S.fulfilled)&&(null===(Y=me[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,c.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function cc(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield qe();return yield jt(y,Cs,"1"),yield Rr(y,Cs),!0}catch(y){}return!1})()}_withPendingWrite(y){var S=this;return(0,c.Z)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var Y=this;return(0,c.Z)(function*(){return Y._withPendingWrite((0,c.Z)(function*(){return yield Y._withRetries(me=>jt(me,y,S)),Y.localCache[y]=S,Y.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,c.Z)(function*(){const Y=yield S._withRetries(me=>function _n(w,g){return jn.apply(this,arguments)}(me,y));return S.localCache[y]=Y,Y})()}_remove(y){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(Y=>Rr(Y,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const S=yield y._withRetries(ht=>{const Ht=ue(ht,!1).getAll();return new K(Ht).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const Y=[],me=new Set;for(const{fbase_key:ht,value:Ht}of S)me.add(ht),JSON.stringify(y.localCache[ht])!==JSON.stringify(Ht)&&(y.notifyListeners(ht,Ht),Y.push(ht));for(const ht of Object.keys(y.localCache))y.localCache[ht]&&!me.has(ht)&&(y.notifyListeners(ht,null),Y.push(ht));return Y})()}notifyListeners(y,S){this.localCache[y]=S;const Y=this.listeners[y];if(Y)for(const me of Array.from(Y))me(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Yi(w,g){return ft(w,"POST","/v2/accounts/mfaSignIn:start",ct(w,g))}function as(){return(as=(0,c.Z)(function*(w){return(yield ft(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mo(w){return new Promise((g,y)=>{const S=document.createElement("script");S.setAttribute("src",w),S.onload=g,S.onerror=Y=>{const me=yt("internal-error");me.customData=Y,y(me)},S.type="text/javascript",S.charset="UTF-8",function bu(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(S)})}function wi(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Al=1e12;class na{constructor(g){this.auth=g,this.counter=Al,this._widgets=new Map}render(g,y){const S=this.counter;return this._widgets.set(S,new Rd(g,this.auth.name,y||{})),this.counter++,S}reset(g){var y;const S=g||Al;null===(y=this._widgets.get(S))||void 0===y||y.delete(),this._widgets.delete(S)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Al))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,c.Z)(function*(){var S;return null===(S=y._widgets.get(g||Al))||void 0===S||S.execute(),""})()}}class Rd{constructor(g,y,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof g?document.getElementById(g):g;Ee(Y,"argument-error",{appName:y}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ko(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<w;S++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ui=wi("rcb"),dc=new Ce(3e4,6e4);class wn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!br().grecaptcha}load(g,y=""){return Ee(function Ba(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(br().grecaptcha):new Promise((S,Y)=>{const me=br().setTimeout(()=>{Y(yt(g,"network-request-failed"))},dc.get());br()[Ui]=()=>{br().clearTimeout(me),delete br()[Ui];const Ht=br().grecaptcha;if(!Ht)return void Y(yt(g,"internal-error"));const vn=Ht.render;Ht.render=(Nn,ar)=>{const Xn=vn(Nn,ar);return this.counter++,Xn},this.hostLanguage=y,S(Ht)},mo(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Ui,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(me),Y(yt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!br().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Va{load(g){return(0,c.Z)(function*(){return new na(g)})()}clearedOneInstance(){}}const Ua="recaptcha",_a={theme:"light",type:"image"};class Ao{constructor(g,y=Object.assign({},_a),S){this.parameters=y,this.type=Ua,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(S),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof g?document.getElementById(g):g;Ee(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Va:new wn,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(y)||new Promise(me=>{const ht=Ht=>{!Ht||(g.tokenChangeListeners.delete(ht),me(Ht))};g.tokenChangeListeners.add(ht),g.isInvisible&&S.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(S=>S(y)),"function"==typeof g)g(y);else if("string"==typeof g){const S=br()[g];"function"==typeof S&&S(y)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const S=document.createElement("div");y.appendChild(S),y=S}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){Ee(Ot()&&!La(),g.auth,"internal-error"),yield function xo(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Yl(w){return as.apply(this,arguments)}(g.auth);Ee(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ls{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Gi._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function $i(){return($i=(0,c.Z)(function*(w,g,y){const S=Cn(w),Y=yield sl(S,g,(0,W.m9)(y));return new ls(Y,me=>Jn(S,me))})).apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w);yield $(!1,S,"phone");const Y=yield sl(S.auth,g,(0,W.m9)(y));return new ls(Y,me=>Wn(S,me))})).apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w),Y=yield sl(S.auth,g,(0,W.m9)(y));return new ls(Y,me=>mi(S,me))})).apply(this,arguments)}function sl(w,g,y){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(w,g,y){var S;const Y=yield y.verify();try{let me;if(Ee("string"==typeof Y,w,"argument-error"),Ee(y.type===Ua,w,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const ht=me.session;if("phoneNumber"in me)return Ee("enroll"===ht.type,w,"internal-error"),(yield lc(w,{idToken:ht.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{Ee("signin"===ht.type,w,"internal-error");const Ht=(null===(S=me.multiFactorHint)||void 0===S?void 0:S.uid)||me.multiFactorUid;return Ee(Ht,w,"missing-multi-factor-info"),(yield Yi(w,{mfaPendingCredential:ht.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ht}=yield Ct(w,{phoneNumber:me.phoneNumber,recaptchaToken:Y});return ht}}finally{y._reset()}})).apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(w,g){yield U((0,W.m9)(w),g)})).apply(this,arguments)}let Mo=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Cn(y)}verifyPhoneNumber(y,S){return sl(this.auth,y,(0,W.m9)(S))}static credential(y,S){return Gi._fromVerification(y,S)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:S,temporaryProof:Y}=y;return S&&Y?Gi._fromTokenResponse(S,Y):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Fo(w,g){return g?ge(g):(Ee(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Od extends tr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return di(g,this._buildIdpRequest())}_linkToIdToken(g,y){return di(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return di(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function wu(w){return Yt(w.auth,new Od(w),w.bypassAuthState)}function Rs(w){const{auth:g,user:y}=w;return Ee(y,g,"internal-error"),Je(y,new Od(w),w.bypassAuthState)}function Ss(w){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(w){const{auth:g,user:y}=w;return Ee(y,g,"internal-error"),U(y,new Od(w),w.bypassAuthState)})).apply(this,arguments)}class ia{constructor(g,y,S,Y,me=!1){this.auth=g,this.resolver=S,this.user=Y,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,c.Z)(function*(S,Y){g.pendingPromise={resolve:S,reject:Y};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(S,Y){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,c.Z)(function*(){const{urlResponse:S,sessionId:Y,postBody:me,tenantId:ht,error:Ht,type:vn}=g;if(Ht)return void y.reject(Ht);const Nn={auth:y.auth,requestUri:S,sessionId:Y,tenantId:ht||void 0,postBody:me||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(vn)(Nn))}catch(ar){y.reject(ar)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return wu;case"linkViaPopup":case"linkViaRedirect":return Ss;case"reauthViaPopup":case"reauthViaRedirect":return Rs;default:Ye(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pd=new Ce(2e3,1e4);function ql(){return(ql=(0,c.Z)(function*(w,g,y){const S=Cn(w);gt(w,g,li);const Y=Fo(S,y);return new ba(S,"signInViaPopup",g,Y).executeNotNull()})).apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w);gt(S.auth,g,li);const Y=Fo(S.auth,y);return new ba(S.auth,"reauthViaPopup",g,Y,S).executeNotNull()})).apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w);gt(S.auth,g,li);const Y=Fo(S.auth,y);return new ba(S.auth,"linkViaPopup",g,Y,S).executeNotNull()})).apply(this,arguments)}let ba=(()=>{class w extends ia{constructor(y,S,Y,me,ht){super(y,S,me,ht),this.provider=Y,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const S=yield y.execute();return Ee(S,y.auth,"internal-error"),S})()}onExecution(){var y=this;return(0,c.Z)(function*(){we(1===y.filter.length,"Popup operations only handle one event");const S=St();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],S),y.authWindow.associatedEvent=S,y.resolver._originValidation(y.auth).catch(Y=>{y.reject(Y)}),y.resolver._isIframeWebStorageSupported(y.auth,Y=>{Y||y.reject(yt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var S,Y;this.pollId=(null===(Y=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(yt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Pd.get())};y()}}return w.currentPopupAction=null,w})();const vo=new Map;class F extends ia{constructor(g,y,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,c.Z)(function*(){let S=vo.get(y.auth._key());if(!S){try{const me=(yield function H(w,g){return de.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;S=()=>Promise.resolve(me)}catch(Y){S=()=>Promise.reject(Y)}vo.set(y.auth._key(),S)}return y.bypassAuthState||vo.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,S=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(S,g);if("unknown"!==g.type){if(g.eventId){const Y=yield S.auth._redirectUserForId(g.eventId);if(Y)return S.user=Y,y().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function de(){return(de=(0,c.Z)(function*(w,g){const y=or(g),S=$n(w);if(!(yield S._isAvailable()))return!1;const Y="true"===(yield S._get(y));return yield S._remove(y),Y})).apply(this,arguments)}function Ue(w,g){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(w,g){return $n(w)._set(or(g),"true")})).apply(this,arguments)}function rn(w,g){vo.set(w._key(),g)}function $n(w){return ge(w._redirectPersistence)}function or(w){return an("pendingRedirect",w.config.apiKey,w.name)}function mr(){return(mr=(0,c.Z)(function*(w,g,y){const S=Cn(w);gt(w,g,li);const Y=Fo(S,y);return yield Ue(Y,S),Y._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w);gt(S.auth,g,li);const Y=Fo(S.auth,y);yield Ue(Y,S.auth);const me=yield ll(S);return Y._openRedirect(S.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(w,g,y){const S=(0,W.m9)(w);gt(S.auth,g,li);const Y=Fo(S.auth,y);yield $(!1,S,g.providerId),yield Ue(Y,S.auth);const me=yield ll(S);return Y._openRedirect(S.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(w,g){return yield Cn(w)._initializationPromise,xl(w,g,!1)})).apply(this,arguments)}function xl(w,g){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(w,g,y=!1){const S=Cn(w),Y=Fo(S,g),ht=yield new F(S,Y,y).execute();return ht&&!y&&(delete ht.user._redirectEventId,yield S._persistUserIfCurrent(ht.user),yield S._setRedirectUser(null,g)),ht})).apply(this,arguments)}function ll(w){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(w){const g=St(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class kd{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(y=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Fd(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lo(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var S;if(g.error&&!Lo(g)){const Y=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(yt(this.auth,Y))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const S=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kc(g))}saveEventToCache(g){this.cachedEventUids.add(Kc(g)),this.lastProcessedEventTime=Date.now()}}function Kc(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Lo({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Xl(w){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,c.Z)(function*(w,g={}){return ft(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Ql=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tu=/^https?/;function Su(){return(Su=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Xl(w);for(const y of g)try{if(Bo(y))return}catch(S){}Ye(w,"unauthorized-domain")})).apply(this,arguments)}function Bo(w){const g=Et(),{protocol:y,hostname:S}=new URL(g);if(w.startsWith("chrome-extension://")){const ht=new URL(w);return""===ht.hostname&&""===S?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ht.hostname===S}if(!Tu.test(y))return!1;if(Ql.test(w))return S===w;const Y=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(S)}const wh=new Ce(3e4,6e4);function Yc(){const w=br().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let hc=null;function ul(w){return hc=hc||function wf(w){return new Promise((g,y)=>{var S,Y,me;function ht(){Yc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Yc(),y(yt(w,"network-request-failed"))},timeout:wh.get()})}if(null===(Y=null===(S=br().gapi)||void 0===S?void 0:S.iframes)||void 0===Y?void 0:Y.Iframe)g(gapi.iframes.getContext());else{if(!(null===(me=br().gapi)||void 0===me?void 0:me.load)){const Ht=wi("iframefcb");return br()[Ht]=()=>{gapi.load?ht():y(yt(w,"network-request-failed"))},mo(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(vn=>y(vn))}ht()}}).catch(g=>{throw hc=null,g})}(w),hc}const Au=new Ce(5e3,15e3),qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function If(w){const g=w.config;Ee(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Ze(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:w.name,v:ke.SDK_VERSION},Y=xu.get(w.config.apiHost);Y&&(S.eid=Y);const me=w._getFrameworks();return me.length&&(S.fw=me.join(",")),`${y}?${(0,W.xO)(S).slice(1)}`}function Zc(){return Zc=(0,c.Z)(function*(w){const g=yield ul(w),y=br().gapi;return Ee(y,w,"internal-error"),g.open({where:document.body,url:If(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qc,dontclear:!0},S=>new Promise(function(){var Y=(0,c.Z)(function*(me,ht){yield S.restyle({setHideOnLeave:!1});const Ht=yt(w,"network-request-failed"),vn=br().setTimeout(()=>{ht(Ht)},Au.get());function Nn(){br().clearTimeout(vn),me(S)}S.ping(Nn).then(Nn,()=>{ht(Ht)})});return function(me,ht){return Y.apply(this,arguments)}}()))}),Zc.apply(this,arguments)}const Cf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ol{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Ca(w,g,y,S,Y,me){Ee(w.config.authDomain,w,"auth-domain-config-required"),Ee(w.config.apiKey,w,"invalid-api-key");const ht={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:S,v:ke.SDK_VERSION,eventId:Y};if(g instanceof li){g.setDefaultLanguage(w.languageCode),ht.providerId=g.providerId||"",(0,W.xb)(g.getCustomParameters())||(ht.customParameters=JSON.stringify(g.getCustomParameters()));for(const[vn,Nn]of Object.entries(me||{}))ht[vn]=Nn}if(g instanceof js){const vn=g.getScopes().filter(Nn=>""!==Nn);vn.length>0&&(ht.scopes=vn.join(","))}w.tenantId&&(ht.tid=w.tenantId);const Ht=ht;for(const vn of Object.keys(Ht))void 0===Ht[vn]&&delete Ht[vn];return`${function Ip({config:w}){return w.emulator?Ze(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(Ht).slice(1)}`}const Dh="webStorageSupport";class Th extends class pc{constructor(g){this.factorId=g}_process(g,y,S){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,S);case"signin":return this._finalizeSignIn(g,y.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Th(g)}_finalizeEnroll(g,y,S){return function To(w,g){return ft(w,"POST","/v2/accounts/mfaEnrollment:finalize",ct(w,g))}(g,{idToken:y,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Gs(w,g){return ft(w,"POST","/v2/accounts/mfaSignIn:finalize",ct(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qc=(()=>{class w{constructor(){}static assertion(y){return Th._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Ai="@firebase/auth";class $r{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(S=>{var Y;g((null===(Y=S)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ja(){return window}function Di(){return(Di=(0,c.Z)(function*(w,g,y){var S;const{BuildInfo:Y}=ja();we(g.sessionId,"AuthEvent did not contain a session ID");const me=yield xh(g.sessionId),ht={};return Ei()?ht.ibi=Y.packageName:vi()?ht.apn=Y.packageName:Ye(w,"operation-not-supported-in-this-environment"),Y.displayName&&(ht.appDisplayName=Y.displayName),ht.sessionId=me,Ca(w,y,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,ht)})).apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(w){const{BuildInfo:g}=ja(),y={};Ei()?y.iosBundleId=g.packageName:vi()?y.androidPackageName=g.packageName:Ye(w,"operation-not-supported-in-this-environment"),yield Xl(w,y)})).apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(w,g,y){const{cordova:S}=ja();let Y=()=>{};try{yield new Promise((me,ht)=>{let Ht=null;function vn(){var Xn;me();const Os=null===(Xn=S.plugins.browsertab)||void 0===Xn?void 0:Xn.close;"function"==typeof Os&&Os(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Nn(){Ht||(Ht=window.setTimeout(()=>{ht(yt(w,"redirect-cancelled-by-user"))},2e3))}function ar(){"visible"===(null==document?void 0:document.visibilityState)&&Nn()}g.addPassiveListener(vn),document.addEventListener("resume",Nn,!1),vi()&&document.addEventListener("visibilitychange",ar,!1),Y=()=>{g.removePassiveListener(vn),document.removeEventListener("resume",Nn,!1),document.removeEventListener("visibilitychange",ar,!1),Ht&&window.clearTimeout(Ht)}})}finally{Y()}})).apply(this,arguments)}function xh(w){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(w){const g=Bd(w),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bd(w){if(we(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const g=new ArrayBuffer(w.length),y=new Uint8Array(g);for(let S=0;S<w.length;S++)y[S]=w.charCodeAt(S);return y}!function Ci(w){(0,ke._registerComponent)(new _e.wA("auth",(g,{options:y})=>{const S=g.getProvider("app").getImmediate(),Y=g.getProvider("heartbeat"),{apiKey:me,authDomain:ht}=S.options;return((Ht,vn)=>{Ee(me&&!me.includes(":"),"invalid-api-key",{appName:Ht.name}),Ee(!(null==ht?void 0:ht.includes(":")),"argument-error",{appName:Ht.name});const Nn={apiKey:me,authDomain:ht,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(w)},ar=new nn(Ht,vn,Nn);return function $e(w,g){const y=(null==g?void 0:g.persistence)||[],S=(Array.isArray(y)?y:[y]).map(ge);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(ar,y),ar})(S,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,S)=>{g.getProvider("auth-internal").initialize()})),(0,ke._registerComponent)(new _e.wA("auth-internal",g=>{const y=Cn(g.getProvider("auth").getImmediate());return new $r(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)(Ai,"0.20.2",function Da(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,ke.registerVersion)(Ai,"0.20.2","esm2017")}("Browser");class gc extends kd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function xi(w){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(w){const g=yield dl()._get(Nu(w));return g&&(yield dl()._remove(Nu(w))),g})).apply(this,arguments)}function yc(){const w=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const S=Math.floor(Math.random()*g.length);w.push(g.charAt(S))}return w.join("")}function dl(){return ge(Fa)}function Nu(w){return an("authEvent",w.config.apiKey,w.name)}function qi(w){if(!(null==w?void 0:w.includes("?")))return{};const[g,...y]=w.split("?");return(0,W.zd)(y.join("?"))}function _c(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yt("no-auth-event")}}function ku(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function Rh(w=(0,W.z$)()){return!("file:"!==ku()&&"ionic:"!==ku()&&"capacitor:"!==ku()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jc(){try{const w=self.localStorage,g=St();if(w)return w.setItem(g,"1"),w.removeItem(g),!function Pl(w=(0,W.z$)()){return function Bs(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function la(w=(0,W.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,W.hl)()}catch(w){return ws()&&(0,W.hl)()}return!1}function ws(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function eu(){return(function Ws(){return"http:"===ku()||"https:"===ku()}()||(0,W.ru)()||Rh())&&!function Fu(){return(0,W.b$)()||(0,W.UG)()}()&&Jc()&&!ws()}function ed(){return Rh()&&"undefined"!=typeof document}function ji(){return(ji=(0,c.Z)(function*(){return!!ed()&&new Promise(w=>{const g=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),w(!0)})})})).apply(this,arguments)}const uo={LOCAL:"local",NONE:"none",SESSION:"session"},Ga=Ee,jd="persistence";function Ta(w){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(w){yield w._initializationPromise;const g=Oh(),y=an(jd,w.config.apiKey,w.name);g&&g.setItem(y,w._getPersistence())})).apply(this,arguments)}function Oh(){var w;try{return(null===(w=function xf(){return"undefined"!=typeof window?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch(g){return null}}const td=Ee;class fl{constructor(){this.browserResolver=ge(class Ls{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zn,this._completeRedirectFn=xl,this._overrideRedirectResult=rn}_openPopup(g,y,S,Y){var me=this;return(0,c.Z)(function*(){var ht;we(null===(ht=me.eventManagers[g._key()])||void 0===ht?void 0:ht.manager,"_initialize() not called before _openPopup()");const Ht=Ca(g,y,S,Et(),Y);return function Tf(w,g,y,S=500,Y=600){const me=Math.max((window.screen.availHeight-Y)/2,0).toString(),ht=Math.max((window.screen.availWidth-S)/2,0).toString();let Ht="";const vn=Object.assign(Object.assign({},Cf),{width:S.toString(),height:Y.toString(),top:me,left:ht}),Nn=(0,W.z$)().toLowerCase();y&&(Ht=ki(Nn)?"_blank":y),ri(Nn)&&(g=g||"http://localhost",vn.scrollbars="yes");const ar=Object.entries(vn).reduce((Os,[ho,za])=>`${Os}${ho}=${za},`,"");if(function Ji(w=(0,W.z$)()){var g;return Ei(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Nn)&&"_self"!==Ht)return function Ru(w,g){const y=document.createElement("a");y.href=w,y.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(g||"",Ht),new Ol(null);const Xn=window.open(g||"",Ht,ar);Ee(Xn,w,"popup-blocked");try{Xn.focus()}catch(Os){}return new Ol(Xn)}(g,Ht,St())})()}_openRedirect(g,y,S,Y){var me=this;return(0,c.Z)(function*(){return yield me._originValidation(g),function ya(w){br().location.href=w}(Ca(g,y,S,Et(),Y)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:Y,promise:me}=this.eventManagers[y];return Y?Promise.resolve(Y):(we(me,"If manager is not set, promise should be"),me)}const S=this.initAndGetManager(g);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(g){var y=this;return(0,c.Z)(function*(){const S=yield function Mu(w){return Zc.apply(this,arguments)}(g),Y=new kd(g);return S.register("authEvent",me=>(Ee(null==me?void 0:me.authEvent,g,"invalid-auth-event"),{status:Y.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:Y},y.iframes[g._key()]=S,Y})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Dh,{type:Dh},Y=>{var me;const ht=null===(me=null==Y?void 0:Y[0])||void 0===me?void 0:me[Dh];void 0!==ht&&y(!!ht),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function bh(w){return Su.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Br()||Xi()||Ei()}}),this.cordovaResolver=ge(class Mh{constructor(){this._redirectPersistence=zn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xl,this._overrideRedirectResult=rn}_initialize(g){var y=this;return(0,c.Z)(function*(){const S=g._key();let Y=y.eventManagers.get(S);return Y||(Y=new gc(g),y.eventManagers.set(S,Y),y.attachCallbackListeners(g,Y)),Y})()}_openPopup(g){Ye(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,S,Y){var me=this;return(0,c.Z)(function*(){!function Pu(w){var g,y,S,Y,me,ht,Ht,vn,Nn,ar;const Xn=ja();Ee("function"==typeof(null===(g=null==Xn?void 0:Xn.universalLinks)||void 0===g?void 0:g.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(y=null==Xn?void 0:Xn.BuildInfo)||void 0===y?void 0:y.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(me=null===(Y=null===(S=null==Xn?void 0:Xn.cordova)||void 0===S?void 0:S.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===me?void 0:me.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(vn=null===(Ht=null===(ht=null==Xn?void 0:Xn.cordova)||void 0===ht?void 0:ht.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===vn?void 0:vn.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(ar=null===(Nn=null==Xn?void 0:Xn.cordova)||void 0===Nn?void 0:Nn.InAppBrowser)||void 0===ar?void 0:ar.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ht=yield me._initialize(g);yield ht.initialized(),ht.resetRedirect(),function Rt(){vo.clear()}(),yield me._originValidation(g);const Ht=function mc(w,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:yc(),postBody:null,tenantId:w.tenantId,error:yt(w,"no-auth-event")}}(g,S,Y);yield function Cp(w,g){return dl()._set(Nu(w),g)}(g,Ht);const vn=yield function Ro(w,g,y){return Di.apply(this,arguments)}(g,Ht,y),Nn=yield function ui(w){const{cordova:g}=ja();return new Promise(y=>{g.plugins.browsertab.isAvailable(S=>{let Y=null;S?g.plugins.browsertab.openUrl(w):Y=g.InAppBrowser.open(w,function Qi(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),y(Y)})})}(vn);return function Ah(w,g,y){return Vo.apply(this,arguments)}(g,ht,Nn)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function jr(w){return ni.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:S,handleOpenURL:Y,BuildInfo:me}=ja(),ht=setTimeout((0,c.Z)(function*(){yield xi(g),y.onEvent(_c())}),500),Ht=function(){var ar=(0,c.Z)(function*(Xn){clearTimeout(ht);const Os=yield xi(g);let ho=null;Os&&(null==Xn?void 0:Xn.url)&&(ho=function Ud(w,g){var y,S;const Y=function Yr(w){const g=qi(w),y=g.link?decodeURIComponent(g.link):void 0,S=qi(y).link,Y=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return qi(Y).link||Y||S||y||w}(g);if(Y.includes("/__/auth/callback")){const me=qi(Y),ht=me.firebaseError?function hl(w){try{return JSON.parse(w)}catch(g){return null}}(decodeURIComponent(me.firebaseError)):null,Ht=null===(S=null===(y=null==ht?void 0:ht.code)||void 0===y?void 0:y.split("auth/"))||void 0===S?void 0:S[1],vn=Ht?yt(Ht):null;return vn?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:Y,postBody:null}}return null}(Os,Xn.url)),y.onEvent(ho||_c())});return function(Os){return ar.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,Ht);const vn=Y,Nn=`${me.packageName.toLowerCase()}://`;ja().handleOpenURL=function(){var ar=(0,c.Z)(function*(Xn){if(Xn.toLowerCase().startsWith(Nn)&&Ht({url:Xn}),"function"==typeof vn)try{vn(Xn)}catch(Os){console.error(Os)}});return function(Xn){return ar.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zn,this._completeRedirectFn=xl,this._overrideRedirectResult=rn}_initialize(g){var y=this;return(0,c.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,S,Y){var me=this;return(0,c.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(g,y,S,Y)})()}_openRedirect(g,y,S,Y){var me=this;return(0,c.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(g,y,S,Y)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ed()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return td(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const y=yield function Af(){return ji.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function Ni(w){return w.unwrap()}function Hd(w){return Lu(w)}function Lu(w){const{_tokenResponse:g}=w instanceof W.ZR?w.customData:w;if(!g)return null;if(!(w instanceof W.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Mo.credentialFromResult(w);const y=g.providerId;if(!y||"password"===y)return null;let S;switch(y){case"google.com":S=Ps;break;case"facebook.com":S=si;break;case"github.com":S=so;break;case"twitter.com":S=hs;break;default:const{oauthIdToken:Y,oauthAccessToken:me,oauthTokenSecret:ht,pendingToken:Ht,nonce:vn}=g;return me||ht||Y||Ht?Ht?y.startsWith("saml.")?is._create(y,Ht):Xe._fromParams({providerId:y,signInMethod:y,pendingToken:Ht,idToken:Y,accessToken:me}):new gi(y).credential({idToken:Y,accessToken:me,rawNonce:vn}):null}return w instanceof W.ZR?S.credentialFromError(w):S.credentialFromResult(w)}function co(w,g){return g.catch(y=>{throw y instanceof W.ZR&&function Ph(w,g){var y;const S=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Nh(w,function Vi(w,g){var y;const S=(0,W.m9)(w),Y=g;return Ee(g.customData.operationType,S,"argument-error"),Ee(null===(y=Y.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,S,"argument-error"),ka._fromError(S,Y)}(w,g));else if(S){const Y=Lu(g),me=g;Y&&(me.credential=Y,me.tenantId=S.tenantId||void 0,me.email=S.email||void 0,me.phoneNumber=S.phoneNumber||void 0)}}(w,y),y}).then(y=>{const Y=y.user;return{operationType:y.operationType,credential:Hd(y),additionalUserInfo:Qo(y),user:Ks.getOrCreate(Y)}})}function eo(w,g){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(w,g){const y=yield g;return{verificationId:y.verificationId,confirm:S=>co(w,y.confirm(S))}})).apply(this,arguments)}class Nh{constructor(g,y){this.resolver=y,this.auth=function ru(w){return w.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return co(Ni(this.auth),this.resolver.resolveSignIn(g))}}class Ks{constructor(g){this._delegate=g,this.multiFactor=function So(w){const g=(0,W.m9)(w);return ns.has(g)||ns.set(g,Tl._fromUser(g)),ns.get(g)}(g)}static getOrCreate(g){return Ks.USER_MAP.has(g)||Ks.USER_MAP.set(g,new Ks(g)),Ks.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,c.Z)(function*(){return co(y.auth,Wn(y._delegate,g))})()}linkWithPhoneNumber(g,y){var S=this;return(0,c.Z)(function*(){return eo(S.auth,function Ea(w,g,y){return $a.apply(this,arguments)}(S._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,c.Z)(function*(){return co(y.auth,function Nd(w,g,y){return zs.apply(this,arguments)}(y._delegate,g,fl))})()}linkWithRedirect(g){var y=this;return(0,c.Z)(function*(){return yield Ta(Cn(y.auth)),function Cu(w,g,y){return function wa(w,g,y){return Ia.apply(this,arguments)}(w,g,y)}(y._delegate,g,fl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,c.Z)(function*(){return co(y.auth,mi(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return eo(this.auth,function Pi(w,g,y){return Ii.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return co(this.auth,function sa(w,g,y){return Iu.apply(this,arguments)}(this._delegate,g,fl))}reauthenticateWithRedirect(g){var y=this;return(0,c.Z)(function*(){return yield Ta(Cn(y.auth)),function yi(w,g,y){return function ti(w,g,y){return ol.apply(this,arguments)}(w,g,y)}(y._delegate,g,fl)})()}sendEmailVerification(g){return function wl(w,g){return ga.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,c.Z)(function*(){return yield function ks(w,g){return Er.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function oc(w,g){return Zo((0,W.m9)(w),g,null)}(this._delegate,g)}updatePassword(g){return function Il(w,g){return Zo((0,W.m9)(w),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function ra(w,g){return lo.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Na(w,g){return qo.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function Gl(w,g,y){return ao.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ks.USER_MAP=new WeakMap;const Bu=Ee;let vc=(()=>{class w{constructor(y,S){if(this.app=y,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=y.options;Bu(Y,"invalid-api-key",{appName:y.name}),Bu(Y,"invalid-api-key",{appName:y.name});const me="undefined"!=typeof window?fl:void 0;this._delegate=S.initialize({options:{persistence:nd(Y,y.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,S){!function Ur(w,g,y){const S=Cn(w);Ee(S._canInitEmulator,S,"emulator-config-failed"),Ee(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const Y=!!(null==y?void 0:y.disableWarnings),me=qr(g),{host:ht,port:Ht}=function sr(w){const g=qr(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(S);if(Y){const me=Y[1];return{host:me,port:Ti(S.substr(me.length+1))}}{const[me,ht]=S.split(":");return{host:me,port:Ti(ht)}}}(g);S.config.emulator={url:`${me}//${ht}${null===Ht?"":`:${Ht}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ht,port:Ht,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Mr(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,y,S)}applyActionCode(y){return function R(w,g){return b.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return j(this._delegate,y)}confirmPasswordReset(y,S){return function Vt(w,g,y){return E.apply(this,arguments)}(this._delegate,y,S)}createUserWithEmailAndPassword(y,S){var Y=this;return(0,c.Z)(function*(){return co(Y._delegate,function Rn(w,g,y){return cr.apply(this,arguments)}(Y._delegate,y,S))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Xs(w,g){return fo.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Wi(w,g){const y=gs.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,c.Z)(function*(){Bu(eu(),y._delegate,"operation-not-supported-in-this-environment");const S=yield function al(w,g){return Zl.apply(this,arguments)}(y._delegate,fl);return S?co(y._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Ha(w,g){Cn(w)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,S,Y){const{next:me,error:ht,complete:Ht}=iu(y,S,Y);return this._delegate.onAuthStateChanged(me,ht,Ht)}onIdTokenChanged(y,S,Y){const{next:me,error:ht,complete:Ht}=iu(y,S,Y);return this._delegate.onIdTokenChanged(me,ht,Ht)}sendSignInLinkToEmail(y,S){return function Bi(w,g,y){return Oi.apply(this,arguments)}(this._delegate,y,S)}sendPasswordResetEmail(y,S){return function L(w,g,y){return he.apply(this,arguments)}(this._delegate,y,S||void 0)}setPersistence(y){var S=this;return(0,c.Z)(function*(){let Y;switch(function tu(w,g){Ga(Object.values(uo).includes(g),w,"invalid-persistence-type"),(0,W.b$)()?Ga(g!==uo.SESSION,w,"unsupported-persistence-type"):(0,W.UG)()?Ga(g===uo.NONE,w,"unsupported-persistence-type"):ws()?Ga(g===uo.NONE||g===uo.LOCAL&&(0,W.hl)(),w,"unsupported-persistence-type"):Ga(g===uo.NONE||Jc(),w,"unsupported-persistence-type")}(S._delegate,y),y){case uo.SESSION:Y=zn;break;case uo.LOCAL:Y=(yield ge(ea)._isAvailable())?ea:Fa;break;case uo.NONE:Y=un;break;default:return Ye("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return co(this._delegate,function ms(w){return Ko.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return co(this._delegate,Jn(this._delegate,y))}signInWithCustomToken(y){return co(this._delegate,function ys(w,g){return Gn.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,S){return co(this._delegate,function dr(w,g,y){return Jn((0,W.m9)(w),xs.credential(g,y))}(this._delegate,y,S))}signInWithEmailLink(y,S){return co(this._delegate,function Ki(w,g,y){return bi.apply(this,arguments)}(this._delegate,y,S))}signInWithPhoneNumber(y,S){return eo(this._delegate,function va(w,g,y){return $i.apply(this,arguments)}(this._delegate,y,S))}signInWithPopup(y){var S=this;return(0,c.Z)(function*(){return Bu(eu(),S._delegate,"operation-not-supported-in-this-environment"),co(S._delegate,function _o(w,g,y){return ql.apply(this,arguments)}(S._delegate,y,fl))})()}signInWithRedirect(y){var S=this;return(0,c.Z)(function*(){return Bu(eu(),S._delegate,"operation-not-supported-in-this-environment"),yield Ta(S._delegate),function ir(w,g,y){return function Kr(w,g,y){return mr.apply(this,arguments)}(w,g,y)}(S._delegate,y,fl)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function Tt(w,g){return ln.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=uo,w})();function iu(w,g,y){let S=w;"function"!=typeof w&&({next:S,error:g,complete:y}=w);const Y=S;return{next:ht=>Y(ht&&Ks.getOrCreate(ht)),error:g,complete:y}}function nd(w,g){const y=function Ir(w,g){const y=Oh();if(!y)return[];const S=an(jd,w,g);switch(y.getItem(S)){case uo.NONE:return[un];case uo.LOCAL:return[ea,zn];case uo.SESSION:return[zn];default:return[]}}(w,g);if("undefined"!=typeof self&&!y.includes(ea)&&y.push(ea),"undefined"!=typeof window)for(const S of[Fa,zn])y.includes(S)||y.push(S);return y.includes(un)||y.push(un),y}class Vu{constructor(){this.providerId="phone",this._delegate=new Mo(Ni(z.Z.auth()))}static credential(g,y){return Mo.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}Vu.PHONE_SIGN_IN_METHOD=Mo.PHONE_SIGN_IN_METHOD,Vu.PROVIDER_ID=Mo.PROVIDER_ID;const Tp=Ee;class kh{constructor(g,y,S=z.Z.app()){var Y;Tp(null===(Y=S.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new Ao(g,y,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gl(w){w.INTERNAL.registerComponent(new _e.wA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new vc(y,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xs,FacebookAuthProvider:si,GithubAuthProvider:so,GoogleAuthProvider:Ps,OAuthProvider:gi,SAMLAuthProvider:zi,PhoneAuthProvider:Vu,PhoneMultiFactorGenerator:Qc,RecaptchaVerifier:kh,TwitterAuthProvider:hs,Auth:vc,AuthCredential:tr,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.15")}(z.Z)},6463:(Qt,lt,N)=>{"use strict";var c=N(3942),z=N(5525),W=N(2090),ke=N(4859);function _e(ze,q){if(void 0===q)return{merge:!1};if(void 0!==q.mergeFields&&void 0!==q.merge)throw new z.WA("invalid-argument",`Invalid options passed to function ${ze}(): You cannot specify both "merge" and "mergeFields".`);return q}function re(){if("undefined"==typeof Uint8Array)throw new z.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,z.Me)())throw new z.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Z{constructor(q){this._delegate=q}static fromBase64String(q){return Ie(),new Z(z.Jj.fromBase64String(q))}static fromUint8Array(q){return re(),new Z(z.Jj.fromUint8Array(q))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return re(),this._delegate.toUint8Array()}isEqual(q){return this._delegate.isEqual(q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pe(ze){return function ee(ze,q){if("object"!=typeof ze||null===ze)return!1;const Ce=ze;for(const Ze of q)if(Ze in Ce&&"function"==typeof Ce[Ze])return!0;return!1}(ze,["next","error","complete"])}class le{enableIndexedDbPersistence(q,Ce){return(0,z.ST)(q._delegate,{forceOwnership:Ce})}enableMultiTabIndexedDbPersistence(q){return(0,z.fH)(q._delegate)}clearIndexedDbPersistence(q){return(0,z.Fc)(q._delegate)}}class Fe{constructor(q,Ce,Ze){this._delegate=Ce,this._persistenceProvider=Ze,this.INTERNAL={delete:()=>this.terminate()},q instanceof z.l7||(this._appCompat=q)}get _databaseId(){return this._delegate._databaseId}settings(q){const Ce=this._delegate._getSettings();!q.merge&&Ce.host!==q.host&&(0,z.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),q.merge&&delete(q=Object.assign(Object.assign({},Ce),q)).merge,this._delegate._setSettings(q)}useEmulator(q,Ce,Ze={}){(0,z.at)(this._delegate,q,Ce,Ze)}enableNetwork(){return(0,z.Ix)(this._delegate)}disableNetwork(){return(0,z.TF)(this._delegate)}enablePersistence(q){let Ce=!1,Ze=!1;return q&&(Ce=!!q.synchronizeTabs,Ze=!!q.experimentalForceOwningTab,(0,z.Wi)("synchronizeTabs",Ce,"experimentalForceOwningTab",Ze)),Ce?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ze)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,z.Mx)(this._delegate)}onSnapshotsInSync(q){return(0,z.sc)(this._delegate,q)}get app(){if(!this._appCompat)throw new z.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(q){try{return new be(this,(0,z.hJ)(this._delegate,q))}catch(Ce){throw Ye(Ce,"collection()","Firestore.collection()")}}doc(q){try{return new rt(this,(0,z.JU)(this._delegate,q))}catch(Ce){throw Ye(Ce,"doc()","Firestore.doc()")}}collectionGroup(q){try{return new Ee(this,(0,z.B$)(this._delegate,q))}catch(Ce){throw Ye(Ce,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(q){return(0,z.i3)(this._delegate,Ce=>q(new Oe(this,Ce)))}batch(){return(0,z.qY)(this._delegate),new Le(new z.PU(this._delegate,q=>(0,z.GL)(this._delegate,q)))}loadBundle(q){return(0,z.Pb)(this._delegate,q)}namedQuery(q){return(0,z.L$)(this._delegate,q).then(Ce=>Ce?new Ee(this,Ce):null)}}class He extends z.u7{constructor(q){super(),this.firestore=q}convertBytes(q){return new Z(new z.Jj(q))}convertReference(q){const Ce=this.convertDocumentKey(q,this.firestore._databaseId);return rt.forKey(Ce,this.firestore,null)}}class Oe{constructor(q,Ce){this._firestore=q,this._delegate=Ce,this._userDataWriter=new He(q)}get(q){const Ce=ge(q);return this._delegate.get(Ce).then(Ze=>new gt(this._firestore,new z.xU(this._firestore._delegate,this._userDataWriter,Ze._key,Ze._document,Ze.metadata,Ce.converter)))}set(q,Ce,Ze){const Me=ge(q);return Ze?(_e("Transaction.set",Ze),this._delegate.set(Me,Ce,Ze)):this._delegate.set(Me,Ce),this}update(q,Ce,Ze,...Me){const st=ge(q);return 2===arguments.length?this._delegate.update(st,Ce):this._delegate.update(st,Ce,Ze,...Me),this}delete(q){const Ce=ge(q);return this._delegate.delete(Ce),this}}class Le{constructor(q){this._delegate=q}set(q,Ce,Ze){const Me=ge(q);return Ze?(_e("WriteBatch.set",Ze),this._delegate.set(Me,Ce,Ze)):this._delegate.set(Me,Ce),this}update(q,Ce,Ze,...Me){const st=ge(q);return 2===arguments.length?this._delegate.update(st,Ce):this._delegate.update(st,Ce,Ze,...Me),this}delete(q){const Ce=ge(q);return this._delegate.delete(Ce),this}commit(){return this._delegate.commit()}}class et{constructor(q,Ce,Ze){this._firestore=q,this._userDataWriter=Ce,this._delegate=Ze}fromFirestore(q,Ce){const Ze=new z.$q(this._firestore._delegate,this._userDataWriter,q._key,q._document,q.metadata,null);return this._delegate.fromFirestore(new _t(this._firestore,Ze),null!=Ce?Ce:{})}toFirestore(q,Ce){return Ce?this._delegate.toFirestore(q,Ce):this._delegate.toFirestore(q)}static getInstance(q,Ce){const Ze=et.INSTANCES;let Me=Ze.get(q);Me||(Me=new WeakMap,Ze.set(q,Me));let st=Me.get(Ce);return st||(st=new et(q,new He(q),Ce),Me.set(Ce,st)),st}}et.INSTANCES=new WeakMap;class rt{constructor(q,Ce){this.firestore=q,this._delegate=Ce,this._userDataWriter=new He(q)}static forPath(q,Ce,Ze){if(q.length%2!=0)throw new z.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${q.canonicalString()} has ${q.length}`);return new rt(Ce,new z.my(Ce._delegate,Ze,new z.Ky(q)))}static forKey(q,Ce,Ze){return new rt(Ce,new z.my(Ce._delegate,Ze,q))}get id(){return this._delegate.id}get parent(){return new be(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(q){try{return new be(this.firestore,(0,z.hJ)(this._delegate,q))}catch(Ce){throw Ye(Ce,"collection()","DocumentReference.collection()")}}isEqual(q){return(q=(0,W.m9)(q))instanceof z.my&&(0,z.Eo)(this._delegate,q)}set(q,Ce){Ce=_e("DocumentReference.set",Ce);try{return Ce?(0,z.pl)(this._delegate,q,Ce):(0,z.pl)(this._delegate,q)}catch(Ze){throw Ye(Ze,"setDoc()","DocumentReference.set()")}}update(q,Ce,...Ze){try{return 1===arguments.length?(0,z.r7)(this._delegate,q):(0,z.r7)(this._delegate,q,Ce,...Ze)}catch(Me){throw Ye(Me,"updateDoc()","DocumentReference.update()")}}delete(){return(0,z.oe)(this._delegate)}onSnapshot(...q){const Ce=yt(q),Ze=Pt(q,Me=>new gt(this.firestore,new z.xU(this.firestore._delegate,this._userDataWriter,Me._key,Me._document,Me.metadata,this._delegate.converter)));return(0,z.cf)(this._delegate,Ce,Ze)}get(q){let Ce;return Ce="cache"===(null==q?void 0:q.source)?(0,z.kl)(this._delegate):"server"===(null==q?void 0:q.source)?(0,z.Xk)(this._delegate):(0,z.QT)(this._delegate),Ce.then(Ze=>new gt(this.firestore,new z.xU(this.firestore._delegate,this._userDataWriter,Ze._key,Ze._document,Ze.metadata,this._delegate.converter)))}withConverter(q){return new rt(this.firestore,this._delegate.withConverter(q?et.getInstance(this.firestore,q):null))}}function Ye(ze,q,Ce){return ze.message=ze.message.replace(q,Ce),ze}function yt(ze){for(const q of ze)if("object"==typeof q&&!pe(q))return q;return{}}function Pt(ze,q){var Ce,Ze;let Me;return Me=pe(ze[0])?ze[0]:pe(ze[1])?ze[1]:"function"==typeof ze[0]?{next:ze[0],error:ze[1],complete:ze[2]}:{next:ze[1],error:ze[2],complete:ze[3]},{next:st=>{Me.next&&Me.next(q(st))},error:null===(Ce=Me.error)||void 0===Ce?void 0:Ce.bind(Me),complete:null===(Ze=Me.complete)||void 0===Ze?void 0:Ze.bind(Me)}}class gt{constructor(q,Ce){this._firestore=q,this._delegate=Ce}get ref(){return new rt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(q){return this._delegate.data(q)}get(q,Ce){return this._delegate.get(q,Ce)}isEqual(q){return(0,z.qK)(this._delegate,q._delegate)}}class _t extends gt{data(q){const Ce=this._delegate.data(q);return(0,z.K9)(void 0!==Ce,"Document in a QueryDocumentSnapshot should exist"),Ce}}class Ee{constructor(q,Ce){this.firestore=q,this._delegate=Ce,this._userDataWriter=new He(q)}where(q,Ce,Ze){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.ar)(q,Ce,Ze)))}catch(Me){throw Ye(Me,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(q,Ce){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.Xo)(q,Ce)))}catch(Ze){throw Ye(Ze,/(orderBy|where)\(\)/,"Query.$1()")}}limit(q){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.b9)(q)))}catch(Ce){throw Ye(Ce,"limit()","Query.limit()")}}limitToLast(q){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.vh)(q)))}catch(Ce){throw Ye(Ce,"limitToLast()","Query.limitToLast()")}}startAt(...q){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.e0)(...q)))}catch(Ce){throw Ye(Ce,"startAt()","Query.startAt()")}}startAfter(...q){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.TQ)(...q)))}catch(Ce){throw Ye(Ce,"startAfter()","Query.startAfter()")}}endBefore(...q){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.Lx)(...q)))}catch(Ce){throw Ye(Ce,"endBefore()","Query.endBefore()")}}endAt(...q){try{return new Ee(this.firestore,(0,z.IO)(this._delegate,(0,z.Wu)(...q)))}catch(Ce){throw Ye(Ce,"endAt()","Query.endAt()")}}isEqual(q){return(0,z.iE)(this._delegate,q._delegate)}get(q){let Ce;return Ce="cache"===(null==q?void 0:q.source)?(0,z.UQ)(this._delegate):"server"===(null==q?void 0:q.source)?(0,z.zN)(this._delegate):(0,z.PL)(this._delegate),Ce.then(Ze=>new we(this.firestore,new z.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ze._snapshot)))}onSnapshot(...q){const Ce=yt(q),Ze=Pt(q,Me=>new we(this.firestore,new z.W(this.firestore._delegate,this._userDataWriter,this._delegate,Me._snapshot)));return(0,z.cf)(this._delegate,Ce,Ze)}withConverter(q){return new Ee(this.firestore,this._delegate.withConverter(q?et.getInstance(this.firestore,q):null))}}class nt{constructor(q,Ce){this._firestore=q,this._delegate=Ce}get type(){return this._delegate.type}get doc(){return new _t(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class we{constructor(q,Ce){this._firestore=q,this._delegate=Ce}get query(){return new Ee(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(q=>new _t(this._firestore,q))}docChanges(q){return this._delegate.docChanges(q).map(Ce=>new nt(this._firestore,Ce))}forEach(q,Ce){this._delegate.forEach(Ze=>{q.call(Ce,new _t(this._firestore,Ze))})}isEqual(q){return(0,z.qK)(this._delegate,q._delegate)}}class be extends Ee{constructor(q,Ce){super(q,Ce),this.firestore=q,this._delegate=Ce}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const q=this._delegate.parent;return q?new rt(this.firestore,q):null}doc(q){try{return new rt(this.firestore,void 0===q?(0,z.JU)(this._delegate):(0,z.JU)(this._delegate,q))}catch(Ce){throw Ye(Ce,"doc()","CollectionReference.doc()")}}add(q){return(0,z.ET)(this._delegate,q).then(Ce=>new rt(this.firestore,Ce))}isEqual(q){return(0,z.Eo)(this._delegate,q._delegate)}withConverter(q){return new be(this.firestore,this._delegate.withConverter(q?et.getInstance(this.firestore,q):null))}}function ge(ze){return(0,z.Cf)(ze,z.my)}class Be{constructor(...q){this._delegate=new z.Lz(...q)}static documentId(){return new Be(z.Xb.keyField().canonicalString())}isEqual(q){return(q=(0,W.m9)(q))instanceof z.Lz&&this._delegate._internalPath.isEqual(q._internalPath)}}class $e{constructor(q){this._delegate=q}static serverTimestamp(){const q=(0,z.Bt)();return q._methodName="FieldValue.serverTimestamp",new $e(q)}static delete(){const q=(0,z.AK)();return q._methodName="FieldValue.delete",new $e(q)}static arrayUnion(...q){const Ce=(0,z.vr)(...q);return Ce._methodName="FieldValue.arrayUnion",new $e(Ce)}static arrayRemove(...q){const Ce=(0,z.Ab)(...q);return Ce._methodName="FieldValue.arrayRemove",new $e(Ce)}static increment(q){const Ce=(0,z.nP)(q);return Ce._methodName="FieldValue.increment",new $e(Ce)}isEqual(q){return this._delegate.isEqual(q._delegate)}}const Et={Firestore:Fe,GeoPoint:z.F8,Timestamp:z.EK,Blob:Z,Transaction:Oe,WriteBatch:Le,DocumentReference:rt,DocumentSnapshot:gt,Query:Ee,QueryDocumentSnapshot:_t,QuerySnapshot:we,CollectionReference:be,FieldPath:Be,FieldValue:$e,setLogLevel:function De(ze){(0,z.Ub)(ze)},CACHE_SIZE_UNLIMITED:z.IX};!function ut(ze){(function Ot(ze,q){ze.INTERNAL.registerComponent(new ke.wA("firestore-compat",Ce=>{const Ze=Ce.getProvider("app-compat").getImmediate(),Me=Ce.getProvider("firestore").getImmediate();return q(Ze,Me)},"PUBLIC").setServiceProps(Object.assign({},Et)))})(ze,(q,Ce)=>new Fe(q,Ce,new le)),ze.registerVersion("@firebase/firestore-compat","0.1.18")}(c.Z)},591:(Qt,lt,N)=>{"use strict";N.d(lt,{X:()=>W});var c=N(8929),z=N(5279);class W extends c.xQ{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const te=super._subscribe(Te);return te&&!te.closed&&Te.next(this._value),te}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z.N;return this._value}next(Te){super.next(this._value=Te)}}},2916:(Qt,lt,N)=>{"use strict";N.d(lt,{y:()=>pe});var c=N(3489),W=N(7668),ke=N(3292),te=N(3821),_e=N(5379);var Z=N(2830);let pe=(()=>{class le{constructor(He){this._isScalar=!1,He&&(this._subscribe=He)}lift(He){const De=new le;return De.source=this,De.operator=He,De}subscribe(He,De,Oe){const{operator:Le}=this,et=function Te(le,Fe,He){if(le){if(le instanceof c.L)return le;if(le[W.b])return le[W.b]()}return le||Fe||He?new c.L(le,Fe,He):new c.L(ke.c)}(He,De,Oe);if(et.add(Le?Le.call(et,this.source):this.source||Z.v.useDeprecatedSynchronousErrorHandling&&!et.syncErrorThrowable?this._subscribe(et):this._trySubscribe(et)),Z.v.useDeprecatedSynchronousErrorHandling&&et.syncErrorThrowable&&(et.syncErrorThrowable=!1,et.syncErrorThrown))throw et.syncErrorValue;return et}_trySubscribe(He){try{return this._subscribe(He)}catch(De){Z.v.useDeprecatedSynchronousErrorHandling&&(He.syncErrorThrown=!0,He.syncErrorValue=De),function z(le){for(;le;){const{closed:Fe,destination:He,isStopped:De}=le;if(Fe||De)return!1;le=He&&He instanceof c.L?He:null}return!0}(He)?He.error(De):console.warn(De)}}forEach(He,De){return new(De=ee(De))((Oe,Le)=>{let et;et=this.subscribe(rt=>{try{He(rt)}catch(Ye){Le(Ye),et&&et.unsubscribe()}},Le,Oe)})}_subscribe(He){const{source:De}=this;return De&&De.subscribe(He)}[te.L](){return this}pipe(...He){return 0===He.length?this:function Ie(le){return 0===le.length?_e.y:1===le.length?le[0]:function(He){return le.reduce((De,Oe)=>Oe(De),He)}}(He)(this)}toPromise(He){return new(He=ee(He))((De,Oe)=>{let Le;this.subscribe(et=>Le=et,et=>Oe(et),()=>De(Le))})}}return le.create=Fe=>new le(Fe),le})();function ee(le){if(le||(le=Z.v.Promise||Promise),!le)throw new Error("no Promise impl found");return le}},3292:(Qt,lt,N)=>{"use strict";N.d(lt,{c:()=>W});var c=N(2830),z=N(2782);const W={closed:!0,next(ke){},error(ke){if(c.v.useDeprecatedSynchronousErrorHandling)throw ke;(0,z.z)(ke)},complete(){}}},826:(Qt,lt,N)=>{"use strict";N.d(lt,{L:()=>z});var c=N(3489);class z extends c.L{notifyNext(ke,Te,te,_e,re){this.destination.next(Te)}notifyError(ke,Te){this.destination.error(ke)}notifyComplete(ke){this.destination.complete()}}},8929:(Qt,lt,N)=>{"use strict";N.d(lt,{Yc:()=>_e,xQ:()=>re});var c=N(2916),z=N(3489),W=N(2654),ke=N(5279),Te=N(5283),te=N(7668);class _e extends z.L{constructor(pe){super(pe),this.destination=pe}}let re=(()=>{class Z extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new _e(this)}lift(ee){const le=new Ie(this,this);return le.operator=ee,le}next(ee){if(this.closed)throw new ke.N;if(!this.isStopped){const{observers:le}=this,Fe=le.length,He=le.slice();for(let De=0;De<Fe;De++)He[De].next(ee)}}error(ee){if(this.closed)throw new ke.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:le}=this,Fe=le.length,He=le.slice();for(let De=0;De<Fe;De++)He[De].error(ee);this.observers.length=0}complete(){if(this.closed)throw new ke.N;this.isStopped=!0;const{observers:ee}=this,le=ee.length,Fe=ee.slice();for(let He=0;He<le;He++)Fe[He].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new ke.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new ke.N;return this.hasError?(ee.error(this.thrownError),W.w.EMPTY):this.isStopped?(ee.complete(),W.w.EMPTY):(this.observers.push(ee),new Te.W(this,ee))}asObservable(){const ee=new c.y;return ee.source=this,ee}}return Z.create=(pe,ee)=>new Ie(pe,ee),Z})();class Ie extends re{constructor(pe,ee){super(),this.destination=pe,this.source=ee}next(pe){const{destination:ee}=this;ee&&ee.next&&ee.next(pe)}error(pe){const{destination:ee}=this;ee&&ee.error&&this.destination.error(pe)}complete(){const{destination:pe}=this;pe&&pe.complete&&this.destination.complete()}_subscribe(pe){const{source:ee}=this;return ee?this.source.subscribe(pe):W.w.EMPTY}}},5283:(Qt,lt,N)=>{"use strict";N.d(lt,{W:()=>z});var c=N(2654);class z extends c.w{constructor(ke,Te){super(),this.subject=ke,this.subscriber=Te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ke=this.subject,Te=ke.observers;if(this.subject=null,!Te||0===Te.length||ke.isStopped||ke.closed)return;const te=Te.indexOf(this.subscriber);-1!==te&&Te.splice(te,1)}}},3489:(Qt,lt,N)=>{"use strict";N.d(lt,{L:()=>_e});var c=N(7043),z=N(3292),W=N(2654),ke=N(7668),Te=N(2830),te=N(2782);class _e extends W.w{constructor(Z,pe,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=z.c;break;case 1:if(!Z){this.destination=z.c;break}if("object"==typeof Z){Z instanceof _e?(this.syncErrorThrowable=Z.syncErrorThrowable,this.destination=Z,Z.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,Z));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,Z,pe,ee)}}[ke.b](){return this}static create(Z,pe,ee){const le=new _e(Z,pe,ee);return le.syncErrorThrowable=!1,le}next(Z){this.isStopped||this._next(Z)}error(Z){this.isStopped||(this.isStopped=!0,this._error(Z))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Z){this.destination.next(Z)}_error(Z){this.destination.error(Z),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Z}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Z,this}}class re extends _e{constructor(Z,pe,ee,le){super(),this._parentSubscriber=Z;let Fe,He=this;(0,c.m)(pe)?Fe=pe:pe&&(Fe=pe.next,ee=pe.error,le=pe.complete,pe!==z.c&&(He=Object.create(pe),(0,c.m)(He.unsubscribe)&&this.add(He.unsubscribe.bind(He)),He.unsubscribe=this.unsubscribe.bind(this))),this._context=He,this._next=Fe,this._error=ee,this._complete=le}next(Z){if(!this.isStopped&&this._next){const{_parentSubscriber:pe}=this;Te.v.useDeprecatedSynchronousErrorHandling&&pe.syncErrorThrowable?this.__tryOrSetError(pe,this._next,Z)&&this.unsubscribe():this.__tryOrUnsub(this._next,Z)}}error(Z){if(!this.isStopped){const{_parentSubscriber:pe}=this,{useDeprecatedSynchronousErrorHandling:ee}=Te.v;if(this._error)ee&&pe.syncErrorThrowable?(this.__tryOrSetError(pe,this._error,Z),this.unsubscribe()):(this.__tryOrUnsub(this._error,Z),this.unsubscribe());else if(pe.syncErrorThrowable)ee?(pe.syncErrorValue=Z,pe.syncErrorThrown=!0):(0,te.z)(Z),this.unsubscribe();else{if(this.unsubscribe(),ee)throw Z;(0,te.z)(Z)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Z}=this;if(this._complete){const pe=()=>this._complete.call(this._context);Te.v.useDeprecatedSynchronousErrorHandling&&Z.syncErrorThrowable?(this.__tryOrSetError(Z,pe),this.unsubscribe()):(this.__tryOrUnsub(pe),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Z,pe){try{Z.call(this._context,pe)}catch(ee){if(this.unsubscribe(),Te.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,te.z)(ee)}}__tryOrSetError(Z,pe,ee){if(!Te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{pe.call(this._context,ee)}catch(le){return Te.v.useDeprecatedSynchronousErrorHandling?(Z.syncErrorValue=le,Z.syncErrorThrown=!0,!0):((0,te.z)(le),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Z}=this;this._context=null,this._parentSubscriber=null,Z.unsubscribe()}}},2654:(Qt,lt,N)=>{"use strict";N.d(lt,{w:()=>te});var c=N(6688),z=N(7830),W=N(7043);const Te=(()=>{function re(Ie){return Error.call(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((Z,pe)=>`${pe+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie,this}return re.prototype=Object.create(Error.prototype),re})();class te{constructor(Ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ie)}unsubscribe(){let Ie;if(this.closed)return;let{_parentOrParents:Z,_ctorUnsubscribe:pe,_unsubscribe:ee,_subscriptions:le}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Z instanceof te)Z.remove(this);else if(null!==Z)for(let Fe=0;Fe<Z.length;++Fe)Z[Fe].remove(this);if((0,W.m)(ee)){pe&&(this._unsubscribe=void 0);try{ee.call(this)}catch(Fe){Ie=Fe instanceof Te?_e(Fe.errors):[Fe]}}if((0,c.k)(le)){let Fe=-1,He=le.length;for(;++Fe<He;){const De=le[Fe];if((0,z.K)(De))try{De.unsubscribe()}catch(Oe){Ie=Ie||[],Oe instanceof Te?Ie=Ie.concat(_e(Oe.errors)):Ie.push(Oe)}}}if(Ie)throw new Te(Ie)}add(Ie){let Z=Ie;if(!Ie)return te.EMPTY;switch(typeof Ie){case"function":Z=new te(Ie);case"object":if(Z===this||Z.closed||"function"!=typeof Z.unsubscribe)return Z;if(this.closed)return Z.unsubscribe(),Z;if(!(Z instanceof te)){const le=Z;Z=new te,Z._subscriptions=[le]}break;default:throw new Error("unrecognized teardown "+Ie+" added to Subscription.")}let{_parentOrParents:pe}=Z;if(null===pe)Z._parentOrParents=this;else if(pe instanceof te){if(pe===this)return Z;Z._parentOrParents=[pe,this]}else{if(-1!==pe.indexOf(this))return Z;pe.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[Z]:ee.push(Z),Z}remove(Ie){const Z=this._subscriptions;if(Z){const pe=Z.indexOf(Ie);-1!==pe&&Z.splice(pe,1)}}}var re;function _e(re){return re.reduce((Ie,Z)=>Ie.concat(Z instanceof Te?Z.errors:Z),[])}te.EMPTY=((re=new te).closed=!0,re)},2830:(Qt,lt,N)=>{"use strict";N.d(lt,{v:()=>z});let c=!1;const z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(W){if(W){const ke=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ke.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=W},get useDeprecatedSynchronousErrorHandling(){return c}}},1177:(Qt,lt,N)=>{"use strict";N.d(lt,{IY:()=>ke,Ds:()=>te,ft:()=>re});var c=N(3489),z=N(2916),W=N(9249);class ke extends c.L{constructor(Z){super(),this.parent=Z}_next(Z){this.parent.notifyNext(Z)}_error(Z){this.parent.notifyError(Z),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class te extends c.L{notifyNext(Z){this.destination.next(Z)}notifyError(Z){this.destination.error(Z)}notifyComplete(){this.destination.complete()}}function re(Ie,Z){if(Z.closed)return;if(Ie instanceof z.y)return Ie.subscribe(Z);let pe;try{pe=(0,W.s)(Ie)(Z)}catch(ee){Z.error(ee)}return pe}},1762:(Qt,lt,N)=>{"use strict";N.d(lt,{c:()=>Te,N:()=>te});var c=N(8929),z=N(2916),W=N(2654),ke=N(4327);class Te extends z.y{constructor(pe,ee){super(),this.source=pe,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(pe){return this.getSubject().subscribe(pe)}getSubject(){const pe=this._subject;return(!pe||pe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let pe=this._connection;return pe||(this._isComplete=!1,pe=this._connection=new W.w,pe.add(this.source.subscribe(new _e(this.getSubject(),this))),pe.closed&&(this._connection=null,pe=W.w.EMPTY)),pe}refCount(){return(0,ke.x)()(this)}}const te=(()=>{const Z=Te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Z._subscribe},_isComplete:{value:Z._isComplete,writable:!0},getSubject:{value:Z.getSubject},connect:{value:Z.connect},refCount:{value:Z.refCount}}})();class _e extends c.Yc{constructor(pe,ee){super(pe),this.connectable=ee}_error(pe){this._unsubscribe(),super._error(pe)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const pe=this.connectable;if(pe){this.connectable=null;const ee=pe._connection;pe._refCount=0,pe._subject=null,pe._connection=null,ee&&ee.unsubscribe()}}}},6053:(Qt,lt,N)=>{"use strict";N.d(lt,{aj:()=>_e});var c=N(2866),z=N(6688),W=N(826),ke=N(448),Te=N(3009);const te={};function _e(...Z){let pe,ee;return(0,c.K)(Z[Z.length-1])&&(ee=Z.pop()),"function"==typeof Z[Z.length-1]&&(pe=Z.pop()),1===Z.length&&(0,z.k)(Z[0])&&(Z=Z[0]),(0,Te.n)(Z,ee).lift(new re(pe))}class re{constructor(pe){this.resultSelector=pe}call(pe,ee){return ee.subscribe(new Ie(pe,this.resultSelector))}}class Ie extends W.L{constructor(pe,ee){super(pe),this.resultSelector=ee,this.active=0,this.values=[],this.observables=[]}_next(pe){this.values.push(te),this.observables.push(pe)}_complete(){const pe=this.observables,ee=pe.length;if(0===ee)this.destination.complete();else{this.active=ee,this.toRespond=ee;for(let le=0;le<ee;le++)this.add((0,ke.D)(this,pe[le],void 0,le))}}notifyComplete(pe){0==(this.active-=1)&&this.destination.complete()}notifyNext(pe,ee,le){const Fe=this.values,De=this.toRespond?Fe[le]===te?--this.toRespond:this.toRespond:0;Fe[le]=ee,0===De&&(this.resultSelector?this._tryResultSelector(Fe):this.destination.next(Fe.slice()))}_tryResultSelector(pe){let ee;try{ee=this.resultSelector.apply(this,pe)}catch(le){return void this.destination.error(le)}this.destination.next(ee)}}},1221:(Qt,lt,N)=>{"use strict";N.d(lt,{z:()=>ke});var c=N(1086),z=N(9146);function ke(...Te){return function W(){return(0,z.J)(1)}()((0,c.of)(...Te))}},8896:(Qt,lt,N)=>{"use strict";N.d(lt,{E:()=>z,c:()=>W});var c=N(2916);const z=new c.y(Te=>Te.complete());function W(Te){return Te?function ke(Te){return new c.y(te=>Te.schedule(()=>te.complete()))}(Te):z}},5254:(Qt,lt,N)=>{"use strict";N.d(lt,{D:()=>He});var c=N(2916),z=N(9249),W=N(2654),ke=N(3821),_e=N(6454),re=N(5430),pe=N(8955),ee=N(8515);function He(De,Oe){return Oe?function Fe(De,Oe){if(null!=De){if(function Z(De){return De&&"function"==typeof De[ke.L]}(De))return function Te(De,Oe){return new c.y(Le=>{const et=new W.w;return et.add(Oe.schedule(()=>{const rt=De[ke.L]();et.add(rt.subscribe({next(Ye){et.add(Oe.schedule(()=>Le.next(Ye)))},error(Ye){et.add(Oe.schedule(()=>Le.error(Ye)))},complete(){et.add(Oe.schedule(()=>Le.complete()))}}))})),et})}(De,Oe);if((0,pe.t)(De))return function te(De,Oe){return new c.y(Le=>{const et=new W.w;return et.add(Oe.schedule(()=>De.then(rt=>{et.add(Oe.schedule(()=>{Le.next(rt),et.add(Oe.schedule(()=>Le.complete()))}))},rt=>{et.add(Oe.schedule(()=>Le.error(rt)))}))),et})}(De,Oe);if((0,ee.z)(De))return(0,_e.r)(De,Oe);if(function le(De){return De&&"function"==typeof De[re.hZ]}(De)||"string"==typeof De)return function Ie(De,Oe){if(!De)throw new Error("Iterable cannot be null");return new c.y(Le=>{const et=new W.w;let rt;return et.add(()=>{rt&&"function"==typeof rt.return&&rt.return()}),et.add(Oe.schedule(()=>{rt=De[re.hZ](),et.add(Oe.schedule(function(){if(Le.closed)return;let Ye,yt;try{const Pt=rt.next();Ye=Pt.value,yt=Pt.done}catch(Pt){return void Le.error(Pt)}yt?Le.complete():(Le.next(Ye),this.schedule())}))})),et})}(De,Oe)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,Oe):De instanceof c.y?De:new c.y((0,z.s)(De))}},3009:(Qt,lt,N)=>{"use strict";N.d(lt,{n:()=>ke});var c=N(2916),z=N(3650),W=N(6454);function ke(Te,te){return te?(0,W.r)(Te,te):new c.y((0,z.V)(Te))}},6787:(Qt,lt,N)=>{"use strict";N.d(lt,{T:()=>Te});var c=N(2916),z=N(2866),W=N(9146),ke=N(3009);function Te(...te){let _e=Number.POSITIVE_INFINITY,re=null,Ie=te[te.length-1];return(0,z.K)(Ie)?(re=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(_e=te.pop())):"number"==typeof Ie&&(_e=te.pop()),null===re&&1===te.length&&te[0]instanceof c.y?te[0]:(0,W.J)(_e)((0,ke.n)(te,re))}},1086:(Qt,lt,N)=>{"use strict";N.d(lt,{of:()=>ke});var c=N(2866),z=N(3009),W=N(6454);function ke(...Te){let te=Te[Te.length-1];return(0,c.K)(te)?(Te.pop(),(0,W.r)(Te,te)):(0,z.n)(Te)}},1737:(Qt,lt,N)=>{"use strict";N.d(lt,{_:()=>z});var c=N(2916);function z(ke,Te){return new c.y(Te?te=>Te.schedule(W,0,{error:ke,subscriber:te}):te=>te.error(ke))}function W({error:ke,subscriber:Te}){Te.error(ke)}},7221:(Qt,lt,N)=>{"use strict";N.d(lt,{K:()=>z});var c=N(1177);function z(Te){return function(_e){const re=new W(Te),Ie=_e.lift(re);return re.caught=Ie}}class W{constructor(te){this.selector=te}call(te,_e){return _e.subscribe(new ke(te,this.selector,this.caught))}}class ke extends c.Ds{constructor(te,_e,re){super(te),this.selector=_e,this.caught=re}error(te){if(!this.isStopped){let _e;try{_e=this.selector(te,this.caught)}catch(Z){return void super.error(Z)}this._unsubscribeAndRecycle();const re=new c.IY(this);this.add(re);const Ie=(0,c.ft)(_e,re);Ie!==re&&this.add(Ie)}}}},1406:(Qt,lt,N)=>{"use strict";N.d(lt,{b:()=>z});var c=N(1709);function z(W,ke){return(0,c.zg)(W,ke,1)}},7314:(Qt,lt,N)=>{"use strict";N.d(lt,{d:()=>z});var c=N(3489);function z(Te=null){return te=>te.lift(new W(Te))}class W{constructor(te){this.defaultValue=te}call(te,_e){return _e.subscribe(new ke(te,this.defaultValue))}}class ke extends c.L{constructor(te,_e){super(te),this.defaultValue=_e,this.isEmpty=!0}_next(te){this.isEmpty=!1,this.destination.next(te)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Qt,lt,N)=>{"use strict";N.d(lt,{x:()=>z});var c=N(3489);function z(Te,te){return _e=>_e.lift(new W(Te,te))}class W{constructor(te,_e){this.compare=te,this.keySelector=_e}call(te,_e){return _e.subscribe(new ke(te,this.compare,this.keySelector))}}class ke extends c.L{constructor(te,_e,re){super(te),this.keySelector=re,this.hasKey=!1,"function"==typeof _e&&(this.compare=_e)}compare(te,_e){return te===_e}_next(te){let _e;try{const{keySelector:Ie}=this;_e=Ie?Ie(te):te}catch(Ie){return this.destination.error(Ie)}let re=!1;if(this.hasKey)try{const{compare:Ie}=this;re=Ie(this.key,_e)}catch(Ie){return this.destination.error(Ie)}else this.hasKey=!0;re||(this.key=_e,this.destination.next(te))}}},2198:(Qt,lt,N)=>{"use strict";N.d(lt,{h:()=>z});var c=N(3489);function z(Te,te){return function(re){return re.lift(new W(Te,te))}}class W{constructor(te,_e){this.predicate=te,this.thisArg=_e}call(te,_e){return _e.subscribe(new ke(te,this.predicate,this.thisArg))}}class ke extends c.L{constructor(te,_e,re){super(te),this.predicate=_e,this.thisArg=re,this.count=0}_next(te){let _e;try{_e=this.predicate.call(this.thisArg,te,this.count++)}catch(re){return void this.destination.error(re)}_e&&this.destination.next(te)}}},7224:(Qt,lt,N)=>{"use strict";N.d(lt,{P:()=>_e});var c=N(4450),z=N(2198),W=N(2986),ke=N(7314),Te=N(4907),te=N(5379);function _e(re,Ie){const Z=arguments.length>=2;return pe=>pe.pipe(re?(0,z.h)((ee,le)=>re(ee,le,pe)):te.y,(0,W.q)(1),Z?(0,ke.d)(Ie):(0,Te.T)(()=>new c.K))}},4850:(Qt,lt,N)=>{"use strict";N.d(lt,{U:()=>z});var c=N(3489);function z(Te,te){return function(re){if("function"!=typeof Te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new W(Te,te))}}class W{constructor(te,_e){this.project=te,this.thisArg=_e}call(te,_e){return _e.subscribe(new ke(te,this.project,this.thisArg))}}class ke extends c.L{constructor(te,_e,re){super(te),this.project=_e,this.count=0,this.thisArg=re||this}_next(te){let _e;try{_e=this.project.call(this.thisArg,te,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(_e)}}},9146:(Qt,lt,N)=>{"use strict";N.d(lt,{J:()=>W});var c=N(1709),z=N(5379);function W(ke=Number.POSITIVE_INFINITY){return(0,c.zg)(z.y,ke)}},1709:(Qt,lt,N)=>{"use strict";N.d(lt,{zg:()=>ke});var c=N(4850),z=N(5254),W=N(1177);function ke(re,Ie,Z=Number.POSITIVE_INFINITY){return"function"==typeof Ie?pe=>pe.pipe(ke((ee,le)=>(0,z.D)(re(ee,le)).pipe((0,c.U)((Fe,He)=>Ie(ee,Fe,le,He))),Z)):("number"==typeof Ie&&(Z=Ie),pe=>pe.lift(new Te(re,Z)))}class Te{constructor(Ie,Z=Number.POSITIVE_INFINITY){this.project=Ie,this.concurrent=Z}call(Ie,Z){return Z.subscribe(new te(Ie,this.project,this.concurrent))}}class te extends W.Ds{constructor(Ie,Z,pe=Number.POSITIVE_INFINITY){super(Ie),this.project=Z,this.concurrent=pe,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ie){this.active<this.concurrent?this._tryNext(Ie):this.buffer.push(Ie)}_tryNext(Ie){let Z;const pe=this.index++;try{Z=this.project(Ie,pe)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(Z)}_innerSub(Ie){const Z=new W.IY(this),pe=this.destination;pe.add(Z);const ee=(0,W.ft)(Ie,Z);ee!==Z&&pe.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ie){this.destination.next(Ie)}notifyComplete(){const Ie=this.buffer;this.active--,Ie.length>0?this._next(Ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Qt,lt,N)=>{"use strict";N.d(lt,{ht:()=>Ie,QV:()=>_e});var c=N(3489),z=N(8896),W=N(1086),ke=N(1737);class te{constructor(ee,le,Fe){this.kind=ee,this.value=le,this.error=Fe,this.hasValue="N"===ee}observe(ee){switch(this.kind){case"N":return ee.next&&ee.next(this.value);case"E":return ee.error&&ee.error(this.error);case"C":return ee.complete&&ee.complete()}}do(ee,le,Fe){switch(this.kind){case"N":return ee&&ee(this.value);case"E":return le&&le(this.error);case"C":return Fe&&Fe()}}accept(ee,le,Fe){return ee&&"function"==typeof ee.next?this.observe(ee):this.do(ee,le,Fe)}toObservable(){switch(this.kind){case"N":return(0,W.of)(this.value);case"E":return(0,ke._)(this.error);case"C":return(0,z.c)()}throw new Error("unexpected notification kind value")}static createNext(ee){return void 0!==ee?new te("N",ee):te.undefinedValueNotification}static createError(ee){return new te("E",void 0,ee)}static createComplete(){return te.completeNotification}}function _e(pe,ee=0){return function(Fe){return Fe.lift(new re(pe,ee))}}te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0);class re{constructor(ee,le=0){this.scheduler=ee,this.delay=le}call(ee,le){return le.subscribe(new Ie(ee,this.scheduler,this.delay))}}class Ie extends c.L{constructor(ee,le,Fe=0){super(ee),this.scheduler=le,this.delay=Fe}static dispatch(ee){const{notification:le,destination:Fe}=ee;le.observe(Fe),this.unsubscribe()}scheduleMessage(ee){this.destination.add(this.scheduler.schedule(Ie.dispatch,this.delay,new Z(ee,this.destination)))}_next(ee){this.scheduleMessage(te.createNext(ee))}_error(ee){this.scheduleMessage(te.createError(ee)),this.unsubscribe()}_complete(){this.scheduleMessage(te.createComplete()),this.unsubscribe()}}class Z{constructor(ee,le){this.notification=ee,this.destination=le}}},4327:(Qt,lt,N)=>{"use strict";N.d(lt,{x:()=>z});var c=N(3489);function z(){return function(te){return te.lift(new W(te))}}class W{constructor(te){this.connectable=te}call(te,_e){const{connectable:re}=this;re._refCount++;const Ie=new ke(te,re),Z=_e.subscribe(Ie);return Ie.closed||(Ie.connection=re.connect()),Z}}class ke extends c.L{constructor(te,_e){super(te),this.connectable=_e}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const _e=te._refCount;if(_e<=0)return void(this.connection=null);if(te._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:re}=this,Ie=te._connection;this.connection=null,Ie&&(!re||Ie===re)&&Ie.unsubscribe()}}},2014:(Qt,lt,N)=>{"use strict";N.d(lt,{R:()=>z});var c=N(3489);function z(Te,te){let _e=!1;return arguments.length>=2&&(_e=!0),function(Ie){return Ie.lift(new W(Te,te,_e))}}class W{constructor(te,_e,re=!1){this.accumulator=te,this.seed=_e,this.hasSeed=re}call(te,_e){return _e.subscribe(new ke(te,this.accumulator,this.seed,this.hasSeed))}}class ke extends c.L{constructor(te,_e,re,Ie){super(te),this.accumulator=_e,this._seed=re,this.hasSeed=Ie,this.index=0}get seed(){return this._seed}set seed(te){this.hasSeed=!0,this._seed=te}_next(te){if(this.hasSeed)return this._tryNext(te);this.seed=te,this.destination.next(te)}_tryNext(te){const _e=this.index++;let re;try{re=this.accumulator(this.seed,te,_e)}catch(Ie){this.destination.error(Ie)}this.seed=re,this.destination.next(re)}}},2474:(Qt,lt,N)=>{"use strict";N.d(lt,{B:()=>_e});var c=N(1762);class W{constructor(Ie,Z){this.subjectFactory=Ie,this.selector=Z}call(Ie,Z){const{selector:pe}=this,ee=this.subjectFactory(),le=pe(ee).subscribe(Ie);return le.add(Z.subscribe(ee)),le}}var ke=N(4327),Te=N(8929);function te(){return new Te.xQ}function _e(){return re=>(0,ke.x)()(function z(re,Ie){return function(pe){let ee;if(ee="function"==typeof re?re:function(){return re},"function"==typeof Ie)return pe.lift(new W(ee,Ie));const le=Object.create(pe,c.N);return le.source=pe,le.subjectFactory=ee,le}}(te)(re))}},96:(Qt,lt,N)=>{"use strict";N.d(lt,{d:()=>Ie});var c=N(8929),z=N(341),W=N(2654),ke=N(2102),Te=N(5279),te=N(5283);class _e extends c.xQ{constructor(ee=Number.POSITIVE_INFINITY,le=Number.POSITIVE_INFINITY,Fe){super(),this.scheduler=Fe,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ee<1?1:ee,this._windowTime=le<1?1:le,le===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ee){if(!this.isStopped){const le=this._events;le.push(ee),le.length>this._bufferSize&&le.shift()}super.next(ee)}nextTimeWindow(ee){this.isStopped||(this._events.push(new re(this._getNow(),ee)),this._trimBufferThenGetEvents()),super.next(ee)}_subscribe(ee){const le=this._infiniteTimeWindow,Fe=le?this._events:this._trimBufferThenGetEvents(),He=this.scheduler,De=Fe.length;let Oe;if(this.closed)throw new Te.N;if(this.isStopped||this.hasError?Oe=W.w.EMPTY:(this.observers.push(ee),Oe=new te.W(this,ee)),He&&ee.add(ee=new ke.ht(ee,He)),le)for(let Le=0;Le<De&&!ee.closed;Le++)ee.next(Fe[Le]);else for(let Le=0;Le<De&&!ee.closed;Le++)ee.next(Fe[Le].value);return this.hasError?ee.error(this.thrownError):this.isStopped&&ee.complete(),Oe}_getNow(){return(this.scheduler||z.c).now()}_trimBufferThenGetEvents(){const ee=this._getNow(),le=this._bufferSize,Fe=this._windowTime,He=this._events,De=He.length;let Oe=0;for(;Oe<De&&!(ee-He[Oe].time<Fe);)Oe++;return De>le&&(Oe=Math.max(Oe,De-le)),Oe>0&&He.splice(0,Oe),He}}class re{constructor(ee,le){this.time=ee,this.value=le}}function Ie(pe,ee,le){let Fe;return Fe=pe&&"object"==typeof pe?pe:{bufferSize:pe,windowTime:ee,refCount:!1,scheduler:le},He=>He.lift(function Z({bufferSize:pe=Number.POSITIVE_INFINITY,windowTime:ee=Number.POSITIVE_INFINITY,refCount:le,scheduler:Fe}){let He,Oe,De=0,Le=!1,et=!1;return function(Ye){let yt;De++,!He||Le?(Le=!1,He=new _e(pe,ee,Fe),yt=He.subscribe(this),Oe=Ye.subscribe({next(Pt){He.next(Pt)},error(Pt){Le=!0,He.error(Pt)},complete(){et=!0,Oe=void 0,He.complete()}}),et&&(Oe=void 0)):yt=He.subscribe(this),this.add(()=>{De--,yt.unsubscribe(),yt=void 0,Oe&&!et&&le&&0===De&&(Oe.unsubscribe(),Oe=void 0,He=void 0)})}}(Fe))}},1059:(Qt,lt,N)=>{"use strict";N.d(lt,{O:()=>W});var c=N(1221),z=N(2866);function W(...ke){const Te=ke[ke.length-1];return(0,z.K)(Te)?(ke.pop(),te=>(0,c.z)(ke,te,Te)):te=>(0,c.z)(ke,te)}},8915:(Qt,lt,N)=>{"use strict";N.d(lt,{R:()=>Oe});var c=N(2916);let z=1;const W=Promise.resolve(),ke={};function Te(et){return et in ke&&(delete ke[et],!0)}const te={setImmediate(et){const rt=z++;return ke[rt]=!0,W.then(()=>Te(rt)&&et()),rt},clearImmediate(et){Te(et)}};var re=N(6686),Z=N(2268);const le=new class pe extends Z.v{flush(rt){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let yt,Pt=-1,gt=Ye.length;rt=rt||Ye.shift();do{if(yt=rt.execute(rt.state,rt.delay))break}while(++Pt<gt&&(rt=Ye.shift()));if(this.active=!1,yt){for(;++Pt<gt&&(rt=Ye.shift());)rt.unsubscribe();throw yt}}}(class Ie extends re.o{constructor(rt,Ye){super(rt,Ye),this.scheduler=rt,this.work=Ye}requestAsyncId(rt,Ye,yt=0){return null!==yt&&yt>0?super.requestAsyncId(rt,Ye,yt):(rt.actions.push(this),rt.scheduled||(rt.scheduled=te.setImmediate(rt.flush.bind(rt,null))))}recycleAsyncId(rt,Ye,yt=0){if(null!==yt&&yt>0||null===yt&&this.delay>0)return super.recycleAsyncId(rt,Ye,yt);0===rt.actions.length&&(te.clearImmediate(Ye),rt.scheduled=void 0)}});var Fe=N(6688);class De extends c.y{constructor(rt,Ye=0,yt=le){super(),this.source=rt,this.delayTime=Ye,this.scheduler=yt,(!function He(et){return!(0,Fe.k)(et)&&et-parseFloat(et)+1>=0}(Ye)||Ye<0)&&(this.delayTime=0),(!yt||"function"!=typeof yt.schedule)&&(this.scheduler=le)}static create(rt,Ye=0,yt=le){return new De(rt,Ye,yt)}static dispatch(rt){const{source:Ye,subscriber:yt}=rt;return this.add(Ye.subscribe(yt))}_subscribe(rt){return this.scheduler.schedule(De.dispatch,this.delayTime,{source:this.source,subscriber:rt})}}function Oe(et,rt=0){return function(yt){return yt.lift(new Le(et,rt))}}class Le{constructor(rt,Ye){this.scheduler=rt,this.delay=Ye}call(rt,Ye){return new De(Ye,this.delay,this.scheduler).subscribe(rt)}}},7545:(Qt,lt,N)=>{"use strict";N.d(lt,{w:()=>ke});var c=N(4850),z=N(5254),W=N(1177);function ke(_e,re){return"function"==typeof re?Ie=>Ie.pipe(ke((Z,pe)=>(0,z.D)(_e(Z,pe)).pipe((0,c.U)((ee,le)=>re(Z,ee,pe,le))))):Ie=>Ie.lift(new Te(_e))}class Te{constructor(re){this.project=re}call(re,Ie){return Ie.subscribe(new te(re,this.project))}}class te extends W.Ds{constructor(re,Ie){super(re),this.project=Ie,this.index=0}_next(re){let Ie;const Z=this.index++;try{Ie=this.project(re,Z)}catch(pe){return void this.destination.error(pe)}this._innerSub(Ie)}_innerSub(re){const Ie=this.innerSubscription;Ie&&Ie.unsubscribe();const Z=new W.IY(this),pe=this.destination;pe.add(Z),this.innerSubscription=(0,W.ft)(re,Z),this.innerSubscription!==Z&&pe.add(this.innerSubscription)}_complete(){const{innerSubscription:re}=this;(!re||re.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(re){this.destination.next(re)}}},2986:(Qt,lt,N)=>{"use strict";N.d(lt,{q:()=>ke});var c=N(3489),z=N(4231),W=N(8896);function ke(_e){return re=>0===_e?(0,W.c)():re.lift(new Te(_e))}class Te{constructor(re){if(this.total=re,this.total<0)throw new z.W}call(re,Ie){return Ie.subscribe(new te(re,this.total))}}class te extends c.L{constructor(re,Ie){super(re),this.total=Ie,this.count=0}_next(re){const Ie=this.total,Z=++this.count;Z<=Ie&&(this.destination.next(re),Z===Ie&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Qt,lt,N)=>{"use strict";N.d(lt,{b:()=>ke});var c=N(3489);function z(){}var W=N(7043);function ke(_e,re,Ie){return function(pe){return pe.lift(new Te(_e,re,Ie))}}class Te{constructor(re,Ie,Z){this.nextOrObserver=re,this.error=Ie,this.complete=Z}call(re,Ie){return Ie.subscribe(new te(re,this.nextOrObserver,this.error,this.complete))}}class te extends c.L{constructor(re,Ie,Z,pe){super(re),this._tapNext=z,this._tapError=z,this._tapComplete=z,this._tapError=Z||z,this._tapComplete=pe||z,(0,W.m)(Ie)?(this._context=this,this._tapNext=Ie):Ie&&(this._context=Ie,this._tapNext=Ie.next||z,this._tapError=Ie.error||z,this._tapComplete=Ie.complete||z)}_next(re){try{this._tapNext.call(this._context,re)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(Ie){return void this.destination.error(Ie)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},4907:(Qt,lt,N)=>{"use strict";N.d(lt,{T:()=>W});var c=N(4450),z=N(3489);function W(_e=te){return re=>re.lift(new ke(_e))}class ke{constructor(re){this.errorFactory=re}call(re,Ie){return Ie.subscribe(new Te(re,this.errorFactory))}}class Te extends z.L{constructor(re,Ie){super(re),this.errorFactory=Ie,this.hasValue=!1}_next(re){this.hasValue=!0,this.destination.next(re)}_complete(){if(this.hasValue)return this.destination.complete();{let re;try{re=this.errorFactory()}catch(Ie){re=Ie}this.destination.error(re)}}}function te(){return new c.K}},6454:(Qt,lt,N)=>{"use strict";N.d(lt,{r:()=>W});var c=N(2916),z=N(2654);function W(ke,Te){return new c.y(te=>{const _e=new z.w;let re=0;return _e.add(Te.schedule(function(){re!==ke.length?(te.next(ke[re++]),te.closed||_e.add(this.schedule())):te.complete()})),_e})}},6686:(Qt,lt,N)=>{"use strict";N.d(lt,{o:()=>W});var c=N(2654);class z extends c.w{constructor(Te,te){super()}schedule(Te,te=0){return this}}class W extends z{constructor(Te,te){super(Te,te),this.scheduler=Te,this.work=te,this.pending=!1}schedule(Te,te=0){if(this.closed)return this;this.state=Te;const _e=this.id,re=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(re,_e,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(re,this.id,te),this}requestAsyncId(Te,te,_e=0){return setInterval(Te.flush.bind(Te,this),_e)}recycleAsyncId(Te,te,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return te;clearInterval(te)}execute(Te,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(Te,te);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,te){let re,_e=!1;try{this.work(Te)}catch(Ie){_e=!0,re=!!Ie&&Ie||new Error(Ie)}if(_e)return this.unsubscribe(),re}_unsubscribe(){const Te=this.id,te=this.scheduler,_e=te.actions,re=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&_e.splice(re,1),null!=Te&&(this.id=this.recycleAsyncId(te,Te,null)),this.delay=null}}},2268:(Qt,lt,N)=>{"use strict";N.d(lt,{v:()=>z});let c=(()=>{class W{constructor(Te,te=W.now){this.SchedulerAction=Te,this.now=te}schedule(Te,te=0,_e){return new this.SchedulerAction(this,Te).schedule(_e,te)}}return W.now=()=>Date.now(),W})();class z extends c{constructor(ke,Te=c.now){super(ke,()=>z.delegate&&z.delegate!==this?z.delegate.now():Te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ke,Te=0,te){return z.delegate&&z.delegate!==this?z.delegate.schedule(ke,Te,te):super.schedule(ke,Te,te)}flush(ke){const{actions:Te}=this;if(this.active)return void Te.push(ke);let te;this.active=!0;do{if(te=ke.execute(ke.state,ke.delay))break}while(ke=Te.shift());if(this.active=!1,te){for(;ke=Te.shift();)ke.unsubscribe();throw te}}}},353:(Qt,lt,N)=>{"use strict";N.d(lt,{z:()=>W,P:()=>ke});var c=N(6686);const W=new(N(2268).v)(c.o),ke=W},341:(Qt,lt,N)=>{"use strict";N.d(lt,{c:()=>te,N:()=>Te});var c=N(6686),W=N(2268);const Te=new class ke extends W.v{}(class z extends c.o{constructor(re,Ie){super(re,Ie),this.scheduler=re,this.work=Ie}schedule(re,Ie=0){return Ie>0?super.schedule(re,Ie):(this.delay=Ie,this.state=re,this.scheduler.flush(this),this)}execute(re,Ie){return Ie>0||this.closed?super.execute(re,Ie):this._execute(re,Ie)}requestAsyncId(re,Ie,Z=0){return null!==Z&&Z>0||null===Z&&this.delay>0?super.requestAsyncId(re,Ie,Z):re.flush(this)}}),te=Te},5430:(Qt,lt,N)=>{"use strict";N.d(lt,{hZ:()=>z});const z=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Qt,lt,N)=>{"use strict";N.d(lt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Qt,lt,N)=>{"use strict";N.d(lt,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Qt,lt,N)=>{"use strict";N.d(lt,{W:()=>z});const z=(()=>{function W(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return W.prototype=Object.create(Error.prototype),W})()},4450:(Qt,lt,N)=>{"use strict";N.d(lt,{K:()=>z});const z=(()=>{function W(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return W.prototype=Object.create(Error.prototype),W})()},5279:(Qt,lt,N)=>{"use strict";N.d(lt,{N:()=>z});const z=(()=>{function W(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return W.prototype=Object.create(Error.prototype),W})()},2782:(Qt,lt,N)=>{"use strict";function c(z){setTimeout(()=>{throw z},0)}N.d(lt,{z:()=>c})},5379:(Qt,lt,N)=>{"use strict";function c(z){return z}N.d(lt,{y:()=>c})},6688:(Qt,lt,N)=>{"use strict";N.d(lt,{k:()=>c});const c=Array.isArray||(z=>z&&"number"==typeof z.length)},8515:(Qt,lt,N)=>{"use strict";N.d(lt,{z:()=>c});const c=z=>z&&"number"==typeof z.length&&"function"!=typeof z},7043:(Qt,lt,N)=>{"use strict";function c(z){return"function"==typeof z}N.d(lt,{m:()=>c})},7830:(Qt,lt,N)=>{"use strict";function c(z){return null!==z&&"object"==typeof z}N.d(lt,{K:()=>c})},8955:(Qt,lt,N)=>{"use strict";function c(z){return!!z&&"function"!=typeof z.subscribe&&"function"==typeof z.then}N.d(lt,{t:()=>c})},2866:(Qt,lt,N)=>{"use strict";function c(z){return z&&"function"==typeof z.schedule}N.d(lt,{K:()=>c})},9249:(Qt,lt,N)=>{"use strict";N.d(lt,{s:()=>pe});var c=N(3650),z=N(2782),ke=N(5430),te=N(3821),re=N(8515),Ie=N(8955),Z=N(7830);const pe=ee=>{if(ee&&"function"==typeof ee[te.L])return(ee=>le=>{const Fe=ee[te.L]();if("function"!=typeof Fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Fe.subscribe(le)})(ee);if((0,re.z)(ee))return(0,c.V)(ee);if((0,Ie.t)(ee))return(ee=>le=>(ee.then(Fe=>{le.closed||(le.next(Fe),le.complete())},Fe=>le.error(Fe)).then(null,z.z),le))(ee);if(ee&&"function"==typeof ee[ke.hZ])return(ee=>le=>{const Fe=ee[ke.hZ]();for(;;){let He;try{He=Fe.next()}catch(De){return le.error(De),le}if(He.done){le.complete();break}if(le.next(He.value),le.closed)break}return"function"==typeof Fe.return&&le.add(()=>{Fe.return&&Fe.return()}),le})(ee);{const Fe=`You provided ${(0,Z.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Fe)}}},3650:(Qt,lt,N)=>{"use strict";N.d(lt,{V:()=>c});const c=z=>W=>{for(let ke=0,Te=z.length;ke<Te&&!W.closed;ke++)W.next(z[ke]);W.complete()}},448:(Qt,lt,N)=>{"use strict";N.d(lt,{D:()=>Te});var c=N(3489);class z extends c.L{constructor(_e,re,Ie){super(),this.parent=_e,this.outerValue=re,this.outerIndex=Ie,this.index=0}_next(_e){this.parent.notifyNext(this.outerValue,_e,this.outerIndex,this.index++,this)}_error(_e){this.parent.notifyError(_e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var W=N(9249),ke=N(2916);function Te(te,_e,re,Ie,Z=new z(te,re,Ie)){if(!Z.closed)return _e instanceof ke.y?_e.subscribe(Z):(0,W.s)(_e)(Z)}},863:(Qt,lt,N)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function z(W){if(!N.o(c,W))return Promise.resolve().then(()=>{var te=new Error("Cannot find module '"+W+"'");throw te.code="MODULE_NOT_FOUND",te});var ke=c[W],Te=ke[0];return Promise.all(ke.slice(1).map(N.e)).then(()=>N(Te))}z.keys=()=>Object.keys(c),z.id=863,Qt.exports=z},655:(Qt,lt,N)=>{"use strict";function ke(we,be){var ge={};for(var Be in we)Object.prototype.hasOwnProperty.call(we,Be)&&be.indexOf(Be)<0&&(ge[Be]=we[Be]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Be=Object.getOwnPropertySymbols(we);$e<Be.length;$e++)be.indexOf(Be[$e])<0&&Object.prototype.propertyIsEnumerable.call(we,Be[$e])&&(ge[Be[$e]]=we[Be[$e]])}return ge}function Te(we,be,ge,Be){var Ot,$e=arguments.length,Et=$e<3?be:null===Be?Be=Object.getOwnPropertyDescriptor(be,ge):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(we,be,ge,Be);else for(var ut=we.length-1;ut>=0;ut--)(Ot=we[ut])&&(Et=($e<3?Ot(Et):$e>3?Ot(be,ge,Et):Ot(be,ge))||Et);return $e>3&&Et&&Object.defineProperty(be,ge,Et),Et}function re(we,be,ge,Be){return new(ge||(ge=Promise))(function(Et,Ot){function ut(Ce){try{q(Be.next(Ce))}catch(Ze){Ot(Ze)}}function ze(Ce){try{q(Be.throw(Ce))}catch(Ze){Ot(Ze)}}function q(Ce){Ce.done?Et(Ce.value):function $e(Et){return Et instanceof ge?Et:new ge(function(Ot){Ot(Et)})}(Ce.value).then(ut,ze)}q((Be=Be.apply(we,be||[])).next())})}N.d(lt,{_T:()=>ke,gn:()=>Te,mG:()=>re})},9808:(Qt,lt,N)=>{"use strict";N.d(lt,{mr:()=>et,ez:()=>oo,H9:()=>js,K0:()=>_e,uU:()=>ur,JJ:()=>xs,Do:()=>Ye,V_:()=>Z,Ye:()=>yt,S$:()=>Oe,mk:()=>ci,sg:()=>zr,O5:()=>ne,PC:()=>fn,tP:()=>bn,b0:()=>rt,lw:()=>re,EM:()=>Ko,JF:()=>Er,PM:()=>Ns,w_:()=>te,bD:()=>is,q:()=>W,Mx:()=>Gr,HT:()=>Te});var c=N(5e3);let z=null;function W(){return z}function Te(U){z||(z=U)}class te{}const _e=new c.OlP("DocumentToken");let re=(()=>{class U{historyGo($){throw new Error("Not implemented")}}return U.\u0275fac=function($){return new($||U)},U.\u0275prov=c.Yz7({token:U,factory:function(){return function Ie(){return(0,c.LFG)(pe)}()},providedIn:"platform"}),U})();const Z=new c.OlP("Location Initialized");let pe=(()=>{class U extends re{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState($){const fe=W().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",$,!1),()=>fe.removeEventListener("popstate",$)}onHashChange($){const fe=W().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",$,!1),()=>fe.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,fe,Je){ee()?this._history.pushState($,fe,Je):this.location.hash=Je}replaceState($,fe,Je){ee()?this._history.replaceState($,fe,Je):this.location.hash=Je}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return U.\u0275fac=function($){return new($||U)(c.LFG(_e))},U.\u0275prov=c.Yz7({token:U,factory:function(){return function le(){return new pe((0,c.LFG)(_e))}()},providedIn:"platform"}),U})();function ee(){return!!window.history.pushState}function Fe(U,ae){if(0==U.length)return ae;if(0==ae.length)return U;let $=0;return U.endsWith("/")&&$++,ae.startsWith("/")&&$++,2==$?U+ae.substring(1):1==$?U+ae:U+"/"+ae}function He(U){const ae=U.match(/#|\?|$/),$=ae&&ae.index||U.length;return U.slice(0,$-("/"===U[$-1]?1:0))+U.slice($)}function De(U){return U&&"?"!==U[0]?"?"+U:U}let Oe=(()=>{class U{historyGo($){throw new Error("Not implemented")}}return U.\u0275fac=function($){return new($||U)},U.\u0275prov=c.Yz7({token:U,factory:function(){return function Le(U){const ae=(0,c.LFG)(_e).location;return new rt((0,c.LFG)(re),ae&&ae.origin||"")}()},providedIn:"root"}),U})();const et=new c.OlP("appBaseHref");let rt=(()=>{class U extends Oe{constructor($,fe){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==fe&&(fe=this._platformLocation.getBaseHrefFromDOM()),null==fe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=fe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Fe(this._baseHref,$)}path($=!1){const fe=this._platformLocation.pathname+De(this._platformLocation.search),Je=this._platformLocation.hash;return Je&&$?`${fe}${Je}`:fe}pushState($,fe,Je,Mt){const Yt=this.prepareExternalUrl(Je+De(Mt));this._platformLocation.pushState($,fe,Yt)}replaceState($,fe,Je,Mt){const Yt=this.prepareExternalUrl(Je+De(Mt));this._platformLocation.replaceState($,fe,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var fe,Je;null===(Je=(fe=this._platformLocation).historyGo)||void 0===Je||Je.call(fe,$)}}return U.\u0275fac=function($){return new($||U)(c.LFG(re),c.LFG(et,8))},U.\u0275prov=c.Yz7({token:U,factory:U.\u0275fac}),U})(),Ye=(()=>{class U extends Oe{constructor($,fe){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl($){const fe=Fe(this._baseHref,$);return fe.length>0?"#"+fe:fe}pushState($,fe,Je,Mt){let Yt=this.prepareExternalUrl(Je+De(Mt));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.pushState($,fe,Yt)}replaceState($,fe,Je,Mt){let Yt=this.prepareExternalUrl(Je+De(Mt));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.replaceState($,fe,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var fe,Je;null===(Je=(fe=this._platformLocation).historyGo)||void 0===Je||Je.call(fe,$)}}return U.\u0275fac=function($){return new($||U)(c.LFG(re),c.LFG(et,8))},U.\u0275prov=c.Yz7({token:U,factory:U.\u0275fac}),U})(),yt=(()=>{class U{constructor($,fe){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const Je=this._platformStrategy.getBaseHref();this._platformLocation=fe,this._baseHref=He(_t(Je)),this._platformStrategy.onPopState(Mt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mt.state,type:Mt.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,fe=""){return this.path()==this.normalize($+De(fe))}normalize($){return U.stripTrailingSlash(function gt(U,ae){return U&&ae.startsWith(U)?ae.substring(U.length):ae}(this._baseHref,_t($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,fe="",Je=null){this._platformStrategy.pushState(Je,"",$,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+De(fe)),Je)}replaceState($,fe="",Je=null){this._platformStrategy.replaceState(Je,"",$,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+De(fe)),Je)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var fe,Je;null===(Je=(fe=this._platformStrategy).historyGo)||void 0===Je||Je.call(fe,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)}))}_notifyUrlChangeListeners($="",fe){this._urlChangeListeners.forEach(Je=>Je($,fe))}subscribe($,fe,Je){return this._subject.subscribe({next:$,error:fe,complete:Je})}}return U.normalizeQueryParams=De,U.joinWithSlash=Fe,U.stripTrailingSlash=He,U.\u0275fac=function($){return new($||U)(c.LFG(Oe),c.LFG(re))},U.\u0275prov=c.Yz7({token:U,factory:function(){return function Pt(){return new yt((0,c.LFG)(Oe),(0,c.LFG)(re))}()},providedIn:"root"}),U})();function _t(U){return U.replace(/\/index.html$/,"")}const Ee={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var nt=(()=>((nt=nt||{})[nt.Decimal=0]="Decimal",nt[nt.Percent=1]="Percent",nt[nt.Currency=2]="Currency",nt[nt.Scientific=3]="Scientific",nt))(),be=(()=>((be=be||{})[be.Format=0]="Format",be[be.Standalone=1]="Standalone",be))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Be=(()=>((Be=Be||{})[Be.Short=0]="Short",Be[Be.Medium=1]="Medium",Be[Be.Long=2]="Long",Be[Be.Full=3]="Full",Be))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function st(U,ae){return hr((0,c.cg1)(U)[c.wAp.DateFormat],ae)}function Xt(U,ae){return hr((0,c.cg1)(U)[c.wAp.TimeFormat],ae)}function ct(U,ae){return hr((0,c.cg1)(U)[c.wAp.DateTimeFormat],ae)}function ft(U,ae){const $=(0,c.cg1)(U),fe=$[c.wAp.NumberSymbols][ae];if(void 0===fe){if(ae===$e.CurrencyDecimal)return $[c.wAp.NumberSymbols][$e.Decimal];if(ae===$e.CurrencyGroup)return $[c.wAp.NumberSymbols][$e.Group]}return fe}function Nt(U,ae){return(0,c.cg1)(U)[c.wAp.NumberFormats][ae]}function er(U){if(!U[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hr(U,ae){for(let $=ae;$>-1;$--)if(void 0!==U[$])return U[$];throw new Error("Locale data API: locale data undefined")}function vr(U){const[ae,$]=U.split(":");return{hours:+ae,minutes:+$}}const Ge=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ae={},Wt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),Gt=(()=>((Gt=Gt||{})[Gt.FullYear=0]="FullYear",Gt[Gt.Month=1]="Month",Gt[Gt.Date=2]="Date",Gt[Gt.Hours=3]="Hours",Gt[Gt.Minutes=4]="Minutes",Gt[Gt.Seconds=5]="Seconds",Gt[Gt.FractionalSeconds=6]="FractionalSeconds",Gt[Gt.Day=7]="Day",Gt))(),dn=(()=>((dn=dn||{})[dn.DayPeriods=0]="DayPeriods",dn[dn.Days=1]="Days",dn[dn.Months=2]="Months",dn[dn.Eras=3]="Eras",dn))();function Ln(U,ae,$,fe){let Je=function Xi(U){if(Hr(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Je,Mt=1,Yt=1]=U.split("-").map(xn=>+xn);return Vn(Je,Mt-1,Yt)}const $=parseFloat(U);if(!isNaN(U-$))return new Date($);let fe;if(fe=U.match(Ge))return function ki(U){const ae=new Date(0);let $=0,fe=0;const Je=U[8]?ae.setUTCFullYear:ae.setFullYear,Mt=U[8]?ae.setUTCHours:ae.setHours;U[9]&&($=Number(U[9]+U[10]),fe=Number(U[9]+U[11])),Je.call(ae,Number(U[1]),Number(U[2])-1,Number(U[3]));const Yt=Number(U[4]||0)-$,xn=Number(U[5]||0)-fe,Jn=Number(U[6]||0),Sr=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return Mt.call(ae,Yt,xn,Jn,Sr),ae}(fe)}const ae=new Date(U);if(!Hr(ae))throw new Error(`Unable to convert "${U}" into a date`);return ae}(U);ae=Tn($,ae)||ae;let xn,Yt=[];for(;ae;){if(xn=Wt.exec(ae),!xn){Yt.push(ae);break}{Yt=Yt.concat(xn.slice(1));const Wn=Yt.pop();if(!Wn)break;ae=Wn}}let Jn=Je.getTimezoneOffset();fe&&(Jn=Cr(fe,Jn),Je=function ri(U,ae,$){const fe=$?-1:1,Je=U.getTimezoneOffset();return function Hi(U,ae){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ae),U}(U,fe*(Cr(ae,Je)-Je))}(Je,fe,!0));let Sr="";return Yt.forEach(Wn=>{const rr=function an(U){if(un[U])return un[U];let ae;switch(U){case"G":case"GG":case"GGG":ae=Qe(dn.Eras,ge.Abbreviated);break;case"GGGG":ae=Qe(dn.Eras,ge.Wide);break;case"GGGGG":ae=Qe(dn.Eras,ge.Narrow);break;case"y":ae=Re(Gt.FullYear,1,0,!1,!0);break;case"yy":ae=Re(Gt.FullYear,2,0,!0,!0);break;case"yyy":ae=Re(Gt.FullYear,3,0,!1,!0);break;case"yyyy":ae=Re(Gt.FullYear,4,0,!1,!0);break;case"Y":ae=fr(1);break;case"YY":ae=fr(2,!0);break;case"YYY":ae=fr(3);break;case"YYYY":ae=fr(4);break;case"M":case"L":ae=Re(Gt.Month,1,1);break;case"MM":case"LL":ae=Re(Gt.Month,2,1);break;case"MMM":ae=Qe(dn.Months,ge.Abbreviated);break;case"MMMM":ae=Qe(dn.Months,ge.Wide);break;case"MMMMM":ae=Qe(dn.Months,ge.Narrow);break;case"LLL":ae=Qe(dn.Months,ge.Abbreviated,be.Standalone);break;case"LLLL":ae=Qe(dn.Months,ge.Wide,be.Standalone);break;case"LLLLL":ae=Qe(dn.Months,ge.Narrow,be.Standalone);break;case"w":ae=On(1);break;case"ww":ae=On(2);break;case"W":ae=On(1,!0);break;case"d":ae=Re(Gt.Date,1);break;case"dd":ae=Re(Gt.Date,2);break;case"c":case"cc":ae=Re(Gt.Day,1);break;case"ccc":ae=Qe(dn.Days,ge.Abbreviated,be.Standalone);break;case"cccc":ae=Qe(dn.Days,ge.Wide,be.Standalone);break;case"ccccc":ae=Qe(dn.Days,ge.Narrow,be.Standalone);break;case"cccccc":ae=Qe(dn.Days,ge.Short,be.Standalone);break;case"E":case"EE":case"EEE":ae=Qe(dn.Days,ge.Abbreviated);break;case"EEEE":ae=Qe(dn.Days,ge.Wide);break;case"EEEEE":ae=Qe(dn.Days,ge.Narrow);break;case"EEEEEE":ae=Qe(dn.Days,ge.Short);break;case"a":case"aa":case"aaa":ae=Qe(dn.DayPeriods,ge.Abbreviated);break;case"aaaa":ae=Qe(dn.DayPeriods,ge.Wide);break;case"aaaaa":ae=Qe(dn.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":ae=Qe(dn.DayPeriods,ge.Abbreviated,be.Standalone,!0);break;case"bbbb":ae=Qe(dn.DayPeriods,ge.Wide,be.Standalone,!0);break;case"bbbbb":ae=Qe(dn.DayPeriods,ge.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":ae=Qe(dn.DayPeriods,ge.Abbreviated,be.Format,!0);break;case"BBBB":ae=Qe(dn.DayPeriods,ge.Wide,be.Format,!0);break;case"BBBBB":ae=Qe(dn.DayPeriods,ge.Narrow,be.Format,!0);break;case"h":ae=Re(Gt.Hours,1,-12);break;case"hh":ae=Re(Gt.Hours,2,-12);break;case"H":ae=Re(Gt.Hours,1);break;case"HH":ae=Re(Gt.Hours,2);break;case"m":ae=Re(Gt.Minutes,1);break;case"mm":ae=Re(Gt.Minutes,2);break;case"s":ae=Re(Gt.Seconds,1);break;case"ss":ae=Re(Gt.Seconds,2);break;case"S":ae=Re(Gt.FractionalSeconds,1);break;case"SS":ae=Re(Gt.FractionalSeconds,2);break;case"SSS":ae=Re(Gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ae=We(At.Short);break;case"ZZZZZ":ae=We(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ae=We(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ae=We(At.Long);break;default:return null}return un[U]=ae,ae}(Wn);Sr+=rr?rr(Je,$,Jn):"''"===Wn?"'":Wn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Sr}function Vn(U,ae,$){const fe=new Date(0);return fe.setFullYear(U,ae,$),fe.setHours(0,0,0),fe}function Tn(U,ae){const $=function Ot(U){return(0,c.cg1)(U)[c.wAp.LocaleId]}(U);if(Ae[$]=Ae[$]||{},Ae[$][ae])return Ae[$][ae];let fe="";switch(ae){case"shortDate":fe=st(U,Be.Short);break;case"mediumDate":fe=st(U,Be.Medium);break;case"longDate":fe=st(U,Be.Long);break;case"fullDate":fe=st(U,Be.Full);break;case"shortTime":fe=Xt(U,Be.Short);break;case"mediumTime":fe=Xt(U,Be.Medium);break;case"longTime":fe=Xt(U,Be.Long);break;case"fullTime":fe=Xt(U,Be.Full);break;case"short":const Je=Tn(U,"shortTime"),Mt=Tn(U,"shortDate");fe=ai(ct(U,Be.Short),[Je,Mt]);break;case"medium":const Yt=Tn(U,"mediumTime"),xn=Tn(U,"mediumDate");fe=ai(ct(U,Be.Medium),[Yt,xn]);break;case"long":const Jn=Tn(U,"longTime"),Sr=Tn(U,"longDate");fe=ai(ct(U,Be.Long),[Jn,Sr]);break;case"full":const Wn=Tn(U,"fullTime"),rr=Tn(U,"fullDate");fe=ai(ct(U,Be.Full),[Wn,rr])}return fe&&(Ae[$][ae]=fe),fe}function ai(U,ae){return ae&&(U=U.replace(/\{([^}]+)}/g,function($,fe){return null!=ae&&fe in ae?ae[fe]:$})),U}function Lr(U,ae,$="-",fe,Je){let Mt="";(U<0||Je&&U<=0)&&(Je?U=1-U:(U=-U,Mt=$));let Yt=String(U);for(;Yt.length<ae;)Yt="0"+Yt;return fe&&(Yt=Yt.substr(Yt.length-ae)),Mt+Yt}function Re(U,ae,$=0,fe=!1,Je=!1){return function(Mt,Yt){let xn=function Ke(U,ae){switch(U){case Gt.FullYear:return ae.getFullYear();case Gt.Month:return ae.getMonth();case Gt.Date:return ae.getDate();case Gt.Hours:return ae.getHours();case Gt.Minutes:return ae.getMinutes();case Gt.Seconds:return ae.getSeconds();case Gt.FractionalSeconds:return ae.getMilliseconds();case Gt.Day:return ae.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,Mt);if(($>0||xn>-$)&&(xn+=$),U===Gt.Hours)0===xn&&-12===$&&(xn=12);else if(U===Gt.FractionalSeconds)return function qn(U,ae){return Lr(U,3).substr(0,ae)}(xn,ae);const Jn=ft(Yt,$e.MinusSign);return Lr(xn,ae,Jn,fe,Je)}}function Qe(U,ae,$=be.Format,fe=!1){return function(Je,Mt){return function Bt(U,ae,$,fe,Je,Mt){switch($){case dn.Months:return function q(U,ae,$){const fe=(0,c.cg1)(U),Mt=hr([fe[c.wAp.MonthsFormat],fe[c.wAp.MonthsStandalone]],ae);return hr(Mt,$)}(ae,Je,fe)[U.getMonth()];case dn.Days:return function ze(U,ae,$){const fe=(0,c.cg1)(U),Mt=hr([fe[c.wAp.DaysFormat],fe[c.wAp.DaysStandalone]],ae);return hr(Mt,$)}(ae,Je,fe)[U.getDay()];case dn.DayPeriods:const Yt=U.getHours(),xn=U.getMinutes();if(Mt){const Sr=function Zn(U){const ae=(0,c.cg1)(U);return er(ae),(ae[c.wAp.ExtraData][2]||[]).map(fe=>"string"==typeof fe?vr(fe):[vr(fe[0]),vr(fe[1])])}(ae),Wn=function yn(U,ae,$){const fe=(0,c.cg1)(U);er(fe);const Mt=hr([fe[c.wAp.ExtraData][0],fe[c.wAp.ExtraData][1]],ae)||[];return hr(Mt,$)||[]}(ae,Je,fe),rr=Sr.findIndex(mi=>{if(Array.isArray(mi)){const[Wr,Jr]=mi,os=Yt>=Wr.hours&&xn>=Wr.minutes,ys=Yt<Jr.hours||Yt===Jr.hours&&xn<Jr.minutes;if(Wr.hours<Jr.hours){if(os&&ys)return!0}else if(os||ys)return!0}else if(mi.hours===Yt&&mi.minutes===xn)return!0;return!1});if(-1!==rr)return Wn[rr]}return function ut(U,ae,$){const fe=(0,c.cg1)(U),Mt=hr([fe[c.wAp.DayPeriodsFormat],fe[c.wAp.DayPeriodsStandalone]],ae);return hr(Mt,$)}(ae,Je,fe)[Yt<12?0:1];case dn.Eras:return function Ce(U,ae){return hr((0,c.cg1)(U)[c.wAp.Eras],ae)}(ae,fe)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${$}`)}}(Je,Mt,U,ae,$,fe)}}function We(U){return function(ae,$,fe){const Je=-1*fe,Mt=ft($,$e.MinusSign),Yt=Je>0?Math.floor(Je/60):Math.ceil(Je/60);switch(U){case At.Short:return(Je>=0?"+":"")+Lr(Yt,2,Mt)+Lr(Math.abs(Je%60),2,Mt);case At.ShortGMT:return"GMT"+(Je>=0?"+":"")+Lr(Yt,1,Mt);case At.Long:return"GMT"+(Je>=0?"+":"")+Lr(Yt,2,Mt)+":"+Lr(Math.abs(Je%60),2,Mt);case At.Extended:return 0===fe?"Z":(Je>=0?"+":"")+Lr(Yt,2,Mt)+":"+Lr(Math.abs(Je%60),2,Mt);default:throw new Error(`Unknown zone width "${U}"`)}}}function Sn(U){return Vn(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function On(U,ae=!1){return function($,fe){let Je;if(ae){const Mt=new Date($.getFullYear(),$.getMonth(),1).getDay()-1,Yt=$.getDate();Je=1+Math.floor((Yt+Mt)/7)}else{const Mt=Sn($),Yt=function En(U){const ae=Vn(U,0,1).getDay();return Vn(U,0,1+(ae<=4?4:11)-ae)}(Mt.getFullYear()),xn=Mt.getTime()-Yt.getTime();Je=1+Math.round(xn/6048e5)}return Lr(Je,U,ft(fe,$e.MinusSign))}}function fr(U,ae=!1){return function($,fe){return Lr(Sn($).getFullYear(),U,ft(fe,$e.MinusSign),ae)}}const un={};function Cr(U,ae){U=U.replace(/:/g,"");const $=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN($)?ae:$}function Hr(U){return U instanceof Date&&!isNaN(U.valueOf())}const vi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pr(U,ae,$,fe,Je,Mt,Yt=!1){let xn="",Jn=!1;if(isFinite(U)){let Sr=function qr(U){let fe,Je,Mt,Yt,xn,ae=Math.abs(U)+"",$=0;for((Je=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(Mt=ae.search(/e/i))>0?(Je<0&&(Je=Mt),Je+=+ae.slice(Mt+1),ae=ae.substring(0,Mt)):Je<0&&(Je=ae.length),Mt=0;"0"===ae.charAt(Mt);Mt++);if(Mt===(xn=ae.length))fe=[0],Je=1;else{for(xn--;"0"===ae.charAt(xn);)xn--;for(Je-=Mt,fe=[],Yt=0;Mt<=xn;Mt++,Yt++)fe[Yt]=Number(ae.charAt(Mt))}return Je>22&&(fe=fe.splice(0,21),$=Je-1,Je=1),{digits:fe,exponent:$,integerLen:Je}}(U);Yt&&(Sr=function Ur(U){if(0===U.digits[0])return U;const ae=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===ae?U.digits.push(0,0):1===ae&&U.digits.push(0),U.integerLen+=2),U}(Sr));let Wn=ae.minInt,rr=ae.minFrac,mi=ae.maxFrac;if(Mt){const Fs=Mt.match(vi);if(null===Fs)throw new Error(`${Mt} is not a valid digit info`);const G=Fs[1],B=Fs[3],L=Fs[5];null!=G&&(Wn=Ti(G)),null!=B&&(rr=Ti(B)),null!=L?mi=Ti(L):null!=B&&rr>mi&&(mi=rr)}!function sr(U,ae,$){if(ae>$)throw new Error(`The minimum number of digits after fraction (${ae}) is higher than the maximum (${$}).`);let fe=U.digits,Je=fe.length-U.integerLen;const Mt=Math.min(Math.max(ae,Je),$);let Yt=Mt+U.integerLen,xn=fe[Yt];if(Yt>0){fe.splice(Math.max(U.integerLen,Yt));for(let rr=Yt;rr<fe.length;rr++)fe[rr]=0}else{Je=Math.max(0,Je),U.integerLen=1,fe.length=Math.max(1,Yt=Mt+1),fe[0]=0;for(let rr=1;rr<Yt;rr++)fe[rr]=0}if(xn>=5)if(Yt-1<0){for(let rr=0;rr>Yt;rr--)fe.unshift(0),U.integerLen++;fe.unshift(1),U.integerLen++}else fe[Yt-1]++;for(;Je<Math.max(0,Mt);Je++)fe.push(0);let Jn=0!==Mt;const Sr=ae+U.integerLen,Wn=fe.reduceRight(function(rr,mi,Wr,Jr){return Jr[Wr]=(mi+=rr)<10?mi:mi-10,Jn&&(0===Jr[Wr]&&Wr>=Sr?Jr.pop():Jn=!1),mi>=10?1:0},0);Wn&&(fe.unshift(Wn),U.integerLen++)}(Sr,rr,mi);let Wr=Sr.digits,Jr=Sr.integerLen;const os=Sr.exponent;let ys=[];for(Jn=Wr.every(Fs=>!Fs);Jr<Wn;Jr++)Wr.unshift(0);for(;Jr<0;Jr++)Wr.unshift(0);Jr>0?ys=Wr.splice(Jr,Wr.length):(ys=Wr,Wr=[0]);const Gn=[];for(Wr.length>=ae.lgSize&&Gn.unshift(Wr.splice(-ae.lgSize,Wr.length).join(""));Wr.length>ae.gSize;)Gn.unshift(Wr.splice(-ae.gSize,Wr.length).join(""));Wr.length&&Gn.unshift(Wr.join("")),xn=Gn.join(ft($,fe)),ys.length&&(xn+=ft($,Je)+ys.join("")),os&&(xn+=ft($,$e.Exponential)+"+"+os)}else xn=ft($,$e.Infinity);return xn=U<0&&!Jn?ae.negPre+xn+ae.negSuf:ae.posPre+xn+ae.posSuf,xn}function ye(U,ae="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},fe=U.split(";"),Je=fe[0],Mt=fe[1],Yt=-1!==Je.indexOf(".")?Je.split("."):[Je.substring(0,Je.lastIndexOf("0")+1),Je.substring(Je.lastIndexOf("0")+1)],xn=Yt[0],Jn=Yt[1]||"";$.posPre=xn.substr(0,xn.indexOf("#"));for(let Wn=0;Wn<Jn.length;Wn++){const rr=Jn.charAt(Wn);"0"===rr?$.minFrac=$.maxFrac=Wn+1:"#"===rr?$.maxFrac=Wn+1:$.posSuf+=rr}const Sr=xn.split(",");if($.gSize=Sr[1]?Sr[1].length:0,$.lgSize=Sr[2]||Sr[1]?(Sr[2]||Sr[1]).length:0,Mt){const Wn=Je.length-$.posPre.length-$.posSuf.length,rr=Mt.indexOf("#");$.negPre=Mt.substr(0,rr).replace(/'/g,""),$.negSuf=Mt.substr(rr+Wn).replace(/'/g,"")}else $.negPre=ae+$.posPre,$.negSuf=$.posSuf;return $}function Ti(U){const ae=parseInt(U);if(isNaN(ae))throw new Error("Invalid integer literal when parsing "+U);return ae}function Gr(U,ae){ae=encodeURIComponent(ae);for(const $ of U.split(";")){const fe=$.indexOf("="),[Je,Mt]=-1==fe?[$,""]:[$.slice(0,fe),$.slice(fe+1)];if(Je.trim()===ae)return decodeURIComponent(Mt)}return null}let ci=(()=>{class U{constructor($,fe,Je,Mt){this._iterableDiffers=$,this._keyValueDiffers=fe,this._ngEl=Je,this._renderer=Mt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),$.forEachChangedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),$.forEachRemovedItem(fe=>{fe.previousValue&&this._toggleClass(fe.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(fe=>{if("string"!=typeof fe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(fe.item)}`);this._toggleClass(fe.item,!0)}),$.forEachRemovedItem(fe=>this._toggleClass(fe.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(fe=>this._toggleClass(fe,!0)):Object.keys($).forEach(fe=>this._toggleClass(fe,!!$[fe])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(fe=>this._toggleClass(fe,!1)):Object.keys($).forEach(fe=>this._toggleClass(fe,!1)))}_toggleClass($,fe){($=$.trim())&&$.split(/\s+/g).forEach(Je=>{fe?this._renderer.addClass(this._ngEl.nativeElement,Je):this._renderer.removeClass(this._ngEl.nativeElement,Je)})}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class Si{constructor(ae,$,fe,Je){this.$implicit=ae,this.ngForOf=$,this.index=fe,this.count=Je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class U{constructor($,fe,Je){this._viewContainer=$,this._template=fe,this._differs=Je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const fe=this._viewContainer;$.forEachOperation((Je,Mt,Yt)=>{if(null==Je.previousIndex)fe.createEmbeddedView(this._template,new Si(Je.item,this._ngForOf,-1,-1),null===Yt?void 0:Yt);else if(null==Yt)fe.remove(null===Mt?void 0:Mt);else if(null!==Mt){const xn=fe.get(Mt);fe.move(xn,Yt),pi(xn,Je)}});for(let Je=0,Mt=fe.length;Je<Mt;Je++){const xn=fe.get(Je).context;xn.index=Je,xn.count=Mt,xn.ngForOf=this._ngForOf}$.forEachIdentityChange(Je=>{pi(fe.get(Je.currentIndex),Je)})}static ngTemplateContextGuard($,fe){return!0}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function pi(U,ae){U.context.$implicit=ae.item}let ne=(()=>{class U{constructor($,fe){this._viewContainer=$,this._context=new ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){tt("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){tt("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,fe){return!0}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.s_b),c.Y36(c.Rgc))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class ve{constructor(){this.$implicit=null,this.ngIf=null}}function tt(U,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,c.AaK)(ae)}'.`)}let fn=(()=>{class U{constructor($,fe,Je){this._ngEl=$,this._differs=fe,this._renderer=Je,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,fe){const[Je,Mt]=$.split(".");null!=(fe=null!=fe&&Mt?`${fe}${Mt}`:fe)?this._renderer.setStyle(this._ngEl.nativeElement,Je,fe):this._renderer.removeStyle(this._ngEl.nativeElement,Je)}_applyChanges($){$.forEachRemovedItem(fe=>this._setStyle(fe.key,null)),$.forEachAddedItem(fe=>this._setStyle(fe.key,fe.currentValue)),$.forEachChangedItem(fe=>this._setStyle(fe.key,fe.currentValue))}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),U})(),bn=(()=>{class U{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const fe=this._viewContainerRef;this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?fe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.s_b))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),U})();function nr(U,ae){return new c.vHH(2100,"")}const ii=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ur=(()=>{class U{constructor($,fe){this.locale=$,this.defaultTimezone=fe}transform($,fe="mediumDate",Je,Mt){var Yt;if(null==$||""===$||$!=$)return null;try{return Ln($,fe,Mt||this.locale,null!==(Yt=null!=Je?Je:this.defaultTimezone)&&void 0!==Yt?Yt:void 0)}catch(xn){throw nr()}}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.soG,16),c.Y36(ii,24))},U.\u0275pipe=c.Yjl({name:"date",type:U,pure:!0}),U})(),xs=(()=>{class U{constructor($){this._locale=$}transform($,fe,Je){if(!gi($))return null;Je=Je||this._locale;try{return function Cn(U,ae,$){return pr(U,ye(Nt(ae,nt.Decimal),ft(ae,$e.MinusSign)),ae,$e.Group,$e.Decimal,$)}(si($),Je,fe)}catch(Mt){throw nr()}}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.soG,16))},U.\u0275pipe=c.Yjl({name:"number",type:U,pure:!0}),U})(),js=(()=>{class U{constructor($,fe="USD"){this._locale=$,this._defaultCurrencyCode=fe}transform($,fe=this._defaultCurrencyCode,Je="symbol",Mt,Yt){if(!gi($))return null;Yt=Yt||this._locale,"boolean"==typeof Je&&(Je=Je?"symbol":"code");let xn=fe||this._defaultCurrencyCode;"code"!==Je&&(xn="symbol"===Je||"symbol-narrow"===Je?function Pr(U,ae,$="en"){const fe=function Fn(U){return(0,c.cg1)(U)[c.wAp.Currencies]}($)[U]||Ee[U]||[],Je=fe[1];return"narrow"===ae&&"string"==typeof Je?Je:fe[0]||U}(xn,"symbol"===Je?"wide":"narrow",Yt):Je);try{return function Vr(U,ae,$,fe,Je){const Yt=ye(Nt(ae,nt.Currency),ft(ae,$e.MinusSign));return Yt.minFrac=function bt(U){let ae;const $=Ee[U];return $&&(ae=$[2]),"number"==typeof ae?ae:2}(fe),Yt.maxFrac=Yt.minFrac,pr(U,Yt,ae,$e.CurrencyGroup,$e.CurrencyDecimal,Je).replace("\xa4",$).replace("\xa4","").trim()}(si($),Yt,xn,fe,Mt)}catch(Jn){throw nr()}}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},U.\u0275pipe=c.Yjl({name:"currency",type:U,pure:!0}),U})();function gi(U){return!(null==U||""===U||U!=U)}function si(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}let oo=(()=>{class U{}return U.\u0275fac=function($){return new($||U)},U.\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({}),U})();const is="browser";function Ns(U){return"server"===U}let Ko=(()=>{class U{}return U.\u0275prov=(0,c.Yz7)({token:U,providedIn:"root",factory:()=>new Ms((0,c.LFG)(_e),window)}),U})();class Ms{constructor(ae,$){this.document=ae,this.window=$,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const $=function oi(U,ae){const $=U.getElementById(ae)||U.getElementsByName(ae)[0];if($)return $;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const fe=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Je=fe.currentNode;for(;Je;){const Mt=Je.shadowRoot;if(Mt){const Yt=Mt.getElementById(ae)||Mt.querySelector(`[name="${ae}"]`);if(Yt)return Yt}Je=fe.nextNode()}}return null}(this.document,ae);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=ae)}}scrollToElement(ae){const $=ae.getBoundingClientRect(),fe=$.left+this.window.pageXOffset,Je=$.top+this.window.pageYOffset,Mt=this.offset();this.window.scrollTo(fe-Mt[0],Je-Mt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=ss(this.window.history)||ss(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch(ae){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ae){return!1}}}function ss(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Er{}},520:(Qt,lt,N)=>{"use strict";N.d(lt,{eN:()=>$e,JF:()=>vr,WM:()=>Z});var c=N(9808),z=N(5e3),W=N(1086),ke=N(2916),Te=N(1406),te=N(2198),_e=N(4850);class re{}class Ie{}class Z{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?this.lazyInit="string"==typeof Ge?()=>{this.headers=new Map,Ge.split("\n").forEach(Ae=>{const Wt=Ae.indexOf(":");if(Wt>0){const At=Ae.slice(0,Wt),Gt=At.toLowerCase(),dn=Ae.slice(Wt+1).trim();this.maybeSetNormalizedName(At,Gt),this.headers.has(Gt)?this.headers.get(Gt).push(dn):this.headers.set(Gt,[dn])}})}:()=>{this.headers=new Map,Object.keys(Ge).forEach(Ae=>{let Wt=Ge[Ae];const At=Ae.toLowerCase();"string"==typeof Wt&&(Wt=[Wt]),Wt.length>0&&(this.headers.set(At,Wt),this.maybeSetNormalizedName(Ae,At))})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const Ae=this.headers.get(Ge.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,Ae){return this.clone({name:Ge,value:Ae,op:"a"})}set(Ge,Ae){return this.clone({name:Ge,value:Ae,op:"s"})}delete(Ge,Ae){return this.clone({name:Ge,value:Ae,op:"d"})}maybeSetNormalizedName(Ge,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof Z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(Ae=>{this.headers.set(Ae,Ge.headers.get(Ae)),this.normalizedNames.set(Ae,Ge.normalizedNames.get(Ae))})}clone(Ge){const Ae=new Z;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof Z?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),Ae}applyUpdate(Ge){const Ae=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let Wt=Ge.value;if("string"==typeof Wt&&(Wt=[Wt]),0===Wt.length)return;this.maybeSetNormalizedName(Ge.name,Ae);const At=("a"===Ge.op?this.headers.get(Ae):void 0)||[];At.push(...Wt),this.headers.set(Ae,At);break;case"d":const Gt=Ge.value;if(Gt){let dn=this.headers.get(Ae);if(!dn)return;dn=dn.filter(Ln=>-1===Gt.indexOf(Ln)),0===dn.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,dn)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>Ge(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class pe{encodeKey(Ge){return He(Ge)}encodeValue(Ge){return He(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const le=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function He(bt){return encodeURIComponent(bt).replace(le,(Ge,Ae)=>{var Wt;return null!==(Wt=Fe[Ae])&&void 0!==Wt?Wt:Ge})}function De(bt){return`${bt}`}class Oe{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new pe,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ee(bt,Ge){const Ae=new Map;return bt.length>0&&bt.replace(/^\?/,"").split("&").forEach(At=>{const Gt=At.indexOf("="),[dn,Ln]=-1==Gt?[Ge.decodeKey(At),""]:[Ge.decodeKey(At.slice(0,Gt)),Ge.decodeValue(At.slice(Gt+1))],Vn=Ae.get(dn)||[];Vn.push(Ln),Ae.set(dn,Vn)}),Ae}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(Ae=>{const Wt=Ge.fromObject[Ae];this.map.set(Ae,Array.isArray(Wt)?Wt:[Wt])})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const Ae=this.map.get(Ge);return Ae?Ae[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,Ae){return this.clone({param:Ge,value:Ae,op:"a"})}appendAll(Ge){const Ae=[];return Object.keys(Ge).forEach(Wt=>{const At=Ge[Wt];Array.isArray(At)?At.forEach(Gt=>{Ae.push({param:Wt,value:Gt,op:"a"})}):Ae.push({param:Wt,value:At,op:"a"})}),this.clone(Ae)}set(Ge,Ae){return this.clone({param:Ge,value:Ae,op:"s"})}delete(Ge,Ae){return this.clone({param:Ge,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const Ae=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(Wt=>Ae+"="+this.encoder.encodeValue(Wt)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const Ae=new Oe({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(Ge),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const Ae=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];Ae.push(De(Ge.value)),this.map.set(Ge.param,Ae);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let Wt=this.map.get(Ge.param)||[];const At=Wt.indexOf(De(Ge.value));-1!==At&&Wt.splice(At,1),Wt.length>0?this.map.set(Ge.param,Wt):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class et{constructor(){this.map=new Map}set(Ge,Ae){return this.map.set(Ge,Ae),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function Ye(bt){return"undefined"!=typeof ArrayBuffer&&bt instanceof ArrayBuffer}function yt(bt){return"undefined"!=typeof Blob&&bt instanceof Blob}function Pt(bt){return"undefined"!=typeof FormData&&bt instanceof FormData}class _t{constructor(Ge,Ae,Wt,At){let Gt;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function rt(bt){switch(bt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==Wt?Wt:null,Gt=At):Gt=Wt,Gt&&(this.reportProgress=!!Gt.reportProgress,this.withCredentials=!!Gt.withCredentials,Gt.responseType&&(this.responseType=Gt.responseType),Gt.headers&&(this.headers=Gt.headers),Gt.context&&(this.context=Gt.context),Gt.params&&(this.params=Gt.params)),this.headers||(this.headers=new Z),this.context||(this.context=new et),this.params){const dn=this.params.toString();if(0===dn.length)this.urlWithParams=Ae;else{const Ln=Ae.indexOf("?");this.urlWithParams=Ae+(-1===Ln?"?":Ln<Ae.length-1?"&":"")+dn}}else this.params=new Oe,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:Ye(this.body)||yt(this.body)||Pt(this.body)||function gt(bt){return"undefined"!=typeof URLSearchParams&&bt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pt(this.body)?null:yt(this.body)?this.body.type||null:Ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){var Ae;const Wt=Ge.method||this.method,At=Ge.url||this.url,Gt=Ge.responseType||this.responseType,dn=void 0!==Ge.body?Ge.body:this.body,Ln=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,Vn=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let Tn=Ge.headers||this.headers,ai=Ge.params||this.params;const Lr=null!==(Ae=Ge.context)&&void 0!==Ae?Ae:this.context;return void 0!==Ge.setHeaders&&(Tn=Object.keys(Ge.setHeaders).reduce((qn,Re)=>qn.set(Re,Ge.setHeaders[Re]),Tn)),Ge.setParams&&(ai=Object.keys(Ge.setParams).reduce((qn,Re)=>qn.set(Re,Ge.setParams[Re]),ai)),new _t(Wt,At,dn,{params:ai,headers:Tn,context:Lr,reportProgress:Vn,responseType:Gt,withCredentials:Ln})}}var Ee=(()=>((Ee=Ee||{})[Ee.Sent=0]="Sent",Ee[Ee.UploadProgress=1]="UploadProgress",Ee[Ee.ResponseHeader=2]="ResponseHeader",Ee[Ee.DownloadProgress=3]="DownloadProgress",Ee[Ee.Response=4]="Response",Ee[Ee.User=5]="User",Ee))();class nt{constructor(Ge,Ae=200,Wt="OK"){this.headers=Ge.headers||new Z,this.status=void 0!==Ge.status?Ge.status:Ae,this.statusText=Ge.statusText||Wt,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class we extends nt{constructor(Ge={}){super(Ge),this.type=Ee.ResponseHeader}clone(Ge={}){return new we({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class be extends nt{constructor(Ge={}){super(Ge),this.type=Ee.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new be({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class ge extends nt{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function Be(bt,Ge){return{body:Ge,headers:bt.headers,context:bt.context,observe:bt.observe,params:bt.params,reportProgress:bt.reportProgress,responseType:bt.responseType,withCredentials:bt.withCredentials}}let $e=(()=>{class bt{constructor(Ae){this.handler=Ae}request(Ae,Wt,At={}){let Gt;if(Ae instanceof _t)Gt=Ae;else{let Vn,Tn;Vn=At.headers instanceof Z?At.headers:new Z(At.headers),At.params&&(Tn=At.params instanceof Oe?At.params:new Oe({fromObject:At.params})),Gt=new _t(Ae,Wt,void 0!==At.body?At.body:null,{headers:Vn,context:At.context,params:Tn,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials})}const dn=(0,W.of)(Gt).pipe((0,Te.b)(Vn=>this.handler.handle(Vn)));if(Ae instanceof _t||"events"===At.observe)return dn;const Ln=dn.pipe((0,te.h)(Vn=>Vn instanceof be));switch(At.observe||"body"){case"body":switch(Gt.responseType){case"arraybuffer":return Ln.pipe((0,_e.U)(Vn=>{if(null!==Vn.body&&!(Vn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vn.body}));case"blob":return Ln.pipe((0,_e.U)(Vn=>{if(null!==Vn.body&&!(Vn.body instanceof Blob))throw new Error("Response is not a Blob.");return Vn.body}));case"text":return Ln.pipe((0,_e.U)(Vn=>{if(null!==Vn.body&&"string"!=typeof Vn.body)throw new Error("Response is not a string.");return Vn.body}));default:return Ln.pipe((0,_e.U)(Vn=>Vn.body))}case"response":return Ln;default:throw new Error(`Unreachable: unhandled observe type ${At.observe}}`)}}delete(Ae,Wt={}){return this.request("DELETE",Ae,Wt)}get(Ae,Wt={}){return this.request("GET",Ae,Wt)}head(Ae,Wt={}){return this.request("HEAD",Ae,Wt)}jsonp(Ae,Wt){return this.request("JSONP",Ae,{params:(new Oe).append(Wt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,Wt={}){return this.request("OPTIONS",Ae,Wt)}patch(Ae,Wt,At={}){return this.request("PATCH",Ae,Be(At,Wt))}post(Ae,Wt,At={}){return this.request("POST",Ae,Be(At,Wt))}put(Ae,Wt,At={}){return this.request("PUT",Ae,Be(At,Wt))}}return bt.\u0275fac=function(Ae){return new(Ae||bt)(z.LFG(re))},bt.\u0275prov=z.Yz7({token:bt,factory:bt.\u0275fac}),bt})();class Et{constructor(Ge,Ae){this.next=Ge,this.interceptor=Ae}handle(Ge){return this.interceptor.intercept(Ge,this.next)}}const Ot=new z.OlP("HTTP_INTERCEPTORS");let ut=(()=>{class bt{intercept(Ae,Wt){return Wt.handle(Ae)}}return bt.\u0275fac=function(Ae){return new(Ae||bt)},bt.\u0275prov=z.Yz7({token:bt,factory:bt.\u0275fac}),bt})();const ft=/^\)\]\}',?\n/;let zt=(()=>{class bt{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ke.y(Wt=>{const At=this.xhrFactory.build();if(At.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(At.withCredentials=!0),Ae.headers.forEach((Re,Ke)=>At.setRequestHeader(Re,Ke.join(","))),Ae.headers.has("Accept")||At.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const Re=Ae.detectContentTypeHeader();null!==Re&&At.setRequestHeader("Content-Type",Re)}if(Ae.responseType){const Re=Ae.responseType.toLowerCase();At.responseType="json"!==Re?Re:"text"}const Gt=Ae.serializeBody();let dn=null;const Ln=()=>{if(null!==dn)return dn;const Re=At.statusText||"OK",Ke=new Z(At.getAllResponseHeaders()),Qe=function Nt(bt){return"responseURL"in bt&&bt.responseURL?bt.responseURL:/^X-Request-URL:/m.test(bt.getAllResponseHeaders())?bt.getResponseHeader("X-Request-URL"):null}(At)||Ae.url;return dn=new we({headers:Ke,status:At.status,statusText:Re,url:Qe}),dn},Vn=()=>{let{headers:Re,status:Ke,statusText:Qe,url:Bt}=Ln(),We=null;204!==Ke&&(We=void 0===At.response?At.responseText:At.response),0===Ke&&(Ke=We?200:0);let pt=Ke>=200&&Ke<300;if("json"===Ae.responseType&&"string"==typeof We){const qt=We;We=We.replace(ft,"");try{We=""!==We?JSON.parse(We):null}catch(En){We=qt,pt&&(pt=!1,We={error:En,text:We})}}pt?(Wt.next(new be({body:We,headers:Re,status:Ke,statusText:Qe,url:Bt||void 0})),Wt.complete()):Wt.error(new ge({error:We,headers:Re,status:Ke,statusText:Qe,url:Bt||void 0}))},Tn=Re=>{const{url:Ke}=Ln(),Qe=new ge({error:Re,status:At.status||0,statusText:At.statusText||"Unknown Error",url:Ke||void 0});Wt.error(Qe)};let ai=!1;const Lr=Re=>{ai||(Wt.next(Ln()),ai=!0);let Ke={type:Ee.DownloadProgress,loaded:Re.loaded};Re.lengthComputable&&(Ke.total=Re.total),"text"===Ae.responseType&&!!At.responseText&&(Ke.partialText=At.responseText),Wt.next(Ke)},qn=Re=>{let Ke={type:Ee.UploadProgress,loaded:Re.loaded};Re.lengthComputable&&(Ke.total=Re.total),Wt.next(Ke)};return At.addEventListener("load",Vn),At.addEventListener("error",Tn),At.addEventListener("timeout",Tn),At.addEventListener("abort",Tn),Ae.reportProgress&&(At.addEventListener("progress",Lr),null!==Gt&&At.upload&&At.upload.addEventListener("progress",qn)),At.send(Gt),Wt.next({type:Ee.Sent}),()=>{At.removeEventListener("error",Tn),At.removeEventListener("abort",Tn),At.removeEventListener("load",Vn),At.removeEventListener("timeout",Tn),Ae.reportProgress&&(At.removeEventListener("progress",Lr),null!==Gt&&At.upload&&At.upload.removeEventListener("progress",qn)),At.readyState!==At.DONE&&At.abort()}})}}return bt.\u0275fac=function(Ae){return new(Ae||bt)(z.LFG(c.JF))},bt.\u0275prov=z.Yz7({token:bt,factory:bt.\u0275fac}),bt})();const Jt=new z.OlP("XSRF_COOKIE_NAME"),hn=new z.OlP("XSRF_HEADER_NAME");class Fn{}let Bn=(()=>{class bt{constructor(Ae,Wt,At){this.doc=Ae,this.platform=Wt,this.cookieName=At,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}}return bt.\u0275fac=function(Ae){return new(Ae||bt)(z.LFG(c.K0),z.LFG(z.Lbi),z.LFG(Jt))},bt.\u0275prov=z.Yz7({token:bt,factory:bt.\u0275fac}),bt})(),er=(()=>{class bt{constructor(Ae,Wt){this.tokenService=Ae,this.headerName=Wt}intercept(Ae,Wt){const At=Ae.url.toLowerCase();if("GET"===Ae.method||"HEAD"===Ae.method||At.startsWith("http://")||At.startsWith("https://"))return Wt.handle(Ae);const Gt=this.tokenService.getToken();return null!==Gt&&!Ae.headers.has(this.headerName)&&(Ae=Ae.clone({headers:Ae.headers.set(this.headerName,Gt)})),Wt.handle(Ae)}}return bt.\u0275fac=function(Ae){return new(Ae||bt)(z.LFG(Fn),z.LFG(hn))},bt.\u0275prov=z.Yz7({token:bt,factory:bt.\u0275fac}),bt})(),Zn=(()=>{class bt{constructor(Ae,Wt){this.backend=Ae,this.injector=Wt,this.chain=null}handle(Ae){if(null===this.chain){const Wt=this.injector.get(Ot,[]);this.chain=Wt.reduceRight((At,Gt)=>new Et(At,Gt),this.backend)}return this.chain.handle(Ae)}}return bt.\u0275fac=function(Ae){return new(Ae||bt)(z.LFG(Ie),z.LFG(z.zs3))},bt.\u0275prov=z.Yz7({token:bt,factory:bt.\u0275fac}),bt})(),hr=(()=>{class bt{static disable(){return{ngModule:bt,providers:[{provide:er,useClass:ut}]}}static withOptions(Ae={}){return{ngModule:bt,providers:[Ae.cookieName?{provide:Jt,useValue:Ae.cookieName}:[],Ae.headerName?{provide:hn,useValue:Ae.headerName}:[]]}}}return bt.\u0275fac=function(Ae){return new(Ae||bt)},bt.\u0275mod=z.oAB({type:bt}),bt.\u0275inj=z.cJS({providers:[er,{provide:Ot,useExisting:er,multi:!0},{provide:Fn,useClass:Bn},{provide:Jt,useValue:"XSRF-TOKEN"},{provide:hn,useValue:"X-XSRF-TOKEN"}]}),bt})(),vr=(()=>{class bt{}return bt.\u0275fac=function(Ae){return new(Ae||bt)},bt.\u0275mod=z.oAB({type:bt}),bt.\u0275inj=z.cJS({providers:[$e,{provide:re,useClass:Zn},zt,{provide:Ie,useExisting:zt}],imports:[[hr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),bt})()},5e3:(Qt,lt,N)=>{"use strict";N.d(lt,{deG:()=>dc,tb:()=>B0,AFp:()=>N0,ip1:()=>P0,CZH:()=>A_,hGG:()=>Jw,z2F:()=>k_,sBO:()=>Lw,Sil:()=>yw,_Vd:()=>Ly,EJc:()=>gw,SBq:()=>ly,qLn:()=>Hd,vpe:()=>_h,tBr:()=>xl,XFs:()=>yn,OlP:()=>Ui,zs3:()=>Xa,ZZ4:()=>$_,aQg:()=>j_,soG:()=>M_,YKP:()=>Uv,h0i:()=>wm,PXZ:()=>xw,R0b:()=>xd,FiY:()=>Du,Lbi:()=>L0,g9A:()=>F0,Qsj:()=>yb,FYo:()=>kv,JOm:()=>Y,tp0:()=>oa,Rgc:()=>hy,dDg:()=>j0,q4F:()=>Lv,GfV:()=>Fv,s_b:()=>Uy,ifc:()=>At,eFA:()=>z0,G48:()=>Fw,Gpc:()=>pe,X6Q:()=>kw,_c5:()=>Qw,VLi:()=>Tw,c2e:()=>V0,zSh:()=>Xf,wAp:()=>wr,vHH:()=>He,cg1:()=>s_,kL8:()=>sv,dqk:()=>Tn,sIi:()=>fh,CqO:()=>pm,QGY:()=>yg,F4k:()=>fm,RDi:()=>ss,AaK:()=>re,qOj:()=>ch,TTD:()=>gi,_Bn:()=>Ov,xp6:()=>Ic,uIk:()=>lp,ekj:()=>Qm,Suo:()=>d0,Xpm:()=>Sn,lG2:()=>Xi,Yz7:()=>st,cJS:()=>ct,oAB:()=>Cr,Yjl:()=>ki,Y36:()=>bl,_UZ:()=>gh,GkF:()=>Oa,BQk:()=>Gc,ynx:()=>Ad,qZA:()=>_f,TgZ:()=>yf,EpF:()=>gp,n5z:()=>Yl,LFG:()=>yi,$8M:()=>bu,$Z:()=>jc,NdJ:()=>vf,CRH:()=>h0,O4$:()=>vu,oxw:()=>f,ALo:()=>Qv,lcZ:()=>Jv,xi3:()=>e0,Dn7:()=>t0,gM2:()=>n0,Hsn:()=>M,F$t:()=>D,Q6J:()=>Sd,MGl:()=>ce,DdM:()=>Gv,VKq:()=>zv,WLB:()=>Wv,iGM:()=>u0,MAs:()=>em,CHM:()=>j,LSH:()=>aa,Udp:()=>mm,YNc:()=>Jg,W1O:()=>m0,_uU:()=>Ry,Oqu:()=>ey,hij:()=>_m,AsE:()=>ty,lnq:()=>ny,Gf:()=>c0});var c=N(8929),z=N(2654),W=N(2916),ke=N(6787),Te=N(2474);function te(t){for(let r in t)if(t[r]===te)return r;throw Error("Could not find renamed property on target object.")}function _e(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ie(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Z=te({__forward_ref__:te});function pe(t){return t.__forward_ref__=pe,t.toString=function(){return re(this())},t}function ee(t){return le(t)?t():t}function le(t){return"function"==typeof t&&t.hasOwnProperty(Z)&&t.__forward_ref__===pe}class He extends Error{constructor(r,o){super(function De(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Oe(t){return"string"==typeof t?t:null==t?"":String(t)}function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Oe(t)}function yt(t,r){const o=r?` in ${r}`:"";throw new He(-201,`No provider for ${Le(t)} found${o}`)}function ze(t,r){null==t&&function q(t,r,o,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${o} ${d} ${r} <=Actual]`))}(r,t,null,"!=")}function st(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function ft(t){return Nt(t,Fn)||Nt(t,er)}function Nt(t,r){return t.hasOwnProperty(r)?t[r]:null}function hn(t){return t&&(t.hasOwnProperty(Bn)||t.hasOwnProperty(Zn))?t[Bn]:null}const Fn=te({\u0275prov:te}),Bn=te({\u0275inj:te}),er=te({ngInjectableDef:te}),Zn=te({ngInjectorDef:te});var yn=(()=>((yn=yn||{})[yn.Default=0]="Default",yn[yn.Host=1]="Host",yn[yn.Self=2]="Self",yn[yn.SkipSelf=4]="SkipSelf",yn[yn.Optional=8]="Optional",yn))();let Xr;function vr(t){const r=Xr;return Xr=t,r}function Pr(t,r,o){const d=ft(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&yn.Optional?null:void 0!==r?r:void yt(re(t),"Injector")}function bt(t){return{toString:t}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),At=(()=>{return(t=At||(At={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",At;var t})();const Gt="undefined"!=typeof globalThis&&globalThis,dn="undefined"!=typeof window&&window,Ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tn=Gt||"undefined"!=typeof global&&global||dn||Ln,qn={},Re=[],Ke=te({\u0275cmp:te}),Qe=te({\u0275dir:te}),Bt=te({\u0275pipe:te}),We=te({\u0275mod:te}),pt=te({\u0275fac:te}),qt=te({__NG_ELEMENT_ID__:te});let En=0;function Sn(t){return bt(()=>{const o={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Re,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,id:"c",styles:t.styles||Re,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.directives,m=t.features,C=t.pipes;return d.id+=En++,d.inputs=ri(t.inputs,o),d.outputs=ri(t.outputs),m&&m.forEach(x=>x(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(fr):null,d.pipeDefs=C?()=>("function"==typeof C?C():C).map(un):null,d})}function fr(t){return Hr(t)||function vi(t){return t[Qe]||null}(t)}function un(t){return function fi(t){return t[Bt]||null}(t)}const an={};function Cr(t){return bt(()=>{const r={type:t.type,bootstrap:t.bootstrap||Re,declarations:t.declarations||Re,imports:t.imports||Re,exports:t.exports||Re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(an[t.id]=t.type),r})}function ri(t,r){if(null==t)return qn;const o={};for(const d in t)if(t.hasOwnProperty(d)){let p=t[d],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),o[p]=d,r&&(r[p]=m)}return o}const Xi=Sn;function ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Hr(t){return t[Ke]||null}function xr(t,r){const o=t[We]||null;if(!o&&!0===r)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return o}function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ve(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function xt(t){return 1==(1&t.flags)}function Ut(t){return null!==t.template}function fn(t){return 0!=(512&t[2])}function li(t,r){return t.hasOwnProperty(pt)?t[pt]:null}class js{constructor(r,o,d){this.previousValue=r,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function gi(){return si}function si(t){return t.type.prototype.ngOnChanges&&(t.setInput=so),Ps}function Ps(){const t=is(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===qn)t.previous=r;else for(let d in r)o[d]=r[d];t.current=null,this.ngOnChanges(r)}}function so(t,r,o,d){const p=is(t)||function Tr(t,r){return t[oo]=r}(t,{previous:qn,current:null}),m=p.current||(p.current={}),C=p.previous,x=this.declaredInputs[o],k=C[x];m[x]=new js(k&&k.currentValue,r,C===qn),t[d]=r}gi.ngInherit=!0;const oo="__ngSimpleChanges__";function is(t){return t[oo]||null}let Ms;function ss(t){Ms=t}function Er(t){return!!t.listen}const U={createRenderer:(t,r)=>function oi(){return void 0!==Ms?Ms:"undefined"!=typeof document?document:void 0}()};function $(t){for(;Array.isArray(t);)t=t[0];return t}function Mt(t,r){return $(r[t])}function Yt(t,r){return $(r[t.index])}function Jn(t,r){return t.data[r]}function Sr(t,r){return t[r]}function Wn(t,r){const o=r[t];return Se(o)?o:o[0]}function rr(t){return 4==(4&t[2])}function mi(t){return 128==(128&t[2])}function Jr(t,r){return null==r?null:t[r]}function os(t){t[18]=0}function ys(t,r){t[5]+=r;let o=t,d=t[3];for(;null!==d&&(1===r&&1===o[5]||-1===r&&0===o[5]);)d[5]+=r,o=d,d=d[3]}const Gn={lFrame:zl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function he(){return Gn.bindingsEnabled}function R(){return Gn.lFrame.lView}function b(){return Gn.lFrame.tView}function j(t){return Gn.lFrame.contextLView=t,t[8]}function oe(){let t=Tt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Tt(){return Gn.lFrame.currentTNode}function Rn(t,r){const o=Gn.lFrame;o.currentTNode=t,o.isParent=r}function cr(){return Gn.lFrame.isParent}function dr(){Gn.lFrame.isParent=!1}function Wi(){return Gn.isInCheckNoChangesMode}function Ki(t){Gn.isInCheckNoChangesMode=t}function bi(){const t=Gn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function _s(){return Gn.lFrame.bindingIndex}function Xs(){return Gn.lFrame.bindingIndex++}function fo(t){const r=Gn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Gl(t,r){const o=Gn.lFrame;o.bindingIndex=o.bindingRootIndex=t,Yo(r)}function Yo(t){Gn.lFrame.currentDirectiveIndex=t}function Na(){return Gn.lFrame.currentQueryIndex}function qo(t){Gn.lFrame.currentQueryIndex=t}function oc(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Il(t,r,o){if(o&yn.SkipSelf){let p=r,m=t;for(;!(p=p.parent,null!==p||o&yn.Host||(p=oc(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;r=p,t=m}const d=Gn.lFrame=No();return d.currentTNode=r,d.lView=t,!0}function Zo(t){const r=No(),o=t[1];Gn.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function No(){const t=Gn.lFrame,r=null===t?null:t.child;return null===r?zl(t):r}function zl(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function po(){const t=Gn.lFrame;return Gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Cl=po;function tl(){const t=po();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Es(){return Gn.lFrame.selectedIndex}function Qo(t){Gn.lFrame.selectedIndex=t}function ts(){const t=Gn.lFrame;return Jn(t.tView,t.selectedIndex)}function vu(){Gn.lFrame.currentNamespace="svg"}function Wl(t,r){for(let o=r.directiveStart,d=r.directiveEnd;o<d;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:X,ngOnDestroy:se}=m;C&&(t.contentHooks||(t.contentHooks=[])).push(-o,C),x&&((t.contentHooks||(t.contentHooks=[])).push(o,x),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,x)),k&&(t.viewHooks||(t.viewHooks=[])).push(-o,k),X&&((t.viewHooks||(t.viewHooks=[])).push(o,X),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,X)),null!=se&&(t.destroyHooks||(t.destroyHooks=[])).push(o,se)}}function ma(t,r,o){Vi(t,r,3,o)}function go(t,r,o,d){(3&t[2])===o&&Vi(t,r,o,d)}function ka(t,r){let o=t[2];(3&o)===r&&(o&=2047,o+=1,t[2]=o)}function Vi(t,r,o,d){const m=null!=d?d:-1,C=r.length-1;let x=0;for(let k=void 0!==d?65535&t[18]:0;k<C;k++)if("number"==typeof r[k+1]){if(x=r[k],null!=d&&x>=d)break}else r[k]<0&&(t[18]+=65536),(x<m||-1==m)&&(lc(t,o,r,k),t[18]=(4294901760&t[18])+k+2),k++}function lc(t,r,o,d){const p=o[d]<0,m=o[d+1],x=t[p?-o[d]:o[d]];if(p){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{m.call(x)}finally{}}}else try{m.call(x)}finally{}}class nl{constructor(r,o,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Ts(t,r,o){const d=Er(t);let p=0;for(;p<o.length;){const m=o[p];if("number"==typeof m){if(0!==m)break;p++;const C=o[p++],x=o[p++],k=o[p++];d?t.setAttribute(r,x,k,C):r.setAttributeNS(C,x,k)}else{const C=m,x=o[++p];Un(C)?d&&t.setProperty(r,C,x):d?t.setAttribute(r,C,x):r.setAttribute(C,x),p++}}return p}function Fa(t){return 3===t||4===t||6===t}function Un(t){return 64===t.charCodeAt(0)}function zn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?o=p:0===o||Kl(t,o,p,null,-1===o||2===o?r[++d]:null)}}return t}function Kl(t,r,o,d,p){let m=0,C=t.length;if(-1===r)C=-1;else for(;m<t.length;){const x=t[m++];if("number"==typeof x){if(x===r){C=-1;break}if(x>r){C=m-1;break}}}for(;m<t.length;){const x=t[m];if("number"==typeof x)break;if(x===o){if(null===d)return void(null!==p&&(t[m+1]=p));if(d===t[m+1])return void(t[m+2]=p)}m++,null!==d&&m++,null!==p&&m++}-1!==C&&(t.splice(C,0,r),m=C+1),t.splice(m++,0,o),null!==d&&t.splice(m++,0,d),null!==p&&t.splice(m++,0,p)}function Dn(t){return-1!==t}function St(t){return 32767&t}function br(t,r){let o=function en(t){return t>>16}(t),d=r;for(;o>0;)d=d[15],o--;return d}let ya=!0;function La(t){const r=ya;return ya=t,r}let Wc=0;function A(t,r){const o=V(t,r);if(-1!==o)return o;const d=r[1];d.firstCreatePass&&(t.injectorIndex=r.length,T(d.data,t),T(r,null),T(d.blueprint,null));const p=K(t,r),m=t.injectorIndex;if(Dn(p)){const C=St(p),x=br(p,r),k=x[1].data;for(let X=0;X<8;X++)r[m+X]=x[C+X]|k[C+X]}return r[m+8]=p,m}function T(t,r){t.push(0,0,0,0,0,0,0,0,r)}function V(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function K(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,d=null,p=r;for(;null!==p;){const m=p[1],C=m.type;if(d=2===C?m.declTNode:1===C?p[6]:null,null===d)return-1;if(o++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return-1}function ue(t,r,o){!function O(t,r,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(qt)&&(d=o[qt]),null==d&&(d=o[qt]=Wc++);const p=255&d;r.data[t+(p>>5)]|=1<<p}(t,r,o)}function qe(t,r,o){if(o&yn.Optional)return t;yt(r,"NodeInjector")}function jt(t,r,o,d){if(o&yn.Optional&&void 0===d&&(d=null),0==(o&(yn.Self|yn.Host))){const p=t[9],m=vr(void 0);try{return p?p.get(r,d,o&yn.Optional):Pr(r,d,o&yn.Optional)}finally{vr(m)}}return qe(d,r,o)}function gn(t,r,o,d=yn.Default,p){if(null!==t){const m=function Or(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(qt)?t[qt]:void 0;return"number"==typeof r?r>=0?255&r:jn:r}(o);if("function"==typeof m){if(!Il(r,t,d))return d&yn.Host?qe(p,o,d):jt(r,o,d,p);try{const C=m(d);if(null!=C||d&yn.Optional)return C;yt(o)}finally{Cl()}}else if("number"==typeof m){let C=null,x=V(t,r),k=-1,X=d&yn.Host?r[16][6]:null;for((-1===x||d&yn.SkipSelf)&&(k=-1===x?K(t,r):r[x+8],-1!==k&&Yi(d,!1)?(C=r[1],x=St(k),r=br(k,r)):x=-1);-1!==x;){const se=r[1];if(ea(m,x,se.data)){const Ne=Rr(x,r,o,C,d,X);if(Ne!==_n)return Ne}k=r[x+8],-1!==k&&Yi(d,r[1].data[x+8]===X)&&ea(m,x,r)?(C=se,x=St(k),r=br(k,r)):x=-1}}}return jt(r,o,d,p)}const _n={};function jn(){return new Gs(oe(),R())}function Rr(t,r,o,d,p,m){const C=r[1],x=C.data[t+8],se=ei(x,C,o,null==d?Ft(x)&&ya:d!=C&&0!=(3&x.type),p&yn.Host&&m===x);return null!==se?bs(r,C,se,x):_n}function ei(t,r,o,d,p){const m=t.providerIndexes,C=r.data,x=1048575&m,k=t.directiveStart,se=m>>20,it=p?x+se:t.directiveEnd;for(let Dt=d?x:x+se;Dt<it;Dt++){const Zt=C[Dt];if(Dt<k&&o===Zt||Dt>=k&&Zt.type===o)return Dt}if(p){const Dt=C[k];if(Dt&&Ut(Dt)&&Dt.type===o)return k}return null}function bs(t,r,o,d){let p=t[o];const m=r.data;if(function Tl(t){return t instanceof nl}(p)){const C=p;C.resolving&&function et(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new He(-200,`Circular dependency in DI detected for ${t}${o}`)}(Le(m[o]));const x=La(C.canSeeViewProviders);C.resolving=!0;const k=C.injectImpl?vr(C.injectImpl):null;Il(t,d,yn.Default);try{p=t[o]=C.factory(void 0,m,t,d),r.firstCreatePass&&o>=d.directiveStart&&function Qs(t,r,o){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:m}=r.type.prototype;if(d){const C=si(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(t,C),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,C)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-t,p),m&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,m))}(o,m[o],r)}finally{null!==k&&vr(k),La(x),C.resolving=!1,Cl()}}return p}function ea(t,r,o){return!!(o[r+(t>>5)]&1<<t)}function Yi(t,r){return!(t&yn.Self||t&yn.Host&&r)}class Gs{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,d){return gn(this._tNode,this._lView,r,d,o)}}function Yl(t){return bt(()=>{const r=t.prototype.constructor,o=r[pt]||as(r),d=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==d;){const m=p[pt]||as(p);if(m&&m!==o)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function as(t){return le(t)?()=>{const r=as(ee(t));return r&&r()}:li(t)}function bu(t){return function xe(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const d=o.length;let p=0;for(;p<d;){const m=o[p];if(Fa(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<d&&"string"==typeof o[p];)p++;else{if(m===r)return o[p+1];p+=2}}}return null}(oe(),t)}const wi="__parameters__";function na(t,r,o){return bt(()=>{const d=function Al(t){return function(...o){if(t){const d=t(...o);for(const p in d)this[p]=d[p]}}}(r);function p(...m){if(this instanceof p)return d.apply(this,m),this;const C=new p(...m);return x.annotation=C,x;function x(k,X,se){const Ne=k.hasOwnProperty(wi)?k[wi]:Object.defineProperty(k,wi,{value:[]})[wi];for(;Ne.length<=se;)Ne.push(null);return(Ne[se]=Ne[se]||[]).push(C),k}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}class Ui{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=st({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dc=new Ui("AnalyzeForEntryComponents");function Pi(t,r){void 0===r&&(r=t);for(let o=0;o<t.length;o++){let d=t[o];Array.isArray(d)?(r===t&&(r=t.slice(0,o)),Pi(d,r)):r!==t&&r.push(d)}return r}function Ii(t,r){t.forEach(o=>Array.isArray(o)?Ii(o,r):r(o))}function sl(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function yo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ra(t,r){const o=[];for(let d=0;d<t;d++)o.push(r);return o}function Ss(t,r,o){let d=ia(t,r);return d>=0?t[1|d]=o:(d=~d,function Fo(t,r,o,d){let p=t.length;if(p==r)t.push(o,d);else if(1===p)t.push(d,t[0]),t[0]=o;else{for(p--,t.push(t[p-1],t[p]);p>r;)t[p]=t[p-2],p--;t[r]=o,t[r+1]=d}}(t,d,r,o)),d}function gr(t,r){const o=ia(t,r);if(o>=0)return t[1|o]}function ia(t,r){return function _o(t,r,o){let d=0,p=t.length>>o;for(;p!==d;){const m=d+(p-d>>1),C=t[m<<o];if(r===C)return m<<o;C>r?p=m:d=m+1}return~(p<<o)}(t,r,1)}const H={},de="__NG_DI_FLAG__",Ue="ngTempTokenPath",Rt=/\n/gm,$n="__source",or=te({provide:String,useValue:te});let ir;function Kr(t){const r=ir;return ir=t,r}function mr(t,r=yn.Default){if(void 0===ir)throw new He(203,"");return null===ir?Pr(t,void 0,r):ir.get(t,r&yn.Optional?null:void 0,r)}function yi(t,r=yn.Default){return(function hr(){return Xr}()||mr)(ee(t),r)}const ol=yi;function Cu(t){const r=[];for(let o=0;o<t.length;o++){const d=ee(t[o]);if(Array.isArray(d)){if(0===d.length)throw new He(900,"");let p,m=yn.Default;for(let C=0;C<d.length;C++){const x=d[C],k=Ia(x);"number"==typeof k?-1===k?p=x.token:m|=k:p=x}r.push(yi(p,m))}else r.push(yi(d))}return r}function wa(t,r){return t[de]=r,t.prototype[de]=r,t}function Ia(t){return t[de]}const xl=wa(na("Inject",t=>({token:t})),-1),Du=wa(na("Optional"),8),oa=wa(na("SkipSelf"),4);class Rl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function cl(t){return t instanceof Rl?t.changingThisBreaksApplicationSecurity:t}const Da=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qi=(()=>((qi=qi||{})[qi.NONE=0]="NONE",qi[qi.HTML=1]="HTML",qi[qi.STYLE=2]="STYLE",qi[qi.SCRIPT=3]="SCRIPT",qi[qi.URL=4]="URL",qi[qi.RESOURCE_URL=5]="RESOURCE_URL",qi))();function aa(t){const r=function Fu(){const t=R();return t&&t[12]}();return r?r.sanitize(qi.URL,t)||"":function Ca(t,r){const o=function Ip(t){return t instanceof Rl&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(t,"URL")?cl(t):function ja(t){return(t=String(t)).match(Da)||t.match(Sh)?t:"unsafe:"+t}(Oe(t))}const Jc="__ngContext__";function ws(t,r){t[Jc]=r}function ed(t){const r=function eu(t){return t[Jc]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function fl(t){return t.ngOriginalError}function ru(t,...r){t.error(...r)}class Hd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),d=function Ni(t){return t&&t.ngErrorLogger||ru}(r);d(this._console,"ERROR",r),o&&d(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&fl(r);for(;o&&fl(o);)o=fl(o);return o||null}}const nd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tn))();function gl(t){return t instanceof Function?t():t}var Y=(()=>((Y=Y||{})[Y.Important=1]="Important",Y[Y.DashCase=2]="DashCase",Y))();function ht(t,r){return undefined(t,r)}function Nn(t){const r=t[3];return Ve(r)?r[3]:r}function Os(t){return za(t[13])}function ho(t){return za(t[4])}function za(t){for(;null!==t&&!Ve(t);)t=t[4];return t}function ua(t,r,o,d,p){if(null!=d){let m,C=!1;Ve(d)?m=d:Se(d)&&(C=!0,d=d[0]);const x=$(d);0===t&&null!==o?null==p?bc(r,o,x):Wa(r,o,x,p||null,!0):1===t&&null!==o?Wa(r,o,x,p||null,!0):2===t?function zu(t,r,o){const d=zd(t,r);d&&function Hu(t,r,o,d){Er(t)?t.removeChild(r,o,d):r.removeChild(o)}(t,d,r,o)}(r,x,C):3===t&&r.destroyNode(x),null!=m&&function wc(t,r,o,d,p){const m=o[7];m!==$(o)&&ua(r,t,d,m,p);for(let x=10;x<o.length;x++){const k=o[x];yl(k[1],k,t,r,d,m)}}(r,t,m,o,p)}}function ml(t,r,o){if(Er(t))return t.createElement(r,o);{const d=null!==o?function Ko(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===d?t.createElement(r):t.createElementNS(d,r)}}function id(t,r){const o=t[9],d=o.indexOf(r),p=r[3];1024&r[2]&&(r[2]&=-1025,ys(p,-1)),o.splice(d,1)}function Uu(t,r){if(t.length<=10)return;const o=10+r,d=t[o];if(d){const p=d[17];null!==p&&p!==t&&id(p,d),r>0&&(t[o-1][4]=d[4]);const m=yo(t,10+r);!function Mf(t,r){yl(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const C=m[19];null!==C&&C.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ou(t,r){if(!(256&r[2])){const o=r[11];Er(o)&&o.destroyNode&&yl(t,r,o,3,null,null),function rd(t){let r=t[13];if(!r)return ca(t[1],t);for(;r;){let o=null;if(Se(r))o=r[13];else{const d=r[10];d&&(o=d)}if(!o){for(;r&&!r[4]&&r!==t;)Se(r)&&ca(r[1],r),r=r[3];null===r&&(r=t),Se(r)&&ca(r[1],r),o=r&&r[4]}r=o}}(r)}}function ca(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Dm(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let d=0;d<o.length;d+=2){const p=r[o[d]];if(!(p instanceof nl)){const m=o[d+1];if(Array.isArray(m))for(let C=0;C<m.length;C+=2){const x=p[m[C]],k=m[C+1];try{k.call(x)}finally{}}else try{m.call(p)}finally{}}}}(t,r),function $u(t,r){const o=t.cleanup,d=r[7];let p=-1;if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const C=o[m+1],x="function"==typeof C?C(r):$(r[C]),k=d[p=o[m+2]],X=o[m+3];"boolean"==typeof X?x.removeEventListener(o[m],k,X):X>=0?d[p=X]():d[p=-X].unsubscribe(),m+=2}else{const C=d[p=o[m+1]];o[m].call(C)}if(null!==d){for(let m=p+1;m<d.length;m++)d[m]();r[7]=null}}(t,r),1===r[1].type&&Er(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Ve(r[3])){o!==r[3]&&id(o,r);const d=r[19];null!==d&&d.detachView(t)}}}function Sp(t,r,o){return function ju(t,r,o){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return o[0];if(2&d.flags){const p=t.data[d.directiveStart].encapsulation;if(p===At.None||p===At.Emulated)return null}return Yt(d,o)}(t,r.parent,o)}function Wa(t,r,o,d,p){Er(t)?t.insertBefore(r,o,d,p):r.insertBefore(o,d,p)}function bc(t,r,o){Er(t)?t.appendChild(r,o):r.appendChild(o)}function au(t,r,o,d,p){null!==d?Wa(t,r,o,d,p):bc(t,r,o)}function zd(t,r){return Er(t)?t.parentNode(r):r.parentNode}function lu(t,r,o){return wg(t,r,o)}let wg=function Lh(t,r,o){return 40&t.type?Yt(t,o):null};function uu(t,r,o,d){const p=Sp(t,d,r),m=r[11],x=lu(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(o))for(let k=0;k<o.length;k++)au(m,p,o[k],x,!1);else au(m,p,o,x,!1)}function cu(t,r){if(null!==r){const o=r.type;if(3&o)return Yt(r,t);if(4&o)return Bh(-1,t[r.index]);if(8&o){const d=r.child;if(null!==d)return cu(t,d);{const p=t[r.index];return Ve(p)?Bh(-1,p):$(p)}}if(32&o)return ht(r,t)()||$(t[r.index]);{const d=Gu(t,r);return null!==d?Array.isArray(d)?d[0]:cu(Nn(t[16]),d):cu(t,r.next)}}return null}function Gu(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Bh(t,r){const o=10+t+1;if(o<r.length){const d=r[o],p=d[1].firstChild;if(null!==p)return cu(d,p)}return r[7]}function Rf(t,r,o,d,p,m,C){for(;null!=o;){const x=d[o.index],k=o.type;if(C&&0===r&&(x&&ws($(x),d),o.flags|=4),64!=(64&o.flags))if(8&k)Rf(t,r,o.child,d,p,m,!1),ua(r,t,p,x,m);else if(32&k){const X=ht(o,d);let se;for(;se=X();)ua(r,t,p,se,m);ua(r,t,p,x,m)}else 16&k?kl(t,r,d,o,p,m):ua(r,t,p,x,m);o=C?o.projectionNext:o.next}}function yl(t,r,o,d,p,m){Rf(o,d,t.firstChild,r,p,m,!1)}function kl(t,r,o,d,p,m){const C=o[16],k=C[6].projection[d.projection];if(Array.isArray(k))for(let X=0;X<k.length;X++)ua(r,t,p,k[X],m);else Rf(t,r,k,C[3],p,m,!0)}function xp(t,r,o){Er(t)?t.setAttribute(r,"style",o):r.style.cssText=o}function Mp(t,r,o){Er(t)?""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o):r.className=o}function Ig(t,r,o){let d=t.length;for(;;){const p=t.indexOf(r,o);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const m=r.length;if(p+m===d||t.charCodeAt(p+m)<=32)return p}o=p+1}}const Vh="ng-template";function Tm(t,r,o){let d=0;for(;d<t.length;){let p=t[d++];if(o&&"class"===p){if(p=t[d],-1!==Ig(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<t.length&&"string"==typeof(p=t[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function Rp(t){return 4===t.type&&t.value!==Vh}function Kd(t,r,o){return r===(4!==t.type||o?t.value:Vh)}function Uh(t,r,o){let d=4;const p=t.attrs||[],m=function Of(t){for(let r=0;r<t.length;r++)if(Fa(t[r]))return r;return t.length}(p);let C=!1;for(let x=0;x<r.length;x++){const k=r[x];if("number"!=typeof k){if(!C)if(4&d){if(d=2|1&d,""!==k&&!Kd(t,k,o)||""===k&&1===r.length){if(Sa(d))return!1;C=!0}}else{const X=8&d?k:r[++x];if(8&d&&null!==t.attrs){if(!Tm(t.attrs,X,o)){if(Sa(d))return!1;C=!0}continue}const Ne=Dg(8&d?"class":k,p,Rp(t),o);if(-1===Ne){if(Sa(d))return!1;C=!0;continue}if(""!==X){let it;it=Ne>m?"":p[Ne+1].toLowerCase();const Dt=8&d?it:null;if(Dt&&-1!==Ig(Dt,X,0)||2&d&&X!==it){if(Sa(d))return!1;C=!0}}}}else{if(!C&&!Sa(d)&&!Sa(k))return!1;if(C&&Sa(k))continue;C=!1,d=k|1&d}}return Sa(d)||C}function Sa(t){return 0==(1&t)}function Dg(t,r,o,d){if(null===r)return-1;let p=0;if(d||!o){let m=!1;for(;p<r.length;){const C=r[p];if(C===t)return p;if(3===C||6===C)m=!0;else{if(1===C||2===C){let x=r[++p];for(;"string"==typeof x;)x=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=m?1:2}return-1}return function Op(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const d=t[o];if("number"==typeof d)return-1;if(d===r)return o;o++}return-1}(r,t)}function da(t,r,o=!1){for(let d=0;d<r.length;d++)if(Uh(t,r[d],o))return!0;return!1}function $h(t,r){e:for(let o=0;o<r.length;o++){const d=r[o];if(t.length===d.length){for(let p=0;p<t.length;p++)if(t[p]!==d[p])continue e;return!0}}return!1}function Fl(t,r){return t?":not("+r.trim()+")":r}function sd(t){let r=t[0],o=1,d=2,p="",m=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&d){const x=t[++o];p+="["+C+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!Sa(C)&&(r+=Fl(m,p),p=""),d=C,m=m||!Sa(d);o++}return""!==p&&(r+=Fl(m,p)),r}const Ar={};function Ic(t){Pf(b(),R(),Es()+t,Wi())}function Pf(t,r,o,d){if(!d)if(3==(3&r[2])){const m=t.preOrderCheckHooks;null!==m&&ma(r,m,o)}else{const m=t.preOrderHooks;null!==m&&go(r,m,0,o)}Qo(o)}function hu(t,r){return t<<17|r<<2}function Aa(t){return t>>17&32767}function Pp(t){return 2|t}function Ku(t){return(131068&t)>>2}function Np(t,r){return-131069&t|r<<2}function ad(t){return 1|t}function Rg(t,r){const o=t.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const p=o[d],m=o[d+1];if(-1!==m){const C=t.data[m];qo(p),C.contentQueries(2,r[m],m)}}}function ud(t,r,o,d,p,m,C,x,k,X){const se=r.blueprint.slice();return se[0]=p,se[2]=140|d,os(se),se[3]=se[15]=t,se[8]=o,se[10]=C||t&&t[10],se[11]=x||t&&t[11],se[12]=k||t&&t[12]||null,se[9]=X||t&&t[9]||null,se[6]=m,se[16]=2==r.type?t[16]:se,se}function Cc(t,r,o,d,p){let m=t.data[r];if(null===m)m=function cd(t,r,o,d,p){const m=Tt(),C=cr(),k=t.data[r]=function fd(t,r,o,d,p,m){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?m:m&&m.parent,o,r,d,p);return null===t.firstChild&&(t.firstChild=k),null!==m&&(C?null==m.child&&null!==k.parent&&(m.child=k):null===m.next&&(m.next=k)),k}(t,r,o,d,p),function wl(){return Gn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=o,m.value=d,m.attrs=p;const C=function ln(){const t=Gn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();m.injectorIndex=null===C?-1:C.injectorIndex}return Rn(m,!0),m}function Dc(t,r,o,d){if(0===o)return-1;const p=r.length;for(let m=0;m<o;m++)r.push(d),t.blueprint.push(d),t.data.push(null);return p}function Ya(t,r,o){Zo(r);try{const d=t.viewQuery;null!==d&&rf(1,d,o);const p=t.template;null!==p&&Zh(t,r,p,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rg(t,r),t.staticViewQueries&&rf(2,t.viewQuery,o);const m=t.components;null!==m&&function Nm(t,r){for(let o=0;o<r.length;o++)Bm(t,r[o])}(r,m)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[2]&=-5,tl()}}function Bl(t,r,o,d){const p=r[2];if(256==(256&p))return;Zo(r);const m=Wi();try{os(r),function vs(t){return Gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Zh(t,r,o,2,d);const C=3==(3&p);if(!m)if(C){const X=t.preOrderCheckHooks;null!==X&&ma(r,X,null)}else{const X=t.preOrderHooks;null!==X&&go(r,X,0,null),ka(r,0)}if(function Yp(t){for(let r=Os(t);null!==r;r=ho(r)){if(!r[2])continue;const o=r[9];for(let d=0;d<o.length;d++){const p=o[d],m=p[3];0==(1024&p[2])&&ys(m,1),p[2]|=1024}}}(r),function Lg(t){for(let r=Os(t);null!==r;r=ho(r))for(let o=10;o<r.length;o++){const d=r[o],p=d[1];mi(d)&&Bl(p,d,p.template,d[8])}}(r),null!==t.contentQueries&&Rg(t,r),!m)if(C){const X=t.contentCheckHooks;null!==X&&ma(r,X)}else{const X=t.contentHooks;null!==X&&go(r,X,1),ka(r,1)}!function Pm(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const p=o[d];if(p<0)Qo(~p);else{const m=p,C=o[++d],x=o[++d];Gl(C,m),x(2,r[m])}}}finally{Qo(-1)}}(t,r);const x=t.components;null!==x&&function Gp(t,r){for(let o=0;o<r.length;o++)ih(t,r[o])}(r,x);const k=t.viewQuery;if(null!==k&&rf(2,k,d),!m)if(C){const X=t.viewCheckHooks;null!==X&&ma(r,X)}else{const X=t.viewHooks;null!==X&&go(r,X,2),ka(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),m||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,ys(r[3],-1))}finally{tl()}}function qh(t,r,o,d){const p=r[10],m=!Wi(),C=rr(r);try{m&&!C&&p.begin&&p.begin(),C&&Ya(t,r,d),Bl(t,r,o,d)}finally{m&&!C&&p.end&&p.end()}}function Zh(t,r,o,d,p){const m=Es(),C=2&d;try{Qo(-1),C&&r.length>20&&Pf(t,r,20,Wi()),o(d,p)}finally{Qo(m)}}function dd(t,r,o){if(dt(r)){const p=r.directiveEnd;for(let m=r.directiveStart;m<p;m++){const C=t.data[m];C.contentQueries&&C.contentQueries(1,o[m],m)}}}function Tc(t,r,o){!he()||(function Qh(t,r,o,d){const p=o.directiveStart,m=o.directiveEnd;t.firstCreatePass||A(o,r),ws(d,r);const C=o.initialInputs;for(let x=p;x<m;x++){const k=t.data[x],X=Ut(k);X&&Wf(r,o,k);const se=bs(r,t,x,o);ws(se,r),null!==C&&gd(0,x-p,se,k,0,C),X&&(Wn(o.index,r)[8]=se)}}(t,r,o,Yt(o,r)),128==(128&o.flags)&&function Gf(t,r,o){const d=o.directiveStart,p=o.directiveEnd,C=o.index,x=function ao(){return Gn.lFrame.currentDirectiveIndex}();try{Qo(C);for(let k=d;k<p;k++){const X=t.data[k],se=r[k];Yo(k),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&zf(X,se)}}finally{Qo(-1),Yo(x)}}(t,r,o))}function Xd(t,r,o=Yt){const d=r.localNames;if(null!==d){let p=r.index+1;for(let m=0;m<d.length;m+=2){const C=d[m+1],x=-1===C?o(r,t):t[C];t[p++]=x}}}function Hf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=hd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function hd(t,r,o,d,p,m,C,x,k,X){const se=20+d,Ne=se+p,it=function km(t,r){const o=[];for(let d=0;d<r;d++)o.push(d<t?null:Ar);return o}(se,Ne),Dt="function"==typeof X?X():X;return it[1]={type:t,blueprint:it,template:o,queries:null,viewQuery:x,declTNode:r,data:it.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:k,consts:Dt,incompleteFirstPass:!1}}function Xh(t,r,o,d){const p=gu(r);null===o?p.push(d):(p.push(o),t.firstCreatePass&&Mc(t).push(d,p.length-1))}function Jd(t,r,o){for(let d in t)if(t.hasOwnProperty(d)){const p=t[d];(o=null===o?{}:o).hasOwnProperty(d)?o[d].push(r,p):o[d]=[r,p]}return o}function qa(t,r,o,d,p,m,C,x){const k=Yt(r,o);let se,X=r.inputs;!x&&null!=X&&(se=X[d])?(qp(t,o,se,d,p),Ft(r)&&function Fm(t,r){const o=Wn(r,t);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(d=function Pg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),p=null!=C?C(p,r.value||"",d):p,Er(m)?m.setProperty(k,d,p):Un(d)||(k.setProperty?k.setProperty(d,p):k[d]=p))}function Ac(t,r,o,d){let p=!1;if(he()){const m=function _l(t,r,o){const d=t.directiveRegistry;let p=null;if(d)for(let m=0;m<d.length;m++){const C=d[m];da(o,C.selectors,!1)&&(p||(p=[]),ue(A(o,r),t,C.type),Ut(C)?(Jh(t,o),p.unshift(C)):p.push(C))}return p}(t,r,o),C=null===d?null:{"":-1};if(null!==m){p=!0,Fg(o,t.data.length,m.length);for(let se=0;se<m.length;se++){const Ne=m[se];Ne.providersResolver&&Ne.providersResolver(Ne)}let x=!1,k=!1,X=Dc(t,r,m.length,null);for(let se=0;se<m.length;se++){const Ne=m[se];o.mergedAttrs=zn(o.mergedAttrs,Ne.hostAttrs),nh(t,o,r,X,Ne),Kp(X,Ne,C),null!==Ne.contentQueries&&(o.flags|=8),(null!==Ne.hostBindings||null!==Ne.hostAttrs||0!==Ne.hostVars)&&(o.flags|=128);const it=Ne.type.prototype;!x&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index),x=!0),!k&&(it.ngOnChanges||it.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index),k=!0),X++}!function Og(t,r){const d=r.directiveEnd,p=t.data,m=r.attrs,C=[];let x=null,k=null;for(let X=r.directiveStart;X<d;X++){const se=p[X],Ne=se.inputs,it=null===m||Rp(r)?null:Vl(Ne,m);C.push(it),x=Jd(Ne,X,x),k=Jd(se.outputs,X,k)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=16),x.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=C,r.inputs=x,r.outputs=k}(t,o)}C&&function Lm(t,r,o){if(r){const d=t.localNames=[];for(let p=0;p<r.length;p+=2){const m=o[r[p+1]];if(null==m)throw new He(-301,!1);d.push(r[p],m)}}}(o,d,C)}return o.mergedAttrs=zn(o.mergedAttrs,o.attrs),p}function pd(t,r,o,d,p,m){const C=m.hostBindings;if(C){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const k=~r.index;(function Wp(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(x)!=k&&x.push(k),x.push(d,p,C)}}function zf(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Jh(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Kp(t,r,o){if(o){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)o[r.exportAs[d]]=t;Ut(r)&&(o[""]=t)}}function Fg(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}function nh(t,r,o,d,p){t.data[d]=p;const m=p.factory||(p.factory=li(p.type)),C=new nl(m,Ut(p),null);t.blueprint[d]=C,o[d]=C,pd(t,r,0,d,Dc(t,o,p.hostVars,Ar),p)}function Wf(t,r,o){const d=Yt(r,t),p=Hf(o),m=t[10],C=ef(t,ud(t,p,null,o.onPush?64:16,d,r,m,m.createRenderer(d,o),null,null));t[r.index]=C}function Za(t,r,o,d,p,m){const C=Yt(t,r);!function rh(t,r,o,d,p,m,C){if(null==m)Er(t)?t.removeAttribute(r,p,o):r.removeAttribute(p);else{const x=null==C?Oe(m):C(m,d||"",p);Er(t)?t.setAttribute(r,p,x,o):o?r.setAttributeNS(o,p,x):r.setAttribute(p,x)}}(r[11],C,m,t.value,o,d,p)}function gd(t,r,o,d,p,m){const C=m[r];if(null!==C){const x=d.setInput;for(let k=0;k<C.length;){const X=C[k++],se=C[k++],Ne=C[k++];null!==x?d.setInput(o,Ne,X,se):o[se]=Ne}}}function Vl(t,r){let o=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;t.hasOwnProperty(p)&&(null===o&&(o=[]),o.push(p,t[p],r[d+1])),d+=2}else d+=2;else d+=4}return o}function Kf(t,r,o,d){return new Array(t,!0,!1,r,null,0,d,o,null,null)}function ih(t,r){const o=Wn(r,t);if(mi(o)){const d=o[1];80&o[2]?Bl(d,o,d.template,o[8]):o[5]>0&&xc(o)}}function xc(t){for(let d=Os(t);null!==d;d=ho(d))for(let p=10;p<d.length;p++){const m=d[p];if(1024&m[2]){const C=m[1];Bl(C,m,C.template,m[8])}else m[5]>0&&xc(m)}const o=t[1].components;if(null!==o)for(let d=0;d<o.length;d++){const p=Wn(o[d],t);mi(p)&&p[5]>0&&xc(p)}}function Bm(t,r){const o=Wn(r,t),d=o[1];(function xa(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])})(d,o),Ya(d,o,o[8])}function ef(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function tf(t){for(;t;){t[2]|=64;const r=Nn(t);if(fn(t)&&!r)return t;t=r}return null}function Ma(t,r,o){const d=r[10];d.begin&&d.begin();try{Bl(t,r,t.template,o)}catch(p){throw Oc(r,p),p}finally{d.end&&d.end()}}function nf(t){!function md(t){for(let r=0;r<t.components.length;r++){const o=t.components[r],d=ed(o),p=d[1];qh(p,d,p.template,o)}}(t[8])}function rf(t,r,o){qo(0),r(t,o)}const sh=(()=>Promise.resolve(null))();function gu(t){return t[7]||(t[7]=[])}function Mc(t){return t.cleanup||(t.cleanup=[])}function Oc(t,r){const o=t[9],d=o?o.get(Hd,null):null;d&&d.handleError(r)}function qp(t,r,o,d,p){for(let m=0;m<o.length;){const C=o[m++],x=o[m++],k=r[C],X=t.data[C];null!==X.setInput?X.setInput(k,p,d,x):k[x]=p}}function Ho(t,r,o){const d=Mt(r,t);!function Fh(t,r,o){Er(t)?t.setValue(r,o):r.textContent=o}(t[11],d,o)}function yd(t,r,o){let d=o?t.styles:null,p=o?t.classes:null,m=0;if(null!==r)for(let C=0;C<r.length;C++){const x=r[C];"number"==typeof x?m=x:1==m?p=Ie(p,x):2==m&&(d=Ie(d,x+": "+r[++C]+";"))}o?t.styles=d:t.stylesWithoutHost=d,o?t.classes=p:t.classesWithoutHost=p}const af=new Ui("INJECTOR",-1);class Zf{get(r,o=H){if(o===H){const d=new Error(`NullInjectorError: No provider for ${re(r)}!`);throw d.name="NullInjectorError",d}return o}}const Xf=new Ui("Set Injector scope."),lf={},Zp={};let uf;function Qf(){return void 0===uf&&(uf=new Zf),uf}function Jf(t,r=null,o=null,d){const p=$g(t,r,o,d);return p._resolveInjectorDefTypes(),p}function $g(t,r=null,o=null,d){return new _d(t,o,r||Qf(),d)}class _d{constructor(r,o,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];o&&Ii(o,x=>this.processProvider(x,r,o)),Ii([r],x=>this.processInjectorType(x,[],m)),this.records.set(af,oh(void 0,this));const C=this.records.get(Xf);this.scope=null!=C?C.value:null,this.source=p||("object"==typeof r?null:re(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=H,d=yn.Default){this.assertNotDestroyed();const p=Kr(this),m=vr(void 0);try{if(!(d&yn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const k=function Xp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ui}(r)&&ft(r);x=k&&this.injectableDefInScope(k)?oh(Ul(r),lf):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(d&yn.Self?Qf():this.parent).get(r,o=d&yn.Optional&&o===H?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[Ue]=C[Ue]||[]).unshift(re(r)),p)throw C;return function al(t,r,o,d){const p=t[Ue];throw r[$n]&&p.unshift(r[$n]),t.message=function Zl(t,r,o,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let p=re(r);if(Array.isArray(r))p=r.map(re).join(" -> ");else if("object"==typeof r){let m=[];for(let C in r)if(r.hasOwnProperty(C)){let x=r[C];m.push(C+":"+("string"==typeof x?JSON.stringify(x):re(x)))}p=`{${m.join(", ")}}`}return`${o}${d?"("+d+")":""}[${p}]: ${t.replace(Rt,"\n  ")}`}("\n"+t.message,p,o,d),t.ngTokenPath=p,t[Ue]=null,t}(C,r,"R3InjectorError",this.source)}throw C}finally{vr(m),Kr(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,p)=>r.push(re(p))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processInjectorType(r,o,d){if(!(r=ee(r)))return!1;let p=hn(r);const m=null==p&&r.ngModule||void 0,C=void 0===m?r:m,x=-1!==d.indexOf(C);if(void 0!==m&&(p=hn(m)),null==p)return!1;if(null!=p.imports&&!x){let se;d.push(C);try{Ii(p.imports,Ne=>{this.processInjectorType(Ne,o,d)&&(void 0===se&&(se=[]),se.push(Ne))})}finally{}if(void 0!==se)for(let Ne=0;Ne<se.length;Ne++){const{ngModule:it,providers:Dt}=se[Ne];Ii(Dt,Zt=>this.processProvider(Zt,it,Dt||Re))}}this.injectorDefTypes.add(C);const k=li(C)||(()=>new C);this.records.set(C,oh(k,lf));const X=p.providers;if(null!=X&&!x){const se=r;Ii(X,Ne=>this.processProvider(Ne,se,X))}return void 0!==m&&void 0!==r.providers}processProvider(r,o,d){let p=Xu(r=ee(r))?r:ee(r&&r.provide);const m=function ep(t,r,o){return vd(t)?oh(void 0,t.useValue):oh(cf(t),lf)}(r);if(Xu(r)||!0!==r.multi)this.records.get(p);else{let C=this.records.get(p);C||(C=oh(void 0,lf,!0),C.factory=()=>Cu(C.multi),this.records.set(p,C)),p=r,C.multi.push(r)}this.records.set(p,m)}hydrate(r,o){return o.value===lf&&(o.value=Zp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function df(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ee(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Ul(t){const r=ft(t),o=null!==r?r.factory:li(t);if(null!==o)return o;if(t instanceof Ui)throw new He(204,!1);if(t instanceof Function)return function jg(t){const r=t.length;if(r>0)throw ra(r,"?"),new He(204,!1);const o=function zt(t){const r=t&&(t[Fn]||t[er]);if(r){const o=function Jt(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new He(204,!1)}function cf(t,r,o){let d;if(Xu(t)){const p=ee(t);return li(p)||Ul(p)}if(vd(t))d=()=>ee(t.useValue);else if(function tp(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...Cu(t.deps||[]));else if(function Um(t){return!(!t||!t.useExisting)}(t))d=()=>yi(ee(t.useExisting));else{const p=ee(t&&(t.useClass||t.provide));if(!function rp(t){return!!t.deps}(t))return li(p)||Ul(p);d=()=>new p(...Cu(t.deps))}return d}function oh(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function vd(t){return null!==t&&"object"==typeof t&&or in t}function Xu(t){return"function"==typeof t}let Xa=(()=>{class t{static create(o,d){var p;if(Array.isArray(o))return Jf({name:""},d,o,"");{const m=null!==(p=o.name)&&void 0!==p?p:"";return Jf({name:m},o.parent,o.providers,m)}}}return t.THROW_IF_NOT_FOUND=H,t.NULL=new Zf,t.\u0275prov=st({token:t,providedIn:"any",factory:()=>yi(af)}),t.__NG_ELEMENT_ID__=-1,t})();function tg(t,r){Wl(ed(t)[1],oe())}function ch(t){let r=function rg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const d=[t];for(;r;){let p;if(Ut(t))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new He(903,"");p=r.\u0275dir}if(p){if(o){d.push(p);const C=t;C.inputs=dh(t.inputs),C.declaredInputs=dh(t.declaredInputs),C.outputs=dh(t.outputs);const x=p.hostBindings;x&&$m(t,x);const k=p.viewQuery,X=p.contentQueries;if(k&&vl(t,k),X&&Wg(t,X),_e(t.inputs,p.inputs),_e(t.declaredInputs,p.declaredInputs),_e(t.outputs,p.outputs),Ut(p)&&p.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let C=0;C<m.length;C++){const x=m[C];x&&x.ngInherit&&x(t),x===ch&&(o=!1)}}r=Object.getPrototypeOf(r)}!function ig(t){let r=0,o=null;for(let d=t.length-1;d>=0;d--){const p=t[d];p.hostVars=r+=p.hostVars,p.hostAttrs=zn(p.hostAttrs,o=zn(o,p.hostAttrs))}}(d)}function dh(t){return t===qn?{}:t===Re?[]:t}function vl(t,r){const o=t.viewQuery;t.viewQuery=o?(d,p)=>{r(d,p),o(d,p)}:r}function Wg(t,r){const o=t.contentQueries;t.contentQueries=o?(d,p,m)=>{r(d,p,m),o(d,p,m)}:r}function $m(t,r){const o=t.hostBindings;t.hostBindings=o?(d,p)=>{r(d,p),o(d,p)}:r}let hh=null;function kc(){if(!hh){const t=Tn.Symbol;if(t&&t.iterator)hh=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const d=r[o];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(hh=d)}}}return hh}function fh(t){return!!gf(t)&&(Array.isArray(t)||!(t instanceof Map)&&kc()in t)}function gf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $l(t,r,o){return t[r]=o}function Go(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function wd(t,r,o,d){const p=Go(t,r,o);return Go(t,r+1,d)||p}function ap(t,r,o,d,p){const m=wd(t,r,o,d);return Go(t,r+2,p)||m}function lp(t,r,o,d){const p=R();return Go(p,Xs(),r)&&(b(),Za(ts(),p,t,r,o,d)),lp}function Id(t,r,o,d){return Go(t,Xs(),o)?r+Oe(o)+d:Ar}function Jg(t,r,o,d,p,m,C,x){const k=R(),X=b(),se=t+20,Ne=X.firstCreatePass?function Qg(t,r,o,d,p,m,C,x,k){const X=r.consts,se=Cc(r,t,4,C||null,Jr(X,x));Ac(r,o,se,Jr(X,k)),Wl(r,se);const Ne=se.tViews=hd(2,se,d,p,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,X);return null!==r.queries&&(r.queries.template(r,se),Ne.queries=r.queries.embeddedTView(se)),se}(se,X,k,r,o,d,p,m,C):X.data[se];Rn(Ne,!1);const it=k[11].createComment("");uu(X,k,it,Ne),ws(it,k),ef(k,k[se]=Kf(it,k,it,Ne)),xt(Ne)&&Tc(X,k,Ne),null!=C&&Xd(k,Ne,x)}function em(t){return Sr(function Oi(){return Gn.lFrame.contextLView}(),20+t)}function bl(t,r=yn.Default){const o=R();return null===o?yi(t,r):gn(oe(),o,ee(t),r)}function jc(){throw new Error("invalid")}function Sd(t,r,o){const d=R();return Go(d,Xs(),r)&&qa(b(),ts(),d,t,r,d[11],o,!1),Sd}function mg(t,r,o,d,p){const C=p?"class":"style";qp(t,o,r.inputs[C],C,d)}function yf(t,r,o,d){const p=R(),m=b(),C=20+t,x=p[11],k=p[C]=ml(x,r,function Jo(){return Gn.lFrame.currentNamespace}()),X=m.firstCreatePass?function qm(t,r,o,d,p,m,C){const x=r.consts,X=Cc(r,t,2,p,Jr(x,m));return Ac(r,o,X,Jr(x,C)),null!==X.attrs&&yd(X,X.attrs,!1),null!==X.mergedAttrs&&yd(X,X.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,X),X}(C,m,p,0,r,o,d):m.data[C];Rn(X,!0);const se=X.mergedAttrs;null!==se&&Ts(x,k,se);const Ne=X.classes;null!==Ne&&Mp(x,k,Ne);const it=X.styles;return null!==it&&xp(x,k,it),64!=(64&X.flags)&&uu(m,p,k,X),0===function G(){return Gn.lFrame.elementDepthCount}()&&ws(k,p),function B(){Gn.lFrame.elementDepthCount++}(),xt(X)&&(Tc(m,p,X),dd(m,X,p)),null!==d&&Xd(p,X),yf}function _f(){let t=oe();cr()?dr():(t=t.parent,Rn(t,!1));const r=t;!function L(){Gn.lFrame.elementDepthCount--}();const o=b();return o.firstCreatePass&&(Wl(o,t),dt(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Eu(t){return 0!=(16&t.flags)}(r)&&mg(o,r,R(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function rl(t){return 0!=(32&t.flags)}(r)&&mg(o,r,R(),r.stylesWithoutHost,!1),_f}function gh(t,r,o,d){return yf(t,r,o,d),_f(),gh}function Ad(t,r,o){const d=R(),p=b(),m=t+20,C=p.firstCreatePass?function Hc(t,r,o,d,p){const m=r.consts,C=Jr(m,d),x=Cc(r,t,8,"ng-container",C);return null!==C&&yd(x,C,!0),Ac(r,o,x,Jr(m,p)),null!==r.queries&&r.queries.elementStart(r,x),x}(m,p,d,r,o):p.data[m];Rn(C,!0);const x=d[m]=d[11].createComment("");return uu(p,d,x,C),ws(x,d),xt(C)&&(Tc(p,d,C),dd(p,C,d)),null!=o&&Xd(d,C),Ad}function Gc(){let t=oe();const r=b();return cr()?dr():(t=t.parent,Rn(t,!1)),r.firstCreatePass&&(Wl(r,t),dt(t)&&r.queries.elementEnd(t)),Gc}function Oa(t,r,o){return Ad(t,r,o),Gc(),Oa}function gp(){return R()}function yg(t){return!!t&&"function"==typeof t.then}function fm(t){return!!t&&"function"==typeof t.subscribe}const pm=fm;function vf(t,r,o,d){const p=R(),m=b(),C=oe();return function u(t,r,o,d,p,m,C,x){const k=xt(d),se=t.firstCreatePass&&Mc(t),Ne=r[8],it=gu(r);let Dt=!0;if(3&d.type||x){const kn=Yt(d,r),Qn=x?x(kn):kn,tn=it.length,yr=x?Mi=>x($(Mi[d.index])):d.index;if(Er(o)){let Mi=null;if(!x&&k&&(Mi=function gm(t,r,o,d){const p=t.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const C=p[m];if(C===o&&p[m+1]===d){const x=r[7],k=p[m+2];return x.length>k?x[k]:null}"string"==typeof C&&(m+=2)}return null}(t,r,p,d.index)),null!==Mi)(Mi.__ngLastListenerFn__||Mi).__ngNextListenerFn__=m,Mi.__ngLastListenerFn__=m,Dt=!1;else{m=a(d,r,Ne,m,!1);const ps=o.listen(Qn,p,m);it.push(m,ps),se&&se.push(p,yr,tn,tn+1)}}else m=a(d,r,Ne,m,!0),Qn.addEventListener(p,m,C),it.push(m),se&&se.push(p,yr,tn,C)}else m=a(d,r,Ne,m,!1);const Zt=d.outputs;let In;if(Dt&&null!==Zt&&(In=Zt[p])){const kn=In.length;if(kn)for(let Qn=0;Qn<kn;Qn+=2){const sc=r[In[Qn]][In[Qn+1]].subscribe(m),bg=it.length;it.push(m,sc),se&&se.push(p,d.index,bg,-(bg+1))}}}(m,p,p[11],C,t,r,!!o,d),vf}function s(t,r,o,d){try{return!1!==o(d)}catch(p){return Oc(t,p),!1}}function a(t,r,o,d,p){return function m(C){if(C===Function)return d;const x=2&t.flags?Wn(t.index,r):r;0==(32&r[2])&&tf(x);let k=s(r,0,d,C),X=m.__ngNextListenerFn__;for(;X;)k=s(r,0,X,C)&&k,X=X.__ngNextListenerFn__;return p&&!1===k&&(C.preventDefault(),C.returnValue=!1),k}}function f(t=1){return function Xo(t){return(Gn.lFrame.contextLView=function Dl(t,r){for(;t>0;)r=r[15],t--;return r}(t,Gn.lFrame.contextLView))[8]}(t)}function v(t,r){let o=null;const d=function Tg(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(t);for(let p=0;p<r.length;p++){const m=r[p];if("*"!==m){if(null===d?da(t,m,!0):$h(d,m))return p}else o=p}return o}function D(t){const r=R()[16][6];if(!r.projection){const d=r.projection=ra(t?t.length:1,null),p=d.slice();let m=r.child;for(;null!==m;){const C=t?v(m,t):0;null!==C&&(p[C]?p[C].projectionNext=m:d[C]=m,p[C]=m),m=m.next}}}function M(t,r=0,o){const d=R(),p=b(),m=Cc(p,20+t,16,null,o||null);null===m.projection&&(m.projection=r),dr(),64!=(64&m.flags)&&function Ap(t,r,o){kl(r[11],0,r,o,Sp(t,o,r),lu(o.parent||r[6],o,r))}(p,d,m)}function ce(t,r,o,d,p){const m=R(),C=Id(m,r,o,d);return C!==Ar&&qa(b(),ts(),m,t,C,m[11],p,!1),ce}function no(t,r,o,d,p){const m=t[o+1],C=null===r;let x=d?Aa(m):Ku(m),k=!1;for(;0!==x&&(!1===k||C);){const se=t[x+1];mh(t[x],r)&&(k=!0,t[x+1]=d?ad(se):Pp(se)),x=d?Aa(se):Ku(se)}k&&(t[o+1]=d?Pp(m):ad(m))}function mh(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ia(t,r)>=0}function mm(t,r,o){return Wo(t,r,o,!1),mm}function Qm(t,r){return Wo(t,r,null,!0),Qm}function Wo(t,r,o,d){const p=R(),m=b(),C=fo(2);m.firstUpdatePass&&function Sy(t,r,o,d){const p=t.data;if(null===p[o+1]){const m=p[Es()],C=function yh(t,r){return r>=t.expandoStartIndex}(t,o);(function My(t,r){return 0!=(t.flags&(r?16:32))})(m,d)&&null===r&&!C&&(r=!1),r=function Zy(t,r,o,d){const p=function el(t){const r=Gn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let m=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(o=_g(o=Jm(null,t,r,o,d),r.attrs,d),m=null);else{const C=r.directiveStylingLast;if(-1===C||t[C]!==p)if(o=Jm(p,t,r,o,d),null===m){let k=function Xy(t,r,o){const d=o?r.classBindings:r.styleBindings;if(0!==Ku(d))return t[Aa(d)]}(t,r,d);void 0!==k&&Array.isArray(k)&&(k=Jm(null,t,r,k[1],d),k=_g(k,r.attrs,d),function Qy(t,r,o,d){t[Aa(o?r.classBindings:r.styleBindings)]=d}(t,r,d,k))}else m=function Jy(t,r,o){let d;const p=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<p;m++)d=_g(d,t[m].hostAttrs,o);return _g(d,r.attrs,o)}(t,r,d)}return void 0!==m&&(d?r.residualClasses=m:r.residualStyles=m),o}(p,m,r,d),function to(t,r,o,d,p,m){let C=m?r.classBindings:r.styleBindings,x=Aa(C),k=Ku(C);t[d]=o;let se,X=!1;if(Array.isArray(o)){const Ne=o;se=Ne[1],(null===se||ia(Ne,se)>0)&&(X=!0)}else se=o;if(p)if(0!==k){const it=Aa(t[x+1]);t[d+1]=hu(it,x),0!==it&&(t[it+1]=Np(t[it+1],d)),t[x+1]=function Sm(t,r){return 131071&t|r<<17}(t[x+1],d)}else t[d+1]=hu(x,0),0!==x&&(t[x+1]=Np(t[x+1],d)),x=d;else t[d+1]=hu(k,0),0===x?x=d:t[k+1]=Np(t[k+1],d),k=d;X&&(t[d+1]=Pp(t[d+1])),no(t,se,d,!0),no(t,se,d,!1),function cs(t,r,o,d,p){const m=p?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof r&&ia(m,r)>=0&&(o[d+1]=ad(o[d+1]))}(r,se,t,d,m),C=hu(x,k),m?r.classBindings=C:r.styleBindings=C}(p,m,r,o,C,d)}}(m,t,C,d),r!==Ar&&Go(p,C,r)&&function xy(t,r,o,d,p,m,C,x){if(!(3&r.type))return;const k=t.data,X=k[x+1];Ep(function Yd(t){return 1==(1&t)}(X)?bf(k,r,o,p,Ku(X),C):void 0)||(Ep(m)||function Hh(t){return 2==(2&t)}(X)&&(m=bf(k,null,o,p,x,C)),function du(t,r,o,d,p){const m=Er(t);if(r)p?m?t.addClass(o,d):o.classList.add(d):m?t.removeClass(o,d):o.classList.remove(d);else{let C=-1===d.indexOf("-")?void 0:Y.DashCase;if(null==p)m?t.removeStyle(o,d,C):o.style.removeProperty(d);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),C|=Y.Important),m?t.setStyle(o,d,p,C):o.style.setProperty(d,p,x?"important":"")}}}(d,C,Mt(Es(),o),p,m))}(m,m.data[Es()],p,p[11],t,p[C+1]=function n_(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=re(cl(t)))),t}(r,o),d,C)}function Jm(t,r,o,d,p){let m=null;const C=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<C&&(m=r[x],d=_g(d,m.hostAttrs,p),m!==t);)x++;return null!==t&&(o.directiveStylingLast=x),d}function _g(t,r,o){const d=o?1:2;let p=-1;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?p=C:p===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ss(t,C,!!o||r[++m]))}return void 0===t?null:t}function bf(t,r,o,d,p,m){const C=null===r;let x;for(;p>0;){const k=t[p],X=Array.isArray(k),se=X?k[1]:k,Ne=null===se;let it=o[p+1];it===Ar&&(it=Ne?Re:void 0);let Dt=Ne?gr(it,d):se===d?it:void 0;if(X&&!Ep(Dt)&&(Dt=gr(k,d)),Ep(Dt)&&(x=Dt,C))return x;const Zt=t[p+1];p=C?Aa(Zt):Ku(Zt)}if(null!==r){let k=m?r.residualClasses:r.residualStyles;null!=k&&(x=gr(k,d))}return x}function Ep(t){return void 0!==t}function Ry(t,r=""){const o=R(),d=b(),p=t+20,m=d.firstCreatePass?Cc(d,p,1,r,null):d.data[p],C=o[p]=function Uo(t,r){return Er(t)?t.createText(r):t.createTextNode(r)}(o[11],r);uu(d,o,C,m),Rn(m,!1)}function ey(t){return _m("",t,""),ey}function _m(t,r,o){const d=R(),p=Id(d,t,r,o);return p!==Ar&&Ho(d,Es(),p),_m}function ty(t,r,o,d,p){const m=R(),C=function Bc(t,r,o,d,p,m){const x=wd(t,_s(),o,p);return fo(2),x?r+Oe(o)+d+Oe(p)+m:Ar}(m,t,r,o,d,p);return C!==Ar&&Ho(m,Es(),C),ty}function ny(t,r,o,d,p,m,C){const x=R(),k=function bo(t,r,o,d,p,m,C,x){const X=ap(t,_s(),o,p,C);return fo(3),X?r+Oe(o)+d+Oe(p)+m+Oe(C)+x:Ar}(x,t,r,o,d,p,m,C);return k!==Ar&&Ho(x,Es(),k),ny}const vg=void 0;var hE=["en",[["a","p"],["AM","PM"],vg],[["AM","PM"],vg,vg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vg,"{1} 'at' {0}",vg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dE(t){const o=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let vm={};function s_(t){const r=function fE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ov(r);if(o)return o;const d=r.split("-")[0];if(o=ov(d),o)return o;if("en"===d)return hE;throw new Error(`Missing locale data for the locale "${t}".`)}function sv(t){return s_(t)[wr.PluralCase]}function ov(t){return t in vm||(vm[t]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[t]),vm[t]}var wr=(()=>((wr=wr||{})[wr.LocaleId=0]="LocaleId",wr[wr.DayPeriodsFormat=1]="DayPeriodsFormat",wr[wr.DayPeriodsStandalone=2]="DayPeriodsStandalone",wr[wr.DaysFormat=3]="DaysFormat",wr[wr.DaysStandalone=4]="DaysStandalone",wr[wr.MonthsFormat=5]="MonthsFormat",wr[wr.MonthsStandalone=6]="MonthsStandalone",wr[wr.Eras=7]="Eras",wr[wr.FirstDayOfWeek=8]="FirstDayOfWeek",wr[wr.WeekendRange=9]="WeekendRange",wr[wr.DateFormat=10]="DateFormat",wr[wr.TimeFormat=11]="TimeFormat",wr[wr.DateTimeFormat=12]="DateTimeFormat",wr[wr.NumberSymbols=13]="NumberSymbols",wr[wr.NumberFormats=14]="NumberFormats",wr[wr.CurrencyCode=15]="CurrencyCode",wr[wr.CurrencySymbol=16]="CurrencySymbol",wr[wr.CurrencyName=17]="CurrencyName",wr[wr.Currencies=18]="Currencies",wr[wr.Directionality=19]="Directionality",wr[wr.PluralCase=20]="PluralCase",wr[wr.ExtraData=21]="ExtraData",wr))();const Oy="en-US";let av=Oy;function l_(t,r,o,d,p){if(t=ee(t),Array.isArray(t))for(let m=0;m<t.length;m++)l_(t[m],r,o,d,p);else{const m=b(),C=R();let x=Xu(t)?t:ee(t.provide),k=cf(t);const X=oe(),se=1048575&X.providerIndexes,Ne=X.directiveStart,it=X.providerIndexes>>20;if(Xu(t)||!t.multi){const Dt=new nl(k,p,bl),Zt=c_(x,r,p?se:se+it,Ne);-1===Zt?(ue(A(X,C),m,x),u_(m,t,r.length),r.push(x),X.directiveStart++,X.directiveEnd++,p&&(X.providerIndexes+=1048576),o.push(Dt),C.push(Dt)):(o[Zt]=Dt,C[Zt]=Dt)}else{const Dt=c_(x,r,se+it,Ne),Zt=c_(x,r,se,se+it),In=Dt>=0&&o[Dt],kn=Zt>=0&&o[Zt];if(p&&!kn||!p&&!In){ue(A(X,C),m,x);const Qn=function db(t,r,o,d,p){const m=new nl(t,o,bl);return m.multi=[],m.index=r,m.componentProviders=0,Rv(m,p,d&&!o),m}(p?cb:ub,o.length,p,d,k);!p&&kn&&(o[Zt].providerFactory=Qn),u_(m,t,r.length,0),r.push(x),X.directiveStart++,X.directiveEnd++,p&&(X.providerIndexes+=1048576),o.push(Qn),C.push(Qn)}else u_(m,t,Dt>-1?Dt:Zt,Rv(o[p?Zt:Dt],k,!p&&d));!p&&d&&kn&&o[Zt].componentProviders++}}}function u_(t,r,o,d){const p=Xu(r),m=function np(t){return!!t.useClass}(r);if(p||m){const k=(m?ee(r.useClass):r).prototype.ngOnDestroy;if(k){const X=t.destroyHooks||(t.destroyHooks=[]);if(!p&&r.multi){const se=X.indexOf(o);-1===se?X.push(o,[d,k]):X[se+1].push(d,k)}else X.push(o,k)}}}function Rv(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function c_(t,r,o,d){for(let p=o;p<d;p++)if(r[p]===t)return p;return-1}function ub(t,r,o,d){return d_(this.multi,[])}function cb(t,r,o,d){const p=this.multi;let m;if(this.providerFactory){const C=this.providerFactory.componentProviders,x=bs(o,o[1],this.providerFactory.index,d);m=x.slice(0,C),d_(p,m);for(let k=C;k<x.length;k++)m.push(x[k])}else m=[],d_(p,m);return m}function d_(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function Ov(t,r=[]){return o=>{o.providersResolver=(d,p)=>function lb(t,r,o){const d=b();if(d.firstCreatePass){const p=Ut(t);l_(o,d.data,d.blueprint,p,!0),l_(r,d.data,d.blueprint,p,!1)}}(d,p?p(t):t,r)}}class Pv{}class pb{resolveComponentFactory(r){throw function fb(t){const r=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Ly=(()=>{class t{}return t.NULL=new pb,t})();function gb(){return bm(oe(),R())}function bm(t,r){return new ly(Yt(t,r))}let ly=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=gb,t})();function mb(t){return t instanceof ly?t.nativeElement:t}class kv{}let yb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function vb(){const t=R(),o=Wn(oe().index,t);return function _b(t){return t[11]}(Se(o)?o:t)}(),t})(),Eb=(()=>{class t{}return t.\u0275prov=st({token:t,providedIn:"root",factory:()=>null}),t})();class Fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Lv=new Fv("13.2.7"),h_={};function By(t,r,o,d,p=!1){for(;null!==o;){const m=r[o.index];if(null!==m&&d.push($(m)),Ve(m))for(let x=10;x<m.length;x++){const k=m[x],X=k[1].firstChild;null!==X&&By(k[1],k,X,d)}const C=o.type;if(8&C)By(t,r,o.child,d);else if(32&C){const x=ht(o,r);let k;for(;k=x();)d.push(k)}else if(16&C){const x=Gu(r,o);if(Array.isArray(x))d.push(...x);else{const k=Nn(r[16]);By(k[1],k,x,d,!0)}}o=p?o.projectionNext:o.next}return d}class uy{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return By(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ve(r)){const o=r[8],d=o?o.indexOf(this):-1;d>-1&&(Uu(r,d),yo(o,d))}this._attachedToViewContainer=!1}ou(this._lView[1],this._lView)}onDestroy(r){Xh(this._lView[1],this._lView,null,r)}markForCheck(){tf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ma(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Bg(t,r,o){Ki(!0);try{Ma(t,r,o)}finally{Ki(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new He(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $o(t,r){yl(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new He(902,"");this._appRef=r}}class bb extends uy{constructor(r){super(r),this._view=r}detectChanges(){nf(this._view)}checkNoChanges(){!function qf(t){Ki(!0);try{nf(t)}finally{Ki(!1)}}(this._view)}get context(){return null}}class Bv extends Ly{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Hr(r);return new f_(o,this.ngModule)}}function Vv(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class f_ extends Pv{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function jh(t){return t.map(sd).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Vv(this.componentDef.inputs)}get outputs(){return Vv(this.componentDef.outputs)}create(r,o,d,p){const m=(p=p||this.ngModule)?function Ib(t,r){return{get:(o,d,p)=>{const m=t.get(o,h_,p);return m!==h_||d===h_?m:r.get(o,d,p)}}}(r,p.injector):r,C=m.get(kv,U),x=m.get(Eb,null),k=C.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",se=d?function zp(t,r,o){if(Er(t))return t.selectRootElement(r,o===At.ShadowDom);let d="string"==typeof r?t.querySelector(r):r;return d.textContent="",d}(k,d,this.componentDef.encapsulation):ml(C.createRenderer(null,this.componentDef),X,function wb(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(X)),Ne=this.componentDef.onPush?576:528,it=function Nc(t,r){return{components:[],scheduler:t||nd,clean:sh,playerHandler:r||null,flags:0}}(),Dt=hd(0,null,null,1,0,null,null,null,null,null),Zt=ud(null,Dt,it,Ne,null,null,C,k,x,m);let In,kn;Zo(Zt);try{const Qn=function bd(t,r,o,d,p,m){const C=o[1];o[20]=t;const k=Cc(C,20,2,"#host",null),X=k.mergedAttrs=r.hostAttrs;null!==X&&(yd(k,X,!0),null!==t&&(Ts(p,t,X),null!==k.classes&&Mp(p,t,k.classes),null!==k.styles&&xp(p,t,k.styles)));const se=d.createRenderer(t,r),Ne=ud(o,Hf(r),null,r.onPush?64:16,o[20],k,d,se,m||null,null);return C.firstCreatePass&&(ue(A(k,o),C,r.type),Jh(C,k),Fg(k,o.length,1)),ef(o,Ne),o[20]=Ne}(se,this.componentDef,Zt,C,k);if(se)if(d)Ts(k,se,["ng-version",Lv.full]);else{const{attrs:tn,classes:yr}=function od(t){const r=[],o=[];let d=1,p=2;for(;d<t.length;){let m=t[d];if("string"==typeof m)2===p?""!==m&&r.push(m,t[++d]):8===p&&o.push(m);else{if(!Sa(p))break;p=m}d++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);tn&&Ts(k,se,tn),yr&&yr.length>0&&Mp(k,se,yr.join(" "))}if(kn=Jn(Dt,20),void 0!==o){const tn=kn.projection=[];for(let yr=0;yr<this.ngContentSelectors.length;yr++){const Mi=o[yr];tn.push(null!=Mi?Array.from(Mi):null)}}In=function pf(t,r,o,d,p){const m=o[1],C=function qu(t,r,o){const d=oe();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),nh(t,d,r,Dc(t,r,1,null),o));const p=bs(r,t,d.directiveStart,d);ws(p,r);const m=Yt(d,r);return m&&ws(m,r),p}(m,o,r);if(d.components.push(C),t[8]=C,p&&p.forEach(k=>k(C,r)),r.contentQueries){const k=oe();r.contentQueries(1,C,k.directiveStart)}const x=oe();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Qo(x.index),pd(o[1],x,0,x.directiveStart,x.directiveEnd,r),zf(r,C)),C}(Qn,this.componentDef,Zt,it,[tg]),Ya(Dt,Zt,null)}finally{tl()}return new Db(this.componentType,In,bm(kn,Zt),Zt,kn)}}class Db extends class hb{}{constructor(r,o,d,p,m){super(),this.location=d,this._rootLView=p,this._tNode=m,this.instance=o,this.hostView=this.changeDetectorRef=new bb(p),this.componentType=r}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class wm{}class Uv{}const Im=new Map;class Hv extends wm{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bv(this);const d=xr(r);this._bootstrapComponents=gl(d.bootstrap),this._r3Injector=$g(r,o,[{provide:wm,useValue:this},{provide:Ly,useValue:this.componentFactoryResolver}],re(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Xa.THROW_IF_NOT_FOUND,d=yn.Default){return r===Xa||r===wm||r===af?this:this._r3Injector.get(r,o,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class p_ extends Uv{constructor(r){super(),this.moduleType=r,null!==xr(r)&&function Sb(t){const r=new Set;!function o(d){const p=xr(d,!0),m=p.id;null!==m&&(function $v(t,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${t} - ${re(r)} vs ${re(r.name)}`)}(m,Im.get(m),d),Im.set(m,d));const C=gl(p.imports);for(const x of C)r.has(x)||(r.add(x),o(x))}(t)}(r)}create(r){return new Hv(this.moduleType,r)}}function Gv(t,r,o){const d=bi()+t,p=R();return p[d]===Ar?$l(p,d,o?r.call(o):r()):function Fc(t,r){return t[r]}(p,d)}function zv(t,r,o,d){return Kv(R(),bi(),t,r,o,d)}function Wv(t,r,o,d,p){return Yv(R(),bi(),t,r,o,d,p)}function cy(t,r){const o=t[r];return o===Ar?void 0:o}function Kv(t,r,o,d,p,m){const C=r+o;return Go(t,C,p)?$l(t,C+1,m?d.call(m,p):d(p)):cy(t,C+1)}function Yv(t,r,o,d,p,m,C){const x=r+o;return wd(t,x,p,m)?$l(t,x+2,C?d.call(C,p,m):d(p,m)):cy(t,x+2)}function Zv(t,r,o,d,p,m,C,x,k){const X=r+o;return function El(t,r,o,d,p,m){const C=wd(t,r,o,d);return wd(t,r+2,p,m)||C}(t,X,p,m,C,x)?$l(t,X+4,k?d.call(k,p,m,C,x):d(p,m,C,x)):cy(t,X+4)}function Qv(t,r){const o=b();let d;const p=t+20;o.firstCreatePass?(d=function kb(t,r){if(r)for(let o=r.length-1;o>=0;o--){const d=r[o];if(t===d.name)return d}}(r,o.pipeRegistry),o.data[p]=d,d.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(p,d.onDestroy)):d=o.data[p];const m=d.factory||(d.factory=li(d.type)),C=vr(bl);try{const x=La(!1),k=m();return La(x),function zm(t,r,o,d){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=d}(o,R(),p,k),k}finally{vr(C)}}function Jv(t,r,o){const d=t+20,p=R(),m=Sr(p,d);return dy(p,d)?Kv(p,bi(),r,m.transform,o,m):m.transform(o)}function e0(t,r,o,d){const p=t+20,m=R(),C=Sr(m,p);return dy(m,p)?Yv(m,bi(),r,C.transform,o,d,C):C.transform(o,d)}function t0(t,r,o,d,p){const m=t+20,C=R(),x=Sr(C,m);return dy(C,m)?function qv(t,r,o,d,p,m,C,x){const k=r+o;return ap(t,k,p,m,C)?$l(t,k+3,x?d.call(x,p,m,C):d(p,m,C)):cy(t,k+3)}(C,bi(),r,x.transform,o,d,p,x):x.transform(o,d,p)}function n0(t,r,o,d,p,m){const C=t+20,x=R(),k=Sr(x,C);return dy(x,C)?Zv(x,bi(),r,k.transform,o,d,p,m,k):k.transform(o,d,p,m)}function dy(t,r){return t[1].data[r].pure}function g_(t){return r=>{setTimeout(t,void 0,r)}}const _h=class Lb extends c.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,d){var p,m,C;let x=r,k=o||(()=>null),X=d;if(r&&"object"==typeof r){const Ne=r;x=null===(p=Ne.next)||void 0===p?void 0:p.bind(Ne),k=null===(m=Ne.error)||void 0===m?void 0:m.bind(Ne),X=null===(C=Ne.complete)||void 0===C?void 0:C.bind(Ne)}this.__isAsync&&(k=g_(k),x&&(x=g_(x)),X&&(X=g_(X)));const se=super.subscribe({next:x,error:k,complete:X});return r instanceof z.w&&r.add(se),se}};function Bb(){return this._results[kc()]()}class m_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=kc(),d=m_.prototype;d[o]||(d[o]=Bb)}get changes(){return this._changes||(this._changes=new _h)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const d=this;d.dirty=!1;const p=Pi(r);(this._changesDetected=!function $a(t,r,o){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let p=t[d],m=r[d];if(o&&(p=o(p),m=o(m)),m!==p)return!1}return!0}(d._results,p,o))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hy=(()=>{class t{}return t.__NG_ELEMENT_ID__=$b,t})();const Vb=hy,Ub=class extends Vb{constructor(r,o,d){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(r){const o=this._declarationTContainer.tViews,d=ud(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(o)),Ya(o,d,r),new uy(d)}};function $b(){return Vy(oe(),R())}function Vy(t,r){return 4&t.type?new Ub(r,t,bm(t,r)):null}let Uy=(()=>{class t{}return t.__NG_ELEMENT_ID__=jb,t})();function jb(){return o0(oe(),R())}const Hb=Uy,r0=class extends Hb{constructor(r,o,d){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=d}get element(){return bm(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const r=K(this._hostTNode,this._hostLView);if(Dn(r)){const o=br(r,this._hostLView),d=St(r);return new Gs(o[1].data[d+8],o)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=s0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,d){const p=r.createEmbeddedView(o||{});return this.insert(p,d),p}createComponent(r,o,d,p,m){const C=r&&!function $i(t){return"function"==typeof t}(r);let x;if(C)x=o;else{const Ne=o||{};x=Ne.index,d=Ne.injector,p=Ne.projectableNodes,m=Ne.ngModuleRef}const k=C?r:new f_(Hr(r)),X=d||this.parentInjector;if(!m&&null==k.ngModule){const it=(C?X:this.parentInjector).get(wm,null);it&&(m=it)}const se=k.create(X,p,void 0,m);return this.insert(se.hostView,x),se}insert(r,o){const d=r._lView,p=d[1];if(function Wr(t){return Ve(t[3])}(d)){const se=this.indexOf(r);if(-1!==se)this.detach(se);else{const Ne=d[3],it=new r0(Ne,Ne[6],Ne[3]);it.detach(it.indexOf(r))}}const m=this._adjustIndex(o),C=this._lContainer;!function Ec(t,r,o,d){const p=10+d,m=o.length;d>0&&(o[p-1][4]=r),d<m-10?(r[4]=o[p],sl(o,10+d,r)):(o.push(r),r[4]=null),r[3]=o;const C=r[17];null!==C&&o!==C&&function Vs(t,r){const o=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===o?t[9]=[r]:o.push(r)}(C,r);const x=r[19];null!==x&&x.insertView(t),r[2]|=128}(p,d,C,m);const x=Bh(m,C),k=d[11],X=zd(k,C[7]);return null!==X&&function Nl(t,r,o,d,p,m){d[0]=p,d[6]=r,yl(t,d,o,1,p,m)}(p,C[6],k,d,X,x),r.attachToViewContainerRef(),sl(y_(C),m,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=s0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),d=Uu(this._lContainer,o);d&&(yo(y_(this._lContainer),o),ou(d[1],d))}detach(r){const o=this._adjustIndex(r,-1),d=Uu(this._lContainer,o);return d&&null!=yo(y_(this._lContainer),o)?new uy(d):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function s0(t){return t[8]}function y_(t){return t[8]||(t[8]=[])}function o0(t,r){let o;const d=r[t.index];if(Ve(d))o=d;else{let p;if(8&t.type)p=$(d);else{const m=r[11];p=m.createComment("");const C=Yt(t,r);Wa(m,zd(m,C),p,function Wd(t,r){return Er(t)?t.nextSibling(r):r.nextSibling}(m,C),!1)}r[t.index]=o=Kf(d,r,p,t),ef(r,o)}return new r0(o,t,r)}class __{constructor(r){this.queryList=r,this.matches=null}clone(){return new __(this.queryList)}setDirty(){this.queryList.setDirty()}}class v_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const d=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let m=0;m<d;m++){const C=o.getByIndex(m);p.push(this.queries[C.indexInDeclarationView].clone())}return new v_(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==g0(r,o).matches&&this.queries[o].setDirty()}}class a0{constructor(r,o,d=null){this.predicate=r,this.flags=o,this.read=d}}class E_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let d=0;d<this.length;d++){const p=null!==o?o.length:0,m=this.getByIndex(d).embeddedTView(r,p);m&&(m.indexInDeclarationView=d,null!==o?o.push(m):o=[m])}return null!==o?new E_(o):null}template(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class b_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new b_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const m=d[p];this.matchTNodeWithReadOption(r,o,Wb(o,m)),this.matchTNodeWithReadOption(r,o,ei(o,r,m,!1,!1))}else d===hy?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ei(o,r,d,!1,!1))}matchTNodeWithReadOption(r,o,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===ly||p===Uy||p===hy&&4&o.type)this.addMatch(o.index,-2);else{const m=ei(o,r,p,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,d)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Wb(t,r){const o=t.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===r)return o[d+1];return null}function Yb(t,r,o,d){return-1===o?function Kb(t,r){return 11&t.type?bm(t,r):4&t.type?Vy(t,r):null}(r,t):-2===o?function qb(t,r,o){return o===ly?bm(r,t):o===hy?Vy(r,t):o===Uy?o0(r,t):void 0}(t,r,d):bs(t,t[1],o,r)}function l0(t,r,o,d){const p=r[19].queries[d];if(null===p.matches){const m=t.data,C=o.matches,x=[];for(let k=0;k<C.length;k+=2){const X=C[k];x.push(X<0?null:Yb(r,m[X],C[k+1],o.metadata.read))}p.matches=x}return p.matches}function w_(t,r,o,d){const p=t.queries.getByIndex(o),m=p.matches;if(null!==m){const C=l0(t,r,p,o);for(let x=0;x<m.length;x+=2){const k=m[x];if(k>0)d.push(C[x/2]);else{const X=m[x+1],se=r[-k];for(let Ne=10;Ne<se.length;Ne++){const it=se[Ne];it[17]===it[3]&&w_(it[1],it,X,d)}if(null!==se[9]){const Ne=se[9];for(let it=0;it<Ne.length;it++){const Dt=Ne[it];w_(Dt[1],Dt,X,d)}}}}}return d}function u0(t){const r=R(),o=b(),d=Na();qo(d+1);const p=g0(o,d);if(t.dirty&&rr(r)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const m=p.crossesNgTemplate?w_(o,r,d,[]):l0(o,r,p,d);t.reset(m,mb),t.notifyOnChanges()}return!0}return!1}function c0(t,r,o){const d=b();d.firstCreatePass&&(p0(d,new a0(t,r,o),-1),2==(2&r)&&(d.staticViewQueries=!0)),f0(d,R(),r)}function d0(t,r,o,d){const p=b();if(p.firstCreatePass){const m=oe();p0(p,new a0(r,o,d),m.index),function Xb(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(p,t),2==(2&o)&&(p.staticContentQueries=!0)}f0(p,R(),o)}function h0(){return function Zb(t,r){return t[19].queries[r].queryList}(R(),Na())}function f0(t,r,o){const d=new m_(4==(4&o));Xh(t,r,d,d.destroy),null===r[19]&&(r[19]=new v_),r[19].queries.push(new __(d))}function p0(t,r,o){null===t.queries&&(t.queries=new E_),t.queries.track(new b_(r,o))}function g0(t,r){return t.queries.getByIndex(r)}function m0(t,r){return Vy(t,r)}function Hy(...t){}const P0=new Ui("Application Initializer");let A_=(()=>{class t{constructor(o){this.appInits=o,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(yg(m))o.push(m);else if(pm(m)){const C=new Promise((x,k)=>{m.subscribe({complete:x,error:k})});o.push(C)}}Promise.all(o).then(()=>{d()}).catch(p=>{this.reject(p)}),0===o.length&&d(),this.initialized=!0}}return t.\u0275fac=function(o){return new(o||t)(yi(P0,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const N0=new Ui("AppId",{providedIn:"root",factory:function k0(){return`${x_()}${x_()}${x_()}`}});function x_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const F0=new Ui("Platform Initializer"),L0=new Ui("Platform ID"),B0=new Ui("appBootstrapListener");let V0=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const M_=new Ui("LocaleId",{providedIn:"root",factory:()=>ol(M_,yn.Optional|yn.SkipSelf)||function pw(){return"undefined"!=typeof $localize&&$localize.locale||Oy}()}),gw=new Ui("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let yw=(()=>{class t{compileModuleSync(o){return new p_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),m=gl(xr(o).declarations).reduce((C,x)=>{const k=Hr(x);return k&&C.push(new f_(k)),C},[]);return new mw(d,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vw=(()=>Promise.resolve(0))();function R_(t){"undefined"==typeof Zone?vw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class xd{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _h(!1),this.onMicrotaskEmpty=new _h(!1),this.onStable=new _h(!1),this.onError=new _h(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&o,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Ew(){let t=Tn.requestAnimationFrame,r=Tn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Iw(t){const r=()=>{!function ww(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,P_(t),t.isCheckStableRunning=!0,O_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),P_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,p,m,C,x)=>{try{return U0(t),o.invokeTask(p,m,C,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&r(),$0(t)}},onInvoke:(o,d,p,m,C,x,k)=>{try{return U0(t),o.invoke(p,m,C,x,k)}finally{t.shouldCoalesceRunChangeDetection&&r(),$0(t)}},onHasTask:(o,d,p,m)=>{o.hasTask(p,m),d===p&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,P_(t),O_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,d,p,m)=>(o.handleError(p,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,d){return this._inner.run(r,o,d)}runTask(r,o,d,p){const m=this._inner,C=m.scheduleEventTask("NgZoneEvent: "+p,r,bw,Hy,Hy);try{return m.runTask(C,o,d)}finally{m.cancelTask(C)}}runGuarded(r,o,d){return this._inner.runGuarded(r,o,d)}runOutsideAngular(r){return this._outer.run(r)}}const bw={};function O_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function P_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function U0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $0(t){t._nesting--,O_(t)}class Cw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _h,this.onMicrotaskEmpty=new _h,this.onStable=new _h,this.onError=new _h}run(r,o,d){return r.apply(o,d)}runGuarded(r,o,d){return r.apply(o,d)}runOutsideAngular(r){return r()}runTask(r,o,d,p){return r.apply(o,d)}}let j0=(()=>{class t{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xd.assertNotInAngularZone(),R_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())R_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,p){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:p})}whenStable(o,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,d,p){return[]}}return t.\u0275fac=function(o){return new(o||t)(yi(xd))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),H0=(()=>{class t{constructor(){this._applications=new Map,N_.addToWindow(this)}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return N_.findTestabilityInTree(this,o,d)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();class Dw{addToWindow(r){}findTestabilityInTree(r,o,d){return null}}function Tw(t){N_=t}let Md,N_=new Dw;const G0=new Ui("AllowMultipleToken");class xw{constructor(r,o){this.name=r,this.token=o}}function z0(t,r,o=[]){const d=`Platform: ${r}`,p=new Ui(d);return(m=[])=>{let C=W0();if(!C||C.injector.get(G0,!1))if(t)t(o.concat(m).concat({provide:p,useValue:!0}));else{const x=o.concat(m).concat({provide:p,useValue:!0},{provide:Xf,useValue:"platform"});!function Mw(t){if(Md&&!Md.destroyed&&!Md.injector.get(G0,!1))throw new He(400,"");Md=t.get(K0);const r=t.get(F0,null);r&&r.forEach(o=>o())}(Xa.create({providers:x,name:d}))}return function Rw(t){const r=W0();if(!r)throw new He(401,"");return r}()}}function W0(){return Md&&!Md.destroyed?Md:null}let K0=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const x=function Ow(t,r){let o;return o="noop"===t?new Cw:("zone.js"===t?void 0:t)||new xd({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),k=[{provide:xd,useValue:x}];return x.run(()=>{const X=Xa.create({providers:k,parent:this.injector,name:o.moduleType.name}),se=o.create(X),Ne=se.injector.get(Hd,null);if(!Ne)throw new He(402,"");return x.runOutsideAngular(()=>{const it=x.onError.subscribe({next:Dt=>{Ne.handleError(Dt)}});se.onDestroy(()=>{F_(this._modules,se),it.unsubscribe()})}),function Pw(t,r,o){try{const d=o();return yg(d)?d.catch(p=>{throw r.runOutsideAngular(()=>t.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(Ne,x,()=>{const it=se.injector.get(A_);return it.runInitializers(),it.donePromise.then(()=>(function yE(t){ze(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(se.injector.get(M_,Oy)||Oy),this._moduleDoBootstrap(se),se))})})}bootstrapModule(o,d=[]){const p=Y0({},d);return function Sw(t,r,o){const d=new p_(o);return Promise.resolve(d)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(o){const d=o.injector.get(k_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new He(403,"");o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(o){return new(o||t)(yi(Xa))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();function Y0(t,r){return Array.isArray(r)?r.reduce(Y0,t):Object.assign(Object.assign({},t),r)}let k_=(()=>{class t{constructor(o,d,p,m,C){this._zone=o,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new W.y(X=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{X.next(this._stable),X.complete()})}),k=new W.y(X=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{xd.assertNotInAngularZone(),R_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,X.next(!0))})})});const Ne=this._zone.onUnstable.subscribe(()=>{xd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{X.next(!1)}))});return()=>{se.unsubscribe(),Ne.unsubscribe()}});this.isStable=(0,ke.T)(x,k.pipe((0,Te.B)()))}bootstrap(o,d){if(!this._initStatus.done)throw new He(405,"");let p;p=o instanceof Pv?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(p.componentType);const m=function Aw(t){return t.isBoundToModule}(p)?void 0:this._injector.get(wm),x=p.create(Xa.NULL,[],d||p.selector,m),k=x.location.nativeElement,X=x.injector.get(j0,null),se=X&&x.injector.get(H0);return X&&se&&se.registerApplication(k,X),x.onDestroy(()=>{this.detachView(x.hostView),F_(this.components,x),se&&se.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new He(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;F_(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(B0,[]).concat(this._bootstrapListeners).forEach(p=>p(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(o){return new(o||t)(yi(xd),yi(Xa),yi(Hd),yi(Ly),yi(A_))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function F_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}let Z0=!0,X0=!1;function kw(){return X0=!0,Z0}function Fw(){if(X0)throw new Error("Cannot enable prod mode after platform setup.");Z0=!1}let Lw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bw,t})();function Bw(t){return function Vw(t,r,o){if(Ft(t)&&!o){const d=Wn(t.index,r);return new uy(d,d)}return 47&t.type?new uy(r[16],r):null}(oe(),R(),16==(16&t))}class tE{constructor(){}supports(r){return fh(r)}create(r){return new zw(r)}}const Gw=(t,r)=>r;class zw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Gw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,d=this._removalsHead,p=0,m=null;for(;o||d;){const C=!d||o&&o.currentIndex<rE(d,p,m)?o:d,x=rE(C,p,m),k=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(o=o._next,null==C.previousIndex)p++;else{m||(m=[]);const X=x-p,se=k-p;if(X!=se){for(let it=0;it<X;it++){const Dt=it<m.length?m[it]:m[it]=0,Zt=Dt+it;se<=Zt&&Zt<X&&(m[it]=Dt+1)}m[C.previousIndex]=se-X}}x!==k&&r(C,x,k)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!fh(r))throw new He(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,m,C,o=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)m=r[x],C=this._trackByFn(x,m),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,m,C,x)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,C,x),d=!0),o=o._next}else p=0,function Gm(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[kc()]();let d;for(;!(d=o.next()).done;)r(d.value)}}(r,x=>{C=this._trackByFn(p,x),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,x,C,p)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,C,p),d=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,d,p){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,m,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,m,p)):r=this._addAfter(new Ww(o,d),m,p),r}_verifyReinsertion(r,o,d,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?r=this._reinsertAfter(m,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,m=r._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(r,o,d),this._addToMoves(r,d),r}_moveAfter(r,o,d){return this._unlink(r),this._insertAfter(r,o,d),this._addToMoves(r,d),r}_addAfter(r,o,d){return this._insertAfter(r,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,d){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new nE),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,d=r._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Ww{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const o=r._prevDup,d=r._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class nE{constructor(){this.map=new Map}put(r){const o=r.trackById;let d=this.map.get(o);d||(d=new Kw,this.map.set(o,d)),d.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rE(t,r,o){const d=t.previousIndex;if(null===d)return d;let p=0;return o&&d<o.length&&(p=o[d]),d+r+p}class iE{constructor(){}supports(r){return r instanceof Map||gf(r)}create(){return new Yw}}class Yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||gf(r)))throw new He(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(p,d);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const d=r._prev;return o._next=r,o._prev=d,r._prev=o,d&&(d._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const m=p._prev,C=p._next;return m&&(m._next=C),C&&(C._prev=m),p._next=null,p._prev=null,p}const d=new qw(r);return this._records.set(r,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(d=>o(r[d],d))}}class qw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sE(){return new $_([new tE])}let $_=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(null!=d){const p=d.factories.slice();o=o.concat(p)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||sE()),deps:[[t,new oa,new Du]]}}find(o){const d=this.factories.find(p=>p.supports(o));if(null!=d)return d;throw new He(901,"")}}return t.\u0275prov=st({token:t,providedIn:"root",factory:sE}),t})();function oE(){return new j_([new iE])}let j_=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(d){const p=d.factories.slice();o=o.concat(p)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||oE()),deps:[[t,new oa,new Du]]}}find(o){const d=this.factories.find(m=>m.supports(o));if(d)return d;throw new He(901,"")}}return t.\u0275prov=st({token:t,providedIn:"root",factory:oE}),t})();const Qw=z0(null,"core",[{provide:L0,useValue:"unknown"},{provide:K0,deps:[Xa]},{provide:H0,deps:[]},{provide:V0,deps:[]}]);let Jw=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(yi(k_))},t.\u0275mod=Cr({type:t}),t.\u0275inj=ct({}),t})()},4182:(Qt,lt,N)=>{"use strict";N.d(lt,{on:()=>fe,u5:()=>Jr,JU:()=>ee,a5:()=>Zn,JJ:()=>Pr,JL:()=>Pn,F:()=>ve,On:()=>bn,UX:()=>os,Q7:()=>U,_Y:()=>Yn});var c=N(5e3),z=N(9808),W=N(2916),ke=N(6688),Te=N(4850),te=N(7830),_e=N(5254);function Ie(G,B){return new W.y(L=>{const he=G.length;if(0===he)return void L.complete();const Vt=new Array(he);let E=0,R=0;for(let b=0;b<he;b++){const j=(0,_e.D)(G[b]);let oe=!1;L.add(j.subscribe({next:Tt=>{oe||(oe=!0,R++),Vt[b]=Tt},error:Tt=>L.error(Tt),complete:()=>{E++,(E===he||!oe)&&(R===he&&L.next(B?B.reduce((Tt,ln,Rn)=>(Tt[ln]=Vt[Rn],Tt),{}):Vt),L.complete())}}))}})}let Z=(()=>{class G{constructor(L,he){this._renderer=L,this._elementRef=he,this.onChange=Vt=>{},this.onTouched=()=>{}}setProperty(L,he){this._renderer.setProperty(this._elementRef.nativeElement,L,he)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return G.\u0275fac=function(L){return new(L||G)(c.Y36(c.Qsj),c.Y36(c.SBq))},G.\u0275dir=c.lG2({type:G}),G})(),pe=(()=>{class G extends Z{}return G.\u0275fac=function(){let B;return function(he){return(B||(B=c.n5z(G)))(he||G)}}(),G.\u0275dir=c.lG2({type:G,features:[c.qOj]}),G})();const ee=new c.OlP("NgValueAccessor"),He={provide:ee,useExisting:(0,c.Gpc)(()=>Le),multi:!0},Oe=new c.OlP("CompositionEventMode");let Le=(()=>{class G extends Z{constructor(L,he,Vt){super(L,he),this._compositionMode=Vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const G=(0,z.q)()?(0,z.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return G.\u0275fac=function(L){return new(L||G)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Oe,8))},G.\u0275dir=c.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,he){1&L&&c.NdJ("input",function(E){return he._handleInput(E.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(E){return he._compositionEnd(E.target.value)})},features:[c._Bn([He]),c.qOj]}),G})();function et(G){return null==G||0===G.length}const Ye=new c.OlP("NgValidators"),yt=new c.OlP("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function nt(G){return et(G.value)?{required:!0}:null}function be(G){return et(G.value)||Pt.test(G.value)?null:{email:!0}}function Et(G){return null}function Ot(G){return null!=G}function ut(G){const B=(0,c.QGY)(G)?(0,_e.D)(G):G;return(0,c.CqO)(B),B}function ze(G){let B={};return G.forEach(L=>{B=null!=L?Object.assign(Object.assign({},B),L):B}),0===Object.keys(B).length?null:B}function q(G,B){return B.map(L=>L(G))}function Ze(G){return G.map(B=>function Ce(G){return!G.validate}(B)?B:L=>B.validate(L))}function st(G){return null!=G?function Me(G){if(!G)return null;const B=G.filter(Ot);return 0==B.length?null:function(L){return ze(q(L,B))}}(Ze(G)):null}function ct(G){return null!=G?function Xt(G){if(!G)return null;const B=G.filter(Ot);return 0==B.length?null:function(L){return function re(...G){if(1===G.length){const B=G[0];if((0,ke.k)(B))return Ie(B,null);if((0,te.K)(B)&&Object.getPrototypeOf(B)===Object.prototype){const L=Object.keys(B);return Ie(L.map(he=>B[he]),L)}}if("function"==typeof G[G.length-1]){const B=G.pop();return Ie(G=1===G.length&&(0,ke.k)(G[0])?G[0]:G,null).pipe((0,Te.U)(L=>B(...L)))}return Ie(G,null)}(q(L,B).map(ut)).pipe((0,Te.U)(ze))}}(Ze(G)):null}function ft(G,B){return null===G?[B]:Array.isArray(G)?[...G,B]:[G,B]}function Jt(G){return G?Array.isArray(G)?G:[G]:[]}function hn(G,B){return Array.isArray(G)?G.includes(B):G===B}function Fn(G,B){const L=Jt(B);return Jt(G).forEach(Vt=>{hn(L,Vt)||L.push(Vt)}),L}function Bn(G,B){return Jt(B).filter(L=>!hn(G,L))}class er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=st(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,L){return!!this.control&&this.control.hasError(B,L)}getError(B,L){return this.control?this.control.getError(B,L):null}}class Zn extends er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yn extends er{get formDirective(){return null}get path(){return null}}class Xr{constructor(B){this._cd=B}is(B){var L,he,Vt;return"submitted"===B?!!(null===(L=this._cd)||void 0===L?void 0:L.submitted):!!(null===(Vt=null===(he=this._cd)||void 0===he?void 0:he.control)||void 0===Vt?void 0:Vt[B])}}let Pr=(()=>{class G extends Xr{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(c.Y36(Zn,2))},G.\u0275dir=c.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,he){2&L&&c.ekj("ng-untouched",he.is("untouched"))("ng-touched",he.is("touched"))("ng-pristine",he.is("pristine"))("ng-dirty",he.is("dirty"))("ng-valid",he.is("valid"))("ng-invalid",he.is("invalid"))("ng-pending",he.is("pending"))},features:[c.qOj]}),G})(),Pn=(()=>{class G extends Xr{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(c.Y36(yn,10))},G.\u0275dir=c.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,he){2&L&&c.ekj("ng-untouched",he.is("untouched"))("ng-touched",he.is("touched"))("ng-pristine",he.is("pristine"))("ng-dirty",he.is("dirty"))("ng-valid",he.is("valid"))("ng-invalid",he.is("invalid"))("ng-pending",he.is("pending"))("ng-submitted",he.is("submitted"))},features:[c.qOj]}),G})();function We(G,B){Sn(G,B),B.valueAccessor.writeValue(G.value),function fr(G,B){B.valueAccessor.registerOnChange(L=>{G._pendingValue=L,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&an(G,B)})}(G,B),function Cr(G,B){const L=(he,Vt)=>{B.valueAccessor.writeValue(he),Vt&&B.viewToModelUpdate(he)};G.registerOnChange(L),B._registerOnDestroy(()=>{G._unregisterOnChange(L)})}(G,B),function un(G,B){B.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&an(G,B),"submit"!==G.updateOn&&G.markAsTouched()})}(G,B),function En(G,B){if(B.valueAccessor.setDisabledState){const L=he=>{B.valueAccessor.setDisabledState(he)};G.registerOnDisabledChange(L),B._registerOnDestroy(()=>{G._unregisterOnDisabledChange(L)})}}(G,B)}function qt(G,B){G.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(B)})}function Sn(G,B){const L=function Nt(G){return G._rawValidators}(G);null!==B.validator?G.setValidators(ft(L,B.validator)):"function"==typeof L&&G.setValidators([L]);const he=function zt(G){return G._rawAsyncValidators}(G);null!==B.asyncValidator?G.setAsyncValidators(ft(he,B.asyncValidator)):"function"==typeof he&&G.setAsyncValidators([he]);const Vt=()=>G.updateValueAndValidity();qt(B._rawValidators,Vt),qt(B._rawAsyncValidators,Vt)}function an(G,B){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Ji(G,B){const L=G.indexOf(B);L>-1&&G.splice(L,1)}const Nr="VALID",pr="INVALID",Vr="PENDING",nn="DISABLED";function ye(G){return(Ti(G)?G.validators:G)||null}function Ur(G){return Array.isArray(G)?st(G):G||null}function qr(G,B){return(Ti(B)?B.asyncValidators:G)||null}function sr(G){return Array.isArray(G)?ct(G):G||null}function Ti(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}const tr=G=>G instanceof zr;function Hn(G){return(G=>G instanceof Si)(G)?G.value:G.getRawValue()}function Gr(G,B){const L=tr(G),he=G.controls;if(!(L?Object.keys(he):he).length)throw new c.vHH(1e3,"");if(!he[B])throw new c.vHH(1001,"")}function ci(G,B){tr(G),G._forEachChild((he,Vt)=>{if(void 0===B[Vt])throw new c.vHH(1002,"")})}class Fi{constructor(B,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=L,this._composedValidatorFn=Ur(this._rawValidators),this._composedAsyncValidatorFn=sr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===Nr}get invalid(){return this.status===pr}get pending(){return this.status==Vr}get disabled(){return this.status===nn}get enabled(){return this.status!==nn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Ur(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=sr(B)}addValidators(B){this.setValidators(Fn(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(Fn(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Bn(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Bn(B,this._rawAsyncValidators))}hasValidator(B){return hn(this._rawValidators,B)}hasAsyncValidator(B){return hn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Vr,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const L=this._parentMarkedDirty(B.onlySelf);this.status=nn,this.errors=null,this._forEachChild(he=>{he.disable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:L})),this._onDisabledChange.forEach(he=>he(!0))}enable(B={}){const L=this._parentMarkedDirty(B.onlySelf);this.status=Nr,this._forEachChild(he=>{he.enable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:L})),this._onDisabledChange.forEach(he=>he(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nr||this.status===Vr)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nn:Nr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Vr,this._hasOwnPendingAsyncValidator=!0;const L=ut(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(he=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(he,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,L={}){this.errors=B,this._updateControlsErrors(!1!==L.emitEvent)}get(B){return function Cn(G,B,L){if(null==B||(Array.isArray(B)||(B=B.split(L)),Array.isArray(B)&&0===B.length))return null;let he=G;return B.forEach(Vt=>{he=tr(he)?he.controls.hasOwnProperty(Vt)?he.controls[Vt]:null:(G=>G instanceof pi)(he)&&he.at(Vt)||null}),he}(this,B,".")}getError(B,L){const he=L?this.get(L):this;return he&&he.errors?he.errors[B]:null}hasError(B,L){return!!this.getError(B,L)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?nn:this.errors?pr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vr)?Vr:this._anyControlsHaveStatus(pr)?pr:Nr}_anyControlsHaveStatus(B){return this._anyControls(L=>L.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_isBoxedValue(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Ti(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Si extends Fi{constructor(B=null,L,he){super(ye(L),qr(he,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ti(L)&&L.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(B)?B.value:B)}setValue(B,L={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(he=>he(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(B,L={}){this.setValue(B,L)}reset(B=this.defaultValue,L={}){this._applyFormState(B),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Ji(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Ji(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){this._isBoxedValue(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}}class zr extends Fi{constructor(B,L,he){super(ye(L),qr(he,L)),this.controls=B,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,L){return this.controls[B]?this.controls[B]:(this.controls[B]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(B,L,he={}){this.registerControl(B,L),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}removeControl(B,L={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(B,L,he={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],L&&this.registerControl(B,L),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,L={}){ci(this,B),Object.keys(B).forEach(he=>{Gr(this,he),this.controls[he].setValue(B[he],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(B,L={}){null!=B&&(Object.keys(B).forEach(he=>{this.controls[he]&&this.controls[he].patchValue(B[he],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(B={},L={}){this._forEachChild((he,Vt)=>{he.reset(B[Vt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(B,L,he)=>(B[he]=Hn(L),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(L,he)=>!!he._syncPendingControls()||L);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(L=>{const he=this.controls[L];he&&B(he,L)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const L of Object.keys(this.controls)){const he=this.controls[L];if(this.contains(L)&&B(he))return!0}return!1}_reduceValue(){return this._reduceChildren({},(B,L,he)=>((L.enabled||this.disabled)&&(B[he]=L.value),B))}_reduceChildren(B,L){let he=B;return this._forEachChild((Vt,E)=>{he=L(he,Vt,E)}),he}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class pi extends Fi{constructor(B,L,he){super(ye(L),qr(he,L)),this.controls=B,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[B]}push(B,L={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(B,L,he={}){this.controls.splice(B,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:he.emitEvent})}removeAt(B,L={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(B,L,he={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),L&&(this.controls.splice(B,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,L={}){ci(this,B),B.forEach((he,Vt)=>{Gr(this,Vt),this.at(Vt).setValue(he,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(B,L={}){null!=B&&(B.forEach((he,Vt)=>{this.at(Vt)&&this.at(Vt).patchValue(he,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(B=[],L={}){this._forEachChild((he,Vt)=>{he.reset(B[Vt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(B=>Hn(B))}clear(B={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_syncPendingControls(){let B=this.controls.reduce((L,he)=>!!he._syncPendingControls()||L,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((L,he)=>{B(L,he)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(L=>L.enabled&&B(L))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}}const Dr={provide:yn,useExisting:(0,c.Gpc)(()=>ve)},ne=(()=>Promise.resolve(null))();let ve=(()=>{class G extends yn{constructor(L,he){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new zr({},st(L),ct(he))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){ne.then(()=>{const he=this._findContainer(L.path);L.control=he.registerControl(L.name,L.control),We(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){ne.then(()=>{const he=this._findContainer(L.path);he&&he.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){ne.then(()=>{const he=this._findContainer(L.path),Vt=new zr({});(function Hi(G,B){Sn(G,B)})(Vt,L),he.registerControl(L.name,Vt),Vt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){ne.then(()=>{const he=this._findContainer(L.path);he&&he.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,he){ne.then(()=>{this.form.get(L.path).setValue(he)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,function Ei(G,B){G._syncPendingControls(),B.forEach(L=>{const he=L.control;"submit"===he.updateOn&&he._pendingChange&&(L.viewToModelUpdate(he._pendingValue),he._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return G.\u0275fac=function(L){return new(L||G)(c.Y36(Ye,10),c.Y36(yt,10))},G.\u0275dir=c.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,he){1&L&&c.NdJ("submit",function(E){return he.onSubmit(E)})("reset",function(){return he.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Dr]),c.qOj]}),G})();const Ut={provide:Zn,useExisting:(0,c.Gpc)(()=>bn)},fn=(()=>Promise.resolve(null))();let bn=(()=>{class G extends Zn{constructor(L,he,Vt,E,R){super(),this._changeDetectorRef=R,this.control=new Si,this._registered=!1,this.update=new c.vpe,this._parent=L,this._setValidators(he),this._setAsyncValidators(Vt),this.valueAccessor=function Qi(G,B){if(!B)return null;let L,he,Vt;return Array.isArray(B),B.forEach(E=>{E.constructor===Le?L=E:function xr(G){return Object.getPrototypeOf(G.constructor)===pe}(E)?he=E:Vt=E}),Vt||he||L||null}(0,E)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const he=L.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),function fi(G,B){if(!G.hasOwnProperty("model"))return!1;const L=G.model;return!!L.isFirstChange()||!Object.is(B,L.currentValue)}(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){We(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){fn.then(()=>{var he;this.control.setValue(L,{emitViewToModelChange:!1}),null===(he=this._changeDetectorRef)||void 0===he||he.markForCheck()})}_updateDisabled(L){const he=L.isDisabled.currentValue,Vt=""===he||he&&"false"!==he;fn.then(()=>{var E;Vt&&!this.control.disabled?this.control.disable():!Vt&&this.control.disabled&&this.control.enable(),null===(E=this._changeDetectorRef)||void 0===E||E.markForCheck()})}_getPath(L){return this._parent?function Bt(G,B){return[...B.path,G]}(L,this._parent):[L]}}return G.\u0275fac=function(L){return new(L||G)(c.Y36(yn,9),c.Y36(Ye,10),c.Y36(yt,10),c.Y36(ee,10),c.Y36(c.sBO,8))},G.\u0275dir=c.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ut]),c.qOj,c.TTD]}),G})(),Yn=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=c.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})(),Xe=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=c.oAB({type:G}),G.\u0275inj=c.cJS({}),G})();const lr=new c.OlP("NgModelWithFormControlWarning");let ms=(()=>{class G{constructor(){this._validator=Et}ngOnChanges(L){if(this.inputName in L){const he=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):Et,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=c.lG2({type:G,features:[c.TTD]}),G})();const ks={provide:Ye,useExisting:(0,c.Gpc)(()=>U),multi:!0};let U=(()=>{class G extends ms{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=L=>function Qr(G){return null!=G&&!1!==G&&"false"!=`${G}`}(L),this.createValidator=L=>nt}enabled(L){return L}}return G.\u0275fac=function(){let B;return function(he){return(B||(B=c.n5z(G)))(he||G)}}(),G.\u0275dir=c.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,he){2&L&&c.uIk("required",he._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([ks]),c.qOj]}),G})();const $={provide:Ye,useExisting:(0,c.Gpc)(()=>fe),multi:!0};let fe=(()=>{class G extends ms{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=L=>""===L||!0===L||"true"===L,this.createValidator=L=>be}enabled(L){return L}}return G.\u0275fac=function(){let B;return function(he){return(B||(B=c.n5z(G)))(he||G)}}(),G.\u0275dir=c.lG2({type:G,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([$]),c.qOj]}),G})(),Wr=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=c.oAB({type:G}),G.\u0275inj=c.cJS({imports:[[Xe]]}),G})(),Jr=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=c.oAB({type:G}),G.\u0275inj=c.cJS({imports:[Wr]}),G})(),os=(()=>{class G{static withConfig(L){return{ngModule:G,providers:[{provide:lr,useValue:L.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=c.oAB({type:G}),G.\u0275inj=c.cJS({imports:[Wr]}),G})()},8599:(Qt,lt,N)=>{"use strict";N.d(lt,{gz:()=>pi,y6:()=>hs,OD:()=>Xt,eC:()=>Pn,wm:()=>Tl,wN:()=>Cl,F0:()=>Qs,rH:()=>go,Bz:()=>Fa,Hx:()=>ki});var c=N(5e3),z=N(2916),W=N(5254),ke=N(8896);function Te(O){return new z.y(A=>{let T;try{T=O()}catch(K){return void A.error(K)}return(T?(0,W.D)(T):(0,ke.c)()).subscribe(A)})}var te=N(1086),_e=N(591),re=N(6053),Ie=N(1737),Z=N(4450),pe=N(1221),ee=N(1762),le=N(8929),Fe=N(2198),He=N(3489),De=N(4231);function Oe(O){return function(T){return 0===O?(0,ke.c)():T.lift(new Le(O))}}class Le{constructor(A){if(this.total=A,this.total<0)throw new De.W}call(A,T){return T.subscribe(new et(A,this.total))}}class et extends He.L{constructor(A,T){super(A),this.total=T,this.ring=new Array,this.count=0}_next(A){const T=this.ring,V=this.total,K=this.count++;T.length<V?T.push(A):T[K%V]=A}_complete(){const A=this.destination;let T=this.count;if(T>0){const V=this.count>=this.total?this.total:this.count,K=this.ring;for(let ue=0;ue<V;ue++){const xe=T++%V;A.next(K[xe])}}A.complete()}}var rt=N(4907),Ye=N(7314),yt=N(5379),gt=N(2654);class Ee{constructor(A){this.callback=A}call(A,T){return T.subscribe(new nt(A,this.callback))}}class nt extends He.L{constructor(A,T){super(A),this.add(new gt.w(T))}}var we=N(4850),be=N(7545),ge=N(2986),Be=N(1059),$e=N(2014),Et=N(7221),Ot=N(1406),ut=N(7224),ze=N(1709),q=N(2868),Ce=N(4327),Ze=N(9146),Me=N(9808);class st{constructor(A,T){this.id=A,this.url=T}}class Xt extends st{constructor(A,T,V="imperative",K=null){super(A,T),this.navigationTrigger=V,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ct extends st{constructor(A,T,V){super(A,T),this.urlAfterRedirects=V}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ft extends st{constructor(A,T,V){super(A,T),this.reason=V}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nt extends st{constructor(A,T,V){super(A,T),this.error=V}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zt extends st{constructor(A,T,V,K){super(A,T),this.urlAfterRedirects=V,this.state=K}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jt extends st{constructor(A,T,V,K){super(A,T),this.urlAfterRedirects=V,this.state=K}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends st{constructor(A,T,V,K,ue){super(A,T),this.urlAfterRedirects=V,this.state=K,this.shouldActivate=ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fn extends st{constructor(A,T,V,K){super(A,T),this.urlAfterRedirects=V,this.state=K}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends st{constructor(A,T,V,K){super(A,T),this.urlAfterRedirects=V,this.state=K}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er{constructor(A){this.route=A}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(A){this.route=A}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yn{constructor(A){this.snapshot=A}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{constructor(A){this.snapshot=A}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(A){this.snapshot=A}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(A){this.snapshot=A}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(A,T,V){this.routerEvent=A,this.position=T,this.anchor=V}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pn="primary";class bt{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T[0]:T}return null}getAll(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Ge(O){return new bt(O)}const Ae="ngNavigationCancelingError";function Wt(O){const A=Error("NavigationCancelingError: "+O);return A[Ae]=!0,A}function Gt(O,A,T){const V=T.path.split("/");if(V.length>O.length||"full"===T.pathMatch&&(A.hasChildren()||V.length<O.length))return null;const K={};for(let ue=0;ue<V.length;ue++){const xe=V[ue],qe=O[ue];if(xe.startsWith(":"))K[xe.substring(1)]=qe;else if(xe!==qe.path)return null}return{consumed:O.slice(0,V.length),posParams:K}}function Ln(O,A){const T=O?Object.keys(O):void 0,V=A?Object.keys(A):void 0;if(!T||!V||T.length!=V.length)return!1;let K;for(let ue=0;ue<T.length;ue++)if(K=T[ue],!Vn(O[K],A[K]))return!1;return!0}function Vn(O,A){if(Array.isArray(O)&&Array.isArray(A)){if(O.length!==A.length)return!1;const T=[...O].sort(),V=[...A].sort();return T.every((K,ue)=>V[ue]===K)}return O===A}function Tn(O){return Array.prototype.concat.apply([],O)}function ai(O){return O.length>0?O[O.length-1]:null}function qn(O,A){for(const T in O)O.hasOwnProperty(T)&&A(O[T],T)}function Re(O){return(0,c.CqO)(O)?O:(0,c.QGY)(O)?(0,W.D)(Promise.resolve(O)):(0,te.of)(O)}const Qe={exact:function qt(O,A,T){if(!ri(O.segments,A.segments)||!fr(O.segments,A.segments,T)||O.numberOfChildren!==A.numberOfChildren)return!1;for(const V in A.children)if(!O.children[V]||!qt(O.children[V],A.children[V],T))return!1;return!0},subset:Sn},Bt={exact:function pt(O,A){return Ln(O,A)},subset:function En(O,A){return Object.keys(A).length<=Object.keys(O).length&&Object.keys(A).every(T=>Vn(O[T],A[T]))},ignored:()=>!0};function We(O,A,T){return Qe[T.paths](O.root,A.root,T.matrixParams)&&Bt[T.queryParams](O.queryParams,A.queryParams)&&!("exact"===T.fragment&&O.fragment!==A.fragment)}function Sn(O,A,T){return On(O,A,A.segments,T)}function On(O,A,T,V){if(O.segments.length>T.length){const K=O.segments.slice(0,T.length);return!(!ri(K,T)||A.hasChildren()||!fr(K,T,V))}if(O.segments.length===T.length){if(!ri(O.segments,T)||!fr(O.segments,T,V))return!1;for(const K in A.children)if(!O.children[K]||!Sn(O.children[K],A.children[K],V))return!1;return!0}{const K=T.slice(0,O.segments.length),ue=T.slice(O.segments.length);return!!(ri(O.segments,K)&&fr(O.segments,K,V)&&O.children[Pn])&&On(O.children[Pn],A,ue,V)}}function fr(O,A,T){return A.every((V,K)=>Bt[T](O[K].parameters,V.parameters))}class un{constructor(A,T,V){this.root=A,this.queryParams=T,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return vi.serialize(this)}}class an{constructor(A,T){this.segments=A,this.children=T,this.parent=null,qn(T,(V,K)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fi(this)}}class Cr{constructor(A,T){this.path=A,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return pr(this)}}function ri(O,A){return O.length===A.length&&O.every((T,V)=>T.path===A[V].path)}class ki{}class Hr{parse(A){const T=new Mr(A);return new un(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(A){const T=`/${xr(A.root,!0)}`,V=function nn(O){const A=Object.keys(O).map(T=>{const V=O[T];return Array.isArray(V)?V.map(K=>`${Qi(T)}=${Qi(K)}`).join("&"):`${Qi(T)}=${Qi(V)}`}).filter(T=>!!T);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${T}${V}${"string"==typeof A.fragment?`#${function Ji(O){return encodeURI(O)}(A.fragment)}`:""}`}}const vi=new Hr;function fi(O){return O.segments.map(A=>pr(A)).join("/")}function xr(O,A){if(!O.hasChildren())return fi(O);if(A){const T=O.children[Pn]?xr(O.children[Pn],!1):"",V=[];return qn(O.children,(K,ue)=>{ue!==Pn&&V.push(`${ue}:${xr(K,!1)}`)}),V.length>0?`${T}(${V.join("//")})`:T}{const T=function Xi(O,A){let T=[];return qn(O.children,(V,K)=>{K===Pn&&(T=T.concat(A(V,K)))}),qn(O.children,(V,K)=>{K!==Pn&&(T=T.concat(A(V,K)))}),T}(O,(V,K)=>K===Pn?[xr(O.children[Pn],!1)]:[`${K}:${xr(V,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[Pn]?`${fi(O)}/${T[0]}`:`${fi(O)}/(${T.join("//")})`}}function Ei(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qi(O){return Ei(O).replace(/%3B/gi,";")}function rs(O){return Ei(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Br(O){return decodeURIComponent(O)}function Nr(O){return Br(O.replace(/\+/g,"%20"))}function pr(O){return`${rs(O.path)}${function Vr(O){return Object.keys(O).map(A=>`;${rs(A)}=${rs(O[A])}`).join("")}(O.parameters)}`}const Cn=/^[^\/()?;=#]+/;function ye(O){const A=O.match(Cn);return A?A[0]:""}const Ur=/^[^=?&#]+/,sr=/^[^&#]+/;class Mr{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(A.length>0||Object.keys(T).length>0)&&(V[Pn]=new an(A,T)),V}parseSegment(){const A=ye(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(A),new Cr(Br(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const T=ye(this.remaining);if(!T)return;this.capture(T);let V="";if(this.consumeOptional("=")){const K=ye(this.remaining);K&&(V=K,this.capture(V))}A[Br(T)]=Br(V)}parseQueryParam(A){const T=function qr(O){const A=O.match(Ur);return A?A[0]:""}(this.remaining);if(!T)return;this.capture(T);let V="";if(this.consumeOptional("=")){const xe=function Ti(O){const A=O.match(sr);return A?A[0]:""}(this.remaining);xe&&(V=xe,this.capture(V))}const K=Nr(T),ue=Nr(V);if(A.hasOwnProperty(K)){let xe=A[K];Array.isArray(xe)||(xe=[xe],A[K]=xe),xe.push(ue)}else A[K]=ue}parseParens(A){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=ye(this.remaining),K=this.remaining[V.length];if("/"!==K&&")"!==K&&";"!==K)throw new Error(`Cannot parse url '${this.url}'`);let ue;V.indexOf(":")>-1?(ue=V.substr(0,V.indexOf(":")),this.capture(ue),this.capture(":")):A&&(ue=Pn);const xe=this.parseChildren();T[ue]=1===Object.keys(xe).length?xe[Pn]:new an([],xe),this.consumeOptional("//")}return T}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new Error(`Expected "${A}".`)}}class tr{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const T=this.pathFromRoot(A);return T.length>1?T[T.length-2]:null}children(A){const T=kr(A,this._root);return T?T.children.map(V=>V.value):[]}firstChild(A){const T=kr(A,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(A){const T=Hn(A,this._root);return T.length<2?[]:T[T.length-2].children.map(K=>K.value).filter(K=>K!==A)}pathFromRoot(A){return Hn(A,this._root).map(T=>T.value)}}function kr(O,A){if(O===A.value)return A;for(const T of A.children){const V=kr(O,T);if(V)return V}return null}function Hn(O,A){if(O===A.value)return[A];for(const T of A.children){const V=Hn(O,T);if(V.length)return V.unshift(A),V}return[]}class Gr{constructor(A,T){this.value=A,this.children=T}toString(){return`TreeNode(${this.value})`}}function ci(O){const A={};return O&&O.children.forEach(T=>A[T.value.outlet]=T),A}class Fi extends tr{constructor(A,T){super(A),this.snapshot=T,mt(this,A)}toString(){return this.snapshot.toString()}}function Si(O,A){const T=function zr(O,A){const xe=new ve([],{},{},"",{},Pn,A,null,O.root,-1,{});return new tt("",new Gr(xe,[]))}(O,A),V=new _e.X([new Cr("",{})]),K=new _e.X({}),ue=new _e.X({}),xe=new _e.X({}),qe=new _e.X(""),jt=new pi(V,K,xe,qe,ue,Pn,A,T.root);return jt.snapshot=T.root,new Fi(new Gr(jt,[]),T)}class pi{constructor(A,T,V,K,ue,xe,qe,jt){this.url=A,this.params=T,this.queryParams=V,this.fragment=K,this.data=ue,this.outlet=xe,this.component=qe,this._futureSnapshot=jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,we.U)(A=>Ge(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,we.U)(A=>Ge(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dr(O,A="emptyOnly"){const T=O.pathFromRoot;let V=0;if("always"!==A)for(V=T.length-1;V>=1;){const K=T[V],ue=T[V-1];if(K.routeConfig&&""===K.routeConfig.path)V--;else{if(ue.component)break;V--}}return function ne(O){return O.reduce((A,T)=>({params:Object.assign(Object.assign({},A.params),T.params),data:Object.assign(Object.assign({},A.data),T.data),resolve:Object.assign(Object.assign({},A.resolve),T._resolvedData)}),{params:{},data:{},resolve:{}})}(T.slice(V))}class ve{constructor(A,T,V,K,ue,xe,qe,jt,gn,_n,jn){this.url=A,this.params=T,this.queryParams=V,this.fragment=K,this.data=ue,this.outlet=xe,this.component=qe,this.routeConfig=jt,this._urlSegment=gn,this._lastPathIndex=_n,this._resolve=jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tt extends tr{constructor(A,T){super(T),this.url=A,mt(this,T)}toString(){return Se(this._root)}}function mt(O,A){A.value._routerState=O,A.children.forEach(T=>mt(O,T))}function Se(O){const A=O.children.length>0?` { ${O.children.map(Se).join(", ")} } `:"";return`${O.value}${A}`}function Ve(O){if(O.snapshot){const A=O.snapshot,T=O._futureSnapshot;O.snapshot=T,Ln(A.queryParams,T.queryParams)||O.queryParams.next(T.queryParams),A.fragment!==T.fragment&&O.fragment.next(T.fragment),Ln(A.params,T.params)||O.params.next(T.params),function dn(O,A){if(O.length!==A.length)return!1;for(let T=0;T<O.length;++T)if(!Ln(O[T],A[T]))return!1;return!0}(A.url,T.url)||O.url.next(T.url),Ln(A.data,T.data)||O.data.next(T.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function dt(O,A){const T=Ln(O.params,A.params)&&function Hi(O,A){return ri(O,A)&&O.every((T,V)=>Ln(T.parameters,A[V].parameters))}(O.url,A.url);return T&&!(!O.parent!=!A.parent)&&(!O.parent||dt(O.parent,A.parent))}function xt(O,A,T){if(T&&O.shouldReuseRoute(A.value,T.value.snapshot)){const V=T.value;V._futureSnapshot=A.value;const K=function Ut(O,A,T){return A.children.map(V=>{for(const K of T.children)if(O.shouldReuseRoute(V.value,K.value.snapshot))return xt(O,V,K);return xt(O,V)})}(O,A,T);return new Gr(V,K)}{if(O.shouldAttach(A.value)){const ue=O.retrieve(A.value);if(null!==ue){const xe=ue.route;return xe.value._futureSnapshot=A.value,xe.children=A.children.map(qe=>xt(O,qe)),xe}}const V=function fn(O){return new pi(new _e.X(O.url),new _e.X(O.params),new _e.X(O.queryParams),new _e.X(O.fragment),new _e.X(O.data),O.outlet,O.component,O)}(A.value),K=A.children.map(ue=>xt(O,ue));return new Gr(V,K)}}function Yn(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function nr(O){return"object"==typeof O&&null!=O&&O.outlets}function di(O,A,T,V,K){let ue={};if(V&&qn(V,(qe,jt)=>{ue[jt]=Array.isArray(qe)?qe.map(gn=>`${gn}`):`${qe}`}),O===A)return new un(T,ue,K);const xe=Li(O,A,T);return new un(xe,ue,K)}function Li(O,A,T){const V={};return qn(O.children,(K,ue)=>{V[ue]=K===A?T:Li(K,A,T)}),new an(O.segments,V)}class ot{constructor(A,T,V){if(this.isAbsolute=A,this.numberOfDoubleDots=T,this.commands=V,A&&V.length>0&&Yn(V[0]))throw new Error("Root segment cannot have matrix parameters");const K=V.find(nr);if(K&&K!==ai(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ct{constructor(A,T,V){this.segmentGroup=A,this.processChildren=T,this.index=V}}function lr(O,A,T){if(O||(O=new an([],{})),0===O.segments.length&&O.hasChildren())return ii(O,A,T);const V=function ur(O,A,T){let V=0,K=A;const ue={match:!1,pathIndex:0,commandIndex:0};for(;K<O.segments.length;){if(V>=T.length)return ue;const xe=O.segments[K],qe=T[V];if(nr(qe))break;const jt=`${qe}`,gn=V<T.length-1?T[V+1]:null;if(K>0&&void 0===jt)break;if(jt&&gn&&"object"==typeof gn&&void 0===gn.outlets){if(!Po(jt,gn,xe))return ue;V+=2}else{if(!Po(jt,{},xe))return ue;V++}K++}return{match:!0,pathIndex:K,commandIndex:V}}(O,A,T),K=T.slice(V.commandIndex);if(V.match&&V.pathIndex<O.segments.length){const ue=new an(O.segments.slice(0,V.pathIndex),{});return ue.children[Pn]=new an(O.segments.slice(V.pathIndex),O.children),ii(ue,0,K)}return V.match&&0===K.length?new an(O.segments,{}):V.match&&!O.hasChildren()?ds(O,A,T):V.match?ii(O,0,K):ds(O,A,T)}function ii(O,A,T){if(0===T.length)return new an(O.segments,{});{const V=function An(O){return nr(O[0])?O[0].outlets:{[Pn]:O}}(T),K={};return qn(V,(ue,xe)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(K[xe]=lr(O.children[xe],A,ue))}),qn(O.children,(ue,xe)=>{void 0===V[xe]&&(K[xe]=ue)}),new an(O.segments,K)}}function ds(O,A,T){const V=O.segments.slice(0,A);let K=0;for(;K<T.length;){const ue=T[K];if(nr(ue)){const jt=es(ue.outlets);return new an(V,jt)}if(0===K&&Yn(T[0])){V.push(new Cr(O.segments[A].path,Gi(T[0]))),K++;continue}const xe=nr(ue)?ue.outlets[Pn]:`${ue}`,qe=K<T.length-1?T[K+1]:null;xe&&qe&&Yn(qe)?(V.push(new Cr(xe,Gi(qe))),K+=2):(V.push(new Cr(xe,{})),K++)}return new an(V,{})}function es(O){const A={};return qn(O,(T,V)=>{"string"==typeof T&&(T=[T]),null!==T&&(A[V]=ds(new an([],{}),0,T))}),A}function Gi(O){const A={};return qn(O,(T,V)=>A[V]=`${T}`),A}function Po(O,A,T){return O==T.path&&Ln(A,T.parameters)}class gs{constructor(A,T,V,K){this.routeReuseStrategy=A,this.futureState=T,this.currState=V,this.forwardEvent=K}activate(A){const T=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,V,A),Ve(this.futureState.root),this.activateChildRoutes(T,V,A)}deactivateChildRoutes(A,T,V){const K=ci(T);A.children.forEach(ue=>{const xe=ue.value.outlet;this.deactivateRoutes(ue,K[xe],V),delete K[xe]}),qn(K,(ue,xe)=>{this.deactivateRouteAndItsChildren(ue,V)})}deactivateRoutes(A,T,V){const K=A.value,ue=T?T.value:null;if(K===ue)if(K.component){const xe=V.getContext(K.outlet);xe&&this.deactivateChildRoutes(A,T,xe.children)}else this.deactivateChildRoutes(A,T,V);else ue&&this.deactivateRouteAndItsChildren(T,V)}deactivateRouteAndItsChildren(A,T){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,T):this.deactivateRouteAndOutlet(A,T)}detachAndStoreRouteSubtree(A,T){const V=T.getContext(A.value.outlet),K=V&&A.value.component?V.children:T,ue=ci(A);for(const xe of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[xe],K);if(V&&V.outlet){const xe=V.outlet.detach(),qe=V.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:xe,route:A,contexts:qe})}}deactivateRouteAndOutlet(A,T){const V=T.getContext(A.value.outlet),K=V&&A.value.component?V.children:T,ue=ci(A);for(const xe of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[xe],K);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(A,T,V){const K=ci(T);A.children.forEach(ue=>{this.activateRoutes(ue,K[ue.value.outlet],V),this.forwardEvent(new vr(ue.value.snapshot))}),A.children.length&&this.forwardEvent(new Xr(A.value.snapshot))}activateRoutes(A,T,V){const K=A.value,ue=T?T.value:null;if(Ve(K),K===ue)if(K.component){const xe=V.getOrCreateContext(K.outlet);this.activateChildRoutes(A,T,xe.children)}else this.activateChildRoutes(A,T,V);else if(K.component){const xe=V.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const qe=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),xe.children.onOutletReAttached(qe.contexts),xe.attachRef=qe.componentRef,xe.route=qe.route.value,xe.outlet&&xe.outlet.attach(qe.componentRef,qe.route.value),Ve(qe.route.value),this.activateChildRoutes(A,null,xe.children)}else{const qe=function Do(O){for(let A=O.parent;A;A=A.parent){const T=A.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig;if(T&&T.component)return null}return null}(K.snapshot),jt=qe?qe.module.componentFactoryResolver:null;xe.attachRef=null,xe.route=K,xe.resolver=jt,xe.outlet&&xe.outlet.activateWith(K,jt),this.activateChildRoutes(A,null,xe.children)}}else this.activateChildRoutes(A,null,V)}}class xs{constructor(A,T){this.routes=A,this.module=T}}function li(O){return"function"==typeof O}function gi(O){return O instanceof un}const is=Symbol("INITIAL_VALUE");function Tr(){return(0,be.w)(O=>(0,re.aj)(O.map(A=>A.pipe((0,ge.q)(1),(0,Be.O)(is)))).pipe((0,$e.R)((A,T)=>{let V=!1;return T.reduce((K,ue,xe)=>K!==is?K:(ue===is&&(V=!0),V||!1!==ue&&xe!==T.length-1&&!gi(ue)?K:ue),A)},is),(0,Fe.h)(A=>A!==is),(0,we.U)(A=>gi(A)?A:!0===A),(0,ge.q)(1)))}class zi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hs,this.attachRef=null}}class hs{constructor(){this.contexts=new Map}onChildOutletCreated(A,T){const V=this.getOrCreateContext(A);V.outlet=T,this.contexts.set(A,V)}onChildOutletDestroyed(A){const T=this.getContext(A);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let T=this.getContext(A);return T||(T=new zi,this.contexts.set(A,T)),T}getContext(A){return this.contexts.get(A)||null}}let Ri=(()=>{class O{constructor(T,V,K,ue,xe){this.parentContexts=T,this.location=V,this.resolver=K,this.changeDetector=xe,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=ue||Pn,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,V){this.activated=T,this._activatedRoute=V,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;const xe=(V=V||this.resolver).resolveComponentFactory(T._futureSnapshot.routeConfig.component),qe=this.parentContexts.getOrCreateContext(this.name).children,jt=new Ns(T,qe,this.location.injector);this.activated=this.location.createComponent(xe,this.location.length,jt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(hs),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},O.\u0275dir=c.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Ns{constructor(A,T,V){this.route=A,this.childContexts=T,this.parent=V}get(A,T){return A===pi?this.route:A===hs?this.childContexts:this.parent.get(A,T)}}let Qr=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275cmp=c.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(T,V){1&T&&c._UZ(0,"router-outlet")},directives:[Ri],encapsulation:2}),O})();function Zs(O,A=""){for(let T=0;T<O.length;T++){const V=O[T];ms(V,Ko(A,V))}}function ms(O,A){O.children&&Zs(O.children,A)}function Ko(O,A){return A?O||A.path?O&&!A.path?`${O}/`:!O&&A.path?A.path:`${O}/${A.path}`:"":O}function Ms(O){const A=O.children&&O.children.map(Ms),T=A?Object.assign(Object.assign({},O),{children:A}):Object.assign({},O);return!T.component&&(A||T.loadChildren)&&T.outlet&&T.outlet!==Pn&&(T.component=Qr),T}function ss(O){return O.outlet||Pn}function oi(O,A){const T=O.filter(V=>ss(V)===A);return T.push(...O.filter(V=>ss(V)!==A)),T}const ks={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Er(O,A,T){var V;if(""===A.path)return"full"===A.pathMatch&&(O.hasChildren()||T.length>0)?Object.assign({},ks):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const ue=(A.matcher||Gt)(T,O,A);if(!ue)return Object.assign({},ks);const xe={};qn(ue.posParams,(jt,gn)=>{xe[gn]=jt.path});const qe=ue.consumed.length>0?Object.assign(Object.assign({},xe),ue.consumed[ue.consumed.length-1].parameters):xe;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:T.slice(ue.consumed.length),parameters:qe,positionalParamSegments:null!==(V=ue.posParams)&&void 0!==V?V:{}}}function U(O,A,T,V,K="corrected"){if(T.length>0&&function fe(O,A,T){return T.some(V=>Mt(O,A,V)&&ss(V)!==Pn)}(O,T,V)){const xe=new an(A,function $(O,A,T,V){const K={};K[Pn]=V,V._sourceSegment=O,V._segmentIndexShift=A.length;for(const ue of T)if(""===ue.path&&ss(ue)!==Pn){const xe=new an([],{});xe._sourceSegment=O,xe._segmentIndexShift=A.length,K[ss(ue)]=xe}return K}(O,A,V,new an(T,O.children)));return xe._sourceSegment=O,xe._segmentIndexShift=A.length,{segmentGroup:xe,slicedSegments:[]}}if(0===T.length&&function Je(O,A,T){return T.some(V=>Mt(O,A,V))}(O,T,V)){const xe=new an(O.segments,function ae(O,A,T,V,K,ue){const xe={};for(const qe of V)if(Mt(O,T,qe)&&!K[ss(qe)]){const jt=new an([],{});jt._sourceSegment=O,jt._segmentIndexShift="legacy"===ue?O.segments.length:A.length,xe[ss(qe)]=jt}return Object.assign(Object.assign({},K),xe)}(O,A,T,V,O.children,K));return xe._sourceSegment=O,xe._segmentIndexShift=A.length,{segmentGroup:xe,slicedSegments:T}}const ue=new an(O.segments,O.children);return ue._sourceSegment=O,ue._segmentIndexShift=A.length,{segmentGroup:ue,slicedSegments:T}}function Mt(O,A,T){return(!(O.hasChildren()||A.length>0)||"full"!==T.pathMatch)&&""===T.path}function Yt(O,A,T,V){return!!(ss(O)===V||V!==Pn&&Mt(A,T,O))&&("**"===O.path||Er(A,O,T).matched)}function xn(O,A,T){return 0===A.length&&!O.children[T]}class Jn{constructor(A){this.segmentGroup=A||null}}class Sr{constructor(A){this.urlTree=A}}function Wn(O){return(0,Ie._)(new Jn(O))}function rr(O){return(0,Ie._)(new Sr(O))}class os{constructor(A,T,V,K,ue){this.configLoader=T,this.urlSerializer=V,this.urlTree=K,this.config=ue,this.allowRedirects=!0,this.ngModule=A.get(c.h0i)}apply(){const A=U(this.urlTree.root,[],[],this.config).segmentGroup,T=new an(A.segments,A.children);return this.expandSegmentGroup(this.ngModule,this.config,T,Pn).pipe((0,we.U)(ue=>this.createUrlTree(Gn(ue),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Et.K)(ue=>{if(ue instanceof Sr)return this.allowRedirects=!1,this.match(ue.urlTree);throw ue instanceof Jn?this.noMatchError(ue):ue}))}match(A){return this.expandSegmentGroup(this.ngModule,this.config,A.root,Pn).pipe((0,we.U)(K=>this.createUrlTree(Gn(K),A.queryParams,A.fragment))).pipe((0,Et.K)(K=>{throw K instanceof Jn?this.noMatchError(K):K}))}noMatchError(A){return new Error(`Cannot match any routes. URL Segment: '${A.segmentGroup}'`)}createUrlTree(A,T,V){const K=A.segments.length>0?new an([],{[Pn]:A}):A;return new un(K,T,V)}expandSegmentGroup(A,T,V,K){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(A,T,V).pipe((0,we.U)(ue=>new an([],ue))):this.expandSegment(A,V,T,V.segments,K,!0)}expandChildren(A,T,V){const K=[];for(const ue of Object.keys(V.children))"primary"===ue?K.unshift(ue):K.push(ue);return(0,W.D)(K).pipe((0,Ot.b)(ue=>{const xe=V.children[ue],qe=oi(T,ue);return this.expandSegmentGroup(A,qe,xe,ue).pipe((0,we.U)(jt=>({segment:jt,outlet:ue})))}),(0,$e.R)((ue,xe)=>(ue[xe.outlet]=xe.segment,ue),{}),function Pt(O,A){const T=arguments.length>=2;return V=>V.pipe(O?(0,Fe.h)((K,ue)=>O(K,ue,V)):yt.y,Oe(1),T?(0,Ye.d)(A):(0,rt.T)(()=>new Z.K))}())}expandSegment(A,T,V,K,ue,xe){return(0,W.D)(V).pipe((0,Ot.b)(qe=>this.expandSegmentAgainstRoute(A,T,V,qe,K,ue,xe).pipe((0,Et.K)(gn=>{if(gn instanceof Jn)return(0,te.of)(null);throw gn}))),(0,ut.P)(qe=>!!qe),(0,Et.K)((qe,jt)=>{if(qe instanceof Z.K||"EmptyError"===qe.name)return xn(T,K,ue)?(0,te.of)(new an([],{})):Wn(T);throw qe}))}expandSegmentAgainstRoute(A,T,V,K,ue,xe,qe){return Yt(K,T,ue,xe)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(A,T,K,ue,xe):qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,T,V,K,ue,xe):Wn(T):Wn(T)}expandSegmentAgainstRouteUsingRedirect(A,T,V,K,ue,xe){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,V,K,xe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,T,V,K,ue,xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,T,V,K){const ue=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?rr(ue):this.lineralizeSegments(V,ue).pipe((0,ze.zg)(xe=>{const qe=new an(xe,{});return this.expandSegment(A,qe,T,xe,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,T,V,K,ue,xe){const{matched:qe,consumedSegments:jt,remainingSegments:gn,positionalParamSegments:_n}=Er(T,K,ue);if(!qe)return Wn(T);const jn=this.applyRedirectCommands(jt,K.redirectTo,_n);return K.redirectTo.startsWith("/")?rr(jn):this.lineralizeSegments(K,jn).pipe((0,ze.zg)(Rr=>this.expandSegment(A,T,V,Rr.concat(gn),xe,!1)))}matchSegmentAgainstRoute(A,T,V,K,ue){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,te.of)(V._loadedConfig):this.configLoader.load(A.injector,V)).pipe((0,we.U)(jn=>(V._loadedConfig=jn,new an(K,{})))):(0,te.of)(new an(K,{}));const{matched:xe,consumedSegments:qe,remainingSegments:jt}=Er(T,V,K);return xe?this.getChildConfig(A,V,K).pipe((0,ze.zg)(_n=>{const jn=_n.module,Rr=_n.routes,{segmentGroup:ei,slicedSegments:bs}=U(T,qe,jt,Rr),Or=new an(ei.segments,ei.children);if(0===bs.length&&Or.hasChildren())return this.expandChildren(jn,Rr,Or).pipe((0,we.U)(Yl=>new an(qe,Yl)));if(0===Rr.length&&0===bs.length)return(0,te.of)(new an(qe,{}));const ea=ss(V)===ue;return this.expandSegment(jn,Or,Rr,bs,ea?Pn:ue,!0).pipe((0,we.U)(Gs=>new an(qe.concat(Gs.segments),Gs.children)))})):Wn(T)}getChildConfig(A,T,V){return T.children?(0,te.of)(new xs(T.children,A)):T.loadChildren?void 0!==T._loadedConfig?(0,te.of)(T._loadedConfig):this.runCanLoadGuards(A.injector,T,V).pipe((0,ze.zg)(K=>K?this.configLoader.load(A.injector,T).pipe((0,we.U)(ue=>(T._loadedConfig=ue,ue))):function Wr(O){return(0,Ie._)(Wt(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(T))):(0,te.of)(new xs([],A))}runCanLoadGuards(A,T,V){const K=T.canLoad;if(!K||0===K.length)return(0,te.of)(!0);const ue=K.map(xe=>{const qe=A.get(xe);let jt;if(function si(O){return O&&li(O.canLoad)}(qe))jt=qe.canLoad(T,V);else{if(!li(qe))throw new Error("Invalid CanLoad guard");jt=qe(T,V)}return Re(jt)});return(0,te.of)(ue).pipe(Tr(),(0,q.b)(xe=>{if(!gi(xe))return;const qe=Wt(`Redirecting to "${this.urlSerializer.serialize(xe)}"`);throw qe.url=xe,qe}),(0,we.U)(xe=>!0===xe))}lineralizeSegments(A,T){let V=[],K=T.root;for(;;){if(V=V.concat(K.segments),0===K.numberOfChildren)return(0,te.of)(V);if(K.numberOfChildren>1||!K.children[Pn])return(0,Ie._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A.redirectTo}'`));K=K.children[Pn]}}applyRedirectCommands(A,T,V){return this.applyRedirectCreatreUrlTree(T,this.urlSerializer.parse(T),A,V)}applyRedirectCreatreUrlTree(A,T,V,K){const ue=this.createSegmentGroup(A,T.root,V,K);return new un(ue,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(A,T){const V={};return qn(A,(K,ue)=>{if("string"==typeof K&&K.startsWith(":")){const qe=K.substring(1);V[ue]=T[qe]}else V[ue]=K}),V}createSegmentGroup(A,T,V,K){const ue=this.createSegments(A,T.segments,V,K);let xe={};return qn(T.children,(qe,jt)=>{xe[jt]=this.createSegmentGroup(A,qe,V,K)}),new an(ue,xe)}createSegments(A,T,V,K){return T.map(ue=>ue.path.startsWith(":")?this.findPosParam(A,ue,K):this.findOrReturn(ue,V))}findPosParam(A,T,V){const K=V[T.path.substring(1)];if(!K)throw new Error(`Cannot redirect to '${A}'. Cannot find '${T.path}'.`);return K}findOrReturn(A,T){let V=0;for(const K of T){if(K.path===A.path)return T.splice(V),K;V++}return A}}function Gn(O){const A={};for(const V of Object.keys(O.children)){const ue=Gn(O.children[V]);(ue.segments.length>0||ue.hasChildren())&&(A[V]=ue)}return function ys(O){if(1===O.numberOfChildren&&O.children[Pn]){const A=O.children[Pn];return new an(O.segments.concat(A.segments),A.children)}return O}(new an(O.segments,A))}class G{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class B{constructor(A,T){this.component=A,this.route=T}}function L(O,A,T){const V=O._root;return R(V,A?A._root:null,T,[V.value])}function Vt(O,A,T){const V=function E(O){if(!O)return null;for(let A=O.parent;A;A=A.parent){const T=A.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig}return null}(A);return(V?V.module.injector:T).get(O)}function R(O,A,T,V,K={canDeactivateChecks:[],canActivateChecks:[]}){const ue=ci(A);return O.children.forEach(xe=>{(function b(O,A,T,V,K={canDeactivateChecks:[],canActivateChecks:[]}){const ue=O.value,xe=A?A.value:null,qe=T?T.getContext(O.value.outlet):null;if(xe&&ue.routeConfig===xe.routeConfig){const jt=function j(O,A,T){if("function"==typeof T)return T(O,A);switch(T){case"pathParamsChange":return!ri(O.url,A.url);case"pathParamsOrQueryParamsChange":return!ri(O.url,A.url)||!Ln(O.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(O,A)||!Ln(O.queryParams,A.queryParams);default:return!dt(O,A)}}(xe,ue,ue.routeConfig.runGuardsAndResolvers);jt?K.canActivateChecks.push(new G(V)):(ue.data=xe.data,ue._resolvedData=xe._resolvedData),R(O,A,ue.component?qe?qe.children:null:T,V,K),jt&&qe&&qe.outlet&&qe.outlet.isActivated&&K.canDeactivateChecks.push(new B(qe.outlet.component,xe))}else xe&&oe(A,qe,K),K.canActivateChecks.push(new G(V)),R(O,null,ue.component?qe?qe.children:null:T,V,K)})(xe,ue[xe.value.outlet],T,V.concat([xe.value]),K),delete ue[xe.value.outlet]}),qn(ue,(xe,qe)=>oe(xe,T.getContext(qe),K)),K}function oe(O,A,T){const V=ci(O),K=O.value;qn(V,(ue,xe)=>{oe(ue,K.component?A?A.children.getContext(xe):null:A,T)}),T.canDeactivateChecks.push(new B(K.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,K))}class Ki{}function bi(O){return new z.y(A=>A.error(O))}class vs{constructor(A,T,V,K,ue,xe){this.rootComponentType=A,this.config=T,this.urlTree=V,this.url=K,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=xe}recognize(){const A=U(this.urlTree.root,[],[],this.config.filter(xe=>void 0===xe.redirectTo),this.relativeLinkResolution).segmentGroup,T=this.processSegmentGroup(this.config,A,Pn);if(null===T)return null;const V=new ve([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pn,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new Gr(V,T),ue=new tt(this.url,K);return this.inheritParamsAndData(ue._root),ue}inheritParamsAndData(A){const T=A.value,V=Dr(T,this.paramsInheritanceStrategy);T.params=Object.freeze(V.params),T.data=Object.freeze(V.data),A.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(A,T,V){return 0===T.segments.length&&T.hasChildren()?this.processChildren(A,T):this.processSegment(A,T,T.segments,V)}processChildren(A,T){const V=[];for(const ue of Object.keys(T.children)){const xe=T.children[ue],qe=oi(A,ue),jt=this.processSegmentGroup(qe,xe,ue);if(null===jt)return null;V.push(...jt)}const K=ga(V);return function Xs(O){O.sort((A,T)=>A.value.outlet===Pn?-1:T.value.outlet===Pn?1:A.value.outlet.localeCompare(T.value.outlet))}(K),K}processSegment(A,T,V,K){for(const ue of A){const xe=this.processSegmentAgainstRoute(ue,T,V,K);if(null!==xe)return xe}return xn(T,V,K)?[]:null}processSegmentAgainstRoute(A,T,V,K){if(A.redirectTo||!Yt(A,T,V,K))return null;let ue,xe=[],qe=[];if("**"===A.path){const ei=V.length>0?ai(V).parameters:{};ue=new ve(V,ei,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,el(A),ss(A),A.component,A,ao(T),Yo(T)+V.length,Na(A))}else{const ei=Er(T,A,V);if(!ei.matched)return null;xe=ei.consumedSegments,qe=ei.remainingSegments,ue=new ve(xe,ei.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,el(A),ss(A),A.component,A,ao(T),Yo(T)+xe.length,Na(A))}const jt=function fo(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(A),{segmentGroup:gn,slicedSegments:_n}=U(T,xe,qe,jt.filter(ei=>void 0===ei.redirectTo),this.relativeLinkResolution);if(0===_n.length&&gn.hasChildren()){const ei=this.processChildren(jt,gn);return null===ei?null:[new Gr(ue,ei)]}if(0===jt.length&&0===_n.length)return[new Gr(ue,[])];const jn=ss(A)===K,Rr=this.processSegment(jt,gn,_n,jn?Pn:K);return null===Rr?null:[new Gr(ue,Rr)]}}function wl(O){const A=O.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function ga(O){const A=[],T=new Set;for(const V of O){if(!wl(V)){A.push(V);continue}const K=A.find(ue=>V.value.routeConfig===ue.value.routeConfig);void 0!==K?(K.children.push(...V.children),T.add(K)):A.push(V)}for(const V of T){const K=ga(V.children);A.push(new Gr(V.value,K))}return A.filter(V=>!T.has(V))}function ao(O){let A=O;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Yo(O){let A=O,T=A._segmentIndexShift?A._segmentIndexShift:0;for(;A._sourceSegment;)A=A._sourceSegment,T+=A._segmentIndexShift?A._segmentIndexShift:0;return T-1}function el(O){return O.data||{}}function Na(O){return O.resolve||{}}function No(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function po(O){return(0,be.w)(A=>{const T=O(A);return T?(0,W.D)(T).pipe((0,we.U)(()=>A)):(0,te.of)(A)})}class Cl{}class Xo extends class tl{shouldDetach(A){return!1}store(A,T){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,T){return A.routeConfig===T.routeConfig}}{}const Dl=new c.OlP("ROUTES");class Es{constructor(A,T,V,K){this.injector=A,this.compiler=T,this.onLoadStartListener=V,this.onLoadEndListener=K}load(A,T){if(T._loader$)return T._loader$;this.onLoadStartListener&&this.onLoadStartListener(T);const K=this.loadModuleFactory(T.loadChildren).pipe((0,we.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(T);const xe=ue.create(A);return new xs(Tn(xe.injector.get(Dl,void 0,c.XFs.Self|c.XFs.Optional)).map(Ms),xe)}),(0,Et.K)(ue=>{throw T._loader$=void 0,ue}));return T._loader$=new ee.c(K,()=>new le.xQ).pipe((0,Ce.x)()),T._loader$}loadModuleFactory(A){return Re(A()).pipe((0,ze.zg)(T=>T instanceof c.YKP?(0,te.of)(T):(0,W.D)(this.compiler.compileModuleAsync(T))))}}class ts{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,T){return A}}function vu(O){throw O}function Hs(O,A,T){return A.parse("/")}function zc(O,A){return(0,te.of)(null)}const ac={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qs=(()=>{class O{constructor(T,V,K,ue,xe,qe,jt){this.rootComponentType=T,this.urlSerializer=V,this.rootContexts=K,this.location=ue,this.config=jt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.xQ,this.errorHandler=vu,this.malformedUriErrorHandler=Hs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zc,afterPreactivation:zc},this.urlHandlingStrategy=new ts,this.routeReuseStrategy=new Xo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=xe.get(c.h0i),this.console=xe.get(c.c2e);const jn=xe.get(c.R0b);this.isNgZoneEnabled=jn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(jt),this.currentUrlTree=function Ke(){return new un(new an([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Es(xe,qe,Rr=>this.triggerEvent(new er(Rr)),Rr=>this.triggerEvent(new Zn(Rr))),this.routerState=Si(this.currentUrlTree,this.rootComponentType),this.transitions=new _e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const V=this.events;return T.pipe((0,Fe.h)(K=>0!==K.id),(0,we.U)(K=>Object.assign(Object.assign({},K),{extractedUrl:this.urlHandlingStrategy.extract(K.rawUrl)})),(0,be.w)(K=>{let ue=!1,xe=!1;return(0,te.of)(K).pipe((0,q.b)(qe=>{this.currentNavigation={id:qe.id,initialUrl:qe.currentRawUrl,extractedUrl:qe.extractedUrl,trigger:qe.source,extras:qe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,be.w)(qe=>{const jt=this.browserUrlTree.toString(),gn=!this.navigated||qe.extractedUrl.toString()!==jt||jt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||gn)&&this.urlHandlingStrategy.shouldProcessUrl(qe.rawUrl))return ma(qe.source)&&(this.browserUrlTree=qe.extractedUrl),(0,te.of)(qe).pipe((0,be.w)(jn=>{const Rr=this.transitions.getValue();return V.next(new Xt(jn.id,this.serializeUrl(jn.extractedUrl),jn.source,jn.restoredState)),Rr!==this.transitions.getValue()?ke.E:Promise.resolve(jn)}),function Fs(O,A,T,V){return(0,be.w)(K=>function Jr(O,A,T,V,K){return new os(O,A,T,V,K).apply()}(O,A,T,K.extractedUrl,V).pipe((0,we.U)(ue=>Object.assign(Object.assign({},K),{urlAfterRedirects:ue}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,q.b)(jn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:jn.urlAfterRedirects})}),function qo(O,A,T,V,K){return(0,ze.zg)(ue=>function _s(O,A,T,V,K="emptyOnly",ue="legacy"){try{const xe=new vs(O,A,T,V,K,ue).recognize();return null===xe?bi(new Ki):(0,te.of)(xe)}catch(xe){return bi(xe)}}(O,A,ue.urlAfterRedirects,T(ue.urlAfterRedirects),V,K).pipe((0,we.U)(xe=>Object.assign(Object.assign({},ue),{targetSnapshot:xe}))))}(this.rootComponentType,this.config,jn=>this.serializeUrl(jn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,q.b)(jn=>{if("eager"===this.urlUpdateStrategy){if(!jn.extras.skipLocationChange){const ei=this.urlHandlingStrategy.merge(jn.urlAfterRedirects,jn.rawUrl);this.setBrowserUrl(ei,jn)}this.browserUrlTree=jn.urlAfterRedirects}const Rr=new zt(jn.id,this.serializeUrl(jn.extractedUrl),this.serializeUrl(jn.urlAfterRedirects),jn.targetSnapshot);V.next(Rr)}));if(gn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Rr,extractedUrl:ei,source:bs,restoredState:Or,extras:ea}=qe,Yi=new Xt(Rr,this.serializeUrl(ei),bs,Or);V.next(Yi);const Gs=Si(ei,this.rootComponentType).snapshot;return(0,te.of)(Object.assign(Object.assign({},qe),{targetSnapshot:Gs,urlAfterRedirects:ei,extras:Object.assign(Object.assign({},ea),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=qe.rawUrl,qe.resolve(null),ke.E}),po(qe=>{const{targetSnapshot:jt,id:gn,extractedUrl:_n,rawUrl:jn,extras:{skipLocationChange:Rr,replaceUrl:ei}}=qe;return this.hooks.beforePreactivation(jt,{navigationId:gn,appliedUrlTree:_n,rawUrlTree:jn,skipLocationChange:!!Rr,replaceUrl:!!ei})}),(0,q.b)(qe=>{const jt=new Jt(qe.id,this.serializeUrl(qe.extractedUrl),this.serializeUrl(qe.urlAfterRedirects),qe.targetSnapshot);this.triggerEvent(jt)}),(0,we.U)(qe=>Object.assign(Object.assign({},qe),{guards:L(qe.targetSnapshot,qe.currentSnapshot,this.rootContexts)})),function Tt(O,A){return(0,ze.zg)(T=>{const{targetSnapshot:V,currentSnapshot:K,guards:{canActivateChecks:ue,canDeactivateChecks:xe}}=T;return 0===xe.length&&0===ue.length?(0,te.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function ln(O,A,T,V){return(0,W.D)(O).pipe((0,ze.zg)(K=>function Wi(O,A,T,V,K){const ue=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,te.of)(!0);const xe=ue.map(qe=>{const jt=Vt(qe,A,K);let gn;if(function oo(O){return O&&li(O.canDeactivate)}(jt))gn=Re(jt.canDeactivate(O,A,T,V));else{if(!li(jt))throw new Error("Invalid CanDeactivate guard");gn=Re(jt(O,A,T,V))}return gn.pipe((0,ut.P)())});return(0,te.of)(xe).pipe(Tr())}(K.component,K.route,T,A,V)),(0,ut.P)(K=>!0!==K,!0))}(xe,V,K,O).pipe((0,ze.zg)(qe=>qe&&function js(O){return"boolean"==typeof O}(qe)?function Rn(O,A,T,V){return(0,W.D)(A).pipe((0,Ot.b)(K=>(0,pe.z)(function dr(O,A){return null!==O&&A&&A(new yn(O)),(0,te.of)(!0)}(K.route.parent,V),function cr(O,A){return null!==O&&A&&A(new hr(O)),(0,te.of)(!0)}(K.route,V),function Oi(O,A,T){const V=A[A.length-1],ue=A.slice(0,A.length-1).reverse().map(xe=>function he(O){const A=O.routeConfig?O.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:O,guards:A}:null}(xe)).filter(xe=>null!==xe).map(xe=>Te(()=>{const qe=xe.guards.map(jt=>{const gn=Vt(jt,xe.node,T);let _n;if(function so(O){return O&&li(O.canActivateChild)}(gn))_n=Re(gn.canActivateChild(V,O));else{if(!li(gn))throw new Error("Invalid CanActivateChild guard");_n=Re(gn(V,O))}return _n.pipe((0,ut.P)())});return(0,te.of)(qe).pipe(Tr())}));return(0,te.of)(ue).pipe(Tr())}(O,K.path,T),function Bi(O,A,T){const V=A.routeConfig?A.routeConfig.canActivate:null;if(!V||0===V.length)return(0,te.of)(!0);const K=V.map(ue=>Te(()=>{const xe=Vt(ue,A,T);let qe;if(function Ps(O){return O&&li(O.canActivate)}(xe))qe=Re(xe.canActivate(A,O));else{if(!li(xe))throw new Error("Invalid CanActivate guard");qe=Re(xe(A,O))}return qe.pipe((0,ut.P)())}));return(0,te.of)(K).pipe(Tr())}(O,K.route,T))),(0,ut.P)(K=>!0!==K,!0))}(V,ue,O,A):(0,te.of)(qe)),(0,we.U)(qe=>Object.assign(Object.assign({},T),{guardsResult:qe})))})}(this.ngModule.injector,qe=>this.triggerEvent(qe)),(0,q.b)(qe=>{if(gi(qe.guardsResult)){const gn=Wt(`Redirecting to "${this.serializeUrl(qe.guardsResult)}"`);throw gn.url=qe.guardsResult,gn}const jt=new hn(qe.id,this.serializeUrl(qe.extractedUrl),this.serializeUrl(qe.urlAfterRedirects),qe.targetSnapshot,!!qe.guardsResult);this.triggerEvent(jt)}),(0,Fe.h)(qe=>!!qe.guardsResult||(this.restoreHistory(qe),this.cancelNavigationTransition(qe,""),!1)),po(qe=>{if(qe.guards.canActivateChecks.length)return(0,te.of)(qe).pipe((0,q.b)(jt=>{const gn=new Fn(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(gn)}),(0,be.w)(jt=>{let gn=!1;return(0,te.of)(jt).pipe(function oc(O,A){return(0,ze.zg)(T=>{const{targetSnapshot:V,guards:{canActivateChecks:K}}=T;if(!K.length)return(0,te.of)(T);let ue=0;return(0,W.D)(K).pipe((0,Ot.b)(xe=>function Il(O,A,T,V){return function Zo(O,A,T,V){const K=No(O);if(0===K.length)return(0,te.of)({});const ue={};return(0,W.D)(K).pipe((0,ze.zg)(xe=>function zl(O,A,T,V){const K=Vt(O,A,V);return Re(K.resolve?K.resolve(A,T):K(A,T))}(O[xe],A,T,V).pipe((0,q.b)(qe=>{ue[xe]=qe}))),Oe(1),(0,ze.zg)(()=>No(ue).length===K.length?(0,te.of)(ue):ke.E))}(O._resolve,O,A,V).pipe((0,we.U)(ue=>(O._resolvedData=ue,O.data=Object.assign(Object.assign({},O.data),Dr(O,T).resolve),null)))}(xe.route,V,O,A)),(0,q.b)(()=>ue++),Oe(1),(0,ze.zg)(xe=>ue===K.length?(0,te.of)(T):ke.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,q.b)({next:()=>gn=!0,complete:()=>{gn||(this.restoreHistory(jt),this.cancelNavigationTransition(jt,"At least one route resolver didn't emit any value."))}}))}),(0,q.b)(jt=>{const gn=new Bn(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(gn)}))}),po(qe=>{const{targetSnapshot:jt,id:gn,extractedUrl:_n,rawUrl:jn,extras:{skipLocationChange:Rr,replaceUrl:ei}}=qe;return this.hooks.afterPreactivation(jt,{navigationId:gn,appliedUrlTree:_n,rawUrlTree:jn,skipLocationChange:!!Rr,replaceUrl:!!ei})}),(0,we.U)(qe=>{const jt=function Ft(O,A,T){const V=xt(O,A._root,T?T._root:void 0);return new Fi(V,A)}(this.routeReuseStrategy,qe.targetSnapshot,qe.currentRouterState);return Object.assign(Object.assign({},qe),{targetRouterState:jt})}),(0,q.b)(qe=>{this.currentUrlTree=qe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(qe.urlAfterRedirects,qe.rawUrl),this.routerState=qe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(qe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,qe),this.browserUrlTree=qe.urlAfterRedirects)}),((O,A,T)=>(0,we.U)(V=>(new gs(A,V.targetRouterState,V.currentRouterState,T).activate(O),V)))(this.rootContexts,this.routeReuseStrategy,qe=>this.triggerEvent(qe)),(0,q.b)({next(){ue=!0},complete(){ue=!0}}),function _t(O){return A=>A.lift(new Ee(O))}(()=>{var qe;ue||xe||this.cancelNavigationTransition(K,`Navigation ID ${K.id} is not equal to the current navigation id ${this.navigationId}`),(null===(qe=this.currentNavigation)||void 0===qe?void 0:qe.id)===K.id&&(this.currentNavigation=null)}),(0,Et.K)(qe=>{if(xe=!0,function At(O){return O&&O[Ae]}(qe)){const jt=gi(qe.url);jt||(this.navigated=!0,this.restoreHistory(K,!0));const gn=new ft(K.id,this.serializeUrl(K.extractedUrl),qe.message);V.next(gn),jt?setTimeout(()=>{const _n=this.urlHandlingStrategy.merge(qe.url,this.rawUrlTree),jn={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ma(K.source)};this.scheduleNavigation(_n,"imperative",null,jn,{resolve:K.resolve,reject:K.reject,promise:K.promise})},0):K.resolve(!1)}else{this.restoreHistory(K,!0);const jt=new Nt(K.id,this.serializeUrl(K.extractedUrl),qe);V.next(jt);try{K.resolve(this.errorHandler(qe))}catch(gn){K.reject(gn)}}return ke.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const V="popstate"===T.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{var K;const ue={replaceUrl:!0},xe=(null===(K=T.state)||void 0===K?void 0:K.navigationId)?T.state:null;if(xe){const jt=Object.assign({},xe);delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(ue.state=jt)}const qe=this.parseUrl(T.url);this.scheduleNavigation(qe,V,xe,ue)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){Zs(T),this.config=T.map(Ms),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,V={}){const{relativeTo:K,queryParams:ue,fragment:xe,queryParamsHandling:qe,preserveFragment:jt}=V,gn=K||this.routerState.root,_n=jt?this.currentUrlTree.fragment:xe;let jn=null;switch(qe){case"merge":jn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ue);break;case"preserve":jn=this.currentUrlTree.queryParams;break;default:jn=ue||null}return null!==jn&&(jn=this.removeEmptyProps(jn)),function bn(O,A,T,V,K){if(0===T.length)return di(A.root,A.root,A.root,V,K);const ue=function Xe(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new ot(!0,0,O);let A=0,T=!1;const V=O.reduce((K,ue,xe)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const qe={};return qn(ue.outlets,(jt,gn)=>{qe[gn]="string"==typeof jt?jt.split("/"):jt}),[...K,{outlets:qe}]}if(ue.segmentPath)return[...K,ue.segmentPath]}return"string"!=typeof ue?[...K,ue]:0===xe?(ue.split("/").forEach((qe,jt)=>{0==jt&&"."===qe||(0==jt&&""===qe?T=!0:".."===qe?A++:""!=qe&&K.push(qe))}),K):[...K,ue]},[]);return new ot(T,A,V)}(T);if(ue.toRoot())return di(A.root,A.root,new an([],{}),V,K);const xe=function Kt(O,A,T){if(O.isAbsolute)return new Ct(A.root,!0,0);if(-1===T.snapshot._lastPathIndex){const ue=T.snapshot._urlSegment;return new Ct(ue,ue===A.root,0)}const V=Yn(O.commands[0])?0:1;return function cn(O,A,T){let V=O,K=A,ue=T;for(;ue>K;){if(ue-=K,V=V.parent,!V)throw new Error("Invalid number of '../'");K=V.segments.length}return new Ct(V,!1,K-ue)}(T.snapshot._urlSegment,T.snapshot._lastPathIndex+V,O.numberOfDoubleDots)}(ue,A,O),qe=xe.processChildren?ii(xe.segmentGroup,xe.index,ue.commands):lr(xe.segmentGroup,xe.index,ue.commands);return di(A.root,xe.segmentGroup,qe,V,K)}(gn,this.currentUrlTree,T,jn,null!=_n?_n:null)}navigateByUrl(T,V={skipLocationChange:!1}){const K=gi(T)?T:this.parseUrl(T),ue=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(ue,"imperative",null,V)}navigate(T,V={skipLocationChange:!1}){return function Wl(O){for(let A=0;A<O.length;A++){const T=O[A];if(null==T)throw new Error(`The requested path contains ${T} segment at index ${A}`)}}(T),this.navigateByUrl(this.createUrlTree(T,V),V)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let V;try{V=this.urlSerializer.parse(T)}catch(K){V=this.malformedUriErrorHandler(K,this.urlSerializer,T)}return V}isActive(T,V){let K;if(K=!0===V?Object.assign({},ac):!1===V?Object.assign({},Jo):V,gi(T))return We(this.currentUrlTree,T,K);const ue=this.parseUrl(T);return We(this.currentUrlTree,ue,K)}removeEmptyProps(T){return Object.keys(T).reduce((V,K)=>{const ue=T[K];return null!=ue&&(V[K]=ue),V},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new ct(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,V,K,ue,xe){var qe,jt;if(this.disposed)return Promise.resolve(!1);let gn,_n,jn;xe?(gn=xe.resolve,_n=xe.reject,jn=xe.promise):jn=new Promise((bs,Or)=>{gn=bs,_n=Or});const Rr=++this.navigationId;let ei;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(K=this.location.getState()),ei=K&&K.\u0275routerPageId?K.\u0275routerPageId:ue.replaceUrl||ue.skipLocationChange?null!==(qe=this.browserPageId)&&void 0!==qe?qe:0:(null!==(jt=this.browserPageId)&&void 0!==jt?jt:0)+1):ei=0,this.setTransition({id:Rr,targetPageId:ei,source:V,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:ue,resolve:gn,reject:_n,promise:jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jn.catch(bs=>Promise.reject(bs))}setBrowserUrl(T,V){const K=this.urlSerializer.serialize(T),ue=Object.assign(Object.assign({},V.extras.state),this.generateNgRouterState(V.id,V.targetPageId));this.location.isCurrentPathEqualTo(K)||V.extras.replaceUrl?this.location.replaceState(K,"",ue):this.location.go(K,"",ue)}restoreHistory(T,V=!1){var K,ue;if("computed"===this.canceledNavigationResolution){const xe=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)||0===xe?this.currentUrlTree===(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)&&0===xe&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(xe)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,V){const K=new ft(T.id,this.serializeUrl(T.extractedUrl),V);this.triggerEvent(K),T.resolve(!1)}generateNgRouterState(T,V){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:V}:{navigationId:T}}}return O.\u0275fac=function(T){c.$Z()},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})();function ma(O){return"imperative"!==O}let go=(()=>{class O{constructor(T,V,K,ue,xe){this.router=T,this.route=V,this.tabIndexAttribute=K,this.renderer=ue,this.el=xe,this.commands=null,this.onChanges=new le.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const V=this.renderer,K=this.el.nativeElement;null!==T?V.setAttribute(K,"tabindex",T):V.removeAttribute(K,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const T={skipLocationChange:Vi(this.skipLocationChange),replaceUrl:Vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,T),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vi(this.preserveFragment)})}}return O.\u0275fac=function(T){return new(T||O)(c.Y36(Qs),c.Y36(pi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},O.\u0275dir=c.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,V){1&T&&c.NdJ("click",function(){return V.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),O})();function Vi(O){return""===O||!!O}class nl{}class Tl{preload(A,T){return T().pipe((0,Et.K)(()=>(0,te.of)(null)))}}class ns{preload(A,T){return(0,te.of)(null)}}let So=(()=>{class O{constructor(T,V,K,ue){this.router=T,this.injector=K,this.preloadingStrategy=ue,this.loader=new Es(K,V,jt=>T.triggerEvent(new er(jt)),jt=>T.triggerEvent(new Zn(jt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Fe.h)(T=>T instanceof ct),(0,Ot.b)(()=>this.preload())).subscribe(()=>{})}preload(){const T=this.injector.get(c.h0i);return this.processRoutes(T,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,V){const K=[];for(const ue of V)if(ue.loadChildren&&!ue.canLoad&&ue._loadedConfig){const xe=ue._loadedConfig;K.push(this.processRoutes(xe.module,xe.routes))}else ue.loadChildren&&!ue.canLoad?K.push(this.preloadConfig(T,ue)):ue.children&&K.push(this.processRoutes(T,ue.children));return(0,W.D)(K).pipe((0,Ze.J)(),(0,we.U)(ue=>{}))}preloadConfig(T,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,te.of)(V._loadedConfig):this.loader.load(T.injector,V)).pipe((0,ze.zg)(ue=>(V._loadedConfig=ue,this.processRoutes(ue.module,ue.routes)))))}}return O.\u0275fac=function(T){return new(T||O)(c.LFG(Qs),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(nl))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})(),Cs=(()=>{class O{constructor(T,V,K={}){this.router=T,this.viewportScroller=V,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Xt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof ct&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Pr&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,V){this.router.triggerEvent(new Pr(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(T){c.$Z()},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})();const rl=new c.OlP("ROUTER_CONFIGURATION"),pn=new c.OlP("ROUTER_FORROOT_GUARD"),Ds=[Me.Ye,{provide:ki,useClass:Hr},{provide:Qs,useFactory:function St(O,A,T,V,K,ue,xe={},qe,jt){const gn=new Qs(null,O,A,T,V,K,Tn(ue));return qe&&(gn.urlHandlingStrategy=qe),jt&&(gn.routeReuseStrategy=jt),function en(O,A){O.errorHandler&&(A.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(A.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(A.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(A.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(A.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(A.canceledNavigationResolution=O.canceledNavigationResolution)}(xe,gn),xe.enableTracing&&gn.events.subscribe(_n=>{var jn,Rr;null===(jn=console.group)||void 0===jn||jn.call(console,`Router Event: ${_n.constructor.name}`),console.log(_n.toString()),console.log(_n),null===(Rr=console.groupEnd)||void 0===Rr||Rr.call(console)}),gn},deps:[ki,hs,Me.Ye,c.zs3,c.Sil,Dl,rl,[class Qo{},new c.FiY],[Cl,new c.FiY]]},hs,{provide:pi,useFactory:function br(O){return O.routerState.root},deps:[Qs]},So,ns,Tl,{provide:rl,useValue:{enableTracing:!1}}];function Ts(){return new c.PXZ("Router",Qs)}let Fa=(()=>{class O{constructor(T,V){}static forRoot(T,V){return{ngModule:O,providers:[Ds,Dn(T),{provide:pn,useFactory:Kl,deps:[[Qs,new c.FiY,new c.tp0]]},{provide:rl,useValue:V||{}},{provide:Me.S$,useFactory:zn,deps:[Me.lw,[new c.tBr(Me.mr),new c.FiY],rl]},{provide:Cs,useFactory:Un,deps:[Qs,Me.EM,rl]},{provide:nl,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:ns},{provide:c.PXZ,multi:!0,useFactory:Ts},[ya,{provide:c.ip1,multi:!0,useFactory:La,deps:[ya]},{provide:Sl,useFactory:uc,deps:[ya]},{provide:c.tb,multi:!0,useExisting:Sl}]]}}static forChild(T){return{ngModule:O,providers:[Dn(T)]}}}return O.\u0275fac=function(T){return new(T||O)(c.LFG(pn,8),c.LFG(Qs,8))},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();function Un(O,A,T){return T.scrollOffset&&A.setOffset(T.scrollOffset),new Cs(O,A,T)}function zn(O,A,T={}){return T.useHash?new Me.Do(O,A):new Me.b0(O,A)}function Kl(O){return"guarded"}function Dn(O){return[{provide:c.deG,multi:!0,useValue:O},{provide:Dl,multi:!0,useValue:O}]}let ya=(()=>{class O{constructor(T){this.injector=T,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new le.xQ}appInitializer(){return this.injector.get(Me.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const K=new Promise(qe=>V=qe),ue=this.injector.get(Qs),xe=this.injector.get(rl);return"disabled"===xe.initialNavigation?(ue.setUpLocationChangeListener(),V(!0)):"enabled"===xe.initialNavigation||"enabledBlocking"===xe.initialNavigation?(ue.hooks.afterPreactivation=()=>this.initNavigation?(0,te.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),ue.initialNavigation()):V(!0),K})}bootstrapListener(T){const V=this.injector.get(rl),K=this.injector.get(So),ue=this.injector.get(Cs),xe=this.injector.get(Qs),qe=this.injector.get(c.z2F);T===qe.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&xe.initialNavigation(),K.setUpPreloading(),ue.init(),xe.resetRootComponentType(qe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(T){return new(T||O)(c.LFG(c.zs3))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})();function La(O){return O.appInitializer.bind(O)}function uc(O){return O.bootstrapListener.bind(O)}const Sl=new c.OlP("Router Initializer")},3942:(Qt,lt,N)=>{"use strict";N.d(lt,{Z:()=>He});var c=N(2090),z=N(4859),W=N(9681),ke=N(1877);class Te{constructor(Oe,Le){this._delegate=Oe,this.firebase=Le,(0,W._addComponent)(Oe,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Oe,Le=W._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Oe);return!rt.isInitialized()&&"EXPLICIT"===(null===(et=rt.getComponent())||void 0===et?void 0:et.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Le})}_removeServiceInstance(Oe,Le=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Le)}_addComponent(Oe){(0,W._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,W._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function Ie(){const De=function re(De){const Oe={},Le={__esModule:!0,initializeApp:function Ye(_t,Ee={}){const nt=W.initializeApp(_t,Ee);if((0,c.r3)(Oe,nt.name))return Oe[nt.name];const we=new De(nt,Le);return Oe[nt.name]=we,we},app:rt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Pt(_t){const Ee=_t.name,nt=Ee.replace("-compat","");if(W._registerComponent(_t)&&"PUBLIC"===_t.type){const we=(be=rt())=>{if("function"!=typeof be[nt])throw _e.create("invalid-app-argument",{appName:Ee});return be[nt]()};void 0!==_t.serviceProps&&(0,c.ZB)(we,_t.serviceProps),Le[nt]=we,De.prototype[nt]=function(...be){return this._getService.bind(this,Ee).apply(this,_t.multipleInstances?be:[])}}return"PUBLIC"===_t.type?Le[nt]:null},removeApp:function et(_t){delete Oe[_t]},useAsService:function gt(_t,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:W}};function rt(_t){if(!(0,c.r3)(Oe,_t=_t||W._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:_t});return Oe[_t]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function yt(){return Object.keys(Oe).map(_t=>Oe[_t])}}),rt.App=De,Le}(Te);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function Oe(Le){(0,c.ZB)(De,Le)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),De}(),pe=new ke.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=Z;!function Fe(De){(0,W.registerVersion)("@firebase/app-compat","0.1.26",De)}()},9681:(Qt,lt,N)=>{"use strict";N.r(lt),N.d(lt,{FirebaseError:()=>ke.ZR,SDK_VERSION:()=>Fn,_DEFAULT_ENTRY_NAME:()=>ze,_addComponent:()=>Me,_addOrOverwriteComponent:()=>st,_apps:()=>Ce,_clearComponents:()=>Nt,_components:()=>Ze,_getProvider:()=>ct,_registerComponent:()=>Xt,_removeServiceInstance:()=>ft,deleteApp:()=>yn,getApp:()=>er,getApps:()=>Zn,initializeApp:()=>Bn,onLog:()=>vr,registerVersion:()=>hr,setLogLevel:()=>Pr});var c=N(5861),z=N(4859),W=N(1877),ke=N(2090),Te=N(8766);class te{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(qt=>{if(function _e(We){const pt=We.getComponent();return"VERSION"===(null==pt?void 0:pt.type)}(qt)){const En=qt.getImmediate();return`${En.library}/${En.version}`}return null}).filter(qt=>qt).join(" ")}}const re="@firebase/app",Z=new W.Yd("@firebase/app"),ze="[DEFAULT]",q={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ce=new Map,Ze=new Map;function Me(We,pt){try{We.container.addComponent(pt)}catch(qt){Z.debug(`Component ${pt.name} failed to register with FirebaseApp ${We.name}`,qt)}}function st(We,pt){We.container.addOrOverwriteComponent(pt)}function Xt(We){const pt=We.name;if(Ze.has(pt))return Z.debug(`There were multiple attempts to register component ${pt}.`),!1;Ze.set(pt,We);for(const qt of Ce.values())Me(qt,We);return!0}function ct(We,pt){const qt=We.container.getProvider("heartbeat").getImmediate({optional:!0});return qt&&qt.triggerHeartbeat(),We.container.getProvider(pt)}function ft(We,pt,qt=ze){ct(We,pt).clearInstance(qt)}function Nt(){Ze.clear()}const Jt=new ke.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class hn{constructor(pt,qt,En){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},qt),this._name=qt.name,this._automaticDataCollectionEnabled=qt.automaticDataCollectionEnabled,this._container=En,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const Fn="9.8.2";function Bn(We,pt={}){"object"!=typeof pt&&(pt={name:pt});const qt=Object.assign({name:ze,automaticDataCollectionEnabled:!1},pt),En=qt.name;if("string"!=typeof En||!En)throw Jt.create("bad-app-name",{appName:String(En)});const Sn=Ce.get(En);if(Sn){if((0,ke.vZ)(We,Sn.options)&&(0,ke.vZ)(qt,Sn.config))return Sn;throw Jt.create("duplicate-app",{appName:En})}const On=new z.H0(En);for(const un of Ze.values())On.addComponent(un);const fr=new hn(We,qt,On);return Ce.set(En,fr),fr}function er(We=ze){const pt=Ce.get(We);if(!pt)throw Jt.create("no-app",{appName:We});return pt}function Zn(){return Array.from(Ce.values())}function yn(We){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(We){const pt=We.name;Ce.has(pt)&&(Ce.delete(pt),yield Promise.all(We.container.getProviders().map(qt=>qt.delete())),We.isDeleted=!0)})).apply(this,arguments)}function hr(We,pt,qt){var En;let Sn=null!==(En=q[We])&&void 0!==En?En:We;qt&&(Sn+=`-${qt}`);const On=Sn.match(/\s|\//),fr=pt.match(/\s|\//);if(On||fr){const un=[`Unable to register library "${Sn}" with version "${pt}":`];return On&&un.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),On&&fr&&un.push("and"),fr&&un.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void Z.warn(un.join(" "))}Xt(new z.wA(`${Sn}-version`,()=>({library:Sn,version:pt}),"VERSION"))}function vr(We,pt){if(null!==We&&"function"!=typeof We)throw Jt.create("invalid-log-argument");(0,W.Am)(We,pt)}function Pr(We){(0,W.Ub)(We)}const Ge="firebase-heartbeat-store";let Ae=null;function Wt(){return Ae||(Ae=(0,Te.X3)("firebase-heartbeat-database",1,{upgrade:(We,pt)=>{0===pt&&We.createObjectStore(Ge)}}).catch(We=>{throw Jt.create("storage-open",{originalErrorMessage:We.message})})),Ae}function Gt(){return(Gt=(0,c.Z)(function*(We){try{return(yield Wt()).transaction(Ge).objectStore(Ge).get(Vn(We))}catch(pt){throw Jt.create("storage-get",{originalErrorMessage:pt.message})}})).apply(this,arguments)}function dn(We,pt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(We,pt){try{const En=(yield Wt()).transaction(Ge,"readwrite");return yield En.objectStore(Ge).put(pt,Vn(We)),En.done}catch(qt){throw Jt.create("storage-set",{originalErrorMessage:qt.message})}})).apply(this,arguments)}function Vn(We){return`${We.name}!${We.options.appId}`}class Lr{constructor(pt){this.container=pt,this._heartbeatsCache=null;const qt=this.container.getProvider("app").getImmediate();this._storage=new Ke(qt),this._heartbeatsCachePromise=this._storage.read().then(En=>(this._heartbeatsCache=En,En))}triggerHeartbeat(){var pt=this;return(0,c.Z)(function*(){const En=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=qn();if(null===pt._heartbeatsCache&&(pt._heartbeatsCache=yield pt._heartbeatsCachePromise),pt._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!pt._heartbeatsCache.heartbeats.some(On=>On.date===Sn))return pt._heartbeatsCache.heartbeats.push({date:Sn,agent:En}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(On=>{const fr=new Date(On.date).valueOf();return Date.now()-fr<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,c.Z)(function*(){if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null===pt._heartbeatsCache||0===pt._heartbeatsCache.heartbeats.length)return"";const qt=qn(),{heartbeatsToSend:En,unsentEntries:Sn}=function Re(We,pt=1024){const qt=[];let En=We.slice();for(const Sn of We){const On=qt.find(fr=>fr.agent===Sn.agent);if(On){if(On.dates.push(Sn.date),Qe(qt)>pt){On.dates.pop();break}}else if(qt.push({agent:Sn.agent,dates:[Sn.date]}),Qe(qt)>pt){qt.pop();break}En=En.slice(1)}return{heartbeatsToSend:qt,unsentEntries:En}}(pt._heartbeatsCache.heartbeats),On=(0,ke.L)(JSON.stringify({version:2,heartbeats:En}));return pt._heartbeatsCache.lastSentHeartbeatDate=qt,Sn.length>0?(pt._heartbeatsCache.heartbeats=Sn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),On})()}}function qn(){return(new Date).toISOString().substring(0,10)}class Ke{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ke.hl)()&&(0,ke.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,c.Z)(function*(){return(yield pt._canUseIndexedDBPromise)&&(yield function At(We){return Gt.apply(this,arguments)}(pt.app))||{heartbeats:[]}})()}overwrite(pt){var qt=this;return(0,c.Z)(function*(){var En;if(yield qt._canUseIndexedDBPromise){const On=yield qt.read();return dn(qt.app,{lastSentHeartbeatDate:null!==(En=pt.lastSentHeartbeatDate)&&void 0!==En?En:On.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var qt=this;return(0,c.Z)(function*(){var En;if(yield qt._canUseIndexedDBPromise){const On=yield qt.read();return dn(qt.app,{lastSentHeartbeatDate:null!==(En=pt.lastSentHeartbeatDate)&&void 0!==En?En:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...pt.heartbeats]})}})()}}function Qe(We){return(0,ke.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Bt(We){Xt(new z.wA("platform-logger",pt=>new te(pt),"PRIVATE")),Xt(new z.wA("heartbeat",pt=>new Lr(pt),"PRIVATE")),hr(re,"0.7.25",We),hr(re,"0.7.25","esm2017"),hr("fire-js","")}("")},4859:(Qt,lt,N)=>{"use strict";N.d(lt,{wA:()=>W,H0:()=>re,zt:()=>Te});var c=N(5861),z=N(2090);class W{constructor(Z,pe,ee){this.name=Z,this.instanceFactory=pe,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const ke="[DEFAULT]";class Te{constructor(Z,pe){this.name=Z,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const pe=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(pe)){const ee=new z.BH;if(this.instancesDeferred.set(pe,ee),this.isInitialized(pe)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:pe});le&&ee.resolve(le)}catch(le){}}return this.instancesDeferred.get(pe).promise}getImmediate(Z){var pe;const ee=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),le=null!==(pe=null==Z?void 0:Z.optional)&&void 0!==pe&&pe;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Fe){if(le)return null;throw Fe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function _e(Ie){return"EAGER"===Ie.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:ke})}catch(pe){}for(const[pe,ee]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier(pe);try{const Fe=this.getOrInitializeService({instanceIdentifier:le});ee.resolve(Fe)}catch(Fe){}}}}clearInstance(Z=ke){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,c.Z)(function*(){const pe=Array.from(Z.instances.values());yield Promise.all([...pe.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...pe.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=ke){return this.instances.has(Z)}getOptions(Z=ke){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:pe={}}=Z,ee=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:ee,options:pe});for(const[Fe,He]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Fe)&&He.resolve(le);return le}onInit(Z,pe){var ee;const le=this.normalizeInstanceIdentifier(pe),Fe=null!==(ee=this.onInitCallbacks.get(le))&&void 0!==ee?ee:new Set;Fe.add(Z),this.onInitCallbacks.set(le,Fe);const He=this.instances.get(le);return He&&Z(He,le),()=>{Fe.delete(Z)}}invokeOnInitCallbacks(Z,pe){const ee=this.onInitCallbacks.get(pe);if(ee)for(const le of ee)try{le(Z,pe)}catch(Fe){}}getOrInitializeService({instanceIdentifier:Z,options:pe={}}){let ee=this.instances.get(Z);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=Z,Ie===ke?void 0:Ie),options:pe}),this.instances.set(Z,ee),this.instancesOptions.set(Z,pe),this.invokeOnInitCallbacks(ee,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ee)}catch(le){}var Ie;return ee||null}normalizeInstanceIdentifier(Z=ke){return this.component?this.component.multipleInstances?Z:ke:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const pe=this.getProvider(Z.name);if(pe.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);pe.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const pe=new Te(Z,this);return this.providers.set(Z,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,lt,N)=>{"use strict";N.d(lt,{in:()=>z,Yd:()=>_e,Ub:()=>re,Am:()=>Ie});const c=[];var z=(()=>{return(Z=z||(z={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",z;var Z})();const W={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ke=z.INFO,Te={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},te=(Z,pe,...ee)=>{if(pe<Z.logLevel)return;const le=(new Date).toISOString(),Fe=Te[pe];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Fe](`[${le}]  ${Z.name}:`,...ee)};class _e{constructor(pe){this.name=pe,this._logLevel=ke,this._logHandler=te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in z))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?W[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...pe),this._logHandler(this,z.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...pe),this._logHandler(this,z.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,z.INFO,...pe),this._logHandler(this,z.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,z.WARN,...pe),this._logHandler(this,z.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...pe),this._logHandler(this,z.ERROR,...pe)}}function re(Z){c.forEach(pe=>{pe.setLogLevel(Z)})}function Ie(Z,pe){for(const ee of c){let le=null;pe&&pe.level&&(le=W[pe.level]),ee.userLogHandler=null===Z?null:(Fe,He,...De)=>{const Oe=De.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(et){return null}}).filter(Le=>Le).join(" ");He>=(null!=le?le:Fe.logLevel)&&Z({level:z[He].toLowerCase(),message:Oe,args:De,type:Fe.name})}}}},8766:(Qt,lt,N)=>{"use strict";N.d(lt,{Lj:()=>Ye,X3:()=>rt});var c=N(5861);let W,ke;const _e=new WeakMap,re=new WeakMap,Ie=new WeakMap,Z=new WeakMap,pe=new WeakMap;let Fe={get(Ee,nt,we){if(Ee instanceof IDBTransaction){if("done"===nt)return re.get(Ee);if("objectStoreNames"===nt)return Ee.objectStoreNames||Ie.get(Ee);if("store"===nt)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return Le(Ee[nt])},set:(Ee,nt,we)=>(Ee[nt]=we,!0),has:(Ee,nt)=>Ee instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Ee};function Oe(Ee){return"function"==typeof Ee?function De(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...nt){return Ee.apply(et(this),nt),Le(_e.get(this))}:function(...nt){return Le(Ee.apply(et(this),nt))}:function(nt,...we){const be=Ee.call(et(this),nt,...we);return Ie.set(be,nt.sort?nt.sort():[nt]),Le(be)}}(Ee):(Ee instanceof IDBTransaction&&function le(Ee){if(re.has(Ee))return;const nt=new Promise((we,be)=>{const ge=()=>{Ee.removeEventListener("complete",Be),Ee.removeEventListener("error",$e),Ee.removeEventListener("abort",$e)},Be=()=>{we(),ge()},$e=()=>{be(Ee.error||new DOMException("AbortError","AbortError")),ge()};Ee.addEventListener("complete",Be),Ee.addEventListener("error",$e),Ee.addEventListener("abort",$e)});re.set(Ee,nt)}(Ee),((Ee,nt)=>nt.some(we=>Ee instanceof we))(Ee,function Te(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,Fe):Ee)}function Le(Ee){if(Ee instanceof IDBRequest)return function ee(Ee){const nt=new Promise((we,be)=>{const ge=()=>{Ee.removeEventListener("success",Be),Ee.removeEventListener("error",$e)},Be=()=>{we(Le(Ee.result)),ge()},$e=()=>{be(Ee.error),ge()};Ee.addEventListener("success",Be),Ee.addEventListener("error",$e)});return nt.then(we=>{we instanceof IDBCursor&&_e.set(we,Ee)}).catch(()=>{}),pe.set(nt,Ee),nt}(Ee);if(Z.has(Ee))return Z.get(Ee);const nt=Oe(Ee);return nt!==Ee&&(Z.set(Ee,nt),pe.set(nt,Ee)),nt}const et=Ee=>pe.get(Ee);function rt(Ee,nt,{blocked:we,upgrade:be,blocking:ge,terminated:Be}={}){const $e=indexedDB.open(Ee,nt),Et=Le($e);return be&&$e.addEventListener("upgradeneeded",Ot=>{be(Le($e.result),Ot.oldVersion,Ot.newVersion,Le($e.transaction))}),we&&$e.addEventListener("blocked",()=>we()),Et.then(Ot=>{Be&&Ot.addEventListener("close",()=>Be()),ge&&Ot.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Et}function Ye(Ee,{blocked:nt}={}){const we=indexedDB.deleteDatabase(Ee);return nt&&we.addEventListener("blocked",()=>nt()),Le(we).then(()=>{})}const yt=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],gt=new Map;function _t(Ee,nt){if(!(Ee instanceof IDBDatabase)||nt in Ee||"string"!=typeof nt)return;if(gt.get(nt))return gt.get(nt);const we=nt.replace(/FromIndex$/,""),be=nt!==we,ge=Pt.includes(we);if(!(we in(be?IDBIndex:IDBObjectStore).prototype)||!ge&&!yt.includes(we))return;const Be=function(){var $e=(0,c.Z)(function*(Et,...Ot){const ut=this.transaction(Et,ge?"readwrite":"readonly");let ze=ut.store;return be&&(ze=ze.index(Ot.shift())),(yield Promise.all([ze[we](...Ot),ge&&ut.done]))[0]});return function(Ot){return $e.apply(this,arguments)}}();return gt.set(nt,Be),Be}!function He(Ee){Fe=Ee(Fe)}(Ee=>cE(uE({},Ee),{get:(nt,we,be)=>_t(nt,we)||Ee.get(nt,we,be),has:(nt,we)=>!!_t(nt,we)||Ee.has(nt,we)}))},5861:(Qt,lt,N)=>{"use strict";function c(W,ke,Te,te,_e,re,Ie){try{var Z=W[re](Ie),pe=Z.value}catch(ee){return void Te(ee)}Z.done?ke(pe):Promise.resolve(pe).then(te,_e)}function z(W){return function(){var ke=this,Te=arguments;return new Promise(function(te,_e){var re=W.apply(ke,Te);function Ie(pe){c(re,te,_e,Ie,Z,"next",pe)}function Z(pe){c(re,te,_e,Ie,Z,"throw",pe)}Ie(void 0)})}}N.d(lt,{Z:()=>z})}},Qt=>{Qt(Qt.s=7160)}]);