var ub=Object.defineProperty,cb=Object.defineProperties,db=Object.getOwnPropertyDescriptors,LE=Object.getOwnPropertySymbols,hb=Object.prototype.hasOwnProperty,fb=Object.prototype.propertyIsEnumerable,BE=(Zt,at,P)=>at in Zt?ub(Zt,at,{enumerable:!0,configurable:!0,writable:!0,value:P}):Zt[at]=P,VE=(Zt,at)=>{for(var P in at||(at={}))hb.call(at,P)&&BE(Zt,P,at[P]);if(LE)for(var P of LE(at))fb.call(at,P)&&BE(Zt,P,at[P]);return Zt},UE=(Zt,at)=>cb(Zt,db(at));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(Zt,at,P)=>{"use strict";P.d(at,{nm:()=>re});var c=P(5813);P(5e3),P(5867);var ot=P(5861),Ze=P(9681),ze=P(4859),$e=P(2090),Ke=P(1877);const ee=new Map,Qe={activated:!1,tokenObservers:[]},he={initialized:!1,enabled:!1};function ye(nt){return ee.get(nt)||Qe}function ge(nt,Ge){ee.set(nt,Ge)}function Ae(){return he}class Ct{constructor(Ge,Dt,zt,Xt,gn){if(this.operation=Ge,this.retryPolicy=Dt,this.getWaitDuration=zt,this.lowerBound=Xt,this.upperBound=gn,this.pending=null,this.nextErrorWaitInterval=Xt,Xt>gn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ge){var Dt=this;return(0,ot.Z)(function*(){Dt.stop();try{Dt.pending=new $e.BH,yield function ft(nt){return new Promise(Ge=>{setTimeout(Ge,nt)})}(Dt.getNextRun(Ge)),Dt.pending.resolve(),yield Dt.pending.promise,Dt.pending=new $e.BH,yield Dt.operation(),Dt.pending.resolve(),yield Dt.pending.promise,Dt.process(!0).catch(()=>{})}catch(zt){Dt.retryPolicy(zt)?Dt.process(!1).catch(()=>{}):Dt.stop()}})()}getNextRun(Ge){if(Ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Dt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Dt}}}const lt=new $e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nt(nt){if(!ye(nt).activated)throw lt.create("use-before-activation",{appName:nt.name})}function yn(nt,Ge){return fn.apply(this,arguments)}function fn(){return(fn=(0,ot.Z)(function*({url:nt,body:Ge},Dt){const zt={"Content-Type":"application/json"},Xt=Dt.getImmediate({optional:!0});if(Xt){const Ai=yield Xt.getHeartbeatsHeader();Ai&&(zt["X-Firebase-Client"]=Ai)}const gn={method:"POST",body:JSON.stringify(Ge),headers:zt};let ur,bi;try{ur=yield fetch(nt,gn)}catch(Ai){throw lt.create("fetch-network-error",{originalErrorMessage:Ai.message})}if(200!==ur.status)throw lt.create("fetch-status-error",{httpStatus:ur.status});try{bi=yield ur.json()}catch(Ai){throw lt.create("fetch-parse-error",{originalErrorMessage:Ai.message})}const Ir=bi.ttl.match(/^([\d.]+)(s)$/);if(!Ir||!Ir[2]||isNaN(Number(Ir[1])))throw lt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bi.ttl}`});const is=1e3*Number(Ir[1]),js=Date.now();return{token:bi.token,expireTimeMillis:js+is,issuedAtTimeMillis:js}})).apply(this,arguments)}function Ln(nt,Ge){const{projectId:Dt,appId:zt,apiKey:Xt}=nt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Dt}/apps/${zt}:exchangeDebugToken?key=${Xt}`,body:{debug_token:Ge}}}const qr="firebase-app-check-store";let Yn=null;function $r(){return Yn||(Yn=new Promise((nt,Ge)=>{try{const Dt=indexedDB.open("firebase-app-check-database",1);Dt.onsuccess=zt=>{nt(zt.target.result)},Dt.onerror=zt=>{var Xt;Ge(lt.create("storage-open",{originalErrorMessage:null===(Xt=zt.target.error)||void 0===Xt?void 0:Xt.message}))},Dt.onupgradeneeded=zt=>{0===zt.oldVersion&&zt.target.result.createObjectStore(qr,{keyPath:"compositeKey"})}}catch(Dt){Ge(lt.create("storage-open",{originalErrorMessage:Dt.message}))}}),Yn)}function vt(){return(vt=(0,ot.Z)(function*(nt,Ge){const zt=(yield $r()).transaction(qr,"readwrite"),gn=zt.objectStore(qr).put({compositeKey:nt,value:Ge});return new Promise((ur,bi)=>{gn.onsuccess=Ir=>{ur()},zt.onerror=Ir=>{var is;bi(lt.create("storage-set",{originalErrorMessage:null===(is=Ir.target.error)||void 0===is?void 0:is.message}))}})})).apply(this,arguments)}const Nn=new Ke.Yd("@firebase/app-check");function hr(nt,Ge){return(0,$e.hl)()?function Lt(nt,Ge){return function At(nt,Ge){return vt.apply(this,arguments)}(function Un(nt){return`${nt.options.appId}-${nt.name}`}(nt),Ge)}(nt,Ge).catch(Dt=>{Nn.warn(`Failed to write token to IndexedDB. Error: ${Dt}`)}):Promise.resolve()}function je(){return Ae().enabled}function Xe(){return xt.apply(this,arguments)}function xt(){return(xt=(0,ot.Z)(function*(){const nt=Ae();if(nt.enabled&&nt.token)return nt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gt={error:"UNKNOWN_ERROR"};function Ht(nt){return $e.US.encodeString(JSON.stringify(nt),!1)}function rn(nt){return vn.apply(this,arguments)}function vn(){return(vn=(0,ot.Z)(function*(nt,Ge=!1){const Dt=nt.app;Nt(Dt);const zt=ye(Dt);let gn,Xt=zt.token;if(!Xt){const Ir=yield zt.cachedTokenPromise;Ir&&Fi(Ir)&&(Xt=Ir)}if(!Ge&&Xt&&Fi(Xt))return{token:Xt.token};let bi,ur=!1;if(je()){zt.exchangeTokenPromise||(zt.exchangeTokenPromise=yn(Ln(Dt,yield Xe()),nt.heartbeatServiceProvider).then(is=>(zt.exchangeTokenPromise=void 0,is)),ur=!0);const Ir=yield zt.exchangeTokenPromise;return yield hr(Dt,Ir),ge(Dt,Object.assign(Object.assign({},zt),{token:Ir})),{token:Ir.token}}try{zt.exchangeTokenPromise||(zt.exchangeTokenPromise=zt.provider.getToken().then(Ir=>(zt.exchangeTokenPromise=void 0,Ir)),ur=!0),Xt=yield zt.exchangeTokenPromise}catch(Ir){"appCheck/throttled"===Ir.code?Nn.warn(Ir.message):Nn.error(Ir),gn=Ir}return Xt?(bi={token:Xt.token},ge(Dt,Object.assign(Object.assign({},zt),{token:Xt})),yield hr(Dt,Xt)):bi=Hr(gn),ur&&Pr(Dt,bi),bi})).apply(this,arguments)}function Er(nt,Ge){const Dt=ye(nt),zt=Dt.tokenObservers.filter(Xt=>Xt.next!==Ge);0===zt.length&&Dt.tokenRefresher&&Dt.tokenRefresher.isRunning()&&Dt.tokenRefresher.stop(),ge(nt,Object.assign(Object.assign({},Dt),{tokenObservers:zt}))}function In(nt){const{app:Ge}=nt,Dt=ye(Ge);let zt=Dt.tokenRefresher;zt||(zt=function rr(nt){const{app:Ge}=nt;return new Ct((0,ot.Z)(function*(){let zt;if(zt=ye(Ge).token?yield rn(nt,!0):yield rn(nt),zt.error)throw zt.error}),()=>!0,()=>{const Dt=ye(Ge);if(Dt.token){let zt=Dt.token.issuedAtTimeMillis+.5*(Dt.token.expireTimeMillis-Dt.token.issuedAtTimeMillis)+3e5;return zt=Math.min(zt,Dt.token.expireTimeMillis-3e5),Math.max(0,zt-Date.now())}return 0},3e4,96e4)}(nt),ge(Ge,Object.assign(Object.assign({},Dt),{tokenRefresher:zt}))),!zt.isRunning()&&Dt.isTokenAutoRefreshEnabled&&zt.start()}function Pr(nt,Ge){const Dt=ye(nt).tokenObservers;for(const zt of Dt)try{"EXTERNAL"===zt.type&&null!=Ge.error?zt.error(Ge.error):zt.next(Ge)}catch(Xt){}}function Fi(nt){return nt.expireTimeMillis-Date.now()>0}function Hr(nt){return{token:Ht(gt),error:nt}}class Bn{constructor(Ge,Dt){this.app=Ge,this.heartbeatServiceProvider=Dt}_delete(){const{tokenObservers:Ge}=ye(this.app);for(const Dt of Ge)Er(this.app,Dt.next);return Promise.resolve()}}const li="app-check-internal";!function Cr(){(0,Ze._registerComponent)(new ze.wA("app-check",nt=>function wi(nt,Ge){return new Bn(nt,Ge)}(nt.getProvider("app").getImmediate(),nt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((nt,Ge,Dt)=>{nt.getProvider(li).initialize()})),(0,Ze._registerComponent)(new ze.wA(li,nt=>function Yr(nt){return{getToken:Ge=>rn(nt,Ge),addTokenListener:Ge=>function wn(nt,Ge,Dt,zt){const{app:Xt}=nt,gn=ye(Xt),ur={next:Dt,error:zt,type:Ge};if(ge(Xt,Object.assign(Object.assign({},gn),{tokenObservers:[...gn.tokenObservers,ur]})),gn.token&&Fi(gn.token)){const bi=gn.token;Promise.resolve().then(()=>{Dt({token:bi.token}),In(nt)}).catch(()=>{})}gn.cachedTokenPromise.then(()=>In(nt))}(nt,"INTERNAL",Ge),removeTokenListener:Ge=>Er(nt.app,Ge)}}(nt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)("@firebase/app-check","0.5.8")}();class re{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(Zt,at,P)=>{"use strict";P.d(at,{zQ:()=>ye,ww:()=>ge,rT:()=>Ke,f7:()=>Qe,L6:()=>ze,_Q:()=>$e,lh:()=>ee,Qv:()=>Ze,nw:()=>he});var c=P(5e3),J=P(7579),q=P(9646),Me=P(8306),Re=P(8996),Ee=P(6451),ve=P(3900),Ce=P(576);function ke(Ae,Ye){return(0,Ce.m)(Ye)?(0,ve.w)(()=>Ae,Ye):(0,ve.w)(()=>Ae)}var fe=P(5363),me=P(4004),Te=P(3151),Pe=P(590),Ve=P(9468),tt=P(9300),Fe=P(5813),Se=P(2011),Le=P(9808),De=P(440),st=P(127);const Ze=new c.OlP("angularfire2.auth.use-emulator"),ze=new c.OlP("angularfire2.auth.settings"),$e=new c.OlP("angularfire2.auth.tenant-id"),Ke=new c.OlP("angularfire2.auth.langugage-code"),ee=new c.OlP("angularfire2.auth.use-device-language"),Qe=new c.OlP("angularfire.auth.persistence"),he=(Ae,Ye,pt,Gt,yt,ht,We,Ct)=>(0,Se.cc)(`${Ae.name}.auth`,"AngularFireAuth",Ae.name,()=>{const ft=Ye.runOutsideAngular(()=>Ae.auth());if(pt&&ft.useEmulator(...pt),Gt&&(ft.tenantId=Gt),ft.languageCode=yt,ht&&ft.useDeviceLanguage(),We)for(const[Et,lt]of Object.entries(We))ft.settings[Et]=lt;return Ct&&ft.setPersistence(Ct),ft},[pt,Gt,yt,ht,We,Ct]);let ye=(()=>{class Ae{constructor(pt,Gt,yt,ht,We,Ct,ft,Et,lt,Kt,Nt,wt){const Pn=new J.x,Cn=(0,q.of)(void 0).pipe((0,fe.Q)(We.outsideAngular),(0,ve.w)(()=>ht.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8775)))),(0,me.U)(()=>(0,Se.on)(pt,ht,Gt)),(0,me.U)(yn=>he(yn,ht,Ct,Et,lt,Kt,ft,Nt)),(0,Te.d)({bufferSize:1,refCount:!1}));if((0,Le.PM)(yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{Cn.pipe((0,Pe.P)()).subscribe();const fn=Cn.pipe((0,ve.w)(Ln=>Ln.getRedirectResult().then(kn=>kn,()=>null)),Fe.iC,(0,Te.d)({bufferSize:1,refCount:!1})),qn=Cn.pipe((0,ve.w)(Ln=>new Me.y(kn=>({unsubscribe:ht.runOutsideAngular(()=>Ln.onAuthStateChanged(_n=>kn.next(_n),_n=>kn.error(_n),()=>kn.complete()))})))),tr=Cn.pipe((0,ve.w)(Ln=>new Me.y(kn=>({unsubscribe:ht.runOutsideAngular(()=>Ln.onIdTokenChanged(_n=>kn.next(_n),_n=>kn.error(_n),()=>kn.complete()))}))));this.authState=fn.pipe(ke(qn),(0,Ve.R)(We.outsideAngular),(0,fe.Q)(We.insideAngular)),this.user=fn.pipe(ke(tr),(0,Ve.R)(We.outsideAngular),(0,fe.Q)(We.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(Ln=>Ln?(0,Re.D)(Ln.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(Ln=>Ln?(0,Re.D)(Ln.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,Ee.T)(fn,Pn,this.authState.pipe((0,tt.h)(Ln=>!Ln))).pipe((0,me.U)(Ln=>(null==Ln?void 0:Ln.user)?Ln:null),(0,Ve.R)(We.outsideAngular),(0,fe.Q)(We.insideAngular))}return(0,Se.pX)(this,Cn,ht,{spy:{apply:(yn,fn,qn)=>{(yn.startsWith("signIn")||yn.startsWith("createUser"))&&qn.then(tr=>Pn.next(tr))}}})}}return Ae.\u0275fac=function(pt){return new(pt||Ae)(c.LFG(Se.Dh),c.LFG(Se.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fe.HU),c.LFG(Ze,8),c.LFG(ze,8),c.LFG($e,8),c.LFG(Ke,8),c.LFG(ee,8),c.LFG(Qe,8),c.LFG(De.nm,8))},Ae.\u0275prov=c.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"any"}),Ae})(),ge=(()=>{class Ae{constructor(){st.Z.registerVersion("angularfire",Fe.q4.full,"auth-compat")}}return Ae.\u0275fac=function(pt){return new(pt||Ae)},Ae.\u0275mod=c.oAB({type:Ae}),Ae.\u0275inj=c.cJS({providers:[ye]}),Ae})()},7407:(Zt,at,P)=>{"use strict";P.d(at,{ST:()=>ov});var c=P(5e3),J=P(4986),q=P(8306),Me=P(8996),Re=P(9646),Ee=P(5813),ve=P(4482),Ce=P(5403);function ke(){return(0,ve.e)((i,e)=>{let t,a=!1;i.subscribe((0,Ce.x)(e,h=>{const m=t;t=h,a&&e.next([m,h]),a=!0}))})}var ee,fe=P(8675),me=P(4004),Te=P(5026),Pe=P(1884),Ve=P(9300),tt=P(2011),Fe=P(9808),Le=(P(8775),P(3942)),De=P(5861),st=P(9681),ot=P(4859),Ze=P(1877),ze=P(2090),$e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ke={},Qe=Qe||{},he=$e||self;function ye(){}function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ae(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),Gt=0;function yt(i,e,t){return i.call.apply(i.bind,arguments)}function ht(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function We(i,e,t){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yt:ht).apply(null,arguments)}function Ct(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ft(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(a,h,m){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return e.prototype[h].apply(a,b)}}function Et(){this.s=this.s,this.o=this.o}var Kt={};Et.prototype.s=!1,Et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ye(i){return Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++Gt)}(this);delete Kt[i]}},Et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},wt=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const a=i.length,h="string"==typeof i?i.split(""):i;for(let m=0;m<a;m++)m in h&&e.call(t,h[m],m,i)};function Cn(i){return Array.prototype.concat.apply([],arguments)}function yn(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function fn(i){return/^[\s\xa0]*$/.test(i)}var kn,qn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function tr(i,e){return-1!=i.indexOf(e)}function Ln(i,e){return i<e?-1:i>e?1:0}e:{var _n=he.navigator;if(_n){var qr=_n.userAgent;if(qr){kn=qr;break e}}kn=""}function Wn(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function Yn(i){const e={};for(const t in i)e[t]=i[t];return e}var $r="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fi(i,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)i[t]=a[t];for(let m=0;m<$r.length;m++)t=$r[m],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function Lt(i){return Lt[" "](i),i}Lt[" "]=ye;var pn,i,Je=tr(kn,"Opera"),At=tr(kn,"Trident")||tr(kn,"MSIE"),vt=tr(kn,"Edge"),Wt=vt||At,It=tr(kn,"Gecko")&&!(tr(kn.toLowerCase(),"webkit")&&!tr(kn,"Edge"))&&!(tr(kn,"Trident")||tr(kn,"MSIE"))&&!tr(kn,"Edge"),Un=tr(kn.toLowerCase(),"webkit")&&!tr(kn,"Edge");function Nn(){var i=he.document;return i?i.documentMode:void 0}e:{var ei="",hr=(i=kn,It?/rv:([^\);]+)(\)|;)/.exec(i):vt?/Edge\/([\d\.]+)/.exec(i):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Un?/WebKit\/(\S+)/.exec(i):Je?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(hr&&(ei=hr?hr[1]:""),At){var Ar=Nn();if(null!=Ar&&Ar>parseFloat(ei)){pn=String(Ar);break e}}pn=ei}var Ie={};var Be=he.document&&At&&(Nn()||parseInt(pn,10))||void 0,gt=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{he.addEventListener("test",ye,e),he.removeEventListener("test",ye,e)}catch(t){}return i}();function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function rn(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(It){e:{try{Lt(e.nodeName);var h=!0;break e}catch(m){}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:vn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&rn.Z.h.call(this)}}Ht.prototype.h=function(){this.defaultPrevented=!0},ft(rn,Ht);var vn={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),Er=0;function In(i,e,t,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ia=h,this.key=++Er,this.ca=this.fa=!1}function rr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Pr(i){this.src=i,this.g={},this.h=0}function Fi(i,e){var t=e.type;if(t in i.g){var m,a=i.g[t],h=Nt(a,e);(m=0<=h)&&Array.prototype.splice.call(a,h,1),m&&(rr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Hr(i,e,t,a){for(var h=0;h<i.length;++h){var m=i[h];if(!m.ca&&m.listener==e&&m.capture==!!t&&m.ia==a)return h}return-1}Pr.prototype.add=function(i,e,t,a,h){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var b=Hr(i,e,a,h);return-1<b?(e=i[b],t||(e.fa=!1)):((e=new In(e,this.src,m,!!a,h)).fa=t,i.push(e)),e};var Bn="closure_lm_"+(1e6*Math.random()|0),wi={};function Yr(i,e,t,a,h){if(a&&a.once)return kr(i,e,t,a,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Yr(i,e[m],t,a,h);return null}return t=oi(t),i&&i[wn]?i.N(e,t,Ae(a)?!!a.capture:!!a,h):jr(i,e,t,!1,a,h)}function jr(i,e,t,a,h,m){if(!e)throw Error("Invalid event type");var b=Ae(h)?!!h.capture:!!h,O=Tr(i);if(O||(i[Bn]=O=new Pr(i)),(t=O.add(e,t,a,b,m)).proxy)return t;if(a=function $i(){var e=yi;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)gt||(h=b),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent(gi(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function kr(i,e,t,a,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)kr(i,e[m],t,a,h);return null}return t=oi(t),i&&i[wn]?i.O(e,t,Ae(a)?!!a.capture:!!a,h):jr(i,e,t,!0,a,h)}function pi(i,e,t,a,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)pi(i,e[m],t,a,h);else a=Ae(a)?!!a.capture:!!a,t=oi(t),i&&i[wn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Hr(m=i.g[e],t,a,h))&&(rr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Tr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Hr(e,t,a,h)),(t=-1<i?e[i]:null)&&fs(t))}function fs(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[wn])Fi(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(gi(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Tr(e))?(Fi(t,i),0==t.h&&(t.src=null,e[Bn]=null)):rr(i)}}}function gi(i){return i in wi?wi[i]:wi[i]="on"+i}function yi(i,e){if(i.ca)i=!0;else{e=new rn(e,this);var t=i.listener,a=i.ia||i.src;i.fa&&fs(i),i=t.call(a,e)}return i}function Tr(i){return(i=i[Bn])instanceof Pr?i:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function oi(i){return"function"==typeof i?i:(i[Lr]||(i[Lr]=function(e){return i.handleEvent(e)}),i[Lr])}function jn(){Et.call(this),this.i=new Pr(this),this.P=this,this.I=null}function te(i,e){var t,a=i.I;if(a)for(t=[];a;a=a.I)t.push(a);if(i=i.P,a=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var h=e;fi(e=new Ht(a,i),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var b=e.g=t[m];h=cn(b,a,!0,e)&&h}if(h=cn(b=e.g=i,a,!0,e)&&h,h=cn(b,a,!1,e)&&h,t)for(m=0;m<t.length;m++)h=cn(b=e.g=t[m],a,!1,e)&&h}function cn(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.ca&&b.capture==t){var O=b.listener,X=b.ia||b.src;b.fa&&Fi(i.i,b),h=!1!==O.call(X,a)&&h}}return h&&!a.defaultPrevented}ft(jn,Et),jn.prototype[wn]=!0,jn.prototype.removeEventListener=function(i,e,t,a){pi(this,i,e,t,a)},jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)rr(t[a]);delete i.g[e],i.h--}}this.I=null},jn.prototype.N=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},jn.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var Zn=he.JSON.stringify;function Zr(){var i=Oi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var xr,lr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new or,i=>i.reset());class or{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wr(i){he.setTimeout(()=>{throw i},0)}function mi(i,e){xr||function Hn(){var i=he.Promise.resolve(void 0);xr=function(){i.then(Zi)}}(),Li||(xr(),Li=!0),Oi.add(i,e)}var Li=!1,Oi=new class ai{constructor(){this.h=this.g=null}add(e,t){const a=lr.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Zi(){for(var i;i=Zr();){try{i.h.call(i.g)}catch(t){wr(t)}var e=lr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Li=!1}function li(i,e){jn.call(this),this.h=i||1,this.g=e||he,this.j=We(this.kb,this),this.l=Date.now()}function Cr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function ui(i,e,t){if("function"==typeof i)t&&(i=We(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=We(i.handleEvent,i)}return 2147483647<Number(e)?-1:he.setTimeout(i,e||0)}function Si(i){i.g=ui(()=>{i.g=null,i.i&&(i.i=!1,Si(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ft(li,jn),(ee=li.prototype).da=!1,ee.S=null,ee.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),te(this,"tick"),this.da&&(Cr(this),this.start()))}},ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){li.Z.M.call(this),Cr(this),delete this.g};class re extends Et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Si(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(i){Et.call(this),this.h=i,this.g={}}ft(pe,Et);var et=[];function ct(i,e,t,a){Array.isArray(t)||(t&&(et[0]=t.toString()),t=et);for(var h=0;h<t.length;h++){var m=Yr(e,t[h],a||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function _e(i){Wn(i.g,function(e,t){this.g.hasOwnProperty(t)&&fs(e)},i),i.g={}}function xe(){this.g=!0}function Mt(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ln(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<h.length;b++)h[b]=""}}}return Zn(t)}catch(O){return e}}(i,t)+(a?" "+a:"")})}pe.prototype.M=function(){pe.Z.M.call(this),_e(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xe.prototype.Aa=function(){this.g=!1},xe.prototype.info=function(){};var An={},Xn=null;function nr(){return Xn=Xn||new jn}function ci(i){Ht.call(this,An.Ma,i)}function Ii(i){const e=nr();te(e,new ci(e,i))}function nt(i,e){Ht.call(this,An.STAT_EVENT,i),this.stat=e}function Ge(i){const e=nr();te(e,new nt(e,i))}function Dt(i,e){Ht.call(this,An.Na,i),this.size=e}function zt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){i()},e)}An.Ma="serverreachability",ft(ci,Ht),An.STAT_EVENT="statevent",ft(nt,Ht),An.Na="timingevent",ft(Dt,Ht);var Xt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ur(){}function Ir(){}ur.prototype.h=null;var na,is={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function js(){Ht.call(this,"d")}function Ai(){Ht.call(this,"c")}function Es(){}function Qs(i,e,t,a){this.l=i,this.j=e,this.m=t,this.X=a||1,this.V=new pe(this),this.P=Ho,this.W=new li(i=Wt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fo}function fo(){this.i=null,this.g="",this.h=!1}ft(js,Ht),ft(Ai,Ht),ft(Es,ur),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},na=new Es;var Ho=45e3,Pi={},Jr={};function ss(i,e,t){i.K=1,i.v=Pt(yr(e)),i.s=t,i.U=!0,ws(i,null)}function ws(i,e){i.F=Date.now(),os(i),i.A=yr(i.v);var t=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),Po(t.h,"t",a),i.C=0,t=i.l.H,i.h=new fo,i.g=tl(i.l,t?e:null,!i.s),0<i.O&&(i.L=new re(We(i.Ia,i,i.g),i.O)),ct(i.V,i.g,"readystatechange",i.gb),e=i.H?Yn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ii(1),function dt(i,e,t,a,h,m){i.info(function(){if(i.g)if(m)for(var b="",O=m.split("&"),X=0;X<O.length;X++){var ne=O[X].split("=");if(1<ne.length){var Oe=ne[0];ne=ne[1];var it=Oe.split("_");b=2<=it.length&&"type"==it[1]?b+(Oe+"=")+ne+"&":b+(Oe+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Is(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Go(i,e,t){let h,a=!0;for(;!i.I&&i.C<t.length;){if(h=Hs(i,t),h==Jr){4==e&&(i.o=4,Ge(14),a=!1),Mt(i.j,i.m,null,"[Incomplete Response]");break}if(h==Pi){i.o=4,Ge(15),Mt(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Mt(i.j,i.m,h,null),bs(i,h)}Is(i)&&h!=Jr&&h!=Pi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ge(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Eo(e),e.L=!0,Ge(11))):(Mt(i.j,i.m,t,"[Invalid Chunked Response]"),Dr(i),eo(i))}function Hs(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?Jr:(t=Number(e.substring(t,a)),isNaN(t)?Pi:(a+=1)+t>e.length?Jr:(e=e.substr(a,t),i.C=a+t,e))}function os(i){i.Y=Date.now()+i.P,Js(i,i.P)}function Js(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=zt(We(i.eb,i),e)}function Bi(i){i.B&&(he.clearTimeout(i.B),i.B=null)}function eo(i){0==i.l.G||i.I||Hl(i.l,i)}function Dr(i){Bi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Cr(i.W),_e(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function bs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||E(t.i,i)))if(t.I=i.N,!i.J&&E(t.i,i)&&3==t.G){try{var a=t.Ca.g.parse(e)}catch(ne){a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0])e:if(t.u)t.ta=h[1],0<t.ta-t.U&&37500>h[2]&&t.N&&0==t.A&&!t.v&&(t.v=zt(We(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;ns(t),No(t)}Oa(t),Ge(18)}if(1>=En(t.i)&&t.ka){try{t.ka()}catch(ne){}t.ka=void 0}}else po(t,11)}else if((i.J||t.g==i)&&ns(t),!fn(e))for(h=t.Ca.g.parse(e),e=0;e<h.length;e++){let ne=h[e];if(t.U=ne[0],ne=ne[1],2==t.G)if("c"==ne[0]){t.J=ne[1],t.la=ne[2];const Oe=ne[3];null!=Oe&&(t.ma=Oe,t.h.info("VER="+t.ma));const it=ne[4];null!=it&&(t.za=it,t.h.info("SVER="+t.za));const Ft=ne[5];null!=Ft&&"number"==typeof Ft&&0<Ft&&(t.K=a=1.5*Ft,t.h.info("backChannelRequestTimeoutMs_="+a)),a=t;const Jt=i.g;if(Jt){const nn=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var m=a.i;!m.g&&(tr(nn,"spdy")||tr(nn,"quic")||tr(nn,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(G(m,m.h),m.h=null))}if(a.D){const Fn=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fn&&(a.sa=Fn,Ue(a.F,a.D,Fn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var b=i;if((a=t).oa=Pa(a,a.H?a.la:null,a.W),b.J){w(a.i,b);var O=b,X=a.K;X&&O.setTimeout(X),O.B&&(Bi(O),os(O)),a.g=b}else jl(a);0<t.l.length&&ga(t)}else"stop"!=ne[0]&&"close"!=ne[0]||po(t,7);else 3==t.G&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?po(t,7):ts(t):"noop"!=ne[0]&&t.j&&t.j.wa(ne),t.A=0)}Ii(4)}catch(ne){}}function Xi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)wt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(ge(i)||"string"==typeof i){t=[];for(var a=i.length,h=0;h<a;h++)t.push(h)}else for(h in t=[],a=0,i)t[a++]=h;a=function as(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),h=a.length;for(var m=0;m<h;m++)e.call(void 0,a[m],t&&t[m],i)}}function Qi(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var a=0;a<t;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof Qi)for(t=i.T(),a=0;a<t.length;a++)this.set(t[a],i.get(t[a]));else for(a in i)this.set(a,i[a])}function Oo(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var a=i.g[e];Gr(i.h,a)&&(i.g[t++]=a),e++}i.g.length=t}if(i.i!=i.g.length){var h={};for(t=e=0;e<i.g.length;)Gr(h,a=i.g[e])||(i.g[t++]=a,h[a]=1),e++;i.g.length=t}}function Gr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ee=Qs.prototype).setTimeout=function(i){this.P=i},ee.gb=function(i){i=i.target;const e=this.L;e&&3==Wo(i)?e.l():this.Ia(i)},ee.Ia=function(i){try{if(i==this.g)e:{const Oe=Wo(this.g);var e=this.g.Da();const it=this.g.ba();if(!(3>Oe)&&(3!=Oe||Wt||this.g&&(this.h.h||this.g.ga()||pa(this.g)))){this.I||4!=Oe||7==e||Ii(8==e||0>=it?3:2),Bi(this);var t=this.g.ba();this.N=t;t:if(Is(this)){var a=pa(this.g);i="";var h=a.length,m=4==Wo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Dr(this),eo(this);var b="";break t}this.h.i=new he.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:m&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==t,function Bt(i,e,t,a,h,m,b){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.X,Oe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var O,X=this.g;if((O=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fn(O)){var ne=O;break t}}ne=null}if(!(t=ne)){this.i=!1,this.o=3,Ge(12),Dr(this),eo(this);break e}Mt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bs(this,t)}this.U?(Go(this,Oe,b),Wt&&this.i&&3==Oe&&(ct(this.V,this.W,"tick",this.fb),this.W.start())):(Mt(this.j,this.m,b,null),bs(this,b)),4==Oe&&Dr(this),this.i&&!this.I&&(4==Oe?Hl(this.l,this):(this.i=!1,os(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,Ge(12)):(this.o=0,Ge(13)),Dr(this),eo(this)}}}catch(Oe){}},ee.fb=function(){if(this.g){var i=Wo(this.g),e=this.g.ga();this.C<e.length&&(Bi(this),Go(this,i,e),this.i&&4!=i&&os(this))}},ee.cancel=function(){this.I=!0,Dr(this)},ee.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function kt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ii(3),Ge(17)),Dr(this),this.o=2,eo(this)):Js(this,this.Y-i)},(ee=Qi.prototype).R=function(){Oo(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ee.T=function(){return Oo(this),this.g.concat()},ee.get=function(i,e){return Gr(this.h,i)?this.h[i]:e},ee.set=function(i,e){Gr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ee.forEach=function(i,e){for(var t=this.T(),a=0;a<t.length;a++){var h=t[a],m=this.get(h);i.call(e,m,h,this)}};var Ji=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cs(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Cs){this.g=void 0!==e?e:i.g,V(this,i.j),this.s=i.s,se(this,i.i),U(this,i.m),this.l=i.l,e=i.h;var t=new es;t.i=e.i,e.g&&(t.g=new Qi(e.g),t.h=e.h),ue(this,t),this.o=i.o}else i&&(t=String(i).match(Ji))?(this.g=!!e,V(this,t[1]||"",!0),this.s=On(t[2]||""),se(this,t[3]||"",!0),U(this,t[4]),this.l=On(t[5]||"",!0),ue(this,t[6]||"",!0),this.o=On(t[7]||"")):(this.g=!!e,this.h=new es(null,this.g))}function yr(i){return new Cs(i)}function V(i,e,t){i.j=t?On(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function se(i,e,t){i.i=t?On(e,!0):e}function U(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ue(i,e,t){e instanceof es?(i.h=e,function z(i,e){e&&!i.j&&(Sn(i),i.i=null,i.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(xs(this,a),Po(this,h,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Qn(e,Vr)),i.h=new es(e,i.g))}function Ue(i,e,t){i.h.set(e,t)}function Pt(i){return Ue(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function On(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Qn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ir),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ir(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Cs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Qn(e,cr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Qn(e,cr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Qn(t,"/"==t.charAt(0)?Br:di,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Qn(t,Ns)),i.join("")};var cr=/[#\/\?@]/g,di=/[#\?:]/g,Br=/[#\?]/g,Vr=/[#\?@]/g,Ns=/#/g;function es(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Sn(i){i.g||(i.g=new Qi,i.h=0,i.i&&function ls(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),h=null;if(0<=a){var m=i[t].substring(0,a);h=i[t].substring(a+1)}else m=i[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xs(i,e){Sn(i),e=Gs(i,e),Gr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Gr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Oo(i)))}function zo(i,e){return Sn(i),e=Gs(i,e),Gr(i.g.h,e)}function Po(i,e,t){xs(i,e),0<t.length&&(i.i=null,i.g.set(Gs(i,e),yn(t)),i.h+=t.length)}function Gs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function N(i){this.l=i||Y,i=he.PerformanceNavigationTiming?0<(i=he.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=es.prototype).add=function(i,e){Sn(this),this.i=null,i=Gs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(i,e){Sn(this),this.g.forEach(function(t,a){wt(t,function(h){i.call(e,h,a,this)},this)},this)},ee.T=function(){Sn(this);for(var i=this.g.R(),e=this.g.T(),t=[],a=0;a<e.length;a++)for(var h=i[a],m=0;m<h.length;m++)t.push(e[a]);return t},ee.R=function(i){Sn(this);var e=[];if("string"==typeof i)zo(this,i)&&(e=Cn(e,this.g.get(Gs(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Cn(e,i[t])}return e},ee.set=function(i,e){return Sn(this),this.i=null,zo(this,i=Gs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var a=e[t],h=encodeURIComponent(String(a));a=this.R(a);for(var m=0;m<a.length;m++){var b=h;""!==a[m]&&(b+="="+encodeURIComponent(String(a[m]))),i.push(b)}}return this.i=i.join("&")};var Y=10;function Tt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function En(i){return i.h?1:i.g?i.g.size:0}function E(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function G(i,e){i.g?i.g.add(e):i.h=e}function w(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function B(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return yn(i.i)}function ce(){}function Ot(){this.g=new ce}function an(i,e,t){const a=t||"";try{Xi(i,function(h,m){let b=h;Ae(h)&&(b=Zn(h)),e.push(a+m+"="+encodeURIComponent(b))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function Jn(i,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch(m){}}function Ur(i){this.l=i.$b||null,this.j=i.ib||!1}function er(i,e){jn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ti,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}N.prototype.cancel=function(){if(this.i=B(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ce.prototype.stringify=function(i){return he.JSON.stringify(i,void 0)},ce.prototype.parse=function(i){return he.JSON.parse(i,void 0)},ft(Ur,ur),Ur.prototype.g=function(){return new er(this.l,this.j)},Ur.prototype.i=function(i){return function(){return i}}({}),ft(er,jn);var ti=0;function Ds(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Wi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ji(i)}function ji(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=er.prototype).open=function(i,e){if(this.readyState!=ti)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ji(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||he).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wi(this)),this.readyState=ti},ee.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==he.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ds(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ee.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wi(this):ji(this),3==this.readyState&&Ds(this)}},ee.Ua=function(i){this.g&&(this.response=this.responseText=i,Wi(this))},ee.Ta=function(i){this.g&&(this.response=i,Wi(this))},ee.ha=function(){this.g&&Wi(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(er.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var to=he.JSON.parse;function ni(i){jn.call(this),this.headers=new Qi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xa,this.K=this.L=!1}ft(ni,jn);var Xa="",Bl=/^https?$/i,Qa=["POST","PUT"];function Eu(i){return"content-type"==i.toLowerCase()}function Ma(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Vl(i),ko(i)}function Vl(i){i.D||(i.D=!0,te(i,"complete"),te(i,"error"))}function fa(i){if(i.h&&void 0!==Qe&&(!i.C[1]||4!=Wo(i)||2!=i.ba()))if(i.v&&4==Wo(i))ui(i.Fa,0,i);else if(te(i,"readystatechange"),4==Wo(i)){i.h=!1;try{const O=i.ba();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===O){var h=String(i.H).match(Ji)[1]||null;if(!h&&he.self&&he.self.location){var m=he.self.location.protocol;h=m.substr(0,m.length-1)}a=!Bl.test(h?h.toLowerCase():"")}t=a}if(t)te(i,"complete"),te(i,"success");else{i.m=6;try{var b=2<Wo(i)?i.g.statusText:""}catch(X){b=""}i.j=b+" ["+i.ba()+"]",Vl(i)}}finally{ko(i)}}}function ko(i,e){if(i.g){el(i);const t=i.g,a=i.C[0]?ye:null;i.g=null,i.C=null,e||te(i,"ready");try{t.onreadystatechange=a}catch(h){}}}function el(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(he.clearTimeout(i.A),i.A=null)}function Wo(i){return i.g?i.g.readyState:0}function pa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Xa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ra(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=function wu(i){let e="";return Wn(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ue(i,e,t))}function Ra(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ul(i){this.za=0,this.l=[],this.h=new xe,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ra("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ra("baseRetryDelayMs",5e3,i),this.$a=Ra("retryDelaySeedMs",1e4,i),this.Ya=Ra("forwardChannelMaxRetries",2,i),this.ra=Ra("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new N(i&&i.concurrentRequestLimit),this.Ca=new Ot,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ts(i){if(Ki(i),3==i.G){var e=i.V++,t=yr(i.F);Ue(t,"SID",i.J),Ue(t,"RID",e),Ue(t,"TYPE","terminate"),ma(i,t),(e=new Qs(i,i.h,e,void 0)).K=2,e.v=Pt(yr(t)),t=!1,he.navigator&&he.navigator.sendBeacon&&(t=he.navigator.sendBeacon(e.v.toString(),"")),!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=tl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),os(e)}ia(i)}function No(i){i.g&&(Eo(i),i.g.cancel(),i.g=null)}function Ki(i){No(i),i.u&&(he.clearTimeout(i.u),i.u=null),ns(i),i.i.cancel(),i.m&&("number"==typeof i.m&&he.clearTimeout(i.m),i.m=null)}function $l(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ga(i)}function ga(i){Tt(i.i)||i.m||(i.m=!0,mi(i.Ha,i),i.C=0)}function Bc(i,e){var t;t=e?e.m:i.V++;const a=yr(i.F);Ue(a,"SID",i.J),Ue(a,"RID",t),Ue(a,"AID",i.U),ma(i,a),i.o&&i.s&&ra(a,i.o,i.s),t=new Qs(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Md(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),G(i.i,t),ss(t,a,e)}function ma(i,e){i.j&&Xi({},function(t,a){Ue(e,a,t)})}function Md(i,e,t){t=Math.min(i.l.length,t);var a=i.j?We(i.j.Oa,i.j,i):null;e:{var h=i.l;let m=-1;for(;;){const b=["count="+t];-1==m?0<t?(m=h[0].h,b.push("ofs="+m)):m=0:b.push("ofs="+m);let O=!0;for(let X=0;X<t;X++){let ne=h[X].h;const Oe=h[X].g;if(ne-=m,0>ne)m=Math.max(0,h[X].h-100),O=!1;else try{an(Oe,b,"req"+ne+"_")}catch(it){a&&a(Oe)}}if(O){a=b.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,a}function jl(i){i.g||i.u||(i.Y=1,mi(i.Ga,i),i.A=0)}function Oa(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=zt(We(i.Ga,i),wo(i,i.A)),i.A++,0))}function Eo(i){null!=i.B&&(he.clearTimeout(i.B),i.B=null)}function us(i){i.g=new Qs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=yr(i.oa);Ue(e,"RID","rpc"),Ue(e,"SID",i.J),Ue(e,"CI",i.N?"0":"1"),Ue(e,"AID",i.U),ma(i,e),Ue(e,"TYPE","xmlhttp"),i.o&&i.s&&ra(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Pt(yr(e)),t.s=null,t.U=!0,ws(t,i)}function ns(i){null!=i.v&&(he.clearTimeout(i.v),i.v=null)}function Hl(i,e){var t=null;if(i.g==e){ns(i),Eo(i),i.g=null;var a=2}else{if(!E(i.i,e))return;t=e.D,w(i.i,e),a=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;te(a=nr(),new Dt(a,t,e,h)),ga(i)}else jl(i);else if(3==(h=e.o)||0==h&&0<i.I||!(1==a&&function Lc(i,e){return!(En(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=zt(We(i.Ha,i,e),wo(i,i.C)),i.C++,0)))}(i,e)||2==a&&Oa(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),h){case 1:po(i,5);break;case 4:po(i,10);break;case 3:po(i,6);break;default:po(i,2)}}function wo(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function po(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var a=We(i.jb,i);t||(t=new Cs("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||V(t,"https"),Pt(t)),function Mn(i,e){const t=new xe;if(he.Image){const a=new Image;a.onload=Ct(Jn,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Ct(Jn,t,a,"TestLoadImage: error",!1,e),a.onabort=Ct(Jn,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Ct(Jn,t,a,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else Ge(2);i.G=0,i.j&&i.j.va(e),ia(i),Ki(i)}function ia(i){i.G=0,i.I=-1,i.j&&((0!=B(i.i).length||0!=i.l.length)&&(i.i.i.length=0,yn(i.l),i.l.length=0),i.j.ua())}function Pa(i,e,t){let a=function qt(i){return i instanceof Cs?yr(i):new Cs(i,void 0)}(t);if(""!=a.i)e&&se(a,e+"."+a.i),U(a,a.m);else{const h=he.location;a=function xn(i,e,t,a){var h=new Cs(null,void 0);return i&&V(h,i),e&&se(h,e),t&&U(h,t),a&&(h.l=a),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,t)}return i.aa&&Wn(i.aa,function(h,m){Ue(a,m,h)}),t=i.sa,(e=i.D)&&t&&Ue(a,e,t),Ue(a,"VER",i.ma),ma(i,a),a}function tl(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(t&&i.Ba&&!i.qa?new Ur({ib:!0}):i.qa)).L=i.H,e}function sa(){}function nl(){if(At&&!(10<=Number(Be)))throw Error("Environmental error: no available transport.")}function go(i,e){jn.call(this),this.g=new Ul(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!fn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ps(this)}function Vc(i){js.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Iu(){Ai.call(this),this.status=1}function ps(i){this.g=i}(ee=ni.prototype).ea=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():na.g(),this.C=function bi(i){return i.h||(i.h=i.i())}(this.u?this.u:na),this.g.onreadystatechange=We(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void Ma(this,m)}i=t||"";const h=new Qi(this.headers);a&&Xi(a,function(m,b){h.set(b,m)}),a=function Pn(i){e:{var e=Eu;const t=i.length,a="string"==typeof i?i.split(""):i;for(let h=0;h<t;h++)if(h in a&&e.call(void 0,a[h],h,i)){e=h;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(h.T()),t=he.FormData&&i instanceof he.FormData,!(0<=Nt(Qa,e))||a||t||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(m,b){this.g.setRequestHeader(b,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{el(this),0<this.B&&((this.K=function Ja(i){return At&&function je(){return function qe(i){var e=Ie;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=qn(String(pn)).split("."),t=qn("9").split("."),a=Math.max(e.length,t.length);for(let b=0;0==i&&b<a;b++){var h=e[b]||"",m=t[b]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;i=Ln(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||Ln(0==h[2].length,0==m[2].length)||Ln(h[2],m[2]),h=h[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.pa,this)):this.A=ui(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Ma(this,m)}},ee.pa=function(){void 0!==Qe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,te(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,te(this,"complete"),te(this,"abort"),ko(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ko(this,!0)),ni.Z.M.call(this)},ee.Fa=function(){this.s||(this.F||this.v||this.l?fa(this):this.cb())},ee.cb=function(){fa(this)},ee.ba=function(){try{return 2<Wo(this)?this.g.status:-1}catch(i){return-1}},ee.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ee.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),to(e)}},ee.Da=function(){return this.m},ee.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Ul.prototype).ma=8,ee.G=1,ee.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ee.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const h=new Qs(this,this.h,i,void 0);let m=this.s;if(this.P&&(m?(m=Yn(m),fi(m,this.P)):m=this.P),null===this.o&&(h.H=m),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var a=this.l[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Md(this,h,e),Ue(t=yr(this.F),"RID",i),Ue(t,"CVER",22),this.D&&Ue(t,"X-HTTP-Session-Id",this.D),ma(this,t),this.o&&m&&ra(t,this.o,m),G(this.i,h),this.Ra&&Ue(t,"TYPE","init"),this.ja?(Ue(t,"$req",e),Ue(t,"SID","null"),h.$=!0,ss(h,t,null)):ss(h,t,e),this.G=2}}else 3==this.G&&(i?Bc(this,i):0==this.l.length||Tt(this.i)||Bc(this))},ee.Ga=function(){if(this.u=null,us(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=zt(We(this.bb,this),i)}},ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ge(10),No(this),us(this))},ee.ab=function(){null!=this.v&&(this.v=null,No(this),Oa(this),Ge(19))},ee.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ge(2)):(this.h.info("Failed to ping google.com"),Ge(1))},(ee=sa.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Oa=function(){},nl.prototype.g=function(i,e){return new go(i,e)},ft(go,jn),go.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),mi(We(i.hb,i,e))),Ge(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Pa(i,null,i.W),ga(i)},go.prototype.close=function(){ts(this.g)},go.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,$l(this.g,e)}else this.v?((e={}).__data__=Zn(i),$l(this.g,e)):$l(this.g,i)},go.prototype.M=function(){this.g.j=null,delete this.j,ts(this.g),delete this.g,go.Z.M.call(this)},ft(Vc,js),ft(Iu,Ai),ft(ps,sa),ps.prototype.xa=function(){te(this.g,"a")},ps.prototype.wa=function(i){te(this.g,new Vc(i))},ps.prototype.va=function(i){te(this.g,new Iu(i))},ps.prototype.ua=function(){te(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,go.prototype.send=go.prototype.u,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,Xt.NO_ERROR=0,Xt.TIMEOUT=8,Xt.HTTP_ERROR=6,gn.COMPLETE="complete",Ir.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",jn.prototype.listen=jn.prototype.N,ni.prototype.listenOnce=ni.prototype.O,ni.prototype.getLastError=ni.prototype.La,ni.prototype.getLastErrorCode=ni.prototype.Da,ni.prototype.getStatus=ni.prototype.ba,ni.prototype.getResponseJson=ni.prototype.Qa,ni.prototype.getResponseText=ni.prototype.ga,ni.prototype.send=ni.prototype.ea;var no=Ke.createWebChannelTransport=function(){return new nl},Gl=Ke.getStatEventTarget=function(){return nr()},ro=Ke.ErrorCode=Xt,Fo=Ke.EventType=gn,bu=Ke.Event=An,Io=Ke.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Cu=Ke.FetchXmlHttpFactory=Ur,Ci=Ke.WebChannel=Ir,rl=Ke.XhrIo=ni;const ya="@firebase/firestore";class Ts{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");let Ko="9.8.0";const bo=new Ze.Yd("@firebase/firestore");function Du(){return bo.logLevel}function Qt(i,...e){if(bo.logLevel<=Ze.in.DEBUG){const t=e.map(M);bo.debug(`Firestore (${Ko}): ${i}`,...t)}}function ki(i,...e){if(bo.logLevel<=Ze.in.ERROR){const t=e.map(M);bo.error(`Firestore (${Ko}): ${i}`,...t)}}function oa(i,...e){if(bo.logLevel<=Ze.in.WARN){const t=e.map(M);bo.warn(`Firestore (${Ko}): ${i}`,...t)}}function M(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function S(i="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+i;throw ki(e),new Error(e)}function D(i,e){i||S()}function j(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ze.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class He{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ts.UNAUTHENTICATED))}shutdown(){}}class _r{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vn{constructor(e){this.t=e,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const m=ne=>this.i!==h?(h=this.i,t(ne)):Promise.resolve();let b=new He;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new He,e.enqueueRetryable(()=>m(this.currentUser))};const O=()=>{const ne=b;e.enqueueRetryable((0,De.Z)(function*(){yield ne.promise,yield m(a.currentUser)}))},X=ne=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(ne=>X(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?X(ne):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new He)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(D("string"==typeof a.accessToken),new Vt(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e),new Ts(e)}}class zr{constructor(e,t,a){this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),a&&this.headers.set("X-Goog-Iam-Authorization-Token",a)}}class Xr{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new zr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const a=m=>{null!=m.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.p;return this.p=m.token,Qt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.g.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.g.getImmediate({optional:!0});m?h(m):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(D("string"==typeof t.token),this.p=t.token,new Fs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class cs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.I(a),this.T=a=>t.writeSequenceNumber(a))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Co(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}cs.A=-1;class Lo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const h=Co(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<t&&(a+=e.charAt(h[m]%e.length))}return a}}function dr(i,e){return i<e?-1:i>e?1:0}function _a(i,e,t){return i.length===e.length&&i.every((a,h)=>t(a,e[h]))}function zl(i){return i+"\0"}class Vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new Vi(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dr(this.nanoseconds,e.nanoseconds):dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ar(e)}static min(){return new ar(new Vi(0,0))}static max(){return new ar(new Vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function va(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _i(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Wl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Zu{constructor(e,t,a){void 0===t?t=0:t>e.length&&S(),void 0===a?a=e.length-t:a>e.length-t&&S(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Zu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zu?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const m=e.get(h),b=t.get(h);if(m<b)return-1;if(m>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ri extends Zu{construct(e,t,a){return new ri(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new ri(t)}static emptyPath(){return new ri([])}}const Xu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends Zu{construct(e,t,a){return new Hi(e,t,a)}static isValidIdentifier(e){return Xu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const m=()=>{if(0===a.length)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let b=!1;for(;h<e.length;){const O=e[h];if("\\"===O){if(h+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const X=e[h+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=X,h+=2}else"`"===O?(b=!b,h++):"."!==O||b?(a+=O,h++):(m(),h++)}if(m(),b)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(t)}static emptyPath(){return new Hi([])}}class il{constructor(e){this.fields=e,e.sort(Hi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(a){let h="";for(let m=0;m<a.length;++m)h+=String.fromCharCode(a[m]);return h}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const Qu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(i){if(D(!!i),"string"==typeof i){let e=0;const t=Qu.exec(i);if(D(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ii(i.seconds),nanos:ii(i.nanos)}}function ii(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function xi(i){return"string"==typeof i?Nr.fromBase64String(i):Nr.fromUint8Array(i)}function Ih(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function pl(i){const e=i.mapValue.fields.__previous_value__;return Ih(e)?pl(e):e}function io(i){const e=vi(i.mapValue.fields.__local_write_time__.timestampValue);return new Vi(e.seconds,e.nanos)}class gs{constructor(e,t,a,h,m,b,O,X){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=O,this.useFetchStreams=X}}class ds{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ds&&e.projectId===this.projectId&&e.database===this.database}}function so(i){return null==i}function aa(i){return 0===i&&1/i==-1/0}function la(i){return"number"==typeof i&&Number.isInteger(i)&&!aa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class un{constructor(e){this.path=e}static fromPath(e){return new un(ri.fromString(e))}static fromName(e){return new un(ri.fromString(e).popFirst(5))}static empty(){return new un(ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ri.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ri.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new un(new ri(e.slice()))}}const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qi={nullValue:"NULL_VALUE"};function ka(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ih(i)?4:Yo(i)?9007199254740991:10:S()}function Bo(i,e){if(i===e)return!0;const t=ka(i);if(t!==ka(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return io(i).isEqual(io(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const m=vi(a.timestampValue),b=vi(h.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,xi(i.bytesValue).isEqual(xi(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,h){return ii(a.geoPointValue.latitude)===ii(h.geoPointValue.latitude)&&ii(a.geoPointValue.longitude)===ii(h.geoPointValue.longitude)}(i,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return ii(a.integerValue)===ii(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const m=ii(a.doubleValue),b=ii(h.doubleValue);return m===b?aa(m)===aa(b):isNaN(m)&&isNaN(b)}return!1}(i,e);case 9:return _a(i.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:return function(a,h){const m=a.mapValue.fields||{},b=h.mapValue.fields||{};if(va(m)!==va(b))return!1;for(const O in m)if(m.hasOwnProperty(O)&&(void 0===b[O]||!Bo(m[O],b[O])))return!1;return!0}(i,e);default:return S()}var h}function oo(i,e){return void 0!==(i.values||[]).find(t=>Bo(t,e))}function ua(i,e){if(i===e)return 0;const t=ka(i),a=ka(e);if(t!==a)return dr(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return dr(i.booleanValue,e.booleanValue);case 2:return function(h,m){const b=ii(h.integerValue||h.doubleValue),O=ii(m.integerValue||m.doubleValue);return b<O?-1:b>O?1:b===O?0:isNaN(b)?isNaN(O)?0:-1:1}(i,e);case 3:return gl(i.timestampValue,e.timestampValue);case 4:return gl(io(i),io(e));case 5:return dr(i.stringValue,e.stringValue);case 6:return function(h,m){const b=xi(h),O=xi(m);return b.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(h,m){const b=h.split("/"),O=m.split("/");for(let X=0;X<b.length&&X<O.length;X++){const ne=dr(b[X],O[X]);if(0!==ne)return ne}return dr(b.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,m){const b=dr(ii(h.latitude),ii(m.latitude));return 0!==b?b:dr(ii(h.longitude),ii(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,m){const b=h.values||[],O=m.values||[];for(let X=0;X<b.length&&X<O.length;++X){const ne=ua(b[X],O[X]);if(ne)return ne}return dr(b.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===zs.mapValue&&m===zs.mapValue)return 0;if(h===zs.mapValue)return 1;if(m===zs.mapValue)return-1;const b=h.fields||{},O=Object.keys(b),X=m.fields||{},ne=Object.keys(X);O.sort(),ne.sort();for(let Oe=0;Oe<O.length&&Oe<ne.length;++Oe){const it=dr(O[Oe],ne[Oe]);if(0!==it)return it;const Ft=ua(b[O[Oe]],X[ne[Oe]]);if(0!==Ft)return Ft}return dr(O.length,ne.length)}(i.mapValue,e.mapValue);default:throw S()}}function gl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return dr(i,e);const t=vi(i),a=vi(e),h=dr(t.seconds,a.seconds);return 0!==h?h:dr(t.nanos,a.nanos)}function Kl(i){return ql(i)}function ql(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const h=vi(a);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?xi(i.bytesValue).toBase64():"referenceValue"in i?un.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let h="[",m=!0;for(const b of a.values||[])m?m=!1:h+=",",h+=ql(b);return h+"]"}(i.arrayValue):"mapValue"in i?function(a){const h=Object.keys(a.fields||{}).sort();let m="{",b=!0;for(const O of h)b?b=!1:m+=",",m+=`${O}:${ql(a.fields[O])}`;return m+"}"}(i.mapValue):S();var e}function Ws(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Na(i){return!!i&&"integerValue"in i}function ml(i){return!!i&&"arrayValue"in i}function Yl(i){return!!i&&"nullValue"in i}function Ea(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yl(i){return!!i&&"mapValue"in i}function Ks(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _i(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Ks(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ks(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Yo(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Pf(i){return"nullValue"in i?qi:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ws(ds.empty(),un.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:S()}function _l(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ws(ds.empty(),un.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?zs:S()}function vl(i,e){const t=ua(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function sl(i,e){const t=ua(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!yl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ks(t)}setAll(e){let t=Hi.emptyPath(),a={},h=[];e.forEach((b,O)=>{if(!t.isImmediateParentOf(O)){const X=this.getFieldsMap(t);this.applyChanges(X,a,h),a={},h=[],t=O.popLast()}b?a[O.lastSegment()]=Ks(b):h.push(O.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,a,h)}delete(e){const t=this.field(e.popLast());yl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];yl(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){_i(t,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new Ls(Ks(this.value))}}function F(i){const e=[];return _i(i.fields,(t,a)=>{const h=new Hi([t]);if(yl(a)){const m=F(a.mapValue).fields;if(0===m.length)e.push(h);else for(const b of m)e.push(h.child(b))}else e.push(h)}),new il(e)}class H{constructor(e,t,a,h,m,b){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.data=m,this.documentState=b}static newInvalidDocument(e){return new H(e,0,ar.min(),ar.min(),Ls.empty(),0)}static newFoundDocument(e,t,a){return new H(e,1,t,ar.min(),a,0)}static newNoDocument(e,t){return new H(e,2,t,ar.min(),Ls.empty(),0)}static newUnknownDocument(e,t){return new H(e,3,t,ar.min(),Ls.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof H&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new H(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ae{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function Ne(i){return i.fields.find(e=>2===e.kind)}function mt(i){return i.fields.filter(e=>2!==e.kind)}ae.UNKNOWN_ID=-1;class Rt{constructor(e,t){this.fieldPath=e,this.kind=t}}class tn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tn(0,$n.min())}}function dn(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=ar.fromTimestamp(1e9===a?new Vi(t+1,0):new Vi(t,a));return new $n(h,un.empty(),e)}function gr(i){return new $n(i.readTime,i.key,-1)}class $n{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new $n(ar.min(),un.empty(),-1)}static max(){return new $n(ar.max(),un.empty(),-1)}}function Wr(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=un.comparator(i.documentKey,e.documentKey),0!==t?t:dr(i.largestBatchId,e.largestBatchId))}class Rn{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qs(this.root,e,this.comparator,!0)}}class qs{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?a(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,a,h,m){this.key=e,this.value=t,this.color=null!=a?a:si.RED,this.left=null!=h?h:si.EMPTY,this.right=null!=m?m:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,m){return new si(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return si.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw S();const e=this.left.check();if(e!==this.right.check())throw S();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw S()}get value(){throw S()}get color(){throw S()}get left(){throw S()}get right(){throw S()}copy(i,e,t,a,h){return this}insert(i,e,t){return new si(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wa(this.data.getIterator())}getIteratorFrom(e){return new wa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hi(this.comparator);return t.data=e,t}}class wa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ao(i){return i.hasNext()?i.getNext():void 0}class Fa{constructor(e,t=null,a=[],h=[],m=null,b=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=b,this.endAt=O,this.P=null}}function Do(i,e=null,t=[],a=[],h=null,m=null,b=null){return new Fa(i,e,t,a,h,m,b)}function La(i){const e=j(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(h=a).field.canonicalString()+h.op.toString()+Kl(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),so(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Kl(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Kl(a)).join(",")),e.P=t}return e.P}function Zl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!kd(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((t=i.filters[h]).op!==(a=e.filters[h]).op||!t.field.isEqual(a.field)||!Bo(t.value,a.value))return!1;var t,a;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Nf(i.startAt,e.startAt)&&Nf(i.endAt,e.endAt)}function Xl(i){return un.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Uc(i,e){return i.filters.filter(t=>t instanceof ms&&t.field.isEqual(e))}function bh(i,e,t){let a=qi,h=!0;for(const m of Uc(i,e)){let b=qi,O=!0;switch(m.op){case"<":case"<=":b=Pf(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,O=!1;break;case"!=":case"not-in":b=qi}vl({value:a,inclusive:h},{value:b,inclusive:O})<0&&(a=b,h=O)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=t.position[m];vl({value:a,inclusive:h},{value:b,inclusive:t.inclusive})<0&&(a=b,h=t.inclusive);break}return{value:a,inclusive:h}}function Od(i,e,t){let a=zs,h=!0;for(const m of Uc(i,e)){let b=zs,O=!0;switch(m.op){case">=":case">":b=_l(m.value),O=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,O=!1;break;case"!=":case"not-in":b=zs}sl({value:a,inclusive:h},{value:b,inclusive:O})>0&&(a=b,h=O)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=t.position[m];sl({value:a,inclusive:h},{value:b,inclusive:t.inclusive})>0&&(a=b,h=t.inclusive);break}return{value:a,inclusive:h}}class ms extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,a):new Ju(e,t,a):"array-contains"===t?new Ql(e,a):"in"===t?new Dh(e,a):"not-in"===t?new Rp(e,a):"array-contains-any"===t?new Pd(e,a):new ms(e,t,a)}static V(e,t,a){return"in"===t?new Mp(e,a):new kf(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ua(t,this.value)):null!==t&&ka(this.value)===ka(t)&&this.v(ua(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return S()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ju extends ms{constructor(e,t,a){super(e,t,a),this.key=un.fromName(a.referenceValue)}matches(e){const t=un.comparator(e.key,this.key);return this.v(t)}}class Mp extends ms{constructor(e,t){super(e,"in",t),this.keys=Ch(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kf extends ms{constructor(e,t){super(e,"not-in",t),this.keys=Ch(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ch(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>un.fromName(a.referenceValue))}class Ql extends ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ml(t)&&oo(t.arrayValue,this.value)}}class Dh extends ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oo(this.value.arrayValue,t)}}class Rp extends ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oo(this.value.arrayValue,t)}}class Pd extends ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ml(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>oo(this.value.arrayValue,a))}}class Ba{constructor(e,t){this.position=e,this.inclusive=t}}class Zo{constructor(e,t="asc"){this.field=e,this.dir=t}}function kd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Su(i,e,t){let a=0;for(let h=0;h<i.position.length;h++){const m=e[h],b=i.position[h];if(a=m.field.isKeyField()?un.comparator(un.fromName(b.referenceValue),t.key):ua(b,t.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function Nf(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bo(i.position[t],e.position[t]))return!1;return!0}class El{constructor(e,t=null,a=[],h=[],m=null,b="F",O=null,X=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=b,this.startAt=O,this.endAt=X,this.D=null,this.C=null}}function Op(i,e,t,a,h,m,b,O){return new El(i,e,t,a,h,m,b,O)}function Va(i){return new El(i)}function Nd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function $c(i){for(const e of i.filters)if(e.S())return e.field;return null}function Fd(i){return null!==i.collectionGroup}function Jl(i){const e=j(i);if(null===e.D){e.D=[];const t=$c(e),a=Nd(e);if(null!==t&&null===a)t.isKeyField()||e.D.push(new Zo(t)),e.D.push(new Zo(Hi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.D.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Zo(Hi.keyField(),m))}}}return e.D}function ca(i){const e=j(i);if(!e.C)if("F"===e.limitType)e.C=Do(e.path,e.collectionGroup,Jl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of Jl(e))t.push(new Zo(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new Ba(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Ba(e.startAt.position,e.startAt.inclusive):null;e.C=Do(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e.C}function Ld(i,e,t){return new El(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function tc(i,e){return Zl(ca(i),ca(e))&&i.limitType===e.limitType}function Ff(i){return`${La(ca(i))}|lt:${i.limitType}`}function Bd(i){return`Query(target=${function Rd(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${Kl(a.value)}`;var a}).join(", ")}]`),so(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Kl(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Kl(t)).join(",")),`Target(${e})`}(ca(i))}; limitType=${i.limitType})`}function Ua(i,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):un.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,a){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(i,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(h,m,b){const O=Su(h,m,b);return h.inclusive?O<=0:O<0}(t.startAt,Jl(t),a)||t.endAt&&!function(h,m,b){const O=Su(h,m,b);return h.inclusive?O>=0:O>0}(t.endAt,Jl(t),a)));var t,a}function wl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jc(i){return(e,t)=>{let a=!1;for(const h of Jl(i)){const m=Th(h,e,t);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function Th(i,e,t){const a=i.field.isKeyField()?un.comparator(e.key,t.key):function(h,m,b){const O=m.data.field(h),X=b.data.field(h);return null!==O&&null!==X?ua(O,X):S()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return S()}}function Lf(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aa(e)?"-0":e}}function Di(i){return{integerValue:""+i}}function Ei(i,e){return la(e)?Di(e):Lf(i,e)}class Mr{constructor(){this._=void 0}}function Il(i,e,t){return i instanceof nc?function(a,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):i instanceof $a?Bf(i,e):i instanceof Ni?fr(i,e):function(a,h){const m=Hc(a,h),b=ja(m)+ja(a.k);return Na(m)&&Na(a.k)?Di(b):Lf(a.M,b)}(i,e)}function Ui(i,e,t){return i instanceof $a?Bf(i,e):i instanceof Ni?fr(i,e):t}function Hc(i,e){return i instanceof Ms?Na(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class nc extends Mr{}class $a extends Mr{constructor(e){super(),this.elements=e}}function Bf(i,e){const t=ol(e);for(const a of i.elements)t.some(h=>Bo(h,a))||t.push(a);return{arrayValue:{values:t}}}class Ni extends Mr{constructor(e){super(),this.elements=e}}function fr(i,e){let t=ol(e);for(const a of i.elements)t=t.filter(h=>!Bo(h,a));return{arrayValue:{values:t}}}class Ms extends Mr{constructor(e,t){super(),this.M=e,this.k=t}}function ja(i){return ii(i.integerValue||i.doubleValue)}function ol(i){return ml(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class mo{constructor(e,t){this.field=e,this.transform=t}}class Vf{constructor(e,t){this.version=e,this.transformResults=t}}class Ys{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bl{}function Gc(i,e,t){i instanceof ic?function(a,h,m){const b=a.value.clone(),O=zc(a.fieldTransforms,h,m.transformResults);b.setAll(O),h.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(i,e,t):i instanceof Au?function(a,h,m){if(!rc(a.precondition,h))return void h.convertToUnknownDocument(m.version);const b=zc(a.fieldTransforms,h,m.transformResults),O=h.data;O.setAll(Ah(a)),O.setAll(b),h.convertToFoundDocument(m.version,O).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ha(i,e,t){var h;i instanceof ic?function(a,h,m){if(!rc(a.precondition,h))return;const b=a.value.clone(),O=eu(a.fieldTransforms,m,h);b.setAll(O),h.convertToFoundDocument(Uf(h),b).setHasLocalMutations()}(i,e,t):i instanceof Au?function(a,h,m){if(!rc(a.precondition,h))return;const b=eu(a.fieldTransforms,m,h),O=h.data;O.setAll(Ah(a)),O.setAll(b),h.convertToFoundDocument(Uf(h),O).setHasLocalMutations()}(i,e,t):rc(i.precondition,h=e)&&h.convertToNoDocument(ar.min())}function Sh(i,e){let t=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),m=Hc(a.transform,h||null);null!=m&&(null==t&&(t=Ls.empty()),t.set(a.field,m))}return t||null}function Pp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&_a(t,a,(h,m)=>function Vd(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof $a&&a instanceof $a||t instanceof Ni&&a instanceof Ni?_a(t.elements,a.elements,Bo):t instanceof Ms&&a instanceof Ms?Bo(t.k,a.k):t instanceof nc&&a instanceof nc);var t,a}(h,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}function Uf(i){return i.isFoundDocument()?i.version:ar.min()}class ic extends bl{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}}class Au extends bl{constructor(e,t,a,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}}function Ah(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function zc(i,e,t){const a=new Map;D(i.length===t.length);for(let h=0;h<t.length;h++){const m=i[h],b=m.transform,O=e.data.field(m.field);a.set(m.field,Ui(b,O,t[h]))}return a}function eu(i,e,t){const a=new Map;for(const h of i){const m=h.transform,b=t.data.field(h.field);a.set(h.field,Il(m,b,e))}return a}class Rr extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ga extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class sc{constructor(e){this.count=e}}var ys,Or;function Gi(i){switch(i){default:return S();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Ia(i){if(void 0===i)return ki("GRPC error has no .code"),W.UNKNOWN;switch(i){case ys.OK:return W.OK;case ys.CANCELLED:return W.CANCELLED;case ys.UNKNOWN:return W.UNKNOWN;case ys.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ys.INTERNAL:return W.INTERNAL;case ys.UNAVAILABLE:return W.UNAVAILABLE;case ys.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ys.NOT_FOUND:return W.NOT_FOUND;case ys.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ys.ABORTED:return W.ABORTED;case ys.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ys.DATA_LOSS:return W.DATA_LOSS;default:return S()}}(Or=ys||(ys={}))[Or.OK=0]="OK",Or[Or.CANCELLED=1]="CANCELLED",Or[Or.UNKNOWN=2]="UNKNOWN",Or[Or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Or[Or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Or[Or.NOT_FOUND=5]="NOT_FOUND",Or[Or.ALREADY_EXISTS=6]="ALREADY_EXISTS",Or[Or.PERMISSION_DENIED=7]="PERMISSION_DENIED",Or[Or.UNAUTHENTICATED=16]="UNAUTHENTICATED",Or[Or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Or[Or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Or[Or.ABORTED=10]="ABORTED",Or[Or.OUT_OF_RANGE=11]="OUT_OF_RANGE",Or[Or.UNIMPLEMENTED=12]="UNIMPLEMENTED",Or[Or.INTERNAL=13]="INTERNAL",Or[Or.UNAVAILABLE=14]="UNAVAILABLE",Or[Or.DATA_LOSS=15]="DATA_LOSS";class tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(t,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return Wl(this.inner)}size(){return this.innerSize}}const To=new Rn(un.comparator);function Xo(){return To}const xh=new Rn(un.comparator);function Wc(...i){let e=xh;for(const t of i)e=e.insert(t.key,t);return e}function Kc(){return new tu(i=>i.toString(),(i,e)=>i.isEqual(e))}const $f=new Rn(un.comparator),oc=new hi(un.comparator);function Mi(...i){let e=oc;for(const t of i)e=e.add(t);return e}const ac=new hi(dr);function Cl(){return ac}class Bs{constructor(e,t,a,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Bs(ar.min(),a,Cl(),Xo(),Mi())}}class xu{constructor(e,t,a,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t){return new xu(Nr.EMPTY_BYTE_STRING,t,Mi(),Mi(),Mi())}}class qc{constructor(e,t,a,h){this.O=e,this.removedTargetIds=t,this.key=a,this.F=h}}class Ud{constructor(e,t){this.targetId=e,this.$=t}}class Sr{constructor(e,t,a=Nr.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class nu{constructor(){this.B=0,this.L=lc(),this.U=Nr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Mi(),t=Mi(),a=Mi();return this.L.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:S()}}),new xu(this.U,this.q,e,t,a)}J(){this.K=!1,this.L=lc()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class $d{constructor(e){this.nt=e,this.st=new Map,this.it=Xo(),this.rt=Yc(),this.ot=new hi(dr)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const a=this.lt(t);switch(e.state){case 0:this.ft(t)&&a.W(e.resumeToken);break;case 1:a.tt(),a.G||a.J(),a.W(e.resumeToken);break;case 2:a.tt(),a.G||this.removeTarget(t);break;case 3:this.ft(t)&&(a.et(),a.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),a.W(e.resumeToken));break;default:S()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((a,h)=>{this.ft(h)&&t(h)})}_t(e){const t=e.targetId,a=e.$.count,h=this.wt(t);if(h){const m=h.target;if(Xl(m))if(0===a){const b=new un(m.path);this.ct(t,b,H.newNoDocument(b,ar.min()))}else D(1===a);else this.gt(t)!==a&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((m,b)=>{const O=this.wt(b);if(O){if(m.current&&Xl(O.target)){const X=new un(O.target.path);null!==this.it.get(X)||this.It(b,X)||this.ct(b,X,H.newNoDocument(X,e))}m.j&&(t.set(b,m.H()),m.J())}});let a=Mi();this.rt.forEach((m,b)=>{let O=!0;b.forEachWhile(X=>{const ne=this.wt(X);return!ne||2===ne.purpose||(O=!1,!1)}),O&&(a=a.add(m))}),this.it.forEach((m,b)=>b.setReadTime(e));const h=new Bs(e,t,this.ot,this.it,a);return this.it=Xo(),this.rt=Yc(),this.ot=new hi(dr),h}at(e,t){if(!this.ft(e))return;const a=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,a),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,a){if(!this.ft(e))return;const h=this.lt(e);this.It(e,t)?h.Y(t,1):h.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),a&&(this.it=this.it.insert(t,a))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new nu,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new hi(dr),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new nu),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Yc(){return new Rn(un.comparator)}function lc(){return new Rn(un.comparator)}const Mu={asc:"ASCENDING",desc:"DESCENDING"},Rs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class al{constructor(e,t){this.databaseId=e,this.N=t}}function mr(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mh(i,e){return i.N?e.toBase64():e.toUint8Array()}function Ru(i,e){return mr(i,e.toTimestamp())}function Vs(i){return D(!!i),ar.fromTimestamp(function(e){const t=vi(e);return new Vi(t.seconds,t.nanos)}(i))}function zi(i,e){return(t=i,new ri(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Zc(i){const e=ri.fromString(i);return D(K(e)),e}function Xc(i,e){return zi(i.databaseId,e.path)}function Os(i,e){const t=Zc(e);if(t.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new un(Rh(t))}function Dl(i,e){return zi(i.databaseId,e)}function jd(i){const e=Zc(i);return 4===e.length?ri.emptyPath():Rh(e)}function Tl(i){return new ri(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Rh(i){return D(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Oh(i,e,t){return{name:Xc(i,e),fields:t.value.mapValue.fields}}function So(i,e,t){const a=Os(i,e.name),h=Vs(e.updateTime),m=new Ls({mapValue:{fields:e.fields}}),b=H.newFoundDocument(a,h,m);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function za(i,e){let t;if(e instanceof ic)t={update:Oh(i,e.key,e.value)};else if(e instanceof Rr)t={delete:Xc(i,e.key)};else if(e instanceof Au)t={update:Oh(i,e.key,e.data),updateMask:A(e.fieldMask)};else{if(!(e instanceof Ga))return S();t={verify:Xc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const b=m.transform;if(b instanceof nc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof $a)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Ni)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ms)return{fieldPath:m.field.canonicalString(),increment:b.k};throw S()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Ru(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:S()),t;var h}function Vo(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Ys.updateTime(Vs(h.updateTime)):void 0!==h.exists?Ys.exists(h.exists):Ys.none():Ys.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(m,b){let O=null;"setToServerValue"in b?(D("REQUEST_TIME"===b.setToServerValue),O=new nc):"appendMissingElements"in b?O=new $a(b.appendMissingElements.values||[]):"removeAllFromArray"in b?O=new Ni(b.removeAllFromArray.values||[]):"increment"in b?O=new Ms(m,b.increment):S();const X=Hi.fromServerFormat(b.fieldPath);return new mo(X,O)}(i,h)):[];var h;if(e.update){const h=Os(i,e.update.name),m=new Ls({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new il((e.updateMask.fieldPaths||[]).map(ne=>Hi.fromServerFormat(ne)));return new Au(h,m,b,t,a)}return new ic(h,m,t,a)}if(e.delete){const h=Os(i,e.delete);return new Rr(h,t)}if(e.verify){const h=Os(i,e.verify);return new Ga(h,t)}return S()}function Ph(i,e){return{documents:[Dl(i,e.path)]}}function Qc(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=Dl(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dl(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(X){if(0===X.length)return;const ne=X.map(Oe=>function(it){if("=="===it.op){if(Ea(it.value))return{unaryFilter:{field:Uo(it.field),op:"IS_NAN"}};if(Yl(it.value))return{unaryFilter:{field:Uo(it.field),op:"IS_NULL"}}}else if("!="===it.op){if(Ea(it.value))return{unaryFilter:{field:Uo(it.field),op:"IS_NOT_NAN"}};if(Yl(it.value))return{unaryFilter:{field:Uo(it.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(it.field),op:cc(it.op),value:it.value}}}(Oe));return 1===ne.length?ne[0]:{compositeFilter:{op:"AND",filters:ne}}}(e.filters);h&&(t.structuredQuery.where=h);const m=function(X){if(0!==X.length)return X.map(ne=>{return{field:Uo((Oe=ne).field),direction:kp(Oe.dir)};var Oe})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const b=(ne=e.limit,i.N||so(ne)?ne:{value:ne});var ne,O,X;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(X=e.endAt).inclusive,values:X.position}),t}function uc(i){let e=jd(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){D(1===a);const Oe=t.from[0];Oe.allDescendants?h=Oe.collectionId:e=e.child(Oe.collectionId)}let m=[];t.where&&(m=Jc(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(Oe=>{return new Zo(I((it=Oe).field),function(Ft){switch(Ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(it.direction));var it}));let O=null;t.limit&&(O=function(Oe){let it;return it="object"==typeof Oe?Oe.value:Oe,so(it)?null:it}(t.limit));let X=null;var Oe;t.startAt&&(X=new Ba((Oe=t.startAt).values||[],!!Oe.before));let ne=null;return t.endAt&&(ne=function(Oe){return new Ba(Oe.values||[],!Oe.before)}(t.endAt)),Op(e,h,b,m,O,"F",X,ne)}function Jc(i){return i?void 0!==i.unaryFilter?[_(i)]:void 0!==i.fieldFilter?[g(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Jc(e)).reduce((e,t)=>e.concat(t)):S():[]}function kp(i){return Mu[i]}function cc(i){return Rs[i]}function Uo(i){return{fieldPath:i.canonicalString()}}function I(i){return Hi.fromServerFormat(i.fieldPath)}function g(i){return ms.create(I(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return S()}}(i.fieldFilter.op),i.fieldFilter.value)}function _(i){switch(i.unaryFilter.op){case"IS_NAN":const e=I(i.unaryFilter.field);return ms.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=I(i.unaryFilter.field);return ms.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=I(i.unaryFilter.field);return ms.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=I(i.unaryFilter.field);return ms.create(h,"!=",{nullValue:"NULL_VALUE"});default:return S()}}function A(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function K(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function de(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=jt(e)),e=ut(i.get(t),e);return jt(e)}function ut(i,e){let t=e;const a=i.length;for(let h=0;h<a;h++){const m=i.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function jt(i){return i+"\x01\x01"}function sn(i){const e=i.length;if(D(e>=2),2===e)return D("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ri.emptyPath();const t=e-2,a=[];let h="";for(let m=0;m<e;){const b=i.indexOf("\x01",m);switch((b<0||b>t)&&S(),i.charAt(b+1)){case"\x01":const O=i.substring(m,b);let X;0===h.length?X=O:(h+=O,X=h,h=""),a.push(X);break;case"\x10":h+=i.substring(m,b),h+="\0";break;case"\x11":h+=i.substring(m,b+1);break;default:S()}m=b+2}return new ri(a)}const bn=["userId","batchId"];function Gn(i,e){return[i,de(e)]}function Kn(i,e,t){return[i,de(e),t]}const _s={},da=["prefixPath","collectionGroup","readTime","documentId"],ed=["prefixPath","collectionGroup","documentId"],jf=["collectionGroup","readTime","prefixPath","documentId"],ru=["canonicalId","targetId"],zd=["targetId","path"],Nh=["path","targetId"],Qo=["collectionId","parent"],dc=["indexId","uid"],Wd=["uid","sequenceNumber"],td=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nd=["indexId","uid","orderedDocumentKey"],rd=["userId","collectionPath","documentId"],Al=["userId","collectionPath","largestBatchId"],hc=["userId","collectionGroup","largestBatchId"],iu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Np=[...iu,"documentOverlays"],Fp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],id=[...Fp,"indexConfiguration","indexState","indexEntries"],nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&S(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ut((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ut?t:Ut.resolve(t)}catch(t){return Ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ut.reject(t)}static resolve(e){return new Ut((t,a)=>{t(e)})}static reject(e){return new Ut((t,a)=>{a(e)})}static waitFor(e){return new Ut((t,a)=>{let h=0,m=0,b=!1;e.forEach(O=>{++h,O.next(()=>{++m,b&&m===h&&t()},X=>a(X))}),b=!0,m===h&&t()})}static or(e){let t=Ut.resolve(!1);for(const a of e)t=t.next(h=>h?Ut.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,m)=>{a.push(t.call(this,h,m))}),this.waitFor(a)}}class Ou{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new He,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new ll(e,t.error)):this.At.resolve()},this.transaction.onerror=a=>{const h=fc(a.target.error);this.At.reject(new ll(e,h))}}static open(e,t,a,h){try{return new Ou(t,e.transaction(h,a))}catch(m){throw new ll(t,m)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Hf(t)}}class Ao{constructor(e,t,a){this.name=e,this.version=t,this.Pt=a,12.2===Ao.Vt((0,ze.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),Ri(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ze.hl)())return!1;if(Ao.St())return!0;const e=(0,ze.z$)(),t=Ao.Vt(e),a=0<t&&t<10,h=Ao.Dt(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Nt(e){var t=this;return(0,De.Z)(function*(){return t.db||(Qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=b=>{a(b.target.result)},m.onblocked=()=>{h(new ll(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const O=b.target.error;h("VersionError"===O.name?new le(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new le(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new ll(e,O))},m.onupgradeneeded=b=>{Qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.Pt.kt(b.target.result,m.transaction,b.oldVersion,t.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=a=>t.Mt(a)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var m=this;return(0,De.Z)(function*(){const b="readonly"===t;let O=0;for(;;){++O;try{m.db=yield m.Nt(e);const X=Ou.open(m.db,e,b?"readonly":"readwrite",a),ne=h(X).next(Oe=>(X.bt(),Oe)).catch(Oe=>(X.abort(Oe),Ut.reject(Oe))).toPromise();return ne.catch(()=>{}),yield X.Rt,ne}catch(X){const ne="FirebaseError"!==X.name&&O<3;if(Qt("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ne),m.close(),!ne)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fh{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ri(this.Ft.delete())}}class ll extends le{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pu(i){return"IndexedDbTransactionError"===i.name}class Hf{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Qt("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Ri(a)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),Ri(this.store.add(e))}get(e){return Ri(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),Ri(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),Ri(this.store.count())}qt(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),m=[];return this.Kt(h,(b,O)=>{m.push(O)}).next(()=>m)}{const h=this.store.getAll(a.range);return new Ut((m,b)=>{h.onerror=O=>{b(O.target.error)},h.onsuccess=O=>{m(O.target.result)}})}}Gt(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new Ut((h,m)=>{a.onerror=b=>{m(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}Qt(e,t){Qt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.jt=!1;const h=this.cursor(a);return this.Kt(h,(m,b,O)=>O.delete())}Wt(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.Kt(h,t)}zt(e){const t=this.cursor({});return new Ut((a,h)=>{t.onerror=m=>{const b=fc(m.target.error);h(b)},t.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(O=>{O?b.continue():a()}):a()}})}Kt(e,t){const a=[];return new Ut((h,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const O=b.target.result;if(!O)return void h();const X=new Fh(O),ne=t(O.primaryKey,O.value,X);if(ne instanceof Ut){const Oe=ne.catch(it=>(X.done(),Ut.reject(it)));a.push(Oe)}X.isDone?h():null===X.Lt?O.continue():O.continue(X.Lt)}}).next(()=>Ut.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.jt?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ri(i){return new Ut((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const h=fc(a.target.error);t(h)}})}let Wa=!1;function fc(i){const e=Ao.Vt((0,ze.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wa||(Wa=!0,setTimeout(()=>{throw a},0)),a}}return i}class Lh extends rm{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Zs(i,e){const t=j(i);return Ao.xt(t.Ht,e)}class Kd{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&Gc(m,e,a[h])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ha(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ha(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const a=e.get(t.key),h=a;this.applyToLocalView(h),a.isValidDocument()||h.convertToNoDocument(ar.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mi())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(t,a)=>Pp(t,a))&&_a(this.baseMutations,e.baseMutations,(t,a)=>Pp(t,a))}}class ul{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){D(e.mutations.length===a.length);let h=$f;const m=e.mutations;for(let b=0;b<m.length;b++)h=h.insert(m[b].key,a[b].version);return new ul(e,t,a,h)}}class sd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jo{constructor(e,t,a,h,m=ar.min(),b=ar.min(),O=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=O}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qd{constructor(e){this.Jt=e}}function Bh(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Xc(h=i.Jt,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:mr(h,m.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:ad(e.version)};else{if(!e.isUnknownDocument())return S();a.unknownDocument={path:t.path.toArray(),version:ad(e.version)}}var h,m;return a}function xl(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ad(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pc(i){const e=new Vi(i.seconds,i.nanoseconds);return ar.fromTimestamp(e)}function Yd(i,e){const t=(e.baseMutations||[]).map(m=>Vo(i.Jt,m));for(let m=0;m<e.mutations.length-1;++m){const b=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(b.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const a=e.mutations.map(m=>Vo(i.Jt,m)),h=Vi.fromMillis(e.localWriteTimeMs);return new Kd(e.batchId,h,t,a)}function Vh(i){const e=pc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?pc(i.lastLimboFreeSnapshotVersion):ar.min();let a;var h;return void 0!==i.query.documents?(D(1===(h=i.query).documents.length),a=ca(Va(jd(h.documents[0])))):a=ca(uc(i.query)),new Jo(a,i.targetId,0,i.lastListenSequenceNumber,e,t,Nr.fromBase64String(i.resumeToken))}function Lp(i,e){const t=ad(e.snapshotVersion),a=ad(e.lastLimboFreeSnapshotVersion);let h;h=Xl(e.target)?Ph(i.Jt,e.target):Qc(i.Jt,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:La(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Uh(i){const e=uc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ld(e,e.limit,"L"):e}function Gf(i,e){return new sd(e.largestBatchId,Vo(i.Jt,e.overlayMutation))}function im(i,e){const t=e.path.lastSegment();return[i,de(e.path.popLast()),t]}class Bp{getBundleMetadata(e,t){return sm(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:pc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return sm(e).put({bundleId:(a=t).id,createTime:ad(Vs(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Vp(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:Uh(h.bundledQuery),readTime:pc(h.readTime)};var h})}saveNamedQuery(e,t){return Vp(e).put({name:(a=t).name,readTime:ad(Vs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function sm(i){return Zs(i,"bundles")}function Vp(i){return Zs(i,"namedQueries")}class Up{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Up(e,t.uid||"")}getOverlay(e,t){return $h(e).get(im(this.userId,t)).next(a=>a?Gf(this.M,a):null)}saveOverlays(e,t,a){const h=[];return a.forEach((m,b)=>{const O=new sd(t,b);h.push(this.Xt(e,O))}),Ut.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(b=>h.add(de(b.getCollectionPath())));const m=[];return h.forEach(b=>{const O=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);m.push($h(e).Qt("collectionPathOverlayIndex",O))}),Ut.waitFor(m)}getOverlaysForCollection(e,t,a){const h=Kc(),m=de(t),b=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return $h(e).qt("collectionPathOverlayIndex",b).next(O=>{for(const X of O){const ne=Gf(this.M,X);h.set(ne.getKey(),ne)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const m=Kc();let b;const O=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $h(e).Wt({index:"collectionGroupOverlayIndex",range:O},(X,ne,Oe)=>{const it=Gf(this.M,ne);m.size()<h||it.largestBatchId===b?(m.set(it.getKey(),it),b=it.largestBatchId):Oe.done()}).next(()=>m)}Xt(e,t){return $h(e).put(function(a,h,m){const[b,O,X]=im(h,m.mutation.key);return{userId:h,collectionPath:O,documentId:X,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:za(a.Jt,m.mutation)}}(this.M,this.userId,t))}}function $h(i){return Zs(i,"documentOverlays")}class $o{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ii(e.integerValue));else if("doubleValue"in e){const a=ii(e.doubleValue);isNaN(a)?this.ne(t,13):(this.ne(t,15),aa(a)?t.se(0):t.se(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ne(t,20),"string"==typeof a?t.ie(a):(t.ie(`${a.seconds||""}`),t.se(a.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(xi(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ne(t,45),t.se(a.latitude||0),t.se(a.longitude||0)}else"mapValue"in e?Yo(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):S()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const a=e.fields||{};this.ne(t,55);for(const h of Object.keys(a))this.re(h,t),this.te(a[h],t)}he(e,t){const a=e.values||[];this.ne(t,50);for(const h of a)this.te(h,t)}ae(e,t){this.ne(t,37),un.fromName(e).path.forEach(a=>{this.ne(t,60),this.le(a,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Jm(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Zd(i){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const m=Jm(255&t[h]);if(a+=m,8!==m)break}return a}(i);return Math.ceil(e/8)}$o.fe=new $o;class $p{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this._e(a.value),a=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.ge(a.value),a=t.next();this.ye()}pe(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this._e(a);else if(a<2048)this._e(960|a>>>6),this._e(128|63&a);else if(t<"\ud800"||"\udbff"<t)this._e(480|a>>>12),this._e(128|63&a>>>6),this._e(128|63&a);else{const h=t.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.ge(a);else if(a<2048)this.ge(960|a>>>6),this.ge(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.ge(480|a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a);else{const h=t.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const t=this.Ee(e),a=Zd(t);this.Ae(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Re(e){const t=this.Ee(e),a=Zd(t);this.Ae(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class om{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class zf{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class jh{constructor(){this.De=new $p,this.Ce=new om(this.De),this.xe=new zf(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class su{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new su(this.indexId,this.documentKey,this.arrayValue,a)}}function gc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=jp(i.arrayValue,e.arrayValue),0!==t?t:(t=jp(i.directionalValue,e.directionalValue),0!==t?t:un.comparator(i.documentKey,e.documentKey)))}function jp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class ey{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const a=t;a.S()?this.Fe=a:this.Oe.push(a)}}$e(e){const t=Ne(e);if(void 0!==t&&!this.Be(t))return!1;const a=mt(e);let h=0,m=0;for(;h<a.length&&this.Be(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Fe){const b=a[h];if(!this.Le(this.Fe,b)||!this.Ue(this.Me[m++],b))return!1;++h}for(;h<a.length;++h){const b=a[h];if(m>=this.Me.length||!this.Ue(this.Me[m++],b))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Fr{constructor(){this.qe=new Hh}addToCollectionParentIndex(e,t){return this.qe.add(t),Ut.resolve()}getCollectionParents(e,t){return Ut.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ut.resolve()}deleteFieldIndex(e,t){return Ut.resolve()}getDocumentsMatchingTarget(e,t){return Ut.resolve(null)}getIndexType(e,t){return Ut.resolve(0)}getFieldIndexes(e,t){return Ut.resolve([])}getNextCollectionGroupToUpdate(e){return Ut.resolve(null)}getMinOffset(e,t){return Ut.resolve($n.min())}updateCollectionGroup(e,t,a){return Ut.resolve()}updateIndexEntries(e,t){return Ut.resolve()}}class Hh{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new hi(ri.comparator),m=!h.has(a);return this.index[t]=h.add(a),m}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new hi(ri.comparator)).toArray()}}const ld=new Uint8Array(0);class am{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Hh,this.Ge=new tu(a=>La(a),(a,h)=>Zl(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const m={collectionId:a,parent:de(h)};return Gh(e).put(m)}return Ut.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[zl(t),""],!1,!0);return Gh(e).qt(h).next(m=>{for(const b of m){if(b.collectionId!==t)break;a.push(sn(b.parent))}return a})}addFieldIndex(e,t){const a=zh(e),h={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var m;return delete h.indexId,a.add(h).next()}deleteFieldIndex(e,t){const a=zh(e),h=Wh(e),m=ha(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=ha(e);let h=!0;const m=new Map;return Ut.forEach(this.Qe(t),b=>this.je(e,b).next(O=>{h&&(h=!!O),m.set(b,O)})).next(()=>{if(h){let b=Mi();const O=[];return Ut.forEach(m,(X,ne)=>{var Oe;Qt("IndexedDbIndexManager",`Using index ${Oe=X,`id=${Oe.indexId}|cg=${Oe.collectionGroup}|f=${Oe.fields.map(rs=>`${rs.fieldPath}:${rs.kind}`).join(",")}`} to execute ${La(t)}`);const it=function(rs,$s){const ks=Ne($s);if(void 0===ks)return null;for(const Xs of Uc(rs,ks.fieldPath))switch(Xs.op){case"array-contains-any":return Xs.value.arrayValue.values||[];case"array-contains":return[Xs.value]}return null}(ne,X),Ft=function(rs,$s){const ks=new Map;for(const Xs of mt($s))for(const xa of Uc(rs,Xs.fieldPath))switch(xa.op){case"==":case"in":ks.set(Xs.fieldPath.canonicalString(),xa.value);break;case"not-in":case"!=":return ks.set(Xs.fieldPath.canonicalString(),xa.value),Array.from(ks.values())}return null}(ne,X),Jt=function(rs,$s){const ks=[];let Xs=!0;for(const xa of mt($s)){const Jg=0===xa.kind?bh(rs,xa.fieldPath,rs.startAt):Od(rs,xa.fieldPath,rs.startAt);ks.push(Jg.value),Xs&&(Xs=Jg.inclusive)}return new Ba(ks,Xs)}(ne,X),nn=function(rs,$s){const ks=[];let Xs=!0;for(const xa of mt($s)){const Jg=0===xa.kind?Od(rs,xa.fieldPath,rs.endAt):bh(rs,xa.fieldPath,rs.endAt);ks.push(Jg.value),Xs&&(Xs=Jg.inclusive)}return new Ba(ks,Xs)}(ne,X),Fn=this.We(X,ne,Jt),vr=this.We(X,ne,nn),Ps=this.ze(X,ne,Ft),vo=this.He(X.indexId,it,Fn,Jt.inclusive,vr,nn.inclusive,Ps);return Ut.forEach(vo,rs=>a.Gt(rs,t.limit).next($s=>{$s.forEach(ks=>{const Xs=un.fromSegments(ks.documentKey);b.has(Xs)||(b=b.add(Xs),O.push(Xs))})}))}).next(()=>O)}return Ut.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,a,h,m,b,O){const X=(null!=t?t.length:1)*Math.max(a.length,m.length),ne=X/(null!=t?t.length:1),Oe=[];for(let it=0;it<X;++it){const Ft=t?this.Je(t[it/ne]):ld,Jt=this.Ye(e,Ft,a[it%ne],h),nn=this.Xe(e,Ft,m[it%ne],b),Fn=O.map(vr=>this.Ye(e,Ft,vr,!0));Oe.push(...this.createRange(Jt,nn,Fn))}return Oe}Ye(e,t,a,h){const m=new su(e,un.empty(),t,a);return h?m:m.ke()}Xe(e,t,a,h){const m=new su(e,un.empty(),t,a);return h?m.ke():m}je(e,t){const a=new ey(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let b=null;for(const O of m)a.$e(O)&&(!b||O.fields.length>b.fields.length)&&(b=O);return b})}getIndexType(e,t){let a=2;return Ut.forEach(this.Qe(t),h=>this.je(e,h).next(m=>{m?0!==a&&m.fields.length<function(b){let O=new hi(Hi.comparator),X=!1;for(const ne of b.filters){const Oe=ne;Oe.field.isKeyField()||("array-contains"===Oe.op||"array-contains-any"===Oe.op?X=!0:O=O.add(Oe.field))}for(const ne of b.orderBy)ne.field.isKeyField()||(O=O.add(ne.field));return O.size+(X?1:0)}(h)&&(a=1):a=0})).next(()=>a)}Ze(e,t){const a=new jh;for(const h of mt(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const b=a.Ne(h.kind);$o.fe.Zt(m,b)}return a.Se()}Je(e){const t=new jh;return $o.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const a=new jh;return $o.fe.Zt(Ws(this.databaseId,t),a.Ne(function(h){const m=mt(h);return 0===m.length?0:m[m.length-1].kind}(e))),a.Se()}ze(e,t,a){if(null===a)return[];let h=[];h.push(new jh);let m=0;for(const b of mt(e)){const O=a[m++];for(const X of h)if(this.en(t,b.fieldPath)&&ml(O))h=this.nn(h,b,O);else{const ne=X.Ne(b.kind);$o.fe.Zt(O,ne)}}return this.sn(h)}We(e,t,a){return this.ze(e,t,a.position)}sn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Se();return t}nn(e,t,a){const h=[...e],m=[];for(const b of a.arrayValue.values||[])for(const O of h){const X=new jh;X.seed(O.Se()),$o.fe.Zt(b,X.Ne(t.kind)),m.push(X)}return m}en(e,t){return!!e.filters.find(a=>a instanceof ms&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=zh(e),h=Wh(e);return(t?a.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.qt()).next(m=>{const b=[];return Ut.forEach(m,O=>h.get([O.indexId,this.uid]).next(X=>{b.push(function(ne,Oe){const it=Oe?new tn(Oe.sequenceNumber,new $n(pc(Oe.readTime),new un(sn(Oe.documentKey)),Oe.largestBatchId)):tn.empty(),Ft=ne.fields.map(([Jt,nn])=>new Rt(Hi.fromServerFormat(Jt),nn));return new ae(ne.indexId,ne.collectionGroup,Ft,it)}(O,X))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:dr(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=zh(e),m=Wh(e);return this.rn(e).next(b=>h.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(O=>Ut.forEach(O,X=>{return m.put({indexId:X.indexId,uid:this.user.uid||"",sequenceNumber:b,readTime:ad((Ft=a).readTime),documentKey:de(Ft.documentKey.path),largestBatchId:Ft.largestBatchId});var Ft})))}updateIndexEntries(e,t){const a=new Map;return Ut.forEach(t,(h,m)=>{const b=a.get(h.collectionGroup);return(b?Ut.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(O=>(a.set(h.collectionGroup,O),Ut.forEach(O,X=>this.on(e,h,X).next(ne=>{const Oe=this.un(m,X);return ne.isEqual(Oe)?Ut.resolve():this.an(e,m,X,ne,Oe)}))))})}cn(e,t,a,h){return ha(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(a,t.key),documentKey:t.key.path.toArray()})}hn(e,t,a,h){return ha(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(a,t.key),t.key.path.toArray()])}on(e,t,a){const h=ha(e);let m=new hi(gc);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.tn(a,t)])},(b,O)=>{m=m.add(new su(a.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>m)}un(e,t){let a=new hi(gc);const h=this.Ze(t,e);if(null==h)return a;const m=Ne(t);if(null!=m){const b=e.data.field(m.fieldPath);if(ml(b))for(const O of b.arrayValue.values||[])a=a.add(new su(t.indexId,e.key,this.Je(O),h))}else a=a.add(new su(t.indexId,e.key,ld,h));return a}an(e,t,a,h,m){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(O,X,ne,Oe,it){const Ft=O.getIterator(),Jt=X.getIterator();let nn=ao(Ft),Fn=ao(Jt);for(;nn||Fn;){let vr=!1,Ps=!1;if(nn&&Fn){const vo=ne(nn,Fn);vo<0?Ps=!0:vo>0&&(vr=!0)}else null!=nn?Ps=!0:vr=!0;vr?(Oe(Fn),Fn=ao(Jt)):Ps?(it(nn),nn=ao(Ft)):(nn=ao(Ft),Fn=ao(Jt))}}(h,m,gc,O=>{b.push(this.cn(e,t,a,O))},O=>{b.push(this.hn(e,t,a,O))}),Ut.waitFor(b)}rn(e){let t=1;return Wh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((b,O)=>gc(b,O)).filter((b,O,X)=>!O||0!==gc(b,X[O-1]));const h=[];h.push(e);for(const b of a){const O=gc(b,e),X=gc(b,t);if(0===O)h[0]=e.ke();else if(O>0&&X<0)h.push(b),h.push(b.ke());else if(X>0)break}h.push(t);const m=[];for(let b=0;b<h.length;b+=2)m.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,ld,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,ld,[]]));return m}getMinOffset(e,t){let a;return Ut.forEach(this.Qe(t),h=>this.je(e,h).next(m=>{m?(!a||Wr(m.indexState.offset,a)<0)&&(a=m.indexState.offset):a=$n.min()})).next(()=>a)}}function Gh(i){return Zs(i,"collectionParents")}function ha(i){return Zs(i,"indexEntries")}function zh(i){return Zs(i,"indexConfiguration")}function Wh(i){return Zs(i,"indexState")}const ud={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Kh(i,e,t){const a=i.store("mutations"),h=i.store("documentMutations"),m=[],b=IDBKeyRange.only(t.batchId);let O=0;const X=a.Wt({range:b},(Oe,it,Ft)=>(O++,Ft.delete()));m.push(X.next(()=>{D(1===O)}));const ne=[];for(const Oe of t.mutations){const it=Kn(e,Oe.key.path,t.batchId);m.push(h.delete(it)),ne.push(Oe.key)}return Ut.waitFor(m).next(()=>ne)}function qh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw S();e=i.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class Xd{constructor(e,t,a,h){this.userId=e,this.M=t,this.indexManager=a,this.referenceDelegate=h,this.ln={}}static Yt(e,t,a,h){D(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Xd(m,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).Wt({index:"userMutationsIndex",range:a},(h,m,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const m=Yh(e),b=ku(e);return b.add({}).next(O=>{D("number"==typeof O);const X=new Kd(O,t,a,h),ne=function(Ft,Jt,nn){const Fn=nn.baseMutations.map(Ps=>za(Ft.Jt,Ps)),vr=nn.mutations.map(Ps=>za(Ft.Jt,Ps));return{userId:Jt,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:Fn,mutations:vr}}(this.M,this.userId,X),Oe=[];let it=new hi((Ft,Jt)=>dr(Ft.canonicalString(),Jt.canonicalString()));for(const Ft of h){const Jt=Kn(this.userId,Ft.key.path,O);it=it.add(Ft.key.path.popLast()),Oe.push(b.put(ne)),Oe.push(m.put(Jt,_s))}return it.forEach(Ft=>{Oe.push(this.indexManager.addToCollectionParentIndex(e,Ft))}),e.addOnCommittedListener(()=>{this.ln[O]=X.keys()}),Ut.waitFor(Oe).next(()=>X)})}lookupMutationBatch(e,t){return ku(e).get(t).next(a=>a?(D(a.userId===this.userId),Yd(this.M,a)):null)}fn(e,t){return this.ln[t]?Ut.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.ln[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return ku(e).Wt({index:"userMutationsIndex",range:h},(b,O,X)=>{O.userId===this.userId&&(D(O.batchId>=a),m=Yd(this.M,O)),X.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ku(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(h,m,b)=>{a=m.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).qt("userMutationsIndex",t).next(a=>a.map(h=>Yd(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=Gn(this.userId,t.path),h=IDBKeyRange.lowerBound(a),m=[];return Yh(e).Wt({range:h},(b,O,X)=>{const[ne,Oe,it]=b,Ft=sn(Oe);if(ne===this.userId&&t.path.isEqual(Ft))return ku(e).get(it).next(Jt=>{if(!Jt)throw S();D(Jt.userId===this.userId),m.push(Yd(this.M,Jt))});X.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new hi(dr);const h=[];return t.forEach(m=>{const b=Gn(this.userId,m.path),O=IDBKeyRange.lowerBound(b),X=Yh(e).Wt({range:O},(ne,Oe,it)=>{const[Ft,Jt,nn]=ne,Fn=sn(Jt);Ft===this.userId&&m.path.isEqual(Fn)?a=a.add(nn):it.done()});h.push(X)}),Ut.waitFor(h).next(()=>this.dn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,m=Gn(this.userId,a),b=IDBKeyRange.lowerBound(m);let O=new hi(dr);return Yh(e).Wt({range:b},(X,ne,Oe)=>{const[it,Ft,Jt]=X,nn=sn(Ft);it===this.userId&&a.isPrefixOf(nn)?nn.length===h&&(O=O.add(Jt)):Oe.done()}).next(()=>this.dn(e,O))}dn(e,t){const a=[],h=[];return t.forEach(m=>{h.push(ku(e).get(m).next(b=>{if(null===b)throw S();D(b.userId===this.userId),a.push(Yd(this.M,b))}))}),Ut.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return Kh(e.Ht,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ut.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ut.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Yh(e).Wt({range:a},(m,b,O)=>{if(m[0]===this.userId){const X=sn(m[1]);h.push(X)}else O.done()}).next(()=>{D(0===h.length)})})}containsKey(e,t){return Hp(e,this.userId,t)}wn(e){return Zh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hp(i,e,t){const a=Gn(e,t.path),h=a[1],m=IDBKeyRange.lowerBound(a);let b=!1;return Yh(i).Wt({range:m,jt:!0},(O,X,ne)=>{const[Oe,it,Ft]=O;Oe===e&&it===h&&(b=!0),ne.done()}).next(()=>b)}function ku(i){return Zs(i,"mutations")}function Yh(i){return Zs(i,"documentMutations")}function Zh(i){return Zs(i,"mutationQueues")}class ou{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ou(0)}static yn(){return new ou(-1)}}class Gp{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const a=new ou(t.highestTargetId);return t.highestTargetId=a.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>ar.fromTimestamp(new Vi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.pn(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.In(e,h)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(a=>(a.targetCount+=1,this.En(t,a),this.In(e,a))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mc(e).delete(t.targetId)).next(()=>this.pn(e)).next(a=>(D(a.targetCount>0),a.targetCount-=1,this.In(e,a)))}removeTargets(e,t,a){let h=0;const m=[];return mc(e).Wt((b,O)=>{const X=Vh(O);X.sequenceNumber<=t&&null===a.get(X.targetId)&&(h++,m.push(this.removeTargetData(e,X)))}).next(()=>Ut.waitFor(m)).next(()=>h)}forEachTarget(e,t){return mc(e).Wt((a,h)=>{const m=Vh(h);t(m)})}pn(e){return Wf(e).get("targetGlobalKey").next(t=>(D(null!==t),t))}In(e,t){return Wf(e).put("targetGlobalKey",t)}Tn(e,t){return mc(e).put(Lp(this.M,t))}En(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=La(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return mc(e).Wt({range:h,index:"queryTargetsIndex"},(b,O,X)=>{const ne=Vh(O);Zl(t,ne.target)&&(m=ne,X.done())}).next(()=>m)}addMatchingKeys(e,t,a){const h=[],m=yc(e);return t.forEach(b=>{const O=de(b.path);h.push(m.put({targetId:a,path:O})),h.push(this.referenceDelegate.addReference(e,a,b))}),Ut.waitFor(h)}removeMatchingKeys(e,t,a){const h=yc(e);return Ut.forEach(t,m=>{const b=de(m.path);return Ut.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,t){const a=yc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=yc(e);let m=Mi();return h.Wt({range:a,jt:!0},(b,O,X)=>{const ne=sn(b[1]),Oe=new un(ne);m=m.add(Oe)}).next(()=>m)}containsKey(e,t){const a=de(t.path),h=IDBKeyRange.bound([a],[zl(a)],!1,!0);let m=0;return yc(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([b,O],X,ne)=>{0!==b&&(m++,ne.done())}).next(()=>m>0)}Et(e,t){return mc(e).get(t).next(a=>a?Vh(a):null)}}function mc(i){return Zs(i,"targets")}function Wf(i){return Zs(i,"targetGlobal")}function yc(i){return Zs(i,"targetDocuments")}function cd(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,De.Z)(function*(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==nm)throw i;Qt("LocalStore","Unexpectedly lost primary lease")}),Kf.apply(this,arguments)}function zp([i,e],[t,a]){const h=dr(i,t);return 0===h?dr(e,a):h}class ty{constructor(e){this.An=e,this.buffer=new hi(zp),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();zp(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wp{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const a=this.Vn?3e5:6e4;Qt("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,De.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(h){Pu(h)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield cd(h)}yield t.Sn(e)}))}}class Kp{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return Ut.resolve(cs.A);const a=new ty(t);return this.Dn.forEachTarget(e,h=>a.Pn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>a.Pn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Dn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(ud)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ud):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let a,h,m,b,O,X,ne;const Oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(it=>(it>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${it}`),h=this.params.maximumSequenceNumbersToCollect):h=it,b=Date.now(),this.nthSequenceNumber(e,h))).next(it=>(a=it,O=Date.now(),this.removeTargets(e,a,t))).next(it=>(m=it,X=Date.now(),this.removeOrphanedDocuments(e,a))).next(it=>(ne=Date.now(),Du()<=Ze.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-Oe}ms\n\tDetermined least recently used ${h} in `+(O-b)+`ms\n\tRemoved ${m} targets in `+(X-O)+`ms\n\tRemoved ${it} documents in `+(ne-X)+`ms\nTotal Duration: ${ne-Oe}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:it})))}}class lm{constructor(e,t){this.db=e,this.garbageCollector=new Kp(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}kn(e){let t=0;return this.xn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(a,h)=>t(h))}addReference(e,t,a){return qp(e,a)}removeReference(e,t,a){return qp(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return qp(e,t)}On(e,t){return function(a,h){let m=!1;return Zh(a).zt(b=>Hp(a,b,h).next(O=>(O&&(m=!0),Ut.resolve(!O)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Mn(e,(b,O)=>{if(O<=t){const X=this.On(e,b).next(ne=>{if(!ne)return m++,a.getEntry(e,b).next(()=>(a.removeEntry(b,ar.min()),yc(e).delete([0,de(b.path)])))});h.push(X)}}).next(()=>Ut.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return qp(e,t)}Mn(e,t){const a=yc(e);let h,m=cs.A;return a.Wt({index:"documentTargetsIndex"},([b,O],{path:X,sequenceNumber:ne})=>{0===b?(m!==cs.A&&t(new un(sn(h)),m),m=ne,h=X):m=cs.A}).next(()=>{m!==cs.A&&t(new un(sn(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qp(i,e){return yc(i).put((a=i.currentSequenceNumber,{targetId:0,path:de(e.path),sequenceNumber:a}));var a}class Yp{constructor(){this.changes=new tu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,H.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?Ut.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class um{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return Qd(e).put(a)}removeEntry(e,t,a){return Qd(e).delete(function(h,m){const b=h.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],xl(m),b[b.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Fn(e,a)))}getEntry(e,t){let a=H.newInvalidDocument(t);return Qd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qf(t))},(h,m)=>{a=this.$n(t,m)}).next(()=>a)}Bn(e,t){let a={size:0,document:H.newInvalidDocument(t)};return Qd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qf(t))},(h,m)=>{a={document:this.$n(t,m),size:qh(m)}}).next(()=>a)}getEntries(e,t){let a=Xo();return this.Ln(e,t,(h,m)=>{const b=this.$n(h,m);a=a.insert(h,b)}).next(()=>a)}Un(e,t){let a=Xo(),h=new Rn(un.comparator);return this.Ln(e,t,(m,b)=>{const O=this.$n(m,b);a=a.insert(m,O),h=h.insert(m,qh(b))}).next(()=>({documents:a,qn:h}))}Ln(e,t,a){if(t.isEmpty())return Ut.resolve();let h=new hi(_c);t.forEach(X=>h=h.add(X));const m=IDBKeyRange.bound(qf(h.first()),qf(h.last())),b=h.getIterator();let O=b.getNext();return Qd(e).Wt({index:"documentKeyIndex",range:m},(X,ne,Oe)=>{const it=un.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;O&&_c(O,it)<0;)a(O,null),O=b.getNext();O&&O.isEqual(it)&&(a(O,ne),O=b.hasNext()?b.getNext():null),O?Oe.Ut(qf(O)):Oe.done()}).next(()=>{for(;O;)a(O,null),O=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,a){const h=[t.popLast().toArray(),t.lastSegment(),xl(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qd(e).qt(IDBKeyRange.bound(h,m,!0)).next(b=>{let O=Xo();for(const X of b){const ne=this.$n(un.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);O=O.insert(ne.key,ne)}return O})}getAllFromCollectionGroup(e,t,a,h){let m=Xo();const b=cm(t,a),O=cm(t,$n.max());return Qd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,O,!0)},(X,ne,Oe)=>{const it=this.$n(un.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);m=m.insert(it.key,it),m.size===h&&Oe.done()}).next(()=>m)}newChangeBuffer(e){return new Zp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Xh(e).get("remoteDocumentGlobalKey").next(t=>(D(!!t),t))}Fn(e,t){return Xh(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const a=function od(i,e){let t;if(e.document)t=So(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=un.fromSegments(e.noDocument.path),h=pc(e.noDocument.readTime);t=H.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return S();{const a=un.fromSegments(e.unknownDocument.path),h=pc(e.unknownDocument.version);t=H.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new Vi(a[0],a[1]);return ar.fromTimestamp(h)}(e.readTime)),t}(this.M,t);if(!a.isNoDocument()||!a.version.isEqual(ar.min()))return a}return H.newInvalidDocument(e)}}class Zp extends Yp{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new tu(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new hi((m,b)=>dr(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const O=this.Gn.get(m);if(t.push(this.Kn.removeEntry(e,m,O.readTime)),b.isValidDocument()){const X=Bh(this.Kn.M,b);h=h.add(m.path.popLast()),a+=qh(X)-O.size,t.push(this.Kn.addEntry(e,m,X))}else if(a-=O.size,this.trackRemovals){const X=Bh(this.Kn.M,b.convertToNoDocument(ar.min()));t.push(this.Kn.addEntry(e,m,X))}}),h.forEach(m=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Kn.updateMetadata(e,a)),Ut.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(a=>(this.Gn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:a,qn:h})=>(h.forEach((m,b)=>{this.Gn.set(m,{size:b,readTime:a.get(m).readTime})}),a))}}function Xh(i){return Zs(i,"remoteDocumentGlobal")}function Qd(i){return Zs(i,"remoteDocumentsV14")}function qf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cm(i,e){const t=e.documentKey.path.toArray();return[i,xl(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _c(i,e){const t=i.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<a.length-2;++m)if(h=dr(t[m],a[m]),h)return h;return h=dr(t.length,a.length),h||(h=dr(t[t.length-2],a[a.length-2]),h||dr(t[t.length-1],a[a.length-1]))}class ny{constructor(e){this.M=e}kt(e,t,a,h){const m=new Ou("createOrUpgrade",t);var O;a<1&&h>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bn,{unique:!0}),O.createObjectStore("documentMutations"),dm(e),function(O){O.createObjectStore("remoteDocuments")}(e));let b=Ut.resolve();return a<3&&h>=3&&(0!==a&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),dm(e)),b=b.next(()=>function(O){const X=O.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ar.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",ne)}(m))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(O,X){return X.store("mutations").qt().next(ne=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bn,{unique:!0});const Oe=X.store("mutations"),it=ne.map(Ft=>Oe.put(Ft));return Ut.waitFor(it)})}(e,m))),b=b.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.Qn(m))),a<6&&h>=6&&(b=b.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.jn(m)))),a<7&&h>=7&&(b=b.next(()=>this.Wn(m))),a<8&&h>=8&&(b=b.next(()=>this.zn(e,m))),a<9&&h>=9&&(b=b.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.Hn(m))),a<11&&h>=11&&(b=b.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(O){const X=O.createObjectStore("documentOverlays",{keyPath:rd});X.createIndex("collectionPathOverlayIndex",Al,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",hc,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(O){const X=O.createObjectStore("remoteDocumentsV14",{keyPath:da});X.createIndex("documentKeyIndex",ed),X.createIndex("collectionGroupIndex",jf)}(e)).next(()=>this.Jn(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>{!function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:dc}).createIndex("sequenceNumberIndex",Wd,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:td}).createIndex("documentKeyIndex",nd,{unique:!1})}(e)})),b}jn(e){let t=0;return e.store("remoteDocuments").Wt((a,h)=>{t+=qh(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Qn(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.qt().next(h=>Ut.forEach(h,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.qt("userMutationsIndex",b).next(O=>Ut.forEach(O,X=>{D(X.userId===m.userId);const ne=Yd(this.M,X);return Kh(e,m.userId,ne).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.Wt((b,O)=>{const X=new ri(b),ne=[0,de(X)];m.push(t.get(ne).next(Oe=>Oe?Ut.resolve():t.put({targetId:0,path:de(X),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ut.waitFor(m))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Qo});const a=t.store("collectionParents"),h=new Hh,m=b=>{if(h.add(b)){const O=b.lastSegment(),X=b.popLast();return a.put({collectionId:O,parent:de(X)})}};return t.store("remoteDocuments").Wt({jt:!0},(b,O)=>{const X=new ri(b);return m(X.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([b,O,X],ne)=>{const Oe=sn(O);return m(Oe.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((a,h)=>{const m=Vh(h),b=Lp(this.M,m);return t.put(b)})}Jn(e,t){const a=t.store("remoteDocuments"),h=[];return a.Wt((m,b)=>{const O=t.store("remoteDocumentsV14"),X=(ne=b,ne.document?new un(ri.fromString(ne.document.name).popFirst(5)):ne.noDocument?un.fromSegments(ne.noDocument.path):ne.unknownDocument?un.fromSegments(ne.unknownDocument.path):S()).path.toArray();var ne;const Oe={prefixPath:X.slice(0,X.length-2),collectionGroup:X[X.length-2],documentId:X[X.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};h.push(O.put(Oe))}).next(()=>Ut.waitFor(h))}}function dm(i){i.createObjectStore("targetDocuments",{keyPath:zd}).createIndex("documentTargetsIndex",Nh,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ru,{unique:!0}),i.createObjectStore("targetGlobal")}const Nu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qh{constructor(e,t,a,h,m,b,O,X,ne,Oe,it=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Yn=m,this.window=b,this.document=O,this.Xn=ne,this.Zn=Oe,this.ts=it,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Ft=>Promise.resolve(),!Qh.vt())throw new le(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lm(this,h),this.hs=t+"main",this.M=new qd(X),this.ls=new Ao(this.hs,this.ts,new ny(this.M)),this.fs=new Gp(this.referenceDelegate,this.M),this.ds=new um(this.M),this._s=new Bp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Oe&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,Nu);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new cs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var a=(0,De.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,De.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Pu(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return dd(e).get("owner").next(t=>Ut.resolve(this.Ps(t)))}Vs(e){return Xp(e).delete(this.clientId)}vs(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Zs(a,"clientMetadata");return h.qt().next(m=>{const b=e.Ds(m,18e5),O=m.filter(X=>-1===b.indexOf(X));return Ut.forEach(O,X=>h.delete(X.clientId)).next(()=>O)})}).catch(()=>[]);if(e.ws)for(const a of t)e.ws.removeItem(e.Cs(a.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ut.resolve(!0):dd(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,Nu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).qt().next(a=>void 0===this.Ds(a,5e3).find(h=>{if(this.clientId!==h.clientId){const b=!this.inForeground&&h.inForeground,O=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||b&&O)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new Lh(t,cs.A);return e.Rs(a).next(()=>e.Vs(a))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(a=>this.Ss(a.updateTimeMs,t)&&!this.xs(a.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Xp(e).qt().next(t=>this.Ds(t,18e5).map(a=>a.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Xd.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new am(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Up.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,a){Qt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=14===(b=this.ts)?id:13===b?Fp:12===b?Np:11===b?iu:void S();var b;let O;return this.ls.runTransaction(e,h,m,X=>(O=new Lh(X,this.es?this.es.next():cs.A),"readwrite-primary"===t?this.Es(O).next(ne=>!!ne||this.As(O)).next(ne=>{if(!ne)throw ki(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new le(W.FAILED_PRECONDITION,nm);return a(O)}).next(ne=>this.bs(O).next(()=>ne)):this.$s(O).next(()=>a(O)))).then(X=>(O.raiseOnCommittedEvent(),X))}$s(e){return dd(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new le(W.FAILED_PRECONDITION,Nu)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dd(e).put("owner",t)}static vt(){return Ao.vt()}Rs(e){const t=dd(e);return t.get("owner").next(a=>this.Ps(a)?(Qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ut.resolve())}Ss(e,t){const a=Date.now();return!(e<a-t||e>a&&(ki(`Detected an update time that is in the future: ${e} > ${a}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,ze.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const a=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return ki("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ki("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dd(i){return Zs(i,"owner")}function Xp(i){return Zs(i,"clientMetadata")}function au(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Qp{constructor(e,t,a){this.ds=e,this.Bs=t,this.indexManager=a}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(a=>this.Us(e,t,a))}Us(e,t,a){return this.ds.getEntry(e,t).next(h=>{for(const m of a)m.applyToLocalView(h);return h})}qs(e,t){e.forEach((a,h)=>{for(const m of t)m.applyToLocalView(h)})}Ks(e,t){return this.ds.getEntries(e,t).next(a=>this.Gs(e,a).next(()=>a))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>this.qs(t,a))}Qs(e,t,a){return un.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,t.path):Fd(t)?this.Ws(e,t,a):this.zs(e,t,a);var h}js(e,t){return this.Ls(e,new un(t)).next(a=>{let h=Wc();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}Ws(e,t,a){const h=t.collectionGroup;let m=Wc();return this.indexManager.getCollectionParents(e,h).next(b=>Ut.forEach(b,O=>{const X=(ne=t,Oe=O.child(h),new El(Oe,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,Oe;return this.zs(e,X,a).next(ne=>{ne.forEach((Oe,it)=>{m=m.insert(Oe,it)})})}).next(()=>m))}zs(e,t,a){let h;return this.ds.getAllFromCollection(e,t.path,a).next(m=>(h=m,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(m=>{for(const b of m)for(const O of b.mutations){const X=O.key;let ne=h.get(X);null==ne&&(ne=H.newInvalidDocument(X),h=h.insert(X,ne)),Ha(O,ne,b.localWriteTime),ne.isFoundDocument()||(h=h.remove(X))}}).next(()=>(h.forEach((m,b)=>{Ua(t,b)||(h=h.remove(m))}),h))}}class Yf{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Hs=a,this.Js=h}static Ys(e,t){let a=Mi(),h=Mi();for(const m of t.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Yf(e,t.fromCache,a,h)}}class Jh{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,a,h){return this.ti(e,t).next(m=>m||this.ei(e,t,h,a)).next(m=>m||this.ni(e,t))}ti(e,t){return Ut.resolve(null)}ei(e,t,a,h){return function ec(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||h.isEqual(ar.min())?this.ni(e,t):this.Zs.Ks(e,a).next(m=>{const b=this.si(t,m);return this.ii(t,b,a,h)?this.ni(e,t):(Du()<=Ze.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Bd(t)),this.ri(e,b,t,dn(h,-1)))})}si(e,t){let a=new hi(jc(e));return t.forEach((h,m)=>{Ua(e,m)&&(a=a.add(m))}),a}ii(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}ni(e,t){return Du()<=Ze.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Bd(t)),this.Zs.Qs(e,t,$n.min())}ri(e,t,a,h){return this.Zs.Qs(e,a,h).next(m=>(t.forEach(b=>{m=m.insert(b.key,b)}),m))}}class Jp{constructor(e,t,a,h){this.persistence=e,this.oi=t,this.M=h,this.ui=new Rn(dr),this.ai=new tu(m=>La(m),Zl),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(a)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Qp(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function lu(i,e,t,a){return new Jp(i,e,t,a)}function vc(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,De.Z)(function*(i,e){const t=j(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.Bs.getAllMutationBatches(a).next(m=>(h=m,t.li(e),t.Bs.getAllMutationBatches(a))).next(m=>{const b=[],O=[];let X=Mi();for(const ne of h){b.push(ne.batchId);for(const Oe of ne.mutations)X=X.add(Oe.key)}for(const ne of m){O.push(ne.batchId);for(const Oe of ne.mutations)X=X.add(Oe.key)}return t.fi.Ks(a,X).next(ne=>({di:ne,removedBatchIds:b,addedBatchIds:O}))})})}),eg.apply(this,arguments)}function Ec(i,e){const t=j(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=t.hi.newChangeBuffer({trackRemovals:!0});return function(b,O,X,ne){const Oe=X.batch,it=Oe.keys();let Ft=Ut.resolve();return it.forEach(Jt=>{Ft=Ft.next(()=>ne.getEntry(O,Jt)).next(nn=>{const Fn=X.docVersions.get(Jt);D(null!==Fn),nn.version.compareTo(Fn)<0&&(Oe.applyToRemoteDocument(nn,X),nn.isValidDocument()&&(nn.setReadTime(X.commitVersion),ne.addEntry(nn)))})}),Ft.next(()=>b.Bs.removeMutationBatch(O,Oe))}(t,a,e,m).next(()=>m.apply(a)).next(()=>t.Bs.performConsistencyCheck(a)).next(()=>t.fi.Ks(a,h))})}function tg(i){const e=j(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function ng(i,e){const t=j(i),a=e.snapshotVersion;let h=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=t.hi.newChangeBuffer({trackRemovals:!0});h=t.ui;const O=[];e.targetChanges.forEach((ne,Oe)=>{const it=h.get(Oe);if(!it)return;O.push(t.fs.removeMatchingKeys(m,ne.removedDocuments,Oe).next(()=>t.fs.addMatchingKeys(m,ne.addedDocuments,Oe)));let Ft=it.withSequenceNumber(m.currentSequenceNumber);var Jt,nn,Fn;e.targetMismatches.has(Oe)?Ft=Ft.withResumeToken(Nr.EMPTY_BYTE_STRING,ar.min()).withLastLimboFreeSnapshotVersion(ar.min()):ne.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(ne.resumeToken,a)),h=h.insert(Oe,Ft),nn=Ft,Fn=ne,(0===(Jt=it).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&O.push(t.fs.updateTargetData(m,Ft))});let X=Xo();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(m,ne))}),O.push(Zf(m,b,e.documentUpdates).next(ne=>{X=ne})),!a.isEqual(ar.min())){const ne=t.fs.getLastRemoteSnapshotVersion(m).next(Oe=>t.fs.setTargetsMetadata(m,m.currentSequenceNumber,a));O.push(ne)}return Ut.waitFor(O).next(()=>b.apply(m)).next(()=>t.fi.Gs(m,X)).next(()=>X)}).then(m=>(t.ui=h,m))}function Zf(i,e,t){let a=Mi();return t.forEach(h=>a=a.add(h)),e.getEntries(i,a).next(h=>{let m=Xo();return t.forEach((b,O)=>{const X=h.get(b);O.isNoDocument()&&O.version.isEqual(ar.min())?(e.removeEntry(b,O.readTime),m=m.insert(b,O)):!X.isValidDocument()||O.version.compareTo(X.version)>0||0===O.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry(O),m=m.insert(b,O)):Qt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",X.version," Watch version:",O.version)}),m})}function ry(i,e){const t=j(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(a,e)))}function wc(i,e){const t=j(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.fs.getTargetData(a,e).next(m=>m?(h=m,Ut.resolve(h)):t.fs.allocateTargetId(a).next(b=>(h=new Jo(e,b,0,a.currentSequenceNumber),t.fs.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.ui.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.ui=t.ui.insert(a.targetId,a),t.ai.set(e,a.targetId)),a})}function Fu(i,e,t){return rg.apply(this,arguments)}function rg(){return rg=(0,De.Z)(function*(i,e,t){const a=j(i),h=a.ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",m,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Pu(b))throw b;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.ui=a.ui.remove(e),a.ai.delete(h.target)}),rg.apply(this,arguments)}function Ka(i,e,t){const a=j(i);let h=ar.min(),m=Mi();return a.persistence.runTransaction("Execute query","readonly",b=>function(O,X,ne){const Oe=j(O),it=Oe.ai.get(ne);return void 0!==it?Ut.resolve(Oe.ui.get(it)):Oe.fs.getTargetData(X,ne)}(a,b,ca(e)).next(O=>{if(O)return h=O.lastLimboFreeSnapshotVersion,a.fs.getMatchingKeysForTargetId(b,O.targetId).next(X=>{m=X})}).next(()=>a.oi.Qs(b,e,t?h:ar.min(),t?m:Mi())).next(O=>(bc(a,wl(e),O),{documents:O,_i:m})))}function Ic(i,e){const t=j(i),a=j(t.fs),h=t.ui.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>a.Et(m,e).next(b=>b?b.target:null))}function ef(i,e){const t=j(i),a=t.ci.get(e)||ar.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.hi.getAllFromCollectionGroup(h,e,dn(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(bc(t,e,h),h))}function bc(i,e,t){let a=ar.min();t.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),i.ci.set(e,a)}function Ml(){return Ml=(0,De.Z)(function*(i,e,t,a){const h=j(i);let m=Mi(),b=Xo();for(const ne of t){const Oe=e.wi(ne.metadata.name);ne.document&&(m=m.add(Oe));const it=e.mi(ne);it.setReadTime(e.gi(ne.metadata.readTime)),b=b.insert(Oe,it)}const O=h.hi.newChangeBuffer({trackRemovals:!0}),X=yield wc(h,(ne=a,ca(Va(ri.fromString(`__bundle__/docs/${ne}`)))));var ne;return h.persistence.runTransaction("Apply bundle documents","readwrite",ne=>Zf(ne,O,b).next(Oe=>(O.apply(ne),Oe)).next(Oe=>h.fs.removeMatchingKeysForTargetId(ne,X.targetId).next(()=>h.fs.addMatchingKeys(ne,m,X.targetId)).next(()=>h.fi.Gs(ne,Oe)).next(()=>Oe)))}),Ml.apply(this,arguments)}function ig(i,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,De.Z)(function*(i,e,t=Mi()){const a=yield wc(i,ca(Uh(e.bundledQuery))),h=j(i);return h.persistence.runTransaction("Save named query","readwrite",m=>{const b=Vs(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h._s.saveNamedQuery(m,e);const O=a.withResumeToken(Nr.EMPTY_BYTE_STRING,b);return h.ui=h.ui.insert(O.targetId,O),h.fs.updateTargetData(m,O).next(()=>h.fs.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.fs.addMatchingKeys(m,t,a.targetId)).next(()=>h._s.saveNamedQuery(m,e))})}),Jd.apply(this,arguments)}class Xf{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Ut.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var a;return this.yi.set(t.id,{id:(a=t).id,version:a.version,createTime:Vs(a.createTime)}),Ut.resolve()}getNamedQuery(e,t){return Ut.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(a=t).name,query:Uh(a.bundledQuery),readTime:Vs(a.readTime)}),Ut.resolve();var a}}class sg{constructor(){this.overlays=new Rn(un.comparator),this.Ii=new Map}getOverlay(e,t){return Ut.resolve(this.overlays.get(t))}saveOverlays(e,t,a){return a.forEach((h,m)=>{this.Xt(e,t,m)}),Ut.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.Ii.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ii.delete(a)),Ut.resolve()}getOverlaysForCollection(e,t,a){const h=Kc(),m=t.length+1,b=new un(t.child("")),O=this.overlays.getIteratorFrom(b);for(;O.hasNext();){const X=O.getNext().value,ne=X.getKey();if(!t.isPrefixOf(ne.path))break;ne.path.length===m&&X.largestBatchId>a&&h.set(X.getKey(),X)}return Ut.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let m=new Rn((ne,Oe)=>ne-Oe);const b=this.overlays.getIterator();for(;b.hasNext();){const ne=b.getNext().value;if(ne.getKey().getCollectionGroup()===t&&ne.largestBatchId>a){let Oe=m.get(ne.largestBatchId);null===Oe&&(Oe=Kc(),m=m.insert(ne.largestBatchId,Oe)),Oe.set(ne.getKey(),ne)}}const O=Kc(),X=m.getIterator();for(;X.hasNext()&&(X.getNext().value.forEach((ne,Oe)=>O.set(ne,Oe)),!(O.size()>=h)););return Ut.resolve(O)}Xt(e,t,a){if(null===a)return;const h=this.overlays.get(a.key);if(null!==h){const b=this.Ii.get(h.largestBatchId).delete(a.key);this.Ii.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new sd(t,a));let m=this.Ii.get(t);void 0===m&&(m=Mi(),this.Ii.set(t,m)),this.Ii.set(t,m.add(a.key))}}class Lu{constructor(){this.Ti=new hi(yo.Ei),this.Ai=new hi(yo.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const a=new yo(e,t);this.Ti=this.Ti.add(a),this.Ai=this.Ai.add(a)}bi(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Pi(new yo(e,t))}Vi(e,t){e.forEach(a=>this.removeReference(a,t))}vi(e){const t=new un(new ri([])),a=new yo(t,e),h=new yo(t,e+1),m=[];return this.Ai.forEachInRange([a,h],b=>{this.Pi(b),m.push(b.key)}),m}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new un(new ri([])),a=new yo(t,e),h=new yo(t,e+1);let m=Mi();return this.Ai.forEachInRange([a,h],b=>{m=m.add(b.key)}),m}containsKey(e){const t=new yo(e,0),a=this.Ti.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class yo{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return un.comparator(e.key,t.key)||dr(e.Ci,t.Ci)}static Ri(e,t){return dr(e.Ci,t.Ci)||un.comparator(e.key,t.key)}}class Qf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new hi(yo.Ei)}checkEmpty(e){return Ut.resolve(0===this.Bs.length)}addMutationBatch(e,t,a,h){const m=this.xi;this.xi++;const b=new Kd(m,t,a,h);this.Bs.push(b);for(const O of h)this.Ni=this.Ni.add(new yo(O.key,m)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return Ut.resolve(b)}lookupMutationBatch(e,t){return Ut.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.Mi(t+1),m=h<0?0:h;return Ut.resolve(this.Bs.length>m?this.Bs[m]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Ut.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new yo(t,0),h=new yo(t,Number.POSITIVE_INFINITY),m=[];return this.Ni.forEachInRange([a,h],b=>{const O=this.ki(b.Ci);m.push(O)}),Ut.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new hi(dr);return t.forEach(h=>{const m=new yo(h,0),b=new yo(h,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([m,b],O=>{a=a.add(O.Ci)})}),Ut.resolve(this.Oi(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let m=a;un.isDocumentKey(m)||(m=m.child(""));const b=new yo(new un(m),0);let O=new hi(dr);return this.Ni.forEachWhile(X=>{const ne=X.key.path;return!!a.isPrefixOf(ne)&&(ne.length===h&&(O=O.add(X.Ci)),!0)},b),Ut.resolve(this.Oi(O))}Oi(e){const t=[];return e.forEach(a=>{const h=this.ki(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){D(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let a=this.Ni;return Ut.forEach(t.mutations,h=>{const m=new yo(h.key,t.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Ni=a})}_n(e){}containsKey(e,t){const a=new yo(t,0),h=this.Ni.firstAfterOrEqual(a);return Ut.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Ut.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class iy{constructor(e){this.$i=e,this.docs=new Rn(un.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),m=h?h.size:0,b=this.$i(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Ut.resolve(a?a.document.mutableCopy():H.newInvalidDocument(t))}getEntries(e,t){let a=Xo();return t.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():H.newInvalidDocument(h))}),Ut.resolve(a)}getAllFromCollection(e,t,a){let h=Xo();const m=new un(t.child("")),b=this.docs.getIteratorFrom(m);for(;b.hasNext();){const{key:O,value:{document:X}}=b.getNext();if(!t.isPrefixOf(O.path))break;O.path.length>t.length+1||Wr(gr(X),a)<=0||(h=h.insert(X.key,X.mutableCopy()))}return Ut.resolve(h)}getAllFromCollectionGroup(e,t,a,h){S()}Bi(e,t){return Ut.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Jf(this)}getSize(e){return Ut.resolve(this.size)}}class Jf extends Yp{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(a)}),Ut.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class hm{constructor(e){this.persistence=e,this.Li=new tu(t=>La(t),Zl),this.lastRemoteSnapshotVersion=ar.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Lu,this.targetCount=0,this.Ki=ou.gn()}forEachTarget(e,t){return this.Li.forEach((a,h)=>t(h)),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Ui&&(this.Ui=t),Ut.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ut.resolve()}updateTargetData(e,t){return this.Tn(t),Ut.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,t,a){let h=0;const m=[];return this.Li.forEach((b,O)=>{O.sequenceNumber<=t&&null===a.get(O.targetId)&&(this.Li.delete(b),m.push(this.removeMatchingKeysForTargetId(e,O.targetId)),h++)}),Ut.waitFor(m).next(()=>h)}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,t){const a=this.Li.get(t)||null;return Ut.resolve(a)}addMatchingKeys(e,t,a){return this.qi.bi(t,a),Ut.resolve()}removeMatchingKeys(e,t,a){this.qi.Vi(t,a);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(b=>{m.push(h.markPotentiallyOrphaned(e,b))}),Ut.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Ut.resolve()}getMatchingKeysForTargetId(e,t){const a=this.qi.Di(t);return Ut.resolve(a)}containsKey(e,t){return Ut.resolve(this.qi.containsKey(t))}}class fm{constructor(e,t){this.Gi={},this.overlays={},this.es=new cs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new hm(this),this.indexManager=new Fr,this.ds=new iy(a=>this.referenceDelegate.Qi(a)),this.M=new qd(t),this._s=new Xf(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Gi[e.toKey()];return a||(a=new Qf(t,this.referenceDelegate),this.Gi[e.toKey()]=a),a}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,a){Qt("MemoryPersistence","Starting transaction:",e);const h=new og(this.es.next());return this.referenceDelegate.ji(),a(h).next(m=>this.referenceDelegate.Wi(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}zi(e,t){return Ut.or(Object.values(this.Gi).map(a=>()=>a.containsKey(e,t)))}}class og extends rm{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Hi=new Lu,this.Ji=null}static Yi(e){return new ag(e)}get Xi(){if(this.Ji)return this.Ji;throw S()}addReference(e,t,a){return this.Hi.addReference(a,t),this.Xi.delete(a.toString()),Ut.resolve()}removeReference(e,t,a){return this.Hi.removeReference(a,t),this.Xi.add(a.toString()),Ut.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Ut.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(h=>this.Xi.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Xi.add(m.toString()))}).next(()=>a.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.Xi,a=>{const h=un.fromPath(a);return this.Zi(e,h).next(m=>{m||t.removeEntry(h,ar.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(a=>{a?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Ut.or([()=>Ut.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function lg(i,e){return`firestore_clients_${i}_${e}`}function ug(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function tf(i,e){return`firestore_targets_${i}_${e}`}class xo{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static tr(e,t,a){const h=JSON.parse(a);let m,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(m=new le(h.error.code,h.error.message))),b?new xo(e,t,h.state,m):(ki("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hd{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static tr(e,t){const a=JSON.parse(t);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new le(a.error.code,a.error.message))),m?new hd(e,a.state,h):(ki("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=Cl();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=la(a.activeTargetIds[b]),m=m.add(a.activeTargetIds[b]);return h?new fd(e,m):(ki("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Dc{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Dc(t.clientId,t.onlineState):(ki("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ep{constructor(){this.activeTargetIds=Cl()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nf{constructor(e,t,a,h,m){this.window=e,this.Yn=t,this.persistenceKey=a,this.ir=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Rn(dr),this.started=!1,this.cr=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.hr=lg(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new ep),this.dr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Fs();for(const h of t){if(h===e.ir)continue;const m=e.getItem(lg(e.persistenceKey,h));if(m){const b=fd.tr(h,m);b&&(e.ar=e.ar.insert(b.clientId,b))}}e.yr();const a=e.storage.getItem(e.mr);if(a){const h=e.pr(a);h&&e.Ir(h)}for(const h of e.cr)e.ur(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,a){this.Er(e,t,a),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(tf(this.persistenceKey,e));if(a){const h=hd.tr(e,a);h&&(t=h.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tf(this.persistenceKey,e))}updateQueryState(e,t,a){this.br(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Ar(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qt("SharedClientState","READ",e,t),t}setItem(e,t){Qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Qt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.hr)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==a.key)if(t.dr.test(a.key)){if(null==a.newValue){const h=t.vr(a.key);return t.Sr(h,null)}{const h=t.Dr(a.key,a.newValue);if(h)return t.Sr(h.clientId,h)}}else if(t._r.test(a.key)){if(null!==a.newValue){const h=t.Cr(a.key,a.newValue);if(h)return t.Nr(h)}}else if(t.wr.test(a.key)){if(null!==a.newValue){const h=t.kr(a.key,a.newValue);if(h)return t.Mr(h)}}else if(a.key===t.mr){if(null!==a.newValue){const h=t.pr(a.newValue);if(h)return t.Ir(h)}}else if(a.key===t.lr){const h=function(m){let b=cs.A;if(null!=m)try{const O=JSON.parse(m);D("number"==typeof O),b=O}catch(O){ki("SharedClientState","Failed to read sequence number from WebStorage",O)}return b}(a.newValue);h!==cs.A&&t.sequenceNumberHandler(h)}else if(a.key===t.gr){const h=t.Or(a.newValue);yield Promise.all(h.map(m=>t.syncEngine.Fr(m)))}}else t.cr.push(a)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,a){const h=new xo(this.currentUser,e,t,a),m=ug(this.persistenceKey,this.currentUser,e);this.setItem(m,h.er())}Ar(e){const t=ug(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,a){const h=tf(this.persistenceKey,e),m=new hd(e,t,a);this.setItem(h,m.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const a=this.vr(e);return fd.tr(a,t)}Cr(e,t){const a=this._r.exec(e),h=Number(a[1]);return xo.tr(new Ts(void 0!==a[2]?a[2]:null),h,t)}kr(e,t){const a=this.wr.exec(e),h=Number(a[1]);return hd.tr(h,t)}pr(e){return Dc.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const a=t?this.ar.insert(e,t):this.ar.remove(e),h=this.Tr(this.ar),m=this.Tr(a),b=[],O=[];return m.forEach(X=>{h.has(X)||b.push(X)}),h.forEach(X=>{m.has(X)||O.push(X)}),this.syncEngine.Lr(b,O).then(()=>{this.ar=a})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Cl();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class sy{constructor(){this.Ur=new ep,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,a){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ep,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Kr(e){}shutdown(){}}class rf{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sf{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class cg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,a,h,m){const b=this.ho(e,t);Qt("RestConnection","Sending: ",b,a);const O={};return this.lo(O,h,m),this.fo(e,b,O,a).then(X=>(Qt("RestConnection","Received: ",X),X),X=>{throw oa("RestConnection",`${e} failed with error: `,X,"url: ",b,"request:",a),X})}_o(e,t,a,h,m){return this.co(e,t,a,h,m)}lo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ko,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),a&&a.headers.forEach((h,m)=>e[m]=h)}ho(e,t){return`${this.uo}/v1/${t}:${pm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,a,h){return new Promise((m,b)=>{const O=new rl;O.listenOnce(Fo.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case ro.NO_ERROR:const ne=O.getResponseJson();Qt("Connection","XHR received:",JSON.stringify(ne)),m(ne);break;case ro.TIMEOUT:Qt("Connection",'RPC "'+e+'" timed out'),b(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case ro.HTTP_ERROR:const Oe=O.getStatus();if(Qt("Connection",'RPC "'+e+'" failed with status:',Oe,"response text:",O.getResponseText()),Oe>0){const it=O.getResponseJson().error;if(it&&it.status&&it.message){const Ft=function(Jt){const nn=Jt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(nn)>=0?nn:W.UNKNOWN}(it.status);b(new le(Ft,it.message))}else b(new le(W.UNKNOWN,"Server responded with status "+O.getStatus()))}else b(new le(W.UNAVAILABLE,"Connection failed."));break;default:S()}}finally{Qt("Connection",'RPC "'+e+'" completed.')}});const X=JSON.stringify(h);O.send(t,"POST",X,a,15)})}wo(e,t,a){const h=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=no(),b=Gl(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new Cu({})),this.lo(O.initMessageHeaders,t,a),(0,ze.uI)()||(0,ze.b$)()||(0,ze.d)()||(0,ze.w1)()||(0,ze.Mn)()||(0,ze.ru)()||(O.httpHeadersOverwriteParam="$httpHeaders");const X=h.join("");Qt("Connection","Creating WebChannel: "+X,O);const ne=m.createWebChannel(X,O);let Oe=!1,it=!1;const Ft=new sf({Jr:nn=>{it?Qt("Connection","Not sending because WebChannel is closed:",nn):(Oe||(Qt("Connection","Opening WebChannel transport."),ne.open(),Oe=!0),Qt("Connection","WebChannel sending:",nn),ne.send(nn))},Yr:()=>ne.close()}),Jt=(nn,Fn,vr)=>{nn.listen(Fn,Ps=>{try{vr(Ps)}catch(vo){setTimeout(()=>{throw vo},0)}})};return Jt(ne,Ci.EventType.OPEN,()=>{it||Qt("Connection","WebChannel transport opened.")}),Jt(ne,Ci.EventType.CLOSE,()=>{it||(it=!0,Qt("Connection","WebChannel transport closed"),Ft.ro())}),Jt(ne,Ci.EventType.ERROR,nn=>{it||(it=!0,oa("Connection","WebChannel transport errored:",nn),Ft.ro(new le(W.UNAVAILABLE,"The operation could not be completed")))}),Jt(ne,Ci.EventType.MESSAGE,nn=>{var Fn;if(!it){const vr=nn.data[0];D(!!vr);const Ps=vr,vo=Ps.error||(null===(Fn=Ps[0])||void 0===Fn?void 0:Fn.error);if(vo){Qt("Connection","WebChannel received error:",vo);const rs=vo.status;let $s=function(Xs){const xa=ys[Xs];if(void 0!==xa)return Ia(xa)}(rs),ks=vo.message;void 0===$s&&($s=W.INTERNAL,ks="Unknown error status: "+rs+" with message "+vo.message),it=!0,Ft.ro(new le($s,ks)),ne.close()}else Qt("Connection","WebChannel received:",vr),Ft.oo(vr)}}),Jt(b,bu.STAT_EVENT,nn=>{nn.stat===Io.PROXY?Qt("Connection","Detected buffering proxy"):nn.stat===Io.NOPROXY&&Qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ft.io()},0),Ft}}function gm(){return"undefined"!=typeof window?window:null}function af(){return"undefined"!=typeof document?document:null}function lf(i){return new al(i,!0)}class eh{constructor(e,t,a=1e3,h=1.5,m=6e4){this.Yn=e,this.timerId=t,this.mo=a,this.yo=h,this.po=m,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),h=Math.max(0,t-a);h>0&&Qt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class uf{constructor(e,t,a,h,m,b,O,X){this.Yn=e,this.Vo=a,this.vo=h,this.So=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=O,this.listener=X,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new eh(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,De.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,De.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var a=this;return(0,De.Z)(function*(){a.Uo(),a.qo(),a.No.cancel(),a.Do++,4!==e?a.No.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),a.No.Ao()):t&&t.code===W.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Ko(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Do===t&&this.Qo(a,h)},a=>{e(()=>{const h=new le(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.jo(h)})})}Qo(e,t){const a=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{a(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(h=>{a(()=>this.jo(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.No.Ro((0,De.Z)(function*(){e.state=0,e.start()}))}jo(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mm extends uf{constructor(e,t,a,h,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,b),this.M=m}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Gd(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(X=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:S(),h=e.targetChange.targetIds||[],m=function(X,ne){return X.N?(D(void 0===ne||"string"==typeof ne),Nr.fromBase64String(ne||"")):(D(void 0===ne||ne instanceof Uint8Array),Nr.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,O=b&&function(X){const ne=void 0===X.code?W.UNKNOWN:Ia(X.code);return new le(ne,X.message||"")}(b);t=new Sr(a,h,m,O||null)}else if("documentChange"in e){const a=e.documentChange,h=Os(i,a.document.name),m=Vs(a.document.updateTime),b=new Ls({mapValue:{fields:a.document.fields}}),O=H.newFoundDocument(h,m,b);t=new qc(a.targetIds||[],a.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const a=e.documentDelete,h=Os(i,a.document),m=a.readTime?Vs(a.readTime):ar.min(),b=H.newNoDocument(h,m);t=new qc([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Os(i,a.document);t=new qc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return S();{const a=e.filter,m=new sc(a.count||0);t=new Ud(a.targetId,m)}}var X;return t}(this.M,e),a=function(h){if(!("targetChange"in h))return ar.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?ar.min():m.readTime?Vs(m.readTime):ar.min()}(e);return this.listener.zo(t,a)}Ho(e){const t={};t.database=Tl(this.M),t.addTarget=function(h,m){let b;const O=m.target;return b=Xl(O)?{documents:Ph(h,O)}:{query:Qc(h,O)},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?b.resumeToken=Mh(h,m.resumeToken):m.snapshotVersion.compareTo(ar.min())>0&&(b.readTime=mr(h,m.snapshotVersion.toTimestamp())),b}(this.M,e);const a=function kh(i,e){const t=function(a,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return S()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Lo(t)}Jo(e){const t={};t.database=Tl(this.M),t.removeTarget=e,this.Lo(t)}}class ym extends uf{constructor(e,t,a,h,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,b),this.M=m,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(D(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Sl(i,e){return i&&i.length>0?(D(void 0!==e),i.map(t=>function(a,h){let m=Vs(a.updateTime?a.updateTime:h);return m.isEqual(ar.min())&&(m=Vs(h)),new Vf(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Vs(e.commitTime);return this.listener.tu(a,t)}return D(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Tl(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>za(this.M,a))};this.Lo(t)}}class th extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=a,this.M=h,this.su=!1}iu(){if(this.su)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,a){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.So.co(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())})}_o(e,t,a){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.So._o(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())})}terminate(){this.su=!0}}class uu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ki(t),this.uu=!1):Qt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class ba{constructor(e,t,a,h,m){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=m,this.gu.Kr(O=>{a.enqueueAndForget((0,De.Z)(function*(){var X;cu(b)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(X=(0,De.Z)(function*(ne){const Oe=j(ne);Oe.wu.add(4),yield Tc(Oe),Oe.yu.set("Unknown"),Oe.wu.delete(4),yield pd(Oe)}),function(ne){return X.apply(this,arguments)})(b))}))}),this.yu=new uu(a,h)}}function pd(i){return np.apply(this,arguments)}function np(){return np=(0,De.Z)(function*(i){if(cu(i))for(const e of i.mu)yield e(!0)}),np.apply(this,arguments)}function Tc(i){return nh.apply(this,arguments)}function nh(){return nh=(0,De.Z)(function*(i){for(const e of i.mu)yield e(!1)}),nh.apply(this,arguments)}function Bu(i,e){const t=j(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),rh(t)?df(t):_d(t).Mo()&&Ca(t,e))}function cf(i,e){const t=j(i),a=_d(t);t._u.delete(e),a.Mo()&&dg(t,e),0===t._u.size&&(a.Mo()?a.$o():cu(t)&&t.yu.set("Unknown"))}function Ca(i,e){i.pu.Z(e.targetId),_d(i).Ho(e)}function dg(i,e){i.pu.Z(e),_d(i).Jo(e)}function df(i){i.pu=new $d({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),_d(i).start(),i.yu.au()}function rh(i){return cu(i)&&!_d(i).ko()&&i._u.size>0}function cu(i){return 0===j(i).wu.size}function ea(i){i.pu=void 0}function rp(i){return hg.apply(this,arguments)}function hg(){return hg=(0,De.Z)(function*(i){i._u.forEach((e,t)=>{Ca(i,e)})}),hg.apply(this,arguments)}function ip(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,De.Z)(function*(i,e){ea(i),rh(i)?(i.yu.lu(e),df(i)):i.yu.set("Unknown")}),hf.apply(this,arguments)}function _m(i,e,t){return fg.apply(this,arguments)}function fg(){return fg=(0,De.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof Sr&&2===e.state&&e.cause)try{yield(a=(0,De.Z)(function*(h,m){const b=m.cause;for(const O of m.targetIds)h._u.has(O)&&(yield h.remoteSyncer.rejectListen(O,b),h._u.delete(O),h.pu.removeTarget(O))}),function(h,m){return a.apply(this,arguments)})(i,e)}catch(a){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield ff(i,a)}else if(e instanceof qc?i.pu.ut(e):e instanceof Ud?i.pu._t(e):i.pu.ht(e),!t.isEqual(ar.min()))try{const a=yield tg(i.localStore);t.compareTo(a)>=0&&(yield function(h,m){const b=h.pu.yt(m);return b.targetChanges.forEach((O,X)=>{if(O.resumeToken.approximateByteSize()>0){const ne=h._u.get(X);ne&&h._u.set(X,ne.withResumeToken(O.resumeToken,m))}}),b.targetMismatches.forEach(O=>{const X=h._u.get(O);if(!X)return;h._u.set(O,X.withResumeToken(Nr.EMPTY_BYTE_STRING,X.snapshotVersion)),dg(h,O);const ne=new Jo(X.target,O,1,X.sequenceNumber);Ca(h,ne)}),h.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(a){Qt("RemoteStore","Failed to raise snapshot:",a),yield ff(i,a)}var a}),fg.apply(this,arguments)}function ff(i,e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,De.Z)(function*(i,e,t){if(!Pu(e))throw e;i.wu.add(1),yield Tc(i),i.yu.set("Offline"),t||(t=()=>tg(i.localStore)),i.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield pd(i)}))}),Vu.apply(this,arguments)}function vm(i,e){return e().catch(t=>ff(i,t,e))}function gd(i){return sp.apply(this,arguments)}function sp(){return sp=(0,De.Z)(function*(i){const e=j(i),t=Ol(e);let a=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;op(e);)try{const h=yield ry(e.localStore,a);if(null===h){0===e.du.length&&t.$o();break}a=h.batchId,pf(e,h)}catch(h){yield ff(e,h)}pg(e)&&gf(e)}),sp.apply(this,arguments)}function op(i){return cu(i)&&i.du.length<10}function pf(i,e){i.du.push(e);const t=Ol(i);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function pg(i){return cu(i)&&!Ol(i).ko()&&i.du.length>0}function gf(i){Ol(i).start()}function Uu(i){return ih.apply(this,arguments)}function ih(){return ih=(0,De.Z)(function*(i){Ol(i).nu()}),ih.apply(this,arguments)}function oy(i){return ap.apply(this,arguments)}function ap(){return ap=(0,De.Z)(function*(i){const e=Ol(i);for(const t of i.du)e.Zo(t.mutations)}),ap.apply(this,arguments)}function qy(i,e,t){return mf.apply(this,arguments)}function mf(){return mf=(0,De.Z)(function*(i,e,t){const a=i.du.shift(),h=ul.from(a,e,t);yield vm(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield gd(i)}),mf.apply(this,arguments)}function Em(i,e){return md.apply(this,arguments)}function md(){return md=(0,De.Z)(function*(i,e){var t;e&&Ol(i).Xo&&(yield(t=(0,De.Z)(function*(a,h){if(Gi(m=h.code)&&m!==W.ABORTED){const b=a.du.shift();Ol(a).Fo(),yield vm(a,()=>a.remoteSyncer.rejectFailedWrite(b.batchId,h)),yield gd(a)}var m}),function(a,h){return t.apply(this,arguments)})(i,e)),pg(i)&&gf(i)}),md.apply(this,arguments)}function yd(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,De.Z)(function*(i,e){const t=j(i);t.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const a=cu(t);t.wu.add(3),yield Tc(t),a&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield pd(t)}),gg.apply(this,arguments)}function du(i,e){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,De.Z)(function*(i,e){const t=j(i);e?(t.wu.delete(2),yield pd(t)):e||(t.wu.add(2),yield Tc(t),t.yu.set("Unknown"))}),Rl.apply(this,arguments)}function _d(i){return i.Iu||(i.Iu=function(e,t,a){const h=j(e);return h.iu(),new mm(t,h.So,h.authCredentials,h.appCheckCredentials,h.M,a)}(i.datastore,i.asyncQueue,{Xr:rp.bind(null,i),eo:ip.bind(null,i),zo:_m.bind(null,i)}),i.mu.push(function(){var e=(0,De.Z)(function*(t){t?(i.Iu.Fo(),rh(i)?df(i):i.yu.set("Unknown")):(yield i.Iu.stop(),ea(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Ol(i){return i.Tu||(i.Tu=function(e,t,a){const h=j(e);return h.iu(),new ym(t,h.So,h.authCredentials,h.appCheckCredentials,h.M,a)}(i.datastore,i.asyncQueue,{Xr:Uu.bind(null,i),eo:Em.bind(null,i),eu:oy.bind(null,i),tu:qy.bind(null,i)}),i.mu.push(function(){var e=(0,De.Z)(function*(t){t?(i.Tu.Fo(),yield gd(i)):(yield i.Tu.stop(),i.du.length>0&&(Qt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class sh{constructor(e,t,a,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new He,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,a,h,m){const b=Date.now()+a,O=new sh(e,t,b,h,m);return O.start(a),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sc(i,e){if(ki("AsyncQueue",`${e}: ${i}`),Pu(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{constructor(e){this.comparator=e?(t,a)=>e(t,a)||un.comparator(t.key,a.key):(t,a)=>un.comparator(t.key,a.key),this.keyedMap=Wc(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new Pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class wm{constructor(){this.Eu=new Rn(un.comparator)}track(e){const t=e.doc.key,a=this.Eu.get(t);a?0!==e.type&&3===a.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==a.type?this.Eu=this.Eu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Eu=this.Eu.remove(t):1===e.type&&2===a.type?this.Eu=this.Eu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):S():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Ac{constructor(e,t,a,h,m,b,O,X){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=O,this.excludesMetadataChanges=X}static fromInitialDocuments(e,t,a,h){const m=[];return t.forEach(b=>{m.push({type:0,doc:b})}),new Ac(e,t,Pl.emptySet(t),m,a,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class vd{constructor(){this.Ru=void 0,this.listeners=[]}}class mg{constructor(){this.queries=new tu(e=>Ff(e),tc),this.onlineState="Unknown",this.bu=new Set}}function oh(i,e){return yf.apply(this,arguments)}function yf(){return yf=(0,De.Z)(function*(i,e){const t=j(i),a=e.query;let h=!1,m=t.queries.get(a);if(m||(h=!0,m=new vd),h)try{m.Ru=yield t.onListen(a)}catch(b){const O=Sc(b,`Initialization of query '${Bd(e.query)}' failed`);return void e.onError(O)}t.queries.set(a,m),m.listeners.push(e),e.Pu(t.onlineState),m.Ru&&e.Vu(m.Ru)&&vg(t)}),yf.apply(this,arguments)}function hu(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,De.Z)(function*(i,e){const t=j(i),a=e.query;let h=!1;const m=t.queries.get(a);if(m){const b=m.listeners.indexOf(e);b>=0&&(m.listeners.splice(b,1),h=0===m.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),yg.apply(this,arguments)}function ay(i,e){const t=j(i);let a=!1;for(const h of e){const b=t.queries.get(h.query);if(b){for(const O of b.listeners)O.Vu(h)&&(a=!0);b.Ru=h}}a&&vg(t)}function _g(i,e,t){const a=j(i),h=a.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);a.queries.delete(e)}function vg(i){i.bu.forEach(e=>{e.next()})}class Da{constructor(e,t,a){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=a||{}}Vu(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Ac(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class lp{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class up{constructor(e){this.M=e}wi(e){return Os(this.M,e)}mi(e){return e.metadata.exists?So(this.M,e.document,!1):H.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Vs(e)}}class Eg{constructor(e,t,a){this.Ou=e,this.localStore=t,this.M=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ta(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const a=ri.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,a=new up(this.M);for(const h of e)if(h.metadata.queries){const m=a.wi(h.metadata.name);for(const b of h.metadata.queries){const O=(t.get(b)||Mi()).add(m);t.set(b,O)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function Cc(i,e,t,a){return Ml.apply(this,arguments)}(e.localStore,new up(e.M),e.documents,e.Ou.id),a=e.$u(e.documents);for(const h of e.queries)yield ig(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function ta(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ah{constructor(e){this.key=e}}class $u{constructor(e){this.key=e}}class _f{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Mi(),this.mutatedKeys=Mi(),this.Gu=jc(e),this.Qu=new Pl(this.Gu)}get ju(){return this.Uu}Wu(e,t){const a=t?t.zu:new wm,h=t?t.Qu:this.Qu;let m=t?t.mutatedKeys:this.mutatedKeys,b=h,O=!1;const X="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ne="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Oe,it)=>{const Ft=h.get(Oe),Jt=Ua(this.query,it)?it:null,nn=!!Ft&&this.mutatedKeys.has(Ft.key),Fn=!!Jt&&(Jt.hasLocalMutations||this.mutatedKeys.has(Jt.key)&&Jt.hasCommittedMutations);let vr=!1;Ft&&Jt?Ft.data.isEqual(Jt.data)?nn!==Fn&&(a.track({type:3,doc:Jt}),vr=!0):this.Hu(Ft,Jt)||(a.track({type:2,doc:Jt}),vr=!0,(X&&this.Gu(Jt,X)>0||ne&&this.Gu(Jt,ne)<0)&&(O=!0)):!Ft&&Jt?(a.track({type:0,doc:Jt}),vr=!0):Ft&&!Jt&&(a.track({type:1,doc:Ft}),vr=!0,(X||ne)&&(O=!0)),vr&&(Jt?(b=b.add(Jt),m=Fn?m.add(Oe):m.delete(Oe)):(b=b.delete(Oe),m=m.delete(Oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const Oe="F"===this.query.limitType?b.last():b.first();b=b.delete(Oe.key),m=m.delete(Oe.key),a.track({type:1,doc:Oe})}return{Qu:b,zu:a,ii:O,mutatedKeys:m}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const m=e.zu.Au();m.sort((ne,Oe)=>function(it,Ft){const Jt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return S()}};return Jt(it)-Jt(Ft)}(ne.type,Oe.type)||this.Gu(ne.doc,Oe.doc)),this.Ju(a);const b=t?this.Yu():[],O=0===this.Ku.size&&this.current?1:0,X=O!==this.qu;return this.qu=O,0!==m.length||X?{snapshot:new Ac(this.query,e.Qu,h,m,e.mutatedKeys,0===O,X,!1),Xu:b}:{Xu:b}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new wm,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Mi(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const t=[];return e.forEach(a=>{this.Ku.has(a)||t.push(new $u(a))}),this.Ku.forEach(a=>{e.has(a)||t.push(new ah(a))}),t}ta(e){this.Uu=e._i,this.Ku=Mi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Ac.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class cl{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Ed{constructor(e){this.key=e,this.na=!1}}class wg{constructor(e,t,a,h,m,b){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.sa={},this.ia=new tu(O=>Ff(O),tc),this.ra=new Map,this.oa=new Set,this.ua=new Rn(un.comparator),this.aa=new Map,this.ca=new Lu,this.ha={},this.la=new Map,this.fa=ou.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function ly(i,e){return fu.apply(this,arguments)}function fu(){return fu=(0,De.Z)(function*(i,e){const t=Hu(i);let a,h;const m=t.ia.get(e);if(m)a=m.targetId,t.sharedClientState.addLocalQueryTarget(a),h=m.view.ea();else{const b=yield wc(t.localStore,ca(e));t.isPrimaryClient&&Bu(t.remoteStore,b);const O=t.sharedClientState.addLocalQueryTarget(b.targetId);a=b.targetId,h=yield Im(t,e,a,"current"===O)}return h}),fu.apply(this,arguments)}function Im(i,e,t,a){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,De.Z)(function*(i,e,t,a){i._a=(Oe,it,Ft)=>{return(Jt=(0,De.Z)(function*(nn,Fn,vr,Ps){let vo=Fn.view.Wu(vr);vo.ii&&(vo=yield Ka(nn.localStore,Fn.query,!1).then(({documents:ks})=>Fn.view.Wu(ks,vo)));const rs=Ps&&Ps.targetChanges.get(Fn.targetId),$s=Fn.view.applyChanges(vo,nn.isPrimaryClient,rs);return Ag(nn,Fn.targetId,$s.Xu),$s.snapshot}),function(nn,Fn,vr,Ps){return Jt.apply(this,arguments)})(i,Oe,it,Ft);var Jt};const h=yield Ka(i.localStore,e,!0),m=new _f(e,h._i),b=m.Wu(h.documents),O=xu.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState),X=m.applyChanges(b,i.isPrimaryClient,O);Ag(i,t,X.Xu);const ne=new cl(e,t,m);return i.ia.set(e,ne),i.ra.has(t)?i.ra.get(t).push(e):i.ra.set(t,[e]),X.snapshot}),Ig.apply(this,arguments)}function Yy(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,De.Z)(function*(i,e){const t=j(i),a=t.ia.get(e),h=t.ra.get(a.targetId);if(h.length>1)return t.ra.set(a.targetId,h.filter(m=>!tc(m,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Fu(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),cf(t.remoteStore,a.targetId),ch(t,a.targetId)}).catch(cd))):(ch(t,a.targetId),yield Fu(t.localStore,a.targetId,!0))}),cp.apply(this,arguments)}function Cg(){return Cg=(0,De.Z)(function*(i,e,t){const a=Rc(i);try{const h=yield function(m,b){const O=j(m),X=Vi.now(),ne=b.reduce((it,Ft)=>it.add(Ft.key),Mi());let Oe;return O.persistence.runTransaction("Locally write mutations","readwrite",it=>O.fi.Ks(it,ne).next(Ft=>{Oe=Ft;const Jt=[];for(const nn of b){const Fn=Sh(nn,Oe.get(nn.key));null!=Fn&&Jt.push(new Au(nn.key,Fn,F(Fn.value.mapValue),Ys.exists(!0)))}return O.Bs.addMutationBatch(it,X,Jt,b)})).then(it=>(it.applyToLocalDocumentSet(Oe),{batchId:it.batchId,changes:Oe}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(m,b,O){let X=m.ha[m.currentUser.toKey()];X||(X=new Rn(dr)),X=X.insert(b,O),m.ha[m.currentUser.toKey()]=X}(a,h.batchId,t),yield ju(a,h.changes),yield gd(a.remoteStore)}catch(h){const m=Sc(h,"Failed to persist write");t.reject(m)}}),Cg.apply(this,arguments)}function Dg(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,De.Z)(function*(i,e){const t=j(i);try{const a=yield ng(t.localStore,e);e.targetChanges.forEach((h,m)=>{const b=t.aa.get(m);b&&(D(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.na=!0:h.modifiedDocuments.size>0?D(b.na):h.removedDocuments.size>0&&(D(b.na),b.na=!1))}),yield ju(t,a,e)}catch(a){yield cd(a)}}),dp.apply(this,arguments)}function hp(i,e,t){const a=j(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.ia.forEach((m,b)=>{const O=b.view.Pu(e);O.snapshot&&h.push(O.snapshot)}),function(m,b){const O=j(m);O.onlineState=b;let X=!1;O.queries.forEach((ne,Oe)=>{for(const it of Oe.listeners)it.Pu(b)&&(X=!0)}),X&&vg(O)}(a.eventManager,e),h.length&&a.sa.zo(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Ta(i,e,t){return lh.apply(this,arguments)}function lh(){return lh=(0,De.Z)(function*(i,e,t){const a=j(i);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.aa.get(e),m=h&&h.key;if(m){let b=new Rn(un.comparator);b=b.insert(m,H.newNoDocument(m,ar.min()));const O=Mi().add(m),X=new Bs(ar.min(),new Map,new hi(dr),b,O);yield Dg(a,X),a.ua=a.ua.remove(m),a.aa.delete(e),xg(a)}else yield Fu(a.localStore,e,!1).then(()=>ch(a,e,t)).catch(cd)}),lh.apply(this,arguments)}function bm(i,e){return vf.apply(this,arguments)}function vf(){return vf=(0,De.Z)(function*(i,e){const t=j(i),a=e.batch.batchId;try{const h=yield Ec(t.localStore,e);uh(t,a,null),Sa(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield ju(t,h)}catch(h){yield cd(h)}}),vf.apply(this,arguments)}function Tg(i,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,De.Z)(function*(i,e,t){const a=j(i);try{const h=yield function(m,b){const O=j(m);return O.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let ne;return O.Bs.lookupMutationBatch(X,b).next(Oe=>(D(null!==Oe),ne=Oe.keys(),O.Bs.removeMutationBatch(X,Oe))).next(()=>O.Bs.performConsistencyCheck(X)).next(()=>O.fi.Ks(X,ne))})}(a.localStore,e);uh(a,e,t),Sa(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield ju(a,h)}catch(h){yield cd(h)}}),Ef.apply(this,arguments)}function Sg(){return Sg=(0,De.Z)(function*(i,e){const t=j(i);cu(t.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const b=j(m);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>b.Bs.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===a)return void e.resolve();const h=t.la.get(a)||[];h.push(e),t.la.set(a,h)}catch(a){const h=Sc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Sg.apply(this,arguments)}function Sa(i,e){(i.la.get(e)||[]).forEach(t=>{t.resolve()}),i.la.delete(e)}function uh(i,e,t){const a=j(i);let h=a.ha[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),a.ha[a.currentUser.toKey()]=h}}function ch(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.ra.get(e))i.ia.delete(a),t&&i.sa.wa(a,t);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(a=>{i.ca.containsKey(a)||fp(i,a)})}function fp(i,e){i.oa.delete(e.path.canonicalString());const t=i.ua.get(e);null!==t&&(cf(i.remoteStore,t),i.ua=i.ua.remove(e),i.aa.delete(t),xg(i))}function Ag(i,e,t){for(const a of t)a instanceof ah?(i.ca.addReference(a.key,e),Dm(i,a)):a instanceof $u?(Qt("SyncEngine","Document no longer in limbo: "+a.key),i.ca.removeReference(a.key,e),i.ca.containsKey(a.key)||fp(i,a.key)):S()}function Dm(i,e){const t=e.key,a=t.path.canonicalString();i.ua.get(t)||i.oa.has(a)||(Qt("SyncEngine","New document in limbo: "+t),i.oa.add(a),xg(i))}function xg(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const t=new un(ri.fromString(e)),a=i.fa.next();i.aa.set(a,new Ed(t)),i.ua=i.ua.insert(t,a),Bu(i.remoteStore,new Jo(ca(Va(t.path)),a,2,cs.A))}}function ju(i,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,De.Z)(function*(i,e,t){const a=j(i),h=[],m=[],b=[];var O;a.ia.isEmpty()||(a.ia.forEach((O,X)=>{b.push(a._a(X,e,t).then(ne=>{if(ne){a.isPrimaryClient&&a.sharedClientState.updateQueryState(X.targetId,ne.fromCache?"not-current":"current"),h.push(ne);const Oe=Yf.Ys(X.targetId,ne);m.push(Oe)}}))}),yield Promise.all(b),a.sa.zo(h),yield(O=(0,De.Z)(function*(X,ne){const Oe=j(X);try{yield Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",it=>Ut.forEach(ne,Ft=>Ut.forEach(Ft.Hs,Jt=>Oe.persistence.referenceDelegate.addReference(it,Ft.targetId,Jt)).next(()=>Ut.forEach(Ft.Js,Jt=>Oe.persistence.referenceDelegate.removeReference(it,Ft.targetId,Jt)))))}catch(it){if(!Pu(it))throw it;Qt("LocalStore","Failed to update sequence numbers: "+it)}for(const it of ne){const Ft=it.targetId;if(!it.fromCache){const Jt=Oe.ui.get(Ft),Fn=Jt.withLastLimboFreeSnapshotVersion(Jt.snapshotVersion);Oe.ui=Oe.ui.insert(Ft,Fn)}}}),function(X,ne){return O.apply(this,arguments)})(a.localStore,m))}),Mg.apply(this,arguments)}function uy(i,e){return dh.apply(this,arguments)}function dh(){return dh=(0,De.Z)(function*(i,e){const t=j(i);if(!t.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const a=yield vc(t.localStore,e);t.currentUser=e,(h=t).la.forEach(b=>{b.forEach(O=>{O.reject(new le(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.la.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield ju(t,a.di)}var h}),dh.apply(this,arguments)}function hh(i,e){const t=j(i),a=t.aa.get(e);if(a&&a.na)return Mi().add(a.key);{let h=Mi();const m=t.ra.get(e);if(!m)return h;for(const b of m){const O=t.ia.get(b);h=h.unionWith(O.view.ju)}return h}}function cy(i,e){return wd.apply(this,arguments)}function wd(){return wd=(0,De.Z)(function*(i,e){const t=j(i),a=yield Ka(t.localStore,e.query,!0),h=e.view.ta(a);return t.isPrimaryClient&&Ag(t,e.targetId,h.Xu),h}),wd.apply(this,arguments)}function dy(i,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,De.Z)(function*(i,e){const t=j(i);return ef(t.localStore,e).then(a=>ju(t,a))}),Rg.apply(this,arguments)}function Og(i,e,t,a){return dl.apply(this,arguments)}function dl(){return dl=(0,De.Z)(function*(i,e,t,a){const h=j(i),m=yield function(b,O){const X=j(b),ne=j(X.Bs);return X.persistence.runTransaction("Lookup mutation documents","readonly",Oe=>ne.fn(Oe,O).next(it=>it?X.fi.Ks(Oe,it):Ut.resolve(null)))}(h.localStore,e);var O;null!==m?("pending"===t?yield gd(h.remoteStore):"acknowledged"===t||"rejected"===t?(uh(h,e,a||null),Sa(h,e),O=e,j(j(h.localStore).Bs)._n(O)):S(),yield ju(h,m)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),dl.apply(this,arguments)}function Mo(){return Mo=(0,De.Z)(function*(i,e){const t=j(i);if(Hu(t),Rc(t),!0===e&&!0!==t.da){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield xc(t,a.toArray());t.da=!0,yield du(t.remoteStore,!0);for(const m of h)Bu(t.remoteStore,m)}else if(!1===e&&!1!==t.da){const a=[];let h=Promise.resolve();t.ra.forEach((m,b)=>{t.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(ch(t,b),Fu(t.localStore,b,!0))),cf(t.remoteStore,b)}),yield h,yield xc(t,a),function(m){const b=j(m);b.aa.forEach((O,X)=>{cf(b.remoteStore,X)}),b.ca.Si(),b.aa=new Map,b.ua=new Rn(un.comparator)}(t),t.da=!1,yield du(t.remoteStore,!1)}}),Mo.apply(this,arguments)}function xc(i,e,t){return fh.apply(this,arguments)}function fh(){return fh=(0,De.Z)(function*(i,e,t){const a=j(i),h=[],m=[];for(const b of e){let O;const X=a.ra.get(b);if(X&&0!==X.length){O=yield wc(a.localStore,ca(X[0]));for(const ne of X){const Oe=a.ia.get(ne),it=yield cy(a,Oe);it.snapshot&&m.push(it.snapshot)}}else{const ne=yield Ic(a.localStore,b);O=yield wc(a.localStore,ne),yield Im(a,qa(ne),b,!1)}h.push(O)}return a.sa.zo(m),h}),fh.apply(this,arguments)}function qa(i){return Op(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ya(i){const e=j(i);return j(j(e.localStore).persistence).Fs()}function ph(i,e,t,a){return pu.apply(this,arguments)}function pu(){return pu=(0,De.Z)(function*(i,e,t,a){const h=j(i);if(h.da)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const m=h.ra.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const b=yield ef(h.localStore,wl(m[0])),O=Bs.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ju(h,b,O);break}case"rejected":yield Fu(h.localStore,e,!0),ch(h,e,a);break;default:S()}}),pu.apply(this,arguments)}function Id(i,e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,De.Z)(function*(i,e,t){const a=Hu(i);if(a.da){for(const h of e){if(a.ra.has(h)){Qt("SyncEngine","Adding an already active target "+h);continue}const m=yield Ic(a.localStore,h),b=yield wc(a.localStore,m);yield Im(a,qa(m),b.targetId,!1),Bu(a.remoteStore,b)}for(const h of t)a.ra.has(h)&&(yield Fu(a.localStore,h,!1).then(()=>{cf(a.remoteStore,h),ch(a,h)}).catch(cd))}}),Mc.apply(this,arguments)}function Hu(i){const e=j(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ta.bind(null,e),e.sa.zo=ay.bind(null,e.eventManager),e.sa.wa=_g.bind(null,e.eventManager),e}function Rc(i){const e=j(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tg.bind(null,e),e}class bd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.M=lf(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return lu(this.persistence,new Jh,e.initialUser,this.M)}ya(e){return new fm(ag.Yi,this.M)}ga(e){return new sy}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cd extends bd{constructor(e,t,a){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,De.Z)(function*(){yield t().call(a,e),yield a.Ta.initialize(a,e),yield Rc(a.Ta.syncEngine),yield gd(a.Ta.remoteStore),yield a.persistence.Ts(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ia(e){return lu(this.persistence,new Jh,e.initialUser,this.M)}pa(e){return new Wp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new Qh(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,gm(),af(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new sy}}class Pg extends Cd{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,De.Z)(function*(){yield t().call(a,e);const h=a.Ta.syncEngine;a.sharedClientState instanceof nf&&(a.sharedClientState.syncEngine={$r:Og.bind(null,h),Br:ph.bind(null,h),Lr:Id.bind(null,h),Fs:Ya.bind(null,h),Fr:dy.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.Ts(function(){var m=(0,De.Z)(function*(b){yield function wf(i,e){return Mo.apply(this,arguments)}(a.Ta.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):b||a.gcScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}ga(e){const t=gm();if(!nf.vt(t))throw new le(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nf(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class pp{initialize(e,t){var a=this;return(0,De.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>hp(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=uy.bind(null,a.syncEngine),yield du(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mg}createDatastore(e){const t=lf(e.databaseInfo.databaseId),a=new cg(e.databaseInfo);return new th(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,m=O=>hp(this.syncEngine,O,0),b=rf.vt()?new rf:new tp,new ba(t,a,h,m,b);var t,a,h,m,b}createSyncEngine(e,t){return function(a,h,m,b,O,X,ne){const Oe=new wg(a,h,m,b,O,X);return ne&&(Oe.da=!0),Oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const a=j(t);Qt("RemoteStore","RemoteStore shutting down."),a.wu.add(5),yield Tc(a),a.gu.shutdown(),a.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kg(i,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Tm{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new He,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(a=>{a&&a.Mu()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,De.Z)(function*(){const t=yield e.Va();if(null===t)return null;const a=e.ba.decode(t),h=Number(a);isNaN(h)&&e.va(`length string (${a}) is not valid number`);const m=yield e.Sa(h);return new lp(JSON.parse(m),t.length+h)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,De.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Sa(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const a=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class Sm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new le(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,De.Z)(function*(m,b){const O=j(m),X=Tl(O.M)+"/documents",ne={documents:b.map(Jt=>Xc(O.M,Jt))},Oe=yield O._o("BatchGetDocuments",X,ne),it=new Map;Oe.forEach(Jt=>{const nn=function Hd(i,e){return"found"in e?function(t,a){D(!!a.found);const h=Os(t,a.found.name),m=Vs(a.found.updateTime),b=new Ls({mapValue:{fields:a.found.fields}});return H.newFoundDocument(h,m,b)}(i,e):"missing"in e?function(t,a){D(!!a.missing),D(!!a.readTime);const h=Os(t,a.missing),m=Vs(a.readTime);return H.newNoDocument(h,m)}(i,e):S()}(O.M,Jt);it.set(nn.key.toString(),nn)});const Ft=[];return b.forEach(Jt=>{const nn=it.get(Jt.toString());D(!!nn),Ft.push(nn)}),Ft}),function(m,b){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const m=un.fromPath(h);e.mutations.push(new Ga(m,e.precondition(m)))}),yield(a=(0,De.Z)(function*(h,m){const b=j(h),O=Tl(b.M)+"/documents",X={writes:m.map(ne=>za(b.M,ne))};yield b.co("Commit",O,X)}),function(h,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw S();t=ar.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new le(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ys.updateTime(t):Ys.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ar.min()))throw new le(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ys.updateTime(t)}return Ys.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Am{constructor(e,t,a,h,m){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=m,this.xa=a.maxAttempts,this.No=new eh(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,De.Z)(function*(){const t=new Sm(e.datastore),a=e.ka(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Ma(m)}))}).catch(h=>{e.Ma(h)})}))}ka(e){try{const t=this.updateFunction(e);return!so(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Gi(t)}return!1}}class xm{constructor(e,t,a,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=Ts.UNAUTHENTICATED,this.clientId=Lo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var b=(0,De.Z)(function*(O){Qt("FirestoreClient","Received user=",O.uid),yield m.authCredentialListener(O),m.user=O});return function(O){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(a,b=>(Qt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new He;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=Sc(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Ng(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,De.Z)(function*(m){a.isEqual(m)||(yield vc(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Fg.apply(this,arguments)}function Lg(i,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield mp(i);Qt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(h=>yd(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,m)=>yd(e.remoteStore,m)),i.onlineComponents=e}),Bg.apply(this,arguments)}function mp(i){return yp.apply(this,arguments)}function yp(){return yp=(0,De.Z)(function*(i){return i.offlineComponents||(Qt("FirestoreClient","Using default OfflineComponentProvider"),yield Ng(i,new bd)),i.offlineComponents}),yp.apply(this,arguments)}function Vg(i){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,De.Z)(function*(i){return i.onlineComponents||(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield Lg(i,new pp)),i.onlineComponents}),Mm.apply(this,arguments)}function Ug(i){return mp(i).then(e=>e.persistence)}function $g(i){return mp(i).then(e=>e.localStore)}function jg(i){return Vg(i).then(e=>e.remoteStore)}function _p(i){return Vg(i).then(e=>e.syncEngine)}function mh(i){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,De.Z)(function*(i){const e=yield Vg(i),t=e.eventManager;return t.onListen=ly.bind(null,e.syncEngine),t.onUnlisten=Yy.bind(null,e.syncEngine),t}),Rm.apply(this,arguments)}function Ro(i,e,t={}){const a=new He;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(h,m,b,O,X){const ne=new gp({next:it=>{m.enqueueAndForget(()=>hu(h,Oe));const Ft=it.docs.has(b);!Ft&&it.fromCache?X.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&it.fromCache&&O&&"server"===O.source?X.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(it)},error:it=>X.reject(it)}),Oe=new Da(Va(b.path),ne,{includeMetadataChanges:!0,ku:!0});return oh(h,Oe)}(yield mh(i),i.asyncQueue,e,t,a)})),a.promise}function If(i,e,t={}){const a=new He;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(h,m,b,O,X){const ne=new gp({next:it=>{m.enqueueAndForget(()=>hu(h,Oe)),it.fromCache&&"server"===O.source?X.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(it)},error:it=>X.reject(it)}),Oe=new Da(b,ne,{includeMetadataChanges:!0,ku:!0});return oh(h,Oe)}(yield mh(i),i.asyncQueue,e,t,a)})),a.promise}const mu=new Map;function Oc(i,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Pm(i,e,t,a){if(!0===e&&!0===a)throw new le(W.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function vp(i){if(!un.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gg(i){if(un.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":S()}function Qr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function _h(i,e){if(e<=0)throw new le(W.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class zg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Pm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,t,a){this._authCredentials=t,this._appCheckCredentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zg({}),this._settingsFrozen=!1,e instanceof ds?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(h.options.projectId)}(e))}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dn;switch(t.type){case"gapi":const a=t.client;return D(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new Xr(a,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mu.get(e);t&&(Qt("ComponentProvider","Removing Datastore"),mu.delete(e),t.terminate())}(this),Promise.resolve()}}class vs{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vs(this.firestore,e,this._key)}}class jo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class kl extends jo{constructor(e,t,a){super(e,t,Va(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vs(this.firestore,null,new un(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function Ep(i,e,...t){if(i=(0,ze.m9)(i),Oc("collection","path",e),i instanceof vh){const a=ri.fromString(e,...t);return Gg(a),new kl(i,null,a)}{if(!(i instanceof vs||i instanceof kl))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ri.fromString(e,...t));return Gg(a),new kl(i.firestore,null,a)}}function bf(i,e,...t){if(i=(0,ze.m9)(i),1===arguments.length&&(e=Lo.R()),Oc("doc","path",e),i instanceof vh){const a=ri.fromString(e,...t);return vp(a),new vs(i,null,new un(a))}{if(!(i instanceof vs||i instanceof kl))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ri.fromString(e,...t));return vp(a),new vs(i.firestore,i instanceof kl?i.converter:null,new un(a))}}function Wg(i,e){return i=(0,ze.m9)(i),e=(0,ze.m9)(e),(i instanceof vs||i instanceof kl)&&(e instanceof vs||e instanceof kl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Cf(i,e){return i=(0,ze.m9)(i),e=(0,ze.m9)(e),i instanceof jo&&e instanceof jo&&i.firestore===e.firestore&&tc(i._query,e._query)&&i.converter===e.converter}class Qy{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new eh(this,"async_queue_retry"),this.Qa=()=>{const t=af();t&&Qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new He;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,De.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Pu(t))throw t;Qt("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(a=>{throw this.Ua=a,this.qa=!1,ki("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(a)),a}).then(a=>(this.qa=!1,a))));return this.Fa=t,t}enqueueAfterDelay(e,t,a){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const h=sh.createAndSchedule(this,e,t,a,m=>this.Ha(m));return this.La.push(h),h}ja(){this.Ua&&S()}verifyOperationInProgress(){}Ja(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Df(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(i)}class km{constructor(){this._progressObserver={},this._taskCompletionResolver=new He,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yi extends vh{constructor(e,t,a){super(e,t,a),this.type="firestore",this._queue=new Qy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Tf(this),this._firestoreClient.terminate()}}function Us(i){return i._firestoreClient||Tf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Tf(i){var e;const t=i._freezeSettings(),a=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new gs(i._databaseId,m,i._persistenceKey,(O=t).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var m,O;i._firestoreClient=new xm(i._authCredentials,i._appCheckCredentials,i._queue,a)}function Gu(i,e,t){const a=new He;return i.asyncQueue.enqueue((0,De.Z)(function*(){try{yield Ng(i,t),yield Lg(i,e),a.resolve()}catch(h){if(!("FirebaseError"===(m=h).name?m.code===W.FAILED_PRECONDITION||m.code===W.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),a.reject(h)}var m})).then(()=>a.promise)}function o(i){if(i._initialized||i._terminated)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class l{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class v{constructor(e){this._byteString=e}static fromBase64String(e){try{return new v(Nr.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new v(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class T{constructor(e){this._methodName=e}}class R{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dr(this._lat,e._lat)||dr(this._long,e._long)}}const Q=/^__.*__$/;class oe{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new Au(e,this.data,this.fieldMask,t,this.fieldTransforms):new ic(e,this.data,t,this.fieldTransforms)}}class we{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Au(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _t(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw S()}}class bt{constructor(e,t,a,h,m,b){this.settings=e,this.databaseId=t,this.M=a,this.ignoreUndefinedProperties=h,void 0===m&&this.tc(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new bt(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.nc({path:a,ic:!1});return h.rc(e),h}oc(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.nc({path:a,ic:!1});return h.tc(),h}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Vm(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(_t(this.ec)&&Q.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class $t{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=a||lf(e)}lc(e,t,a,h=!1){return new bt({ec:e,methodName:t,hc:a,path:Hi.emptyPath(),ic:!1,cc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function on(i){const e=i._freezeSettings(),t=lf(i._databaseId);return new $t(i._databaseId,!!e.ignoreUndefinedProperties,t)}function mn(i,e,t,a,h,m={}){const b=i.lc(m.merge||m.mergeFields?2:0,e,t,h);vy("Data must be an object, but it was:",b,a);const O=Cp(a,b);let X,ne;if(m.merge)X=new il(b.fieldMask),ne=b.fieldTransforms;else if(m.mergeFields){const Oe=[];for(const it of m.mergeFields){const Ft=_o(e,it,t);if(!b.contains(Ft))throw new le(W.INVALID_ARGUMENT,`Field '${Ft}' is specified in your field mask but missing from your input data.`);Ey(Oe,Ft)||Oe.push(Ft)}X=new il(Oe),ne=b.fieldTransforms.filter(it=>X.covers(it.field))}else X=null,ne=b.fieldTransforms;return new oe(new Ls(O),X,ne)}class br extends T{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof br}}function Kr(i,e,t){return new bt({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class lo extends T{_toFieldTransform(e){return new mo(e.path,new nc)}isEqual(e){return e instanceof lo}}class uo extends T{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Kr(this,e,!0),a=this.fc.map(m=>Nl(m,t)),h=new $a(a);return new mo(e.path,h)}isEqual(e){return this===e}}class As extends T{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Kr(this,e,!0),a=this.fc.map(m=>Nl(m,t)),h=new Ni(a);return new mo(e.path,h)}isEqual(e){return this===e}}class co extends T{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Ms(e.M,Ei(e.M,this.dc));return new mo(e.path,t)}isEqual(e){return this===e}}function zu(i,e,t,a){const h=i.lc(1,e,t);vy("Data must be an object, but it was:",h,a);const m=[],b=Ls.empty();_i(a,(X,ne)=>{const Oe=Bm(e,X,t);ne=(0,ze.m9)(ne);const it=h.oc(Oe);if(ne instanceof br)m.push(Oe);else{const Ft=Nl(ne,it);null!=Ft&&(m.push(Oe),b.set(Oe,Ft))}});const O=new il(m);return new we(b,O,h.fieldTransforms)}function Wu(i,e,t,a,h,m){const b=i.lc(1,e,t),O=[_o(e,a,t)],X=[h];if(m.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ft=0;Ft<m.length;Ft+=2)O.push(_o(e,m[Ft])),X.push(m[Ft+1]);const ne=[],Oe=Ls.empty();for(let Ft=O.length-1;Ft>=0;--Ft)if(!Ey(ne,O[Ft])){const Jt=O[Ft];let nn=X[Ft];nn=(0,ze.m9)(nn);const Fn=b.oc(Jt);if(nn instanceof br)ne.push(Jt);else{const vr=Nl(nn,Fn);null!=vr&&(ne.push(Jt),Oe.set(Jt,vr))}}const it=new il(ne);return new we(Oe,it,b.fieldTransforms)}function Kg(i,e,t,a=!1){return Nl(t,i.lc(a?4:3,e))}function Nl(i,e){if(_y(i=(0,ze.m9)(i)))return vy("Unsupported field value:",e,i),Cp(i,e);if(i instanceof T)return function(t,a){if(!_t(a.ec))throw a.ac(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ac(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,a){const h=[];let m=0;for(const b of t){let O=Nl(b,a.uc(m));null==O&&(O={nullValue:"NULL_VALUE"}),h.push(O),m++}return{arrayValue:{values:h}}}(i,e)}return function(t,a){if(null===(t=(0,ze.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ei(a.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Vi.fromDate(t);return{timestampValue:mr(a.M,h)}}if(t instanceof Vi){const h=new Vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mr(a.M,h)}}if(t instanceof R)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof v)return{bytesValue:Mh(a.M,t._byteString)};if(t instanceof vs){const h=a.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw a.ac(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:zi(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ac(`Unsupported field value: ${yh(t)}`)}(i,e)}function Cp(i,e){const t={};return Wl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(i,(a,h)=>{const m=Nl(h,e.sc(a));null!=m&&(t[a]=m)}),{mapValue:{fields:t}}}function _y(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Vi||i instanceof R||i instanceof v||i instanceof vs||i instanceof T)}function vy(i,e,t){if(!_y(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=yh(t);throw e.ac("an object"===a?i+" a custom object":i+" "+a)}var a}function _o(i,e,t){if((e=(0,ze.m9)(e))instanceof l)return e._internalPath;if("string"==typeof e)return Bm(i,e);throw Vm("Field path arguments must be of type string or ",i,!1,void 0,t)}const t_=new RegExp("[~\\*/\\[\\]]");function Bm(i,e,t){if(e.search(t_)>=0)throw Vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new l(...e.split("."))._internalPath}catch(a){throw Vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Vm(i,e,t,a,h){const m=a&&!a.isEmpty(),b=void 0!==h;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let X="";return(m||b)&&(X+=" (found",m&&(X+=` in field ${a}`),b&&(X+=` in document ${h}`),X+=")"),new le(W.INVALID_ARGUMENT,O+i+X)}function Ey(i,e){return i.some(t=>t.isEqual(e))}class qg{constructor(e,t,a,h,m){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new n_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class n_ extends qg{data(){return super.data()}}function Yg(i,e){return"string"==typeof e?Bm(i,e):e instanceof l?e._internalPath:e._delegate._internalPath}class yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends qg{constructor(e,t,a,h,m,b){super(e,t,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Yg("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Zg extends Dd{data(e={}){return super.data(e)}}class Td{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new yu(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Zg(this._firestore,this._userDataWriter,a.key,a,new yu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(b=>({type:"added",doc:new Zg(a._firestore,a._userDataWriter,b.doc.key,b.doc,new yu(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(b=>h||3!==b.type).map(b=>{const O=new Zg(a._firestore,a._userDataWriter,b.doc.key,b.doc,new yu(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter);let X=-1,ne=-1;return 0!==b.type&&(X=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),ne=m.indexOf(b.doc.key)),{type:N_(b.type),doc:O,oldIndex:X,newIndex:ne}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function N_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return S()}}function wy(i,e){return i instanceof Dd&&e instanceof Dd?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Td&&e instanceof Td&&i._firestore===e._firestore&&Cf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function F_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}function Pc(i,...e){for(const t of e)i=t._apply(i);return i}class kc extends Dp{constructor(e,t,a){super(),this._c=e,this.wc=t,this.mc=a,this.type="where"}_apply(e){const t=on(e.firestore),a=function(h,m,b,O,X,ne,Oe){let it;if(X.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){Cy(Oe,ne);const Jt=[];for(const nn of Oe)Jt.push(s_(O,h,nn));it={arrayValue:{values:Jt}}}else it=s_(O,h,Oe)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||Cy(Oe,ne),it=Kg(b,"where",Oe,"in"===ne||"not-in"===ne);const Ft=ms.create(X,ne,it);return function(Jt,nn){if(nn.S()){const vr=$c(Jt);if(null!==vr&&!vr.isEqual(nn.field))throw new le(W.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${vr.toString()}' and '${nn.field.toString()}'`);const Ps=Nd(Jt);null!==Ps&&o_(0,nn.field,Ps)}const Fn=function(vr,Ps){for(const vo of vr.filters)if(Ps.indexOf(vo.op)>=0)return vo.op;return null}(Jt,function(vr){switch(vr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(nn.op));if(null!==Fn)throw new le(W.INVALID_ARGUMENT,Fn===nn.op?`Invalid query. You cannot use more than one '${nn.op.toString()}' filter.`:`Invalid query. You cannot use '${nn.op.toString()}' filters with '${Fn.toString()}' filters.`)}(h,Ft),Ft}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new jo(e.firestore,e.converter,function(h,m){const b=h.filters.concat([m]);return new El(h.path,h.collectionGroup,h.explicitOrderBy.slice(),b,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,a))}}class B_ extends Dp{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(a,h,m){if(null!==a.startAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Zo(h,m);return function(O,X){if(null===Nd(O)){const ne=$c(O);null!==ne&&o_(0,ne,X.field)}}(a,b),b}(e._query,this._c,this.gc);return new jo(e.firestore,e.converter,function(a,h){const m=a.explicitOrderBy.concat([h]);return new El(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class _u extends Dp{constructor(e,t,a){super(),this.type=e,this.yc=t,this.Ic=a}_apply(e){return new jo(e.firestore,e.converter,Ld(e._query,this.yc,this.Ic))}}class Iy extends Dp{constructor(e,t,a){super(),this.type=e,this.Tc=t,this.Ec=a}_apply(e){const t=Tp(e,this.type,this.Tc,this.Ec);return new jo(e.firestore,e.converter,(h=t,new El((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}class i_ extends Dp{constructor(e,t,a){super(),this.type=e,this.Tc=t,this.Ec=a}_apply(e){const t=Tp(e,this.type,this.Tc,this.Ec);return new jo(e.firestore,e.converter,(h=t,new El((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function Tp(i,e,t,a){if(t[0]=(0,ze.m9)(t[0]),t[0]instanceof qg)return function(h,m,b,O,X){if(!O)throw new le(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const ne=[];for(const Oe of Jl(h))if(Oe.field.isKeyField())ne.push(Ws(m,O.key));else{const it=O.data.field(Oe.field);if(Ih(it))throw new le(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===it){const Ft=Oe.field.canonicalString();throw new le(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ft}' (used as the orderBy) does not exist.`)}ne.push(it)}return new Ba(ne,X)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const h=on(i.firestore);return function(m,b,O,X,ne,Oe){const it=m.explicitOrderBy;if(ne.length>it.length)throw new le(W.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ft=[];for(let Jt=0;Jt<ne.length;Jt++){const nn=ne[Jt];if(it[Jt].field.isKeyField()){if("string"!=typeof nn)throw new le(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof nn}`);if(!Fd(m)&&-1!==nn.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${nn}' contains a slash.`);const Fn=m.path.child(ri.fromString(nn));if(!un.isDocumentKey(Fn))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${Fn}' is not because it contains an odd number of segments.`);const vr=new un(Fn);Ft.push(Ws(b,vr))}else{const Fn=Kg(O,X,nn);Ft.push(Fn)}}return new Ba(Ft,Oe)}(i._query,i.firestore._databaseId,h,e,t,a)}}function s_(i,e,t){if("string"==typeof(t=(0,ze.m9)(t))){if(""===t)throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fd(e)&&-1!==t.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ri.fromString(t));if(!un.isDocumentKey(a))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ws(i,new un(a))}if(t instanceof vs)return Ws(i,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(t)}.`)}function Cy(i,e){if(!Array.isArray(i)||0===i.length)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new le(W.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function o_(i,e,t){if(!t.isEqual(e))throw new le(W.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const a_={maxAttempts:5};class Um{convertValue(e,t="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw S()}}convertObject(e,t){const a={};return _i(e.fields,(h,m)=>{a[h]=this.convertValue(m,t)}),a}convertGeoPoint(e){return new R(ii(e.latitude),ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=pl(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const t=vi(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ri.fromString(e);D(K(a));const h=new ds(a.get(1),a.get(3)),m=new un(a.popFirst(5));return h.isEqual(t)||ki(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Af(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class j_ extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new v(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,t)}}class Dy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=on(e)}set(e,t,a){this._verifyNotCommitted();const h=Sd(e,this._firestore),m=Af(h.converter,t,a),b=mn(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Ys.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const m=Sd(e,this._firestore);let b;return b="string"==typeof(t=(0,ze.m9)(t))||t instanceof l?Wu(this._dataReader,"WriteBatch.update",m._key,t,a,h):zu(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(b.toMutation(m._key,Ys.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sd(e,this._firestore);return this._mutations=this._mutations.concat(new Rr(t._key,Ys.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sd(i,e){if((i=(0,ze.m9)(i)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Fc extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new v(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,t)}}function xy(i,e,t){i=Qr(i,vs);const a=Qr(i.firestore,Yi),h=Af(i.converter,e,t);return Sp(a,[mn(on(a),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,Ys.none())])}function My(i,e,t,...a){i=Qr(i,vs);const h=Qr(i.firestore,Yi),m=on(h);let b;return b="string"==typeof(e=(0,ze.m9)(e))||e instanceof l?Wu(m,"updateDoc",i._key,e,t,a):zu(m,"updateDoc",i._key,e),Sp(h,[b.toMutation(i._key,Ys.exists(!0))])}function h_(i,...e){var t,a,h;i=(0,ze.m9)(i);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Df(e[b])||(m=e[b],b++);const O={includeMetadataChanges:m.includeMetadataChanges};if(Df(e[b])){const it=e[b];e[b]=null===(t=it.next)||void 0===t?void 0:t.bind(it),e[b+1]=null===(a=it.error)||void 0===a?void 0:a.bind(it),e[b+2]=null===(h=it.complete)||void 0===h?void 0:h.bind(it)}let X,ne,Oe;if(i instanceof vs)ne=Qr(i.firestore,Yi),Oe=Va(i._key.path),X={next:it=>{e[b]&&e[b](Ry(ne,i,it))},error:e[b+1],complete:e[b+2]};else{const it=Qr(i,jo);ne=Qr(it.firestore,Yi),Oe=it._query;const Ft=new Fc(ne);X={next:Jt=>{e[b]&&e[b](new Td(ne,Ft,it,Jt))},error:e[b+1],complete:e[b+2]},F_(i._query)}return function(it,Ft,Jt,nn){const Fn=new gp(nn),vr=new Da(Ft,Fn,Jt);return it.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return oh(yield mh(it),vr)})),()=>{Fn.Aa(),it.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return hu(yield mh(it),vr)}))}}(Us(ne),Oe,O,X)}function Sp(i,e){return function(t,a){const h=new He;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function bg(i,e,t){return Cg.apply(this,arguments)}(yield _p(t),a,h)})),h.promise}(Us(i),e)}function Ry(i,e,t){const a=t.docs.get(e._key),h=new Fc(i);return new Dd(i,h,e._key,a,new yu(t.hasPendingWrites,t.fromCache),e.converter)}class z_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=on(e)}get(e){const t=Sd(e,this._firestore),a=new j_(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return S();const m=h[0];if(m.isFoundDocument())return new qg(this._firestore,a,m.key,m,t.converter);if(m.isNoDocument())return new qg(this._firestore,a,t._key,null,t.converter);throw S()})}set(e,t,a){const h=Sd(e,this._firestore),m=Af(h.converter,t,a),b=mn(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,a);return this._transaction.set(h._key,b),this}update(e,t,a,...h){const m=Sd(e,this._firestore);let b;return b="string"==typeof(t=(0,ze.m9)(t))||t instanceof l?Wu(this._dataReader,"Transaction.update",m._key,t,a,h):zu(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,b),this}delete(e){const t=Sd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sd(e,this._firestore),a=new Fc(this._firestore);return super.get(e).then(h=>new Dd(this._firestore,a,t._key,h._document,new yu(!1,!1),t.converter))}}function Oy(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new le("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Py(){if("undefined"==typeof Uint8Array)throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function ky(){if(!function wh(){return"undefined"!=typeof atob}())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ko=st.SDK_VERSION,(0,st._registerComponent)(new ot.wA("firestore",(t,{options:a})=>{const h=t.getProvider("app").getImmediate(),m=new Yi(h,new Vn(t.getProvider("auth-internal")),new qo(t.getProvider("app-check-internal")));return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC")),(0,st.registerVersion)(ya,"3.4.9",i),(0,st.registerVersion)(ya,"3.4.9","esm2017")}();class Ap{constructor(e){this._delegate=e}static fromBase64String(e){return ky(),new Ap(v.fromBase64String(e))}static fromUint8Array(e){return Py(),new Ap(v.fromUint8Array(e))}toBase64(){return ky(),this._delegate.toBase64()}toUint8Array(){return Py(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $m(i){return function p_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(i,["next","error","complete"])}class g_{enableIndexedDbPersistence(e,t){return function Sf(i,e){o(i=Qr(i,Yi));const t=Us(i),a=i._freezeSettings(),h=new pp;return Gu(t,h,new Cd(h,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function wp(i){o(i=Qr(i,Yi));const e=Us(i),t=i._freezeSettings(),a=new pp;return Gu(e,a,new Pg(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function e_(i){if(i._initialized&&!i._terminated)throw new le(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new He;return i._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(a){if(!Ao.vt())return Promise.resolve();const h=a+"main";yield Ao.delete(h)}),function(a){return t.apply(this,arguments)})(au(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ny{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof ds||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&oa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function py(i,e,t,a={}){var h;const m=(i=Qr(i,vh))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&oa("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let b,O;if("string"==typeof a.mockUserToken)b=a.mockUserToken,O=Ts.MOCK_USER;else{b=(0,ze.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const X=a.mockUserToken.sub||a.mockUserToken.user_id;if(!X)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Ts(X)}i._authCredentials=new _r(new Vt(b,O))}}(this._delegate,e,t,a)}enableNetwork(){return function Ip(i){return function hy(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Ug(i),t=yield jg(i);return e.setNetworkEnabled(!0),function(a){const h=j(a);return h.wu.delete(0),pd(h)}(t)}))}(Us(i=Qr(i,Yi)))}(this._delegate)}disableNetwork(){return function bp(i){return function Hg(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Ug(i),t=yield jg(i);return e.setNetworkEnabled(!1),(a=(0,De.Z)(function*(h){const m=j(h);m.wu.add(0),yield Tc(m),m.yu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(Us(i=Qr(i,Yi)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,Pm("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yy(i){return function(e){const t=new He;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Cm(i,e){return Sg.apply(this,arguments)}(yield _p(e),t)})),t.promise}(Us(i=Qr(i,Yi)))}(this._delegate)}onSnapshotsInSync(e){return function G_(i,e){return function Zy(i,e){const t=new gp(e);return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return a=yield mh(i),h=t,j(a).bu.add(h),void h.next();var a,h})),()=>{t.Aa(),i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return a=yield mh(i),h=t,void j(a).bu.delete(h);var a,h}))}}(Us(i=Qr(i,Yi)),Df(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sr(this,Ep(this._delegate,e))}catch(t){throw Za(t,"collection()","Firestore.collection()")}}doc(e){try{return new vu(this,bf(this._delegate,e))}catch(t){throw Za(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Aa(this,function gy(i,e){if(i=Qr(i,vh),Oc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jo(i,null,(t=e,new El(ri.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Za(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function W_(i,e,t){i=Qr(i,Yi);const a=Object.assign(Object.assign({},a_),t);return function(h){if(h.maxAttempts<1)throw new le(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function fy(i,e,t){const a=new He;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const h=yield(m=i,Vg(m).then(b=>b.datastore));var m;new Am(i.asyncQueue,h,t,e,a).run()})),a.promise}(Us(i),h=>e(new z_(i,h)),a)}(this._delegate,t=>e(new Fy(this,t)))}batch(){return Us(this._delegate),new Ly(new Dy(this._delegate,e=>Sp(this._delegate,e)))}loadBundle(e){return function Lm(i,e){const t=Us(i=Qr(i,Yi)),a=new km;return function Om(i,e,t,a){const h=function(m,b){let O;return O="string"==typeof m?(new TextEncoder).encode(m):m,X=function(X,ne){if(X instanceof Uint8Array)return kg(X,void 0);if(X instanceof ArrayBuffer)return kg(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new Tm(X,b);var X}(t,lf(e));i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function gh(i,e,t){const a=j(i);var h;(h=(0,De.Z)(function*(m,b,O){try{const X=yield b.getMetadata();if(yield function(Ft,Jt){const nn=j(Ft),Fn=Vs(Jt.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",vr=>nn._s.getBundleMetadata(vr,Jt.id)).then(vr=>!!vr&&vr.createTime.compareTo(Fn)>=0)}(m.localStore,X))return yield b.close(),O._completeWith({taskState:"Success",documentsLoaded:(Ft=X).totalDocuments,bytesLoaded:Ft.totalBytes,totalDocuments:Ft.totalDocuments,totalBytes:Ft.totalBytes}),Promise.resolve(new Set);O._updateProgress(ta(X));const ne=new Eg(X,m.localStore,b.M);let Oe=yield b.ma();for(;Oe;){const Ft=yield ne.Fu(Oe);Ft&&O._updateProgress(Ft),Oe=yield b.ma()}const it=yield ne.complete();return yield ju(m,it.Lu,void 0),yield function(Ft,Jt){const nn=j(Ft);return nn.persistence.runTransaction("Save bundle","readwrite",Fn=>nn._s.saveBundleMetadata(Fn,Jt))}(m.localStore,X),O._completeWith(it.progress),Promise.resolve(it.Bu)}catch(X){return oa("SyncEngine",`Loading bundle failed with ${X}`),O._failWith(X),Promise.resolve(new Set)}var Ft}),function(m,b,O){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield _p(i),h,a)}))}(t,i._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function u(i,e){return function Xy(i,e){return i.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,a){const h=j(t);return h.persistence.runTransaction("Get named query","readonly",m=>h._s.getNamedQuery(m,a))}(yield $g(i),e)}))}(Us(i=Qr(i,Yi)),e).then(t=>t?new jo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Aa(this,t):null)}}class Xg extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ap(new v(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vu.forKey(t,this.firestore,null)}}class Fy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xg(e)}get(e){const t=Rf(e);return this._delegate.get(t).then(a=>new Mf(this._firestore,new Dd(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const h=Rf(e);return a?(Oy("Transaction.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=Rf(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=Rf(e);return this._delegate.delete(t),this}}class Ly{constructor(e){this._delegate=e}set(e,t,a){const h=Rf(e);return a?(Oy("WriteBatch.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=Rf(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=Rf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fl{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Zg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jm(this._firestore,a),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=Fl.INSTANCES;let h=a.get(e);h||(h=new WeakMap,a.set(e,h));let m=h.get(t);return m||(m=new Fl(e,new Xg(e),t),h.set(t,m)),m}}Fl.INSTANCES=new WeakMap;class vu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xg(e)}static forPath(e,t,a){if(e.length%2!=0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vu(t,new vs(t._delegate,a,new un(e)))}static forKey(e,t,a){return new vu(t,new vs(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new sr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sr(this.firestore,Ep(this._delegate,e))}catch(t){throw Za(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ze.m9)(e))instanceof vs&&Wg(this._delegate,e)}set(e,t){t=Oy("DocumentReference.set",t);try{return t?xy(this._delegate,e,t):xy(this._delegate,e)}catch(a){throw Za(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?My(this._delegate,e):My(this._delegate,e,t,...a)}catch(h){throw Za(h,"updateDoc()","DocumentReference.update()")}}delete(){return function d_(i){return Sp(Qr(i.firestore,Yi),[new Rr(i._key,Ys.none())])}(this._delegate)}onSnapshot(...e){const t=xf(e),a=ev(e,h=>new Mf(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return h_(this._delegate,t,a)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Sy(i){i=Qr(i,vs);const e=Qr(i.firestore,Yi),t=Us(e),a=new Fc(e);return function gu(i,e){const t=new He;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(a=(0,De.Z)(function*(h,m,b){try{const O=yield function(X,ne){const Oe=j(X);return Oe.persistence.runTransaction("read document","readonly",it=>Oe.fi.Ls(it,ne))}(h,m);O.isFoundDocument()?b.resolve(O):O.isNoDocument()?b.resolve(null):b.reject(new le(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const X=Sc(O,`Failed to get document '${m} from cache`);b.reject(X)}}),function(h,m,b){return a.apply(this,arguments)})(yield $g(i),e,t);var a})),t.promise}(t,i._key).then(h=>new Dd(e,a,i._key,h,new yu(null!==h&&h.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ay(i){i=Qr(i,vs);const e=Qr(i.firestore,Yi);return Ro(Us(e),i._key,{source:"server"}).then(t=>Ry(e,i,t))}(this._delegate):function Ty(i){i=Qr(i,vs);const e=Qr(i.firestore,Yi);return Ro(Us(e),i._key).then(t=>Ry(e,i,t))}(this._delegate),t.then(a=>new Mf(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new vu(this.firestore,this._delegate.withConverter(e?Fl.getInstance(this.firestore,e):null))}}function Za(i,e,t){return i.message=i.message.replace(e,t),i}function xf(i){for(const e of i)if("object"==typeof e&&!$m(e))return e;return{}}function ev(i,e){var t,a;let h;return h=$m(i[0])?i[0]:$m(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class Mf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wy(this._delegate,e._delegate)}}class jm extends Mf{data(e){const t=this._delegate.data(e);return function $(i,e){i||S()}(void 0!==t),t}}class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xg(e)}where(e,t,a){try{return new Aa(this.firestore,Pc(this._delegate,function L_(i,e,t){const a=e,h=Yg("where",i);return new kc(h,a,t)}(e,t,a)))}catch(h){throw Za(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Aa(this.firestore,Pc(this._delegate,function Nc(i,e="asc"){const t=e,a=Yg("orderBy",i);return new B_(a,t)}(e,t)))}catch(a){throw Za(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Aa(this.firestore,Pc(this._delegate,function Ku(i){return _h("limit",i),new _u("limit",i,"F")}(e)))}catch(t){throw Za(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Aa(this.firestore,Pc(this._delegate,function r_(i){return _h("limitToLast",i),new _u("limitToLast",i,"L")}(e)))}catch(t){throw Za(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Aa(this.firestore,Pc(this._delegate,function V_(...i){return new Iy("startAt",i,!0)}(...e)))}catch(t){throw Za(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Aa(this.firestore,Pc(this._delegate,function U_(...i){return new Iy("startAfter",i,!1)}(...e)))}catch(t){throw Za(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Aa(this.firestore,Pc(this._delegate,function $_(...i){return new i_("endBefore",i,!1)}(...e)))}catch(t){throw Za(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Aa(this.firestore,Pc(this._delegate,function by(...i){return new i_("endAt",i,!0)}(...e)))}catch(t){throw Za(t,"endAt()","Query.endAt()")}}isEqual(e){return Cf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function u_(i){i=Qr(i,jo);const e=Qr(i.firestore,Yi),t=Us(e),a=new Fc(e);return function hl(i,e){const t=new He;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(a=(0,De.Z)(function*(h,m,b){try{const O=yield Ka(h,m,!0),X=new _f(m,O._i),ne=X.Wu(O.documents),Oe=X.applyChanges(ne,!1);b.resolve(Oe.snapshot)}catch(O){const X=Sc(O,`Failed to execute query '${m} against cache`);b.reject(X)}}),function(h,m,b){return a.apply(this,arguments)})(yield $g(i),e,t);var a})),t.promise}(t,i._query).then(h=>new Td(e,a,i,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function c_(i){i=Qr(i,jo);const e=Qr(i.firestore,Yi),t=Us(e),a=new Fc(e);return If(t,i._query,{source:"server"}).then(h=>new Td(e,a,i,h))}(this._delegate):function l_(i){i=Qr(i,jo);const e=Qr(i.firestore,Yi),t=Us(e),a=new Fc(e);return F_(i._query),If(t,i._query).then(h=>new Td(e,a,i,h))}(this._delegate),t.then(a=>new __(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=xf(e),a=ev(e,h=>new __(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return h_(this._delegate,t,a)}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?Fl.getInstance(this.firestore,e):null))}}class y_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class __{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new y_(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new jm(this._firestore,a))})}isEqual(e){return wy(this._delegate,e._delegate)}}class sr extends Aa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vu(this.firestore,e):null}doc(e){try{return new vu(this.firestore,void 0===e?bf(this._delegate):bf(this._delegate,e))}catch(t){throw Za(t,"doc()","CollectionReference.doc()")}}add(e){return function H_(i,e){const t=Qr(i.firestore,Yi),a=bf(i),h=Af(i.converter,e);return Sp(t,[mn(on(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,Ys.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new vu(this.firestore,t))}isEqual(e){return Wg(this._delegate,e._delegate)}withConverter(e){return new sr(this.firestore,this._delegate.withConverter(e?Fl.getInstance(this.firestore,e):null))}}function Rf(i){return Qr(i,vs)}class By{constructor(...e){this._delegate=new l(...e)}static documentId(){return new By(Hi.keyField().canonicalString())}isEqual(e){return(e=(0,ze.m9)(e))instanceof l&&this._delegate._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._delegate=e}static serverTimestamp(){const e=function q_(){return new lo("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Of(e)}static delete(){const e=function K_(){return new br("deleteField")}();return e._methodName="FieldValue.delete",new Of(e)}static arrayUnion(...e){const t=function Y_(...i){return new uo("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Of(t)}static arrayRemove(...e){const t=function Z_(...i){return new As("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Of(t)}static increment(e){const t=function X_(i){return new co("increment",i)}(e);return t._methodName="FieldValue.increment",new Of(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Hm={Firestore:Ny,GeoPoint:R,Timestamp:Vi,Blob:Ap,Transaction:Fy,WriteBatch:Ly,DocumentReference:vu,DocumentSnapshot:Mf,Query:Aa,QueryDocumentSnapshot:jm,QuerySnapshot:__,CollectionReference:sr,FieldPath:By,FieldValue:Of,setLogLevel:function m_(i){!function Tu(i){bo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Gm(i){(function tv(i,e){i.INTERNAL.registerComponent(new ot.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(a,h)},"PUBLIC").setServiceProps(Object.assign({},Hm)))})(i,(e,t)=>new Ny(e,t,new g_)),i.registerVersion("@firebase/firestore-compat","0.1.18")}(Le.Z);var qu=P(3385),ho=P(440);function E_(i,e){return function v_(i,e=J.z){return new q.y(t=>{let a;return null!=e?e.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},t)}):a=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=a&&a()}})}(i,e)}function zm(i,e){return E_(i,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function Qg(i,e){return zm(i,e).pipe((0,fe.O)(void 0),ke(),(0,me.U)(([t,a])=>{const h=a.payload.docChanges(),m=h.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((b,O)=>{const X=h.find(Oe=>Oe.doc.ref.isEqual(b.ref)),ne=null==t?void 0:t.payload.docs.find(Oe=>Oe.ref.isEqual(b.ref));X&&JSON.stringify(X.doc.metadata)===JSON.stringify(b.metadata)||!X&&ne&&JSON.stringify(ne.metadata)===JSON.stringify(b.metadata)||m.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:b}})}),m}))}function Vy(i,e,t){return Qg(i,t).pipe((0,Te.R)((a,h)=>function w_(i,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(i=function rv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Uy(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Uy(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Uy(i,e.oldIndex,1)}return i}(i,a))}),i}(a,h.map(m=>m.payload),e),[]),(0,Pe.x)(),(0,me.U)(a=>a.map(h=>({type:h.type,payload:h}))))}function Uy(i,e,t,...a){const h=i.slice();return h.splice(e,t,...a),h}function I_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}P(127);class xp{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=Qg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(a=>a.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,fe.O)(void 0),ke(),(0,Ve.h)(([a,h])=>h.length>0||!a),(0,me.U)(([a,h])=>h),Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Te.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=I_(e);return Vy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return zm(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),Ee.iC)}get(e){return(0,Me.D)(this.query.get(e)).pipe(Ee.iC)}add(e){return this.ref.add(e)}doc(e){return new b_(this.ref.doc(e),this.afs)}}class b_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:h,query:m}=$y(a,t);return new xp(h,m,this.afs)}snapshotChanges(){return function nv(i,e){return E_(i,e).pipe((0,fe.O)(void 0),ke(),(0,me.U)(([t,a])=>a.exists?(null==t?void 0:t.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Me.D)(this.ref.get(e)).pipe(Ee.iC)}}class iv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,Ve.h)(t=>t.length>0),Ee.iC):Qg(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Te.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=I_(e);return Vy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return zm(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(a=>a.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),Ee.iC)}get(e){return(0,Me.D)(this.query.get(e)).pipe(Ee.iC)}}const sv=new c.OlP("angularfire2.enableFirestorePersistence"),Wm=new c.OlP("angularfire2.firestore.persistenceSettings"),C_=new c.OlP("angularfire2.firestore.settings"),D_=new c.OlP("angularfire2.firestore.use-emulator");function $y(i,e=(t=>t)){return{query:e(i),ref:i}}let ov=(()=>{class i{constructor(t,a,h,m,b,O,X,ne,Oe,it,Ft,Jt,nn,Fn,vr,Ps,vo){this.schedulers=X;const rs=(0,tt.on)(t,O,a),$s=Oe;it&&(0,qu.nw)(rs,O,Ft,nn,Fn,vr,Jt,Ps),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${rs.name}.firestore`,"AngularFirestore",rs.name,()=>{const ks=O.runOutsideAngular(()=>rs.firestore());if(m&&ks.settings(m),$s&&ks.useEmulator(...$s),h&&!(0,Fe.PM)(b)){const Xs=()=>{try{return(0,Me.D)(ks.enablePersistence(ne||void 0).then(()=>!0,()=>!1))}catch(xa){return"undefined"!=typeof console&&console.warn(xa),(0,Re.of)(!1)}};return[ks,O.runOutsideAngular(Xs)]}return[ks,(0,Re.of)(!1)]},[m,$s,h])}collection(t,a){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:b}=$y(h,a),O=this.schedulers.ngZone.run(()=>m);return new xp(O,b,this)}collectionGroup(t,a){const h=a||(b=>b),m=this.firestore.collectionGroup(t);return new iv(h(m),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>a);return new b_(h,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(tt.Dh),c.LFG(tt.xv,8),c.LFG(sv,8),c.LFG(C_,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ee.HU),c.LFG(Wm,8),c.LFG(D_,8),c.LFG(qu.zQ,8),c.LFG(qu.Qv,8),c.LFG(qu.L6,8),c.LFG(qu._Q,8),c.LFG(qu.rT,8),c.LFG(qu.lh,8),c.LFG(qu.f7,8),c.LFG(ho.nm,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()},2011:(Zt,at,P)=>{"use strict";P.d(at,{hO:()=>Pe,xv:()=>ke,Dh:()=>Ce,GT:()=>Ee,cc:()=>Ve,on:()=>fe,pX:()=>Re});var c=P(5e3),J=P(127),q=P(5813);Zt=P.hmd(Zt);const Me=["ngOnDestroy"],Re=(Le,De,st,ot={})=>new Proxy(Le,{get:(Ze,ze)=>st.runOutsideAngular(()=>{var $e;if(Le[ze])return(null===($e=null==ot?void 0:ot.spy)||void 0===$e?void 0:$e.get)&&ot.spy.get(ze,Le[ze]),Le[ze];if(Me.indexOf(ze)>-1)return()=>{};const Ke=De.toPromise().then(ee=>{const Qe=ee&&ee[ze];return"function"==typeof Qe?Qe.bind(ee):Qe&&Qe.then?Qe.then(he=>st.run(()=>he)):st.run(()=>Qe)});return new Proxy(()=>{},{get:(ee,Qe)=>Ke[Qe],apply:(ee,Qe,he)=>Ke.then(ye=>{var ge;const Ae=ye&&ye(...he);return(null===(ge=null==ot?void 0:ot.spy)||void 0===ge?void 0:ge.apply)&&ot.spy.apply(ze,he,Ae),Ae})})})}),Ee=(Le,De)=>{De.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(ot=>{Object.defineProperty(Le.prototype,ot,Object.getOwnPropertyDescriptor(st.prototype||st,ot))})})};class ve{constructor(De){return De}}const Ce=new c.OlP("angularfire2.app.options"),ke=new c.OlP("angularfire2.app.name");function fe(Le,De,st){const Ze="object"==typeof st&&st||{};Ze.name=Ze.name||"string"==typeof st&&st||"[DEFAULT]";const $e=J.Z.apps.filter(Ke=>Ke&&Ke.name===Ze.name)[0]||De.runOutsideAngular(()=>J.Z.initializeApp(Le,Ze));try{JSON.stringify(Le)!==JSON.stringify($e.options)&&me("error",`${$e.name} Firebase App already initialized with different options${Zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new ve($e)}const me=(Le,...De)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Le](...De)},Te={provide:ve,useFactory:fe,deps:[Ce,c.R0b,[new c.FiY,ke]]};let Pe=(()=>{class Le{constructor(st){J.Z.registerVersion("angularfire",q.q4.full,"core"),J.Z.registerVersion("angularfire",q.q4.full,"app-compat"),J.Z.registerVersion("angular",c.q4F.full,st.toString())}static initializeApp(st,ot){return{ngModule:Le,providers:[{provide:Ce,useValue:st},{provide:ke,useValue:ot}]}}}return Le.\u0275fac=function(st){return new(st||Le)(c.LFG(c.Lbi))},Le.\u0275mod=c.oAB({type:Le}),Le.\u0275inj=c.cJS({providers:[Te]}),Le})();function Ve(Le,De,st,ot,Ze){const[,ze,$e]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Le)||[];if(ze)return function tt(Le,De){try{return Le.toString()===De.toString()}catch(st){return Le===De}}(Ze,$e)||(Se("error",`${De} was already initialized on the ${st} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Ze,was:$e})),ze;{const Ke=ot();return globalThis.\u0275AngularfireInstanceCache.push([Le,Ke,Ze]),Ke}}const Fe=!!Zt.hot,Se=(Le,...De)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Le](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Zt,at,P)=>{"use strict";P.d(at,{q4:()=>so,iC:()=>_l,fc:()=>Yo,HU:()=>Yl,vb:()=>ql,JM:()=>Kl});var c=P(5e3),J=P(5867),q=P(5861),Me=P(9681),Re=P(2090),Ee=P(4859),ve=P(1877),Ce=P(8766);const ke="@firebase/installations",Te="w:0.5.9",Pe="FIS_v2",De=new Re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(F){return F instanceof Re.ZR&&F.code.includes("request-failed")}function ot({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function Ze(F){return{token:F.token,requestStatus:2,expiresIn:ye(F.expiresIn),creationTime:Date.now()}}function ze(F,H){return $e.apply(this,arguments)}function $e(){return($e=(0,q.Z)(function*(F,H){const Ne=(yield H.json()).error;return De.create("request-failed",{requestName:F,serverCode:Ne.code,serverMessage:Ne.message,serverStatus:Ne.status})})).apply(this,arguments)}function Ke({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function ee(F,{refreshToken:H}){const ae=Ke(F);return ae.append("Authorization",function ge(F){return`${Pe} ${F}`}(H)),ae}function Qe(F){return he.apply(this,arguments)}function he(){return(he=(0,q.Z)(function*(F){const H=yield F();return H.status>=500&&H.status<600?F():H})).apply(this,arguments)}function ye(F){return Number(F.replace("s","000"))}function Ae(F,H){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,q.Z)(function*({appConfig:F,heartbeatServiceProvider:H},{fid:ae}){const Ne=ot(F),mt=Ke(F),Rt=H.getImmediate({optional:!0});if(Rt){const $n=yield Rt.getHeartbeatsHeader();$n&&mt.append("x-firebase-client",$n)}const dn={method:"POST",headers:mt,body:JSON.stringify({fid:ae,authVersion:Pe,appId:F.appId,sdkVersion:Te})},gr=yield Qe(()=>fetch(Ne,dn));if(gr.ok){const $n=yield gr.json();return{fid:$n.fid||ae,registrationStatus:2,refreshToken:$n.refreshToken,authToken:Ze($n.authToken)}}throw yield ze("Create Installation",gr)})).apply(this,arguments)}function pt(F){return new Promise(H=>{setTimeout(H,F)})}const yt=/^[cdef][\w-]{21}$/;function We(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const ae=function Ct(F){return function Gt(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return yt.test(ae)?ae:""}catch(F){return""}}function ft(F){return`${F.appName}!${F.appId}`}const Et=new Map;function lt(F,H){const ae=ft(F);wt(ae,H),function Pn(F,H){const ae=function yn(){return!Cn&&"BroadcastChannel"in self&&(Cn=new BroadcastChannel("[Firebase] FID Change"),Cn.onmessage=F=>{wt(F.data.key,F.data.fid)}),Cn}();ae&&ae.postMessage({key:F,fid:H}),function fn(){0===Et.size&&Cn&&(Cn.close(),Cn=null)}()}(ae,H)}function wt(F,H){const ae=Et.get(F);if(ae)for(const Ne of ae)Ne(H)}let Cn=null;const Ln="firebase-installations-store";let kn=null;function _n(){return kn||(kn=(0,Ce.X3)("firebase-installations-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(Ln)}})),kn}function qr(F,H){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,q.Z)(function*(F,H){const ae=ft(F),mt=(yield _n()).transaction(Ln,"readwrite"),Rt=mt.objectStore(Ln),tn=yield Rt.get(ae);return yield Rt.put(H,ae),yield mt.done,(!tn||tn.fid!==H.fid)&&lt(F,H.fid),H})).apply(this,arguments)}function Yn(F){return $r.apply(this,arguments)}function $r(){return($r=(0,q.Z)(function*(F){const H=ft(F),Ne=(yield _n()).transaction(Ln,"readwrite");yield Ne.objectStore(Ln).delete(H),yield Ne.done})).apply(this,arguments)}function fi(F,H){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,q.Z)(function*(F,H){const ae=ft(F),mt=(yield _n()).transaction(Ln,"readwrite"),Rt=mt.objectStore(Ln),tn=yield Rt.get(ae),dn=H(tn);return void 0===dn?yield Rt.delete(ae):yield Rt.put(dn,ae),yield mt.done,dn&&(!tn||tn.fid!==dn.fid)&&lt(F,dn.fid),dn})).apply(this,arguments)}function qe(F){return Je.apply(this,arguments)}function Je(){return(Je=(0,q.Z)(function*(F){let H;const ae=yield fi(F.appConfig,Ne=>{const mt=At(Ne),Rt=vt(F,mt);return H=Rt.registrationPromise,Rt.installationEntry});return""===ae.fid?{installationEntry:yield H}:{installationEntry:ae,registrationPromise:H}})).apply(this,arguments)}function At(F){return ei(F||{fid:We(),registrationStatus:0})}function vt(F,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(De.create("app-offline"))};const ae={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Ne=function Wt(F,H){return It.apply(this,arguments)}(F,ae);return{installationEntry:ae,registrationPromise:Ne}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:Un(F)}:{installationEntry:H}}function It(){return(It=(0,q.Z)(function*(F,H){try{const ae=yield Ae(F,H);return qr(F.appConfig,ae)}catch(ae){throw st(ae)&&409===ae.customData.serverCode?yield Yn(F.appConfig):yield qr(F.appConfig,{fid:H.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Un(F){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,q.Z)(function*(F){let H=yield pn(F.appConfig);for(;1===H.registrationStatus;)yield pt(100),H=yield pn(F.appConfig);if(0===H.registrationStatus){const{installationEntry:ae,registrationPromise:Ne}=yield qe(F);return Ne||ae}return H})).apply(this,arguments)}function pn(F){return fi(F,H=>{if(!H)throw De.create("installation-not-found");return ei(H)})}function ei(F){return function hr(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function Ar(F,H){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,q.Z)(function*({appConfig:F,heartbeatServiceProvider:H},ae){const Ne=je(F,ae),mt=ee(F,ae),Rt=H.getImmediate({optional:!0});if(Rt){const $n=yield Rt.getHeartbeatsHeader();$n&&mt.append("x-firebase-client",$n)}const dn={method:"POST",headers:mt,body:JSON.stringify({installation:{sdkVersion:Te,appId:F.appId}})},gr=yield Qe(()=>fetch(Ne,dn));if(gr.ok)return Ze(yield gr.json());throw yield ze("Generate Auth Token",gr)})).apply(this,arguments)}function je(F,{fid:H}){return`${ot(F)}/${H}/authTokens:generate`}function Xe(F){return xt.apply(this,arguments)}function xt(){return(xt=(0,q.Z)(function*(F,H=!1){let ae;const Ne=yield fi(F.appConfig,Rt=>{if(!wn(Rt))throw De.create("not-registered");const tn=Rt.authToken;if(!H&&Er(tn))return Rt;if(1===tn.requestStatus)return ae=Be(F,H),Rt;{if(!navigator.onLine)throw De.create("app-offline");const dn=rr(Rt);return ae=rn(F,dn),dn}});return ae?yield ae:Ne.authToken})).apply(this,arguments)}function Be(F,H){return gt.apply(this,arguments)}function gt(){return(gt=(0,q.Z)(function*(F,H){let ae=yield Ht(F.appConfig);for(;1===ae.authToken.requestStatus;)yield pt(100),ae=yield Ht(F.appConfig);const Ne=ae.authToken;return 0===Ne.requestStatus?Xe(F,H):Ne})).apply(this,arguments)}function Ht(F){return fi(F,H=>{if(!wn(H))throw De.create("not-registered");return function Pr(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function rn(F,H){return vn.apply(this,arguments)}function vn(){return(vn=(0,q.Z)(function*(F,H){try{const ae=yield Ar(F,H),Ne=Object.assign(Object.assign({},H),{authToken:ae});return yield qr(F.appConfig,Ne),ae}catch(ae){if(!st(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Ne=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield qr(F.appConfig,Ne)}else yield Yn(F.appConfig);throw ae}})).apply(this,arguments)}function wn(F){return void 0!==F&&2===F.registrationStatus}function Er(F){return 2===F.requestStatus&&!function In(F){const H=Date.now();return H<F.creationTime||F.creationTime+F.expiresIn<H+36e5}(F)}function rr(F){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:H})}function Hr(){return(Hr=(0,q.Z)(function*(F){const H=F,{installationEntry:ae,registrationPromise:Ne}=yield qe(H);return Ne?Ne.catch(console.error):Xe(H).catch(console.error),ae.fid})).apply(this,arguments)}function wi(){return(wi=(0,q.Z)(function*(F,H=!1){const ae=F;return yield Yr(ae),(yield Xe(ae,H)).token})).apply(this,arguments)}function Yr(F){return jr.apply(this,arguments)}function jr(){return(jr=(0,q.Z)(function*(F){const{registrationPromise:H}=yield qe(F);H&&(yield H)})).apply(this,arguments)}function oi(F){return De.create("missing-app-config-values",{valueName:F})}const jn="installations",cn=F=>{const H=F.getProvider("app").getImmediate(),ae=function Lr(F){if(!F||!F.options)throw oi("App Configuration");if(!F.name)throw oi("App Name");const H=["projectId","apiKey","appId"];for(const ae of H)if(!F.options[ae])throw oi(ae);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(H);return{app:H,appConfig:ae,heartbeatServiceProvider:(0,Me._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},Zn=F=>{const H=F.getProvider("app").getImmediate(),ae=(0,Me._getProvider)(H,jn).getImmediate();return{getId:()=>function Fi(F){return Hr.apply(this,arguments)}(ae),getToken:mt=>function Bn(F){return wi.apply(this,arguments)}(ae,mt)}};(function Zr(){(0,Me._registerComponent)(new Ee.wA(jn,cn,"PUBLIC")),(0,Me._registerComponent)(new Ee.wA("installations-internal",Zn,"PRIVATE"))})(),(0,Me.registerVersion)(ke,"0.5.9"),(0,Me.registerVersion)(ke,"0.5.9","esm2017");const ai="@firebase/remote-config",xr=new Re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class An{constructor(H,ae,Ne,mt){this.client=H,this.storage=ae,this.storageCache=Ne,this.logger=mt}isCachedDataFresh(H,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ne=Date.now()-ae,mt=Ne<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${mt}.`),mt}fetch(H){var ae=this;return(0,q.Z)(function*(){const[Ne,mt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(mt&&ae.isCachedDataFresh(H.cacheMaxAgeMillis,Ne))return mt;H.eTag=mt&&mt.eTag;const Rt=yield ae.client.fetch(H),tn=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Rt.status&&tn.push(ae.storage.setLastSuccessfulFetchResponse(Rt)),yield Promise.all(tn),Rt})()}}function Xn(F=navigator){return F.languages&&F.languages[0]||F.language}class nr{constructor(H,ae,Ne,mt,Rt,tn){this.firebaseInstallations=H,this.sdkVersion=ae,this.namespace=Ne,this.projectId=mt,this.apiKey=Rt,this.appId=tn}fetch(H){var ae=this;return(0,q.Z)(function*(){const[Ne,mt]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),tn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},gr={sdk_version:ae.sdkVersion,app_instance_id:Ne,app_instance_id_token:mt,app_id:ae.appId,language_code:Xn()},$n={method:"POST",headers:dn,body:JSON.stringify(gr)},Wr=fetch(tn,$n),Rn=new Promise((Fa,Do)=>{H.signal.addEventListener(()=>{const La=new Error("The operation was aborted.");La.name="AbortError",Do(La)})});let qs;try{yield Promise.race([Wr,Rn]),qs=yield Wr}catch(Fa){let Do="fetch-client-network";throw"AbortError"===Fa.name&&(Do="fetch-timeout"),xr.create(Do,{originalErrorMessage:Fa.message})}let si=qs.status;const hi=qs.headers.get("ETag")||void 0;let wa,ao;if(200===qs.status){let Fa;try{Fa=yield qs.json()}catch(Do){throw xr.create("fetch-client-parse",{originalErrorMessage:Do.message})}wa=Fa.entries,ao=Fa.state}if("INSTANCE_STATE_UNSPECIFIED"===ao?si=500:"NO_CHANGE"===ao?si=304:("NO_TEMPLATE"===ao||"EMPTY_CONFIG"===ao)&&(wa={}),304!==si&&200!==si)throw xr.create("fetch-status",{httpStatus:si});return{status:si,eTag:hi,config:wa}})()}}class nt{constructor(H,ae){this.client=H,this.storage=ae}fetch(H){var ae=this;return(0,q.Z)(function*(){const Ne=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(H,Ne)})()}attemptFetch(H,{throttleEndTimeMillis:ae,backoffCount:Ne}){var mt=this;return(0,q.Z)(function*(){yield function ci(F,H){return new Promise((ae,Ne)=>{const mt=Math.max(H-Date.now(),0),Rt=setTimeout(ae,mt);F.addEventListener(()=>{clearTimeout(Rt),Ne(xr.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,ae);try{const Rt=yield mt.client.fetch(H);return yield mt.storage.deleteThrottleMetadata(),Rt}catch(Rt){if(!function Ii(F){if(!(F instanceof Re.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Rt))throw Rt;const tn={throttleEndTimeMillis:Date.now()+(0,Re.$s)(Ne),backoffCount:Ne+1};return yield mt.storage.setThrottleMetadata(tn),mt.attemptFetch(H,tn)}})()}}class zt{constructor(H,ae,Ne,mt,Rt){this.app=H,this._client=ae,this._storageCache=Ne,this._storage=mt,this._logger=Rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xt(F,H){const ae=F.target.error||void 0;return xr.create(H,{originalErrorMessage:ae&&ae.message})}const gn="app_namespace_store";class is{constructor(H,ae,Ne,mt=function Ir(){return new Promise((F,H)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=Ne=>{H(Xt(Ne,"storage-open"))},ae.onsuccess=Ne=>{F(Ne.target.result)},ae.onupgradeneeded=Ne=>{0===Ne.oldVersion&&Ne.target.result.createObjectStore(gn,{keyPath:"compositeKey"})}}catch(ae){H(xr.create("storage-open",{originalErrorMessage:ae}))}})}()){this.appId=H,this.appName=ae,this.namespace=Ne,this.openDbPromise=mt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var ae=this;return(0,q.Z)(function*(){const Ne=yield ae.openDbPromise;return new Promise((mt,Rt)=>{const dn=Ne.transaction([gn],"readonly").objectStore(gn),gr=ae.createCompositeKey(H);try{const $n=dn.get(gr);$n.onerror=Wr=>{Rt(Xt(Wr,"storage-get"))},$n.onsuccess=Wr=>{const Rn=Wr.target.result;mt(Rn?Rn.value:void 0)}}catch($n){Rt(xr.create("storage-get",{originalErrorMessage:$n&&$n.message}))}})})()}set(H,ae){var Ne=this;return(0,q.Z)(function*(){const mt=yield Ne.openDbPromise;return new Promise((Rt,tn)=>{const gr=mt.transaction([gn],"readwrite").objectStore(gn),$n=Ne.createCompositeKey(H);try{const Wr=gr.put({compositeKey:$n,value:ae});Wr.onerror=Rn=>{tn(Xt(Rn,"storage-set"))},Wr.onsuccess=()=>{Rt()}}catch(Wr){tn(xr.create("storage-set",{originalErrorMessage:Wr&&Wr.message}))}})})()}delete(H){var ae=this;return(0,q.Z)(function*(){const Ne=yield ae.openDbPromise;return new Promise((mt,Rt)=>{const dn=Ne.transaction([gn],"readwrite").objectStore(gn),gr=ae.createCompositeKey(H);try{const $n=dn.delete(gr);$n.onerror=Wr=>{Rt(Xt(Wr,"storage-delete"))},$n.onsuccess=()=>{mt()}}catch($n){Rt(xr.create("storage-delete",{originalErrorMessage:$n&&$n.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class js{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,q.Z)(function*(){const ae=H.storage.getLastFetchStatus(),Ne=H.storage.getLastSuccessfulFetchTimestampMillis(),mt=H.storage.getActiveConfig(),Rt=yield ae;Rt&&(H.lastFetchStatus=Rt);const tn=yield Ne;tn&&(H.lastSuccessfulFetchTimestampMillis=tn);const dn=yield mt;dn&&(H.activeConfig=dn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function Qs(){return fo.apply(this,arguments)}function fo(){return(fo=(0,q.Z)(function*(){if(!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch(F){return!1}})).apply(this,arguments)}!function Ai(){(0,Me._registerComponent)(new Ee.wA("remote-config",function F(H,{instanceIdentifier:ae}){const Ne=H.getProvider("app").getImmediate(),mt=H.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xr.create("registration-window");if(!(0,Re.hl)())throw xr.create("indexed-db-unavailable");const{projectId:Rt,apiKey:tn,appId:dn}=Ne.options;if(!Rt)throw xr.create("registration-project-id");if(!tn)throw xr.create("registration-api-key");if(!dn)throw xr.create("registration-app-id");const gr=new is(dn,Ne.name,ae=ae||"firebase"),$n=new js(gr),Wr=new ve.Yd(ai);Wr.logLevel=ve.in.ERROR;const Rn=new nr(mt,Me.SDK_VERSION,ae,Rt,tn,dn),qs=new nt(Rn,gr),si=new An(qs,gr,$n,Wr),hi=new zt(Ne,si,$n,gr,Wr);return function pe(F){const H=(0,Re.m9)(F);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(hi),hi},"PUBLIC").setMultipleInstances(!0)),(0,Me.registerVersion)(ai,"0.3.8"),(0,Me.registerVersion)(ai,"0.3.8","esm2017")}();const Ho="/firebase-messaging-sw.js",Pi="/firebase-cloud-messaging-push-scope",Jr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ws="google.c.a.c_id",Is="google.c.a.c_l",Go="google.c.a.ts",Hs="google.c.a.e";var Js=(()=>{return(F=Js||(Js={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Js;var F})();function Bi(F){const H=new Uint8Array(F);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eo(F){const ae=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ne=atob(ae),mt=new Uint8Array(Ne.length);for(let Rt=0;Rt<Ne.length;++Rt)mt[Rt]=Ne.charCodeAt(Rt);return mt}const Dr="fcm_token_details_db",as="fcm_token_object_Store";function Xi(F){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,q.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Rt=>Rt.name).includes(Dr))return null;let H=null;return(yield(0,Ce.X3)(Dr,5,{upgrade:(Ne=(0,q.Z)(function*(mt,Rt,tn,dn){var gr;if(Rt<2||!mt.objectStoreNames.contains(as))return;const $n=dn.objectStore(as),Wr=yield $n.index("fcmSenderId").get(F);if(yield $n.clear(),Wr)if(2===Rt){const Rn=Wr;if(!Rn.auth||!Rn.p256dh||!Rn.endpoint)return;H={token:Rn.fcmToken,createTime:null!==(gr=Rn.createTime)&&void 0!==gr?gr:Date.now(),subscriptionOptions:{auth:Rn.auth,p256dh:Rn.p256dh,endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:"string"==typeof Rn.vapidKey?Rn.vapidKey:Bi(Rn.vapidKey)}}}else if(3===Rt){const Rn=Wr;H={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:Bi(Rn.auth),p256dh:Bi(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:Bi(Rn.vapidKey)}}}else if(4===Rt){const Rn=Wr;H={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:Bi(Rn.auth),p256dh:Bi(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:Bi(Rn.vapidKey)}}}}),function(Rt,tn,dn,gr){return Ne.apply(this,arguments)})})).close(),yield(0,Ce.Lj)(Dr),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),Oo(H)?H:null;var Ne}),Qi.apply(this,arguments)}function Oo(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:H}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const ls="firebase-messaging-store";let Cs=null;function yr(){return Cs||(Cs=(0,Ce.X3)("firebase-messaging-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(ls)}})),Cs}function V(F){return se.apply(this,arguments)}function se(){return(se=(0,q.Z)(function*(F){const H=qt(F),Ne=yield(yield yr()).transaction(ls).objectStore(ls).get(H);if(Ne)return Ne;{const mt=yield Xi(F.appConfig.senderId);if(mt)return yield U(F,mt),mt}})).apply(this,arguments)}function U(F,H){return ue.apply(this,arguments)}function ue(){return(ue=(0,q.Z)(function*(F,H){const ae=qt(F),mt=(yield yr()).transaction(ls,"readwrite");return yield mt.objectStore(ls).put(H,ae),yield mt.done,H})).apply(this,arguments)}function Ue(F){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,q.Z)(function*(F){const H=qt(F),Ne=(yield yr()).transaction(ls,"readwrite");yield Ne.objectStore(ls).delete(H),yield Ne.done})).apply(this,arguments)}function qt({appConfig:F}){return F.appId}const On=new Re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qn(F,H){return ir.apply(this,arguments)}function ir(){return(ir=(0,q.Z)(function*(F,H){const ae=yield es(F),Ne=xs(H),mt={method:"POST",headers:ae,body:JSON.stringify(Ne)};let Rt;try{Rt=yield(yield fetch(Ns(F.appConfig),mt)).json()}catch(tn){throw On.create("token-subscribe-failed",{errorInfo:tn})}if(Rt.error)throw On.create("token-subscribe-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw On.create("token-subscribe-no-token");return Rt.token})).apply(this,arguments)}function cr(F,H){return di.apply(this,arguments)}function di(){return(di=(0,q.Z)(function*(F,H){const ae=yield es(F),Ne=xs(H.subscriptionOptions),mt={method:"PATCH",headers:ae,body:JSON.stringify(Ne)};let Rt;try{Rt=yield(yield fetch(`${Ns(F.appConfig)}/${H.token}`,mt)).json()}catch(tn){throw On.create("token-update-failed",{errorInfo:tn})}if(Rt.error)throw On.create("token-update-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw On.create("token-update-no-token");return Rt.token})).apply(this,arguments)}function Br(F,H){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,q.Z)(function*(F,H){const Ne={method:"DELETE",headers:yield es(F)};try{const Rt=yield(yield fetch(`${Ns(F.appConfig)}/${H}`,Ne)).json();if(Rt.error)throw On.create("token-unsubscribe-failed",{errorInfo:Rt.error.message})}catch(mt){throw On.create("token-unsubscribe-failed",{errorInfo:mt})}})).apply(this,arguments)}function Ns({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function es(F){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,q.Z)(function*({appConfig:F,installations:H}){const ae=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function xs({p256dh:F,auth:H,endpoint:ae,vapidKey:Ne}){const mt={web:{endpoint:ae,auth:H,p256dh:F}};return Ne!==Jr&&(mt.web.applicationPubKey=Ne),mt}const zo=6048e5;function Po(F){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,q.Z)(function*(F){const H=yield E(F.swRegistration,F.vapidKey),ae={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:H.endpoint,auth:Bi(H.getKey("auth")),p256dh:Bi(H.getKey("p256dh"))},Ne=yield V(F.firebaseDependencies);if(Ne){if(w(Ne.subscriptionOptions,ae))return Date.now()>=Ne.createTime+zo?N(F,{token:Ne.token,createTime:Date.now(),subscriptionOptions:ae}):Ne.token;try{yield Br(F.firebaseDependencies,Ne.token)}catch(mt){console.warn(mt)}return Tt(F.firebaseDependencies,ae)}return Tt(F.firebaseDependencies,ae)})).apply(this,arguments)}function z(F){return L.apply(this,arguments)}function L(){return(L=(0,q.Z)(function*(F){const H=yield V(F.firebaseDependencies);H&&(yield Br(F.firebaseDependencies,H.token),yield Ue(F.firebaseDependencies));const ae=yield F.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function N(F,H){return Y.apply(this,arguments)}function Y(){return(Y=(0,q.Z)(function*(F,H){try{const ae=yield cr(F.firebaseDependencies,H),Ne=Object.assign(Object.assign({},H),{token:ae,createTime:Date.now()});return yield U(F.firebaseDependencies,Ne),ae}catch(ae){throw yield z(F),ae}})).apply(this,arguments)}function Tt(F,H){return En.apply(this,arguments)}function En(){return(En=(0,q.Z)(function*(F,H){const Ne={token:yield Qn(F,H),createTime:Date.now(),subscriptionOptions:H};return yield U(F,Ne),Ne.token})).apply(this,arguments)}function E(F,H){return G.apply(this,arguments)}function G(){return(G=(0,q.Z)(function*(F,H){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eo(H)})})).apply(this,arguments)}function w(F,H){return H.vapidKey===F.vapidKey&&H.endpoint===F.endpoint&&H.auth===F.auth&&H.p256dh===F.p256dh}function B(F){const H={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function ce(F,H){if(!H.notification)return;F.notification={};const ae=H.notification.title;ae&&(F.notification.title=ae);const Ne=H.notification.body;Ne&&(F.notification.body=Ne);const mt=H.notification.image;mt&&(F.notification.image=mt)}(H,F),function Ot(F,H){!H.data||(F.data=H.data)}(H,F),function an(F,H){if(!H.fcmOptions)return;F.fcmOptions={};const ae=H.fcmOptions.link;ae&&(F.fcmOptions.link=ae);const Ne=H.fcmOptions.analytics_label;Ne&&(F.fcmOptions.analyticsLabel=Ne)}(H,F),H}function Mn(F){return"object"==typeof F&&!!F&&ws in F}function Jn(F,H){const ae=[];for(let Ne=0;Ne<F.length;Ne++)ae.push(F.charAt(Ne)),Ne<H.length&&ae.push(H.charAt(Ne));return ae.join("")}function er(F){return On.create("missing-app-config-values",{valueName:F})}Jn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ti{constructor(H,ae,Ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const mt=function Ur(F){if(!F||!F.options)throw er("App Configuration Object");if(!F.name)throw er("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=F;for(const Ne of H)if(!ae[Ne])throw er(Ne);return{appName:F.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:mt,installations:ae,analyticsProvider:Ne}}_delete(){return Promise.resolve()}}function Ds(F){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,q.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(Ho,{scope:Pi}),F.swRegistration.update().catch(()=>{})}catch(H){throw On.create("failed-service-worker-registration",{browserErrorMessage:H.message})}})).apply(this,arguments)}function ji(F,H){return to.apply(this,arguments)}function to(){return(to=(0,q.Z)(function*(F,H){if(!H&&!F.swRegistration&&(yield Ds(F)),H||!F.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");F.swRegistration=H}})).apply(this,arguments)}function ni(F,H){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,q.Z)(function*(F,H){H?F.vapidKey=H:F.vapidKey||(F.vapidKey=Jr)})).apply(this,arguments)}function Qa(){return(Qa=(0,q.Z)(function*(F,H){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield ni(F,null==H?void 0:H.vapidKey),yield ji(F,null==H?void 0:H.serviceWorkerRegistration),Po(F)})).apply(this,arguments)}function Ja(F,H,ae){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,q.Z)(function*(F,H,ae){const Ne=Ma(H);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(Ne,{message_id:ae[ws],message_name:ae[Is],message_time:ae[Go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ma(F){switch(F){case Js.NOTIFICATION_CLICKED:return"notification_open";case Js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fa(){return(fa=(0,q.Z)(function*(F,H){const ae=H.data;if(!ae.isFirebaseMessaging)return;F.onMessageHandler&&ae.messageType===Js.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(B(ae)):F.onMessageHandler.next(B(ae)));const Ne=ae.data;Mn(Ne)&&"1"===Ne[Hs]&&(yield Ja(F,ae.messageType,Ne))})).apply(this,arguments)}const ko="@firebase/messaging",Wo=F=>{const H=new ti(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Vl(F,H){return fa.apply(this,arguments)}(H,ae)),H},pa=F=>{const H=F.getProvider("messaging").getImmediate();return{getToken:Ne=>function Bl(F,H){return Qa.apply(this,arguments)}(H,Ne)}};function ra(){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,q.Z)(function*(){try{yield(0,Re.eu)()}catch(F){return!1}return"undefined"!=typeof window&&(0,Re.hl)()&&(0,Re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wu(){(0,Me._registerComponent)(new Ee.wA("messaging",Wo,"PUBLIC")),(0,Me._registerComponent)(new Ee.wA("messaging-internal",pa,"PRIVATE")),(0,Me.registerVersion)(ko,"0.9.13"),(0,Me.registerVersion)(ko,"0.9.13","esm2017")}();const ma="analytics",Md="firebase_id",Eo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",us="https://www.googletagmanager.com/gtag/js",ns=new ve.Yd("@firebase/analytics");function Hl(F){return Promise.all(F.map(H=>H.catch(ae=>ae)))}function wo(F,H){const ae=document.createElement("script");ae.src=`${us}?l=${F}&id=${H}`,ae.async=!0,document.head.appendChild(ae)}function ia(F,H,ae,Ne,mt,Rt){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,q.Z)(function*(F,H,ae,Ne,mt,Rt){const tn=Ne[mt];try{if(tn)yield H[tn];else{const gr=(yield Hl(ae)).find($n=>$n.measurementId===mt);gr&&(yield H[gr.appId])}}catch(dn){ns.error(dn)}F("config",mt,Rt)})).apply(this,arguments)}function tl(F,H,ae,Ne,mt){return sa.apply(this,arguments)}function sa(){return(sa=(0,q.Z)(function*(F,H,ae,Ne,mt){try{let Rt=[];if(mt&&mt.send_to){let tn=mt.send_to;Array.isArray(tn)||(tn=[tn]);const dn=yield Hl(ae);for(const gr of tn){const $n=dn.find(Rn=>Rn.measurementId===gr),Wr=$n&&H[$n.appId];if(!Wr){Rt=[];break}Rt.push(Wr)}}0===Rt.length&&(Rt=Object.values(H)),yield Promise.all(Rt),F("event",Ne,mt||{})}catch(Rt){ns.error(Rt)}})).apply(this,arguments)}function Vc(){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(us))return H;return null}const ps=new Re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fo=new class ro{constructor(H={},ae=1e3){this.throttleMetadata=H,this.intervalMillis=ae}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,ae){this.throttleMetadata[H]=ae}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function bu(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function Io(F){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,q.Z)(function*(F){var H;const{appId:ae,apiKey:Ne}=F,mt={method:"GET",headers:bu(Ne)},Rt=Eo.replace("{app-id}",ae),tn=yield fetch(Rt,mt);if(200!==tn.status&&304!==tn.status){let dn="";try{const gr=yield tn.json();(null===(H=gr.error)||void 0===H?void 0:H.message)&&(dn=gr.error.message)}catch(gr){}throw ps.create("config-fetch-failed",{httpStatus:tn.status,responseMessage:dn})}return tn.json()})).apply(this,arguments)}function Ci(F){return rl.apply(this,arguments)}function rl(){return(rl=(0,q.Z)(function*(F,H=Fo,ae){const{appId:Ne,apiKey:mt,measurementId:Rt}=F.options;if(!Ne)throw ps.create("no-app-id");if(!mt){if(Rt)return{measurementId:Rt,appId:Ne};throw ps.create("no-api-key")}const tn=H.getThrottleMetadata(Ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new Du;return setTimeout((0,q.Z)(function*(){dn.abort()}),void 0!==ae?ae:6e4),ya({appId:Ne,apiKey:mt,measurementId:Rt},tn,dn,H)})).apply(this,arguments)}function ya(F,H,ae){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,q.Z)(function*(F,{throttleEndTimeMillis:H,backoffCount:ae},Ne,mt=Fo){const{appId:Rt,measurementId:tn}=F;try{yield Ko(Ne,H)}catch(dn){if(tn)return ns.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tn} provided in the "measurementId" field in the local Firebase config. [${dn.message}]`),{appId:Rt,measurementId:tn};throw dn}try{const dn=yield Io(F);return mt.deleteThrottleMetadata(Rt),dn}catch(dn){if(!bo(dn)){if(mt.deleteThrottleMetadata(Rt),tn)return ns.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tn} provided in the "measurementId" field in the local Firebase config. [${dn.message}]`),{appId:Rt,measurementId:tn};throw dn}const gr=503===Number(dn.customData.httpStatus)?(0,Re.$s)(ae,mt.intervalMillis,30):(0,Re.$s)(ae,mt.intervalMillis),$n={throttleEndTimeMillis:Date.now()+gr,backoffCount:ae+1};return mt.setThrottleMetadata(Rt,$n),ns.debug(`Calling attemptFetch again in ${gr} millis`),ya(F,$n,Ne,mt)}})).apply(this,arguments)}function Ko(F,H){return new Promise((ae,Ne)=>{const mt=Math.max(H-Date.now(),0),Rt=setTimeout(ae,mt);F.addEventListener(()=>{clearTimeout(Rt),Ne(ps.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function bo(F){if(!(F instanceof Re.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Du{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}function Tu(){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,q.Z)(function*(){if(!(0,Re.hl)())return ns.warn(ps.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Re.eu)()}catch(F){return ns.warn(ps.create("indexeddb-unavailable",{errorInfo:F}).message),!1}return!0})).apply(this,arguments)}function oa(){return(oa=(0,q.Z)(function*(F,H,ae,Ne,mt,Rt,tn){var dn;const gr=Ci(F);gr.then(si=>{ae[si.measurementId]=si.appId,F.options.measurementId&&si.measurementId!==F.options.measurementId&&ns.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(si=>ns.error(si)),H.push(gr);const $n=Tu().then(si=>{if(si)return Ne.getId()}),[Wr,Rn]=yield Promise.all([gr,$n]);Vc()||wo(Rt,Wr.measurementId),mt("js",new Date);const qs=null!==(dn=null==tn?void 0:tn.config)&&void 0!==dn?dn:{};return qs.origin="firebase",qs.update=!0,null!=Rn&&(qs[Md]=Rn),mt("config",Wr.measurementId,qs),Wr.measurementId})).apply(this,arguments)}class M{constructor(H){this.app=H}_delete(){return delete S[this.app.options.appId],Promise.resolve()}}let S={},D=[];const $={};let le,He,j="dataLayer",Vt=!1;function Vn(F,H,ae){!function _r(){const F=[];if((0,Re.ru)()&&F.push("This is a browser extension environment."),(0,Re.zI)()||F.push("Cookies are not available."),F.length>0){const H=F.map((Ne,mt)=>`(${mt+1}) ${Ne}`).join(" "),ae=ps.create("invalid-analytics-context",{errorInfo:H});ns.warn(ae.message)}}();const Ne=F.options.appId;if(!Ne)throw ps.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw ps.create("no-api-key");ns.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=S[Ne])throw ps.create("already-exists",{id:Ne});if(!Vt){!function po(F){let H=[];Array.isArray(window[F])?H=window[F]:window[F]=H}(j);const{wrappedGtag:Rt,gtagCore:tn}=function go(F,H,ae,Ne,mt){let Rt=function(...tn){window[Ne].push(arguments)};return window[mt]&&"function"==typeof window[mt]&&(Rt=window[mt]),window[mt]=function nl(F,H,ae,Ne){function Rt(){return(Rt=(0,q.Z)(function*(tn,dn,gr){try{"event"===tn?yield tl(F,H,ae,dn,gr):"config"===tn?yield ia(F,H,ae,Ne,dn,gr):F("set",dn)}catch($n){ns.error($n)}})).apply(this,arguments)}return function mt(tn,dn,gr){return Rt.apply(this,arguments)}}(Rt,F,H,ae),{gtagCore:Rt,wrappedGtag:window[mt]}}(S,D,$,j,"gtag");He=Rt,le=tn,Vt=!0}return S[Ne]=function ki(F,H,ae,Ne,mt,Rt,tn){return oa.apply(this,arguments)}(F,D,$,H,le,j,ae),new M(F)}function Xr(){return(Xr=(0,q.Z)(function*(F,H,ae,Ne,mt){if(mt&&mt.global)F("event",ae,Ne);else{const Rt=yield H;F("event",ae,Object.assign(Object.assign({},Ne),{send_to:Rt}))}})).apply(this,arguments)}function ar(){return va.apply(this,arguments)}function va(){return(va=(0,q.Z)(function*(){if((0,Re.ru)()||!(0,Re.zI)()||!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch(F){return!1}})).apply(this,arguments)}const Hi="@firebase/analytics";!function wh(){(0,Me._registerComponent)(new Ee.wA(ma,(H,{options:ae})=>Vn(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,Me._registerComponent)(new Ee.wA("analytics-internal",function F(H){try{const ae=H.getProvider(ma).getImmediate();return{logEvent:(Ne,mt,Rt)=>function Xu(F,H,ae,Ne){F=(0,Re.m9)(F),function zr(F,H,ae,Ne,mt){return Xr.apply(this,arguments)}(He,S[F.app.options.appId],H,ae,Ne).catch(mt=>ns.error(mt))}(ae,Ne,mt,Rt)}}catch(ae){throw ps.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,Me.registerVersion)(Hi,"0.7.9"),(0,Me.registerVersion)(Hi,"0.7.9","esm2017")}();var Nr=P(4408),vi=P(7565);const xi=new class ii extends vi.v{}(class Qu extends Nr.o{constructor(H,ae){super(H,ae),this.scheduler=H,this.work=ae}schedule(H,ae=0){return ae>0?super.schedule(H,ae):(this.delay=ae,this.state=H,this.scheduler.flush(this),this)}execute(H,ae){return ae>0||this.closed?super.execute(H,ae):this._execute(H,ae)}requestAsyncId(H,ae,Ne=0){return null!=Ne&&Ne>0||null==Ne&&this.delay>0?super.requestAsyncId(H,ae,Ne):(H.flush(this),0)}});var pl=P(4986),io=P(8505),gs=P(5363),ds=P(9468);const so=new c.GfV("7.3.0"),aa="__angularfire_symbol__analyticsIsSupportedValue",la="__angularfire_symbol__analyticsIsSupported",un="__angularfire_symbol__remoteConfigIsSupportedValue",zs="__angularfire_symbol__remoteConfigIsSupported",qi="__angularfire_symbol__messagingIsSupportedValue",ka="__angularfire_symbol__messagingIsSupported";function Kl(F,H,ae){if(H){if(1===H.length)return H[0];const Rt=H.filter(tn=>tn.app===ae);if(1===Rt.length)return Rt[0]}return ae.container.getProvider(F).getImmediate({optional:!0})}globalThis[la]||(globalThis[la]=ar().then(F=>globalThis[aa]=F).catch(()=>globalThis[aa]=!1)),globalThis[ka]||(globalThis[ka]=ra().then(F=>globalThis[qi]=F).catch(()=>globalThis[qi]=!1)),globalThis[zs]||(globalThis[zs]=Qs().then(F=>globalThis[un]=F).catch(()=>globalThis[un]=!1));const ql=(F,H)=>{const ae=H?[H]:(0,J.C6)(),Ne=[];return ae.forEach(mt=>{mt.container.getProvider(F).instances.forEach(tn=>{Ne.includes(tn)||Ne.push(tn)})}),Ne};function Ws(){}class Na{constructor(H,ae=xi){this.zone=H,this.delegate=ae}now(){return this.delegate.now()}schedule(H,ae,Ne){const mt=this.zone;return this.delegate.schedule(function(tn){mt.runGuarded(()=>{H.apply(this,[tn])})},ae,Ne)}}class ml{constructor(H){this.zone=H,this.task=null}call(H,ae){const Ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ws,{},Ws,Ws)),ae.pipe((0,io.b)({next:Ne,complete:Ne,error:Ne})).subscribe(H).add(Ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yl=(()=>{class F{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Na(Zone.current)),this.insideAngular=ae.run(()=>new Na(Zone.current,pl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(ae){return new(ae||F)(c.LFG(c.R0b))},F.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Ea(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Yo(F){return F.pipe((0,gs.Q)(Ea().outsideAngular))}function _l(F){return Ea(),function vl(F){return function(ae){return(ae=ae.lift(new ml(F.ngZone))).pipe((0,ds.R)(F.outsideAngular),(0,gs.Q)(F.insideAngular))}}(Ea())(F)}},2090:(Zt,at,P)=>{"use strict";P.d(at,{BH:()=>Pe,LL:()=>Ye,ZR:()=>Ae,gQ:()=>Ln,zI:()=>he,hu:()=>J,g5:()=>q,US:()=>Ee,tV:()=>ke,h$:()=>ve,L:()=>Ce,$s:()=>pn,r3:()=>Kt,Sg:()=>Ve,ne:()=>kn,p$:()=>fe,vZ:()=>Cn,ZB:()=>me,gK:()=>fi,pd:()=>tr,m9:()=>Ar,z$:()=>tt,GJ:()=>lt,jU:()=>Le,ru:()=>De,d:()=>ot,xb:()=>wt,w1:()=>Ze,hl:()=>ee,uI:()=>Fe,UG:()=>Se,Yr:()=>$e,b$:()=>st,G6:()=>Ke,Mn:()=>ze,w9:()=>Et,cI:()=>yt,UI:()=>Pn,xO:()=>fn,zd:()=>qn,DV:()=>Nt,ug:()=>vt,dS:()=>At,Pz:()=>ht,Dv:()=>$r,Wj:()=>qe,lb:()=>Je,eu:()=>Qe});const J=function(Ie,je){if(!Ie)throw q(je)},q=function(Ie){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ie)},Me=function(Ie){const je=[];let Xe=0;for(let xt=0;xt<Ie.length;xt++){let Be=Ie.charCodeAt(xt);Be<128?je[Xe++]=Be:Be<2048?(je[Xe++]=Be>>6|192,je[Xe++]=63&Be|128):55296==(64512&Be)&&xt+1<Ie.length&&56320==(64512&Ie.charCodeAt(xt+1))?(Be=65536+((1023&Be)<<10)+(1023&Ie.charCodeAt(++xt)),je[Xe++]=Be>>18|240,je[Xe++]=Be>>12&63|128,je[Xe++]=Be>>6&63|128,je[Xe++]=63&Be|128):(je[Xe++]=Be>>12|224,je[Xe++]=Be>>6&63|128,je[Xe++]=63&Be|128)}return je},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,je){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Xe=je?this.byteToCharMapWebSafe_:this.byteToCharMap_,xt=[];for(let Be=0;Be<Ie.length;Be+=3){const gt=Ie[Be],Ht=Be+1<Ie.length,rn=Ht?Ie[Be+1]:0,vn=Be+2<Ie.length,wn=vn?Ie[Be+2]:0;let rr=(15&rn)<<2|wn>>6,Pr=63&wn;vn||(Pr=64,Ht||(rr=64)),xt.push(Xe[gt>>2],Xe[(3&gt)<<4|rn>>4],Xe[rr],Xe[Pr])}return xt.join("")},encodeString(Ie,je){return this.HAS_NATIVE_SUPPORT&&!je?btoa(Ie):this.encodeByteArray(Me(Ie),je)},decodeString(Ie,je){return this.HAS_NATIVE_SUPPORT&&!je?atob(Ie):function(Ie){const je=[];let Xe=0,xt=0;for(;Xe<Ie.length;){const Be=Ie[Xe++];if(Be<128)je[xt++]=String.fromCharCode(Be);else if(Be>191&&Be<224){const gt=Ie[Xe++];je[xt++]=String.fromCharCode((31&Be)<<6|63&gt)}else if(Be>239&&Be<365){const vn=((7&Be)<<18|(63&Ie[Xe++])<<12|(63&Ie[Xe++])<<6|63&Ie[Xe++])-65536;je[xt++]=String.fromCharCode(55296+(vn>>10)),je[xt++]=String.fromCharCode(56320+(1023&vn))}else{const gt=Ie[Xe++],Ht=Ie[Xe++];je[xt++]=String.fromCharCode((15&Be)<<12|(63&gt)<<6|63&Ht)}}return je.join("")}(this.decodeStringToByteArray(Ie,je))},decodeStringToByteArray(Ie,je){this.init_();const Xe=je?this.charToByteMapWebSafe_:this.charToByteMap_,xt=[];for(let Be=0;Be<Ie.length;){const gt=Xe[Ie.charAt(Be++)],rn=Be<Ie.length?Xe[Ie.charAt(Be)]:0;++Be;const wn=Be<Ie.length?Xe[Ie.charAt(Be)]:64;++Be;const In=Be<Ie.length?Xe[Ie.charAt(Be)]:64;if(++Be,null==gt||null==rn||null==wn||null==In)throw Error();xt.push(gt<<2|rn>>4),64!==wn&&(xt.push(rn<<4&240|wn>>2),64!==In&&xt.push(wn<<6&192|In))}return xt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}},ve=function(Ie){const je=Me(Ie);return Ee.encodeByteArray(je,!0)},Ce=function(Ie){return ve(Ie).replace(/\./g,"")},ke=function(Ie){try{return Ee.decodeString(Ie,!0)}catch(je){console.error("base64Decode failed: ",je)}return null};function fe(Ie){return me(void 0,Ie)}function me(Ie,je){if(!(je instanceof Object))return je;switch(je.constructor){case Date:return new Date(je.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return je}for(const Xe in je)!je.hasOwnProperty(Xe)||!Te(Xe)||(Ie[Xe]=me(Ie[Xe],je[Xe]));return Ie}function Te(Ie){return"__proto__"!==Ie}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((je,Xe)=>{this.resolve=je,this.reject=Xe})}wrapCallback(je){return(Xe,xt)=>{Xe?this.reject(Xe):this.resolve(xt),"function"==typeof je&&(this.promise.catch(()=>{}),1===je.length?je(Xe):je(Xe,xt))}}}function Ve(Ie,je){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xt=je||"demo-project",Be=Ie.iat||0,gt=Ie.sub||Ie.user_id;if(!gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ht=Object.assign({iss:`https://securetoken.google.com/${xt}`,aud:xt,iat:Be,exp:Be+3600,auth_time:Be,sub:gt,user_id:gt,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Ht)),""].join(".")}function tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ie){return!1}}function Le(){return"object"==typeof self&&self.self===self}function De(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){return tt().indexOf("Electron/")>=0}function Ze(){const Ie=tt();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function ze(){return tt().indexOf("MSAppHost/")>=0}function $e(){return!1}function Ke(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){return"object"==typeof indexedDB}function Qe(){return new Promise((Ie,je)=>{try{let Xe=!0;const xt="validate-browser-context-for-indexeddb-analytics-module",Be=self.indexedDB.open(xt);Be.onsuccess=()=>{Be.result.close(),Xe||self.indexedDB.deleteDatabase(xt),Ie(!0)},Be.onupgradeneeded=()=>{Xe=!1},Be.onerror=()=>{var gt;je((null===(gt=Be.error)||void 0===gt?void 0:gt.message)||"")}}catch(Xe){je(Xe)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ae extends Error{constructor(je,Xe,xt){super(Xe),this.code=je,this.customData=xt,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(je,Xe,xt){this.service=je,this.serviceName=Xe,this.errors=xt}create(je,...Xe){const xt=Xe[0]||{},Be=`${this.service}/${je}`,gt=this.errors[je],Ht=gt?function pt(Ie,je){return Ie.replace(Gt,(Xe,xt)=>{const Be=je[xt];return null!=Be?String(Be):`<${xt}?>`})}(gt,xt):"Error";return new Ae(Be,`${this.serviceName}: ${Ht} (${Be}).`,xt)}}const Gt=/\{\$([^}]+)}/g;function yt(Ie){return JSON.parse(Ie)}function ht(Ie){return JSON.stringify(Ie)}const We=function(Ie){let je={},Xe={},xt={},Be="";try{const gt=Ie.split(".");je=yt(ke(gt[0])||""),Xe=yt(ke(gt[1])||""),Be=gt[2],xt=Xe.d||{},delete Xe.d}catch(gt){}return{header:je,claims:Xe,data:xt,signature:Be}},Et=function(Ie){const Xe=We(Ie).claims;return!!Xe&&"object"==typeof Xe&&Xe.hasOwnProperty("iat")},lt=function(Ie){const je=We(Ie).claims;return"object"==typeof je&&!0===je.admin};function Kt(Ie,je){return Object.prototype.hasOwnProperty.call(Ie,je)}function Nt(Ie,je){if(Object.prototype.hasOwnProperty.call(Ie,je))return Ie[je]}function wt(Ie){for(const je in Ie)if(Object.prototype.hasOwnProperty.call(Ie,je))return!1;return!0}function Pn(Ie,je,Xe){const xt={};for(const Be in Ie)Object.prototype.hasOwnProperty.call(Ie,Be)&&(xt[Be]=je.call(Xe,Ie[Be],Be,Ie));return xt}function Cn(Ie,je){if(Ie===je)return!0;const Xe=Object.keys(Ie),xt=Object.keys(je);for(const Be of Xe){if(!xt.includes(Be))return!1;const gt=Ie[Be],Ht=je[Be];if(yn(gt)&&yn(Ht)){if(!Cn(gt,Ht))return!1}else if(gt!==Ht)return!1}for(const Be of xt)if(!Xe.includes(Be))return!1;return!0}function yn(Ie){return null!==Ie&&"object"==typeof Ie}function fn(Ie){const je=[];for(const[Xe,xt]of Object.entries(Ie))Array.isArray(xt)?xt.forEach(Be=>{je.push(encodeURIComponent(Xe)+"="+encodeURIComponent(Be))}):je.push(encodeURIComponent(Xe)+"="+encodeURIComponent(xt));return je.length?"&"+je.join("&"):""}function qn(Ie){const je={};return Ie.replace(/^\?/,"").split("&").forEach(xt=>{if(xt){const[Be,gt]=xt.split("=");je[decodeURIComponent(Be)]=decodeURIComponent(gt)}}),je}function tr(Ie){const je=Ie.indexOf("?");if(!je)return"";const Xe=Ie.indexOf("#",je);return Ie.substring(je,Xe>0?Xe:void 0)}class Ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let je=1;je<this.blockSize;++je)this.pad_[je]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(je,Xe){Xe||(Xe=0);const xt=this.W_;if("string"==typeof je)for(let In=0;In<16;In++)xt[In]=je.charCodeAt(Xe)<<24|je.charCodeAt(Xe+1)<<16|je.charCodeAt(Xe+2)<<8|je.charCodeAt(Xe+3),Xe+=4;else for(let In=0;In<16;In++)xt[In]=je[Xe]<<24|je[Xe+1]<<16|je[Xe+2]<<8|je[Xe+3],Xe+=4;for(let In=16;In<80;In++){const rr=xt[In-3]^xt[In-8]^xt[In-14]^xt[In-16];xt[In]=4294967295&(rr<<1|rr>>>31)}let wn,Er,Be=this.chain_[0],gt=this.chain_[1],Ht=this.chain_[2],rn=this.chain_[3],vn=this.chain_[4];for(let In=0;In<80;In++){In<40?In<20?(wn=rn^gt&(Ht^rn),Er=1518500249):(wn=gt^Ht^rn,Er=1859775393):In<60?(wn=gt&Ht|rn&(gt|Ht),Er=2400959708):(wn=gt^Ht^rn,Er=3395469782);const rr=(Be<<5|Be>>>27)+wn+vn+Er+xt[In]&4294967295;vn=rn,rn=Ht,Ht=4294967295&(gt<<30|gt>>>2),gt=Be,Be=rr}this.chain_[0]=this.chain_[0]+Be&4294967295,this.chain_[1]=this.chain_[1]+gt&4294967295,this.chain_[2]=this.chain_[2]+Ht&4294967295,this.chain_[3]=this.chain_[3]+rn&4294967295,this.chain_[4]=this.chain_[4]+vn&4294967295}update(je,Xe){if(null==je)return;void 0===Xe&&(Xe=je.length);const xt=Xe-this.blockSize;let Be=0;const gt=this.buf_;let Ht=this.inbuf_;for(;Be<Xe;){if(0===Ht)for(;Be<=xt;)this.compress_(je,Be),Be+=this.blockSize;if("string"==typeof je){for(;Be<Xe;)if(gt[Ht]=je.charCodeAt(Be),++Ht,++Be,Ht===this.blockSize){this.compress_(gt),Ht=0;break}}else for(;Be<Xe;)if(gt[Ht]=je[Be],++Ht,++Be,Ht===this.blockSize){this.compress_(gt),Ht=0;break}}this.inbuf_=Ht,this.total_+=Xe}digest(){const je=[];let Xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Be=this.blockSize-1;Be>=56;Be--)this.buf_[Be]=255&Xe,Xe/=256;this.compress_(this.buf_);let xt=0;for(let Be=0;Be<5;Be++)for(let gt=24;gt>=0;gt-=8)je[xt]=this.chain_[Be]>>gt&255,++xt;return je}}function kn(Ie,je){const Xe=new _n(Ie,je);return Xe.subscribe.bind(Xe)}class _n{constructor(je,Xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Xe,this.task.then(()=>{je(this)}).catch(xt=>{this.error(xt)})}next(je){this.forEachObserver(Xe=>{Xe.next(je)})}error(je){this.forEachObserver(Xe=>{Xe.error(je)}),this.close(je)}complete(){this.forEachObserver(je=>{je.complete()}),this.close()}subscribe(je,Xe,xt){let Be;if(void 0===je&&void 0===Xe&&void 0===xt)throw new Error("Missing Observer.");Be=function Wn(Ie,je){if("object"!=typeof Ie||null===Ie)return!1;for(const Xe of je)if(Xe in Ie&&"function"==typeof Ie[Xe])return!0;return!1}(je,["next","error","complete"])?je:{next:je,error:Xe,complete:xt},void 0===Be.next&&(Be.next=Yn),void 0===Be.error&&(Be.error=Yn),void 0===Be.complete&&(Be.complete=Yn);const gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Be.error(this.finalError):Be.complete()}catch(Ht){}}),this.observers.push(Be),gt}unsubscribeOne(je){void 0===this.observers||void 0===this.observers[je]||(delete this.observers[je],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(je){if(!this.finalized)for(let Xe=0;Xe<this.observers.length;Xe++)this.sendOne(Xe,je)}sendOne(je,Xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[je])try{Xe(this.observers[je])}catch(xt){"undefined"!=typeof console&&console.error&&console.error(xt)}})}close(je){this.finalized||(this.finalized=!0,void 0!==je&&(this.finalError=je),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yn(){}const $r=function(Ie,je,Xe,xt){let Be;if(xt<je?Be="at least "+je:xt>Xe&&(Be=0===Xe?"none":"no more than "+Xe),Be)throw new Error(Ie+" failed: Was called with "+xt+(1===xt?" argument.":" arguments.")+" Expects "+Be+".")};function fi(Ie,je){return`${Ie} failed: ${je} argument `}function qe(Ie,je,Xe,xt){if((!xt||Xe)&&"function"!=typeof Xe)throw new Error(fi(Ie,je)+"must be a valid function.")}function Je(Ie,je,Xe,xt){if((!xt||Xe)&&("object"!=typeof Xe||null===Xe))throw new Error(fi(Ie,je)+"must be a valid context object.")}const At=function(Ie){const je=[];let Xe=0;for(let xt=0;xt<Ie.length;xt++){let Be=Ie.charCodeAt(xt);if(Be>=55296&&Be<=56319){const gt=Be-55296;xt++,J(xt<Ie.length,"Surrogate pair missing trail surrogate."),Be=65536+(gt<<10)+(Ie.charCodeAt(xt)-56320)}Be<128?je[Xe++]=Be:Be<2048?(je[Xe++]=Be>>6|192,je[Xe++]=63&Be|128):Be<65536?(je[Xe++]=Be>>12|224,je[Xe++]=Be>>6&63|128,je[Xe++]=63&Be|128):(je[Xe++]=Be>>18|240,je[Xe++]=Be>>12&63|128,je[Xe++]=Be>>6&63|128,je[Xe++]=63&Be|128)}return je},vt=function(Ie){let je=0;for(let Xe=0;Xe<Ie.length;Xe++){const xt=Ie.charCodeAt(Xe);xt<128?je++:xt<2048?je+=2:xt>=55296&&xt<=56319?(je+=4,Xe++):je+=3}return je};function pn(Ie,je=1e3,Xe=2){const xt=je*Math.pow(Xe,Ie),Be=Math.round(.5*xt*(Math.random()-.5)*2);return Math.min(144e5,xt+Be)}function Ar(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},8161:(Zt,at,P)=>{"use strict";P.d(at,{Br:()=>Br,dr:()=>pn,BJ:()=>ei,oU:()=>hr,cs:()=>V,yp:()=>Ie,YG:()=>xt,Sm:()=>Be,PM:()=>gt,FN:()=>Ht,Zi:()=>rn,Dq:()=>wn,wI:()=>rr,W2:()=>Pr,IJ:()=>Hr,W4:()=>Bn,fr:()=>Yr,jY:()=>jr,Gu:()=>$i,gu:()=>kr,pK:()=>yi,Ie:()=>Tr,Q$:()=>Zn,q_:()=>Zr,uN:()=>Hn,jP:()=>ls,Nd:()=>et,cJ:()=>_e,GO:()=>xe,yq:()=>nr,ZU:()=>ci,UN:()=>yr,yW:()=>Ii,Bs:()=>Ge,wd:()=>Dt,sr:()=>Xt,Pc:()=>En,r4:()=>N,HT:()=>Vr,IN:()=>Sn,SH:()=>Qi,as:()=>$r,Dh:()=>xs,QI:()=>Lt,j9:()=>qe,yF:()=>zo});var c=P(5e3),J=P(2382),q=P(655),Me=P(8421),Re=P(8306),Ee=P(5577),ve=P(1144),Ce=P(576),ke=P(3268);const fe=["addListener","removeListener"],me=["addEventListener","removeEventListener"],Te=["on","off"];function Pe(E,G,w,B){if((0,Ce.m)(w)&&(B=w,w=void 0),B)return Pe(E,G,w).pipe((0,ke.Z)(B));const[ce,Ot]=function Se(E){return(0,Ce.m)(E.addEventListener)&&(0,Ce.m)(E.removeEventListener)}(E)?me.map(an=>Mn=>E[an](G,Mn,w)):function tt(E){return(0,Ce.m)(E.addListener)&&(0,Ce.m)(E.removeListener)}(E)?fe.map(Ve(E,G)):function Fe(E){return(0,Ce.m)(E.on)&&(0,Ce.m)(E.off)}(E)?Te.map(Ve(E,G)):[];if(!ce&&(0,ve.z)(E))return(0,Ee.z)(an=>Pe(an,G,w))((0,Me.Xf)(E));if(!ce)throw new TypeError("Invalid event target");return new Re.y(an=>{const Mn=(...Jn)=>an.next(1<Jn.length?Jn:Jn[0]);return ce(Mn),()=>Ot(Mn)})}function Ve(E,G){return w=>B=>E[w](G,B)}var Le=P(7579),De=P(1135),st=P(6115),$e=(P(1815),P(6447),P(3139),P(6254)),Ke=P(3756),ee=P(4318),he=(P(7726),P(599)),ge=(P(3509),P(2361)),ht=P(9300),We=P(3900),Ct=P(1884),ft=P(9808);const lt=$e.i,wt=["*"],Pn=["outlet"],Cn=[[["","slot","top"]],"*"],yn=["[slot=top]","*"],tr=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);let Ln=(()=>{class E{constructor(w,B){this.injector=w,this.el=B,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(w){this.el.nativeElement.value=this.lastValue=null==w?"":w,kn(this.el)}handleChangeEvent(w,B){w===this.el.nativeElement&&(B!==this.lastValue&&(this.lastValue=B,this.onChange(B)),kn(this.el))}_handleBlurEvent(w){w===this.el.nativeElement&&(this.onTouched(),kn(this.el))}registerOnChange(w){this.onChange=w}registerOnTouched(w){this.onTouched=w}setDisabledState(w){this.el.nativeElement.disabled=w}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let w;try{w=this.injector.get(J.a5)}catch(ce){}if(!w)return;w.statusChanges&&(this.statusChanges=w.statusChanges.subscribe(()=>kn(this.el)));const B=w.control;B&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ot=>{if(void 0!==B[Ot]){const an=B[Ot].bind(B);B[Ot]=(...Mn)=>{an(...Mn),kn(this.el)}}})}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,hostBindings:function(w,B){1&w&&c.NdJ("ionBlur",function(Ot){return B._handleBlurEvent(Ot.target)})}}),E})();const kn=E=>{tr(()=>{const G=E.nativeElement,w=null!=G.value&&G.value.toString().length>0,B=_n(G);qr(G,B);const ce=G.closest("ion-item");ce&&qr(ce,w?[...B,"item-has-value"]:B)})},_n=E=>{const G=E.classList,w=[];for(let B=0;B<G.length;B++){const ce=G.item(B);null!==ce&&Wn(ce,"ng-")&&w.push(`ion-${ce.substring(3)}`)}return w},qr=(E,G)=>{const w=E.classList;w.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),w.add(...G)},Wn=(E,G)=>E.substring(0,G.length)===G;let $r=(()=>{class E extends Ln{constructor(w,B){super(w,B)}_handleIonChange(w){this.handleChangeEvent(w,w.value)}registerOnChange(w){super.registerOnChange(B=>{w(""===B?null:parseFloat(B))})}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(w,B){1&w&&c.NdJ("ionChange",function(Ot){return B._handleIonChange(Ot.target)})},features:[c._Bn([{provide:J.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),Lt=(()=>{class E extends Ln{constructor(w,B){super(w,B)}_handleChangeEvent(w){this.handleChangeEvent(w,w.value)}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(w,B){1&w&&c.NdJ("ionChange",function(Ot){return B._handleChangeEvent(Ot.target)})},features:[c._Bn([{provide:J.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),qe=(()=>{class E extends Ln{constructor(w,B){super(w,B)}_handleInputEvent(w){this.handleChangeEvent(w,w.value)}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(w,B){1&w&&c.NdJ("ionChange",function(Ot){return B._handleInputEvent(Ot.target)})},features:[c._Bn([{provide:J.JU,useExisting:E,multi:!0}]),c.qOj]}),E})();const Je=(E,G)=>{const w=E.prototype;G.forEach(B=>{Object.defineProperty(w,B,{get(){return this.el[B]},set(ce){this.z.runOutsideAngular(()=>this.el[B]=ce)}})})},At=(E,G)=>{const w=E.prototype;G.forEach(B=>{w[B]=function(){const ce=arguments;return this.z.runOutsideAngular(()=>this.el[B].apply(this.el,ce))}})},vt=(E,G,w)=>{w.forEach(B=>E[B]=Pe(G,B))};function It(E){return function(w){const{defineCustomElementFn:B,inputs:ce,methods:Ot}=E;return void 0!==B&&B(),ce&&Je(w,ce),Ot&&At(w,Ot),w}}let pn=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0})],E),E})(),ei=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-avatar"]],ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0})],E),E})(),hr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),Ie=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),xt=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement,vt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Be=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),gt=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Ht=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["mode"]})],E),E})(),rn=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],E),E})(),wn=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),rr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],E),E})(),Pr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement,vt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),Hr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],E),E})(),Bn=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement,vt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],E),E})(),Yr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),jr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["fixed"]})],E),E})(),$i=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),kr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),yi=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement,vt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Tr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),Zn=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),Zr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),Hn=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),et=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-row"]],ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0})],E),E})(),_e=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement,vt(this,this.el,["ionChange"])}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),xe=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],E),E})(),nr=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],E),E})(),ci=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],E),E})(),Ii=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Ge=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-thumbnail"]],ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0})],E),E})(),Dt=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),Xt=(()=>{let E=class{constructor(w,B,ce){this.z=ce,w.detach(),this.el=B.nativeElement}};return E.\u0275fac=function(w){return new(w||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(w,B){1&w&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,q.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class gn{constructor(G={}){this.data=G}get(G){return this.data[G]}}let ur=(()=>{class E{constructor(w,B){this.zone=w,this.appRef=B}create(w,B,ce){return new bi(w,B,ce,this.appRef,this.zone)}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(c.R0b),c.LFG(c.z2F))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();class bi{constructor(G,w,B,ce,Ot){this.resolver=G,this.injector=w,this.location=B,this.appRef=ce,this.zone=Ot,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(G,w,B,ce){return this.zone.run(()=>new Promise(Ot=>{Ot(Ir(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,G,w,B,ce))}))}removeViewFromDom(G,w){return this.zone.run(()=>new Promise(B=>{const ce=this.elRefMap.get(w);if(ce){ce.destroy(),this.elRefMap.delete(w);const Ot=this.elEventsMap.get(w);Ot&&(Ot(),this.elEventsMap.delete(w))}B()}))}}const Ir=(E,G,w,B,ce,Ot,an,Mn,Jn,Ur,er)=>{const ti=G.resolveComponentFactory(Jn),Ds=c.zs3.create({providers:na(Ur),parent:w}),Wi=B?B.createComponent(ti,B.length,Ds):ti.create(Ds),ji=Wi.instance,to=Wi.location.nativeElement;if(Ur&&Object.assign(ji,Ur),er)for(const Xa of er)to.classList.add(Xa);const ni=js(E,ji,to);return Mn.appendChild(to),B||ce.attachView(Wi.hostView),Wi.changeDetectorRef.reattach(),Ot.set(to,Wi),an.set(to,ni),to},is=[ee.L,ee.a,ee.b,ee.c,ee.d],js=(E,G,w)=>E.run(()=>{const B=is.filter(ce=>"function"==typeof G[ce]).map(ce=>{const Ot=an=>G[ce](an.detail);return w.addEventListener(ce,Ot),()=>w.removeEventListener(ce,Ot)});return()=>B.forEach(ce=>ce())}),Ai=new c.OlP("NavParamsToken"),na=E=>[{provide:Ai,useValue:E},{provide:gn,useFactory:Es,deps:[Ai]}],Es=E=>new gn(E),fo=(E,G)=>((E=E.filter(w=>w.stackId!==G.stackId)).push(G),E),Jr=(E,G)=>{const w=E.createUrlTree(["."],{relativeTo:G});return E.serializeUrl(w)},ws=(E,G)=>{if(!E)return;const w=Is(G);for(let B=0;B<w.length;B++){if(B>=E.length)return w[B];if(w[B]!==E[B])return}},Is=E=>E.split("/").map(G=>G.trim()).filter(G=>""!==G),Go=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class Hs{constructor(G,w,B,ce,Ot,an){this.containerEl=w,this.router=B,this.navCtrl=ce,this.zone=Ot,this.location=an,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==G?Is(G):void 0}createView(G,w){var B;const ce=Jr(this.router,w),Ot=null===(B=null==G?void 0:G.location)||void 0===B?void 0:B.nativeElement,an=js(this.zone,G.instance,Ot);return{id:this.nextId++,stackId:ws(this.tabsPrefix,ce),unlistenEvents:an,element:Ot,ref:G,url:ce}}getExistingView(G){const w=Jr(this.router,G),B=this.views.find(ce=>ce.url===w);return B&&B.ref.changeDetectorRef.reattach(),B}setActive(G){var w,B;const ce=this.navCtrl.consumeTransition();let{direction:Ot,animation:an,animationBuilder:Mn}=ce;const Jn=this.activeView,Ur=((E,G)=>!G||E.stackId!==G.stackId)(G,Jn);Ur&&(Ot="back",an=void 0);const er=this.views.slice();let ti;const Ds=this.router;Ds.getCurrentNavigation?ti=Ds.getCurrentNavigation():(null===(w=Ds.navigations)||void 0===w?void 0:w.value)&&(ti=Ds.navigations.value),(null===(B=null==ti?void 0:ti.extras)||void 0===B?void 0:B.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Wi=this.views.includes(G),ji=this.insertView(G,Ot);Wi||G.ref.changeDetectorRef.detectChanges();const to=G.animationBuilder;return void 0===Mn&&"back"===Ot&&!Ur&&void 0!==to&&(Mn=to),Jn&&(Jn.animationBuilder=Mn),this.zone.runOutsideAngular(()=>this.wait(()=>(Jn&&Jn.ref.changeDetectorRef.detach(),G.ref.changeDetectorRef.reattach(),this.transition(G,Jn,an,this.canGoBack(1),!1,Mn).then(()=>os(G,ji,er,this.location,this.zone)).then(()=>({enteringView:G,direction:Ot,animation:an,tabSwitch:Ur})))))}canGoBack(G,w=this.getActiveStackId()){return this.getStack(w).length>G}pop(G,w=this.getActiveStackId()){return this.zone.run(()=>{var B,ce;const Ot=this.getStack(w);if(Ot.length<=G)return Promise.resolve(!1);const an=Ot[Ot.length-G-1];let Mn=an.url;const Jn=an.savedData;if(Jn){const er=Jn.get("primary");(null===(ce=null===(B=null==er?void 0:er.route)||void 0===B?void 0:B._routerState)||void 0===ce?void 0:ce.snapshot.url)&&(Mn=er.route._routerState.snapshot.url)}const{animationBuilder:Ur}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Mn,Object.assign(Object.assign({},an.savedExtras),{animation:Ur})).then(()=>!0)})}startBackTransition(){const G=this.activeView;if(G){const w=this.getStack(G.stackId),B=w[w.length-2],ce=B.animationBuilder;return this.wait(()=>this.transition(B,G,"back",this.canGoBack(2),!0,ce))}return Promise.resolve()}endBackTransition(G){G?(this.skipTransition=!0,this.pop(1)):this.activeView&&Js(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(G){const w=this.getStack(G);return w.length>0?w[w.length-1]:void 0}getRootUrl(G){const w=this.getStack(G);return w.length>0?w[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Go),this.activeView=void 0,this.views=[]}getStack(G){return this.views.filter(w=>w.stackId===G)}insertView(G,w){return this.activeView=G,this.views=((E,G,w)=>"root"===w?fo(E,G):"forward"===w?((E,G)=>(E.indexOf(G)>=0?E=E.filter(B=>B.stackId!==G.stackId||B.id<=G.id):E.push(G),E))(E,G):((E,G)=>E.indexOf(G)>=0?E.filter(B=>B.stackId!==G.stackId||B.id<=G.id):fo(E,G))(E,G))(this.views,G,w),this.views.slice()}transition(G,w,B,ce,Ot,an){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(w===G)return Promise.resolve(!1);const Mn=G?G.element:void 0,Jn=w?w.element:void 0,Ur=this.containerEl;return Mn&&Mn!==Jn&&(Mn.classList.add("ion-page"),Mn.classList.add("ion-page-invisible"),Mn.parentElement!==Ur&&Ur.appendChild(Mn),Ur.commit)?Ur.commit(Mn,Jn,{deepWait:!0,duration:void 0===B?0:void 0,direction:B,showGoBack:ce,progressAnimation:Ot,animationBuilder:an}):Promise.resolve(!1)}wait(G){return(0,q.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const w=this.runningTask=G();return w.finally(()=>this.runningTask=void 0),w})}}const os=(E,G,w,B,ce)=>"function"==typeof requestAnimationFrame?new Promise(Ot=>{requestAnimationFrame(()=>{Js(E,G,w,B,ce),Ot()})}):Promise.resolve(),Js=(E,G,w,B,ce)=>{ce.run(()=>w.filter(Ot=>!G.includes(Ot)).forEach(Go)),G.forEach(Ot=>{const Mn=B.path().split("?")[0].split("#")[0];if(Ot!==E&&Ot.url!==Mn){const Jn=Ot.element;Jn.setAttribute("aria-hidden","true"),Jn.classList.add("ion-page-hidden"),Ot.ref.changeDetectorRef.detach()}})};let Bi=(()=>{class E{get(w,B){const ce=Dr();return ce?ce.get(w,B):null}getBoolean(w,B){const ce=Dr();return!!ce&&ce.getBoolean(w,B)}getNumber(w,B){const ce=Dr();return ce?ce.getNumber(w,B):0}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const eo=new c.OlP("USERCONFIG"),Dr=()=>{if("undefined"!=typeof window){const E=window.Ionic;if(null==E?void 0:E.config)return E.config}return null};let bs=(()=>{class E{constructor(w,B){this.doc=w,this.backButton=new Le.x,this.keyboardDidShow=new Le.x,this.keyboardDidHide=new Le.x,this.pause=new Le.x,this.resume=new Le.x,this.resize=new Le.x,B.run(()=>{var ce;let Ot;this.win=w.defaultView,this.backButton.subscribeWithPriority=function(an,Mn){return this.subscribe(Jn=>Jn.register(an,Ur=>B.run(()=>Mn(Ur))))},Xi(this.pause,w,"pause"),Xi(this.resume,w,"resume"),Xi(this.backButton,w,"ionBackButton"),Xi(this.resize,this.win,"resize"),Xi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Xi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(an=>{Ot=an}),(null===(ce=this.win)||void 0===ce?void 0:ce.cordova)?w.addEventListener("deviceready",()=>{Ot("cordova")},{once:!0}):Ot("dom")})}is(w){return(0,$e.a)(this.win,w)}platforms(){return(0,$e.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(w){return as(this.win.location.href,w)}isLandscape(){return!this.isPortrait()}isPortrait(){var w,B;return null===(B=(w=this.win).matchMedia)||void 0===B?void 0:B.call(w,"(orientation: portrait)").matches}testUserAgent(w){const B=this.win.navigator;return!!((null==B?void 0:B.userAgent)&&B.userAgent.indexOf(w)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(ft.K0),c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const as=(E,G)=>{G=G.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const B=new RegExp("[\\?&]"+G+"=([^&#]*)").exec(E);return B?decodeURIComponent(B[1].replace(/\+/g," ")):null},Xi=(E,G,w)=>{G&&G.addEventListener(w,B=>{E.next(null!=B?B.detail:void 0)})};let Qi=(()=>{class E{constructor(w,B,ce,Ot){this.location=B,this.serializer=ce,this.router=Ot,this.direction=Gr,this.animated=Ji,this.guessDirection="forward",this.lastNavId=-1,Ot&&Ot.events.subscribe(an=>{if(an instanceof st.OD){const Mn=an.restoredState?an.restoredState.navigationId:an.id;this.guessDirection=Mn<this.lastNavId?"back":"forward",this.guessAnimation=an.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?an.id:Mn}}),w.backButton.subscribeWithPriority(0,an=>{this.pop(),an()})}navigateForward(w,B={}){return this.setDirection("forward",B.animated,B.animationDirection,B.animation),this.navigate(w,B)}navigateBack(w,B={}){return this.setDirection("back",B.animated,B.animationDirection,B.animation),this.navigate(w,B)}navigateRoot(w,B={}){return this.setDirection("root",B.animated,B.animationDirection,B.animation),this.navigate(w,B)}back(w={animated:!0,animationDirection:"back"}){return this.setDirection("back",w.animated,w.animationDirection,w.animation),this.location.back()}pop(){return(0,q.mG)(this,void 0,void 0,function*(){let w=this.topOutlet;for(;w&&!(yield w.pop());)w=w.parentOutlet})}setDirection(w,B,ce,Ot){this.direction=w,this.animated=Oo(w,B,ce),this.animationBuilder=Ot}setTopOutlet(w){this.topOutlet=w}consumeTransition(){let B,w="root";const ce=this.animationBuilder;return"auto"===this.direction?(w=this.guessDirection,B=this.guessAnimation):(B=this.animated,w=this.direction),this.direction=Gr,this.animated=Ji,this.animationBuilder=void 0,{direction:w,animation:B,animationBuilder:ce}}navigate(w,B){if(Array.isArray(w))return this.router.navigate(w,B);{const ce=this.serializer.parse(w.toString());return void 0!==B.queryParams&&(ce.queryParams=Object.assign({},B.queryParams)),void 0!==B.fragment&&(ce.fragment=B.fragment),this.router.navigateByUrl(ce,B)}}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(bs),c.LFG(ft.Ye),c.LFG(st.Hx),c.LFG(st.F0,8))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Oo=(E,G,w)=>{if(!1!==G){if(void 0!==w)return w;if("forward"===E||"back"===E)return E;if("root"===E&&!0===G)return"forward"}},Gr="auto",Ji=void 0;let ls=(()=>{class E{constructor(w,B,ce,Ot,an,Mn,Jn,Ur,er,ti,Ds,Wi,ji){this.parentContexts=w,this.location=B,this.resolver=ce,this.config=Mn,this.navCtrl=Jn,this.parentOutlet=ji,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new De.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=er.nativeElement,this.name=Ot||st.eC,this.tabsPrefix="true"===an?Jr(ti,Wi):void 0,this.stackCtrl=new Hs(this.tabsPrefix,this.nativeEl,ti,Jn,Ds,Ur),w.onChildOutletCreated(this.name,this)}set animation(w){this.nativeEl.animation=w}set animated(w){this.nativeEl.animated=w}set swipeGesture(w){this._swipeGesture=w,this.nativeEl.swipeHandler=w?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:B=>this.stackCtrl.endBackTransition(B)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const w=this.getContext();(null==w?void 0:w.route)&&this.activateWith(w.route,w.resolver||null)}new Promise(w=>(0,Ke.c)(this.nativeEl,w)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(w,B){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const B=this.getContext();this.activatedView.savedData=new Map(B.children.contexts);const ce=this.activatedView.savedData.get("primary");if(ce&&B.route&&(ce.route=Object.assign({},B.route)),this.activatedView.savedExtras={},B.route){const Ot=B.route.snapshot;this.activatedView.savedExtras.queryParams=Ot.queryParams,this.activatedView.savedExtras.fragment=Ot.fragment}}const w=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;let ce,Ot=this.stackCtrl.getExistingView(w);if(Ot){ce=this.activated=Ot.ref;const an=Ot.savedData;an&&(this.getContext().children.contexts=an),this.updateActivatedRouteProxy(ce.instance,w)}else{const Jn=(B=B||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),Ur=this.parentContexts.getOrCreateContext(this.name).children,er=new De.X(null),ti=this.createActivatedRouteProxy(er,w),Ds=new Cs(ti,Ur,this.location.injector);ce=this.activated=this.location.createComponent(Jn,this.location.length,Ds),er.next(ce.instance),Ot=this.stackCtrl.createView(this.activated,w),this.proxyMap.set(ce.instance,ti),this.currentActivatedRoute$.next({component:ce.instance,activatedRoute:w})}this.activatedView=Ot,this.stackCtrl.setActive(Ot).then(an=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(ce.instance),this.stackEvents.emit(an)})}canGoBack(w=1,B){return this.stackCtrl.canGoBack(w,B)}pop(w=1,B){return this.stackCtrl.pop(w,B)}getLastUrl(w){const B=this.stackCtrl.getLastUrl(w);return B?B.url:void 0}getLastRouteView(w){return this.stackCtrl.getLastUrl(w)}getRootView(w){return this.stackCtrl.getRootUrl(w)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(w,B){const ce=new st.gz;return ce._futureSnapshot=B._futureSnapshot,ce._routerState=B._routerState,ce.snapshot=B.snapshot,ce.outlet=B.outlet,ce.component=B.component,ce._paramMap=this.proxyObservable(w,"paramMap"),ce._queryParamMap=this.proxyObservable(w,"queryParamMap"),ce.url=this.proxyObservable(w,"url"),ce.params=this.proxyObservable(w,"params"),ce.queryParams=this.proxyObservable(w,"queryParams"),ce.fragment=this.proxyObservable(w,"fragment"),ce.data=this.proxyObservable(w,"data"),ce}proxyObservable(w,B){return w.pipe((0,ht.h)(ce=>!!ce),(0,We.w)(ce=>this.currentActivatedRoute$.pipe((0,ht.h)(Ot=>null!==Ot&&Ot.component===ce),(0,We.w)(Ot=>Ot&&Ot.activatedRoute[B]),(0,Ct.x)())))}updateActivatedRouteProxy(w,B){const ce=this.proxyMap.get(w);if(!ce)throw new Error("Could not find activated route proxy for view");ce._futureSnapshot=B._futureSnapshot,ce._routerState=B._routerState,ce.snapshot=B.snapshot,ce.outlet=B.outlet,ce.component=B.component,this.currentActivatedRoute$.next({component:w,activatedRoute:B})}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(st.y6),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.$8M("tabs"),c.Y36(Bi),c.Y36(Qi),c.Y36(ft.Ye),c.Y36(c.SBq),c.Y36(st.F0),c.Y36(c.R0b),c.Y36(st.gz),c.Y36(E,12))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class Cs{constructor(G,w,B){this.route=G,this.childContexts=w,this.parent=B}get(G,w){return G===st.gz?this.route:G===st.y6?this.childContexts:this.parent.get(G,w)}}let yr=(()=>{class E{constructor(w){this.navCtrl=w,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(w){const B=w.enteringView.stackId;w.tabSwitch&&void 0!==B&&(this.ionTabsWillChange.emit({tab:B}),this.tabBar&&(this.tabBar.selectedTab=B),this.ionTabsDidChange.emit({tab:B}))}select(w){const B="string"==typeof w,ce=B?w:w.detail.tab,Ot=this.outlet.getActiveStackId()===ce,an=`${this.outlet.tabsPrefix}/${ce}`;if(B||w.stopPropagation(),Ot){const Mn=this.outlet.getActiveStackId(),Jn=this.outlet.getLastRouteView(Mn);if((null==Jn?void 0:Jn.url)===an)return;const Ur=this.outlet.getRootView(ce);return this.navCtrl.navigateRoot(an,Object.assign(Object.assign({},Ur&&an===Ur.url&&Ur.savedExtras),{animated:!0,animationDirection:"back"}))}{const Mn=this.outlet.getLastRouteView(ce);return this.navCtrl.navigateRoot((null==Mn?void 0:Mn.url)||an,Object.assign(Object.assign({},null==Mn?void 0:Mn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(Qi))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tabs"]],contentQueries:function(w,B,ce){if(1&w&&c.Suo(ce,nr,5),2&w){let Ot;c.iGM(Ot=c.CRH())&&(B.tabBar=Ot.first)}},viewQuery:function(w,B){if(1&w&&c.Gf(Pn,5,ls),2&w){let ce;c.iGM(ce=c.CRH())&&(B.outlet=ce.first)}},hostBindings:function(w,B){1&w&&c.NdJ("ionTabButtonClick",function(Ot){return B.select(Ot)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:yn,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(w,B){1&w&&(c.F$t(Cn),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(Ot){return B.onPageSelected(Ot)}),c.qZA()(),c.Hsn(4,1))},directives:[ls],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),E})(),V=(()=>{class E{constructor(w,B,ce){this.routerOutlet=w,this.navCtrl=B,this.config=ce}onClick(w){var B;const ce=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(B=this.routerOutlet)||void 0===B?void 0:B.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),w.preventDefault()):null!=ce&&(this.navCtrl.navigateBack(ce,{animation:this.routerAnimation}),w.preventDefault())}}return E.\u0275fac=function(w){return new(w||E)(c.Y36(ls,8),c.Y36(Qi),c.Y36(Bi))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(w,B){1&w&&c.NdJ("click",function(Ot){return B.onClick(Ot)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})();class cr{constructor(G){this.ctrl=G}create(G){return this.ctrl.create(G||{})}dismiss(G,w,B){return this.ctrl.dismiss(G,w,B)}getTop(){return this.ctrl.getTop()}}let Br=(()=>{class E extends cr{constructor(){super(he.a)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Vr=(()=>{class E extends cr{constructor(){super(he.l)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Sn=(()=>{class E extends cr{constructor(w,B,ce){super(he.m),this.angularDelegate=w,this.resolver=B,this.injector=ce}create(w){return super.create(Object.assign(Object.assign({},w),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(ur),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),xs=(()=>{class E extends cr{constructor(w,B,ce){super(he.c),this.angularDelegate=w,this.resolver=B,this.injector=ce}create(w){return super.create(Object.assign(Object.assign({},w),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(w){return new(w||E)(c.LFG(ur),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),zo=(()=>{class E extends cr{constructor(){super(he.t)}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class N{shouldDetach(G){return!1}shouldAttach(G){return!1}store(G,w){}retrieve(G){return null}shouldReuseRoute(G,w){if(G.routeConfig!==w.routeConfig)return!1;const B=G.params,ce=w.params,Ot=Object.keys(B),an=Object.keys(ce);if(Ot.length!==an.length)return!1;for(const Mn of Ot)if(ce[Mn]!==B[Mn])return!1;return!0}}const Y=(E,G,w)=>()=>{if(G.defaultView&&"undefined"!=typeof window){(E=>{const G=window,w=G.Ionic;w&&w.config&&"Object"!==w.config.constructor.name||(G.Ionic=G.Ionic||{},G.Ionic.config=Object.assign(Object.assign({},G.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:Ot=>w.run(Ot)}));const ce="__zone_symbol__addEventListener"in G.body?"__zone_symbol__addEventListener":"addEventListener";return function Et(){var E=[];if("undefined"!=typeof window){var G=window;(!G.customElements||G.Element&&(!G.Element.prototype.closest||!G.Element.prototype.matches||!G.Element.prototype.remove||!G.Element.prototype.getRootNode))&&E.push(P.e(6748).then(P.t.bind(P,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||G.NodeList&&!G.NodeList.prototype.forEach||!G.fetch||!function(){try{var B=new URL("b","http://a");return B.pathname="c%20d","http://a/c%20d"===B.href&&B.searchParams}catch(ce){return!1}}()||"undefined"==typeof WeakMap)&&E.push(P.e(2214).then(P.t.bind(P,4144,23)))}return Promise.all(E)}().then(()=>((E,G)=>"undefined"==typeof window?Promise.resolve():(0,ge.p)().then(()=>(lt(),(0,ge.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),G))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:tr,jmp:Ot=>w.runOutsideAngular(Ot),ael(Ot,an,Mn,Jn){Ot[ce](an,Mn,Jn)},rel(Ot,an,Mn,Jn){Ot.removeEventListener(an,Mn,Jn)}}))}};let En=(()=>{class E{static forRoot(w){return{ngModule:E,providers:[{provide:eo,useValue:w},{provide:c.ip1,useFactory:Y,multi:!0,deps:[eo,ft.K0,c.R0b]}]}}}return E.\u0275fac=function(w){return new(w||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({providers:[ur,Sn,xs],imports:[[ft.ez]]}),E})()},9442:(Zt,at,P)=>{"use strict";P.d(at,{c:()=>tt});var c=P(3756);let J;const Me=Fe=>Fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Re=Fe=>{if(void 0===J){const Le=void 0!==Fe.style.webkitAnimationName;J=void 0===Fe.style.animationName&&Le?"-webkit-":""}return J},Ee=(Fe,Se,Le)=>{const De=Se.startsWith("animation")?Re(Fe):"";Fe.style.setProperty(De+Se,Le)},ve=(Fe,Se)=>{const Le=Se.startsWith("animation")?Re(Fe):"";Fe.style.removeProperty(Le+Se)},fe=[],Ve=(Fe=[],Se)=>{if(void 0!==Se){const Le=Array.isArray(Se)?Se:[Se];return[...Fe,...Le]}return Fe},tt=Fe=>{let Se,Le,De,st,ot,Ze,Qe,yt,ht,We,Ct,Kt,Nt,ze=[],$e=[],Ke=[],ee=!1,he={},ye=[],ge=[],Ae={},Ye=0,pt=!1,Gt=!1,ft=!0,Et=!1,lt=!0,wt=!1;const Pn=Fe,Cn=[],yn=[],fn=[],qn=[],tr=[],Ln=[],kn=[],_n=[],qr=[],Wn=[],Yn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,$r="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Yn,Lt=()=>Wn,Wt=(_e,xe)=>(((null==xe?void 0:xe.oneTimeCallback)?yn:Cn).push({c:_e,o:xe}),Nt),Un=()=>{if($r)Wn.forEach(_e=>{_e.cancel()}),Wn.length=0;else{const _e=fn.slice();(0,c.r)(()=>{_e.forEach(xe=>{ve(xe,"animation-name"),ve(xe,"animation-duration"),ve(xe,"animation-timing-function"),ve(xe,"animation-iteration-count"),ve(xe,"animation-delay"),ve(xe,"animation-play-state"),ve(xe,"animation-fill-mode"),ve(xe,"animation-direction")})})}},Nn=()=>{tr.forEach(_e=>{(null==_e?void 0:_e.parentNode)&&_e.parentNode.removeChild(_e)}),tr.length=0},vn=()=>void 0!==ot?ot:Qe?Qe.getFill():"both",wn=()=>void 0!==ht?ht:void 0!==Ze?Ze:Qe?Qe.getDirection():"normal",Er=()=>pt?"linear":void 0!==De?De:Qe?Qe.getEasing():"linear",In=()=>Gt?0:void 0!==We?We:void 0!==Le?Le:Qe?Qe.getDuration():0,rr=()=>void 0!==st?st:Qe?Qe.getIterations():1,Pr=()=>void 0!==Ct?Ct:void 0!==Se?Se:Qe?Qe.getDelay():0,oi=()=>{0!==Ye&&(Ye--,0===Ye&&((()=>{Oi(),_n.forEach(Mt=>Mt()),qr.forEach(Mt=>Mt());const _e=ft?1:0,xe=ye,dt=ge,Bt=Ae;fn.forEach(Mt=>{const kt=Mt.classList;xe.forEach(ln=>kt.add(ln)),dt.forEach(ln=>kt.remove(ln));for(const ln in Bt)Bt.hasOwnProperty(ln)&&Ee(Mt,ln,Bt[ln])}),Cn.forEach(Mt=>Mt.c(_e,Nt)),yn.forEach(Mt=>Mt.c(_e,Nt)),yn.length=0,lt=!0,ft&&(Et=!0),ft=!0})(),Qe&&Qe.animationFinish()))},jn=(_e=!0)=>{Nn();const xe=(Fe=>(Fe.forEach(Se=>{for(const Le in Se)if(Se.hasOwnProperty(Le)){const De=Se[Le];if("easing"===Le)Se["animation-timing-function"]=De,delete Se[Le];else{const st=Me(Le);st!==Le&&(Se[st]=De,delete Se[Le])}}}),Fe))(ze);fn.forEach(dt=>{if(xe.length>0){const Bt=((Fe=[])=>Fe.map(Se=>{const Le=Se.offset,De=[];for(const st in Se)Se.hasOwnProperty(st)&&"offset"!==st&&De.push(`${st}: ${Se[st]};`);return`${100*Le}% { ${De.join(" ")} }`}).join(" "))(xe);Kt=void 0!==Fe?Fe:(Fe=>{let Se=fe.indexOf(Fe);return Se<0&&(Se=fe.push(Fe)-1),`ion-animation-${Se}`})(Bt);const Mt=((Fe,Se,Le)=>{const De=(Fe=>{const Se=Fe.getRootNode();return Se.head||Se})(Le),st=Re(Le),ot=De.querySelector("#"+Fe);if(ot)return ot;const Ze=(Le.ownerDocument||document).createElement("style");return Ze.id=Fe,Ze.textContent=`@${st}keyframes ${Fe} { ${Se} } @${st}keyframes ${Fe}-alt { ${Se} }`,De.appendChild(Ze),Ze})(Kt,Bt,dt);tr.push(Mt),Ee(dt,"animation-duration",`${In()}ms`),Ee(dt,"animation-timing-function",Er()),Ee(dt,"animation-delay",`${Pr()}ms`),Ee(dt,"animation-fill-mode",vn()),Ee(dt,"animation-direction",wn());const kt=rr()===1/0?"infinite":rr().toString();Ee(dt,"animation-iteration-count",kt),Ee(dt,"animation-play-state","paused"),_e&&Ee(dt,"animation-name",`${Mt.id}-alt`),(0,c.r)(()=>{Ee(dt,"animation-name",Mt.id||null)})}})},cn=(_e=!0)=>{(()=>{Ln.forEach(Bt=>Bt()),kn.forEach(Bt=>Bt());const _e=$e,xe=Ke,dt=he;fn.forEach(Bt=>{const Mt=Bt.classList;_e.forEach(kt=>Mt.add(kt)),xe.forEach(kt=>Mt.remove(kt));for(const kt in dt)dt.hasOwnProperty(kt)&&Ee(Bt,kt,dt[kt])})})(),ze.length>0&&($r?(fn.forEach(_e=>{const xe=_e.animate(ze,{id:Pn,delay:Pr(),duration:In(),easing:Er(),iterations:rr(),fill:vn(),direction:wn()});xe.pause(),Wn.push(xe)}),Wn.length>0&&(Wn[0].onfinish=()=>{oi()})):jn(_e)),ee=!0},Zn=_e=>{if(_e=Math.min(Math.max(_e,0),.9999),$r)Wn.forEach(xe=>{xe.currentTime=xe.effect.getComputedTiming().delay+In()*_e,xe.pause()});else{const xe=`-${In()*_e}ms`;fn.forEach(dt=>{ze.length>0&&(Ee(dt,"animation-delay",xe),Ee(dt,"animation-play-state","paused"))})}},Zr=_e=>{Wn.forEach(xe=>{xe.effect.updateTiming({delay:Pr(),duration:In(),easing:Er(),iterations:rr(),fill:vn(),direction:wn()})}),void 0!==_e&&Zn(_e)},ai=(_e=!0,xe)=>{(0,c.r)(()=>{fn.forEach(dt=>{Ee(dt,"animation-name",Kt||null),Ee(dt,"animation-duration",`${In()}ms`),Ee(dt,"animation-timing-function",Er()),Ee(dt,"animation-delay",void 0!==xe?`-${xe*In()}ms`:`${Pr()}ms`),Ee(dt,"animation-fill-mode",vn()||null),Ee(dt,"animation-direction",wn()||null);const Bt=rr()===1/0?"infinite":rr().toString();Ee(dt,"animation-iteration-count",Bt),_e&&Ee(dt,"animation-name",`${Kt}-alt`),(0,c.r)(()=>{Ee(dt,"animation-name",Kt||null)})})})},lr=(_e=!1,xe=!0,dt)=>(_e&&qn.forEach(Bt=>{Bt.update(_e,xe,dt)}),$r?Zr(dt):ai(xe,dt),Nt),xr=()=>{ee&&($r?Wn.forEach(_e=>{_e.pause()}):fn.forEach(_e=>{Ee(_e,"animation-play-state","paused")}),wt=!0)},Li=()=>{yt=void 0,oi()},Oi=()=>{yt&&clearTimeout(yt)},Si=_e=>new Promise(xe=>{(null==_e?void 0:_e.sync)&&(Gt=!0,Wt(()=>Gt=!1,{oneTimeCallback:!0})),ee||cn(),Et&&($r?(Zn(0),Zr()):ai(),Et=!1),lt&&(Ye=qn.length+1,lt=!1),Wt(()=>xe(),{oneTimeCallback:!0}),qn.forEach(dt=>{dt.play()}),$r?(Wn.forEach(_e=>{_e.play()}),(0===ze.length||0===fn.length)&&oi()):(()=>{if(Oi(),(0,c.r)(()=>{fn.forEach(_e=>{ze.length>0&&Ee(_e,"animation-play-state","running")})}),0===ze.length||0===fn.length)oi();else{const _e=Pr()||0,xe=In()||0,dt=rr()||1;isFinite(dt)&&(yt=setTimeout(Li,_e+xe*dt+100)),((Fe,Se)=>{let Le;const De={passive:!0},ot=Ze=>{Fe===Ze.target&&(Le&&Le(),Oi(),(0,c.r)(()=>{fn.forEach(_e=>{ve(_e,"animation-duration"),ve(_e,"animation-delay"),ve(_e,"animation-play-state")}),(0,c.r)(oi)}))};Fe&&(Fe.addEventListener("webkitAnimationEnd",ot,De),Fe.addEventListener("animationend",ot,De),Le=()=>{Fe.removeEventListener("webkitAnimationEnd",ot,De),Fe.removeEventListener("animationend",ot,De)})})(fn[0])}})(),wt=!1}),pe=(_e,xe)=>{const dt=ze[0];return void 0===dt||void 0!==dt.offset&&0!==dt.offset?ze=[{offset:0,[_e]:xe},...ze]:dt[_e]=xe,Nt};return Nt={parentAnimation:Qe,elements:fn,childAnimations:qn,id:Pn,animationFinish:oi,from:pe,to:(_e,xe)=>{const dt=ze[ze.length-1];return void 0===dt||void 0!==dt.offset&&1!==dt.offset?ze=[...ze,{offset:1,[_e]:xe}]:dt[_e]=xe,Nt},fromTo:(_e,xe,dt)=>pe(_e,xe).to(_e,dt),parent:_e=>(Qe=_e,Nt),play:Si,pause:()=>(qn.forEach(_e=>{_e.pause()}),xr(),Nt),stop:()=>{qn.forEach(_e=>{_e.stop()}),ee&&(Un(),ee=!1),pt=!1,Gt=!1,lt=!0,ht=void 0,We=void 0,Ct=void 0,Ye=0,Et=!1,ft=!0,wt=!1},destroy:_e=>(qn.forEach(xe=>{xe.destroy(_e)}),(_e=>{Un(),_e&&Nn()})(_e),fn.length=0,qn.length=0,ze.length=0,Cn.length=0,yn.length=0,ee=!1,lt=!0,Nt),keyframes:_e=>{const xe=ze!==_e;return ze=_e,xe&&(_e=>{$r?Lt().forEach(xe=>{if(xe.effect.setKeyframes)xe.effect.setKeyframes(_e);else{const dt=new KeyframeEffect(xe.effect.target,_e,xe.effect.getTiming());xe.effect=dt}}):jn()})(ze),Nt},addAnimation:_e=>{if(null!=_e)if(Array.isArray(_e))for(const xe of _e)xe.parent(Nt),qn.push(xe);else _e.parent(Nt),qn.push(_e);return Nt},addElement:_e=>{if(null!=_e)if(1===_e.nodeType)fn.push(_e);else if(_e.length>=0)for(let xe=0;xe<_e.length;xe++)fn.push(_e[xe]);else console.error("Invalid addElement value");return Nt},update:lr,fill:_e=>(ot=_e,lr(!0),Nt),direction:_e=>(Ze=_e,lr(!0),Nt),iterations:_e=>(st=_e,lr(!0),Nt),duration:_e=>(!$r&&0===_e&&(_e=1),Le=_e,lr(!0),Nt),easing:_e=>(De=_e,lr(!0),Nt),delay:_e=>(Se=_e,lr(!0),Nt),getWebAnimations:Lt,getKeyframes:()=>ze,getFill:vn,getDirection:wn,getDelay:Pr,getIterations:rr,getEasing:Er,getDuration:In,afterAddRead:_e=>(_n.push(_e),Nt),afterAddWrite:_e=>(qr.push(_e),Nt),afterClearStyles:(_e=[])=>{for(const xe of _e)Ae[xe]="";return Nt},afterStyles:(_e={})=>(Ae=_e,Nt),afterRemoveClass:_e=>(ge=Ve(ge,_e),Nt),afterAddClass:_e=>(ye=Ve(ye,_e),Nt),beforeAddRead:_e=>(Ln.push(_e),Nt),beforeAddWrite:_e=>(kn.push(_e),Nt),beforeClearStyles:(_e=[])=>{for(const xe of _e)he[xe]="";return Nt},beforeStyles:(_e={})=>(he=_e,Nt),beforeRemoveClass:_e=>(Ke=Ve(Ke,_e),Nt),beforeAddClass:_e=>($e=Ve($e,_e),Nt),onFinish:Wt,isRunning:()=>0!==Ye&&!wt,progressStart:(_e=!1,xe)=>(qn.forEach(dt=>{dt.progressStart(_e,xe)}),xr(),pt=_e,ee||cn(),lr(!1,!0,xe),Nt),progressStep:_e=>(qn.forEach(xe=>{xe.progressStep(_e)}),Zn(_e),Nt),progressEnd:(_e,xe,dt)=>(pt=!1,qn.forEach(Bt=>{Bt.progressEnd(_e,xe,dt)}),void 0!==dt&&(We=dt),Et=!1,ft=!0,0===_e?(ht="reverse"===wn()?"normal":"reverse","reverse"===ht&&(ft=!1),$r?(lr(),Zn(1-xe)):(Ct=(1-xe)*In()*-1,lr(!1,!1))):1===_e&&($r?(lr(),Zn(xe)):(Ct=xe*In()*-1,lr(!1,!1))),void 0!==_e&&(Wt(()=>{We=void 0,ht=void 0,Ct=void 0},{oneTimeCallback:!0}),Qe||Si()),Nt)}}},3509:(Zt,at,P)=>{"use strict";P.d(at,{G:()=>Re});class J{constructor(ve,Ce,ke,fe,me){this.id=Ce,this.name=ke,this.disableScroll=me,this.priority=1e6*fe+Ce,this.ctrl=ve}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ve=this.ctrl.capture(this.name,this.id,this.priority);return ve&&this.disableScroll&&this.ctrl.disableScroll(this.id),ve}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class q{constructor(ve,Ce,ke,fe){this.id=Ce,this.disable=ke,this.disableScroll=fe,this.ctrl=ve}block(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.disableGesture(ve,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.enableGesture(ve,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Me="backdrop-no-scroll",Re=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ve){return new J(this,this.newID(),ve.name,ve.priority||0,!!ve.disableScroll)}createBlocker(ve={}){return new q(this,this.newID(),ve.disable,!!ve.disableScroll)}start(ve,Ce,ke){return this.canStart(ve)?(this.requestedStart.set(Ce,ke),!0):(this.requestedStart.delete(Ce),!1)}capture(ve,Ce,ke){if(!this.start(ve,Ce,ke))return!1;const fe=this.requestedStart;let me=-1e4;if(fe.forEach(Te=>{me=Math.max(me,Te)}),me===ke){this.capturedId=Ce,fe.clear();const Te=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ve}});return document.dispatchEvent(Te),!0}return fe.delete(Ce),!1}release(ve){this.requestedStart.delete(ve),this.capturedId===ve&&(this.capturedId=void 0)}disableGesture(ve,Ce){let ke=this.disabledGestures.get(ve);void 0===ke&&(ke=new Set,this.disabledGestures.set(ve,ke)),ke.add(Ce)}enableGesture(ve,Ce){const ke=this.disabledGestures.get(ve);void 0!==ke&&ke.delete(Ce)}disableScroll(ve){this.disabledScroll.add(ve),1===this.disabledScroll.size&&document.body.classList.add(Me)}enableScroll(ve){this.disabledScroll.delete(ve),0===this.disabledScroll.size&&document.body.classList.remove(Me)}canStart(ve){return!(void 0!==this.capturedId||this.isDisabled(ve))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ve){const Ce=this.disabledGestures.get(ve);return!!(Ce&&Ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Zt,at,P)=>{"use strict";P.r(at),P.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>Re,OVERLAY_BACK_BUTTON_PRIORITY:()=>Me,blockHardwareBackButton:()=>J,startHardwareBackButton:()=>q});var c=P(5861);const J=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const Ee=document;let ve=!1;Ee.addEventListener("backbutton",()=>{if(ve)return;let Ce=0,ke=[];const fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Pe,Ve){ke.push({priority:Pe,handler:Ve,id:Ce++})}}});Ee.dispatchEvent(fe);const me=function(){var Pe=(0,c.Z)(function*(Ve){try{if(null==Ve?void 0:Ve.handler){const tt=Ve.handler(Te);null!=tt&&(yield tt)}}catch(tt){console.error(tt)}});return function(tt){return Pe.apply(this,arguments)}}(),Te=()=>{if(ke.length>0){let Pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(Ve=>{Ve.priority>=Pe.priority&&(Pe=Ve)}),ve=!0,ke=ke.filter(Ve=>Ve.id!==Pe.id),me(Pe).then(()=>ve=!1)}};Te()})},Me=100,Re=99},3756:(Zt,at,P)=>{"use strict";P.d(at,{a:()=>ve,b:()=>Ce,c:()=>q,d:()=>Ve,e:()=>tt,f:()=>Pe,g:()=>ke,h:()=>ot,i:()=>Ee,j:()=>Me,k:()=>Te,l:()=>Fe,m:()=>me,n:()=>Se,o:()=>st,p:()=>De,q:()=>Ze,r:()=>fe,s:()=>ze,t:()=>c,u:()=>Le});const c=($e,Ke=0)=>new Promise(ee=>{J($e,Ke,ee)}),J=($e,Ke=0,ee)=>{let Qe,he;const ye={passive:!0},Ae=()=>{Qe&&Qe()},Ye=pt=>{(void 0===pt||$e===pt.target)&&(Ae(),ee(pt))};return $e&&($e.addEventListener("webkitTransitionEnd",Ye,ye),$e.addEventListener("transitionend",Ye,ye),he=setTimeout(Ye,Ke+500),Qe=()=>{he&&(clearTimeout(he),he=void 0),$e.removeEventListener("webkitTransitionEnd",Ye,ye),$e.removeEventListener("transitionend",Ye,ye)}),Ae},q=($e,Ke)=>{$e.componentOnReady?$e.componentOnReady().then(ee=>Ke(ee)):fe(()=>Ke($e))},Me=($e,Ke=[])=>{const ee={};return Ke.forEach(Qe=>{$e.hasAttribute(Qe)&&(null!==$e.getAttribute(Qe)&&(ee[Qe]=$e.getAttribute(Qe)),$e.removeAttribute(Qe))}),ee},Re=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ee=$e=>Me($e,Re),ve=($e,Ke,ee,Qe)=>{var he;if("undefined"!=typeof window){const ye=window,ge=null===(he=null==ye?void 0:ye.Ionic)||void 0===he?void 0:he.config;if(ge){const Ae=ge.get("_ael");if(Ae)return Ae($e,Ke,ee,Qe);if(ge._ael)return ge._ael($e,Ke,ee,Qe)}}return $e.addEventListener(Ke,ee,Qe)},Ce=($e,Ke,ee,Qe)=>{var he;if("undefined"!=typeof window){const ye=window,ge=null===(he=null==ye?void 0:ye.Ionic)||void 0===he?void 0:he.config;if(ge){const Ae=ge.get("_rel");if(Ae)return Ae($e,Ke,ee,Qe);if(ge._rel)return ge._rel($e,Ke,ee,Qe)}}return $e.removeEventListener(Ke,ee,Qe)},ke=($e,Ke=$e)=>$e.shadowRoot||Ke,fe=$e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame($e):"function"==typeof requestAnimationFrame?requestAnimationFrame($e):setTimeout($e),me=$e=>!!$e.shadowRoot&&!!$e.attachShadow,Te=$e=>{const Ke=$e.closest("ion-item");return Ke?Ke.querySelector("ion-label"):null},Pe=$e=>{if($e.focus(),$e.classList.contains("ion-focusable")){const Ke=$e.closest("ion-app");Ke&&Ke.setFocus([$e])}},Ve=($e,Ke)=>{let ee;const Qe=$e.getAttribute("aria-labelledby"),he=$e.id;let ye=null!==Qe&&""!==Qe.trim()?Qe:Ke+"-lbl",ge=null!==Qe&&""!==Qe.trim()?document.getElementById(Qe):Te($e);return ge?(null===Qe&&(ge.id=ye),ee=ge.textContent,ge.setAttribute("aria-hidden","true")):""!==he.trim()&&(ge=document.querySelector(`label[for="${he}"]`),ge&&(""!==ge.id?ye=ge.id:ge.id=ye=`${he}-lbl`,ee=ge.textContent)),{label:ge,labelId:ye,labelText:ee}},tt=($e,Ke,ee,Qe,he)=>{if($e||me(Ke)){let ye=Ke.querySelector("input.aux-input");ye||(ye=Ke.ownerDocument.createElement("input"),ye.type="hidden",ye.classList.add("aux-input"),Ke.appendChild(ye)),ye.disabled=he,ye.name=ee,ye.value=Qe||""}},Fe=($e,Ke,ee)=>Math.max($e,Math.min(Ke,ee)),Se=($e,Ke)=>{if(!$e){const ee="ASSERT: "+Ke;throw console.error(ee),new Error(ee)}},Le=$e=>$e.timeStamp||Date.now(),De=$e=>{if($e){const Ke=$e.changedTouches;if(Ke&&Ke.length>0){const ee=Ke[0];return{x:ee.clientX,y:ee.clientY}}if(void 0!==$e.pageX)return{x:$e.pageX,y:$e.pageY}}return{x:0,y:0}},st=$e=>{const Ke="rtl"===document.dir;switch($e){case"start":return Ke;case"end":return!Ke;default:throw new Error(`"${$e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ot=($e,Ke)=>{const ee=$e._original||$e;return{_original:$e,emit:Ze(ee.emit.bind(ee),Ke)}},Ze=($e,Ke=0)=>{let ee;return(...Qe)=>{clearTimeout(ee),ee=setTimeout($e,Ke,...Qe)}},ze=($e,Ke)=>{if(null!=$e||($e={}),null!=Ke||(Ke={}),$e===Ke)return!0;const ee=Object.keys($e);if(ee.length!==Object.keys(Ke).length)return!1;for(const Qe of ee)if(!(Qe in Ke)||$e[Qe]!==Ke[Qe])return!1;return!0}},4318:(Zt,at,P)=>{"use strict";P.d(at,{L:()=>Me,a:()=>Re,b:()=>Ee,c:()=>ve,d:()=>Ce,e:()=>Ke,g:()=>he,l:()=>ze,s:()=>ee,t:()=>me});var c=P(5861),J=P(2361),q=P(3756);const Me="ionViewWillEnter",Re="ionViewDidEnter",Ee="ionViewWillLeave",ve="ionViewDidLeave",Ce="ionViewWillUnload",me=ye=>new Promise((ge,Ae)=>{(0,J.c)(()=>{Te(ye),Pe(ye).then(Ye=>{Ye.animation&&Ye.animation.destroy(),Ve(ye),ge(Ye)},Ye=>{Ve(ye),Ae(Ye)})})}),Te=ye=>{const ge=ye.enteringEl,Ae=ye.leavingEl;Qe(ge,Ae,ye.direction),ye.showGoBack?ge.classList.add("can-go-back"):ge.classList.remove("can-go-back"),ee(ge,!1),ge.style.setProperty("pointer-events","none"),Ae&&(ee(Ae,!1),Ae.style.setProperty("pointer-events","none"))},Pe=function(){var ye=(0,c.Z)(function*(ge){const Ae=yield tt(ge);return Ae&&J.B.isBrowser?Fe(Ae,ge):Se(ge)});return function(Ae){return ye.apply(this,arguments)}}(),Ve=ye=>{const ge=ye.enteringEl,Ae=ye.leavingEl;ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events"),void 0!==Ae&&(Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"))},tt=function(){var ye=(0,c.Z)(function*(ge){return ge.leavingEl&&ge.animated&&0!==ge.duration?ge.animationBuilder?ge.animationBuilder:"ios"===ge.mode?(yield Promise.resolve().then(P.bind(P,1815))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,6447))).mdTransitionAnimation:void 0});return function(Ae){return ye.apply(this,arguments)}}(),Fe=function(){var ye=(0,c.Z)(function*(ge,Ae){yield Le(Ae,!0);const Ye=ge(Ae.baseEl,Ae);ot(Ae.enteringEl,Ae.leavingEl);const pt=yield st(Ye,Ae);return Ae.progressCallback&&Ae.progressCallback(void 0),pt&&Ze(Ae.enteringEl,Ae.leavingEl),{hasCompleted:pt,animation:Ye}});return function(Ae,Ye){return ye.apply(this,arguments)}}(),Se=function(){var ye=(0,c.Z)(function*(ge){const Ae=ge.enteringEl,Ye=ge.leavingEl;return yield Le(ge,!1),ot(Ae,Ye),Ze(Ae,Ye),{hasCompleted:!0}});return function(Ae){return ye.apply(this,arguments)}}(),Le=function(){var ye=(0,c.Z)(function*(ge,Ae){const pt=(void 0!==ge.deepWait?ge.deepWait:Ae)?[Ke(ge.enteringEl),Ke(ge.leavingEl)]:[$e(ge.enteringEl),$e(ge.leavingEl)];yield Promise.all(pt),yield De(ge.viewIsReady,ge.enteringEl)});return function(Ae,Ye){return ye.apply(this,arguments)}}(),De=function(){var ye=(0,c.Z)(function*(ge,Ae){ge&&(yield ge(Ae))});return function(Ae,Ye){return ye.apply(this,arguments)}}(),st=(ye,ge)=>{const Ae=ge.progressCallback,Ye=new Promise(pt=>{ye.onFinish(Gt=>pt(1===Gt))});return Ae?(ye.progressStart(!0),Ae(ye)):ye.play(),Ye},ot=(ye,ge)=>{ze(ge,Ee),ze(ye,Me)},Ze=(ye,ge)=>{ze(ye,Re),ze(ge,ve)},ze=(ye,ge)=>{if(ye){const Ae=new CustomEvent(ge,{bubbles:!1,cancelable:!1});ye.dispatchEvent(Ae)}},$e=ye=>ye?new Promise(ge=>(0,q.c)(ye,ge)):Promise.resolve(),Ke=function(){var ye=(0,c.Z)(function*(ge){const Ae=ge;if(Ae){if(null!=Ae.componentOnReady){if(null!=(yield Ae.componentOnReady()))return}else if(null!=Ae.__registerHost)return void(yield new Promise(pt=>(0,q.r)(pt)));yield Promise.all(Array.from(Ae.children).map(Ke))}});return function(Ae){return ye.apply(this,arguments)}}(),ee=(ye,ge)=>{ge?(ye.setAttribute("aria-hidden","true"),ye.classList.add("ion-page-hidden")):(ye.hidden=!1,ye.removeAttribute("aria-hidden"),ye.classList.remove("ion-page-hidden"))},Qe=(ye,ge,Ae)=>{void 0!==ye&&(ye.style.zIndex="back"===Ae?"99":"101"),void 0!==ge&&(ge.style.zIndex="100")},he=ye=>ye.classList.contains("ion-page")?ye:ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ye},3139:(Zt,at,P)=>{"use strict";P.r(at),P.d(at,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>ke});var c=P(3509);const J=(Pe,Ve,tt,Fe)=>{const Se=q(Pe)?{capture:!!Fe.capture,passive:!!Fe.passive}:!!Fe.capture;let Le,De;return Pe.__zone_symbol__addEventListener?(Le="__zone_symbol__addEventListener",De="__zone_symbol__removeEventListener"):(Le="addEventListener",De="removeEventListener"),Pe[Le](Ve,tt,Se),()=>{Pe[De](Ve,tt,Se)}},q=Pe=>{if(void 0===Me)try{const Ve=Object.defineProperty({},"passive",{get:()=>{Me=!0}});Pe.addEventListener("optsTest",()=>{},Ve)}catch(Ve){Me=!1}return!!Me};let Me;const ve=Pe=>Pe instanceof Document?Pe:Pe.ownerDocument,ke=Pe=>{let Ve=!1,tt=!1,Fe=!0,Se=!1;const Le=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Pe),De=Le.canStart,st=Le.onWillStart,ot=Le.onStart,Ze=Le.onEnd,ze=Le.notCaptured,$e=Le.onMove,Ke=Le.threshold,ee=Le.passive,Qe=Le.blurOnStart,he={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ye=((Pe,Ve,tt)=>{const Fe=tt*(Math.PI/180),Se="x"===Pe,Le=Math.cos(Fe),De=Ve*Ve;let st=0,ot=0,Ze=!1,ze=0;return{start($e,Ke){st=$e,ot=Ke,ze=0,Ze=!0},detect($e,Ke){if(!Ze)return!1;const ee=$e-st,Qe=Ke-ot,he=ee*ee+Qe*Qe;if(he<De)return!1;const ye=Math.sqrt(he),ge=(Se?ee:Qe)/ye;return ze=ge>Le?1:ge<-Le?-1:0,Ze=!1,!0},isGesture:()=>0!==ze,getDirection:()=>ze}})(Le.direction,Le.threshold,Le.maxAngle),ge=c.G.createGesture({name:Pe.gestureName,priority:Pe.gesturePriority,disableScroll:Pe.disableScroll}),pt=()=>{!Ve||(Se=!1,$e&&$e(he))},Gt=()=>!(ge&&!ge.capture()||(Ve=!0,Fe=!1,he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime,st?st(he).then(ht):ht(),0)),ht=()=>{Qe&&(()=>{if("undefined"!=typeof document){const lt=document.activeElement;(null==lt?void 0:lt.blur)&&lt.blur()}})(),ot&&ot(he),Fe=!0},We=()=>{Ve=!1,tt=!1,Se=!1,Fe=!0,ge.release()},Ct=lt=>{const Kt=Ve,Nt=Fe;if(We(),Nt){if(fe(he,lt),Kt)return void(Ze&&Ze(he));ze&&ze(he)}},ft=((Pe,Ve,tt,Fe,Se)=>{let Le,De,st,ot,Ze,ze,$e,Ke=0;const ee=yt=>{Ke=Date.now()+2e3,Ve(yt)&&(!De&&tt&&(De=J(Pe,"touchmove",tt,Se)),st||(st=J(yt.target,"touchend",he,Se)),ot||(ot=J(yt.target,"touchcancel",he,Se)))},Qe=yt=>{Ke>Date.now()||!Ve(yt)||(!ze&&tt&&(ze=J(ve(Pe),"mousemove",tt,Se)),$e||($e=J(ve(Pe),"mouseup",ye,Se)))},he=yt=>{ge(),Fe&&Fe(yt)},ye=yt=>{Ae(),Fe&&Fe(yt)},ge=()=>{De&&De(),st&&st(),ot&&ot(),De=st=ot=void 0},Ae=()=>{ze&&ze(),$e&&$e(),ze=$e=void 0},Ye=()=>{ge(),Ae()},pt=(yt=!0)=>{yt?(Le||(Le=J(Pe,"touchstart",ee,Se)),Ze||(Ze=J(Pe,"mousedown",Qe,Se))):(Le&&Le(),Ze&&Ze(),Le=Ze=void 0,Ye())};return{enable:pt,stop:Ye,destroy:()=>{pt(!1),Fe=tt=Ve=void 0}}})(Le.el,lt=>{const Kt=Te(lt);return!(tt||!Fe||(me(lt,he),he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime=Kt,he.velocityX=he.velocityY=he.deltaX=he.deltaY=0,he.event=lt,De&&!1===De(he))||(ge.release(),!ge.start()))&&(tt=!0,0===Ke?Gt():(ye.start(he.startX,he.startY),!0))},lt=>{Ve?!Se&&Fe&&(Se=!0,fe(he,lt),requestAnimationFrame(pt)):(fe(he,lt),ye.detect(he.currentX,he.currentY)&&(!ye.isGesture()||!Gt())&&Et())},Ct,{capture:!1,passive:ee}),Et=()=>{We(),ft.stop(),ze&&ze(he)};return{enable(lt=!0){lt||(Ve&&Ct(void 0),We()),ft.enable(lt)},destroy(){ge.destroy(),ft.destroy()}}},fe=(Pe,Ve)=>{if(!Ve)return;const tt=Pe.currentX,Fe=Pe.currentY,Se=Pe.currentTime;me(Ve,Pe);const Le=Pe.currentX,De=Pe.currentY,ot=(Pe.currentTime=Te(Ve))-Se;if(ot>0&&ot<100){const ze=(De-Fe)/ot;Pe.velocityX=(Le-tt)/ot*.7+.3*Pe.velocityX,Pe.velocityY=.7*ze+.3*Pe.velocityY}Pe.deltaX=Le-Pe.startX,Pe.deltaY=De-Pe.startY,Pe.event=Ve},me=(Pe,Ve)=>{let tt=0,Fe=0;if(Pe){const Se=Pe.changedTouches;if(Se&&Se.length>0){const Le=Se[0];tt=Le.clientX,Fe=Le.clientY}else void 0!==Pe.pageX&&(tt=Pe.pageX,Fe=Pe.pageY)}Ve.currentX=tt,Ve.currentY=Fe},Te=Pe=>Pe.timeStamp||Date.now()},2361:(Zt,at,P)=>{"use strict";P.d(at,{B:()=>Si,H:()=>qn,a:()=>Et,b:()=>Lr,c:()=>ui,e:()=>Xe,f:()=>Cr,g:()=>lt,h:()=>yn,i:()=>je,j:()=>Er,k:()=>oi,p:()=>Fe,r:()=>cn,s:()=>Ve});var c=P(5861);let q,Me,Re,Ee=!1,ve=!1,Ce=!1,ke=!1,fe=!1;const me="undefined"!=typeof window?window:{},Te=me.document||{head:{}},Pe={$flags$:0,$resourcesUrl$:"",jmp:re=>re(),raf:re=>requestAnimationFrame(re),ael:(re,pe,et,ct)=>re.addEventListener(pe,et,ct),rel:(re,pe,et,ct)=>re.removeEventListener(pe,et,ct),ce:(re,pe)=>new CustomEvent(re,pe)},Ve=re=>{Object.assign(Pe,re)},Fe=re=>Promise.resolve(re),Se=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(re){}return!1})(),Le=(re,pe,et,ct)=>{et&&et.map(([_e,xe,dt])=>{const Bt=st(re,_e),Mt=De(pe,dt),kt=ot(_e);Pe.ael(Bt,xe,Mt,kt),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>Pe.rel(Bt,xe,Mt,kt))})},De=(re,pe)=>et=>{try{256&re.$flags$?re.$lazyInstance$[pe](et):(re.$queuedListeners$=re.$queuedListeners$||[]).push([pe,et])}catch(ct){ai(ct)}},st=(re,pe)=>4&pe?Te:8&pe?me:16&pe?Te.body:re,ot=re=>0!=(2&re),ee="s-id",Qe="sty-id",ge="http://www.w3.org/1999/xlink",pt=new WeakMap,Gt=(re,pe,et)=>{let ct=wr.get(re);Se&&et?(ct=ct||new CSSStyleSheet,ct.replace(pe)):ct=pe,wr.set(re,ct)},yt=(re,pe,et,ct)=>{let _e=We(pe,et),xe=wr.get(_e);if(re=11===re.nodeType?re:Te,xe)if("string"==typeof xe){let Bt,dt=pt.get(re=re.head||re);dt||pt.set(re,dt=new Set),dt.has(_e)||(re.host&&(Bt=re.querySelector(`[${Qe}="${_e}"]`))?Bt.innerHTML=xe:(Bt=Te.createElement("style"),Bt.innerHTML=xe,re.insertBefore(Bt,re.querySelector("link"))),dt&&dt.add(_e))}else re.adoptedStyleSheets.includes(xe)||(re.adoptedStyleSheets=[...re.adoptedStyleSheets,xe]);return _e},We=(re,pe)=>"sc-"+(pe&&32&re.$flags$?re.$tagName$+"-"+pe:re.$tagName$),Ct=re=>re.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Et=re=>mi.push(re),lt=re=>te(re).$modeName$,Kt={},Cn=re=>"object"==(re=typeof re)||"function"===re,yn=(re,pe,...et)=>{let ct=null,_e=null,xe=null,dt=!1,Bt=!1,Mt=[];const kt=An=>{for(let Xn=0;Xn<An.length;Xn++)ct=An[Xn],Array.isArray(ct)?kt(ct):null!=ct&&"boolean"!=typeof ct&&((dt="function"!=typeof re&&!Cn(ct))&&(ct=String(ct)),dt&&Bt?Mt[Mt.length-1].$text$+=ct:Mt.push(dt?fn(null,ct):ct),Bt=dt)};if(kt(et),pe){pe.key&&(_e=pe.key),pe.name&&(xe=pe.name);{const An=pe.className||pe.class;An&&(pe.class="object"!=typeof An?An:Object.keys(An).filter(Xn=>An[Xn]).join(" "))}}if("function"==typeof re)return re(null===pe?{}:pe,Mt,Ln);const ln=fn(re,null);return ln.$attrs$=pe,Mt.length>0&&(ln.$children$=Mt),ln.$key$=_e,ln.$name$=xe,ln},fn=(re,pe)=>({$flags$:0,$tag$:re,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),qn={},Ln={forEach:(re,pe)=>re.map(kn).forEach(pe),map:(re,pe)=>re.map(kn).map(pe).map(_n)},kn=re=>({vattrs:re.$attrs$,vchildren:re.$children$,vkey:re.$key$,vname:re.$name$,vtag:re.$tag$,vtext:re.$text$}),_n=re=>{if("function"==typeof re.vtag){const et=Object.assign({},re.vattrs);return re.vkey&&(et.key=re.vkey),re.vname&&(et.name=re.vname),yn(re.vtag,et,...re.vchildren||[])}const pe=fn(re.vtag,re.vtext);return pe.$attrs$=re.vattrs,pe.$children$=re.vchildren,pe.$key$=re.vkey,pe.$name$=re.vname,pe},qr=(re,pe,et,ct,_e,xe)=>{if(et!==ct){let dt=Zr(re,pe),Bt=pe.toLowerCase();if("class"===pe){const Mt=re.classList,kt=Yn(et),ln=Yn(ct);Mt.remove(...kt.filter(An=>An&&!ln.includes(An))),Mt.add(...ln.filter(An=>An&&!kt.includes(An)))}else if("style"===pe){for(const Mt in et)(!ct||null==ct[Mt])&&(Mt.includes("-")?re.style.removeProperty(Mt):re.style[Mt]="");for(const Mt in ct)(!et||ct[Mt]!==et[Mt])&&(Mt.includes("-")?re.style.setProperty(Mt,ct[Mt]):re.style[Mt]=ct[Mt])}else if("key"!==pe)if("ref"===pe)ct&&ct(re);else if(dt||"o"!==pe[0]||"n"!==pe[1]){const Mt=Cn(ct);if((dt||Mt&&null!==ct)&&!_e)try{if(re.tagName.includes("-"))re[pe]=ct;else{let ln=null==ct?"":ct;"list"===pe?dt=!1:(null==et||re[pe]!=ln)&&(re[pe]=ln)}}catch(ln){}let kt=!1;Bt!==(Bt=Bt.replace(/^xlink\:?/,""))&&(pe=Bt,kt=!0),null==ct||!1===ct?(!1!==ct||""===re.getAttribute(pe))&&(kt?re.removeAttributeNS(ge,pe):re.removeAttribute(pe)):(!dt||4&xe||_e)&&!Mt&&(ct=!0===ct?"":ct,kt?re.setAttributeNS(ge,pe,ct):re.setAttribute(pe,ct))}else pe="-"===pe[2]?pe.slice(3):Zr(me,Bt)?Bt.slice(2):Bt[2]+pe.slice(3),et&&Pe.rel(re,pe,et,!1),ct&&Pe.ael(re,pe,ct,!1)}},Wn=/\s/,Yn=re=>re?re.split(Wn):[],$r=(re,pe,et,ct)=>{const _e=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,xe=re&&re.$attrs$||Kt,dt=pe.$attrs$||Kt;for(ct in xe)ct in dt||qr(_e,ct,xe[ct],void 0,et,pe.$flags$);for(ct in dt)qr(_e,ct,xe[ct],dt[ct],et,pe.$flags$)},fi=(re,pe,et,ct)=>{let dt,Bt,Mt,_e=pe.$children$[et],xe=0;if(Ee||(Ce=!0,"slot"===_e.$tag$&&(q&&ct.classList.add(q+"-s"),_e.$flags$|=_e.$children$?2:1)),null!==_e.$text$)dt=_e.$elm$=Te.createTextNode(_e.$text$);else if(1&_e.$flags$)dt=_e.$elm$=Te.createTextNode("");else{if(ke||(ke="svg"===_e.$tag$),dt=_e.$elm$=Te.createElementNS(ke?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&_e.$flags$?"slot-fb":_e.$tag$),ke&&"foreignObject"===_e.$tag$&&(ke=!1),$r(null,_e,ke),(re=>null!=re)(q)&&dt["s-si"]!==q&&dt.classList.add(dt["s-si"]=q),_e.$children$)for(xe=0;xe<_e.$children$.length;++xe)Bt=fi(re,_e,xe,dt),Bt&&dt.appendChild(Bt);"svg"===_e.$tag$?ke=!1:"foreignObject"===dt.tagName&&(ke=!0)}return dt["s-hn"]=Re,3&_e.$flags$&&(dt["s-sr"]=!0,dt["s-cr"]=Me,dt["s-sn"]=_e.$name$||"",Mt=re&&re.$children$&&re.$children$[et],Mt&&Mt.$tag$===_e.$tag$&&re.$elm$&&Lt(re.$elm$,!1)),dt},Lt=(re,pe)=>{Pe.$flags$|=1;const et=re.childNodes;for(let ct=et.length-1;ct>=0;ct--){const _e=et[ct];_e["s-hn"]!==Re&&_e["s-ol"]&&(It(_e).insertBefore(_e,Wt(_e)),_e["s-ol"].remove(),_e["s-ol"]=void 0,Ce=!0),pe&&Lt(_e,pe)}Pe.$flags$&=-2},qe=(re,pe,et,ct,_e,xe)=>{let Bt,dt=re["s-cr"]&&re["s-cr"].parentNode||re;for(dt.shadowRoot&&dt.tagName===Re&&(dt=dt.shadowRoot);_e<=xe;++_e)ct[_e]&&(Bt=fi(null,et,_e,re),Bt&&(ct[_e].$elm$=Bt,dt.insertBefore(Bt,Wt(pe))))},Je=(re,pe,et,ct,_e)=>{for(;pe<=et;++pe)(ct=re[pe])&&(_e=ct.$elm$,Ar(ct),ve=!0,_e["s-ol"]?_e["s-ol"].remove():Lt(_e,!0),_e.remove())},vt=(re,pe)=>re.$tag$===pe.$tag$&&("slot"===re.$tag$?re.$name$===pe.$name$:re.$key$===pe.$key$),Wt=re=>re&&re["s-ol"]||re,It=re=>(re["s-ol"]?re["s-ol"]:re).parentNode,Un=(re,pe)=>{const et=pe.$elm$=re.$elm$,ct=re.$children$,_e=pe.$children$,xe=pe.$tag$,dt=pe.$text$;let Bt;null===dt?(ke="svg"===xe||"foreignObject"!==xe&&ke,"slot"===xe||$r(re,pe,ke),null!==ct&&null!==_e?((re,pe,et,ct)=>{let ci,Ii,_e=0,xe=0,dt=0,Bt=0,Mt=pe.length-1,kt=pe[0],ln=pe[Mt],An=ct.length-1,Xn=ct[0],nr=ct[An];for(;_e<=Mt&&xe<=An;)if(null==kt)kt=pe[++_e];else if(null==ln)ln=pe[--Mt];else if(null==Xn)Xn=ct[++xe];else if(null==nr)nr=ct[--An];else if(vt(kt,Xn))Un(kt,Xn),kt=pe[++_e],Xn=ct[++xe];else if(vt(ln,nr))Un(ln,nr),ln=pe[--Mt],nr=ct[--An];else if(vt(kt,nr))("slot"===kt.$tag$||"slot"===nr.$tag$)&&Lt(kt.$elm$.parentNode,!1),Un(kt,nr),re.insertBefore(kt.$elm$,ln.$elm$.nextSibling),kt=pe[++_e],nr=ct[--An];else if(vt(ln,Xn))("slot"===kt.$tag$||"slot"===nr.$tag$)&&Lt(ln.$elm$.parentNode,!1),Un(ln,Xn),re.insertBefore(ln.$elm$,kt.$elm$),ln=pe[--Mt],Xn=ct[++xe];else{for(dt=-1,Bt=_e;Bt<=Mt;++Bt)if(pe[Bt]&&null!==pe[Bt].$key$&&pe[Bt].$key$===Xn.$key$){dt=Bt;break}dt>=0?(Ii=pe[dt],Ii.$tag$!==Xn.$tag$?ci=fi(pe&&pe[xe],et,dt,re):(Un(Ii,Xn),pe[dt]=void 0,ci=Ii.$elm$),Xn=ct[++xe]):(ci=fi(pe&&pe[xe],et,xe,re),Xn=ct[++xe]),ci&&It(kt.$elm$).insertBefore(ci,Wt(kt.$elm$))}_e>Mt?qe(re,null==ct[An+1]?null:ct[An+1].$elm$,et,ct,xe,An):xe>An&&Je(pe,_e,Mt)})(et,ct,pe,_e):null!==_e?(null!==re.$text$&&(et.textContent=""),qe(et,null,pe,_e,0,_e.length-1)):null!==ct&&Je(ct,0,ct.length-1),ke&&"svg"===xe&&(ke=!1)):(Bt=et["s-cr"])?Bt.parentNode.textContent=dt:re.$text$!==dt&&(et.data=dt)},Nn=re=>{let et,ct,_e,xe,dt,Bt,pe=re.childNodes;for(ct=0,_e=pe.length;ct<_e;ct++)if(et=pe[ct],1===et.nodeType){if(et["s-sr"])for(dt=et["s-sn"],et.hidden=!1,xe=0;xe<_e;xe++)if(Bt=pe[xe].nodeType,pe[xe]["s-hn"]!==et["s-hn"]||""!==dt){if(1===Bt&&dt===pe[xe].getAttribute("slot")){et.hidden=!0;break}}else if(1===Bt||3===Bt&&""!==pe[xe].textContent.trim()){et.hidden=!0;break}Nn(et)}},pn=[],ei=re=>{let pe,et,ct,_e,xe,dt,Bt=0,Mt=re.childNodes,kt=Mt.length;for(;Bt<kt;Bt++){if(pe=Mt[Bt],pe["s-sr"]&&(et=pe["s-cr"])&&et.parentNode)for(ct=et.parentNode.childNodes,_e=pe["s-sn"],dt=ct.length-1;dt>=0;dt--)et=ct[dt],!et["s-cn"]&&!et["s-nr"]&&et["s-hn"]!==pe["s-hn"]&&(hr(et,_e)?(xe=pn.find(ln=>ln.$nodeToRelocate$===et),ve=!0,et["s-sn"]=et["s-sn"]||_e,xe?xe.$slotRefNode$=pe:pn.push({$slotRefNode$:pe,$nodeToRelocate$:et}),et["s-sr"]&&pn.map(ln=>{hr(ln.$nodeToRelocate$,et["s-sn"])&&(xe=pn.find(An=>An.$nodeToRelocate$===et),xe&&!ln.$slotRefNode$&&(ln.$slotRefNode$=xe.$slotRefNode$))})):pn.some(ln=>ln.$nodeToRelocate$===et)||pn.push({$nodeToRelocate$:et}));1===pe.nodeType&&ei(pe)}},hr=(re,pe)=>1===re.nodeType?null===re.getAttribute("slot")&&""===pe||re.getAttribute("slot")===pe:re["s-sn"]===pe||""===pe,Ar=re=>{re.$attrs$&&re.$attrs$.ref&&re.$attrs$.ref(null),re.$children$&&re.$children$.map(Ar)},je=re=>te(re).$hostElement$,Xe=(re,pe,et)=>{const ct=je(re);return{emit:_e=>xt(ct,pe,{bubbles:!!(4&et),composed:!!(2&et),cancelable:!!(1&et),detail:_e})}},xt=(re,pe,et)=>{const ct=Pe.ce(pe,et);return re.dispatchEvent(ct),ct},Be=(re,pe)=>{pe&&!re.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(et=>re.$onRenderResolve$=et))},gt=(re,pe)=>{if(re.$flags$|=16,!(4&re.$flags$))return Be(re,re.$ancestorComponent$),ui(()=>Ht(re,pe));re.$flags$|=512},Ht=(re,pe)=>{const ct=re.$lazyInstance$;let _e;return pe&&(re.$flags$|=256,re.$queuedListeners$&&(re.$queuedListeners$.map(([xe,dt])=>rr(ct,xe,dt)),re.$queuedListeners$=null),_e=rr(ct,"componentWillLoad")),_e=Pr(_e,()=>rr(ct,"componentWillRender")),Pr(_e,()=>rn(re,ct,pe))},rn=function(){var re=(0,c.Z)(function*(pe,et,ct){const _e=pe.$hostElement$,dt=_e["s-rc"];ct&&(re=>{const pe=re.$cmpMeta$,et=re.$hostElement$,ct=pe.$flags$,xe=yt(et.shadowRoot?et.shadowRoot:et.getRootNode(),pe,re.$modeName$);10&ct&&(et["s-sc"]=xe,et.classList.add(xe+"-h"),2&ct&&et.classList.add(xe+"-s"))})(pe);vn(pe,et),dt&&(dt.map(Mt=>Mt()),_e["s-rc"]=void 0);{const Mt=_e["s-p"],kt=()=>wn(pe);0===Mt.length?kt():(Promise.all(Mt).then(kt),pe.$flags$|=4,Mt.length=0)}});return function(et,ct,_e){return re.apply(this,arguments)}}(),vn=(re,pe,et)=>{try{pe=pe.render&&pe.render(),re.$flags$&=-17,re.$flags$|=2,((re,pe)=>{const et=re.$hostElement$,ct=re.$cmpMeta$,_e=re.$vnode$||fn(null,null),xe=(re=>re&&re.$tag$===qn)(pe)?pe:yn(null,null,pe);if(Re=et.tagName,ct.$attrsToReflect$&&(xe.$attrs$=xe.$attrs$||{},ct.$attrsToReflect$.map(([dt,Bt])=>xe.$attrs$[Bt]=et[dt])),xe.$tag$=null,xe.$flags$|=4,re.$vnode$=xe,xe.$elm$=_e.$elm$=et.shadowRoot||et,q=et["s-sc"],Me=et["s-cr"],Ee=0!=(1&ct.$flags$),ve=!1,Un(_e,xe),Pe.$flags$|=1,Ce){ei(xe.$elm$);let dt,Bt,Mt,kt,ln,An,Xn=0;for(;Xn<pn.length;Xn++)dt=pn[Xn],Bt=dt.$nodeToRelocate$,Bt["s-ol"]||(Mt=Te.createTextNode(""),Mt["s-nr"]=Bt,Bt.parentNode.insertBefore(Bt["s-ol"]=Mt,Bt));for(Xn=0;Xn<pn.length;Xn++)if(dt=pn[Xn],Bt=dt.$nodeToRelocate$,dt.$slotRefNode$){for(kt=dt.$slotRefNode$.parentNode,ln=dt.$slotRefNode$.nextSibling,Mt=Bt["s-ol"];Mt=Mt.previousSibling;)if(An=Mt["s-nr"],An&&An["s-sn"]===Bt["s-sn"]&&kt===An.parentNode&&(An=An.nextSibling,!An||!An["s-nr"])){ln=An;break}(!ln&&kt!==Bt.parentNode||Bt.nextSibling!==ln)&&Bt!==ln&&(!Bt["s-hn"]&&Bt["s-ol"]&&(Bt["s-hn"]=Bt["s-ol"].parentNode.nodeName),kt.insertBefore(Bt,ln))}else 1===Bt.nodeType&&(Bt.hidden=!0)}ve&&Nn(xe.$elm$),Pe.$flags$&=-2,pn.length=0})(re,pe)}catch(ct){ai(ct,re.$hostElement$)}return null},wn=re=>{const et=re.$hostElement$,_e=re.$lazyInstance$,xe=re.$ancestorComponent$;rr(_e,"componentDidRender"),64&re.$flags$?rr(_e,"componentDidUpdate"):(re.$flags$|=64,Fi(et),rr(_e,"componentDidLoad"),re.$onReadyResolve$(et),xe||In()),re.$onInstanceResolve$(et),re.$onRenderResolve$&&(re.$onRenderResolve$(),re.$onRenderResolve$=void 0),512&re.$flags$&&li(()=>gt(re,!1)),re.$flags$&=-517},Er=re=>{{const pe=te(re),et=pe.$hostElement$.isConnected;return et&&2==(18&pe.$flags$)&&gt(pe,!1),et}},In=re=>{Fi(Te.documentElement),li(()=>xt(me,"appload",{detail:{namespace:"ionic"}}))},rr=(re,pe,et)=>{if(re&&re[pe])try{return re[pe](et)}catch(ct){ai(ct)}},Pr=(re,pe)=>re&&re.then?re.then(pe):pe(),Fi=re=>re.classList.add("hydrated"),Bn=(re,pe,et,ct,_e,xe,dt)=>{let Bt,Mt,kt,ln;if(1===xe.nodeType){for(Bt=xe.getAttribute("c-id"),Bt&&(Mt=Bt.split("."),(Mt[0]===dt||"0"===Mt[0])&&(kt={$flags$:0,$hostId$:Mt[0],$nodeId$:Mt[1],$depth$:Mt[2],$index$:Mt[3],$tag$:xe.tagName.toLowerCase(),$elm$:xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(kt),xe.removeAttribute("c-id"),re.$children$||(re.$children$=[]),re.$children$[kt.$index$]=kt,re=kt,ct&&"0"===kt.$depth$&&(ct[kt.$index$]=kt.$elm$))),ln=xe.childNodes.length-1;ln>=0;ln--)Bn(re,pe,et,ct,_e,xe.childNodes[ln],dt);if(xe.shadowRoot)for(ln=xe.shadowRoot.childNodes.length-1;ln>=0;ln--)Bn(re,pe,et,ct,_e,xe.shadowRoot.childNodes[ln],dt)}else if(8===xe.nodeType)Mt=xe.nodeValue.split("."),(Mt[1]===dt||"0"===Mt[1])&&(Bt=Mt[0],kt={$flags$:0,$hostId$:Mt[1],$nodeId$:Mt[2],$depth$:Mt[3],$index$:Mt[4],$elm$:xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Bt?(kt.$elm$=xe.nextSibling,kt.$elm$&&3===kt.$elm$.nodeType&&(kt.$text$=kt.$elm$.textContent,pe.push(kt),xe.remove(),re.$children$||(re.$children$=[]),re.$children$[kt.$index$]=kt,ct&&"0"===kt.$depth$&&(ct[kt.$index$]=kt.$elm$))):kt.$hostId$===dt&&("s"===Bt?(kt.$tag$="slot",xe["s-sn"]=Mt[5]?kt.$name$=Mt[5]:"",xe["s-sr"]=!0,ct&&(kt.$elm$=Te.createElement(kt.$tag$),kt.$name$&&kt.$elm$.setAttribute("name",kt.$name$),xe.parentNode.insertBefore(kt.$elm$,xe),xe.remove(),"0"===kt.$depth$&&(ct[kt.$index$]=kt.$elm$)),et.push(kt),re.$children$||(re.$children$=[]),re.$children$[kt.$index$]=kt):"r"===Bt&&(ct?xe.remove():(_e["s-cr"]=xe,xe["s-cn"]=!0))));else if(re&&"style"===re.$tag$){const An=fn(null,xe.textContent);An.$elm$=xe,An.$index$="0",re.$children$=[An]}},wi=(re,pe)=>{if(1===re.nodeType){let et=0;for(;et<re.childNodes.length;et++)wi(re.childNodes[et],pe);if(re.shadowRoot)for(et=0;et<re.shadowRoot.childNodes.length;et++)wi(re.shadowRoot.childNodes[et],pe)}else if(8===re.nodeType){const et=re.nodeValue.split(".");"o"===et[0]&&(pe.set(et[1]+"."+et[2],re),re.nodeValue="",re["s-en"]=et[3])}},kr=(re,pe,et)=>{if(pe.$members$){re.watchers&&(pe.$watchers$=re.watchers);const ct=Object.entries(pe.$members$),_e=re.prototype;if(ct.map(([xe,[dt]])=>{31&dt||2&et&&32&dt?Object.defineProperty(_e,xe,{get(){return((re,pe)=>te(this).$instanceValues$.get(pe))(0,xe)},set(Bt){((re,pe,et,ct)=>{const _e=te(re),xe=_e.$hostElement$,dt=_e.$instanceValues$.get(pe),Bt=_e.$flags$,Mt=_e.$lazyInstance$;et=((re,pe)=>null==re||Cn(re)?re:4&pe?"false"!==re&&(""===re||!!re):2&pe?parseFloat(re):1&pe?String(re):re)(et,ct.$members$[pe][0]);const kt=Number.isNaN(dt)&&Number.isNaN(et);if((!(8&Bt)||void 0===dt)&&et!==dt&&!kt&&(_e.$instanceValues$.set(pe,et),Mt)){if(ct.$watchers$&&128&Bt){const An=ct.$watchers$[pe];An&&An.map(Xn=>{try{Mt[Xn](et,dt,pe)}catch(nr){ai(nr,xe)}})}2==(18&Bt)&&gt(_e,!1)}})(this,xe,Bt,pe)},configurable:!0,enumerable:!0}):1&et&&64&dt&&Object.defineProperty(_e,xe,{value(...Bt){const Mt=te(this);return Mt.$onInstancePromise$.then(()=>Mt.$lazyInstance$[xe](...Bt))}})}),1&et){const xe=new Map;_e.attributeChangedCallback=function(dt,Bt,Mt){Pe.jmp(()=>{const kt=xe.get(dt);if(this.hasOwnProperty(kt))Mt=this[kt],delete this[kt];else if(_e.hasOwnProperty(kt)&&"number"==typeof this[kt]&&this[kt]==Mt)return;this[kt]=(null!==Mt||"boolean"!=typeof this[kt])&&Mt})},re.observedAttributes=ct.filter(([dt,Bt])=>15&Bt[0]).map(([dt,Bt])=>{const Mt=Bt[1]||dt;return xe.set(Mt,dt),512&Bt[0]&&pe.$attrsToReflect$.push([dt,Mt]),Mt})}}return re},pi=function(){var re=(0,c.Z)(function*(pe,et,ct,_e,xe){if(0==(32&et.$flags$)){{if(et.$flags$|=32,(xe=or(ct)).then){const kt=()=>{};xe=yield xe,kt()}xe.isProxied||(ct.$watchers$=xe.watchers,kr(xe,ct,2),xe.isProxied=!0);const Mt=()=>{};et.$flags$|=8;try{new xe(et)}catch(kt){ai(kt)}et.$flags$&=-9,et.$flags$|=128,Mt(),fs(et.$lazyInstance$)}if(xe.style){let Mt=xe.style;"string"!=typeof Mt&&(Mt=Mt[et.$modeName$=(re=>mi.map(pe=>pe(re)).find(pe=>!!pe))(pe)]);const kt=We(ct,et.$modeName$);if(!wr.has(kt)){const ln=()=>{};Gt(kt,Mt,!!(1&ct.$flags$)),ln()}}}const dt=et.$ancestorComponent$,Bt=()=>gt(et,!0);dt&&dt["s-rc"]?dt["s-rc"].push(Bt):Bt()});return function(et,ct,_e,xe,dt){return re.apply(this,arguments)}}(),fs=re=>{rr(re,"connectedCallback")},yi=re=>{const pe=re["s-cr"]=Te.createComment("");pe["s-cn"]=!0,re.insertBefore(pe,re.firstChild)},Lr=(re,pe={})=>{const ct=[],_e=pe.exclude||[],xe=me.customElements,dt=Te.head,Bt=dt.querySelector("meta[charset]"),Mt=Te.createElement("style"),kt=[],ln=Te.querySelectorAll(`[${Qe}]`);let An,Xn=!0,nr=0;for(Object.assign(Pe,pe),Pe.$resourcesUrl$=new URL(pe.resourcesUrl||"./",Te.baseURI).href,Pe.$flags$|=2;nr<ln.length;nr++)Gt(ln[nr].getAttribute(Qe),Ct(ln[nr].innerHTML),!0);re.map(ci=>{ci[1].map(Ii=>{const nt={$flags$:Ii[0],$tagName$:Ii[1],$members$:Ii[2],$listeners$:Ii[3]};nt.$members$=Ii[2],nt.$listeners$=Ii[3],nt.$attrsToReflect$=[],nt.$watchers$={};const Ge=nt.$tagName$,Dt=class extends HTMLElement{constructor(zt){super(zt),Zn(zt=this,nt),1&nt.$flags$&&zt.attachShadow({mode:"open",delegatesFocus:!!(16&nt.$flags$)})}connectedCallback(){An&&(clearTimeout(An),An=null),Xn?kt.push(this):Pe.jmp(()=>(re=>{if(0==(1&Pe.$flags$)){const pe=te(re),et=pe.$cmpMeta$,ct=()=>{};if(1&pe.$flags$)Le(re,pe,et.$listeners$),fs(pe.$lazyInstance$);else{let _e;if(pe.$flags$|=1,_e=re.getAttribute(ee),_e){if(1&et.$flags$){const xe=yt(re.shadowRoot,et,re.getAttribute("s-mode"));re.classList.remove(xe+"-h",xe+"-s")}((re,pe,et,ct)=>{const xe=re.shadowRoot,dt=[],Mt=xe?[]:null,kt=ct.$vnode$=fn(pe,null);Pe.$orgLocNodes$||wi(Te.body,Pe.$orgLocNodes$=new Map),re[ee]=et,re.removeAttribute(ee),Bn(kt,dt,[],Mt,re,re,et),dt.map(ln=>{const An=ln.$hostId$+"."+ln.$nodeId$,Xn=Pe.$orgLocNodes$.get(An),nr=ln.$elm$;Xn&&""===Xn["s-en"]&&Xn.parentNode.insertBefore(nr,Xn.nextSibling),xe||(nr["s-hn"]=pe,Xn&&(nr["s-ol"]=Xn,nr["s-ol"]["s-nr"]=nr)),Pe.$orgLocNodes$.delete(An)}),xe&&Mt.map(ln=>{ln&&xe.appendChild(ln)})})(re,et.$tagName$,_e,pe)}_e||12&et.$flags$&&yi(re);{let xe=re;for(;xe=xe.parentNode||xe.host;)if(1===xe.nodeType&&xe.hasAttribute("s-id")&&xe["s-p"]||xe["s-p"]){Be(pe,pe.$ancestorComponent$=xe);break}}et.$members$&&Object.entries(et.$members$).map(([xe,[dt]])=>{if(31&dt&&re.hasOwnProperty(xe)){const Bt=re[xe];delete re[xe],re[xe]=Bt}}),li(()=>pi(re,pe,et))}ct()}})(this))}disconnectedCallback(){Pe.jmp(()=>(re=>{if(0==(1&Pe.$flags$)){const pe=te(this),et=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(ct=>ct()),pe.$rmListeners$=void 0),rr(et,"disconnectedCallback")}})())}componentOnReady(){return te(this).$onReadyPromise$}};nt.$lazyBundleId$=ci[0],!_e.includes(Ge)&&!xe.get(Ge)&&(ct.push(Ge),xe.define(Ge,kr(Dt,nt,1)))})}),Mt.innerHTML=ct+"{visibility:hidden}.hydrated{visibility:inherit}",Mt.setAttribute("data-styles",""),dt.insertBefore(Mt,Bt?Bt.nextSibling:dt.firstChild),Xn=!1,kt.length?kt.map(ci=>ci.connectedCallback()):Pe.jmp(()=>An=setTimeout(In,30))},oi=re=>{const pe=new URL(re,Pe.$resourcesUrl$);return pe.origin!==me.location.origin?pe.href:pe.pathname},jn=new WeakMap,te=re=>jn.get(re),cn=(re,pe)=>jn.set(pe.$lazyInstance$=re,pe),Zn=(re,pe)=>{const et={$flags$:0,$hostElement$:re,$cmpMeta$:pe,$instanceValues$:new Map};return et.$onInstancePromise$=new Promise(ct=>et.$onInstanceResolve$=ct),et.$onReadyPromise$=new Promise(ct=>et.$onReadyResolve$=ct),re["s-p"]=[],re["s-rc"]=[],Le(re,et,pe.$listeners$),jn.set(re,et)},Zr=(re,pe)=>pe in re,ai=(re,pe)=>(0,console.error)(re,pe),lr=new Map,or=(re,pe,et)=>{const ct=re.$tagName$.replace(/-/g,"_"),_e=re.$lazyBundleId$,xe=lr.get(_e);return xe?xe[ct]:P(863)(`./${_e}.entry.js`).then(dt=>(lr.set(_e,dt),dt[ct]),ai)},wr=new Map,mi=[],xr=[],Hn=[],Li=(re,pe)=>et=>{re.push(et),fe||(fe=!0,pe&&4&Pe.$flags$?li(Zi):Pe.raf(Zi))},Oi=re=>{for(let pe=0;pe<re.length;pe++)try{re[pe](performance.now())}catch(et){ai(et)}re.length=0},Zi=()=>{Oi(xr),Oi(Hn),(fe=xr.length>0)&&Pe.raf(Zi)},li=re=>Fe().then(re),Cr=Li(xr,!1),ui=Li(Hn,!0),Si={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(Zt,at,P)=>{"use strict";P.d(at,{m:()=>me});var c=P(5861),J=P(7593),q=P(3756),Me=P(6254),Re=P(9442);const Ee=Te=>(0,Re.c)().duration(Te?400:300),ve=Te=>{let Pe,Ve;const tt=Te.width+8,Fe=(0,Re.c)(),Se=(0,Re.c)();Te.isEndSide?(Pe=tt+"px",Ve="0px"):(Pe=-tt+"px",Ve="0px"),Fe.addElement(Te.menuInnerEl).fromTo("transform",`translateX(${Pe})`,`translateX(${Ve})`);const De="ios"===(0,Me.b)(Te),st=De?.2:.25;return Se.addElement(Te.backdropEl).fromTo("opacity",.01,st),Ee(De).addAnimation([Fe,Se])},Ce=Te=>{let Pe,Ve;const tt=(0,Me.b)(Te),Fe=Te.width;Te.isEndSide?(Pe=-Fe+"px",Ve=Fe+"px"):(Pe=Fe+"px",Ve=-Fe+"px");const Se=(0,Re.c)().addElement(Te.menuInnerEl).fromTo("transform",`translateX(${Ve})`,"translateX(0px)"),Le=(0,Re.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Pe})`),De=(0,Re.c)().addElement(Te.backdropEl).fromTo("opacity",.01,.32);return Ee("ios"===tt).addAnimation([Se,Le,De])},ke=Te=>{const Pe=(0,Me.b)(Te),Ve=Te.width*(Te.isEndSide?-1:1)+"px",tt=(0,Re.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ve})`);return Ee("ios"===Pe).addAnimation(tt)},me=(()=>{const Te=new Map,Pe=[],Ve=function(){var ht=(0,c.Z)(function*(We){const Ct=yield ot(We);return!!Ct&&Ct.open()});return function(Ct){return ht.apply(this,arguments)}}(),tt=function(){var ht=(0,c.Z)(function*(We){const Ct=yield void 0!==We?ot(We):Ze();return void 0!==Ct&&Ct.close()});return function(Ct){return ht.apply(this,arguments)}}(),Fe=function(){var ht=(0,c.Z)(function*(We){const Ct=yield ot(We);return!!Ct&&Ct.toggle()});return function(Ct){return ht.apply(this,arguments)}}(),Se=function(){var ht=(0,c.Z)(function*(We,Ct){const ft=yield ot(Ct);return ft&&(ft.disabled=!We),ft});return function(Ct,ft){return ht.apply(this,arguments)}}(),Le=function(){var ht=(0,c.Z)(function*(We,Ct){const ft=yield ot(Ct);return ft&&(ft.swipeGesture=We),ft});return function(Ct,ft){return ht.apply(this,arguments)}}(),De=function(){var ht=(0,c.Z)(function*(We){if(null!=We){const Ct=yield ot(We);return void 0!==Ct&&Ct.isOpen()}return void 0!==(yield Ze())});return function(Ct){return ht.apply(this,arguments)}}(),st=function(){var ht=(0,c.Z)(function*(We){const Ct=yield ot(We);return!!Ct&&!Ct.disabled});return function(Ct){return ht.apply(this,arguments)}}(),ot=function(){var ht=(0,c.Z)(function*(We){return yield yt(),"start"===We||"end"===We?Gt(Et=>Et.side===We&&!Et.disabled)||Gt(Et=>Et.side===We):null!=We?Gt(ft=>ft.menuId===We):Gt(ft=>!ft.disabled)||(Pe.length>0?Pe[0].el:void 0)});return function(Ct){return ht.apply(this,arguments)}}(),Ze=function(){var ht=(0,c.Z)(function*(){return yield yt(),Ae()});return function(){return ht.apply(this,arguments)}}(),ze=function(){var ht=(0,c.Z)(function*(){return yield yt(),Ye()});return function(){return ht.apply(this,arguments)}}(),$e=function(){var ht=(0,c.Z)(function*(){return yield yt(),pt()});return function(){return ht.apply(this,arguments)}}(),Ke=(ht,We)=>{Te.set(ht,We)},he=ht=>{const We=ht.side;Pe.filter(Ct=>Ct.side===We&&Ct!==ht).forEach(Ct=>Ct.disabled=!0)},ye=function(){var ht=(0,c.Z)(function*(We,Ct,ft){if(pt())return!1;if(Ct){const Et=yield Ze();Et&&We.el!==Et&&(yield Et.setOpen(!1,!1))}return We._setOpen(Ct,ft)});return function(Ct,ft,Et){return ht.apply(this,arguments)}}(),Ae=()=>Gt(ht=>ht._isOpen),Ye=()=>Pe.map(ht=>ht.el),pt=()=>Pe.some(ht=>ht.isAnimating),Gt=ht=>{const We=Pe.find(ht);if(void 0!==We)return We.el},yt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ht=>new Promise(We=>(0,q.c)(ht,We))));return Ke("reveal",ke),Ke("push",Ce),Ke("overlay",ve),"undefined"!=typeof document&&document.addEventListener("ionBackButton",ht=>{const We=Ae();We&&ht.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>We.close())}),{registerAnimation:Ke,get:ot,getMenus:ze,getOpen:Ze,isEnabled:st,swipeGesture:Le,isAnimating:$e,isOpen:De,enable:Se,toggle:Fe,close:tt,open:Ve,_getOpenSync:Ae,_createAnimation:(ht,We)=>{const Ct=Te.get(ht);if(!Ct)throw new Error("animation not registered");return Ct(We)},_register:ht=>{Pe.indexOf(ht)<0&&(ht.disabled||he(ht),Pe.push(ht))},_unregister:ht=>{const We=Pe.indexOf(ht);We>-1&&Pe.splice(We,1)},_setOpen:ye,_setActiveMenu:he}})()},6254:(Zt,at,P)=>{"use strict";P.d(at,{a:()=>me,b:()=>pt,c:()=>q,g:()=>fe,i:()=>Gt});var c=P(2361);class J{constructor(){this.m=new Map}reset(ht){this.m=new Map(Object.entries(ht))}get(ht,We){const Ct=this.m.get(ht);return void 0!==Ct?Ct:We}getBoolean(ht,We=!1){const Ct=this.m.get(ht);return void 0===Ct?We:"string"==typeof Ct?"true"===Ct:!!Ct}getNumber(ht,We){const Ct=parseFloat(this.m.get(ht));return isNaN(Ct)?void 0!==We?We:NaN:Ct}set(ht,We){this.m.set(ht,We)}}const q=new J,ke="ionic-persist-config",fe=yt=>Te(yt),me=(yt,ht)=>("string"==typeof yt&&(ht=yt,yt=void 0),fe(yt).includes(ht)),Te=(yt=window)=>{if(void 0===yt)return[];yt.Ionic=yt.Ionic||{};let ht=yt.Ionic.platforms;return null==ht&&(ht=yt.Ionic.platforms=Pe(yt),ht.forEach(We=>yt.document.documentElement.classList.add(`plt-${We}`))),ht},Pe=yt=>{const ht=q.get("platform");return Object.keys(Ae).filter(We=>{const Ct=null==ht?void 0:ht[We];return"function"==typeof Ct?Ct(yt):Ae[We](yt)})},tt=yt=>!!(ye(yt,/iPad/i)||ye(yt,/Macintosh/i)&&Ze(yt)),Le=yt=>ye(yt,/android|sink/i),Ze=yt=>ge(yt,"(any-pointer:coarse)"),$e=yt=>Ke(yt)||ee(yt),Ke=yt=>!!(yt.cordova||yt.phonegap||yt.PhoneGap),ee=yt=>{const ht=yt.Capacitor;return!!(null==ht?void 0:ht.isNative)},ye=(yt,ht)=>ht.test(yt.navigator.userAgent),ge=(yt,ht)=>{var We;return null===(We=yt.matchMedia)||void 0===We?void 0:We.call(yt,ht).matches},Ae={ipad:tt,iphone:yt=>ye(yt,/iPhone/i),ios:yt=>ye(yt,/iPhone|iPod/i)||tt(yt),android:Le,phablet:yt=>{const ht=yt.innerWidth,We=yt.innerHeight,Ct=Math.min(ht,We),ft=Math.max(ht,We);return Ct>390&&Ct<520&&ft>620&&ft<800},tablet:yt=>{const ht=yt.innerWidth,We=yt.innerHeight,Ct=Math.min(ht,We),ft=Math.max(ht,We);return tt(yt)||(yt=>Le(yt)&&!ye(yt,/mobile/i))(yt)||Ct>460&&Ct<820&&ft>780&&ft<1400},cordova:Ke,capacitor:ee,electron:yt=>ye(yt,/electron/i),pwa:yt=>{var ht;return!(!(null===(ht=yt.matchMedia)||void 0===ht?void 0:ht.call(yt,"(display-mode: standalone)").matches)&&!yt.navigator.standalone)},mobile:Ze,mobileweb:yt=>Ze(yt)&&!$e(yt),desktop:yt=>!Ze(yt),hybrid:$e};let Ye;const pt=yt=>yt&&(0,c.g)(yt)||Ye,Gt=(yt={})=>{if("undefined"==typeof window)return;const ht=window.document,We=window,Ct=We.Ionic=We.Ionic||{},ft={};yt._ael&&(ft.ael=yt._ael),yt._rel&&(ft.rel=yt._rel),yt._ce&&(ft.ce=yt._ce),(0,c.s)(ft);const Et=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(yt=>{try{const ht=yt.sessionStorage.getItem(ke);return null!==ht?JSON.parse(ht):{}}catch(ht){return{}}})(We)),{persistConfig:!1}),Ct.config),(yt=>{const ht={};return yt.location.search.slice(1).split("&").map(We=>We.split("=")).map(([We,Ct])=>[decodeURIComponent(We),decodeURIComponent(Ct)]).filter(([We])=>((yt,ht)=>yt.substr(0,ht.length)===ht)(We,"ionic:")).map(([We,Ct])=>[We.slice("ionic:".length),Ct]).forEach(([We,Ct])=>{ht[We]=Ct}),ht})(We)),yt);q.reset(Et),q.getBoolean("persistConfig")&&((yt,ht)=>{try{yt.sessionStorage.setItem(ke,JSON.stringify(ht))}catch(We){return}})(We,Et),Te(We),Ct.config=q,Ct.mode=Ye=q.get("mode",ht.documentElement.getAttribute("mode")||(me(We,"ios")?"ios":"md")),q.set("mode",Ye),ht.documentElement.setAttribute("mode",Ye),ht.documentElement.classList.add(Ye),q.getBoolean("_testing")&&q.set("animated",!1);const lt=Nt=>{var wt;return null===(wt=Nt.tagName)||void 0===wt?void 0:wt.startsWith("ION-")},Kt=Nt=>["ios","md"].includes(Nt);(0,c.a)(Nt=>{for(;Nt;){const wt=Nt.mode||Nt.getAttribute("mode");if(wt){if(Kt(wt))return wt;lt(Nt)&&console.warn('Invalid ionic mode: "'+wt+'", expected: "ios" or "md"')}Nt=Nt.parentElement}return Ye})}},1815:(Zt,at,P)=>{"use strict";P.r(at),P.d(at,{iosTransitionAnimation:()=>Te,shadow:()=>Ee});var c=P(9442),J=P(4318);P(2361);const Re=Pe=>document.querySelector(`${Pe}.ion-cloned-element`),Ee=Pe=>Pe.shadowRoot||Pe,ve=Pe=>{const Ve="ION-TABS"===Pe.tagName?Pe:Pe.querySelector("ion-tabs"),tt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ve){const Fe=Ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Fe?Fe.querySelector(tt):null}return Pe.querySelector(tt)},Ce=(Pe,Ve)=>{const tt="ION-TABS"===Pe.tagName?Pe:Pe.querySelector("ion-tabs");let Fe=[];if(null!=tt){const Se=tt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Se&&(Fe=Se.querySelectorAll("ion-buttons"))}else Fe=Pe.querySelectorAll("ion-buttons");for(const Se of Fe){const Le=Se.closest("ion-header"),De=Le&&!Le.classList.contains("header-collapse-condense-inactive"),st=Se.querySelector("ion-back-button"),ot=Se.classList.contains("buttons-collapse"),Ze="start"===Se.slot||""===Se.slot;if(null!==st&&Ze&&(ot&&De&&Ve||!ot))return st}return null},fe=(Pe,Ve,tt,Fe,Se,Le)=>{const De=Ve?`calc(100% - ${Le.right+4}px)`:Le.left-4+"px",st=Ve?"7px":"-7px",ot=Ve?"-4px":"4px",Ze=Ve?"-4px":"4px",ze=Ve?"right":"left",$e=Ve?"left":"right",Qe=tt?[{offset:0,opacity:1,transform:`translate3d(${ot}, ${Le.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${st}, ${Se.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${st}, ${Se.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ot}, ${Le.top-46}px, 0) scale(1)`}],ge=tt?[{offset:0,opacity:1,transform:`translate3d(${Ze}, ${Le.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ze}, ${Le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${Le.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${Le.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ze}, ${Le.top-46}px, 0) scale(1)`}],Ae=(0,c.c)(),Ye=(0,c.c)(),pt=Re("ion-back-button"),Gt=Ee(pt).querySelector(".button-text"),yt=Ee(pt).querySelector("ion-icon");pt.text=Fe.text,pt.mode=Fe.mode,pt.icon=Fe.icon,pt.color=Fe.color,pt.disabled=Fe.disabled,pt.style.setProperty("display","block"),pt.style.setProperty("position","fixed"),Ye.addElement(yt),Ae.addElement(Gt),Ae.beforeStyles({"transform-origin":`${ze} center`}).beforeAddWrite(()=>{Fe.style.setProperty("display","none"),pt.style.setProperty(ze,De)}).afterAddWrite(()=>{Fe.style.setProperty("display",""),pt.style.setProperty("display","none"),pt.style.removeProperty(ze)}).keyframes(Qe),Ye.beforeStyles({"transform-origin":`${$e} center`}).keyframes(ge),Pe.addAnimation([Ae,Ye])},me=(Pe,Ve,tt,Fe,Se,Le)=>{const De=Ve?`calc(100% - ${Se.right}px)`:`${Se.left}px`,st=Ve?"-18px":"18px",ot=Ve?"right":"left",$e=tt?[{offset:0,opacity:0,transform:`translate3d(${st}, ${Le.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${st}, ${Le.top-4}px, 0) scale(0.5)`}],Ke=Re("ion-title"),ee=(0,c.c)();Ke.innerText=Fe.innerText,Ke.size=Fe.size,Ke.color=Fe.color,ee.addElement(Ke),ee.beforeStyles({"transform-origin":`${ot} center`,height:"46px",display:"",position:"relative",[ot]:De}).beforeAddWrite(()=>{Fe.style.setProperty("display","none")}).afterAddWrite(()=>{Fe.style.setProperty("display",""),Ke.style.setProperty("display","none")}).keyframes($e),Pe.addAnimation(ee)},Te=(Pe,Ve)=>{try{const tt="cubic-bezier(0.32,0.72,0,1)",Fe="opacity",Se="transform",Le="0%",st="rtl"===Pe.ownerDocument.dir,ot=st?"-99.5%":"99.5%",Ze=st?"33%":"-33%",ze=Ve.enteringEl,$e=Ve.leavingEl,Ke="back"===Ve.direction,ee=ze.querySelector(":scope > ion-content"),Qe=ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),he=ze.querySelectorAll(":scope > ion-header > ion-toolbar"),ye=(0,c.c)(),ge=(0,c.c)();if(ye.addElement(ze).duration(Ve.duration||540).easing(Ve.easing||tt).fill("both").beforeRemoveClass("ion-page-invisible"),$e&&Pe){const Gt=(0,c.c)();Gt.addElement(Pe),ye.addAnimation(Gt)}if(ee||0!==he.length||0!==Qe.length?(ge.addElement(ee),ge.addElement(Qe)):ge.addElement(ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ye.addAnimation(ge),Ke?ge.beforeClearStyles([Fe]).fromTo("transform",`translateX(${Ze})`,`translateX(${Le})`).fromTo(Fe,.8,1):ge.beforeClearStyles([Fe]).fromTo("transform",`translateX(${ot})`,`translateX(${Le})`),ee){const Gt=Ee(ee).querySelector(".transition-effect");if(Gt){const yt=Gt.querySelector(".transition-cover"),ht=Gt.querySelector(".transition-shadow"),We=(0,c.c)(),Ct=(0,c.c)(),ft=(0,c.c)();We.addElement(Gt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ct.addElement(yt).beforeClearStyles([Fe]).fromTo(Fe,0,.1),ft.addElement(ht).beforeClearStyles([Fe]).fromTo(Fe,.03,.7),We.addAnimation([Ct,ft]),ge.addAnimation([We])}}const Ae=ze.querySelector("ion-header.header-collapse-condense"),{forward:Ye,backward:pt}=((Pe,Ve,tt,Fe,Se)=>{const Le=Ce(Fe,tt),De=ve(Se),st=ve(Fe),ot=Ce(Se,tt),Ze=null!==Le&&null!==De&&!tt,ze=null!==st&&null!==ot&&tt;if(Ze){const $e=De.getBoundingClientRect(),Ke=Le.getBoundingClientRect();me(Pe,Ve,tt,De,$e,Ke),fe(Pe,Ve,tt,Le,$e,Ke)}else if(ze){const $e=st.getBoundingClientRect(),Ke=ot.getBoundingClientRect();me(Pe,Ve,tt,st,$e,Ke),fe(Pe,Ve,tt,ot,$e,Ke)}return{forward:Ze,backward:ze}})(ye,st,Ke,ze,$e);if(he.forEach(Gt=>{const yt=(0,c.c)();yt.addElement(Gt),ye.addAnimation(yt);const ht=(0,c.c)();ht.addElement(Gt.querySelector("ion-title"));const We=(0,c.c)(),Ct=Array.from(Gt.querySelectorAll("ion-buttons,[menuToggle]")),ft=Gt.closest("ion-header"),Et=null==ft?void 0:ft.classList.contains("header-collapse-condense-inactive");let lt;lt=Ct.filter(Ke?Cn=>{const yn=Cn.classList.contains("buttons-collapse");return yn&&!Et||!yn}:Cn=>!Cn.classList.contains("buttons-collapse")),We.addElement(lt);const Kt=(0,c.c)();Kt.addElement(Gt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Nt=(0,c.c)();Nt.addElement(Ee(Gt).querySelector(".toolbar-background"));const wt=(0,c.c)(),Pn=Gt.querySelector("ion-back-button");if(Pn&&wt.addElement(Pn),yt.addAnimation([ht,We,Kt,Nt,wt]),We.fromTo(Fe,.01,1),Kt.fromTo(Fe,.01,1),Ke)Et||ht.fromTo("transform",`translateX(${Ze})`,`translateX(${Le})`).fromTo(Fe,.01,1),Kt.fromTo("transform",`translateX(${Ze})`,`translateX(${Le})`),wt.fromTo(Fe,.01,1);else if(Ae||ht.fromTo("transform",`translateX(${ot})`,`translateX(${Le})`).fromTo(Fe,.01,1),Kt.fromTo("transform",`translateX(${ot})`,`translateX(${Le})`),Nt.beforeClearStyles([Fe,"transform"]),(null==ft?void 0:ft.translucent)?Nt.fromTo("transform",st?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Nt.fromTo(Fe,.01,"var(--opacity)"),Ye||wt.fromTo(Fe,.01,1),Pn&&!Ye){const yn=(0,c.c)();yn.addElement(Ee(Pn).querySelector(".button-text")).fromTo("transform",st?"translateX(-100px)":"translateX(100px)","translateX(0px)"),yt.addAnimation(yn)}}),$e){const Gt=(0,c.c)(),yt=$e.querySelector(":scope > ion-content"),ht=$e.querySelectorAll(":scope > ion-header > ion-toolbar"),We=$e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(yt||0!==ht.length||0!==We.length?(Gt.addElement(yt),Gt.addElement(We)):Gt.addElement($e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ye.addAnimation(Gt),Ke){Gt.beforeClearStyles([Fe]).fromTo("transform",`translateX(${Le})`,st?"translateX(-100%)":"translateX(100%)");const Ct=(0,J.g)($e);ye.afterAddWrite(()=>{"normal"===ye.getDirection()&&Ct.style.setProperty("display","none")})}else Gt.fromTo("transform",`translateX(${Le})`,`translateX(${Ze})`).fromTo(Fe,1,.8);if(yt){const Ct=Ee(yt).querySelector(".transition-effect");if(Ct){const ft=Ct.querySelector(".transition-cover"),Et=Ct.querySelector(".transition-shadow"),lt=(0,c.c)(),Kt=(0,c.c)(),Nt=(0,c.c)();lt.addElement(Ct).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Kt.addElement(ft).beforeClearStyles([Fe]).fromTo(Fe,.1,0),Nt.addElement(Et).beforeClearStyles([Fe]).fromTo(Fe,.7,.03),lt.addAnimation([Kt,Nt]),Gt.addAnimation([lt])}}ht.forEach(Ct=>{const ft=(0,c.c)();ft.addElement(Ct);const Et=(0,c.c)();Et.addElement(Ct.querySelector("ion-title"));const lt=(0,c.c)(),Kt=Ct.querySelectorAll("ion-buttons,[menuToggle]"),Nt=Ct.closest("ion-header"),wt=null==Nt?void 0:Nt.classList.contains("header-collapse-condense-inactive"),Pn=Array.from(Kt).filter(Ln=>{const kn=Ln.classList.contains("buttons-collapse");return kn&&!wt||!kn});lt.addElement(Pn);const Cn=(0,c.c)(),yn=Ct.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");yn.length>0&&Cn.addElement(yn);const fn=(0,c.c)();fn.addElement(Ee(Ct).querySelector(".toolbar-background"));const qn=(0,c.c)(),tr=Ct.querySelector("ion-back-button");if(tr&&qn.addElement(tr),ft.addAnimation([Et,lt,Cn,qn,fn]),ye.addAnimation(ft),qn.fromTo(Fe,.99,0),lt.fromTo(Fe,.99,0),Cn.fromTo(Fe,.99,0),Ke){if(wt||Et.fromTo("transform",`translateX(${Le})`,st?"translateX(-100%)":"translateX(100%)").fromTo(Fe,.99,0),Cn.fromTo("transform",`translateX(${Le})`,st?"translateX(-100%)":"translateX(100%)"),fn.beforeClearStyles([Fe,"transform"]),(null==Nt?void 0:Nt.translucent)?fn.fromTo("transform","translateX(0px)",st?"translateX(-100%)":"translateX(100%)"):fn.fromTo(Fe,"var(--opacity)",0),tr&&!pt){const kn=(0,c.c)();kn.addElement(Ee(tr).querySelector(".button-text")).fromTo("transform",`translateX(${Le})`,`translateX(${(st?-124:124)+"px"})`),ft.addAnimation(kn)}}else wt||Et.fromTo("transform",`translateX(${Le})`,`translateX(${Ze})`).fromTo(Fe,.99,0).afterClearStyles([Se,Fe]),Cn.fromTo("transform",`translateX(${Le})`,`translateX(${Ze})`).afterClearStyles([Se,Fe]),qn.afterClearStyles([Fe]),Et.afterClearStyles([Fe]),lt.afterClearStyles([Fe])})}return ye}catch(tt){throw tt}}},6447:(Zt,at,P)=>{"use strict";P.r(at),P.d(at,{mdTransitionAnimation:()=>Me});var c=P(9442),J=P(4318);P(2361);const Me=(Re,Ee)=>{const ke="back"===Ee.direction,me=Ee.leavingEl,Te=(0,J.g)(Ee.enteringEl),Pe=Te.querySelector("ion-toolbar"),Ve=(0,c.c)();if(Ve.addElement(Te).fill("both").beforeRemoveClass("ion-page-invisible"),ke?Ve.duration(Ee.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ve.duration(Ee.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Pe){const tt=(0,c.c)();tt.addElement(Pe),Ve.addAnimation(tt)}if(me&&ke){Ve.duration(Ee.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const tt=(0,c.c)();tt.addElement((0,J.g)(me)).onFinish(Fe=>{1===Fe&&tt.elements.length>0&&tt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ve.addAnimation(tt)}return Ve}},599:(Zt,at,P)=>{"use strict";P.d(at,{B:()=>Ct,a:()=>Ce,b:()=>ke,c:()=>Pe,d:()=>he,e:()=>tt,f:()=>ge,g:()=>pt,h:()=>Ee,i:()=>yt,j:()=>De,k:()=>ee,l:()=>fe,m:()=>me,s:()=>We,t:()=>Ve});var c=P(5861),J=P(6254),q=P(7593),Me=P(3756);let Re=0;const Ee=new WeakMap,ve=ft=>({create:Et=>Fe(ft,Et),dismiss:(Et,lt,Kt)=>$e(document,Et,lt,ft,Kt),getTop:()=>(0,c.Z)(function*(){return ee(document,ft)})()}),Ce=ve("ion-alert"),ke=ve("ion-action-sheet"),fe=ve("ion-loading"),me=ve("ion-modal"),Pe=ve("ion-popover"),Ve=ve("ion-toast"),tt=ft=>{"undefined"!=typeof document&&ze(document);const Et=Re++;ft.overlayIndex=Et,ft.hasAttribute("id")||(ft.id=`ion-overlay-${Et}`)},Fe=(ft,Et)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(ft).then(()=>{const lt=document.createElement(ft);return lt.classList.add("overlay-hidden"),Object.assign(lt,Object.assign(Object.assign({},Et),{hasController:!0})),Ae(document).appendChild(lt),new Promise(Kt=>(0,Me.c)(lt,Kt))}):Promise.resolve(),Se='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Le="input:not([type=hidden]), textarea, button, select",De=(ft,Et)=>{let lt=ft.querySelector(Se);const Kt=null==lt?void 0:lt.shadowRoot;Kt&&(lt=Kt.querySelector(Le)||lt),lt?(0,Me.f)(lt):Et.focus()},ot=(ft,Et)=>{const lt=Array.from(ft.querySelectorAll(Se));let Kt=lt.length>0?lt[lt.length-1]:null;const Nt=null==Kt?void 0:Kt.shadowRoot;Nt&&(Kt=Nt.querySelector(Le)||Kt),Kt?Kt.focus():Et.focus()},ze=ft=>{0===Re&&(Re=1,ft.addEventListener("focus",Et=>{((ft,Et)=>{const lt=ee(Et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Kt=ft.target;lt&&Kt&&!lt.classList.contains("ion-disable-focus-trap")&&(lt.shadowRoot?(()=>{if(lt.contains(Kt))lt.lastFocus=Kt;else{const Pn=lt.lastFocus;De(lt,lt),Pn===Et.activeElement&&ot(lt,lt),lt.lastFocus=Et.activeElement}})():(()=>{if(lt===Kt)lt.lastFocus=void 0;else{const Pn=(0,Me.g)(lt);if(!Pn.contains(Kt))return;const Cn=Pn.querySelector(".ion-overlay-wrapper");if(!Cn)return;if(Cn.contains(Kt))lt.lastFocus=Kt;else{const yn=lt.lastFocus;De(Cn,lt),yn===Et.activeElement&&ot(Cn,lt),lt.lastFocus=Et.activeElement}}})())})(Et,ft)},!0),ft.addEventListener("ionBackButton",Et=>{const lt=ee(ft);(null==lt?void 0:lt.backdropDismiss)&&Et.detail.register(q.OVERLAY_BACK_BUTTON_PRIORITY,()=>lt.dismiss(void 0,Ct))}),ft.addEventListener("keyup",Et=>{if("Escape"===Et.key){const lt=ee(ft);(null==lt?void 0:lt.backdropDismiss)&&lt.dismiss(void 0,Ct)}}))},$e=(ft,Et,lt,Kt,Nt)=>{const wt=ee(ft,Kt,Nt);return wt?wt.dismiss(Et,lt):Promise.reject("overlay does not exist")},ee=(ft,Et,lt)=>{const Kt=((ft,Et)=>(void 0===Et&&(Et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ft.querySelectorAll(Et)).filter(lt=>lt.overlayIndex>0)))(ft,Et).filter(Nt=>!(ft=>ft.classList.contains("overlay-hidden"))(Nt));return void 0===lt?Kt[Kt.length-1]:Kt.find(Nt=>Nt.id===lt)},Qe=(ft=!1)=>{const lt=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!lt||(ft?lt.setAttribute("aria-hidden","true"):lt.removeAttribute("aria-hidden"))},he=function(){var ft=(0,c.Z)(function*(Et,lt,Kt,Nt,wt){var Pn,Cn;if(Et.presented)return;Qe(!0),Et.presented=!0,Et.willPresent.emit(),null===(Pn=Et.willPresentShorthand)||void 0===Pn||Pn.emit();const yn=(0,J.b)(Et),fn=Et.enterAnimation?Et.enterAnimation:J.c.get(lt,"ios"===yn?Kt:Nt);(yield Ye(Et,fn,Et.el,wt))&&(Et.didPresent.emit(),null===(Cn=Et.didPresentShorthand)||void 0===Cn||Cn.emit()),"ION-TOAST"!==Et.el.tagName&&ye(Et.el),Et.keyboardClose&&Et.el.focus()});return function(lt,Kt,Nt,wt,Pn){return ft.apply(this,arguments)}}(),ye=function(){var ft=(0,c.Z)(function*(Et){let lt=document.activeElement;if(!lt)return;const Kt=null==lt?void 0:lt.shadowRoot;Kt&&(lt=Kt.querySelector(Le)||lt),yield Et.onDidDismiss(),lt.focus()});return function(lt){return ft.apply(this,arguments)}}(),ge=function(){var ft=(0,c.Z)(function*(Et,lt,Kt,Nt,wt,Pn,Cn){var yn,fn;if(!Et.presented)return!1;Qe(!1),Et.presented=!1;try{Et.el.style.setProperty("pointer-events","none"),Et.willDismiss.emit({data:lt,role:Kt}),null===(yn=Et.willDismissShorthand)||void 0===yn||yn.emit({data:lt,role:Kt});const qn=(0,J.b)(Et),tr=Et.leaveAnimation?Et.leaveAnimation:J.c.get(Nt,"ios"===qn?wt:Pn);"gesture"!==Kt&&(yield Ye(Et,tr,Et.el,Cn)),Et.didDismiss.emit({data:lt,role:Kt}),null===(fn=Et.didDismissShorthand)||void 0===fn||fn.emit({data:lt,role:Kt}),Ee.delete(Et),Et.el.classList.add("overlay-hidden"),Et.el.style.removeProperty("pointer-events")}catch(qn){console.error(qn)}return Et.el.remove(),!0});return function(lt,Kt,Nt,wt,Pn,Cn,yn){return ft.apply(this,arguments)}}(),Ae=ft=>ft.querySelector("ion-app")||ft.body,Ye=function(){var ft=(0,c.Z)(function*(Et,lt,Kt,Nt){Kt.classList.remove("overlay-hidden");const Pn=lt(Et.el,Nt);(!Et.animated||!J.c.getBoolean("animated",!0))&&Pn.duration(0),Et.keyboardClose&&Pn.beforeAddWrite(()=>{const yn=Kt.ownerDocument.activeElement;(null==yn?void 0:yn.matches("input,ion-input, ion-textarea"))&&yn.blur()});const Cn=Ee.get(Et)||[];return Ee.set(Et,[...Cn,Pn]),yield Pn.play(),!0});return function(lt,Kt,Nt,wt){return ft.apply(this,arguments)}}(),pt=(ft,Et)=>{let lt;const Kt=new Promise(Nt=>lt=Nt);return Gt(ft,Et,Nt=>{lt(Nt.detail)}),Kt},Gt=(ft,Et,lt)=>{const Kt=Nt=>{(0,Me.b)(ft,Et,Kt),lt(Nt)};(0,Me.a)(ft,Et,Kt)},yt=ft=>"cancel"===ft||ft===Ct,ht=ft=>ft(),We=(ft,Et)=>{if("function"==typeof ft)return J.c.get("_zoneGate",ht)(()=>{try{return ft(Et)}catch(Kt){throw Kt}})},Ct="backdrop"},1328:(Zt,at,P)=>{"use strict";P.d(at,{u:()=>ve});var c=P(655),J=P(5e3),q=P(7407),Me=P(8161),Re=P(3385),Ee=P(6115);let ve=(()=>{class Ce{constructor(fe,me,Te,Pe,Ve,tt){this.afStore=fe,this.toast=me,this.ngFireAuth=Te,this.navCtrl=Pe,this.router=Ve,this.ngZone=tt,this.user={},this.ngFireAuth.authState.subscribe(Fe=>(0,c.mG)(this,void 0,void 0,function*(){if(Fe){this.userData=Fe;const Se=yield Fe.getIdToken();localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("token",Se)}else localStorage.removeItem("user"),localStorage.removeItem("token")}))}SendVerificationMail(){return(0,c.mG)(this,void 0,void 0,function*(){const fe=yield this.ngFireAuth.currentUser;fe&&(yield fe.sendEmailVerification(),this.router.navigate(["verify-email"]))})}get isEmailVerified(){const fe=JSON.parse(localStorage.getItem("user")||"null");return!!(null==fe?void 0:fe.emailVerified)}SetUserData(fe){return this.afStore.doc(`users/${fe.uid}`).set({uid:fe.uid,email:fe.email,displayName:fe.displayName,photoURL:fe.photoURL,emailVerified:fe.emailVerified},{merge:!0})}SignOut(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.ngFireAuth.signOut(),localStorage.removeItem("user"),localStorage.removeItem("token"),sessionStorage.clear(),this.ngZone.run(()=>{this.router.navigate(["/login"])}),this.showToaster("You are logged out")}catch(fe){console.error("Sign out error:",fe),this.showToaster("Error during logout")}})}showToaster(fe){this.toast.create({message:fe,color:"danger",duration:4e3}).then(me=>me.present())}Logout(){localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])}get isLoggedIn(){const fe=JSON.parse(localStorage.getItem("user")||"null");return null!==fe&&!0===fe.emailVerified&&!!localStorage.getItem("token")}}return Ce.\u0275fac=function(fe){return new(fe||Ce)(J.LFG(q.ST),J.LFG(Me.yF),J.LFG(Re.zQ),J.LFG(Me.SH),J.LFG(Ee.F0),J.LFG(J.R0b))},Ce.\u0275prov=J.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},2024:(Zt,at,P)=>{"use strict";var c=P(9808),J=P(5e3);class q extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Me extends q{static makeCurrent(){(0,c.HT)(new Me)}onAndCancel(o,l,f){return o.addEventListener(l,f,!1),()=>{o.removeEventListener(l,f,!1)}}dispatchEvent(o,l){o.dispatchEvent(l)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,l){return(l=l||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,l){return"window"===l?window:"document"===l?o:"body"===l?o.body:null}getBaseHref(o){const l=function Ee(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==l?null:function Ce(u){ve=ve||document.createElement("a"),ve.setAttribute("href",u);const o=ve.pathname;return"/"===o.charAt(0)?o:`/${o}`}(l)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return(0,c.Mx)(document.cookie,o)}}let ve,Re=null;const ke=new J.OlP("TRANSITION_ID"),me=[{provide:J.ip1,useFactory:function fe(u,o,l){return()=>{l.get(J.CZH).donePromise.then(()=>{const f=(0,c.q)(),v=o.querySelectorAll(`style[ng-transition="${u}"]`);for(let T=0;T<v.length;T++)f.remove(v[T])})}},deps:[ke,c.K0,J.zs3],multi:!0}];class Te{static init(){(0,J.VLi)(new Te)}addToWindow(o){J.dqk.getAngularTestability=(f,v=!0)=>{const T=o.findTestabilityInTree(f,v);if(null==T)throw new Error("Could not find testability for element.");return T},J.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),J.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),J.dqk.frameworkStabilizers||(J.dqk.frameworkStabilizers=[]),J.dqk.frameworkStabilizers.push(f=>{const v=J.dqk.getAllAngularTestabilities();let T=v.length,R=!1;const Q=function(oe){R=R||oe,T--,0==T&&f(R)};v.forEach(function(oe){oe.whenStable(Q)})})}findTestabilityInTree(o,l,f){if(null==l)return null;const v=o.getTestability(l);return null!=v?v:f?(0,c.q)().isShadowRoot(l)?this.findTestabilityInTree(o,l.host,!0):this.findTestabilityInTree(o,l.parentElement,!0):null}}let Pe=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})();const Ve=new J.OlP("EventManagerPlugins");let tt=(()=>{class u{constructor(l,f){this._zone=f,this._eventNameToPlugin=new Map,l.forEach(v=>v.manager=this),this._plugins=l.slice().reverse()}addEventListener(l,f,v){return this._findPluginFor(f).addEventListener(l,f,v)}addGlobalEventListener(l,f,v){return this._findPluginFor(f).addGlobalEventListener(l,f,v)}getZone(){return this._zone}_findPluginFor(l){const f=this._eventNameToPlugin.get(l);if(f)return f;const v=this._plugins;for(let T=0;T<v.length;T++){const R=v[T];if(R.supports(l))return this._eventNameToPlugin.set(l,R),R}throw new Error(`No event manager plugin found for event ${l}`)}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(Ve),J.LFG(J.R0b))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})();class Fe{constructor(o){this._doc=o}addGlobalEventListener(o,l,f){const v=(0,c.q)().getGlobalEventTarget(this._doc,o);if(!v)throw new Error(`Unsupported event target ${v} for event ${l}`);return this.addEventListener(v,l,f)}}let Se=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(l){const f=new Set;l.forEach(v=>{this._stylesSet.has(v)||(this._stylesSet.add(v),f.add(v))}),this.onStylesAdded(f)}onStylesAdded(l){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})(),Le=(()=>{class u extends Se{constructor(l){super(),this._doc=l,this._hostNodes=new Map,this._hostNodes.set(l.head,[])}_addStylesToHost(l,f,v){l.forEach(T=>{const R=this._doc.createElement("style");R.textContent=T,v.push(f.appendChild(R))})}addHost(l){const f=[];this._addStylesToHost(this._stylesSet,l,f),this._hostNodes.set(l,f)}removeHost(l){const f=this._hostNodes.get(l);f&&f.forEach(De),this._hostNodes.delete(l)}onStylesAdded(l){this._hostNodes.forEach((f,v)=>{this._addStylesToHost(l,v,f)})}ngOnDestroy(){this._hostNodes.forEach(l=>l.forEach(De))}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(c.K0))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})();function De(u){(0,c.q)().remove(u)}const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g;function he(u,o,l){for(let f=0;f<o.length;f++){let v=o[f];Array.isArray(v)?he(u,v,l):(v=v.replace(ot,u),l.push(v))}return l}function ye(u){return o=>{if("__ngUnwrap__"===o)return u;!1===u(o)&&(o.preventDefault(),o.returnValue=!1)}}let Ae=(()=>{class u{constructor(l,f,v){this.eventManager=l,this.sharedStylesHost=f,this.appId=v,this.rendererByCompId=new Map,this.defaultRenderer=new Ye(l)}createRenderer(l,f){if(!l||!f)return this.defaultRenderer;switch(f.encapsulation){case J.ifc.Emulated:{let v=this.rendererByCompId.get(f.id);return v||(v=new yt(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,v)),v.applyToHost(l),v}case 1:case J.ifc.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,l,f);default:if(!this.rendererByCompId.has(f.id)){const v=he(f.id,f.styles,[]);this.sharedStylesHost.addStyles(v),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(tt),J.LFG(Le),J.LFG(J.AFp))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})();class Ye{constructor(o){this.eventManager=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(o,l){return l?document.createElementNS(st[l]||l,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,l){o.appendChild(l)}insertBefore(o,l,f){o&&o.insertBefore(l,f)}removeChild(o,l){o&&o.removeChild(l)}selectRootElement(o,l){let f="string"==typeof o?document.querySelector(o):o;if(!f)throw new Error(`The selector "${o}" did not match any elements`);return l||(f.textContent=""),f}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,l,f,v){if(v){l=v+":"+l;const T=st[v];T?o.setAttributeNS(T,l,f):o.setAttribute(l,f)}else o.setAttribute(l,f)}removeAttribute(o,l,f){if(f){const v=st[f];v?o.removeAttributeNS(v,l):o.removeAttribute(`${f}:${l}`)}else o.removeAttribute(l)}addClass(o,l){o.classList.add(l)}removeClass(o,l){o.classList.remove(l)}setStyle(o,l,f,v){v&(J.JOm.DashCase|J.JOm.Important)?o.style.setProperty(l,f,v&J.JOm.Important?"important":""):o.style[l]=f}removeStyle(o,l,f){f&J.JOm.DashCase?o.style.removeProperty(l):o.style[l]=""}setProperty(o,l,f){o[l]=f}setValue(o,l){o.nodeValue=l}listen(o,l,f){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,l,ye(f)):this.eventManager.addEventListener(o,l,ye(f))}}class yt extends Ye{constructor(o,l,f,v){super(o),this.component=f;const T=he(v+"-"+f.id,f.styles,[]);l.addStyles(T),this.contentAttr=function ee(u){return"_ngcontent-%COMP%".replace(ot,u)}(v+"-"+f.id),this.hostAttr=function Qe(u){return"_nghost-%COMP%".replace(ot,u)}(v+"-"+f.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,l){const f=super.createElement(o,l);return super.setAttribute(f,this.contentAttr,""),f}}class ht extends Ye{constructor(o,l,f,v){super(o),this.sharedStylesHost=l,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=he(v.id,v.styles,[]);for(let R=0;R<T.length;R++){const Q=document.createElement("style");Q.textContent=T[R],this.shadowRoot.appendChild(Q)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,l){return super.appendChild(this.nodeOrShadowRoot(o),l)}insertBefore(o,l,f){return super.insertBefore(this.nodeOrShadowRoot(o),l,f)}removeChild(o,l){return super.removeChild(this.nodeOrShadowRoot(o),l)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let We=(()=>{class u extends Fe{constructor(l){super(l)}supports(l){return!0}addEventListener(l,f,v){return l.addEventListener(f,v,!1),()=>this.removeEventListener(l,f,v)}removeEventListener(l,f,v){return l.removeEventListener(f,v)}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(c.K0))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})();const Ct=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kt={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let Nt=(()=>{class u extends Fe{constructor(l){super(l)}supports(l){return null!=u.parseEventName(l)}addEventListener(l,f,v){const T=u.parseEventName(f),R=u.eventCallback(T.fullKey,v,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(l,T.domEventName,R))}static parseEventName(l){const f=l.toLowerCase().split("."),v=f.shift();if(0===f.length||"keydown"!==v&&"keyup"!==v)return null;const T=u._normalizeKey(f.pop());let R="";if(Ct.forEach(oe=>{const we=f.indexOf(oe);we>-1&&(f.splice(we,1),R+=oe+".")}),R+=T,0!=f.length||0===T.length)return null;const Q={};return Q.domEventName=v,Q.fullKey=R,Q}static getEventFullKey(l){let f="",v=function wt(u){let o=u.key;if(null==o){if(o=u.keyIdentifier,null==o)return"Unidentified";o.startsWith("U+")&&(o=String.fromCharCode(parseInt(o.substring(2),16)),3===u.location&&lt.hasOwnProperty(o)&&(o=lt[o]))}return Et[o]||o}(l);return v=v.toLowerCase()," "===v?v="space":"."===v&&(v="dot"),Ct.forEach(T=>{T!=v&&Kt[T](l)&&(f+=T+".")}),f+=v,f}static eventCallback(l,f,v){return T=>{u.getEventFullKey(T)===l&&v.runGuarded(()=>f(T))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(c.K0))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac}),u})();const qn=(0,J.eFA)(J._c5,"browser",[{provide:J.Lbi,useValue:c.bD},{provide:J.g9A,useValue:function Pn(){Me.makeCurrent(),Te.init()},multi:!0},{provide:c.K0,useFactory:function yn(){return(0,J.RDi)(document),document},deps:[]}]),tr=[{provide:J.zSh,useValue:"root"},{provide:J.qLn,useFactory:function Cn(){return new J.qLn},deps:[]},{provide:Ve,useClass:We,multi:!0,deps:[c.K0,J.R0b,J.Lbi]},{provide:Ve,useClass:Nt,multi:!0,deps:[c.K0]},{provide:Ae,useClass:Ae,deps:[tt,Le,J.AFp]},{provide:J.FYo,useExisting:Ae},{provide:Se,useExisting:Le},{provide:Le,useClass:Le,deps:[c.K0]},{provide:J.dDg,useClass:J.dDg,deps:[J.R0b]},{provide:tt,useClass:tt,deps:[Ve,J.R0b]},{provide:c.JF,useClass:Pe,deps:[]}];let Ln=(()=>{class u{constructor(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(l){return{ngModule:u,providers:[{provide:J.AFp,useValue:l.appId},{provide:ke,useExisting:J.AFp},me]}}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(u,12))},u.\u0275mod=J.oAB({type:u}),u.\u0275inj=J.cJS({providers:tr,imports:[c.ez,J.hGG]}),u})();"undefined"!=typeof window&&window;var Hr=P(2011),Bn=P(6115),wi=P(8306),Yr=P(9646),jr=P(8996),$i=P(4986),kr=P(4482),pi=P(5403),gi=P(4004),yi=P(3900),Tr=P(5813),Lr=P(3942),oi=P(5861),jn=P(9681),te=P(2090),cn=P(4859);const Zn="firebasestorage.googleapis.com",Zr="storageBucket";class or extends te.ZR{constructor(o,l){super(wr(o),`Firebase Storage: ${l} (${wr(o)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,or.prototype)}_codeEquals(o){return wr(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function wr(u){return"storage/"+u}function mi(){return new or("unknown","An unknown error occurred, please check the error payload for server response.")}function Cr(){return new or("canceled","User canceled the upload/download.")}function pe(){return new or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _e(u){return new or("invalid-argument",u)}function xe(){return new or("app-deleted","The Firebase app was deleted.")}function dt(u){return new or("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bt(u,o){return new or("invalid-format","String does not match format '"+u+"': "+o)}function Mt(u){throw new or("internal-error","Internal error: "+u)}class kt{constructor(o,l){this.bucket=o,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,l){let f;try{f=kt.makeFromUrl(o,l)}catch(v){return new kt(o,"")}if(""===f.path)return f;throw function Si(u){return new or("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(o)}static makeFromUrl(o,l){let f=null;const v="([A-Za-z0-9.\\-_]+)",Q=new RegExp("^gs://"+v+"(/(.*))?$","i");function we(co){co.path_=decodeURIComponent(co.path)}const bt=l.replace(/[.]/g,"\\."),As=[{regex:Q,indices:{bucket:1,path:3},postModify:function T(co){"/"===co.path.charAt(co.path.length-1)&&(co.path_=co.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${bt}/v[A-Za-z0-9_]+/b/${v}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:we},{regex:new RegExp(`^https?://${l===Zn?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${v}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:we}];for(let co=0;co<As.length;co++){const zu=As[co],Wu=zu.regex.exec(o);if(Wu){let Nl=Wu[zu.indices.path];Nl||(Nl=""),f=new kt(Wu[zu.indices.bucket],Nl),zu.postModify(f);break}}if(null==f)throw function ui(u){return new or("invalid-url","Invalid URL '"+u+"'.")}(o);return f}}class ln{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function nt(u){return"string"==typeof u||u instanceof String}function Ge(u){return Dt()&&u instanceof Blob}function Dt(){return"undefined"!=typeof Blob}function zt(u,o,l,f){if(f<o)throw _e(`Invalid value for '${u}'. Expected ${o} or greater.`);if(f>l)throw _e(`Invalid value for '${u}'. Expected ${l} or less.`)}function Xt(u,o,l){let f=o;return null==l&&(f=`https://${o}`),`${l}://${f}/v0${u}`}function gn(u){const o=encodeURIComponent;let l="?";for(const f in u)u.hasOwnProperty(f)&&(l=l+(o(f)+"=")+o(u[f])+"&");return l=l.slice(0,-1),l}var ur=(()=>{return(u=ur||(ur={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",ur;var u})();class bi{constructor(o,l,f,v,T,R,Q,oe,we,_t,bt){this.url_=o,this.method_=l,this.headers_=f,this.body_=v,this.successCodes_=T,this.additionalRetryCodes_=R,this.callback_=Q,this.errorCallback_=oe,this.timeout_=we,this.progressCallback_=_t,this.connectionFactory_=bt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($t,on)=>{this.resolve_=$t,this.reject_=on,this.start_()})}start_(){const l=(f,v)=>{const T=this.resolve_,R=this.reject_,Q=v.connection;if(v.wasSuccessCode)try{const oe=this.callback_(Q,Q.getResponse());!function nr(u){return void 0!==u}(oe)?T():T(oe)}catch(oe){R(oe)}else if(null!==Q){const oe=mi();oe.serverResponse=Q.getErrorText(),R(this.errorCallback_?this.errorCallback_(Q,oe):oe)}else R(v.canceled?this.appDelete_?xe():Cr():function li(){return new or("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?l(0,new Ir(!1,null,!0)):this.backoffId_=function An(u,o,l){let f=1,v=null,T=null,R=!1,Q=0;function oe(){return 2===Q}let we=!1;function _t(...Kr){we||(we=!0,o.apply(null,Kr))}function bt(Kr){v=setTimeout(()=>{v=null,u(on,oe())},Kr)}function $t(){T&&clearTimeout(T)}function on(Kr,...lo){if(we)return void $t();if(Kr)return $t(),void _t.call(null,Kr,...lo);if(oe()||R)return $t(),void _t.call(null,Kr,...lo);let As;f<64&&(f*=2),1===Q?(Q=2,As=0):As=1e3*(f+Math.random()),bt(As)}let mn=!1;function br(Kr){mn||(mn=!0,$t(),!we&&(null!==v?(Kr||(Q=2),clearTimeout(v),bt(0)):Kr||(Q=1)))}return bt(0),T=setTimeout(()=>{R=!0,br(!0)},l),br}((f,v)=>{if(v)return void f(!1,new Ir(!1,null,!0));const T=this.connectionFactory_();this.pendingConnection_=T;const R=Q=>{null!==this.progressCallback_&&this.progressCallback_(Q.loaded,Q.lengthComputable?Q.total:-1)};null!==this.progressCallback_&&T.addUploadProgressListener(R),T.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&T.removeUploadProgressListener(R),this.pendingConnection_=null;const Q=T.getErrorCode()===ur.NO_ERROR,oe=T.getStatus();if(!Q||this.isRetryStatusCode_(oe)){const _t=T.getErrorCode()===ur.ABORT;return void f(!1,new Ir(!1,null,_t))}const we=-1!==this.successCodes_.indexOf(oe);f(!0,new Ir(we,T))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function Xn(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(o){const l=o>=500&&o<600,v=-1!==[408,429].indexOf(o),T=-1!==this.additionalRetryCodes_.indexOf(o);return l||v||T}}class Ir{constructor(o,l,f){this.wasSuccessCode=o,this.connection=l,this.canceled=!!f}}function fo(...u){const o=function Qs(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==o){const l=new o;for(let f=0;f<u.length;f++)l.append(u[f]);return l.getBlob()}if(Dt())return new Blob(u);throw new or("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ss{constructor(o,l){this.data=o,this.contentType=l||null}}function ws(u,o){switch(u){case Jr.RAW:return new ss(Is(o));case Jr.BASE64:case Jr.BASE64URL:return new ss(Hs(u,o));case Jr.DATA_URL:return new ss(function Js(u){const o=new os(u);return o.base64?Hs(Jr.BASE64,o.rest):function Go(u){let o;try{o=decodeURIComponent(u)}catch(l){throw Bt(Jr.DATA_URL,"Malformed data URL.")}return Is(o)}(o.rest)}(o),function Bi(u){return new os(u).contentType}(o))}throw mi()}function Is(u){const o=[];for(let l=0;l<u.length;l++){let f=u.charCodeAt(l);f<=127?o.push(f):f<=2047?o.push(192|f>>6,128|63&f):55296==(64512&f)?l<u.length-1&&56320==(64512&u.charCodeAt(l+1))?(f=65536|(1023&f)<<10|1023&u.charCodeAt(++l),o.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):o.push(239,191,189):56320==(64512&f)?o.push(239,191,189):o.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(o)}function Hs(u,o){switch(u){case Jr.BASE64:{const v=-1!==o.indexOf("-"),T=-1!==o.indexOf("_");if(v||T)throw Bt(u,"Invalid character '"+(v?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const v=-1!==o.indexOf("+"),T=-1!==o.indexOf("/");if(v||T)throw Bt(u,"Invalid character '"+(v?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function Pi(u){return atob(u)}(o)}catch(v){throw Bt(u,"Invalid character found")}const f=new Uint8Array(l.length);for(let v=0;v<l.length;v++)f[v]=l.charCodeAt(v);return f}class os{constructor(o){this.base64=!1,this.contentType=null;const l=o.match(/^data:([^,]+)?,/);if(null===l)throw Bt(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=l[1]||null;null!=f&&(this.base64=function eo(u,o){return u.length>=o.length&&u.substring(u.length-o.length)===o}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=o.substring(o.indexOf(",")+1)}}class Dr{constructor(o,l){let f=0,v="";Ge(o)?(this.data_=o,f=o.size,v=o.type):o instanceof ArrayBuffer?(l?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),f=this.data_.length):o instanceof Uint8Array&&(l?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),f=o.length),this.size_=f,this.type_=v}size(){return this.size_}type(){return this.type_}slice(o,l){if(Ge(this.data_)){const v=function Ho(u,o,l){return u.webkitSlice?u.webkitSlice(o,l):u.mozSlice?u.mozSlice(o,l):u.slice?u.slice(o,l):null}(this.data_,o,l);return null===v?null:new Dr(v)}{const f=new Uint8Array(this.data_.buffer,o,l-o);return new Dr(f,!0)}}static getBlob(...o){if(Dt()){const l=o.map(f=>f instanceof Dr?f.data_:f);return new Dr(fo.apply(null,l))}{const l=o.map(R=>nt(R)?ws(Jr.RAW,R).data:R.data_);let f=0;l.forEach(R=>{f+=R.byteLength});const v=new Uint8Array(f);let T=0;return l.forEach(R=>{for(let Q=0;Q<R.length;Q++)v[T++]=R[Q]}),new Dr(v,!0)}}uploadData(){return this.data_}}function bs(u){let o;try{o=JSON.parse(u)}catch(l){return null}return function Ii(u){return"object"==typeof u&&!Array.isArray(u)}(o)?o:null}function Qi(u){const o=u.lastIndexOf("/",u.length-2);return-1===o?u:u.slice(o+1)}function Oo(u,o){return o}class Gr{constructor(o,l,f,v){this.server=o,this.local=l||o,this.writable=!!f,this.xform=v||Oo}}let Ji=null;function Cs(){if(Ji)return Ji;const u=[];u.push(new Gr("bucket")),u.push(new Gr("generation")),u.push(new Gr("metageneration")),u.push(new Gr("name","fullPath",!0));const l=new Gr("name");l.xform=function o(T,R){return function ls(u){return!nt(u)||u.length<2?u:Qi(u)}(R)},u.push(l);const v=new Gr("size");return v.xform=function f(T,R){return void 0!==R?Number(R):R},u.push(v),u.push(new Gr("timeCreated")),u.push(new Gr("updated")),u.push(new Gr("md5Hash",null,!0)),u.push(new Gr("cacheControl",null,!0)),u.push(new Gr("contentDisposition",null,!0)),u.push(new Gr("contentEncoding",null,!0)),u.push(new Gr("contentLanguage",null,!0)),u.push(new Gr("contentType",null,!0)),u.push(new Gr("metadata","customMetadata",!0)),Ji=u,Ji}function se(u,o,l){const f=bs(o);return null===f?null:function V(u,o,l){const f={type:"file"},v=l.length;for(let T=0;T<v;T++){const R=l[T];f[R.local]=R.xform(f,o[R.server])}return function yr(u,o){Object.defineProperty(u,"ref",{get:function l(){const T=new kt(u.bucket,u.fullPath);return o._makeStorageReference(T)}})}(f,u),f}(u,f,l)}function ue(u,o){const l={},f=o.length;for(let v=0;v<f;v++){const T=o[v];T.writable&&(l[T.server]=u[T.local])}return JSON.stringify(l)}const Ue="prefixes";class On{constructor(o,l,f,v){this.url=o,this.method=l,this.handler=f,this.timeout=v,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qn(u){if(!u)throw mi()}function ir(u,o){return function l(f,v){const T=se(u,v,o);return Qn(null!==T),T}}function Br(u){return function o(l,f){let v;return v=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function Oi(){return new or("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Li(){return new or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function Hn(u){return new or("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===l.getStatus()?function Zi(u){return new or("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):f,v.serverResponse=f.serverResponse,v}}function Vr(u){const o=Br(u);return function l(f,v){let T=o(f,v);return 404===f.getStatus()&&(T=function xr(u){return new or("object-not-found","Object '"+u+"' does not exist.")}(u.path)),T.serverResponse=v.serverResponse,T}}function Ns(u,o,l){const v=Xt(o.fullServerUrl(),u.host,u._protocol),R=u.maxOperationRetryTime,Q=new On(v,"GET",ir(u,l),R);return Q.errorHandler=Vr(o),Q}function es(u,o,l,f,v){const T={};T.prefix=o.isRoot?"":o.path+"/",l&&l.length>0&&(T.delimiter=l),f&&(T.pageToken=f),v&&(T.maxResults=v);const Q=Xt(o.bucketOnlyServerUrl(),u.host,u._protocol),we=u.maxOperationRetryTime,_t=new On(Q,"GET",function cr(u,o){return function l(f,v){const T=function xn(u,o,l){const f=bs(l);return null===f?null:function qt(u,o,l){const f={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[Ue])for(const v of l[Ue]){const T=v.replace(/\/$/,""),R=u._makeStorageReference(new kt(o,T));f.prefixes.push(R)}if(l.items)for(const v of l.items){const T=u._makeStorageReference(new kt(o,v.name));f.items.push(T)}return f}(u,o,f)}(u,o,v);return Qn(null!==T),T}}(u,o.bucket),we);return _t.urlParams=T,_t.errorHandler=Br(o),_t}function z(u,o,l){const f=Object.assign({},l);return f.fullPath=u.path,f.size=o.size(),f.contentType||(f.contentType=function Gs(u,o){return u&&u.contentType||o&&o.type()||"application/octet-stream"}(null,o)),f}class N{constructor(o,l,f,v){this.current=o,this.total=l,this.finalized=!!f,this.metadata=v||null}}function Y(u,o){let l=null;try{l=u.getResponseHeader("X-Goog-Upload-Status")}catch(v){Qn(!1)}return Qn(!!l&&-1!==(o||["active"]).indexOf(l)),l}const E=262144;const w={STATE_CHANGED:"state_changed"},B={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ce(u){switch(u){case"running":case"pausing":case"canceling":return B.RUNNING;case"paused":return B.PAUSED;case"success":return B.SUCCESS;case"canceled":return B.CANCELED;default:return B.ERROR}}class Ot{constructor(o,l,f){if(function ci(u){return"function"==typeof u}(o)||null!=l||null!=f)this.next=o,this.error=null!=l?l:void 0,this.complete=null!=f?f:void 0;else{const T=o;this.next=T.next,this.error=T.error,this.complete=T.complete}}}function an(u){return(...o)=>{Promise.resolve().then(()=>u(...o))}}class Ur extends class Jn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ur.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ur.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ur.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,l,f,v){if(this.sent_)throw Mt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,o,!0),void 0!==v)for(const T in v)v.hasOwnProperty(T)&&this.xhr_.setRequestHeader(T,v[T].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(o){return-1}}getResponse(){if(!this.sent_)throw Mt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}{initXhr(){this.xhr_.responseType="text"}}function er(){return new Ur}class to{constructor(o,l,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=l,this._metadata=f,this._mappings=Cs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=v=>{this._request=void 0,this._chunkMultiplier=1,v._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=v,this._transition("error"))},this._metadataErrorHandler=v=>{this._request=void 0,v._codeEquals("canceled")?this.completeTransitions_():(this._error=v,this._transition("error"))},this._promise=new Promise((v,T)=>{this._resolve=v,this._reject=T,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const o=this._transferred;return l=>this._updateProgress(o+l)}_shouldDoResumable(o){return o.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,f])=>{switch(this._state){case"running":o(l,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((o,l)=>{const f=function Tt(u,o,l,f,v){const T=o.bucketOnlyServerUrl(),R=z(o,f,v),Q={name:R.fullPath},oe=Xt(T,u.host,u._protocol),_t={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":R.contentType,"Content-Type":"application/json; charset=utf-8"},bt=ue(R,l),mn=new On(oe,"POST",function on(br){let Kr;Y(br);try{Kr=br.getResponseHeader("X-Goog-Upload-URL")}catch(lo){Qn(!1)}return Qn(nt(Kr)),Kr},u.maxUploadRetryTime);return mn.urlParams=Q,mn.headers=_t,mn.body=bt,mn.errorHandler=Br(o),mn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,er,o,l);this._request=v,v.getPromise().then(T=>{this._request=void 0,this._uploadUrl=T,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((l,f)=>{const v=function En(u,o,l,f){const oe=new On(l,"POST",function T(we){const _t=Y(we,["active","final"]);let bt=null;try{bt=we.getResponseHeader("X-Goog-Upload-Size-Received")}catch(on){Qn(!1)}bt||Qn(!1);const $t=Number(bt);return Qn(!isNaN($t)),new N($t,f.size(),"final"===_t)},u.maxUploadRetryTime);return oe.headers={"X-Goog-Upload-Command":"query"},oe.errorHandler=Br(o),oe}(this._ref.storage,this._ref._location,o,this._blob),T=this._ref.storage._makeRequest(v,er,l,f);this._request=T,T.getPromise().then(R=>{R=R,this._request=void 0,this._updateProgress(R.current),this._needToFetchStatus=!1,R.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=E*this._chunkMultiplier,l=new N(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((v,T)=>{let R;try{R=function G(u,o,l,f,v,T,R,Q){const oe=new N(0,0);if(R?(oe.current=R.current,oe.total=R.total):(oe.current=0,oe.total=f.size()),f.size()!==oe.total)throw function et(){return new or("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const we=oe.total-oe.current;let _t=we;v>0&&(_t=Math.min(_t,v));const bt=oe.current,mn={"X-Goog-Upload-Command":_t===we?"upload, finalize":"upload","X-Goog-Upload-Offset":`${oe.current}`},br=f.slice(bt,bt+_t);if(null===br)throw pe();const As=new On(l,"POST",function Kr(co,zu){const Wu=Y(co,["active","final"]),Kg=oe.current+_t,Nl=f.size();let Cp;return Cp="final"===Wu?ir(o,T)(co,zu):null,new N(Kg,Nl,"final"===Wu,Cp)},o.maxUploadRetryTime);return As.headers=mn,As.body=br.uploadData(),As.progressCallback=Q||null,As.errorHandler=Br(u),As}(this._ref._location,this._ref.storage,f,this._blob,o,this._mappings,l,this._makeProgressCallback())}catch(oe){return this._error=oe,void this._transition("error")}const Q=this._ref.storage._makeRequest(R,er,v,T);this._request=Q,Q.getPromise().then(oe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(oe.current),oe.finalized?(this._metadata=oe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){E*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,l)=>{const f=Ns(this._ref.storage,this._ref._location,this._mappings),v=this._ref.storage._makeRequest(f,er,o,l);this._request=v,v.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,l)=>{const f=function L(u,o,l,f,v){const T=o.bucketOnlyServerUrl(),R={"X-Goog-Upload-Protocol":"multipart"},oe=function Q(){let As="";for(let co=0;co<2;co++)As+=Math.random().toString().slice(2);return As}();R["Content-Type"]="multipart/related; boundary="+oe;const we=z(o,f,v),_t=ue(we,l),on=Dr.getBlob("--"+oe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_t+"\r\n--"+oe+"\r\nContent-Type: "+we.contentType+"\r\n\r\n",f,"\r\n--"+oe+"--");if(null===on)throw pe();const mn={name:we.fullPath},br=Xt(T,u.host,u._protocol),lo=u.maxUploadRetryTime,uo=new On(br,"POST",ir(u,l),lo);return uo.urlParams=mn,uo.headers=R,uo.body=on.uploadData(),uo.errorHandler=Br(o),uo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,er,o,l);this._request=v,v.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const l=this._transferred;this._transferred=o,this._transferred!==l&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,void 0!==this._request&&this._request.cancel();break;case"running":const l="paused"===this._state;this._state=o,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=o,this._notifyObservers();break;case"canceled":this._error=Cr(),this._state=o,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const o=ce(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,l,f,v){const T=new Ot(l||void 0,f||void 0,v||void 0);return this._addObserver(T),()=>{this._removeObserver(T)}}then(o,l){return this._promise.then(o,l)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const l=this._observers.indexOf(o);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let o=!0;switch(ce(this._state)){case B.SUCCESS:an(this._resolve.bind(null,this.snapshot))();break;case B.CANCELED:case B.ERROR:an(this._reject.bind(null,this._error))();break;default:o=!1}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(ce(this._state)){case B.RUNNING:case B.PAUSED:o.next&&an(o.next.bind(o,this.snapshot))();break;case B.SUCCESS:o.complete&&an(o.complete.bind(o))();break;default:o.error&&an(o.error.bind(o,this._error))()}}resume(){const o="paused"===this._state||"pausing"===this._state;return o&&this._transition("running"),o}pause(){const o="running"===this._state;return o&&this._transition("pausing"),o}cancel(){const o="running"===this._state||"pausing"===this._state;return o&&this._transition("canceling"),o}}class ni{constructor(o,l){this._service=o,this._location=l instanceof kt?l:kt.makeFromUrl(l,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,l){return new ni(o,l)}get root(){const o=new kt(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qi(this._location.path)}get storage(){return this._service}get parent(){const o=function as(u){if(0===u.length)return null;const o=u.lastIndexOf("/");return-1===o?"":u.slice(0,o)}(this._location.path);if(null===o)return null;const l=new kt(this._location.bucket,o);return new ni(this._service,l)}_throwIfRoot(o){if(""===this._location.path)throw dt(o)}}function Vl(u,o,l){return fa.apply(this,arguments)}function fa(){return(fa=(0,oi.Z)(function*(u,o,l){const v=yield ko(u,{pageToken:l});o.prefixes.push(...v.prefixes),o.items.push(...v.items),null!=v.nextPageToken&&(yield Vl(u,o,v.nextPageToken))})).apply(this,arguments)}function ko(u,o){null!=o&&"number"==typeof o.maxResults&&zt("options.maxResults",1,1e3,o.maxResults);const l=o||{},f=es(u.storage,u._location,"/",l.pageToken,l.maxResults);return u.storage.makeRequestWithTokens(f,er)}function pa(u){u._throwIfRoot("getDownloadURL");const o=function xs(u,o,l){const v=Xt(o.fullServerUrl(),u.host,u._protocol),R=u.maxOperationRetryTime,Q=new On(v,"GET",function di(u,o){return function l(f,v){const T=se(u,v,o);return Qn(null!==T),function U(u,o,l,f){const v=bs(o);if(null===v||!nt(v.downloadTokens))return null;const T=v.downloadTokens;if(0===T.length)return null;const R=encodeURIComponent;return T.split(",").map(we=>{const bt=u.fullPath;return Xt("/b/"+R(u.bucket)+"/o/"+R(bt),l,f)+gn({alt:"media",token:we})})[0]}(T,v,u.host,u._protocol)}}(u,l),R);return Q.errorHandler=Vr(o),Q}(u.storage,u._location,Cs());return u.storage.makeRequestWithTokens(o,er).then(l=>{if(null===l)throw function ct(){return new or("no-download-url","The given file does not have any download URLs.")}();return l})}function ra(u,o){const l=function Xi(u,o){const l=o.split("/").filter(f=>f.length>0).join("/");return 0===u.length?l:u+"/"+l}(u._location.path,o),f=new kt(u._location.bucket,l);return new ni(u.storage,f)}function ts(u,o){if(u instanceof ga){const l=u;if(null==l._bucket)throw function re(){return new or("no-default-bucket","No default bucket found. Did you set the '"+Zr+"' property when initializing the app?")}();const f=new ni(l,l._bucket);return null!=o?ts(f,o):f}return void 0!==o?ra(u,o):u}function No(u,o){if(o&&function Ra(u){return/^[A-Za-z]+:\/\//.test(u)}(o)){if(u instanceof ga)return function Ul(u,o){return new ni(u,o)}(u,o);throw _e("To use ref(service, url), the first argument must be a Storage instance.")}return ts(u,o)}function Ki(u,o){const l=null==o?void 0:o[Zr];return null==l?null:kt.makeFromBucketSpec(l,u)}class ga{constructor(o,l,f,v,T){this.app=o,this._authProvider=l,this._appCheckProvider=f,this._url=v,this._firebaseVersion=T,this._bucket=null,this._host=Zn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=v?kt.makeFromBucketSpec(v,this._host):Ki(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?kt.makeFromBucketSpec(this._url,o):Ki(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){zt("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){zt("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,oi.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const l=o._authProvider.getImmediate({optional:!0});if(l){const f=yield l.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,oi.Z)(function*(){const l=o._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new ni(this,o)}_makeRequest(o,l,f,v){if(this._deleted)return new ln(xe());{const T=function Es(u,o,l,f,v,T){const R=gn(u.urlParams),Q=u.url+R,oe=Object.assign({},u.headers);return function Ai(u,o){o&&(u["X-Firebase-GMPID"]=o)}(oe,o),function is(u,o){null!==o&&o.length>0&&(u.Authorization="Firebase "+o)}(oe,l),function js(u,o){u["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager")}(oe,T),function na(u,o){null!==o&&(u["X-Firebase-AppCheck"]=o)}(oe,f),new bi(Q,u.method,oe,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,v)}(o,this._appId,f,v,l,this._firebaseVersion);return this._requests.add(T),T.getPromise().then(()=>this._requests.delete(T),()=>this._requests.delete(T)),T}}makeRequestWithTokens(o,l){var f=this;return(0,oi.Z)(function*(){const[v,T]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(o,l,v,T).getPromise()})()}}const Lc="@firebase/storage";function Pa(u,o){return No(u=(0,te.m9)(u),o)}function Iu(u,{instanceIdentifier:o}){const l=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),v=u.getProvider("app-check-internal");return new ga(l,f,v,o,jn.SDK_VERSION)}!function ps(){(0,jn._registerComponent)(new cn.wA("storage",Iu,"PUBLIC").setMultipleInstances(!0)),(0,jn.registerVersion)(Lc,"0.9.6",""),(0,jn.registerVersion)(Lc,"0.9.6","esm2017")}();class no{constructor(o,l,f){this._delegate=o,this.task=l,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gl{constructor(o,l){this._delegate=o,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new no(this._delegate.snapshot,this,this._ref)}then(o,l){return this._delegate.then(f=>{if(o)return o(new no(f,this,this._ref))},l)}on(o,l,f,v){let T;return l&&(T="function"==typeof l?R=>l(new no(R,this,this._ref)):{next:l.next?R=>l.next(new no(R,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(o,T,f||void 0,v||void 0)}}class ro{constructor(o,l){this._delegate=o,this._service=l}get prefixes(){return this._delegate.prefixes.map(o=>new Fo(o,this._service))}get items(){return this._delegate.items.map(o=>new Fo(o,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fo{constructor(o,l){this._delegate=o,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(o){const l=function tl(u,o){return ra(u,o)}(this._delegate,o);return new Fo(l,this.storage)}get root(){return new Fo(this._delegate.root,this.storage)}get parent(){const o=this._delegate.parent;return null==o?null:new Fo(o,this.storage)}put(o,l){return this._throwIfRoot("put"),new Gl(function Eo(u,o,l){return function Ja(u,o,l){return u._throwIfRoot("uploadBytesResumable"),new to(u,new Dr(o),l)}(u=(0,te.m9)(u),o,l)}(this._delegate,o,l),this)}putString(o,l=Jr.RAW,f){this._throwIfRoot("putString");const v=ws(l,o),T=Object.assign({},f);return null==T.contentType&&null!=v.contentType&&(T.contentType=v.contentType),new Gl(new to(this._delegate,new Dr(v.data,!0),T),this)}listAll(){return function wo(u){return function Ma(u){const o={prefixes:[],items:[]};return Vl(u,o).then(()=>o)}(u=(0,te.m9)(u))}(this._delegate).then(o=>new ro(o,this.storage))}list(o){return function Hl(u,o){return ko(u=(0,te.m9)(u),o)}(this._delegate,o||void 0).then(l=>new ro(l,this.storage))}getMetadata(){return function us(u){return function el(u){u._throwIfRoot("getMetadata");const o=Ns(u.storage,u._location,Cs());return u.storage.makeRequestWithTokens(o,er)}(u=(0,te.m9)(u))}(this._delegate)}updateMetadata(o){return function ns(u,o){return function Wo(u,o){u._throwIfRoot("updateMetadata");const l=function zo(u,o,l,f){const T=Xt(o.fullServerUrl(),u.host,u._protocol),Q=ue(l,f),we=u.maxOperationRetryTime,_t=new On(T,"PATCH",ir(u,f),we);return _t.headers={"Content-Type":"application/json; charset=utf-8"},_t.body=Q,_t.errorHandler=Vr(o),_t}(u.storage,u._location,o,Cs());return u.storage.makeRequestWithTokens(l,er)}(u=(0,te.m9)(u),o)}(this._delegate,o)}getDownloadURL(){return function po(u){return pa(u=(0,te.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ia(u){return function wu(u){u._throwIfRoot("deleteObject");const o=function Po(u,o){const f=Xt(o.fullServerUrl(),u.host,u._protocol),Q=new On(f,"DELETE",function R(oe,we){},u.maxOperationRetryTime);return Q.successCodes=[200,204],Q.errorHandler=Vr(o),Q}(u.storage,u._location);return u.storage.makeRequestWithTokens(o,er)}(u=(0,te.m9)(u))}(this._delegate)}_throwIfRoot(o){if(""===this._delegate._location.path)throw dt(o)}}class bu{constructor(o,l){this.app=o,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(o){if(Io(o))throw _e("ref() expected a child path but got a URL, use refFromURL instead.");return new Fo(Pa(this._delegate,o),this)}refFromURL(o){if(!Io(o))throw _e("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kt.makeFromUrl(o,this._delegate.host)}catch(l){throw _e("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fo(Pa(this._delegate,o),this)}setMaxUploadRetryTime(o){this._delegate.maxUploadRetryTime=o}setMaxOperationRetryTime(o){this._delegate.maxOperationRetryTime=o}useEmulator(o,l,f={}){!function nl(u,o,l,f={}){!function $l(u,o,l,f={}){u.host=`${o}:${l}`,u._protocol="http";const{mockUserToken:v}=f;v&&(u._overrideAuthToken="string"==typeof v?v:(0,te.Sg)(v,u.app.options.projectId))}(u,o,l,f)}(this._delegate,o,l,f)}}function Io(u){return/^[A-Za-z]+:\/\//.test(u)}function ya(u,{instanceIdentifier:o}){const l=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:o});return new bu(l,f)}!function Ts(u){const o={TaskState:B,TaskEvent:w,StringFormat:Jr,Storage:bu,Reference:Fo};u.INTERNAL.registerComponent(new cn.wA("storage-compat",ya,"PUBLIC").setServiceProps(o).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.14")}(Lr.Z);var Ko=P(440),bo=P(127);function Tu(u){const o=function Du(u){return new wi.y(o=>{const l=R=>o.next(R);l(u.snapshot);const T=u.on("state_changed",l);return u.then(R=>{l(R),o.complete()},R=>{l(u.snapshot),(R=>{o.error(R)})(R)}),function(){T()}}).pipe(function fs(u,o=$i.z){return(0,kr.e)((l,f)=>{let v=null,T=null,R=null;const Q=()=>{if(v){v.unsubscribe(),v=null;const we=T;T=null,f.next(we)}};function oe(){const we=R+u,_t=o.now();if(_t<we)return v=this.schedule(void 0,we-_t),void f.add(v);Q()}l.subscribe((0,pi.x)(f,we=>{T=we,R=o.now(),v||(v=o.schedule(oe,u),f.add(v))},()=>{Q(),f.complete()},void 0,()=>{T=v=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>o,percentageChanges:()=>o.pipe((0,gi.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function Qt(u){return{getDownloadURL:()=>(0,Yr.of)(void 0).pipe(Tr.fc,(0,yi.w)(()=>u.getDownloadURL()),Tr.iC),getMetadata:()=>(0,Yr.of)(void 0).pipe(Tr.fc,(0,yi.w)(()=>u.getMetadata()),Tr.iC),delete:()=>(0,jr.D)(u.delete()),child:o=>Qt(u.child(o)),updateMetadata:o=>(0,jr.D)(u.updateMetadata(o)),put:(o,l)=>Tu(u.put(o,l)),putString:(o,l,f)=>Tu(u.putString(o,l,f)),list:o=>(0,jr.D)(u.list(o)),listAll:()=>(0,jr.D)(u.listAll())}}const ki=new J.OlP("angularfire2.storageBucket"),oa=new J.OlP("angularfire2.storage.maxUploadRetryTime"),M=new J.OlP("angularfire2.storage.maxOperationRetryTime"),S=new J.OlP("angularfire2.storage.use-emulator");let D=(()=>{class u{constructor(l,f,v,T,R,Q,oe,we,_t,bt){const $t=(0,Hr.on)(l,R,f);this.storage=(0,Hr.cc)(`${$t.name}.storage.${v}`,"AngularFireStorage",$t.name,()=>{const on=R.runOutsideAngular(()=>$t.storage(v||void 0)),mn=_t;return mn&&on.useEmulator(...mn),oe&&on.setMaxUploadRetryTime(oe),we&&on.setMaxOperationRetryTime(we),on},[oe,we])}ref(l){return Qt(this.storage.ref(l))}refFromURL(l){return Qt(this.storage.refFromURL(l))}upload(l,f,v){return Qt(this.storage.ref(l)).put(f,v)}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(Hr.Dh),J.LFG(Hr.xv,8),J.LFG(ki,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(Tr.HU),J.LFG(oa,8),J.LFG(M,8),J.LFG(S,8),J.LFG(Ko.nm,8))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),j=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=J.oAB({type:u}),u.\u0275inj=J.cJS({}),u})(),W=(()=>{class u{constructor(){bo.Z.registerVersion("angularfire",Tr.q4.full,"gcs-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=J.oAB({type:u}),u.\u0275inj=J.cJS({providers:[D],imports:[j]}),u})();var le=P(6451),He=P(3099),Vt=P(5026),Dn=P(1884),_r=P(8421),Vn=P(4671),zr=P(5032),Xr=P(7669);P(8775);var cs=P(1877);const Co="@firebase/database";let dr="";function _a(u){dr=u}class zl{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,l){null==l?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),(0,te.Pz)(l))}get(o){const l=this.domStorage_.getItem(this.prefixedName_(o));return null==l?null:(0,te.cI)(l)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}class Vi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,l){null==l?delete this.cache_[o]:this.cache_[o]=l}get(o){return(0,te.r3)(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}const ar=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){const o=window[u];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new zl(o)}}catch(o){}return new Vi},va=ar("localStorage"),_i=ar("sessionStorage"),Wl=new cs.Yd("@firebase/database"),Zu=function(){let u=1;return function(){return u++}}(),ri=function(u){const o=(0,te.dS)(u),l=new te.gQ;l.update(o);const f=l.digest();return te.US.encodeByteArray(f)},Xu=function(...u){let o="";for(let l=0;l<u.length;l++){const f=u[l];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?o+=Xu.apply(null,f):o+="object"==typeof f?(0,te.Pz)(f):f,o+=" "}return o};let Hi=null,il=!0;const wh=function(u,o){(0,te.hu)(!o||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Wl.logLevel=cs.in.VERBOSE,Hi=Wl.log.bind(Wl),o&&_i.set("logging_enabled",!0)):"function"==typeof u?Hi=u:(Hi=null,_i.remove("logging_enabled"))},Nr=function(...u){if(!0===il&&(il=!1,null===Hi&&!0===_i.get("logging_enabled")&&wh(!0)),Hi){const o=Xu.apply(null,u);Hi(o)}},Qu=function(u){return function(...o){Nr(u,...o)}},vi=function(...u){const o="FIREBASE INTERNAL ERROR: "+Xu(...u);Wl.error(o)},ii=function(...u){const o=`FIREBASE FATAL ERROR: ${Xu(...u)}`;throw Wl.error(o),new Error(o)},xi=function(...u){const o="FIREBASE WARNING: "+Xu(...u);Wl.warn(o)},pl=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},gs="[MIN_NAME]",ds="[MAX_NAME]",so=function(u,o){if(u===o)return 0;if(u===gs||o===ds)return-1;if(o===gs||u===ds)return 1;{const l=Ws(u),f=Ws(o);return null!==l?null!==f?l-f==0?u.length-o.length:l-f:-1:null!==f?1:u<o?-1:1}},aa=function(u,o){return u===o?0:u<o?-1:1},la=function(u,o){if(o&&u in o)return o[u];throw new Error("Missing required key ("+u+") in object: "+(0,te.Pz)(o))},un=function(u){if("object"!=typeof u||null===u)return(0,te.Pz)(u);const o=[];for(const f in u)o.push(f);o.sort();let l="{";for(let f=0;f<o.length;f++)0!==f&&(l+=","),l+=(0,te.Pz)(o[f]),l+=":",l+=un(u[o[f]]);return l+="}",l},zs=function(u,o){const l=u.length;if(l<=o)return[u];const f=[];for(let v=0;v<l;v+=o)f.push(u.substring(v,v+o>l?l:v+o));return f};function qi(u,o){for(const l in u)u.hasOwnProperty(l)&&o(l,u[l])}const ka=function(u){(0,te.hu)(!pl(u),"Invalid JSON number");const f=1023;let v,T,R,Q,oe;0===u?(T=0,R=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-f)?(Q=Math.min(Math.floor(Math.log(u)/Math.LN2),f),T=Q+f,R=Math.round(u*Math.pow(2,52-Q)-Math.pow(2,52))):(T=0,R=Math.round(u/Math.pow(2,-1074))));const we=[];for(oe=52;oe;oe-=1)we.push(R%2?1:0),R=Math.floor(R/2);for(oe=11;oe;oe-=1)we.push(T%2?1:0),T=Math.floor(T/2);we.push(v?1:0),we.reverse();const _t=we.join("");let bt="";for(oe=0;oe<64;oe+=8){let $t=parseInt(_t.substr(oe,8),2).toString(16);1===$t.length&&($t="0"+$t),bt+=$t}return bt.toLowerCase()},gl=new RegExp("^-?(0*)\\d{1,10}$"),Kl=-2147483648,ql=2147483647,Ws=function(u){if(gl.test(u)){const o=Number(u);if(o>=Kl&&o<=ql)return o}return null},Na=function(u){try{u()}catch(o){setTimeout(()=>{throw xi("Exception was thrown by user callback.",o.stack||""),o},Math.floor(0))}},Yl=function(u,o){const l=setTimeout(u,o);return"object"==typeof l&&l.unref&&l.unref(),l};class Ea{constructor(o,l){this.appName_=o,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(f=>this.appCheck=f)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((l,f)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(l,f):l(null)},0)})}addTokenChangeListener(o){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(f=>f.addTokenListener(o))}notifyForInvalidToken(){xi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class yl{constructor(o,l,f){this.appName_=o,this.firebaseOptions_=l,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(v=>this.auth_=v)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(l=>l&&"auth/token-not-initialized"===l.code?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,f)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(l,f):l(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(l=>l.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(l=>l.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';o+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xi(o)}}let Ks=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Ls=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ne="websocket",mt="long_polling";class Rt{constructor(o,l,f,v,T=!1,R="",Q=!1){this.secure=l,this.namespace=f,this.webSocketOnly=v,this.nodeAdmin=T,this.persistenceKey=R,this.includeNamespaceInQueryParams=Q,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=va.get("host:"+o)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&va.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dn(u,o,l){let f;if((0,te.hu)("string"==typeof o,"typeof type must == string"),(0,te.hu)("object"==typeof l,"typeof params must == object"),o===Ne)f=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(o!==mt)throw new Error("Unknown connection type: "+o);f=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function tn(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const v=[];return qi(l,(T,R)=>{v.push(T+"="+R)}),f+v.join("&")}class gr{constructor(){this.counters_={}}incrementCounter(o,l=1){(0,te.r3)(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=l}get(){return(0,te.p$)(this.counters_)}}const $n={},Wr={};function Rn(u){const o=u.toString();return $n[o]||($n[o]=new gr),$n[o]}class si{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,l){this.closeAfterResponse=o,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,l){for(this.pendingResponses[o]=l;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<f.length;++v)f[v]&&Na(()=>{this.onMessage_(f[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ql{constructor(o,l,f,v,T,R,Q){this.connId=o,this.repoInfo=l,this.applicationId=f,this.appCheckToken=v,this.authToken=T,this.transportSessionId=R,this.lastSessionId=Q,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qu(o),this.stats_=Rn(l),this.urlFn=oe=>(this.appCheckToken&&(oe.ac=this.appCheckToken),dn(l,mt,oe))}open(o,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new si(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,te.Yr)()||"complete"===document.readyState)u();else{let o=!1;const l=function(){document.body?o||(o=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dh((...T)=>{const[R,Q,oe,we,_t]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===R)this.id=Q,this.password=oe;else{if("close"!==R)throw new Error("Unrecognized command received: "+R);Q?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Q,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[R,Q]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(R,Q)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ls.test(location.hostname)&&(f.r="f");const v=this.urlFn(f);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ql.forceAllow_=!0}static forceDisallow(){Ql.forceDisallow_=!0}static isAvailable(){return!((0,te.Yr)()||!Ql.forceAllow_&&(Ql.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const l=(0,te.Pz)(o);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=(0,te.h$)(l),v=zs(f,1840);for(let T=0;T<v.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[T]),this.curSegmentNum++}addDisconnectPingFrame(o,l){if((0,te.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=o,f.pw=l,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const l=(0,te.Pz)(o).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Dh{constructor(o,l,f,v){if(this.onDisconnect=f,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,te.Yr)())this.commandCB=o,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=Zu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=o,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=Dh.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const R="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(R),this.myIFrame.doc.close()}catch(Q){Nr("frame writing exception"),Q.stack&&Nr(Q.stack),Nr(Q)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(o);try{o.contentWindow.document||Nr("No IE domain setting required")}catch(l){const f=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,l){for(this.myID=o,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o.id=this.myID,o.pw=this.myPW,o.ser=this.currentSerial;let l=this.urlFn(o),f="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const R=this.pendingSegs.shift();f=f+"&seg"+v+"="+R.seg+"&ts"+v+"="+R.ts+"&d"+v+"="+R.d,v++}return l+=f,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(o,l,f){this.pendingSegs.push({seg:o,ts:l,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(o,l){this.outstandingRequests.add(l);const f=()=>{this.outstandingRequests.delete(l),this.newRequest_()},v=setTimeout(f,Math.floor(25e3));this.addTag(o,()=>{clearTimeout(v),f()})}addTag(o,l){(0,te.Yr)()?this.doNodeLongPoll(o,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=o,f.onload=f.onreadystatechange=function(){const v=f.readyState;(!v||"loaded"===v||"complete"===v)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),l())},f.onerror=()=>{Nr("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch(f){}},Math.floor(1))}}let Ba=null;"undefined"!=typeof MozWebSocket?Ba=MozWebSocket:"undefined"!=typeof WebSocket&&(Ba=WebSocket);let Zo=(()=>{class u{constructor(l,f,v,T,R,Q,oe){this.connId=l,this.applicationId=v,this.appCheckToken=T,this.authToken=R,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qu(this.connId),this.stats_=Rn(f),this.connURL=u.connectionURL_(f,Q,oe,T,v),this.nodeAdmin=f.nodeAdmin}static connectionURL_(l,f,v,T,R){const Q={v:"5"};return!(0,te.Yr)()&&"undefined"!=typeof location&&location.hostname&&Ls.test(location.hostname)&&(Q.r="f"),f&&(Q.s=f),v&&(Q.ls=v),T&&(Q.ac=T),R&&(Q.p=R),dn(l,Ne,Q)}open(l,f){this.onDisconnect=f,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,va.set("previous_websocket_failure",!0);try{let v;if((0,te.Yr)()){const R={headers:{"User-Agent":`Firebase/5/${dr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(R.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(R.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Q=process.env,oe=0===this.connURL.indexOf("wss://")?Q.HTTPS_PROXY||Q.https_proxy:Q.HTTP_PROXY||Q.http_proxy;oe&&(R.proxy={origin:oe})}this.mySock=new Ba(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const T=v.message||v.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const T=v.message||v.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(l=!0)}return!l&&null!==Ba&&!u.forceDisallow_}static previouslyFailed(){return va.isInMemoryStorage||!0===va.get("previous_websocket_failure")}markConnectionHealthy(){va.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const v=(0,te.cI)(f);this.onMessage(v)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,te.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const f=Number(l);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const f=l.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const v=this.extractFrameCount_(f);null!==v&&this.appendFrame_(v)}}send(l){this.resetKeepAlive();const f=(0,te.Pz)(l);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const v=zs(f,16384);v.length>1&&this.sendString_(String(v.length));for(let T=0;T<v.length;T++)this.sendString_(v[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),kd=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[Ql,Zo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const f=Zo&&Zo.isAvailable();let v=f&&!Zo.previouslyFailed();if(l.webSocketOnly&&(f||xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[Zo];else{const T=this.transports_=[];for(const R of u.ALL_TRANSPORTS)R&&R.isAvailable()&&T.push(R);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Bd{constructor(o,l,f,v,T,R,Q,oe,we,_t){this.id=o,this.repoInfo_=l,this.applicationId_=f,this.appCheckToken_=v,this.authToken_=T,this.onMessage_=R,this.onReady_=Q,this.onDisconnect_=oe,this.onKill_=we,this.lastSessionId=_t,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qu("c:"+this.id+":"),this.transportManager_=new kd(l),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,f)},Math.floor(0));const v=o.healthyTimeout||0;v>0&&(this.healthyTimeout_=Yl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return l=>{o===this.conn_?this.onConnectionLost_(l):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return l=>{2!==this.state_&&(o===this.rx_?this.onPrimaryMessageReceived_(l):o===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(o){this.sendData_({t:"d",d:o})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if("t"in o){const l=o.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const l=la("t",o),f=la("d",o);if("c"===l)this.onSecondaryControl_(f);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const l=la("t",o),f=la("d",o);"c"===l?this.onControl_(f):"d"===l&&this.onDataMessage_(f)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const l=la("t",o);if("d"in o){const f=o.d;if("h"===l)this.onHandshake_(f);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(f):"r"===l?this.onReset_(f):"e"===l?vi("Server Error: "+f):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vi("Unknown control packet command: "+l)}}onHandshake_(o){const l=o.ts,f=o.v,v=o.h;this.sessionId=o.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==f&&xi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,f),Yl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,l){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,o||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(o)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ua{put(o,l,f,v){}merge(o,l,f,v){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,l,f){}onDisconnectMerge(o,l,f){}onDisconnectCancel(o,l){}reportStats(o){}}class wl{constructor(o){this.allowedEvents_=o,this.listeners_={},(0,te.hu)(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...l){if(Array.isArray(this.listeners_[o])){const f=[...this.listeners_[o]];for(let v=0;v<f.length;v++)f[v].callback.apply(f[v].context,l)}}on(o,l,f){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:l,context:f});const v=this.getInitialEvent(o);v&&l.apply(f,v)}off(o,l,f){this.validateEventType_(o);const v=this.listeners_[o]||[];for(let T=0;T<v.length;T++)if(v[T].callback===l&&(!f||f===v[T].context))return void v.splice(T,1)}validateEventType_(o){(0,te.hu)(this.allowedEvents_.find(l=>l===o),"Unknown event: "+o)}}class jc extends wl{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,te.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jc}getInitialEvent(o){return(0,te.hu)("online"===o,"Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}class Di{constructor(o,l){if(void 0===l){this.pieces_=o.split("/");let f=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[f]=this.pieces_[v],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=l}toString(){let o="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(o+="/"+this.pieces_[l]);return o||"/"}}function Ei(){return new Di("")}function Mr(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Il(u){return u.pieces_.length-u.pieceNum_}function Ui(u){let o=u.pieceNum_;return o<u.pieces_.length&&o++,new Di(u.pieces_,o)}function Hc(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function $a(u,o=0){return u.pieces_.slice(u.pieceNum_+o)}function Bf(u){if(u.pieceNum_>=u.pieces_.length)return null;const o=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)o.push(u.pieces_[l]);return new Di(o,0)}function Ni(u,o){const l=[];for(let f=u.pieceNum_;f<u.pieces_.length;f++)l.push(u.pieces_[f]);if(o instanceof Di)for(let f=o.pieceNum_;f<o.pieces_.length;f++)l.push(o.pieces_[f]);else{const f=o.split("/");for(let v=0;v<f.length;v++)f[v].length>0&&l.push(f[v])}return new Di(l,0)}function fr(u){return u.pieceNum_>=u.pieces_.length}function Ms(u,o){const l=Mr(u),f=Mr(o);if(null===l)return o;if(l===f)return Ms(Ui(u),Ui(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+u+")")}function ja(u,o){const l=$a(u,0),f=$a(o,0);for(let v=0;v<l.length&&v<f.length;v++){const T=so(l[v],f[v]);if(0!==T)return T}return l.length===f.length?0:l.length<f.length?-1:1}function ol(u,o){if(Il(u)!==Il(o))return!1;for(let l=u.pieceNum_,f=o.pieceNum_;l<=u.pieces_.length;l++,f++)if(u.pieces_[l]!==o.pieces_[f])return!1;return!0}function mo(u,o){let l=u.pieceNum_,f=o.pieceNum_;if(Il(u)>Il(o))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==o.pieces_[f])return!1;++l,++f}return!0}class Vd{constructor(o,l){this.errorPrefix_=l,this.parts_=$a(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,te.ug)(this.parts_[f]);rc(this)}}function rc(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bl(u))}function bl(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Gc extends wl{constructor(){let o,l;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(l="visibilitychange",o="hidden"):void 0!==document.mozHidden?(l="mozvisibilitychange",o="mozHidden"):void 0!==document.msHidden?(l="msvisibilitychange",o="msHidden"):void 0!==document.webkitHidden&&(l="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const f=!document[o];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new Gc}getInitialEvent(o){return(0,te.hu)("visible"===o,"Unknown event type: "+o),[this.visible_]}}const Ha=1e3;let sc,eu=(()=>{class u extends Ua{constructor(l,f,v,T,R,Q,oe,we){if(super(),this.repoInfo_=l,this.applicationId_=f,this.onDataUpdate_=v,this.onConnectStatus_=T,this.onServerInfoUpdate_=R,this.authTokenProvider_=Q,this.appCheckTokenProvider_=oe,this.authOverride_=we,this.id=u.nextPersistentConnectionId_++,this.log_=Qu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ha,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,we&&!(0,te.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gc.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&jc.getInstance().on("online",this.onOnline_,this)}sendRequest(l,f,v){const T=++this.requestNumber_,R={r:T,a:l,b:f};this.log_((0,te.Pz)(R)),(0,te.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(R),v&&(this.requestCBHash_[T]=v)}get(l){this.initConnection_();const f=new te.BH,v={p:l._path.toString(),q:l._queryObject},T={action:"g",request:v,onComplete:Q=>{const oe=Q.d;"ok"===Q.s?(this.onDataUpdate_(v.p,oe,!1,null),f.resolve(oe)):f.reject(oe)}};this.outstandingGets_.push(T),this.outstandingGetCount_++;const R=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const Q=this.outstandingGets_[R];void 0===Q||T!==Q||(delete this.outstandingGets_[R],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+R+" timed out on connection"),f.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(R),f.promise}listen(l,f,v,T){this.initConnection_();const R=l._queryIdentifier,Q=l._path.toString();this.log_("Listen called for "+Q+" "+R),this.listens.has(Q)||this.listens.set(Q,new Map),(0,te.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,te.hu)(!this.listens.get(Q).has(R),"listen() called twice for same path/queryId.");const oe={onComplete:T,hashFn:f,query:l,tag:v};this.listens.get(Q).set(R,oe),this.connected_&&this.sendListen_(oe)}sendGet_(l){const f=this.outstandingGets_[l];this.sendRequest("g",f.request,v=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(v)})}sendListen_(l){const f=l.query,v=f._path.toString(),T=f._queryIdentifier;this.log_("Listen on "+v+" for "+T);const R={p:v};l.tag&&(R.q=f._queryObject,R.t=l.tag),R.h=l.hashFn(),this.sendRequest("q",R,oe=>{const we=oe.d,_t=oe.s;u.warnOnListenWarnings_(we,f),(this.listens.get(v)&&this.listens.get(v).get(T))===l&&(this.log_("listen response",oe),"ok"!==_t&&this.removeListen_(v,T),l.onComplete&&l.onComplete(_t,we))})}static warnOnListenWarnings_(l,f){if(l&&"object"==typeof l&&(0,te.r3)(l,"w")){const v=(0,te.DV)(l,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const T='".indexOn": "'+f._queryParams.getIndex().toString()+'"',R=f._path.toString();xi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${R} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,te.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,f=(0,te.w9)(l)?"auth":"gauth",v={cred:l};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(f,v,T=>{const R=T.s,Q=T.d||"error";this.authToken_===l&&("ok"===R?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(R,Q))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const f=l.s,v=l.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,v)})}unlisten(l,f){const v=l._path.toString(),T=l._queryIdentifier;this.log_("Unlisten called for "+v+" "+T),(0,te.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,T)&&this.connected_&&this.sendUnlisten_(v,T,l._queryObject,f)}sendUnlisten_(l,f,v,T){this.log_("Unlisten on "+l+" for "+f);const R={p:l};T&&(R.q=v,R.t=T),this.sendRequest("n",R)}onDisconnectPut(l,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,f,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:f,onComplete:v})}onDisconnectMerge(l,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,f,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:f,onComplete:v})}onDisconnectCancel(l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,f):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(l,f,v,T){const R={p:f,d:v};this.log_("onDisconnect "+l,R),this.sendRequest(l,R,Q=>{T&&setTimeout(()=>{T(Q.s,Q.d)},Math.floor(0))})}put(l,f,v,T){this.putInternal("p",l,f,v,T)}merge(l,f,v,T){this.putInternal("m",l,f,v,T)}putInternal(l,f,v,T,R){this.initConnection_();const Q={p:f,d:v};void 0!==R&&(Q.h=R),this.outstandingPuts_.push({action:l,request:Q,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(l){const f=this.outstandingPuts_[l].action,v=this.outstandingPuts_[l].request,T=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(f,v,R=>{this.log_(f+" response",R),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(R.s,R.d)})}reportStats(l){if(this.connected_){const f={c:l};this.log_("reportStats",f),this.sendRequest("s",f,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,te.Pz)(l));const f=l.r,v=this.requestCBHash_[f];v&&(delete this.requestCBHash_[f],v(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,f){this.log_("handleServerMessage",l,f),"d"===l?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===l?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===l?this.onListenRevoked_(f.p,f.q):"ac"===l?this.onAuthRevoked_(f.s,f.d):"apc"===l?this.onAppCheckRevoked_(f.s,f.d):"sd"===l?this.onSecurityDebugPacket_(f):vi("Unrecognized action received from server: "+(0,te.Pz)(l)+"\nAre you using the latest client?")}onReady_(l,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,te.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ha,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Ha,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ha),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-l);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,oi.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const f=l.onDataMessage_.bind(l),v=l.onReady_.bind(l),T=l.onRealtimeDisconnect_.bind(l),R=l.id+":"+u.nextConnectionId_++,Q=l.lastSessionId;let oe=!1,we=null;const _t=function(){we?we.close():(oe=!0,T())};l.realtime_={close:_t,sendRequest:function(on){(0,te.hu)(we,"sendRequest call when we're not connected not allowed."),we.sendRequest(on)}};const $t=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[on,mn]=yield Promise.all([l.authTokenProvider_.getToken($t),l.appCheckTokenProvider_.getToken($t)]);oe?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),l.authToken_=on&&on.accessToken,l.appCheckToken_=mn&&mn.token,we=new Bd(R,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,f,v,T,br=>{xi(br+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},Q))}catch(on){l.log_("Failed to get token: "+on),oe||(l.repoInfo_.nodeAdmin&&xi(on),_t())}}})()}interrupt(l){Nr("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){Nr("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,te.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ha,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const f=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const f=this.outstandingPuts_[l];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,f){let v;v=f?f.map(R=>un(R)).join("$"):"default";const T=this.removeListen_(l,v);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(l,f){const v=new Di(l).toString();let T;if(this.listens.has(v)){const R=this.listens.get(v);T=R.get(f),R.delete(f),0===R.size&&this.listens.delete(v)}else T=void 0;return T}onAuthRevoked_(l,f){Nr("Auth token revoked: "+l+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,f){Nr("App check token revoked: "+l+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const f of l.values())this.sendListen_(f);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let f="js";(0,te.Yr)()&&(f=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+f+"."+dr.replace(/\./g,"-")]=1,(0,te.uI)()?l["framework.cordova"]=1:(0,te.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=jc.getInstance().currentlyOnline();return(0,te.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Rr{constructor(o,l){this.name=o,this.node=l}static Wrap(o,l){return new Rr(o,l)}}class Ga{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,l){const f=new Rr(gs,o),v=new Rr(gs,l);return 0!==this.compare(f,v)}minPost(){return Rr.MIN}}class ys extends Ga{static get __EMPTY_NODE(){return sc}static set __EMPTY_NODE(o){sc=o}compare(o,l){return so(o.name,l.name)}isDefinedOn(o){throw(0,te.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,l){return!1}minPost(){return Rr.MIN}maxPost(){return new Rr(ds,sc)}makePost(o,l){return(0,te.hu)("string"==typeof o,"KeyIndex indexValue must always be a string."),new Rr(o,sc)}toString(){return".key"}}const Or=new ys;class Gi{constructor(o,l,f,v,T=null){this.isReverse_=v,this.resultGenerator_=T,this.nodeStack_=[];let R=1;for(;!o.isEmpty();)if(o=o,R=l?f(o.key,l):1,v&&(R*=-1),R<0)o=this.isReverse_?o.left:o.right;else{if(0===R){this.nodeStack_.push(o);break}this.nodeStack_.push(o),o=this.isReverse_?o.right:o.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,o=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}let Wc,Ia=(()=>{class u{constructor(l,f,v,T,R){this.key=l,this.value=f,this.color=null!=v?v:u.RED,this.left=null!=T?T:To.EMPTY_NODE,this.right=null!=R?R:To.EMPTY_NODE}copy(l,f,v,T,R){return new u(null!=l?l:this.key,null!=f?f:this.value,null!=v?v:this.color,null!=T?T:this.left,null!=R?R:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,f,v){let T=this;const R=v(l,T.key);return T=R<0?T.copy(null,null,null,T.left.insert(l,f,v),null):0===R?T.copy(null,f,null,null,null):T.copy(null,null,null,null,T.right.insert(l,f,v)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return To.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,f){let v,T;if(v=this,f(l,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(l,f),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===f(l,v.key)){if(v.right.isEmpty())return To.EMPTY_NODE;T=v.right.min_(),v=v.copy(T.key,T.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(l,f))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,f)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class To{constructor(o,l=To.EMPTY_NODE){this.comparator_=o,this.root_=l}insert(o,l){return new To(this.comparator_,this.root_.insert(o,l,this.comparator_).copy(null,null,Ia.BLACK,null,null))}remove(o){return new To(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,Ia.BLACK,null,null))}get(o){let l,f=this.root_;for(;!f.isEmpty();){if(l=this.comparator_(o,f.key),0===l)return f.value;l<0?f=f.left:l>0&&(f=f.right)}return null}getPredecessorKey(o){let l,f=this.root_,v=null;for(;!f.isEmpty();){if(l=this.comparator_(o,f.key),0===l){if(f.left.isEmpty())return v?v.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}l<0?f=f.left:l>0&&(v=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new Gi(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,l){return new Gi(this.root_,o,this.comparator_,!1,l)}getReverseIteratorFrom(o,l){return new Gi(this.root_,o,this.comparator_,!0,l)}getReverseIterator(o){return new Gi(this.root_,null,this.comparator_,!0,o)}}function Xo(u,o){return so(u.name,o.name)}function xh(u,o){return so(u,o)}To.EMPTY_NODE=new class tu{copy(o,l,f,v,T){return this}insert(o,l,f){return new Ia(o,l,null)}remove(o,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $f=function(u){return"number"==typeof u?"number:"+ka(u):"string:"+u},oc=function(u){if(u.isLeafNode()){const o=u.val();(0,te.hu)("string"==typeof o||"number"==typeof o||"object"==typeof o&&(0,te.r3)(o,".sv"),"Priority must be a string or number.")}else(0,te.hu)(u===Wc||u.isEmpty(),"priority of unexpected type.");(0,te.hu)(u===Wc||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mi,Cl,Bs,ac=(()=>{class u{constructor(l,f=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=f,this.lazyHash_=null,(0,te.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oc(this.priorityNode_)}static set __childrenNodeConstructor(l){Mi=l}static get __childrenNodeConstructor(){return Mi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return fr(l)?this:".priority"===Mr(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,f){return null}updateImmediateChild(l,f){return".priority"===l?this.updatePriority(f):f.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,f).updatePriority(this.priorityNode_)}updateChild(l,f){const v=Mr(l);return null===v?f:f.isEmpty()&&".priority"!==v?this:((0,te.hu)(".priority"!==v||1===Il(l),".priority must be the last token in a path"),this.updateImmediateChild(v,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ui(l),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,f){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+$f(this.priorityNode_.val())+":");const f=typeof this.value_;l+=f+":",l+="number"===f?ka(this.value_):this.value_,this.lazyHash_=ri(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,te.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const f=typeof l.value_,v=typeof this.value_,T=u.VALUE_TYPE_ORDER.indexOf(f),R=u.VALUE_TYPE_ORDER.indexOf(v);return(0,te.hu)(T>=0,"Unknown leaf type: "+f),(0,te.hu)(R>=0,"Unknown leaf type: "+v),T===R?"object"===v?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:R-T}withIndex(){return this}isIndexed(){return!0}equals(l){if(l===this)return!0;if(l.isLeafNode()){const f=l;return this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Sr=new class Ud extends Ga{compare(o,l){const f=o.node.getPriority(),v=l.node.getPriority(),T=f.compareTo(v);return 0===T?so(o.name,l.name):T}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,l){return!o.getPriority().equals(l.getPriority())}minPost(){return Rr.MIN}maxPost(){return new Rr(ds,new ac("[PRIORITY-POST]",Bs))}makePost(o,l){const f=Cl(o);return new Rr(l,new ac("[PRIORITY-POST]",f))}toString(){return".priority"}},nu=Math.log(2);class $d{constructor(o){this.count=parseInt(Math.log(o+1)/nu,10),this.current_=this.count-1;const v=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=o+1&v}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const Yc=function(u,o,l,f){u.sort(o);const v=function(oe,we){const _t=we-oe;let bt,$t;if(0===_t)return null;if(1===_t)return bt=u[oe],$t=l?l(bt):bt,new Ia($t,bt.node,Ia.BLACK,null,null);{const on=parseInt(_t/2,10)+oe,mn=v(oe,on),br=v(on+1,we);return bt=u[on],$t=l?l(bt):bt,new Ia($t,bt.node,Ia.BLACK,mn,br)}},Q=function(oe){let we=null,_t=null,bt=u.length;const $t=function(mn,br){const Kr=bt-mn,lo=bt;bt-=mn;const uo=v(Kr+1,lo),As=u[Kr],co=l?l(As):As;on(new Ia(co,As.node,br,null,uo))},on=function(mn){we?(we.left=mn,we=mn):(_t=mn,we=mn)};for(let mn=0;mn<oe.count;++mn){const br=oe.nextBitIsOne(),Kr=Math.pow(2,oe.count-(mn+1));br?$t(Kr,Ia.BLACK):($t(Kr,Ia.BLACK),$t(Kr,Ia.RED))}return _t}(new $d(u.length));return new To(f||o,Q)};let lc;const Mu={};class Rs{constructor(o,l){this.indexes_=o,this.indexSet_=l}static get Default(){return(0,te.hu)(Mu&&Sr,"ChildrenNode.ts has not been loaded"),lc=lc||new Rs({".priority":Mu},{".priority":Sr}),lc}get(o){const l=(0,te.DV)(this.indexes_,o);if(!l)throw new Error("No index defined for "+o);return l instanceof To?l:null}hasIndex(o){return(0,te.r3)(this.indexSet_,o.toString())}addIndex(o,l){(0,te.hu)(o!==Or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let v=!1;const T=l.getIterator(Rr.Wrap);let Q,R=T.getNext();for(;R;)v=v||o.isDefinedOn(R.node),f.push(R),R=T.getNext();Q=v?Yc(f,o.getCompare()):Mu;const oe=o.toString(),we=Object.assign({},this.indexSet_);we[oe]=o;const _t=Object.assign({},this.indexes_);return _t[oe]=Q,new Rs(_t,we)}addToIndexes(o,l){const f=(0,te.UI)(this.indexes_,(v,T)=>{const R=(0,te.DV)(this.indexSet_,T);if((0,te.hu)(R,"Missing index implementation for "+T),v===Mu){if(R.isDefinedOn(o.node)){const Q=[],oe=l.getIterator(Rr.Wrap);let we=oe.getNext();for(;we;)we.name!==o.name&&Q.push(we),we=oe.getNext();return Q.push(o),Yc(Q,R.getCompare())}return Mu}{const Q=l.get(o.name);let oe=v;return Q&&(oe=oe.remove(new Rr(o.name,Q))),oe.insert(o,o.node)}});return new Rs(f,this.indexSet_)}removeFromIndexes(o,l){const f=(0,te.UI)(this.indexes_,v=>{if(v===Mu)return v;{const T=l.get(o.name);return T?v.remove(new Rr(o.name,T)):v}});return new Rs(f,this.indexSet_)}}let al,mr=(()=>{class u{constructor(l,f,v){this.children_=l,this.priorityNode_=f,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&oc(this.priorityNode_),this.children_.isEmpty()&&(0,te.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return al||(al=new u(new To(xh),null,Rs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||al}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const f=this.children_.get(l);return null===f?al:f}}getChild(l){const f=Mr(l);return null===f?this:this.getImmediateChild(f).getChild(Ui(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,f){if((0,te.hu)(f,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(f);{const v=new Rr(l,f);let T,R;f.isEmpty()?(T=this.children_.remove(l),R=this.indexMap_.removeFromIndexes(v,this.children_)):(T=this.children_.insert(l,f),R=this.indexMap_.addToIndexes(v,this.children_));const Q=T.isEmpty()?al:this.priorityNode_;return new u(T,Q,R)}}updateChild(l,f){const v=Mr(l);if(null===v)return f;{(0,te.hu)(".priority"!==Mr(l)||1===Il(l),".priority must be the last token in a path");const T=this.getImmediateChild(v).updateChild(Ui(l),f);return this.updateImmediateChild(v,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const f={};let v=0,T=0,R=!0;if(this.forEachChild(Sr,(Q,oe)=>{f[Q]=oe.val(l),v++,R&&u.INTEGER_REGEXP_.test(Q)?T=Math.max(T,Number(Q)):R=!1}),!l&&R&&T<2*v){const Q=[];for(const oe in f)Q[oe]=f[oe];return Q}return l&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+$f(this.getPriority().val())+":"),this.forEachChild(Sr,(f,v)=>{const T=v.hash();""!==T&&(l+=":"+f+":"+T)}),this.lazyHash_=""===l?"":ri(l)}return this.lazyHash_}getPredecessorChildName(l,f,v){const T=this.resolveIndex_(v);if(T){const R=T.getPredecessorKey(new Rr(l,f));return R?R.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const f=this.resolveIndex_(l);if(f){const v=f.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(l){const f=this.getFirstChildName(l);return f?new Rr(f,this.children_.get(f)):null}getLastChildName(l){const f=this.resolveIndex_(l);if(f){const v=f.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(l){const f=this.getLastChildName(l);return f?new Rr(f,this.children_.get(f)):null}forEachChild(l,f){const v=this.resolveIndex_(l);return v?v.inorderTraversal(T=>f(T.name,T.node)):this.children_.inorderTraversal(f)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,f){const v=this.resolveIndex_(f);if(v)return v.getIteratorFrom(l,T=>T);{const T=this.children_.getIteratorFrom(l.name,Rr.Wrap);let R=T.peek();for(;null!=R&&f.compare(R,l)<0;)T.getNext(),R=T.peek();return T}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,f){const v=this.resolveIndex_(f);if(v)return v.getReverseIteratorFrom(l,T=>T);{const T=this.children_.getReverseIteratorFrom(l.name,Rr.Wrap);let R=T.peek();for(;null!=R&&f.compare(R,l)>0;)T.getNext(),R=T.peek();return T}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===Ru?-1:0}withIndex(l){if(l===Or||this.indexMap_.hasIndex(l))return this;{const f=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,f)}}isIndexed(l){return l===Or||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const f=l;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const v=this.getIterator(Sr),T=f.getIterator(Sr);let R=v.getNext(),Q=T.getNext();for(;R&&Q;){if(R.name!==Q.name||!R.node.equals(Q.node))return!1;R=v.getNext(),Q=T.getNext()}return null===R&&null===Q}return!1}return!1}}resolveIndex_(l){return l===Or?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const Ru=new class Mh extends mr{constructor(){super(new To(xh),mr.EMPTY_NODE,Rs.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return mr.EMPTY_NODE}isEmpty(){return!1}};function zi(u,o=null){if(null===u)return mr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(o=u[".priority"]),(0,te.hu)(null===o||"string"==typeof o||"number"==typeof o||"object"==typeof o&&".sv"in o,"Invalid priority type found: "+typeof o),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new ac(u,zi(o));if(u instanceof Array){let l=mr.EMPTY_NODE;return qi(u,(f,v)=>{if((0,te.r3)(u,f)&&"."!==f.substring(0,1)){const T=zi(v);(T.isLeafNode()||!T.isEmpty())&&(l=l.updateImmediateChild(f,T))}}),l.updatePriority(zi(o))}{const l=[];let f=!1;if(qi(u,(R,Q)=>{if("."!==R.substring(0,1)){const oe=zi(Q);oe.isEmpty()||(f=f||!oe.getPriority().isEmpty(),l.push(new Rr(R,oe)))}}),0===l.length)return mr.EMPTY_NODE;const T=Yc(l,Xo,R=>R.name,xh);if(f){const R=Yc(l,Sr.getCompare());return new mr(T,zi(o),new Rs({".priority":R},{".priority":Sr}))}return new mr(T,zi(o),Rs.Default)}}Object.defineProperties(Rr,{MIN:{value:new Rr(gs,mr.EMPTY_NODE)},MAX:{value:new Rr(ds,Ru)}}),ys.__EMPTY_NODE=mr.EMPTY_NODE,ac.__childrenNodeConstructor=mr,function Kc(u){Wc=u}(Ru),function qc(u){Bs=u}(Ru),function xu(u){Cl=u}(zi);class Zc extends Ga{constructor(o){super(),this.indexPath_=o,(0,te.hu)(!fr(o)&&".priority"!==Mr(o),"Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,l){const f=this.extractChild(o.node),v=this.extractChild(l.node),T=f.compareTo(v);return 0===T?so(o.name,l.name):T}makePost(o,l){const f=zi(o),v=mr.EMPTY_NODE.updateChild(this.indexPath_,f);return new Rr(l,v)}maxPost(){const o=mr.EMPTY_NODE.updateChild(this.indexPath_,Ru);return new Rr(ds,o)}toString(){return $a(this.indexPath_,0).join("/")}}const Os=new class Xc extends Ga{compare(o,l){const f=o.node.compareTo(l.node);return 0===f?so(o.name,l.name):f}isDefinedOn(o){return!0}indexedValueChanged(o,l){return!o.equals(l)}minPost(){return Rr.MIN}maxPost(){return Rr.MAX}makePost(o,l){const f=zi(o);return new Rr(l,f)}toString(){return".value"}},Dl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Oh=function(){let u=0;const o=[];return function(l){const f=l===u;let v;u=l;const T=new Array(8);for(v=7;v>=0;v--)T[v]=Dl.charAt(l%64),l=Math.floor(l/64);(0,te.hu)(0===l,"Cannot push at time == 0");let R=T.join("");if(f){for(v=11;v>=0&&63===o[v];v--)o[v]=0;o[v]++}else for(v=0;v<12;v++)o[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)R+=Dl.charAt(o[v]);return(0,te.hu)(20===R.length,"nextPushId: Length should be 20."),R}}(),So=function(u){if(u===""+ql)return"-";const o=Ws(u);if(null!=o)return""+(o+1);const l=new Array(u.length);for(let R=0;R<l.length;R++)l[R]=u.charAt(R);if(l.length<786)return l.push("-"),l.join("");let f=l.length-1;for(;f>=0&&"z"===l[f];)f--;if(-1===f)return ds;const T=Dl.charAt(Dl.indexOf(l[f])+1);return l[f]=T,l.slice(0,f+1).join("")},Hd=function(u){if(u===""+Kl)return gs;const o=Ws(u);if(null!=o)return""+(o-1);const l=new Array(u.length);for(let f=0;f<l.length;f++)l[f]=u.charAt(f);return"-"===l[l.length-1]?1===l.length?""+ql:(delete l[l.length-1],l.join("")):(l[l.length-1]=Dl.charAt(Dl.indexOf(l[l.length-1])-1),l.join("")+"z".repeat(786-l.length))};function Gd(u){return{type:"value",snapshotNode:u}}function za(u,o){return{type:"child_added",snapshotNode:o,childName:u}}function Vo(u,o){return{type:"child_removed",snapshotNode:o,childName:u}}function Sl(u,o,l){return{type:"child_changed",snapshotNode:o,childName:u,oldSnap:l}}class Qc{constructor(o){this.index_=o}updateChild(o,l,f,v,T,R){(0,te.hu)(o.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Q=o.getImmediateChild(l);return Q.getChild(v).equals(f.getChild(v))&&Q.isEmpty()===f.isEmpty()||(null!=R&&(f.isEmpty()?o.hasChild(l)?R.trackChildChange(Vo(l,Q)):(0,te.hu)(o.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Q.isEmpty()?R.trackChildChange(za(l,f)):R.trackChildChange(Sl(l,f,Q))),o.isLeafNode()&&f.isEmpty())?o:o.updateImmediateChild(l,f).withIndex(this.index_)}updateFullNode(o,l,f){return null!=f&&(o.isLeafNode()||o.forEachChild(Sr,(v,T)=>{l.hasChild(v)||f.trackChildChange(Vo(v,T))}),l.isLeafNode()||l.forEachChild(Sr,(v,T)=>{if(o.hasChild(v)){const R=o.getImmediateChild(v);R.equals(T)||f.trackChildChange(Sl(v,T,R))}else f.trackChildChange(za(v,T))})),l.withIndex(this.index_)}updatePriority(o,l){return o.isEmpty()?mr.EMPTY_NODE:o.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class uc{constructor(o){this.indexedFilter_=new Qc(o.getIndex()),this.index_=o.getIndex(),this.startPost_=uc.getStartPost_(o),this.endPost_=uc.getEndPost_(o)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(o){return this.index_.compare(this.getStartPost(),o)<=0&&this.index_.compare(o,this.getEndPost())<=0}updateChild(o,l,f,v,T,R){return this.matches(new Rr(l,f))||(f=mr.EMPTY_NODE),this.indexedFilter_.updateChild(o,l,f,v,T,R)}updateFullNode(o,l,f){l.isLeafNode()&&(l=mr.EMPTY_NODE);let v=l.withIndex(this.index_);v=v.updatePriority(mr.EMPTY_NODE);const T=this;return l.forEachChild(Sr,(R,Q)=>{T.matches(new Rr(R,Q))||(v=v.updateImmediateChild(R,mr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(o,v,f)}updatePriority(o,l){return o}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(o){if(o.hasStart()){const l=o.getIndexStartName();return o.getIndex().makePost(o.getIndexStartValue(),l)}return o.getIndex().minPost()}static getEndPost_(o){if(o.hasEnd()){const l=o.getIndexEndName();return o.getIndex().makePost(o.getIndexEndValue(),l)}return o.getIndex().maxPost()}}class kh{constructor(o){this.rangedFilter_=new uc(o),this.index_=o.getIndex(),this.limit_=o.getLimit(),this.reverse_=!o.isViewFromLeft()}updateChild(o,l,f,v,T,R){return this.rangedFilter_.matches(new Rr(l,f))||(f=mr.EMPTY_NODE),o.getImmediateChild(l).equals(f)?o:o.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(o,l,f,v,T,R):this.fullLimitUpdateChild_(o,l,f,T,R)}updateFullNode(o,l,f){let v;if(l.isLeafNode()||l.isEmpty())v=mr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let T;v=mr.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let R=0;for(;T.hasNext()&&R<this.limit_;){const Q=T.getNext();let oe;if(oe=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Q)<=0:this.index_.compare(Q,this.rangedFilter_.getEndPost())<=0,!oe)break;v=v.updateImmediateChild(Q.name,Q.node),R++}}else{let T,R,Q,oe;if(v=l.withIndex(this.index_),v=v.updatePriority(mr.EMPTY_NODE),this.reverse_){oe=v.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),R=this.rangedFilter_.getStartPost();const bt=this.index_.getCompare();Q=($t,on)=>bt(on,$t)}else oe=v.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),R=this.rangedFilter_.getEndPost(),Q=this.index_.getCompare();let we=0,_t=!1;for(;oe.hasNext();){const bt=oe.getNext();!_t&&Q(T,bt)<=0&&(_t=!0),_t&&we<this.limit_&&Q(bt,R)<=0?we++:v=v.updateImmediateChild(bt.name,mr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(o,v,f)}updatePriority(o,l){return o}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(o,l,f,v,T){let R;if(this.reverse_){const bt=this.index_.getCompare();R=($t,on)=>bt(on,$t)}else R=this.index_.getCompare();const Q=o;(0,te.hu)(Q.numChildren()===this.limit_,"");const oe=new Rr(l,f),we=this.reverse_?Q.getFirstChild(this.index_):Q.getLastChild(this.index_),_t=this.rangedFilter_.matches(oe);if(Q.hasChild(l)){const bt=Q.getImmediateChild(l);let $t=v.getChildAfterChild(this.index_,we,this.reverse_);for(;null!=$t&&($t.name===l||Q.hasChild($t.name));)$t=v.getChildAfterChild(this.index_,$t,this.reverse_);const on=null==$t?1:R($t,oe);if(_t&&!f.isEmpty()&&on>=0)return null!=T&&T.trackChildChange(Sl(l,f,bt)),Q.updateImmediateChild(l,f);{null!=T&&T.trackChildChange(Vo(l,bt));const br=Q.updateImmediateChild(l,mr.EMPTY_NODE);return null!=$t&&this.rangedFilter_.matches($t)?(null!=T&&T.trackChildChange(za($t.name,$t.node)),br.updateImmediateChild($t.name,$t.node)):br}}return f.isEmpty()?o:_t&&R(we,oe)>=0?(null!=T&&(T.trackChildChange(Vo(we.name,we.node)),T.trackChildChange(za(l,f))),Q.updateImmediateChild(l,f).updateImmediateChild(we.name,mr.EMPTY_NODE)):o}}class Jc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Sr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gs}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,te.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Sr}copy(){const o=new Jc;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function I(u,o,l){const f=u.copy();return f.startSet_=!0,void 0===o&&(o=null),f.indexStartValue_=o,null!=l?(f.startNameSet_=!0,f.indexStartName_=l):(f.startNameSet_=!1,f.indexStartName_=""),f}function _(u,o,l){const f=u.copy();return f.endSet_=!0,void 0===o&&(o=null),f.indexEndValue_=o,void 0!==l?(f.endNameSet_=!0,f.indexEndName_=l):(f.endNameSet_=!1,f.indexEndName_=""),f}function K(u,o){const l=u.copy();return l.index_=o,l}function de(u){const o={};if(u.isDefault())return o;let l;return u.index_===Sr?l="$priority":u.index_===Os?l="$value":u.index_===Or?l="$key":((0,te.hu)(u.index_ instanceof Zc,"Unrecognized index type!"),l=u.index_.toString()),o.orderBy=(0,te.Pz)(l),u.startSet_&&(o.startAt=(0,te.Pz)(u.indexStartValue_),u.startNameSet_&&(o.startAt+=","+(0,te.Pz)(u.indexStartName_))),u.endSet_&&(o.endAt=(0,te.Pz)(u.indexEndValue_),u.endNameSet_&&(o.endAt+=","+(0,te.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?o.limitToFirst=u.limit_:o.limitToLast=u.limit_),o}function ut(u){const o={};if(u.startSet_&&(o.sp=u.indexStartValue_,u.startNameSet_&&(o.sn=u.indexStartName_)),u.endSet_&&(o.ep=u.indexEndValue_,u.endNameSet_&&(o.en=u.indexEndName_)),u.limitSet_){o.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),o.vf=l}return u.index_!==Sr&&(o.i=u.index_.toString()),o}class jt extends Ua{constructor(o,l,f,v){super(),this.repoInfo_=o,this.onDataUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=v,this.log_=Qu("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,l){return void 0!==l?"tag$"+l:((0,te.hu)(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,l,f,v){const T=o._path.toString();this.log_("Listen called for "+T+" "+o._queryIdentifier);const R=jt.getListenId_(o,f),Q={};this.listens_[R]=Q;const oe=de(o._queryParams);this.restRequest_(T+".json",oe,(we,_t)=>{let bt=_t;if(404===we&&(bt=null,we=null),null===we&&this.onDataUpdate_(T,bt,!1,f),(0,te.DV)(this.listens_,R)===Q){let $t;$t=we?401===we?"permission_denied":"rest_error:"+we:"ok",v($t,null)}})}unlisten(o,l){const f=jt.getListenId_(o,l);delete this.listens_[f]}get(o){const l=de(o._queryParams),f=o._path.toString(),v=new te.BH;return this.restRequest_(f+".json",l,(T,R)=>{let Q=R;404===T&&(Q=null,T=null),null===T?(this.onDataUpdate_(f,Q,!1,null),v.resolve(Q)):v.reject(new Error(Q))}),v.promise}refreshAuthToken(o){}restRequest_(o,l={},f){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,T])=>{v&&v.accessToken&&(l.auth=v.accessToken),T&&T.token&&(l.ac=T.token);const R=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+(0,te.xO)(l);this.log_("Sending REST request for "+R);const Q=new XMLHttpRequest;Q.onreadystatechange=()=>{if(f&&4===Q.readyState){this.log_("REST Response for "+R+" received. status:",Q.status,"response:",Q.responseText);let oe=null;if(Q.status>=200&&Q.status<300){try{oe=(0,te.cI)(Q.responseText)}catch(we){xi("Failed to parse JSON response for "+R+": "+Q.responseText)}f(null,oe)}else 401!==Q.status&&404!==Q.status&&xi("Got unsuccessful REST response for "+R+" Status: "+Q.status),f(Q.status);f=null}},Q.open("GET",R,!0),Q.send()})}}class sn{constructor(){this.rootNode_=mr.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,l){this.rootNode_=this.rootNode_.updateChild(o,l)}}function bn(){return{value:null,children:new Map}}function Gn(u,o,l){if(fr(o))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(o,l);else{const f=Mr(o);u.children.has(f)||u.children.set(f,bn()),Gn(u.children.get(f),o=Ui(o),l)}}function Kn(u,o){if(fr(o))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(Sr,(f,v)=>{Gn(u,new Di(f),v)}),Kn(u,o)}}if(u.children.size>0){const l=Mr(o);return o=Ui(o),u.children.has(l)&&Kn(u.children.get(l),o)&&u.children.delete(l),0===u.children.size}return!0}function _s(u,o,l){null!==u.value?l(o,u.value):function da(u,o){u.children.forEach((l,f)=>{o(f,l)})}(u,(f,v)=>{_s(v,new Di(o.toString()+"/"+f),l)})}class ed{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),l=Object.assign({},o);return this.last_&&qi(this.last_,(f,v)=>{l[f]=l[f]-v}),this.last_=o,l}}class Nh{constructor(o,l){this.server_=l,this.statsToReport_={},this.statsListener_=new ed(o);const f=1e4+2e4*Math.random();Yl(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const o=this.statsListener_.get(),l={};let f=!1;qi(o,(v,T)=>{T>0&&(0,te.r3)(this.statsToReport_,v)&&(l[v]=T,f=!0)}),f&&this.server_.reportStats(l),Yl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qo=(()=>{return(u=Qo||(Qo={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Qo;var u})();function td(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class nd{constructor(o,l,f){this.path=o,this.affectedTree=l,this.revert=f,this.type=Qo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(o){if(fr(this.path)){if(null!=this.affectedTree.value)return(0,te.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Di(o));return new nd(Ei(),l,this.revert)}}return(0,te.hu)(Mr(this.path)===o,"operationForChild called for unrelated child."),new nd(Ui(this.path),this.affectedTree,this.revert)}}class rd{constructor(o,l){this.source=o,this.path=l,this.type=Qo.LISTEN_COMPLETE}operationForChild(o){return fr(this.path)?new rd(this.source,Ei()):new rd(this.source,Ui(this.path))}}class Al{constructor(o,l,f){this.source=o,this.path=l,this.snap=f,this.type=Qo.OVERWRITE}operationForChild(o){return fr(this.path)?new Al(this.source,Ei(),this.snap.getImmediateChild(o)):new Al(this.source,Ui(this.path),this.snap)}}class hc{constructor(o,l,f){this.source=o,this.path=l,this.children=f,this.type=Qo.MERGE}operationForChild(o){if(fr(this.path)){const l=this.children.subtree(new Di(o));return l.isEmpty()?null:l.value?new Al(this.source,Ei(),l.value):new hc(this.source,Ei(),l)}return(0,te.hu)(Mr(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new hc(this.source,Ui(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class iu{constructor(o,l,f){this.node_=o,this.fullyInitialized_=l,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(fr(o))return this.isFullyInitialized()&&!this.filtered_;const l=Mr(o);return this.isCompleteForChild(l)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}class Np{constructor(o){this.query_=o,this.index_=this.query_._queryParams.getIndex()}}function id(u,o,l,f,v,T){const R=f.filter(Q=>Q.type===l);R.sort((Q,oe)=>function rm(u,o,l){if(null==o.childName||null==l.childName)throw(0,te.g5)("Should only compare child_ events.");const f=new Rr(o.childName,o.snapshotNode),v=new Rr(l.childName,l.snapshotNode);return u.index_.compare(f,v)}(u,Q,oe)),R.forEach(Q=>{const oe=function nm(u,o,l){return"value"===o.type||"child_removed"===o.type||(o.prevName=l.getPredecessorChildName(o.childName,o.snapshotNode,u.index_)),o}(u,Q,T);v.forEach(we=>{we.respondsTo(Q.type)&&o.push(we.createEvent(oe,u.query_))})})}function Ut(u,o){return{eventCache:u,serverCache:o}}function Ou(u,o,l,f){return Ut(new iu(o,l,f),u.serverCache)}function Ao(u,o,l,f){return Ut(u.eventCache,new iu(o,l,f))}function Fh(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function ll(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Pu;class Ri{constructor(o,l=(()=>(Pu||(Pu=new To(aa)),Pu))()){this.value=o,this.children=l}static fromObject(o){let l=new Ri(null);return qi(o,(f,v)=>{l=l.set(new Di(f),v)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,l){if(null!=this.value&&l(this.value))return{path:Ei(),value:this.value};if(fr(o))return null;{const f=Mr(o),v=this.children.get(f);if(null!==v){const T=v.findRootMostMatchingPathAndValue(Ui(o),l);return null!=T?{path:Ni(new Di(f),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(fr(o))return this;{const l=Mr(o),f=this.children.get(l);return null!==f?f.subtree(Ui(o)):new Ri(null)}}set(o,l){if(fr(o))return new Ri(l,this.children);{const f=Mr(o),T=(this.children.get(f)||new Ri(null)).set(Ui(o),l),R=this.children.insert(f,T);return new Ri(this.value,R)}}remove(o){if(fr(o))return this.children.isEmpty()?new Ri(null):new Ri(null,this.children);{const l=Mr(o),f=this.children.get(l);if(f){const v=f.remove(Ui(o));let T;return T=v.isEmpty()?this.children.remove(l):this.children.insert(l,v),null===this.value&&T.isEmpty()?new Ri(null):new Ri(this.value,T)}return this}}get(o){if(fr(o))return this.value;{const l=Mr(o),f=this.children.get(l);return f?f.get(Ui(o)):null}}setTree(o,l){if(fr(o))return l;{const f=Mr(o),T=(this.children.get(f)||new Ri(null)).setTree(Ui(o),l);let R;return R=T.isEmpty()?this.children.remove(f):this.children.insert(f,T),new Ri(this.value,R)}}fold(o){return this.fold_(Ei(),o)}fold_(o,l){const f={};return this.children.inorderTraversal((v,T)=>{f[v]=T.fold_(Ni(o,v),l)}),l(o,this.value,f)}findOnPath(o,l){return this.findOnPath_(o,Ei(),l)}findOnPath_(o,l,f){const v=!!this.value&&f(l,this.value);if(v)return v;if(fr(o))return null;{const T=Mr(o),R=this.children.get(T);return R?R.findOnPath_(Ui(o),Ni(l,T),f):null}}foreachOnPath(o,l){return this.foreachOnPath_(o,Ei(),l)}foreachOnPath_(o,l,f){if(fr(o))return this;{this.value&&f(l,this.value);const v=Mr(o),T=this.children.get(v);return T?T.foreachOnPath_(Ui(o),Ni(l,v),f):new Ri(null)}}foreach(o){this.foreach_(Ei(),o)}foreach_(o,l){this.children.inorderTraversal((f,v)=>{v.foreach_(Ni(o,f),l)}),this.value&&l(o,this.value)}foreachChild(o){this.children.inorderTraversal((l,f)=>{f.value&&o(l,f.value)})}}class Wa{constructor(o){this.writeTree_=o}static empty(){return new Wa(new Ri(null))}}function fc(u,o,l){if(fr(o))return new Wa(new Ri(l));{const f=u.writeTree_.findRootMostValueAndPath(o);if(null!=f){const v=f.path;let T=f.value;const R=Ms(v,o);return T=T.updateChild(R,l),new Wa(u.writeTree_.set(v,T))}{const v=new Ri(l),T=u.writeTree_.setTree(o,v);return new Wa(T)}}}function Lh(u,o,l){let f=u;return qi(l,(v,T)=>{f=fc(f,Ni(o,v),T)}),f}function Zs(u,o){if(fr(o))return Wa.empty();{const l=u.writeTree_.setTree(o,new Ri(null));return new Wa(l)}}function Kd(u,o){return null!=ul(u,o)}function ul(u,o){const l=u.writeTree_.findRootMostValueAndPath(o);return null!=l?u.writeTree_.get(l.path).getChild(Ms(l.path,o)):null}function sd(u){const o=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Sr,(f,v)=>{o.push(new Rr(f,v))}):u.writeTree_.children.inorderTraversal((f,v)=>{null!=v.value&&o.push(new Rr(f,v.value))}),o}function Jo(u,o){if(fr(o))return u;{const l=ul(u,o);return new Wa(null!=l?new Ri(l):u.writeTree_.subtree(o))}}function qd(u){return u.writeTree_.isEmpty()}function od(u,o){return Bh(Ei(),u.writeTree_,o)}function Bh(u,o,l){if(null!=o.value)return l.updateChild(u,o.value);{let f=null;return o.children.inorderTraversal((v,T)=>{".priority"===v?((0,te.hu)(null!==T.value,"Priority writes must always be leaf nodes"),f=T.value):l=Bh(Ni(u,v),T,l)}),!l.getChild(u).isEmpty()&&null!==f&&(l=l.updateChild(Ni(u,".priority"),f)),l}}function xl(u,o){return jp(o,u)}function Lp(u,o){if(u.snap)return mo(u.path,o);for(const l in u.children)if(u.children.hasOwnProperty(l)&&mo(Ni(u.path,l),o))return!0;return!1}function Gf(u){return u.visible}function im(u,o,l){let f=Wa.empty();for(let v=0;v<u.length;++v){const T=u[v];if(o(T)){const R=T.path;let Q;if(T.snap)mo(l,R)?(Q=Ms(l,R),f=fc(f,Q,T.snap)):mo(R,l)&&(Q=Ms(R,l),f=fc(f,Ei(),T.snap.getChild(Q)));else{if(!T.children)throw(0,te.g5)("WriteRecord should have .snap or .children");if(mo(l,R))Q=Ms(l,R),f=Lh(f,Q,T.children);else if(mo(R,l))if(Q=Ms(R,l),fr(Q))f=Lh(f,Ei(),T.children);else{const oe=(0,te.DV)(T.children,Mr(Q));if(oe){const we=oe.getChild(Ui(Q));f=fc(f,Ei(),we)}}}}}return f}function Bp(u,o,l,f,v){if(f||v){const T=Jo(u.visibleWrites,o);return!v&&qd(T)?l:v||null!=l||Kd(T,Ei())?od(im(u.allWrites,function(we){return(we.visible||v)&&(!f||!~f.indexOf(we.writeId))&&(mo(we.path,o)||mo(o,we.path))},o),l||mr.EMPTY_NODE):null}{const T=ul(u.visibleWrites,o);if(null!=T)return T;{const R=Jo(u.visibleWrites,o);return qd(R)?l:null!=l||Kd(R,Ei())?od(R,l||mr.EMPTY_NODE):null}}}function Zd(u,o,l,f){return Bp(u.writeTree,u.treePath,o,l,f)}function $p(u,o){return function sm(u,o,l){let f=mr.EMPTY_NODE;const v=ul(u.visibleWrites,o);if(v)return v.isLeafNode()||v.forEachChild(Sr,(T,R)=>{f=f.updateImmediateChild(T,R)}),f;if(l){const T=Jo(u.visibleWrites,o);return l.forEachChild(Sr,(R,Q)=>{const oe=od(Jo(T,new Di(R)),Q);f=f.updateImmediateChild(R,oe)}),sd(T).forEach(R=>{f=f.updateImmediateChild(R.name,R.node)}),f}return sd(Jo(u.visibleWrites,o)).forEach(R=>{f=f.updateImmediateChild(R.name,R.node)}),f}(u.writeTree,u.treePath,o)}function om(u,o,l,f){return function Vp(u,o,l,f,v){(0,te.hu)(f||v,"Either existingEventSnap or existingServerSnap must exist");const T=Ni(o,l);if(Kd(u.visibleWrites,T))return null;{const R=Jo(u.visibleWrites,T);return qd(R)?v.getChild(l):od(R,v.getChild(l))}}(u.writeTree,u.treePath,o,l,f)}function zf(u,o){return function $h(u,o){return ul(u.visibleWrites,o)}(u.writeTree,Ni(u.treePath,o))}function su(u,o,l){return function Up(u,o,l,f){const v=Ni(o,l),T=ul(u.visibleWrites,v);return null!=T?T:f.isCompleteForChild(l)?od(Jo(u.visibleWrites,v),f.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,o,l)}function gc(u,o){return jp(Ni(u.treePath,o),u.writeTree)}function jp(u,o){return{treePath:u,writeTree:o}}class ey{constructor(){this.changeMap=new Map}trackChildChange(o){const l=o.type,f=o.childName;(0,te.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,te.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(f);if(v){const T=v.type;if("child_added"===l&&"child_removed"===T)this.changeMap.set(f,Sl(f,o.snapshotNode,v.snapshotNode));else if("child_removed"===l&&"child_added"===T)this.changeMap.delete(f);else if("child_removed"===l&&"child_changed"===T)this.changeMap.set(f,Vo(f,v.oldSnap));else if("child_changed"===l&&"child_added"===T)this.changeMap.set(f,za(f,o.snapshotNode));else{if("child_changed"!==l||"child_changed"!==T)throw(0,te.g5)("Illegal combination of changes: "+o+" occurred after "+v);this.changeMap.set(f,Sl(f,o.snapshotNode,v.oldSnap))}}else this.changeMap.set(f,o)}getChanges(){return Array.from(this.changeMap.values())}}const Hh=new class Fr{getCompleteChild(o){return null}getChildAfterChild(o,l,f){return null}};class ld{constructor(o,l,f=null){this.writes_=o,this.viewCache_=l,this.optCompleteServerCache_=f}getCompleteChild(o){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(o))return l.getNode().getImmediateChild(o);{const f=null!=this.optCompleteServerCache_?new iu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return su(this.writes_,o,f)}}getChildAfterChild(o,l,f){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ll(this.viewCache_),T=function jh(u,o,l,f,v,T){return function $o(u,o,l,f,v,T,R){let Q;const oe=Jo(u.visibleWrites,o),we=ul(oe,Ei());if(null!=we)Q=we;else{if(null==l)return[];Q=od(oe,l)}if(Q=Q.withIndex(R),Q.isEmpty()||Q.isLeafNode())return[];{const _t=[],bt=R.getCompare(),$t=T?Q.getReverseIteratorFrom(f,R):Q.getIteratorFrom(f,R);let on=$t.getNext();for(;on&&_t.length<v;)0!==bt(on,f)&&_t.push(on),on=$t.getNext();return _t}}(u.writeTree,u.treePath,o,l,f,v,T)}(this.writes_,v,l,1,f,o);return 0===T.length?null:T[0]}}function Wh(u,o,l,f,v,T){const R=o.eventCache;if(null!=zf(f,l))return o;{let Q,oe;if(fr(l))if((0,te.hu)(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const we=ll(o),bt=$p(f,we instanceof mr?we:mr.EMPTY_NODE);Q=u.filter.updateFullNode(o.eventCache.getNode(),bt,T)}else{const we=Zd(f,ll(o));Q=u.filter.updateFullNode(o.eventCache.getNode(),we,T)}else{const we=Mr(l);if(".priority"===we){(0,te.hu)(1===Il(l),"Can't have a priority with additional path components");const _t=R.getNode();oe=o.serverCache.getNode();const bt=om(f,l,_t,oe);Q=null!=bt?u.filter.updatePriority(_t,bt):R.getNode()}else{const _t=Ui(l);let bt;if(R.isCompleteForChild(we)){oe=o.serverCache.getNode();const $t=om(f,l,R.getNode(),oe);bt=null!=$t?R.getNode().getImmediateChild(we).updateChild(_t,$t):R.getNode().getImmediateChild(we)}else bt=su(f,we,o.serverCache);Q=null!=bt?u.filter.updateChild(R.getNode(),we,bt,_t,v,T):R.getNode()}}return Ou(o,Q,R.isFullyInitialized()||fr(l),u.filter.filtersNodes())}}function ud(u,o,l,f,v,T,R,Q){const oe=o.serverCache;let we;const _t=R?u.filter:u.filter.getIndexedFilter();if(fr(l))we=_t.updateFullNode(oe.getNode(),f,null);else if(_t.filtersNodes()&&!oe.isFiltered()){const on=oe.getNode().updateChild(l,f);we=_t.updateFullNode(oe.getNode(),on,null)}else{const on=Mr(l);if(!oe.isCompleteForPath(l)&&Il(l)>1)return o;const mn=Ui(l),Kr=oe.getNode().getImmediateChild(on).updateChild(mn,f);we=".priority"===on?_t.updatePriority(oe.getNode(),Kr):_t.updateChild(oe.getNode(),on,Kr,mn,Hh,null)}const bt=Ao(o,we,oe.isFullyInitialized()||fr(l),_t.filtersNodes());return Wh(u,bt,l,v,new ld(v,bt,T),Q)}function Ss(u,o,l,f,v,T,R){const Q=o.eventCache;let oe,we;const _t=new ld(v,o,T);if(fr(l))we=u.filter.updateFullNode(o.eventCache.getNode(),f,R),oe=Ou(o,we,!0,u.filter.filtersNodes());else{const bt=Mr(l);if(".priority"===bt)we=u.filter.updatePriority(o.eventCache.getNode(),f),oe=Ou(o,we,Q.isFullyInitialized(),Q.isFiltered());else{const $t=Ui(l),on=Q.getNode().getImmediateChild(bt);let mn;if(fr($t))mn=f;else{const br=_t.getCompleteChild(bt);mn=null!=br?".priority"===Hc($t)&&br.getChild(Bf($t)).isEmpty()?br:br.updateChild($t,f):mr.EMPTY_NODE}oe=on.equals(mn)?o:Ou(o,u.filter.updateChild(Q.getNode(),bt,mn,$t,_t,R),Q.isFullyInitialized(),u.filter.filtersNodes())}}return oe}function Kh(u,o){return u.eventCache.isCompleteForChild(o)}function Xd(u,o,l){return l.foreach((f,v)=>{o=o.updateChild(f,v)}),o}function Hp(u,o,l,f,v,T,R,Q){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let we,oe=o;we=fr(l)?f:new Ri(null).setTree(l,f);const _t=o.serverCache.getNode();return we.children.inorderTraversal((bt,$t)=>{if(_t.hasChild(bt)){const mn=Xd(0,o.serverCache.getNode().getImmediateChild(bt),$t);oe=ud(u,oe,new Di(bt),mn,v,T,R,Q)}}),we.children.inorderTraversal((bt,$t)=>{const on=!o.serverCache.isCompleteForChild(bt)&&void 0===$t.value;if(!_t.hasChild(bt)&&!on){const br=Xd(0,o.serverCache.getNode().getImmediateChild(bt),$t);oe=ud(u,oe,new Di(bt),br,v,T,R,Q)}}),oe}class ou{constructor(o,l){this.query_=o,this.eventRegistrations_=[];const f=this.query_._queryParams,v=new Qc(f.getIndex()),T=function kp(u){return u.loadsAllData()?new Qc(u.getIndex()):u.hasLimit()?new kh(u):new uc(u)}(f);this.processor_=function am(u){return{filter:u}}(T);const R=l.serverCache,Q=l.eventCache,oe=v.updateFullNode(mr.EMPTY_NODE,R.getNode(),null),we=T.updateFullNode(mr.EMPTY_NODE,Q.getNode(),null),_t=new iu(oe,R.isFullyInitialized(),v.filtersNodes()),bt=new iu(we,Q.isFullyInitialized(),T.filtersNodes());this.viewCache_=Ut(bt,_t),this.eventGenerator_=new Np(this.query_)}get query(){return this.query_}}function Wf(u,o){const l=ll(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!fr(o)&&!l.getImmediateChild(Mr(o)).isEmpty())?l.getChild(o):null}function yc(u){return 0===u.eventRegistrations_.length}function Kf(u,o,l){const f=[];if(l){(0,te.hu)(null==o,"A cancel should cancel all event registrations.");const v=u.query._path;u.eventRegistrations_.forEach(T=>{const R=T.createCancelEvent(l,v);R&&f.push(R)})}if(o){let v=[];for(let T=0;T<u.eventRegistrations_.length;++T){const R=u.eventRegistrations_[T];if(R.matches(o)){if(o.hasAnyCallback()){v=v.concat(u.eventRegistrations_.slice(T+1));break}}else v.push(R)}u.eventRegistrations_=v}else u.eventRegistrations_=[];return f}function zp(u,o,l,f){o.type===Qo.MERGE&&null!==o.source.queryId&&((0,te.hu)(ll(u.viewCache_),"We should always have a full cache before handling merges"),(0,te.hu)(Fh(u.viewCache_),"Missing event cache, even though we have a server cache"));const v=u.viewCache_,T=function ha(u,o,l,f,v){const T=new ey;let R,Q;if(l.type===Qo.OVERWRITE){const we=l;we.source.fromUser?R=Ss(u,o,we.path,we.snap,f,v,T):((0,te.hu)(we.source.fromServer,"Unknown source."),Q=we.source.tagged||o.serverCache.isFiltered()&&!fr(we.path),R=ud(u,o,we.path,we.snap,f,v,Q,T))}else if(l.type===Qo.MERGE){const we=l;we.source.fromUser?R=function qh(u,o,l,f,v,T,R){let Q=o;return f.foreach((oe,we)=>{const _t=Ni(l,oe);Kh(o,Mr(_t))&&(Q=Ss(u,Q,_t,we,v,T,R))}),f.foreach((oe,we)=>{const _t=Ni(l,oe);Kh(o,Mr(_t))||(Q=Ss(u,Q,_t,we,v,T,R))}),Q}(u,o,we.path,we.children,f,v,T):((0,te.hu)(we.source.fromServer,"Unknown source."),Q=we.source.tagged||o.serverCache.isFiltered(),R=Hp(u,o,we.path,we.children,f,v,Q,T))}else if(l.type===Qo.ACK_USER_WRITE){const we=l;R=we.revert?function Zh(u,o,l,f,v,T){let R;if(null!=zf(f,l))return o;{const Q=new ld(f,o,v),oe=o.eventCache.getNode();let we;if(fr(l)||".priority"===Mr(l)){let _t;if(o.serverCache.isFullyInitialized())_t=Zd(f,ll(o));else{const bt=o.serverCache.getNode();(0,te.hu)(bt instanceof mr,"serverChildren would be complete if leaf node"),_t=$p(f,bt)}_t=_t,we=u.filter.updateFullNode(oe,_t,T)}else{const _t=Mr(l);let bt=su(f,_t,o.serverCache);null==bt&&o.serverCache.isCompleteForChild(_t)&&(bt=oe.getImmediateChild(_t)),we=null!=bt?u.filter.updateChild(oe,_t,bt,Ui(l),Q,T):o.eventCache.getNode().hasChild(_t)?u.filter.updateChild(oe,_t,mr.EMPTY_NODE,Ui(l),Q,T):oe,we.isEmpty()&&o.serverCache.isFullyInitialized()&&(R=Zd(f,ll(o)),R.isLeafNode()&&(we=u.filter.updateFullNode(we,R,T)))}return R=o.serverCache.isFullyInitialized()||null!=zf(f,Ei()),Ou(o,we,R,u.filter.filtersNodes())}}(u,o,we.path,f,v,T):function ku(u,o,l,f,v,T,R){if(null!=zf(v,l))return o;const Q=o.serverCache.isFiltered(),oe=o.serverCache;if(null!=f.value){if(fr(l)&&oe.isFullyInitialized()||oe.isCompleteForPath(l))return ud(u,o,l,oe.getNode().getChild(l),v,T,Q,R);if(fr(l)){let we=new Ri(null);return oe.getNode().forEachChild(Or,(_t,bt)=>{we=we.set(new Di(_t),bt)}),Hp(u,o,l,we,v,T,Q,R)}return o}{let we=new Ri(null);return f.foreach((_t,bt)=>{const $t=Ni(l,_t);oe.isCompleteForPath($t)&&(we=we.set(_t,oe.getNode().getChild($t)))}),Hp(u,o,l,we,v,T,Q,R)}}(u,o,we.path,we.affectedTree,f,v,T)}else{if(l.type!==Qo.LISTEN_COMPLETE)throw(0,te.g5)("Unknown operation type: "+l.type);R=function Yh(u,o,l,f,v){const T=o.serverCache;return Wh(u,Ao(o,T.getNode(),T.isFullyInitialized()||fr(l),T.isFiltered()),l,f,Hh,v)}(u,o,l.path,f,T)}const oe=T.getChanges();return function zh(u,o,l){const f=o.eventCache;if(f.isFullyInitialized()){const v=f.getNode().isLeafNode()||f.getNode().isEmpty(),T=Fh(u);(l.length>0||!u.eventCache.isFullyInitialized()||v&&!f.getNode().equals(T)||!f.getNode().getPriority().equals(T.getPriority()))&&l.push(Gd(Fh(o)))}}(o,R,oe),{viewCache:R,changes:oe}}(u.processor_,v,o,l,f);return function Gh(u,o){(0,te.hu)(o.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,te.hu)(o.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,T.viewCache),(0,te.hu)(T.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=T.viewCache,Wp(u,T.changes,T.viewCache.eventCache.getNode(),null)}function Wp(u,o,l,f){return function Fp(u,o,l,f){const v=[],T=[];return o.forEach(R=>{"child_changed"===R.type&&u.index_.indexedValueChanged(R.oldSnap,R.snapshotNode)&&T.push(function Ph(u,o){return{type:"child_moved",snapshotNode:o,childName:u}}(R.childName,R.snapshotNode))}),id(u,v,"child_removed",o,f,l),id(u,v,"child_added",o,f,l),id(u,v,"child_moved",T,f,l),id(u,v,"child_changed",o,f,l),id(u,v,"value",o,f,l),v}(u.eventGenerator_,o,l,f?[f]:u.eventRegistrations_)}let Kp,dd;class lm{constructor(){this.views=new Map}}function Zp(u,o,l,f){const v=o.source.queryId;if(null!==v){const T=u.views.get(v);return(0,te.hu)(null!=T,"SyncTree gave us an op for an invalid query."),zp(T,o,l,f)}{let T=[];for(const R of u.views.values())T=T.concat(zp(R,o,l,f));return T}}function Xh(u,o,l,f,v){const R=u.views.get(o._queryIdentifier);if(!R){let Q=Zd(l,v?f:null),oe=!1;Q?oe=!0:f instanceof mr?(Q=$p(l,f),oe=!1):(Q=mr.EMPTY_NODE,oe=!1);const we=Ut(new iu(Q,oe,!1),new iu(f,v,!1));return new ou(o,we)}return R}function cm(u){const o=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||o.push(l);return o}function _c(u,o){let l=null;for(const f of u.views.values())l=l||Wf(f,o);return l}function ny(u,o){return o._queryParams.loadsAllData()?Qh(u):u.views.get(o._queryIdentifier)}function dm(u,o){return null!=ny(u,o)}function Nu(u){return null!=Qh(u)}function Qh(u){for(const o of u.views.values())if(o.query._queryParams.loadsAllData())return o;return null}let Qp=1;class Yf{constructor(o){this.listenProvider_=o,this.syncPointTree_=new Ri(null),this.pendingWriteTree_=function Jm(){return{visibleWrites:Wa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jh(u,o,l,f,v){return function ad(u,o,l,f,v){(0,te.hu)(f>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:o,snap:l,writeId:f,visible:v}),v&&(u.visibleWrites=fc(u.visibleWrites,o,l)),u.lastWriteId=f}(u.pendingWriteTree_,o,l,f,v),v?Ka(u,new Al({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,l)):[]}function lu(u,o,l=!1){const f=function Yd(u,o){for(let l=0;l<u.allWrites.length;l++){const f=u.allWrites[l];if(f.writeId===o)return f}return null}(u.pendingWriteTree_,o);if(function Vh(u,o){const l=u.allWrites.findIndex(Q=>Q.writeId===o);(0,te.hu)(l>=0,"removeWrite called with nonexistent writeId.");const f=u.allWrites[l];u.allWrites.splice(l,1);let v=f.visible,T=!1,R=u.allWrites.length-1;for(;v&&R>=0;){const Q=u.allWrites[R];Q.visible&&(R>=l&&Lp(Q,f.path)?v=!1:mo(f.path,Q.path)&&(T=!0)),R--}return!!v&&(T?(function Uh(u){u.visibleWrites=im(u.allWrites,Gf,Ei()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(f.snap?u.visibleWrites=Zs(u.visibleWrites,f.path):qi(f.children,oe=>{u.visibleWrites=Zs(u.visibleWrites,Ni(f.path,oe))}),!0))}(u.pendingWriteTree_,o)){let T=new Ri(null);return null!=f.snap?T=T.set(Ei(),!0):qi(f.children,R=>{T=T.set(new Di(R),!0)}),Ka(u,new nd(f.path,T,l))}return[]}function vc(u,o,l){return Ka(u,new Al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,l))}function ng(u,o,l,f){const v=o._path,T=u.syncPointTree_.get(v);let R=[];if(T&&("default"===o._queryIdentifier||dm(T,o))){const Q=function qf(u,o,l,f){const v=o._queryIdentifier,T=[];let R=[];const Q=Nu(u);if("default"===v)for(const[oe,we]of u.views.entries())R=R.concat(Kf(we,l,f)),yc(we)&&(u.views.delete(oe),we.query._queryParams.loadsAllData()||T.push(we.query));else{const oe=u.views.get(v);oe&&(R=R.concat(Kf(oe,l,f)),yc(oe)&&(u.views.delete(v),oe.query._queryParams.loadsAllData()||T.push(oe.query)))}return Q&&!Nu(u)&&T.push(new(function Yp(){return(0,te.hu)(Kp,"Reference.ts has not been loaded"),Kp}())(o._repo,o._path)),{removed:T,events:R}}(T,o,l,f);(function um(u){return 0===u.views.size})(T)&&(u.syncPointTree_=u.syncPointTree_.remove(v));const oe=Q.removed;R=Q.events;const we=-1!==oe.findIndex(bt=>bt._queryParams.loadsAllData()),_t=u.syncPointTree_.findOnPath(v,(bt,$t)=>Nu($t));if(we&&!_t){const bt=u.syncPointTree_.subtree(v);if(!bt.isEmpty()){const $t=function sg(u){return u.fold((o,l,f)=>{if(l&&Nu(l))return[Qh(l)];{let v=[];return l&&(v=cm(l)),qi(f,(T,R)=>{v=v.concat(R)}),v}})}(bt);for(let on=0;on<$t.length;++on){const mn=$t[on],br=mn.query,Kr=bc(u,mn);u.listenProvider_.startListening(Lu(br),Cc(u,br),Kr.hashFn,Kr.onComplete)}}}!_t&&oe.length>0&&!f&&(we?u.listenProvider_.stopListening(Lu(o),null):oe.forEach(bt=>{const $t=u.queryToTagMap.get(Ml(bt));u.listenProvider_.stopListening(Lu(bt),$t)})),function yo(u,o){for(let l=0;l<o.length;++l){const f=o[l];if(!f._queryParams.loadsAllData()){const v=Ml(f),T=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(T)}}}(u,oe)}return R}function wc(u,o,l){const f=o._path;let v=null,T=!1;u.syncPointTree_.foreachOnPath(f,(bt,$t)=>{const on=Ms(bt,f);v=v||_c($t,on),T=T||Nu($t)});let Q,R=u.syncPointTree_.get(f);R?(T=T||Nu(R),v=v||_c(R,Ei())):(R=new lm,u.syncPointTree_=u.syncPointTree_.set(f,R)),null!=v?Q=!0:(Q=!1,v=mr.EMPTY_NODE,u.syncPointTree_.subtree(f).foreachChild(($t,on)=>{const mn=_c(on,Ei());mn&&(v=v.updateImmediateChild($t,mn))}));const oe=dm(R,o);if(!oe&&!o._queryParams.loadsAllData()){const bt=Ml(o);(0,te.hu)(!u.queryToTagMap.has(bt),"View does not exist, but we have a tag");const $t=function Qf(){return Qp++}();u.queryToTagMap.set(bt,$t),u.tagToQueryMap.set($t,bt)}let _t=function Qd(u,o,l,f,v,T){const R=Xh(u,o,f,v,T);return u.views.has(o._queryIdentifier)||u.views.set(o._queryIdentifier,R),function cd(u,o){u.eventRegistrations_.push(o)}(R,l),function ty(u,o){const l=u.viewCache_.eventCache,f=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Sr,(T,R)=>{f.push(za(T,R))}),l.isFullyInitialized()&&f.push(Gd(l.getNode())),Wp(u,f,l.getNode(),o)}(R,l)}(R,o,l,xl(u.pendingWriteTree_,f),v,Q);if(!oe&&!T){const bt=ny(R,o);_t=_t.concat(function iy(u,o,l){const f=o._path,v=Cc(u,o),T=bc(u,l),R=u.listenProvider_.startListening(Lu(o),v,T.hashFn,T.onComplete),Q=u.syncPointTree_.subtree(f);if(v)(0,te.hu)(!Nu(Q.value),"If we're adding a query, it shouldn't be shadowed");else{const oe=Q.fold((we,_t,bt)=>{if(!fr(we)&&_t&&Nu(_t))return[Qh(_t).query];{let $t=[];return _t&&($t=$t.concat(cm(_t).map(on=>on.query))),qi(bt,(on,mn)=>{$t=$t.concat(mn)}),$t}});for(let we=0;we<oe.length;++we){const _t=oe[we];u.listenProvider_.stopListening(Lu(_t),Cc(u,_t))}}return R}(u,o,bt))}return _t}function Fu(u,o,l){const v=u.pendingWriteTree_,T=u.syncPointTree_.findOnPath(o,(R,Q)=>{const we=_c(Q,Ms(R,o));if(we)return we});return Bp(v,o,T,l,!0)}function Ka(u,o){return Ic(o,u.syncPointTree_,null,xl(u.pendingWriteTree_,Ei()))}function Ic(u,o,l,f){if(fr(u.path))return ef(u,o,l,f);{const v=o.get(Ei());null==l&&null!=v&&(l=_c(v,Ei()));let T=[];const R=Mr(u.path),Q=u.operationForChild(R),oe=o.children.get(R);if(oe&&Q){const we=l?l.getImmediateChild(R):null,_t=gc(f,R);T=T.concat(Ic(Q,oe,we,_t))}return v&&(T=T.concat(Zp(v,u,f,l))),T}}function ef(u,o,l,f){const v=o.get(Ei());null==l&&null!=v&&(l=_c(v,Ei()));let T=[];return o.children.inorderTraversal((R,Q)=>{const oe=l?l.getImmediateChild(R):null,we=gc(f,R),_t=u.operationForChild(R);_t&&(T=T.concat(ef(_t,Q,oe,we)))}),v&&(T=T.concat(Zp(v,u,f,l))),T}function bc(u,o){const l=o.query,f=Cc(u,l);return{hashFn:()=>(function Gp(u){return u.viewCache_.serverCache.getNode()}(o)||mr.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return f?function tg(u,o,l){const f=ig(u,l);if(f){const v=Jd(f),T=v.path,R=v.queryId,Q=Ms(T,o);return Xf(u,T,new rd(td(R),Q))}return[]}(u,l._path,f):function Ec(u,o){return Ka(u,new rd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o))}(u,l._path);{const T=function ua(u,o){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const f=new Error(u+" at "+o._path.toString()+": "+l);return f.code=u.toUpperCase(),f}(v,l);return ng(u,l,null,T)}}}}function Cc(u,o){const l=Ml(o);return u.queryToTagMap.get(l)}function Ml(u){return u._path.toString()+"$"+u._queryIdentifier}function ig(u,o){return u.tagToQueryMap.get(o)}function Jd(u){const o=u.indexOf("$");return(0,te.hu)(-1!==o&&o<u.length-1,"Bad queryKey."),{queryId:u.substr(o+1),path:new Di(u.substr(0,o))}}function Xf(u,o,l){const f=u.syncPointTree_.get(o);return(0,te.hu)(f,"Missing sync point for query tag that we're tracking"),Zp(f,l,xl(u.pendingWriteTree_,o),null)}function Lu(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function au(){return(0,te.hu)(dd,"Reference.ts has not been loaded"),dd}())(u._repo,u._path):u}class Jf{constructor(o){this.node_=o}getImmediateChild(o){const l=this.node_.getImmediateChild(o);return new Jf(l)}node(){return this.node_}}class hm{constructor(o,l){this.syncTree_=o,this.path_=l}getImmediateChild(o){const l=Ni(this.path_,o);return new hm(this.syncTree_,l)}node(){return Fu(this.syncTree_,this.path_)}}const og=function(u,o,l){return u&&"object"==typeof u?((0,te.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?ag(u[".sv"],o,l):"object"==typeof u[".sv"]?lg(u[".sv"],o):void(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},ag=function(u,o,l){if("timestamp"===u)return l.timestamp;(0,te.hu)(!1,"Unexpected server value: "+u)},lg=function(u,o,l){u.hasOwnProperty("increment")||(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const f=u.increment;"number"!=typeof f&&(0,te.hu)(!1,"Unexpected increment value: "+f);const v=o.node();if((0,te.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return f;const R=v.getValue();return"number"!=typeof R?f:R+f},ug=function(u,o,l,f){return xo(o,new hm(l,u),f)},tf=function(u,o,l){return xo(u,new Jf(o),l)};function xo(u,o,l){const f=u.getPriority().val(),v=og(f,o.getImmediateChild(".priority"),l);let T;if(u.isLeafNode()){const R=u,Q=og(R.getValue(),o,l);return Q!==R.getValue()||v!==R.getPriority().val()?new ac(Q,zi(v)):u}{const R=u;return T=R,v!==R.getPriority().val()&&(T=T.updatePriority(new ac(v))),R.forEachChild(Sr,(Q,oe)=>{const we=xo(oe,o.getImmediateChild(Q),l);we!==oe&&(T=T.updateImmediateChild(Q,we))}),T}}class hd{constructor(o="",l=null,f={children:{},childCount:0}){this.name=o,this.parent=l,this.node=f}}function fd(u,o){let l=o instanceof Di?o:new Di(o),f=u,v=Mr(l);for(;null!==v;){const T=(0,te.DV)(f.node.children,v)||{children:{},childCount:0};f=new hd(v,f,T),l=Ui(l),v=Mr(l)}return f}function Dc(u){return u.node.value}function ep(u,o){u.node.value=o,cg(u)}function nf(u){return u.node.childCount>0}function tp(u,o){qi(u.node.children,(l,f)=>{o(new hd(l,u,f))})}function rf(u,o,l,f){l&&!f&&o(u),tp(u,v=>{rf(v,o,!0,f)}),l&&f&&o(u)}function sf(u){return new Di(null===u.parent?u.name:sf(u.parent)+"/"+u.name)}function cg(u){null!==u.parent&&function gm(u,o,l){const f=function sy(u){return void 0===Dc(u)&&!nf(u)}(l),v=(0,te.r3)(u.node.children,o);f&&v?(delete u.node.children[o],u.node.childCount--,cg(u)):!f&&!v&&(u.node.children[o]=l.node,u.node.childCount++,cg(u))}(u.parent,u.name,u)}const af=/[\[\].#$\/\u0000-\u001F\u007F]/,lf=/[\[\].#$\u0000-\u001F\u007F]/,eh=10485760,uf=function(u){return"string"==typeof u&&0!==u.length&&!af.test(u)},mm=function(u){return"string"==typeof u&&0!==u.length&&!lf.test(u)},th=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!pl(u)||u&&"object"==typeof u&&(0,te.r3)(u,".sv")},uu=function(u,o,l,f){f&&void 0===o||ba((0,te.gK)(u,"value"),o,l)},ba=function(u,o,l){const f=l instanceof Di?new Vd(l,u):l;if(void 0===o)throw new Error(u+"contains undefined "+bl(f));if("function"==typeof o)throw new Error(u+"contains a function "+bl(f)+" with contents = "+o.toString());if(pl(o))throw new Error(u+"contains "+o.toString()+" "+bl(f));if("string"==typeof o&&o.length>eh/3&&(0,te.ug)(o)>eh)throw new Error(u+"contains a string greater than "+eh+" utf8 bytes "+bl(f)+" ('"+o.substring(0,50)+"...')");if(o&&"object"==typeof o){let v=!1,T=!1;if(qi(o,(R,Q)=>{if(".value"===R)v=!0;else if(".priority"!==R&&".sv"!==R&&(T=!0,!uf(R)))throw new Error(u+" contains an invalid key ("+R+") "+bl(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Vf(u,o){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(o),u.byteLength_+=(0,te.ug)(o),rc(u)})(f,R),ba(u,Q,f),function Ys(u){const o=u.parts_.pop();u.byteLength_-=(0,te.ug)(o),u.parts_.length>0&&(u.byteLength_-=1)}(f)}),v&&T)throw new Error(u+' contains ".value" child '+bl(f)+" in addition to actual children.")}},np=function(u,o,l,f){if(f&&void 0===o)return;const v=(0,te.gK)(u,"values");if(!o||"object"!=typeof o||Array.isArray(o))throw new Error(v+" must be an object containing the children to replace.");const T=[];qi(o,(R,Q)=>{const oe=new Di(R);if(ba(v,Q,Ni(l,oe)),".priority"===Hc(oe)&&!th(Q))throw new Error(v+"contains an invalid value for '"+oe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(oe)}),function(u,o){let l,f;for(l=0;l<o.length;l++){f=o[l];const T=$a(f);for(let R=0;R<T.length;R++)if((".priority"!==T[R]||R!==T.length-1)&&!uf(T[R]))throw new Error(u+"contains an invalid key ("+T[R]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}o.sort(ja);let v=null;for(l=0;l<o.length;l++){if(f=o[l],null!==v&&mo(v,f))throw new Error(u+"contains a path "+v.toString()+" that is ancestor of another path "+f.toString());v=f}}(v,T)},Tc=function(u,o,l){if(!l||void 0!==o){if(pl(o))throw new Error((0,te.gK)(u,"priority")+"is "+o.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!th(o))throw new Error((0,te.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nh=function(u,o,l,f){if(!(f&&void 0===l||uf(l)))throw new Error((0,te.gK)(u,o)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bu=function(u,o,l,f){if(!(f&&void 0===l||mm(l)))throw new Error((0,te.gK)(u,o)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ca=function(u,o){if(".info"===Mr(o))throw new Error(u+" failed = Can't modify data under /.info/")},dg=function(u,o){const l=o.path.toString();if("string"!=typeof o.repoInfo.host||0===o.repoInfo.host.length||!uf(o.repoInfo.namespace)&&"localhost"!==o.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),mm(u)}(l))throw new Error((0,te.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class df{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rh(u,o){let l=null;for(let f=0;f<o.length;f++){const v=o[f],T=v.getPath();null!==l&&!ol(T,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:T}),l.events.push(v)}l&&u.eventLists_.push(l)}function cu(u,o,l){rh(u,l),rp(u,f=>ol(f,o))}function ea(u,o,l){rh(u,l),rp(u,f=>mo(f,o)||mo(o,f))}function rp(u,o){u.recursionDepth_++;let l=!0;for(let f=0;f<u.eventLists_.length;f++){const v=u.eventLists_[f];v&&(o(v.path)?(hg(u.eventLists_[f]),u.eventLists_[f]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}function hg(u){for(let o=0;o<u.events.length;o++){const l=u.events[o];if(null!==l){u.events[o]=null;const f=l.getEventRunner();Hi&&Nr("event: "+l.toString()),Na(f)}}}const ip="repo_interrupt";class _m{constructor(o,l,f,v){this.repoInfo_=o,this.forceRestClient_=l,this.authTokenProvider_=f,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new df,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bn(),this.transactionQueueTree_=new hd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ff(u){const l=u.infoData_.getNode(new Di(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Vu(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:ff(u)})}function vm(u,o,l,f,v){u.dataUpdateCount++;const T=new Di(o);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(o,l):l;let R=[];if(v)if(f){const oe=(0,te.UI)(l,we=>zi(we));R=function ry(u,o,l,f){const v=ig(u,f);if(v){const T=Jd(v),R=T.path,Q=T.queryId,oe=Ms(R,o),we=Ri.fromObject(l);return Xf(u,R,new hc(td(Q),oe,we))}return[]}(u.serverSyncTree_,T,oe,v)}else{const oe=zi(l);R=function Zf(u,o,l,f){const v=ig(u,f);if(null!=v){const T=Jd(v),R=T.path,Q=T.queryId,oe=Ms(R,o);return Xf(u,R,new Al(td(Q),oe,l))}return[]}(u.serverSyncTree_,T,oe,v)}else if(f){const oe=(0,te.UI)(l,we=>zi(we));R=function eg(u,o,l){const f=Ri.fromObject(l);return Ka(u,new hc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,f))}(u.serverSyncTree_,T,oe)}else{const oe=zi(l);R=vc(u.serverSyncTree_,T,oe)}let Q=T;R.length>0&&(Q=Pl(u,T)),ea(u.eventQueue_,Q,R)}function gd(u,o){op(u,"connected",o),!1===o&&function ih(u){du(u,"onDisconnectEvents");const o=Vu(u),l=bn();_s(u.onDisconnect_,Ei(),(v,T)=>{const R=ug(v,T,u.serverSyncTree_,o);Gn(l,v,R)});let f=[];_s(l,Ei(),(v,T)=>{f=f.concat(vc(u.serverSyncTree_,v,T));const R=yf(u,v);Pl(u,R)}),u.onDisconnect_=bn(),ea(u.eventQueue_,Ei(),f)}(u)}function op(u,o,l){const f=new Di("/.info/"+o),v=zi(l);u.infoData_.updateSnapshot(f,v);const T=vc(u.infoSyncTree_,f,v);ea(u.eventQueue_,f,T)}function pf(u){return u.nextWriteId_++}function gf(u,o,l,f,v){du(u,"set",{path:o.toString(),value:l,priority:f});const T=Vu(u),R=zi(l,f),Q=Fu(u.serverSyncTree_,o),oe=tf(R,Q,T),we=pf(u),_t=Jh(u.serverSyncTree_,o,oe,we,!0);rh(u.eventQueue_,_t),u.server_.put(o.toString(),R.val(!0),($t,on)=>{const mn="ok"===$t;mn||xi("set at "+o+" failed: "+$t);const br=lu(u.serverSyncTree_,we,!mn);ea(u.eventQueue_,o,br),Rl(0,v,$t,on)});const bt=yf(u,o);Pl(u,bt),ea(u.eventQueue_,bt,[])}function oy(u,o,l){u.server_.onDisconnectCancel(o.toString(),(f,v)=>{"ok"===f&&Kn(u.onDisconnect_,o),Rl(0,l,f,v)})}function ap(u,o,l,f){const v=zi(l);u.server_.onDisconnectPut(o.toString(),v.val(!0),(T,R)=>{"ok"===T&&Gn(u.onDisconnect_,o,v),Rl(0,f,T,R)})}function md(u,o,l){let f;f=".info"===Mr(o._path)?ng(u.infoSyncTree_,o,l):ng(u.serverSyncTree_,o,l),cu(u.eventQueue_,o._path,f)}function yd(u){u.persistentConnection_&&u.persistentConnection_.interrupt(ip)}function du(u,...o){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),Nr(l,...o)}function Rl(u,o,l,f){o&&Na(()=>{if("ok"===l)o(null);else{const v=(l||"error").toUpperCase();let T=v;f&&(T+=": "+f);const R=new Error(T);R.code=v,o(R)}})}function Ol(u,o,l){return Fu(u.serverSyncTree_,o,l)||mr.EMPTY_NODE}function sh(u,o=u.transactionQueueTree_){if(o||oh(u,o),Dc(o)){const l=vd(u,o);(0,te.hu)(l.length>0,"Sending zero length transaction queue"),l.every(v=>0===v.status)&&function Sc(u,o,l){const f=l.map(we=>we.currentWriteId),v=Ol(u,o,f);let T=v;const R=v.hash();for(let we=0;we<l.length;we++){const _t=l[we];(0,te.hu)(0===_t.status,"tryToSendTransactionQueue_: items in queue should all be run."),_t.status=1,_t.retryCount++;const bt=Ms(o,_t.path);T=T.updateChild(bt,_t.currentOutputSnapshotRaw)}const Q=T.val(!0),oe=o;u.server_.put(oe.toString(),Q,we=>{du(u,"transaction put response",{path:oe.toString(),status:we});let _t=[];if("ok"===we){const bt=[];for(let $t=0;$t<l.length;$t++)l[$t].status=2,_t=_t.concat(lu(u.serverSyncTree_,l[$t].currentWriteId)),l[$t].onComplete&&bt.push(()=>l[$t].onComplete(null,!0,l[$t].currentOutputSnapshotResolved)),l[$t].unwatcher();oh(u,fd(u.transactionQueueTree_,o)),sh(u,u.transactionQueueTree_),ea(u.eventQueue_,o,_t);for(let $t=0;$t<bt.length;$t++)Na(bt[$t])}else{if("datastale"===we)for(let bt=0;bt<l.length;bt++)l[bt].status=3===l[bt].status?4:0;else{xi("transaction at "+oe.toString()+" failed: "+we);for(let bt=0;bt<l.length;bt++)l[bt].status=4,l[bt].abortReason=we}Pl(u,o)}},R)}(u,sf(o),l)}else nf(o)&&tp(o,l=>{sh(u,l)})}function Pl(u,o){const l=Ac(u,o),f=sf(l);return function wm(u,o,l){if(0===o.length)return;const f=[];let v=[];const R=o.filter(Q=>0===Q.status).map(Q=>Q.currentWriteId);for(let Q=0;Q<o.length;Q++){const oe=o[Q],we=Ms(l,oe.path);let bt,_t=!1;if((0,te.hu)(null!==we,"rerunTransactionsUnderNode_: relativePath should not be null."),4===oe.status)_t=!0,bt=oe.abortReason,v=v.concat(lu(u.serverSyncTree_,oe.currentWriteId,!0));else if(0===oe.status)if(oe.retryCount>=25)_t=!0,bt="maxretry",v=v.concat(lu(u.serverSyncTree_,oe.currentWriteId,!0));else{const $t=Ol(u,oe.path,R);oe.currentInputSnapshot=$t;const on=o[Q].update($t.val());if(void 0!==on){ba("transaction failed: Data returned ",on,oe.path);let mn=zi(on);"object"==typeof on&&null!=on&&(0,te.r3)(on,".priority")||(mn=mn.updatePriority($t.getPriority()));const Kr=oe.currentWriteId,lo=Vu(u),uo=tf(mn,$t,lo);oe.currentOutputSnapshotRaw=mn,oe.currentOutputSnapshotResolved=uo,oe.currentWriteId=pf(u),R.splice(R.indexOf(Kr),1),v=v.concat(Jh(u.serverSyncTree_,oe.path,uo,oe.currentWriteId,oe.applyLocally)),v=v.concat(lu(u.serverSyncTree_,Kr,!0))}else _t=!0,bt="nodata",v=v.concat(lu(u.serverSyncTree_,oe.currentWriteId,!0))}ea(u.eventQueue_,l,v),v=[],_t&&(o[Q].status=2,setTimeout(o[Q].unwatcher,Math.floor(0)),o[Q].onComplete&&f.push("nodata"===bt?()=>o[Q].onComplete(null,!1,o[Q].currentInputSnapshot):()=>o[Q].onComplete(new Error(bt),!1,null)))}oh(u,u.transactionQueueTree_);for(let Q=0;Q<f.length;Q++)Na(f[Q]);sh(u,u.transactionQueueTree_)}(u,vd(u,l),f),f}function Ac(u,o){let l,f=u.transactionQueueTree_;for(l=Mr(o);null!==l&&void 0===Dc(f);)f=fd(f,l),l=Mr(o=Ui(o));return f}function vd(u,o){const l=[];return mg(u,o,l),l.sort((f,v)=>f.order-v.order),l}function mg(u,o,l){const f=Dc(o);if(f)for(let v=0;v<f.length;v++)l.push(f[v]);tp(o,v=>{mg(u,v,l)})}function oh(u,o){const l=Dc(o);if(l){let f=0;for(let v=0;v<l.length;v++)2!==l[v].status&&(l[f]=l[v],f++);l.length=f,ep(o,l.length>0?l:void 0)}tp(o,f=>{oh(u,f)})}function yf(u,o){const l=sf(Ac(u,o)),f=fd(u.transactionQueueTree_,o);return function pm(u,o,l){let f=l?u:u.parent;for(;null!==f;){if(o(f))return!0;f=f.parent}}(f,v=>{hu(u,v)}),hu(u,f),rf(f,v=>{hu(u,v)}),l}function hu(u,o){const l=Dc(o);if(l){const f=[];let v=[],T=-1;for(let R=0;R<l.length;R++)3===l[R].status||(1===l[R].status?((0,te.hu)(T===R-1,"All SENT items should be at beginning of queue."),T=R,l[R].status=3,l[R].abortReason="set"):((0,te.hu)(0===l[R].status,"Unexpected transaction status in abort"),l[R].unwatcher(),v=v.concat(lu(u.serverSyncTree_,l[R].currentWriteId,!0)),l[R].onComplete&&f.push(l[R].onComplete.bind(null,new Error("set"),!1,null))));-1===T?ep(o,void 0):l.length=T+1,ea(u.eventQueue_,sf(o),v);for(let R=0;R<f.length;R++)Na(f[R])}}const _g=function(u,o){const l=vg(u),f=l.namespace;return"firebase.com"===l.domain&&ii(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==l.domain&&ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rt(l.host,l.secure,f,"ws"===l.scheme||"wss"===l.scheme,o,"",f!==l.subdomain),path:new Di(l.pathString)}},vg=function(u){let o="",l="",f="",v="",T="",R=!0,Q="https",oe=443;if("string"==typeof u){let we=u.indexOf("//");we>=0&&(Q=u.substring(0,we-1),u=u.substring(we+2));let _t=u.indexOf("/");-1===_t&&(_t=u.length);let bt=u.indexOf("?");-1===bt&&(bt=u.length),o=u.substring(0,Math.min(_t,bt)),_t<bt&&(v=function yg(u){let o="";const l=u.split("/");for(let f=0;f<l.length;f++)if(l[f].length>0){let v=l[f];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(T){}o+="/"+v}return o}(u.substring(_t,bt)));const $t=function ay(u){const o={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const f=l.split("=");2===f.length?o[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):xi(`Invalid query segment '${l}' in query '${u}'`)}return o}(u.substring(Math.min(u.length,bt)));we=o.indexOf(":"),we>=0?(R="https"===Q||"wss"===Q,oe=parseInt(o.substring(we+1),10)):we=o.length;const on=o.slice(0,we);if("localhost"===on.toLowerCase())l="localhost";else if(on.split(".").length<=2)l=on;else{const mn=o.indexOf(".");f=o.substring(0,mn).toLowerCase(),l=o.substring(mn+1),T=f}"ns"in $t&&(T=$t.ns)}return{host:o,port:oe,domain:l,subdomain:f,secure:R,scheme:Q,pathString:v,namespace:T}};class Da{constructor(o,l,f,v){this.eventType=o,this.eventRegistration=l,this.snapshot=f,this.prevName=v}getPath(){const o=this.snapshot.ref;return"value"===this.eventType?o._path:o.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,te.Pz)(this.snapshot.exportVal())}}class lp{constructor(o,l,f){this.eventRegistration=o,this.error=l,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class up{constructor(o,l){this.snapshotCallback=o,this.cancelCallback=l}onValue(o,l){this.snapshotCallback.call(null,o,l)}onCancel(o){return(0,te.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,o)}get hasCancelCallback(){return!!this.cancelCallback}matches(o){return this.snapshotCallback===o.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===o.snapshotCallback.userCallback&&this.snapshotCallback.context===o.snapshotCallback.context}}class Eg{constructor(o,l){this._repo=o,this._path=l}cancel(){const o=new te.BH;return oy(this._repo,this._path,o.wrapCallback(()=>{})),o.promise}remove(){Ca("OnDisconnect.remove",this._path);const o=new te.BH;return ap(this._repo,this._path,null,o.wrapCallback(()=>{})),o.promise}set(o){Ca("OnDisconnect.set",this._path),uu("OnDisconnect.set",o,this._path,!1);const l=new te.BH;return ap(this._repo,this._path,o,l.wrapCallback(()=>{})),l.promise}setWithPriority(o,l){Ca("OnDisconnect.setWithPriority",this._path),uu("OnDisconnect.setWithPriority",o,this._path,!1),Tc("OnDisconnect.setWithPriority",l,!1);const f=new te.BH;return function qy(u,o,l,f,v){const T=zi(l,f);u.server_.onDisconnectPut(o.toString(),T.val(!0),(R,Q)=>{"ok"===R&&Gn(u.onDisconnect_,o,T),Rl(0,v,R,Q)})}(this._repo,this._path,o,l,f.wrapCallback(()=>{})),f.promise}update(o){Ca("OnDisconnect.update",this._path),np("OnDisconnect.update",o,this._path,!1);const l=new te.BH;return function mf(u,o,l,f){if((0,te.xb)(l))return Nr("onDisconnect().update() called with empty data.  Don't do anything."),void Rl(0,f,"ok",void 0);u.server_.onDisconnectMerge(o.toString(),l,(v,T)=>{"ok"===v&&qi(l,(R,Q)=>{const oe=zi(Q);Gn(u.onDisconnect_,Ni(o,R),oe)}),Rl(0,f,v,T)})}(this._repo,this._path,o,l.wrapCallback(()=>{})),l.promise}}class ta{constructor(o,l,f,v){this._repo=o,this._path=l,this._queryParams=f,this._orderByCalled=v}get key(){return fr(this._path)?null:Hc(this._path)}get ref(){return new cl(this._repo,this._path)}get _queryIdentifier(){const o=ut(this._queryParams),l=un(o);return"{}"===l?"default":l}get _queryObject(){return ut(this._queryParams)}isEqual(o){if(!((o=(0,te.m9)(o))instanceof ta))return!1;const l=this._repo===o._repo,f=ol(this._path,o._path);return l&&f&&this._queryIdentifier===o._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function nc(u){let o="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(o+="/"+encodeURIComponent(String(u.pieces_[l])));return o||"/"}(this._path)}}function ah(u,o){if(!0===u._orderByCalled)throw new Error(o+": You can't combine multiple orderBy calls.")}function $u(u){let o=null,l=null;if(u.hasStart()&&(o=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===Or){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==gs)throw new Error(f);if("string"!=typeof o)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==ds)throw new Error(f);if("string"!=typeof l)throw new Error(v)}}else if(u.getIndex()===Sr){if(null!=o&&!th(o)||null!=l&&!th(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,te.hu)(u.getIndex()instanceof Zc||u.getIndex()===Os,"unknown index type."),null!=o&&"object"==typeof o||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _f(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cl extends ta{constructor(o,l){super(o,l,new Jc,!1)}get parent(){const o=Bf(this._path);return null===o?null:new cl(this._repo,o)}get root(){let o=this;for(;null!==o.parent;)o=o.parent;return o}}class Ed{constructor(o,l,f){this._node=o,this.ref=l,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(o){const l=new Di(o),f=fu(this.ref,o);return new Ed(this._node.getChild(l),f,Sr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(o){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,v)=>o(new Ed(v,fu(this.ref,f),Sr)))}hasChild(o){const l=new Di(o);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wg(u,o){return(u=(0,te.m9)(u))._checkNotDeleted("ref"),void 0!==o?fu(u._root,o):u._root}function ly(u,o){(u=(0,te.m9)(u))._checkNotDeleted("refFromURL");const l=_g(o,u._repo.repoInfo_.nodeAdmin);dg("refFromURL",l);const f=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&f.host!==u._repo.repoInfo_.host&&ii("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+u._repo.repoInfo_.host+")"),wg(u,l.path.toString())}function fu(u,o){return null===Mr((u=(0,te.m9)(u))._path)?(l=o,l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Bu("child","path",l,!1)):Bu("child","path",o,!1),new cl(u._repo,Ni(u._path,o));var l}function cp(u,o){u=(0,te.m9)(u),Ca("set",u._path),uu("set",o,u._path,!1);const l=new te.BH;return gf(u._repo,u._path,o,null,l.wrapCallback(()=>{})),l.promise}function Dg(u,o){np("update",o,u._path,!1);const l=new te.BH;return function Uu(u,o,l,f){du(u,"update",{path:o.toString(),value:l});let v=!0;const T=Vu(u),R={};if(qi(l,(Q,oe)=>{v=!1,R[Q]=ug(Ni(o,Q),zi(oe),u.serverSyncTree_,T)}),v)Nr("update() called with empty data.  Don't do anything."),Rl(0,f,"ok",void 0);else{const Q=pf(u),oe=function Jp(u,o,l,f){!function pc(u,o,l,f){(0,te.hu)(f>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:o,children:l,writeId:f,visible:!0}),u.visibleWrites=Lh(u.visibleWrites,o,l),u.lastWriteId=f}(u.pendingWriteTree_,o,l,f);const v=Ri.fromObject(l);return Ka(u,new hc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,v))}(u.serverSyncTree_,o,R,Q);rh(u.eventQueue_,oe),u.server_.merge(o.toString(),l,(we,_t)=>{const bt="ok"===we;bt||xi("update at "+o+" failed: "+we);const $t=lu(u.serverSyncTree_,Q,!bt),on=$t.length>0?Pl(u,o):o;ea(u.eventQueue_,on,$t),Rl(0,f,we,_t)}),qi(l,we=>{const _t=yf(u,Ni(o,we));Pl(u,_t)}),ea(u.eventQueue_,o,[])}}(u._repo,u._path,o,l.wrapCallback(()=>{})),l.promise}function dp(u){return function pg(u,o){const l=function rg(u,o){const l=o._path;let f=null;u.syncPointTree_.foreachOnPath(l,(we,_t)=>{const bt=Ms(we,l);f=f||_c(_t,bt)});let v=u.syncPointTree_.get(l);v?f=f||_c(v,Ei()):(v=new lm,u.syncPointTree_=u.syncPointTree_.set(l,v));const T=null!=f,R=T?new iu(f,!0,!1):null;return function mc(u){return Fh(u.viewCache_)}(Xh(v,o,xl(u.pendingWriteTree_,o._path),T?R.getNode():mr.EMPTY_NODE,T))}(u.serverSyncTree_,o);return null!=l?Promise.resolve(l):u.server_.get(o).then(f=>{const v=zi(f).withIndex(o._queryParams.getIndex()),T=vc(u.serverSyncTree_,o._path,v);return cu(u.eventQueue_,o._path,T),Promise.resolve(v)},f=>(du(u,"get for query "+(0,te.Pz)(o)+" failed: "+f),Promise.reject(new Error(f))))}((u=(0,te.m9)(u))._repo,u).then(o=>new Ed(o,new cl(u._repo,u._path),u._queryParams.getIndex()))}class hp{constructor(o){this.callbackContext=o}respondsTo(o){return"value"===o}createEvent(o,l){const f=l._queryParams.getIndex();return new Da("value",this,new Ed(o.snapshotNode,new cl(l._repo,l._path),f))}getEventRunner(o){return"cancel"===o.getEventType()?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,null)}createCancelEvent(o,l){return this.callbackContext.hasCancelCallback?new lp(this,o,l):null}matches(o){return o instanceof hp&&(!o.callbackContext||!this.callbackContext||o.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ta{constructor(o,l){this.eventType=o,this.callbackContext=l}respondsTo(o){let l="children_added"===o?"child_added":o;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(o,l){return this.callbackContext.hasCancelCallback?new lp(this,o,l):null}createEvent(o,l){(0,te.hu)(null!=o.childName,"Child events should have a childName.");const f=fu(new cl(l._repo,l._path),o.childName),v=l._queryParams.getIndex();return new Da(o.type,this,new Ed(o.snapshotNode,f,v),o.prevName)}getEventRunner(o){return"cancel"===o.getEventType()?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,o.prevName)}matches(o){return o instanceof Ta&&this.eventType===o.eventType&&(!this.callbackContext||!o.callbackContext||this.callbackContext.matches(o.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lh(u,o,l,f,v){let T;if("object"==typeof f&&(T=void 0,v=f),"function"==typeof f&&(T=f),v&&v.onlyOnce){const oe=l,we=(_t,bt)=>{md(u._repo,u,Q),oe(_t,bt)};we.userCallback=l.userCallback,we.context=l.context,l=we}const R=new up(l,T||void 0),Q="value"===o?new hp(R):new Ta(o,R);return function Em(u,o,l){let f;f=".info"===Mr(o._path)?wc(u.infoSyncTree_,o,l):wc(u.serverSyncTree_,o,l),cu(u.eventQueue_,o._path,f)}(u._repo,u,Q),()=>md(u._repo,u,Q)}function bm(u,o,l,f){return lh(u,"value",o,l,f)}function vf(u,o,l,f){return lh(u,"child_added",o,l,f)}function Tg(u,o,l,f){return lh(u,"child_changed",o,l,f)}function Ef(u,o,l,f){return lh(u,"child_moved",o,l,f)}function Cm(u,o,l,f){return lh(u,"child_removed",o,l,f)}function Sg(u,o,l){let f=null;const v=l?new up(l):null;"value"===o?f=new hp(v):o&&(f=new Ta(o,v)),md(u._repo,u,f)}class Sa{}class uh extends Sa{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){uu("endAt",this._value,o._path,!0);const l=_(o._queryParams,this._value,this._key);if(_f(l),$u(l),o._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class fp extends Sa{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){uu("endBefore",this._value,o._path,!1);const l=function A(u,o,l){let f,v;return u.index_===Or?("string"==typeof o&&(o=Hd(o)),v=_(u,o,l)):(f=null==l?gs:Hd(l),v=_(u,o,f)),v.endBeforeSet_=!0,v}(o._queryParams,this._value,this._key);if(_f(l),$u(l),o._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class Dm extends Sa{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){uu("startAt",this._value,o._path,!0);const l=I(o._queryParams,this._value,this._key);if(_f(l),$u(l),o._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class ju extends Sa{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){uu("startAfter",this._value,o._path,!1);const l=function g(u,o,l){let f;if(u.index_===Or)"string"==typeof o&&(o=So(o)),f=I(u,o,l);else{let v;v=null==l?ds:So(l),f=I(u,o,v)}return f.startAfterSet_=!0,f}(o._queryParams,this._value,this._key);if(_f(l),$u(l),o._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ta(o._repo,o._path,l,o._orderByCalled)}}class uy extends Sa{constructor(o){super(),this._limit=o}_apply(o){if(o._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ta(o._repo,o._path,function cc(u,o){const l=u.copy();return l.limitSet_=!0,l.limit_=o,l.viewFrom_="l",l}(o._queryParams,this._limit),o._orderByCalled)}}class hh extends Sa{constructor(o){super(),this._limit=o}_apply(o){if(o._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ta(o._repo,o._path,function Uo(u,o){const l=u.copy();return l.limitSet_=!0,l.limit_=o,l.viewFrom_="r",l}(o._queryParams,this._limit),o._orderByCalled)}}class wd extends Sa{constructor(o){super(),this._path=o}_apply(o){ah(o,"orderByChild");const l=new Di(this._path);if(fr(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new Zc(l),v=K(o._queryParams,f);return $u(v),new ta(o._repo,o._path,v,!0)}}class Rg extends Sa{_apply(o){ah(o,"orderByKey");const l=K(o._queryParams,Or);return $u(l),new ta(o._repo,o._path,l,!0)}}class dl extends Sa{_apply(o){ah(o,"orderByPriority");const l=K(o._queryParams,Sr);return $u(l),new ta(o._repo,o._path,l,!0)}}class Mo extends Sa{_apply(o){ah(o,"orderByValue");const l=K(o._queryParams,Os);return $u(l),new ta(o._repo,o._path,l,!0)}}class fh extends Sa{constructor(o,l){super(),this._value=o,this._key=l}_apply(o){if(uu("equalTo",this._value,o._path,!1),o._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(o._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uh(this._value,this._key)._apply(new Dm(this._value,this._key)._apply(o))}}function Ya(u,...o){let l=(0,te.m9)(u);for(const f of o)l=f._apply(l);return l}(function qp(u){(0,te.hu)(!Kp,"__referenceConstructor has already been defined"),Kp=u})(cl),function Xp(u){(0,te.hu)(!dd,"__referenceConstructor has already been defined"),dd=u}(cl);const pu={};function Hu(u,o,l,f,v){let T=f||u.options.databaseURL;void 0===T&&(u.options.projectId||ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",u.options.projectId),T=`${u.options.projectId}-default-rtdb.firebaseio.com`);let oe,we,R=_g(T,v),Q=R.repoInfo;"undefined"!=typeof process&&process.env&&(we=process.env.FIREBASE_DATABASE_EMULATOR_HOST),we?(oe=!0,T=`http://${we}?ns=${Q.namespace}`,R=_g(T,v),Q=R.repoInfo):oe=!R.repoInfo.secure;const _t=v&&oe?new Ks(Ks.OWNER):new yl(u.name,u.options,o);dg("Invalid Firebase Database URL",R),fr(R.path)||ii("Database URL must point to the root of a Firebase Database (not including a child path).");const bt=function gh(u,o,l,f){let v=pu[o.name];v||(v={},pu[o.name]=v);let T=v[u.toURLString()];return T&&ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new _m(u,false,l,f),v[u.toURLString()]=T,T}(Q,u,_t,new Ea(u.name,l));return new Cd(bt,u)}class Cd{constructor(o,l){this._repoInternal=o,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function fg(u,o,l){if(u.stats_=Rn(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new jt(u.repoInfo_,(f,v,T,R)=>{vm(u,f,v,T,R)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>gd(u,!0),0);else{if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,te.Pz)(l)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}u.persistentConnection_=new eu(u.repoInfo_,o,(f,v,T,R)=>{vm(u,f,v,T,R)},f=>{gd(u,f)},f=>{!function sp(u,o){qi(o,(l,f)=>{op(u,l,f)})}(u,f)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(f=>{u.server_.refreshAuthToken(f)}),u.appCheckProvider_.addTokenChangeListener(f=>{u.server_.refreshAppCheckToken(f.token)}),u.statsReporter_=function qs(u,o){const l=u.toString();return Wr[l]||(Wr[l]=o()),Wr[l]}(u.repoInfo_,()=>new Nh(u.stats_,u.server_)),u.infoData_=new sn,u.infoSyncTree_=new Yf({startListening:(f,v,T,R)=>{let Q=[];const oe=u.infoData_.getNode(f._path);return oe.isEmpty()||(Q=vc(u.infoSyncTree_,f._path,oe),setTimeout(()=>{R("ok")},0)),Q},stopListening:()=>{}}),op(u,"connected",!1),u.serverSyncTree_=new Yf({startListening:(f,v,T,R)=>(u.server_.listen(f,T,v,(Q,oe)=>{const we=R(Q,oe);ea(u.eventQueue_,f._path,we)}),[]),stopListening:(f,v)=>{u.server_.unlisten(f,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cl(this._repo,Ei())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Rc(u,o){const l=pu[o];(!l||l[u.key]!==u)&&ii(`Database ${o}(${u.repoInfo_}) has already been deleted.`),yd(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){null===this._rootInternal&&ii("Cannot call "+o+" on a deleted database.")}}function Pg(){kd.IS_TRANSPORT_INITIALIZED&&xi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function pp(){Pg(),Ql.forceDisallow()}function kg(){Pg(),Zo.forceDisallow(),Ql.forceAllow()}function xm(u,o){wh(u,o)}const Fg={".sv":"timestamp"};class mp{constructor(o,l){this.committed=o,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}eu.prototype.simpleListen=function(u,o){this.sendRequest("q",{p:u},o)},eu.prototype.echo=function(u,o){this.sendRequest("echo",{d:u},o)},function Ng(u){_a(jn.SDK_VERSION),(0,jn._registerComponent)(new cn.wA("database",(o,{instanceIdentifier:l})=>Hu(o.getProvider("app").getImmediate(),o.getProvider("auth-internal"),o.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,jn.registerVersion)(Co,"0.13.0",u),(0,jn.registerVersion)(Co,"0.13.0","esm2017")}();const jg=new cs.Yd("@firebase/database-compat"),_p=function(u){jg.warn("FIREBASE WARNING: "+u)};class hy{constructor(o){this._delegate=o}cancel(o){(0,te.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,te.Wj)("OnDisconnect.cancel","onComplete",o,!0);const l=this._delegate.cancel();return o&&l.then(()=>o(null),f=>o(f)),l}remove(o){(0,te.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,te.Wj)("OnDisconnect.remove","onComplete",o,!0);const l=this._delegate.remove();return o&&l.then(()=>o(null),f=>o(f)),l}set(o,l){(0,te.Dv)("OnDisconnect.set",1,2,arguments.length),(0,te.Wj)("OnDisconnect.set","onComplete",l,!0);const f=this._delegate.set(o);return l&&f.then(()=>l(null),v=>l(v)),f}setWithPriority(o,l,f){(0,te.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,te.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const v=this._delegate.setWithPriority(o,l);return f&&v.then(()=>f(null),T=>f(T)),v}update(o,l){if((0,te.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(o)){const v={};for(let T=0;T<o.length;++T)v[""+T]=o[T];o=v,_p("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,te.Wj)("OnDisconnect.update","onComplete",l,!0);const f=this._delegate.update(o);return l&&f.then(()=>l(null),v=>l(v)),f}}class Hg{constructor(o,l){this.committed=o,this.snapshot=l}toJSON(){return(0,te.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class gu{constructor(o,l){this._database=o,this._delegate=l}val(){return(0,te.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,te.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,te.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,te.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(o){return(0,te.Dv)("DataSnapshot.child",0,1,arguments.length),o=String(o),Bu("DataSnapshot.child","path",o,!1),new gu(this._database,this._delegate.child(o))}hasChild(o){return(0,te.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Bu("DataSnapshot.hasChild","path",o,!1),this._delegate.hasChild(o)}getPriority(){return(0,te.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(o){return(0,te.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,te.Wj)("DataSnapshot.forEach","action",o,!1),this._delegate.forEach(l=>o(new gu(this._database,l)))}hasChildren(){return(0,te.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,te.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,te.Dv)("DataSnapshot.ref",0,0,arguments.length),new hl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ro{constructor(o,l){this.database=o,this._delegate=l}on(o,l,f,v){var T;(0,te.Dv)("Query.on",2,4,arguments.length),(0,te.Wj)("Query.on","callback",l,!1);const R=Ro.getCancelAndContextArgs_("Query.on",f,v),Q=(we,_t)=>{l.call(R.context,new gu(this.database,we),_t)};Q.userCallback=l,Q.context=R.context;const oe=null===(T=R.cancel)||void 0===T?void 0:T.bind(R.context);switch(o){case"value":return bm(this._delegate,Q,oe),l;case"child_added":return vf(this._delegate,Q,oe),l;case"child_removed":return Cm(this._delegate,Q,oe),l;case"child_changed":return Tg(this._delegate,Q,oe),l;case"child_moved":return Ef(this._delegate,Q,oe),l;default:throw new Error((0,te.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(o,l,f){if((0,te.Dv)("Query.off",0,3,arguments.length),function(u,o,l){if(void 0!==o)switch(o){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,te.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,o),(0,te.Wj)("Query.off","callback",l,!0),(0,te.lb)("Query.off","context",f,!0),l){const v=()=>{};v.userCallback=l,v.context=f,Sg(this._delegate,o,v)}else Sg(this._delegate,o)}get(){return dp(this._delegate).then(o=>new gu(this.database,o))}once(o,l,f,v){(0,te.Dv)("Query.once",1,4,arguments.length),(0,te.Wj)("Query.once","callback",l,!0);const T=Ro.getCancelAndContextArgs_("Query.once",f,v),R=new te.BH,Q=(we,_t)=>{const bt=new gu(this.database,we);l&&l.call(T.context,bt,_t),R.resolve(bt)};Q.userCallback=l,Q.context=T.context;const oe=we=>{T.cancel&&T.cancel.call(T.context,we),R.reject(we)};switch(o){case"value":bm(this._delegate,Q,oe,{onlyOnce:!0});break;case"child_added":vf(this._delegate,Q,oe,{onlyOnce:!0});break;case"child_removed":Cm(this._delegate,Q,oe,{onlyOnce:!0});break;case"child_changed":Tg(this._delegate,Q,oe,{onlyOnce:!0});break;case"child_moved":Ef(this._delegate,Q,oe,{onlyOnce:!0});break;default:throw new Error((0,te.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return R.promise}limitToFirst(o){return(0,te.Dv)("Query.limitToFirst",1,1,arguments.length),new Ro(this.database,Ya(this._delegate,function dh(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new uy(u)}(o)))}limitToLast(o){return(0,te.Dv)("Query.limitToLast",1,1,arguments.length),new Ro(this.database,Ya(this._delegate,function cy(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hh(u)}(o)))}orderByChild(o){return(0,te.Dv)("Query.orderByChild",1,1,arguments.length),new Ro(this.database,Ya(this._delegate,function dy(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bu("orderByChild","path",u,!1),new wd(u)}(o)))}orderByKey(){return(0,te.Dv)("Query.orderByKey",0,0,arguments.length),new Ro(this.database,Ya(this._delegate,function Og(){return new Rg}()))}orderByPriority(){return(0,te.Dv)("Query.orderByPriority",0,0,arguments.length),new Ro(this.database,Ya(this._delegate,function wf(){return new dl}()))}orderByValue(){return(0,te.Dv)("Query.orderByValue",0,0,arguments.length),new Ro(this.database,Ya(this._delegate,function xc(){return new Mo}()))}startAt(o=null,l){return(0,te.Dv)("Query.startAt",0,2,arguments.length),new Ro(this.database,Ya(this._delegate,function xg(u=null,o){return nh("startAt","key",o,!0),new Dm(u,o)}(o,l)))}startAfter(o=null,l){return(0,te.Dv)("Query.startAfter",0,2,arguments.length),new Ro(this.database,Ya(this._delegate,function Mg(u,o){return nh("startAfter","key",o,!0),new ju(u,o)}(o,l)))}endAt(o=null,l){return(0,te.Dv)("Query.endAt",0,2,arguments.length),new Ro(this.database,Ya(this._delegate,function ch(u,o){return nh("endAt","key",o,!0),new uh(u,o)}(o,l)))}endBefore(o=null,l){return(0,te.Dv)("Query.endBefore",0,2,arguments.length),new Ro(this.database,Ya(this._delegate,function Ag(u,o){return nh("endBefore","key",o,!0),new fp(u,o)}(o,l)))}equalTo(o,l){return(0,te.Dv)("Query.equalTo",1,2,arguments.length),new Ro(this.database,Ya(this._delegate,function qa(u,o){return nh("equalTo","key",o,!0),new fh(u,o)}(o,l)))}toString(){return(0,te.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,te.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(o){if((0,te.Dv)("Query.isEqual",1,1,arguments.length),!(o instanceof Ro))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(o._delegate)}static getCancelAndContextArgs_(o,l,f){const v={cancel:void 0,context:void 0};if(l&&f)v.cancel=l,(0,te.Wj)(o,"cancel",v.cancel,!0),v.context=f,(0,te.lb)(o,"context",v.context,!0);else if(l)if("object"==typeof l&&null!==l)v.context=l;else{if("function"!=typeof l)throw new Error((0,te.gK)(o,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=l}return v}get ref(){return new hl(this.database,new cl(this._delegate._repo,this._delegate._path))}}class hl extends Ro{constructor(o,l){super(o,new ta(l._repo,l._path,new Jc,!1)),this.database=o,this._delegate=l}getKey(){return(0,te.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(o){return(0,te.Dv)("Reference.child",1,1,arguments.length),"number"==typeof o&&(o=String(o)),new hl(this.database,fu(this._delegate,o))}getParent(){(0,te.Dv)("Reference.parent",0,0,arguments.length);const o=this._delegate.parent;return o?new hl(this.database,o):null}getRoot(){return(0,te.Dv)("Reference.root",0,0,arguments.length),new hl(this.database,this._delegate.root)}set(o,l){(0,te.Dv)("Reference.set",1,2,arguments.length),(0,te.Wj)("Reference.set","onComplete",l,!0);const f=cp(this._delegate,o);return l&&f.then(()=>l(null),v=>l(v)),f}update(o,l){if((0,te.Dv)("Reference.update",1,2,arguments.length),Array.isArray(o)){const v={};for(let T=0;T<o.length;++T)v[""+T]=o[T];o=v,_p("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ca("Reference.update",this._delegate._path),(0,te.Wj)("Reference.update","onComplete",l,!0);const f=Dg(this._delegate,o);return l&&f.then(()=>l(null),v=>l(v)),f}setWithPriority(o,l,f){(0,te.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,te.Wj)("Reference.setWithPriority","onComplete",f,!0);const v=function Cg(u,o,l){if(Ca("setWithPriority",u._path),uu("setWithPriority",o,u._path,!1),Tc("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const f=new te.BH;return gf(u._repo,u._path,o,l,f.wrapCallback(()=>{})),f.promise}(this._delegate,o,l);return f&&v.then(()=>f(null),T=>f(T)),v}remove(o){(0,te.Dv)("Reference.remove",0,1,arguments.length),(0,te.Wj)("Reference.remove","onComplete",o,!0);const l=function Yy(u){return Ca("remove",u._path),cp(u,null)}(this._delegate);return o&&l.then(()=>o(null),f=>o(f)),l}transaction(o,l,f){(0,te.Dv)("Reference.transaction",1,3,arguments.length),(0,te.Wj)("Reference.transaction","transactionUpdate",o,!1),(0,te.Wj)("Reference.transaction","onComplete",l,!0),function(u,o,l,f){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,te.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const v=function yp(u,o,l){var f;if(u=(0,te.m9)(u),Ca("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const v=null===(f=null==l?void 0:l.applyLocally)||void 0===f||f,T=new te.BH,Q=bm(u,()=>{});return function _d(u,o,l,f,v,T){du(u,"transaction on "+o);const R={path:o,update:l,onComplete:f,status:null,order:Zu(),applyLocally:T,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Q=Ol(u,o,void 0);R.currentInputSnapshot=Q;const oe=R.update(Q.val());if(void 0===oe)R.unwatcher(),R.currentOutputSnapshotRaw=null,R.currentOutputSnapshotResolved=null,R.onComplete&&R.onComplete(null,!1,R.currentInputSnapshot);else{ba("transaction failed: Data returned ",oe,R.path),R.status=0;const we=fd(u.transactionQueueTree_,o),_t=Dc(we)||[];let bt;_t.push(R),ep(we,_t),"object"==typeof oe&&null!==oe&&(0,te.r3)(oe,".priority")?(bt=(0,te.DV)(oe,".priority"),(0,te.hu)(th(bt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):bt=(Fu(u.serverSyncTree_,o)||mr.EMPTY_NODE).getPriority().val();const $t=Vu(u),on=zi(oe,bt),mn=tf(on,Q,$t);R.currentOutputSnapshotRaw=on,R.currentOutputSnapshotResolved=mn,R.currentWriteId=pf(u);const br=Jh(u.serverSyncTree_,o,mn,R.currentWriteId,R.applyLocally);ea(u.eventQueue_,o,br),sh(u,u.transactionQueueTree_)}}(u._repo,u._path,o,(oe,we,_t)=>{let bt=null;oe?T.reject(oe):(bt=new Ed(_t,new cl(u._repo,u._path),Sr),T.resolve(new mp(we,bt)))},Q,v),T.promise}(this._delegate,o,{applyLocally:f}).then(T=>new Hg(T.committed,new gu(this.database,T.snapshot)));return l&&v.then(T=>l(null,T.committed,T.snapshot),T=>l(T,!1,null)),v}setPriority(o,l){(0,te.Dv)("Reference.setPriority",1,2,arguments.length),(0,te.Wj)("Reference.setPriority","onComplete",l,!0);const f=function bg(u,o){u=(0,te.m9)(u),Ca("setPriority",u._path),Tc("setPriority",o,!1);const l=new te.BH;return gf(u._repo,Ni(u._path,".priority"),o,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,o);return l&&f.then(()=>l(null),v=>l(v)),f}push(o,l){(0,te.Dv)("Reference.push",0,2,arguments.length),(0,te.Wj)("Reference.push","onComplete",l,!0);const f=function Ig(u,o){u=(0,te.m9)(u),Ca("push",u._path),uu("push",o,u._path,!0);const l=ff(u._repo),f=Oh(l),v=fu(u,f),T=fu(u,f);let R;return R=null!=o?cp(T,o).then(()=>T):Promise.resolve(T),v.then=R.then.bind(R),v.catch=R.then.bind(R,void 0),v}(this._delegate,o),v=f.then(R=>new hl(this.database,R));l&&v.then(()=>l(null),R=>l(R));const T=new hl(this.database,f);return T.then=v.then.bind(v),T.catch=v.catch.bind(v,void 0),T}onDisconnect(){return Ca("Reference.onDisconnect",this._delegate._path),new hy(new Eg(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class If{constructor(o,l){this._delegate=o,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:pp,forceLongPolling:kg}}useEmulator(o,l,f={}){!function Tm(u,o,l,f={}){(u=(0,te.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&ii("Cannot call useEmulator() after instance has already been initialized.");const v=u._repoInternal;let T;if(v.repoInfo_.nodeAdmin)f.mockUserToken&&ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Ks(Ks.OWNER);else if(f.mockUserToken){const R="string"==typeof f.mockUserToken?f.mockUserToken:(0,te.Sg)(f.mockUserToken,u.app.options.projectId);T=new Ks(R)}!function Mc(u,o,l,f){u.repoInfo_=new Rt(`${o}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),f&&(u.authTokenProvider_=f)}(v,o,l,T)}(this._delegate,o,l,f)}ref(o){if((0,te.Dv)("database.ref",0,1,arguments.length),o instanceof hl){const l=ly(this._delegate,o.toString());return new hl(this,l)}{const l=wg(this._delegate,o);return new hl(this,l)}}refFromURL(o){(0,te.Dv)("database.refFromURL",1,1,arguments.length);const f=ly(this._delegate,o);return new hl(this,f)}goOffline(){return(0,te.Dv)("database.goOffline",0,0,arguments.length),function Sm(u){(u=(0,te.m9)(u))._checkNotDeleted("goOffline"),yd(u._repo)}(this._delegate)}goOnline(){return(0,te.Dv)("database.goOnline",0,0,arguments.length),function Am(u){(u=(0,te.m9)(u))._checkNotDeleted("goOnline"),function gg(u){u.persistentConnection_&&u.persistentConnection_.resume(ip)}(u._repo)}(this._delegate)}}If.ServerValue={TIMESTAMP:function Lg(){return Fg}(),increment:u=>function Bg(u){return{".sv":{increment:u}}}(u)};var fy=Object.freeze({__proto__:null,initStandalone:function Zy({app:u,url:o,version:l,customAuthImpl:f,namespace:v,nodeAdmin:T=!1}){_a(l);const R=new cn.zt("auth-internal",new cn.H0("database-standalone"));return R.setComponent(new cn.wA("auth-internal",()=>f,"PRIVATE")),{instance:new If(Hu(u,R,void 0,o,T),u),namespace:v}}});const Om=If.ServerValue;!function Xy(u){u.INTERNAL.registerComponent(new cn.wA("database-compat",(o,{instanceIdentifier:l})=>{const f=o.getProvider("app-compat").getImmediate(),v=o.getProvider("database").getImmediate({identifier:l});return new If(v,f)},"PUBLIC").setServiceProps({Reference:hl,Query:Ro,Database:If,DataSnapshot:gu,enableLogging:xm,INTERNAL:fy,ServerValue:Om}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.0")}(Lr.Z);var mu=P(3385);function vp(u){return null==u}function Gg(u){return"function"==typeof u.set}function yh(u,o){return Gg(o)?o:u.ref(o)}function Qr(u,o){if(function Oc(u){return"string"==typeof u}(u))return o.stringCase();if(Gg(u))return o.firebaseCase();if(function Pm(u){return"function"==typeof u.exportVal}(u))return o.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function _h(u,o,l="on",f=$i.z){return new wi.y(v=>{let T=null;return T=u[l](o,(R,Q)=>{f.schedule(()=>{v.next({snapshot:R,prevKey:Q})}),"once"===l&&f.schedule(()=>v.complete())},R=>{f.schedule(()=>v.error(R))}),"on"===l?{unsubscribe(){null!=T&&u.off(o,T)}}:{unsubscribe(){}}}).pipe((0,gi.U)(v=>{const{snapshot:T,prevKey:R}=v;let Q=null;return T.exists()&&(Q=T.key),{type:o,payload:T,prevKey:R,key:Q}}),(0,He.B)())}function vh(u,o){const l=u.length;for(let f=0;f<l;f++)if(u[f].payload.key===o)return f;return-1}function vs(u,o){const{payload:l,prevKey:f,key:v}=o,T=vh(u,v),R=function py(u,o){if(vp(o))return 0;{const l=vh(u,o);return-1===l?u.length:l+1}}(u,f);switch(o.type){case"value":if(o.payload&&o.payload.exists()){let Q=null;o.payload.forEach(oe=>{const we={payload:oe,type:"value",prevKey:Q,key:oe.key};return Q=oe.key,u=[...u,we],!1})}return u;case"child_added":if(T>-1){const Q=u[T-1];(Q&&Q.key||null)!==f&&(u=u.filter(oe=>oe.payload.key!==l.key)).splice(R,0,o)}else{if(null==f)return[o,...u];(u=u.slice()).splice(R,0,o)}return u;case"child_removed":return u.filter(Q=>Q.payload.key!==l.key);case"child_changed":return u.map(Q=>Q.payload.key===v?o:Q);case"child_moved":if(T>-1){const Q=u.splice(T,1)[0];return(u=u.slice()).splice(R,0,Q),u}return u;default:return u}}function jo(u){return(vp(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function kl(u,o,l){return function zg(u,o,l){return _h(u,"value","once",l).pipe((0,yi.w)(f=>{const v=[(0,Yr.of)(f)];return o.forEach(T=>v.push(_h(u,T,"on",l))),(0,le.T)(...v).pipe((0,Vt.R)(vs,[]))}),(0,Dn.x)())}(u,o=jo(o),l)}function Ep(u,o,l){const f=(o=jo(o)).map(v=>_h(u,v,"on",l));return(0,le.T)(...f)}function Cf(u,o){return function(f,v){return Qr(f,{stringCase:()=>u.child(f)[o](v),firebaseCase:()=>f[o](v),snapshotCase:()=>f.ref[o](v)})}}function Qy(u){return function(l){return l?Qr(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function km(u,o){return function(){return _h(u,"value","on",o)}}const Yi=new J.OlP("angularfire2.realtimeDatabaseURL"),my=new J.OlP("angularfire2.database.use-emulator");let Nm=(()=>{class u{constructor(l,f,v,T,R,Q,oe,we,_t,bt,$t,on,mn,br,Kr){this.schedulers=Q;const lo=oe,uo=(0,Hr.on)(l,R,f);we&&(0,mu.nw)(uo,R,_t,$t,on,mn,bt,br),this.database=(0,Hr.cc)(`${uo.name}.database.${v}`,"AngularFireDatabase",uo.name,()=>{const As=R.runOutsideAngular(()=>uo.database(v||void 0));return lo&&As.useEmulator(...lo),As},[lo])}list(l,f){const v=this.schedulers.ngZone.runOutsideAngular(()=>yh(this.database,l));let T=v;return f&&(T=f(v)),function Df(u,o){const l=o.schedulers.outsideAngular,f=o.schedulers.ngZone.run(()=>u.ref);return{query:u,update:Cf(f,"update"),set:Cf(f,"set"),push:v=>f.push(v),remove:Qy(f),snapshotChanges:v=>kl(u,v,l).pipe(Tr.iC),stateChanges:v=>Ep(u,v,l).pipe(Tr.iC),auditTrail:v=>function gy(u,o,l){return function Wg(u,o,l){return function bf(u,o){return _h(u,"value","on",o).pipe((0,gi.U)(l=>{let f;return l.payload.forEach(v=>(f=v.key,!1)),{data:l,lastKeyToLoad:f}}))}(u,l).pipe(function Fs(...u){const o=(0,Xr.jO)(u);return(0,kr.e)((l,f)=>{const v=u.length,T=new Array(v);let R=u.map(()=>!1),Q=!1;for(let oe=0;oe<v;oe++)(0,_r.Xf)(u[oe]).subscribe((0,pi.x)(f,we=>{T[oe]=we,!Q&&!R[oe]&&(R[oe]=!0,(Q=R.every(Vn.y))&&(R=null))},zr.Z));l.subscribe((0,pi.x)(f,oe=>{if(Q){const we=[oe,...T];f.next(o?o(...we):we)}}))})}(o),(0,gi.U)(([v,T])=>{const R=v.lastKeyToLoad,Q=T.map(oe=>oe.key);return{actions:T,lastKeyToLoad:R,loadedKeys:Q}}),function qo(u){return(0,kr.e)((o,l)=>{let f=!1,v=0;o.subscribe((0,pi.x)(l,T=>(f||(f=!u(T,v++)))&&l.next(T)))})}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,gi.U)(v=>v.actions))}(u,Ep(u,o).pipe((0,Vt.R)((v,T)=>[...v,T],[])),l)}(u,v,l).pipe(Tr.iC),valueChanges:(v,T)=>kl(u,v,l).pipe((0,gi.U)(Q=>Q.map(oe=>T&&T.idField?Object.assign(Object.assign({},oe.payload.val()),{[T.idField]:oe.key}):oe.payload.val())),Tr.iC)}}(T,this)}object(l){return function Jy(u,o){return{query:u,snapshotChanges:()=>km(u,o.schedulers.outsideAngular)().pipe(Tr.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>km(u,o.schedulers.outsideAngular)().pipe(Tr.iC,(0,gi.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>yh(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(Hr.Dh),J.LFG(Hr.xv,8),J.LFG(Yi,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(Tr.HU),J.LFG(my,8),J.LFG(mu.zQ,8),J.LFG(mu.Qv,8),J.LFG(mu.L6,8),J.LFG(mu._Q,8),J.LFG(mu.rT,8),J.LFG(mu.lh,8),J.LFG(mu.f7,8),J.LFG(Ko.nm,8))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Us=(()=>{class u{constructor(){bo.Z.registerVersion("angularfire",Tr.q4.full,"rtdb-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=J.oAB({type:u}),u.\u0275inj=J.cJS({providers:[Nm]}),u})();var Tf=P(8161);const Sf_firebase={apiKey:"AIzaSyBY3Sfork3oMSXgDsmymDelMcku9ctk3MA",authDomain:"harware-8f5e9.firebaseapp.com",projectId:"harware-8f5e9",storageBucket:"harware-8f5e9.appspot.com",messagingSenderId:"162423168685",appId:"1:162423168685:web:23de3cfbe4e6b35fcdb024",measurementId:"G-VECW99Z6VL"};var wp=P(1328);let Gu=(()=>{class u{constructor(l,f){this.authService=l,this.router=f}canActivate(){const l=JSON.parse(localStorage.getItem("user")||"null");return!(!l||!l.emailVerified)||this.router.parseUrl("/login")}}return u.\u0275fac=function(l){return new(l||u)(J.LFG(wp.u),J.LFG(Bn.F0))},u.\u0275prov=J.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const e_=[{path:"",loadChildren:()=>P.e(8388).then(P.bind(P,8388)).then(u=>u.IndexPageModule)},{path:"",loadChildren:()=>Promise.all([P.e(8592),P.e(4851)]).then(P.bind(P,4851)).then(u=>u.HomePageModule),canActivate:[Gu]},{path:"order",loadChildren:()=>Promise.all([P.e(8592),P.e(8838)]).then(P.bind(P,8838)).then(u=>u.OrderPageModule),canActivate:[Gu]},{path:"order-menu",loadChildren:()=>Promise.all([P.e(8592),P.e(2818)]).then(P.bind(P,2818)).then(u=>u.OrderMenuPageModule),canActivate:[Gu]},{path:"forgot",loadChildren:()=>Promise.all([P.e(8592),P.e(4479)]).then(P.bind(P,4479)).then(u=>u.ForgotPageModule)},{path:"products",loadChildren:()=>Promise.all([P.e(8592),P.e(1240)]).then(P.bind(P,1240)).then(u=>u.ProductsPageModule),canActivate:[Gu]},{path:"verify-email",loadChildren:()=>P.e(5640).then(P.bind(P,5640)).then(u=>u.VerifyEmailPageModule)},{path:"cart-modal",loadChildren:()=>P.e(1671).then(P.bind(P,1671)).then(u=>u.CartModalPageModule),canActivate:[Gu]},{path:"cart",loadChildren:()=>Promise.all([P.e(8592),P.e(5213)]).then(P.bind(P,5213)).then(u=>u.CartPageModule),canActivate:[Gu]},{path:"checkout",loadChildren:()=>Promise.all([P.e(8592),P.e(7135)]).then(P.bind(P,7135)).then(u=>u.CheckoutPageModule)},{path:"receipt",loadChildren:()=>P.e(4393).then(P.bind(P,4393)).then(u=>u.ReceiptPageModule)}];let yy=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=J.oAB({type:u}),u.\u0275inj=J.cJS({imports:[[Bn.Bz.forRoot(e_,{preloadingStrategy:Bn.wm})],Bn.Bz]}),u})(),Ip=(()=>{class u{constructor(){}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275cmp=J.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(l,f){1&l&&(J.TgZ(0,"ion-app"),J._UZ(1,"ion-router-outlet"),J.qZA())},directives:[Tf.dr,Tf.jP],styles:[""]}),u})();var bp=P(520),Fm=P(2382);let Lm=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=J.oAB({type:u,bootstrap:[Ip]}),u.\u0275inj=J.cJS({providers:[{provide:Bn.wN,useClass:Tf.r4}],imports:[[Ln,Fm.u5,mu.ww,W,Us,Hr.hO.initializeApp(Sf_firebase),bp.JF,Tf.Pc.forRoot(),yy]]}),u})();(0,J.G48)(),qn([{provide:c.mr,useValue:"/Hardware/"}]).bootstrapModule(Lm).catch(u=>console.log(u))},5867:(Zt,at,P)=>{"use strict";P.d(at,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=P(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Zt,at,P)=>{"use strict";P.d(at,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Zt,at,P)=>{"use strict";P.r(at);var c=P(5861),J=P(3942),q=P(2090),Me=P(9681),Re=P(655),Ee=P(1877),ve=P(4859);const tt=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new Ee.Yd("@firebase/auth");function st(I,...g){De.logLevel<=Ee.in.ERROR&&De.error(`Auth (${Me.SDK_VERSION}): ${I}`,...g)}function ot(I,...g){throw Ke(I,...g)}function Ze(I,...g){return Ke(I,...g)}function ze(I,g,_){const A=Object.assign(Object.assign({},Fe()),{[g]:_});return new q.LL("auth","Firebase",A).create(g,{appName:I.name})}function $e(I,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ot(I,"argument-error"),ze(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(I,...g){if("string"!=typeof I){const _=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(_,...A)}return Se.create(I,...g)}function ee(I,g,..._){if(!I)throw Ke(g,..._)}function Qe(I){const g="INTERNAL ASSERTION FAILED: "+I;throw st(g),new Error(g)}function he(I,g){I||Qe(g)}const ye=new Map;function ge(I){he(I instanceof Function,"Expected a class definition");let g=ye.get(I);return g?(he(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,ye.set(I,g),g)}function pt(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Gt(){return"http:"===yt()||"https:"===yt()}function yt(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ct{constructor(g,_){this.shortDelay=g,this.longDelay=_,he(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ft(I,g){he(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Et{static initialize(g,_,A){this.fetchImpl=g,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kt=new Ct(3e4,6e4);function Nt(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function wt(I,g,_,A){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(I,g,_,A,K={}){return Cn(I,K,(0,c.Z)(function*(){let de={},ut={};A&&("GET"===g?ut=A:de={body:JSON.stringify(A)});const jt=(0,q.xO)(Object.assign({key:I.config.apiKey},ut)).slice(1),sn=yield I._getAdditionalHeaders();return sn["Content-Type"]="application/json",I.languageCode&&(sn["X-Firebase-Locale"]=I.languageCode),Et.fetch()(tr(I,I.config.apiHost,_,jt),Object.assign({method:g,headers:sn,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function Cn(I,g,_){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(I,g,_){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},lt),g);try{const K=new Ln(I),de=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const ut=yield de.json();if("needConfirmation"in ut)throw kn(I,"account-exists-with-different-credential",ut);if(de.ok&&!("errorMessage"in ut))return ut;{const jt=de.ok?ut.errorMessage:ut.error.message,[sn,bn]=jt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw kn(I,"credential-already-in-use",ut);if("EMAIL_EXISTS"===sn)throw kn(I,"email-already-in-use",ut);if("USER_DISABLED"===sn)throw kn(I,"user-disabled",ut);const Gn=A[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw ze(I,Gn,bn);ot(I,Gn)}}catch(K){if(K instanceof q.ZR)throw K;ot(I,"network-request-failed")}})).apply(this,arguments)}function fn(I,g,_,A){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(I,g,_,A,K={}){const de=yield wt(I,g,_,A,K);return"mfaPendingCredential"in de&&ot(I,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function tr(I,g,_,A){const K=`${g}${_}?${A}`;return I.config.emulator?ft(I.config,K):`${I.config.apiScheme}://${K}`}class Ln{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(Ze(this.auth,"network-request-failed")),Kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(I,g,_){const A={appName:I.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=Ze(I,g,A);return K.customData._tokenResponse=_,K}function qr(){return(qr=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Wn(I,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $r(I,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Lt(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function At(){return(At=(0,c.Z)(function*(I,g=!1){const _=(0,q.m9)(I),A=yield _.getIdToken(g),K=Wt(A);ee(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const de="object"==typeof K.firebase?K.firebase:void 0,ut=null==de?void 0:de.sign_in_provider;return{claims:K,token:A,authTime:Lt(vt(K.auth_time)),issuedAtTime:Lt(vt(K.iat)),expirationTime:Lt(vt(K.exp)),signInProvider:ut||null,signInSecondFactor:(null==de?void 0:de.sign_in_second_factor)||null}})).apply(this,arguments)}function vt(I){return 1e3*Number(I)}function Wt(I){const[g,_,A]=I.split(".");if(void 0===g||void 0===_||void 0===A)return st("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,q.tV)(_);return K?JSON.parse(K):(st("Failed to decode base64 JWT payload"),null)}catch(K){return st("Caught error parsing JWT payload as JSON",K),null}}function Un(I,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(A){throw A instanceof q.ZR&&pn(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}function pn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class ei{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),A)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class hr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ar(I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(I){var g;const _=I.auth,A=yield I.getIdToken(),K=yield Un(I,$r(_,{idToken:A}));ee(null==K?void 0:K.users.length,_,"internal-error");const de=K.users[0];I._notifyReloadListener(de);const ut=(null===(g=de.providerUserInfo)||void 0===g?void 0:g.length)?Be(de.providerUserInfo):[],jt=xt(I.providerData,ut),Gn=!!I.isAnonymous&&!(I.email&&de.passwordHash||(null==jt?void 0:jt.length)),Kn={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:jt,metadata:new hr(de.createdAt,de.lastLoginAt),isAnonymous:Gn};Object.assign(I,Kn)})).apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(I){const g=(0,q.m9)(I);yield Ar(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function xt(I,g){return[...I.filter(A=>!g.some(K=>K.providerId===A.providerId)),...g]}function Be(I){return I.map(g=>{var{providerId:_}=g,A=(0,Re._T)(g,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Ht(){return(Ht=(0,c.Z)(function*(I,g){const _=yield Cn(I,{},(0,c.Z)(function*(){const A=(0,q.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:K,apiKey:de}=I.config,ut=tr(I,K,"/v1/token",`key=${de}`),jt=yield I._getAdditionalHeaders();return jt["Content-Type"]="application/x-www-form-urlencoded",Et.fetch()(ut,{method:"POST",headers:jt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(void 0!==g.idToken,"internal-error"),ee(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function It(I){const g=Wt(I);return ee(g,"internal-error"),ee(void 0!==g.exp,"internal-error"),ee(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var A=this;return(0,c.Z)(function*(){return ee(!A.accessToken||A.refreshToken,g,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var A=this;return(0,c.Z)(function*(){const{accessToken:K,refreshToken:de,expiresIn:ut}=yield function gt(I,g){return Ht.apply(this,arguments)}(g,_);A.updateTokensAndExpiration(K,de,Number(ut))})()}updateTokensAndExpiration(g,_,A){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,_){const{refreshToken:A,accessToken:K,expirationTime:de}=_,ut=new rn;return A&&(ee("string"==typeof A,"internal-error",{appName:g}),ut.refreshToken=A),K&&(ee("string"==typeof K,"internal-error",{appName:g}),ut.accessToken=K),de&&(ee("number"==typeof de,"internal-error",{appName:g}),ut.expirationTime=de),ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rn,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function vn(I,g){ee("string"==typeof I||void 0===I,"internal-error",{appName:g})}class wn{constructor(g){var{uid:_,auth:A,stsTokenManager:K}=g,de=(0,Re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new hr(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,c.Z)(function*(){const A=yield Un(_,_.stsTokenManager.getToken(_.auth,g));return ee(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(g){return function Je(I){return At.apply(this,arguments)}(this,g)}reload(){return function je(I){return Xe.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new wn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var A=this;return(0,c.Z)(function*(){let K=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),K=!0),_&&(yield Ar(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,c.Z)(function*(){const _=yield g.getIdToken();return yield Un(g,function _n(I,g){return qr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var A,K,de,ut,jt,sn,bn,Gn;const Kn=null!==(A=_.displayName)&&void 0!==A?A:void 0,_s=null!==(K=_.email)&&void 0!==K?K:void 0,da=null!==(de=_.phoneNumber)&&void 0!==de?de:void 0,ed=null!==(ut=_.photoURL)&&void 0!==ut?ut:void 0,jf=null!==(jt=_.tenantId)&&void 0!==jt?jt:void 0,ru=null!==(sn=_._redirectEventId)&&void 0!==sn?sn:void 0,zd=null!==(bn=_.createdAt)&&void 0!==bn?bn:void 0,Nh=null!==(Gn=_.lastLoginAt)&&void 0!==Gn?Gn:void 0,{uid:Qo,emailVerified:dc,isAnonymous:Wd,providerData:td,stsTokenManager:nd}=_;ee(Qo&&nd,g,"internal-error");const rd=rn.fromJSON(this.name,nd);ee("string"==typeof Qo,g,"internal-error"),vn(Kn,g.name),vn(_s,g.name),ee("boolean"==typeof dc,g,"internal-error"),ee("boolean"==typeof Wd,g,"internal-error"),vn(da,g.name),vn(ed,g.name),vn(jf,g.name),vn(ru,g.name),vn(zd,g.name),vn(Nh,g.name);const Al=new wn({uid:Qo,auth:g,email:_s,emailVerified:dc,displayName:Kn,isAnonymous:Wd,photoURL:ed,phoneNumber:da,tenantId:jf,stsTokenManager:rd,createdAt:zd,lastLoginAt:Nh});return td&&Array.isArray(td)&&(Al.providerData=td.map(hc=>Object.assign({},hc))),ru&&(Al._redirectEventId=ru),Al}static _fromIdTokenResponse(g,_,A=!1){return(0,c.Z)(function*(){const K=new rn;K.updateFromServerResponse(_);const de=new wn({uid:_.localId,auth:g,stsTokenManager:K,isAnonymous:A});return yield Ar(de),de})()}}const In=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,A){var K=this;return(0,c.Z)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,c.Z)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,c.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return I.type="NONE",I})();function rr(I,g,_){return`firebase:${I}:${g}:${_}`}class Pr{constructor(g,_,A){this.persistence=g,this.auth=_,this.userKey=A;const{config:K,name:de}=this.auth;this.fullUserKey=rr(this.userKey,K.apiKey,de),this.fullPersistenceKey=rr("persistence",K.apiKey,de),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?wn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,c.Z)(function*(){if(_.persistence===g)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,A="authUser"){return(0,c.Z)(function*(){if(!_.length)return new Pr(ge(In),g,A);const K=(yield Promise.all(_.map(function(){var bn=(0,c.Z)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let de=K[0]||ge(In);const ut=rr(A,g.config.apiKey,g.name);let jt=null;for(const bn of _)try{const Gn=yield bn._get(ut);if(Gn){const Kn=wn._fromJSON(g,Gn);bn!==de&&(jt=Kn),de=bn;break}}catch(Gn){}const sn=K.filter(bn=>bn._shouldAllowMigration);return de._shouldAllowMigration&&sn.length?(de=sn[0],jt&&(yield de._set(ut,jt.toJSON())),yield Promise.all(_.map(function(){var bn=(0,c.Z)(function*(Gn){if(Gn!==de)try{yield Gn._remove(ut)}catch(Kn){}});return function(Gn){return bn.apply(this,arguments)}}())),new Pr(de,g,A)):new Pr(de,g,A)})()}}function Fi(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Yr(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Hr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if($i(g))return"Blackberry";if(kr(g))return"Webos";if(Bn(g))return"Safari";if((g.includes("chrome/")||wi(g))&&!g.includes("edge/"))return"Chrome";if(jr(g))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Hr(I=(0,q.z$)()){return/firefox\//i.test(I)}function Bn(I=(0,q.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function wi(I=(0,q.z$)()){return/crios\//i.test(I)}function Yr(I=(0,q.z$)()){return/iemobile/i.test(I)}function jr(I=(0,q.z$)()){return/android/i.test(I)}function $i(I=(0,q.z$)()){return/blackberry/i.test(I)}function kr(I=(0,q.z$)()){return/webos/i.test(I)}function pi(I=(0,q.z$)()){return/iphone|ipad|ipod/i.test(I)}function Tr(I=(0,q.z$)()){return pi(I)||jr(I)||kr(I)||$i(I)||/windows phone/i.test(I)||Yr(I)}function oi(I,g=[]){let _;switch(I){case"Browser":_=Fi((0,q.z$)());break;case"Worker":_=`${Fi((0,q.z$)())}-${I}`;break;default:_=I}const A=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Me.SDK_VERSION}/${A}`}class jn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const A=de=>new Promise((ut,jt)=>{try{ut(g(de))}catch(sn){jt(sn)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===g)return;const A=[];try{for(const K of _.queue)yield K(g),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const de of A)try{de()}catch(ut){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K.message})}})()}}class te{constructor(g,_,A){this.app=g,this.heartbeatServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zn(this),this.idTokenSubscription=new Zn(this),this.beforeStateQueue=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,_){var A=this;return _&&(this._popupRedirectResolver=ge(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var K,de;if(!A._deleted&&(A.persistenceManager=yield Pr.create(A,g),!A._deleted)){if(null===(K=A._popupRedirectResolver)||void 0===K?void 0:K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(ut){}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(de=A.currentUser)||void 0===de?void 0:de.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,c.Z)(function*(){var A;const K=yield _.assertedPersistence.getCurrentUser();let de=K,ut=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const jt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,sn=null==de?void 0:de._redirectEventId,bn=yield _.tryRedirectSignIn(g);(!jt||jt===sn)&&(null==bn?void 0:bn.user)&&(de=bn.user,ut=!0)}if(!de)return _.directlySetCurrentUser(null);if(!de._redirectEventId){if(ut)try{yield _.beforeStateQueue.runMiddleware(de)}catch(jt){de=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(jt))}return de?_.reloadAndSetCurrentUserOrClear(de):_.directlySetCurrentUser(null)}return ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===de._redirectEventId?_.directlySetCurrentUser(de):_.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(g){var _=this;return(0,c.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(K){yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,c.Z)(function*(){try{yield Ar(g)}catch(A){if("auth/network-request-failed"!==A.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function We(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){const A=g?(0,q.m9)(g):null;return A&&ee(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(g,_=!1){var A=this;return(0,c.Z)(function*(){if(!A._deleted)return g&&ee(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,c.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ge(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new q.LL("auth","Firebase",g())}onAuthStateChanged(g,_,A){return this.registerStateListener(this.authStateSubscription,g,_,A)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,A){return this.registerStateListener(this.idTokenSubscription,g,_,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var A=this;return(0,c.Z)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===g?K.removeCurrentUser():K.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const A=g&&ge(g)||_._popupRedirectResolver;ee(A,_,"argument-error"),_.redirectPersistenceManager=yield Pr.create(_,[ge(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,c.Z)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===g?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,c.Z)(function*(){if(g===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,A,K){if(this._deleted)return()=>{};const de="function"==typeof _?_:_.next.bind(_),ut=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(ut,this,"internal-error"),ut.then(()=>de(this.currentUser)),"function"==typeof _?g.addObserver(_,A,K):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=oi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var _;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const K=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return K&&(A["X-Firebase-Client"]=K),A})()}}function cn(I){return(0,q.m9)(I)}class Zn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,q.ne)(_=>this.observer=_)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ai(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function or(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class mi{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Qe("not implemented")}_getIdTokenResponse(g){return Qe("not implemented")}_linkToIdToken(g,_){return Qe("not implemented")}_getReauthenticationResolver(g){return Qe("not implemented")}}function xr(I,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:resetPassword",Nt(I,g))})).apply(this,arguments)}function Li(I,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zi(I,g){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:update",Nt(I,g))})).apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithPassword",Nt(I,g))})).apply(this,arguments)}function Si(I,g){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:sendOobCode",Nt(I,g))})).apply(this,arguments)}function pe(I,g){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(I,g){return Si(I,g)})).apply(this,arguments)}function ct(I,g){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(I,g){return Si(I,g)})).apply(this,arguments)}function xe(I,g){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(I,g){return Si(I,g)})).apply(this,arguments)}function Bt(I,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(I,g){return Si(I,g)})).apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithEmailLink",Nt(I,g))})).apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithEmailLink",Nt(I,g))})).apply(this,arguments)}class nr extends mi{constructor(g,_,A,K=null){super("password",A),this._email=g,this._password=_,this._tenantId=K}static _fromEmailAndPassword(g,_){return new nr(g,_,"password")}static _fromEmailAndCode(g,_,A=null){return new nr(g,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function Cr(I,g){return ui.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function kt(I,g){return ln.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ot(g,"internal-error")}})()}_linkToIdToken(g,_){var A=this;return(0,c.Z)(function*(){switch(A.signInMethod){case"password":return Li(g,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function An(I,g){return Xn.apply(this,arguments)}(g,{idToken:_,email:A._email,oobCode:A._password});default:ot(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ci(I,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithIdp",Nt(I,g))})).apply(this,arguments)}class Ge extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ge(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ot("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K}=_,de=(0,Re._T)(_,["providerId","signInMethod"]);if(!A||!K)return null;const ut=new Ge(A,K);return ut.idToken=de.idToken||void 0,ut.accessToken=de.accessToken||void 0,ut.secret=de.secret,ut.nonce=de.nonce,ut.pendingToken=de.pendingToken||null,ut}_getIdTokenResponse(g){return ci(g,this.buildRequest())}_linkToIdToken(g,_){const A=this.buildRequest();return A.idToken=_,ci(g,A)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ci(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,q.xO)(_)}return g}}function Dt(I,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:sendVerificationCode",Nt(I,g))})).apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithPhoneNumber",Nt(I,g))})).apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(I,g){const _=yield fn(I,"POST","/v1/accounts:signInWithPhoneNumber",Nt(I,g));if(_.temporaryProof)throw kn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ir={USER_NOT_FOUND:"user-not-found"};function js(){return(js=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithPhoneNumber",Nt(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ir)})).apply(this,arguments)}class Ai extends mi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ai({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ai({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Xt(I,g){return gn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function ur(I,g){return bi.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function is(I,g){return js.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:de}=g;return A||_||K||de?new Ai({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:de}):null}}class Qs{constructor(g){var _,A,K,de,ut,jt;const sn=(0,q.zd)((0,q.pd)(g)),bn=null!==(_=sn.apiKey)&&void 0!==_?_:null,Gn=null!==(A=sn.oobCode)&&void 0!==A?A:null,Kn=function na(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=sn.mode)&&void 0!==K?K:null);ee(bn&&Gn&&Kn,"argument-error"),this.apiKey=bn,this.operation=Kn,this.code=Gn,this.continueUrl=null!==(de=sn.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(ut=sn.languageCode)&&void 0!==ut?ut:null,this.tenantId=null!==(jt=sn.tenantId)&&void 0!==jt?jt:null}static parseLink(g){const _=function Es(I){const g=(0,q.zd)((0,q.pd)(I)).link,_=g?(0,q.zd)((0,q.pd)(g)).deep_link_id:null,A=(0,q.zd)((0,q.pd)(I)).deep_link_id;return(A?(0,q.zd)((0,q.pd)(A)).link:null)||A||_||g||I}(g);try{return new Qs(_)}catch(A){return null}}}let Ho=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,A){return nr._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=Qs.parseLink(A);return ee(K,"argument-error"),nr._fromEmailAndCode(_,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Pi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Jr extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ss extends Jr{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ee("providerId"in _&&"signInMethod"in _,"argument-error"),Ge._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),Ge._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ss.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ss.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:de,nonce:ut,providerId:jt}=g;if(!A&&!K&&!_&&!de||!jt)return null;try{return new ss(jt)._credential({idToken:_,accessToken:A,nonce:ut,pendingToken:de})}catch(sn){return null}}}let ws=(()=>{class I extends Jr{constructor(){super("facebook.com")}static credential(_){return Ge._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(A){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Is=(()=>{class I extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Ge._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return I.credential(A,K)}catch(de){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Go=(()=>{class I extends Jr{constructor(){super("github.com")}static credential(_){return Ge._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(A){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class os extends mi{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ci(g,this.buildRequest())}_linkToIdToken(g,_){const A=this.buildRequest();return A.idToken=_,ci(g,A)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ci(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K,pendingToken:de}=_;return A&&K&&de&&A===K?new os(A,de):null}static _create(g,_){return new os(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends Pi{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Bi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Bi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=os.fromJSON(g);return ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:A}=g;if(!_||!A)return null;try{return os._create(A,_)}catch(K){return null}}}let eo=(()=>{class I extends Jr{constructor(){super("twitter.com")}static credential(_,A){return Ge._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return I.credential(A,K)}catch(de){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Dr(I,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signUp",Nt(I,g))})).apply(this,arguments)}class as{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,A,K=!1){return(0,c.Z)(function*(){const de=yield wn._fromIdTokenResponse(g,A,K),ut=Xi(A);return new as({user:de,providerId:ut,_tokenResponse:A,operationType:_})})()}static _forOperation(g,_,A){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const K=Xi(A);return new as({user:g,providerId:K,_tokenResponse:A,operationType:_})})()}}function Xi(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Oo(){return(Oo=(0,c.Z)(function*(I){var g;const _=cn(I);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new as({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Dr(_,{returnSecureToken:!0}),K=yield as._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class Gr extends q.ZR{constructor(g,_,A,K){var de;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Gr.prototype),this.customData={appName:g.name,tenantId:null!==(de=g.tenantId)&&void 0!==de?de:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,_,A,K){return new Gr(g,_,A,K)}}function Ji(I,g,_,A){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Gr._fromErrorAndOperation(I,de,g,A):de})}function ls(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function yr(){return(yr=(0,c.Z)(function*(I,g){const _=(0,q.m9)(I);yield U(!0,_,g);const{providerUserInfo:A}=yield Wn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),K=ls(A||[]);return _.providerData=_.providerData.filter(de=>K.has(de.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function V(I,g){return se.apply(this,arguments)}function se(){return(se=(0,c.Z)(function*(I,g,_=!1){const A=yield Un(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return as._forOperation(I,"link",A)})).apply(this,arguments)}function U(I,g,_){return ue.apply(this,arguments)}function ue(){return(ue=(0,c.Z)(function*(I,g,_){yield Ar(g);const K=!1===I?"provider-already-linked":"no-such-provider";ee(ls(g.providerData).has(_)===I,g.auth,K)})).apply(this,arguments)}function Ue(I,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(I,g,_=!1){const{auth:A}=I,K="reauthenticate";try{const de=yield Un(I,Ji(A,K,g,I),_);ee(de.idToken,A,"internal-error");const ut=Wt(de.idToken);ee(ut,A,"internal-error");const{sub:jt}=ut;return ee(I.uid===jt,A,"user-mismatch"),as._forOperation(I,K,de)}catch(de){throw"auth/user-not-found"===(null==de?void 0:de.code)&&ot(A,"user-mismatch"),de}})).apply(this,arguments)}function qt(I,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(I,g,_=!1){const A="signIn",K=yield Ji(I,A,g),de=yield as._fromIdTokenResponse(I,A,K);return _||(yield I._updateCurrentUser(de.user)),de})).apply(this,arguments)}function On(I,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(I,g){return qt(cn(I),g)})).apply(this,arguments)}function ir(I,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(I,g){const _=(0,q.m9)(I);return yield U(!1,_,g.providerId),V(_,g)})).apply(this,arguments)}function di(I,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(I,g){return Ue((0,q.m9)(I),g)})).apply(this,arguments)}function Vr(I,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(I,g){return fn(I,"POST","/v1/accounts:signInWithCustomToken",Nt(I,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(I,g){const _=cn(I),A=yield Vr(_,{token:g,returnSecureToken:!0}),K=yield as._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class xs{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?zo._fromServerResponse(g,_):ot(g,"internal-error")}}class zo extends xs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new zo(_)}}function Po(I,g,_){var A;ee((null===(A=_.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),ee(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ee(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ee(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function z(){return(z=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I),K={requestType:"PASSWORD_RESET",email:g};_&&Po(A,K,_),yield ct(A,K)})).apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(I,g,_){yield xr((0,q.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(I,g){yield Zi((0,q.m9)(I),{oobCode:g})})).apply(this,arguments)}function En(I,g){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(I,g){const _=(0,q.m9)(I),A=yield xr(_,{oobCode:g}),K=A.requestType;switch(ee(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(A.mfaInfo,_,"internal-error");default:ee(A.email,_,"internal-error")}let de=null;return A.mfaInfo&&(de=xs._fromServerResponse(cn(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:de},operation:K}})).apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(I,g){const{data:_}=yield En((0,q.m9)(I),g);return _.email})).apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(I,g,_){const A=cn(I),K=yield Dr(A,{returnSecureToken:!0,email:g,password:_}),de=yield as._fromIdTokenResponse(A,"signIn",K);return yield A._updateCurrentUser(de.user),de})).apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I),K={requestType:"EMAIL_SIGNIN",email:g};ee(_.handleCodeInApp,A,"argument-error"),_&&Po(A,K,_),yield xe(A,K)})).apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I),K=Ho.credentialWithLink(g,_||pt());return ee(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),On(A,K)})).apply(this,arguments)}function ti(I,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:createAuthUri",Nt(I,g))})).apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(I,g){const A={identifier:g,continueUri:Gt()?pt():"http://localhost"},{signinMethods:K}=yield ti((0,q.m9)(I),A);return K||[]})).apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(I,g){const _=(0,q.m9)(I),K={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&Po(_.auth,K,g);const{email:de}=yield pe(_.auth,K);de!==I.email&&(yield I.reload())})).apply(this,arguments)}function Bl(){return(Bl=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&Po(A.auth,de,_);const{email:ut}=yield Bt(A.auth,de);ut!==I.email&&(yield I.reload())})).apply(this,arguments)}function Qa(I,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(I,g){return wt(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const A=(0,q.m9)(I),de={idToken:yield A.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},ut=yield Un(A,Qa(A.auth,de));A.displayName=ut.displayName||null,A.photoURL=ut.photoUrl||null;const jt=A.providerData.find(({providerId:sn})=>"password"===sn);jt&&(jt.displayName=A.displayName,jt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ut)})).apply(this,arguments)}function ko(I,g,_){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(I,g,_){const{auth:A}=I,de={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(de.email=g),_&&(de.password=_);const ut=yield Un(I,Li(A,de));yield I._updateTokensIfNecessary(ut,!0)})).apply(this,arguments)}class pa{constructor(g,_,A={}){this.isNewUser=g,this.providerId=_,this.profile=A}}class wu extends pa{constructor(g,_,A,K){super(g,_,A),this.username=K}}class ra extends pa{constructor(g,_){super(g,"facebook.com",_)}}class Ra extends wu{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ul extends pa{constructor(g,_){super(g,"google.com",_)}}class ts extends wu{constructor(g,_,A){super(g,"twitter.com",_,A)}}function No(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Wo(I){var g,_;if(!I)return null;const{providerId:A}=I,K=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},de=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&(null==I?void 0:I.idToken)){const ut=null===(_=null===(g=Wt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(ut)return new pa(de,"anonymous"!==ut&&"custom"!==ut?ut:null)}if(!A)return null;switch(A){case"facebook.com":return new ra(de,K);case"github.com":return new Ra(de,K);case"google.com":return new Ul(de,K);case"twitter.com":return new ts(de,K,I.screenName||null);case"custom":case"anonymous":return new pa(de,null);default:return new pa(de,A,K)}}(_)}class Eo{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Eo("enroll",g)}static _fromMfaPendingCredential(g){return new Eo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,A;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Eo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(A=g.multiFactorSession)||void 0===A?void 0:A.idToken)return Eo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class us{constructor(g,_,A){this.session=g,this.hints=_,this.signInResolver=A}static _fromError(g,_){const A=cn(g),K=_.customData._serverResponse,de=(K.mfaInfo||[]).map(jt=>xs._fromServerResponse(A,jt));ee(K.mfaPendingCredential,A,"internal-error");const ut=Eo._fromMfaPendingCredential(K.mfaPendingCredential);return new us(ut,de,function(){var jt=(0,c.Z)(function*(sn){const bn=yield sn._process(A,ut);delete K.mfaInfo,delete K.mfaPendingCredential;const Gn=Object.assign(Object.assign({},K),{idToken:bn.idToken,refreshToken:bn.refreshToken});switch(_.operationType){case"signIn":const Kn=yield as._fromIdTokenResponse(A,_.operationType,Gn);return yield A._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return ee(_.user,A,"internal-error"),as._forOperation(_.user,_.operationType,Gn);default:ot(A,"internal-error")}});return function(sn){return jt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,c.Z)(function*(){return _.signInResolver(g)})()}}function Hl(I,g){return wt(I,"POST","/v2/accounts/mfaEnrollment:start",Nt(I,g))}class ia{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>xs._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new ia(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Eo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var A=this;return(0,c.Z)(function*(){const K=g,de=yield A.getSession(),ut=yield Un(A.user,K._process(A.user.auth,de,_));return yield A.user._updateTokensIfNecessary(ut),A.user.reload()})()}unenroll(g){var _=this;return(0,c.Z)(function*(){const A="string"==typeof g?g:g.uid,K=yield _.user.getIdToken(),de=yield Un(_.user,function po(I,g){return wt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(I,g))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ut})=>ut!==A),yield _.user._updateTokensIfNecessary(de);try{yield _.user.reload()}catch(ut){if("auth/user-token-expired"!==ut.code)throw ut}})()}}const Pa=new WeakMap,sa="__sak";class nl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(sa,"1"),this.storage.removeItem(sa),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const no=(()=>{class I extends nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function go(){const I=(0,q.z$)();return Bn(I)||pi(I)}()&&function Lr(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Tr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),de=this.localCache[A];K!==de&&_(A,de,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((jt,sn,bn)=>{this.notifyListeners(jt,bn)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const jt=this.storage.getItem(K);if(_.newValue!==jt)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const de=()=>{const jt=this.storage.getItem(K);!A&&this.localCache[K]===jt||this.notifyListeners(K,jt)},ut=this.storage.getItem(K);!function yi(){return(0,q.w1)()&&10===document.documentMode}()||ut===_.newValue||_.newValue===_.oldValue?de():setTimeout(de,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const de of Array.from(K))de(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,de=this;return(0,c.Z)(function*(){yield K().call(de,_,A),de.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,c.Z)(function*(){const de=yield A().call(K,_);return K.localCache[_]=JSON.stringify(de),de})()}_remove(_){var A=()=>super._remove,K=this;return(0,c.Z)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return I.type="LOCAL",I})(),ro=(()=>{class I extends nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return I.type="SESSION",I})();let bu=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(de=>de.isListeningto(_));if(A)return A;const K=new I(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,c.Z)(function*(){const K=_,{eventId:de,eventType:ut,data:jt}=K.data,sn=A.handlersMap[ut];if(!(null==sn?void 0:sn.size))return;K.ports[0].postMessage({status:"ack",eventId:de,eventType:ut});const bn=Array.from(sn).map(function(){var Kn=(0,c.Z)(function*(_s){return _s(K.origin,jt)});return function(_s){return Kn.apply(this,arguments)}}()),Gn=yield function Fo(I){return Promise.all(I.map(function(){var g=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return g.apply(this,arguments)}}()))}(bn);K.ports[0].postMessage({status:"done",eventId:de,eventType:ut,response:Gn})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Io(I="",g=10){let _="";for(let A=0;A<g;A++)_+=Math.floor(10*Math.random());return I+_}class Cu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,A=50){var K=this;return(0,c.Z)(function*(){const de="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let ut,jt;return new Promise((sn,bn)=>{const Gn=Io("",20);de.port1.start();const Kn=setTimeout(()=>{bn(new Error("unsupported_event"))},A);jt={messageChannel:de,onMessage(_s){const da=_s;if(da.data.eventId===Gn)switch(da.data.status){case"ack":clearTimeout(Kn),ut=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),sn(da.data.response);break;default:clearTimeout(Kn),clearTimeout(ut),bn(new Error("invalid_response"))}}},K.handlers.add(jt),de.port1.addEventListener("message",jt.onMessage),K.target.postMessage({eventType:g,eventId:Gn,data:_},[de.port2])}).finally(()=>{jt&&K.removeMessageHandler(jt)})})()}}function Ci(){return window}function ya(){return void 0!==Ci().WorkerGlobalScope&&"function"==typeof Ci().importScripts}function Ko(){return(Ko=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Tu="firebaseLocalStorageDb",ki="firebaseLocalStorage",oa="fbase_key";class M{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function S(I,g){return I.transaction([ki],g?"readwrite":"readonly").objectStore(ki)}function $(){const I=indexedDB.open(Tu,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(ki,{keyPath:oa})}catch(K){_(K)}}),I.addEventListener("success",(0,c.Z)(function*(){const A=I.result;A.objectStoreNames.contains(ki)?g(A):(A.close(),yield function D(){const I=indexedDB.deleteDatabase(Tu);return new M(I).toPromise()}(),g(yield $()))}))})}function j(I,g,_){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(I,g,_){const A=S(I,!0).put({[oa]:g,value:_});return new M(A).toPromise()})).apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(I,g){const _=S(I,!1).get(g),A=yield new M(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Vt(I,g){const _=S(I,!0).delete(g);return new M(_).toPromise()}const zr=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield $()),_.db})()}_withRetries(_){var A=this;return(0,c.Z)(function*(){let K=0;for(;;)try{const de=yield A._openDb();return yield _(de)}catch(de){if(K++>3)throw de;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return ya()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=bu._getInstance(function Du(){return ya()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,c.Z)(function*(K,de){return{keyProcessed:(yield _._poll()).includes(de.key)}});return function(K,de){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,c.Z)(function*(K,de){return["keyChanged"]});return function(K,de){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var A,K;if(_.activeServiceWorker=yield function Ts(){return Ko.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cu(_.activeServiceWorker);const de=yield _.sender._send("ping",{},800);!de||(null===(A=de[0])||void 0===A?void 0:A.fulfilled)&&(null===(K=de[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,c.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function bo(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch(K){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield $();return yield j(_,sa,"1"),yield Vt(_,sa),!0}catch(_){}return!1})()}_withPendingWrite(_){var A=this;return(0,c.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,c.Z)(function*(){return K._withPendingWrite((0,c.Z)(function*(){return yield K._withRetries(de=>j(de,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,c.Z)(function*(){const K=yield A._withRetries(de=>function le(I,g){return He.apply(this,arguments)}(de,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(K=>Vt(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const A=yield _._withRetries(ut=>{const jt=S(ut,!1).getAll();return new M(jt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],de=new Set;for(const{fbase_key:ut,value:jt}of A)de.add(ut),JSON.stringify(_.localCache[ut])!==JSON.stringify(jt)&&(_.notifyListeners(ut,jt),K.push(ut));for(const ut of Object.keys(_.localCache))_.localCache[ut]&&!de.has(ut)&&(_.notifyListeners(ut,null),K.push(ut));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const de of Array.from(K))de(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Xr(I,g){return wt(I,"POST","/v2/accounts/mfaSignIn:start",Nt(I,g))}function fl(){return(fl=(0,c.Z)(function*(I){return(yield wt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Co(I){return new Promise((g,_)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=g,A.onerror=K=>{const de=Ze("internal-error");de.customData=K,_(de)},A.type="text/javascript",A.charset="UTF-8",function cs(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(A)})}function Lo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const zl=1e12;class Vi{constructor(g){this.auth=g,this.counter=zl,this._widgets=new Map}render(g,_){const A=this.counter;return this._widgets.set(A,new ar(g,this.auth.name,_||{})),this.counter++,A}reset(g){var _;const A=g||zl;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(g){var _;return(null===(_=this._widgets.get(g||zl))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,c.Z)(function*(){var A;return null===(A=_._widgets.get(g||zl))||void 0===A||A.execute(),""})()}}class ar{constructor(g,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof g?document.getElementById(g):g;ee(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function va(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _i=Lo("rcb"),Wl=new Ct(3e4,6e4);class ri{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ci().grecaptcha}load(g,_=""){return ee(function Xu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ci().grecaptcha):new Promise((A,K)=>{const de=Ci().setTimeout(()=>{K(Ze(g,"network-request-failed"))},Wl.get());Ci()[_i]=()=>{Ci().clearTimeout(de),delete Ci()[_i];const jt=Ci().grecaptcha;if(!jt)return void K(Ze(g,"internal-error"));const sn=jt.render;jt.render=(bn,Gn)=>{const Kn=sn(bn,Gn);return this.counter++,Kn},this.hostLanguage=_,A(jt)},Co(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:_i,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(de),K(Ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Ci().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hi{load(g){return(0,c.Z)(function*(){return new Vi(g)})()}clearedOneInstance(){}}const il="recaptcha",wh={theme:"light",type:"image"};class Nr{constructor(g,_=Object.assign({},wh),A){this.parameters=_,this.type=il,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(A),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof g?document.getElementById(g):g;ee(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hi:new ri,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(_)||new Promise(de=>{const ut=jt=>{!jt||(g.tokenChangeListeners.delete(ut),de(jt))};g.tokenChangeListeners.add(ut),g.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof g)g(_);else if("string"==typeof g){const A=Ci()[g];"function"==typeof A&&A(_)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ee(Gt()&&!ya(),g.auth,"internal-error"),yield function Qu(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function qo(I){return fl.apply(this,arguments)}(g.auth);ee(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vi{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ai._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function xi(){return(xi=(0,c.Z)(function*(I,g,_){const A=cn(I),K=yield ds(A,g,(0,q.m9)(_));return new vi(K,de=>On(A,de))})).apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I);yield U(!1,A,"phone");const K=yield ds(A.auth,g,(0,q.m9)(_));return new vi(K,de=>ir(A,de))})).apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I),K=yield ds(A.auth,g,(0,q.m9)(_));return new vi(K,de=>di(A,de))})).apply(this,arguments)}function ds(I,g,_){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(I,g,_){var A;const K=yield _.verify();try{let de;if(ee("string"==typeof K,I,"argument-error"),ee(_.type===il,I,"argument-error"),de="string"==typeof g?{phoneNumber:g}:g,"session"in de){const ut=de.session;if("phoneNumber"in de)return ee("enroll"===ut.type,I,"internal-error"),(yield Hl(I,{idToken:ut.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{ee("signin"===ut.type,I,"internal-error");const jt=(null===(A=de.multiFactorHint)||void 0===A?void 0:A.uid)||de.multiFactorUid;return ee(jt,I,"missing-multi-factor-info"),(yield Xr(I,{mfaPendingCredential:ut.credential,mfaEnrollmentId:jt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ut}=yield Dt(I,{phoneNumber:de.phoneNumber,recaptchaToken:K});return ut}}finally{_._reset()}})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(I,g){yield V((0,q.m9)(I),g)})).apply(this,arguments)}let un=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=cn(_)}verifyPhoneNumber(_,A){return ds(this.auth,_,(0,q.m9)(A))}static credential(_,A){return Ai._fromVerification(_,A)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?Ai._fromTokenResponse(A,K):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function zs(I,g){return g?ge(g):(ee(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class qi extends mi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ci(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ci(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ci(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ka(I){return qt(I.auth,new qi(I),I.bypassAuthState)}function Bo(I){const{auth:g,user:_}=I;return ee(_,g,"internal-error"),Ue(_,new qi(I),I.bypassAuthState)}function oo(I){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(I){const{auth:g,user:_}=I;return ee(_,g,"internal-error"),V(_,new qi(I),I.bypassAuthState)})).apply(this,arguments)}class gl{constructor(g,_,A,K,de=!1){this.auth=g,this.resolver=A,this.user=K,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,c.Z)(function*(A,K){g.pendingPromise={resolve:A,reject:K};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(de){g.reject(de)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,c.Z)(function*(){const{urlResponse:A,sessionId:K,postBody:de,tenantId:ut,error:jt,type:sn}=g;if(jt)return void _.reject(jt);const bn={auth:_.auth,requestUri:A,sessionId:K,tenantId:ut||void 0,postBody:de||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(sn)(bn))}catch(Gn){_.reject(Gn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ka;case"linkViaPopup":case"linkViaRedirect":return oo;case"reauthViaPopup":case"reauthViaRedirect":return Bo;default:ot(this.auth,"internal-error")}}resolve(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kl=new Ct(2e3,1e4);function Ws(){return(Ws=(0,c.Z)(function*(I,g,_){const A=cn(I);$e(I,g,Pi);const K=zs(A,_);return new yl(A,"signInViaPopup",g,K).executeNotNull()})).apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I);$e(A.auth,g,Pi);const K=zs(A.auth,_);return new yl(A.auth,"reauthViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I);$e(A.auth,g,Pi);const K=zs(A.auth,_);return new yl(A.auth,"linkViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}let yl=(()=>{class I extends gl{constructor(_,A,K,de,ut){super(_,A,de,ut),this.provider=K,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const A=yield _.execute();return ee(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,c.Z)(function*(){he(1===_.filter.length,"Popup operations only handle one event");const A=Io();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(Ze(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=(null===(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===K?void 0:K.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Kl.get())};_()}}return I.currentPopupAction=null,I})();const Yo=new Map;class Pf extends gl{constructor(g,_,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,c.Z)(function*(){let A=Yo.get(_.auth._key());if(!A){try{const de=(yield function _l(I,g){return vl.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;A=()=>Promise.resolve(de)}catch(K){A=()=>Promise.reject(K)}Yo.set(_.auth._key(),A)}return _.bypassAuthState||Yo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,A=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(A,g);if("unknown"!==g.type){if(g.eventId){const K=yield A.auth._redirectUserForId(g.eventId);if(K)return A.user=K,_().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function vl(){return(vl=(0,c.Z)(function*(I,g){const _=Ne(g),A=ae(I);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function sl(I,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(I,g){return ae(I)._set(Ne(g),"true")})).apply(this,arguments)}function H(I,g){Yo.set(I._key(),g)}function ae(I){return ge(I._redirectPersistence)}function Ne(I){return rr("pendingRedirect",I.config.apiKey,I.name)}function tn(){return(tn=(0,c.Z)(function*(I,g,_){const A=cn(I);$e(I,g,Pi);const K=zs(A,_);return yield sl(K,A),K._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I);$e(A.auth,g,Pi);const K=zs(A.auth,_);yield sl(K,A.auth);const de=yield Fa(A);return K._openRedirect(A.auth,g,"reauthViaRedirect",de)})).apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(I,g,_){const A=(0,q.m9)(I);$e(A.auth,g,Pi);const K=zs(A.auth,_);yield U(!1,A,g.providerId),yield sl(K,A.auth);const de=yield Fa(A);return K._openRedirect(A.auth,g,"linkViaRedirect",de)})).apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(I,g){return yield cn(I)._initializationPromise,wa(I,g,!1)})).apply(this,arguments)}function wa(I,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(I,g,_=!1){const A=cn(I),K=zs(A,g),ut=yield new Pf(A,K,_).execute();return ut&&!_&&(delete ut.user._redirectEventId,yield A._persistUserIfCurrent(ut.user),yield A._setRedirectUser(null,g)),ut})).apply(this,arguments)}function Fa(I){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(I){const g=Io(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Rd{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(_=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Uc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xl(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var A;if(g.error&&!Xl(g)){const K=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(Ze(this.auth,K))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const A=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zl(g))}saveEventToCache(g){this.cachedEventUids.add(Zl(g)),this.lastProcessedEventTime=Date.now()}}function Zl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Xl({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function bh(I){return Od.apply(this,arguments)}function Od(){return(Od=(0,c.Z)(function*(I,g={}){return wt(I,"GET","/v1/projects",g)})).apply(this,arguments)}const ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ju=/^https?/;function kf(){return(kf=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield bh(I);for(const _ of g)try{if(Ch(_))return}catch(A){}ot(I,"unauthorized-domain")})).apply(this,arguments)}function Ch(I){const g=pt(),{protocol:_,hostname:A}=new URL(g);if(I.startsWith("chrome-extension://")){const ut=new URL(I);return""===ut.hostname&&""===A?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&ut.hostname===A}if(!Ju.test(_))return!1;if(ms.test(I))return A===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const Ql=new Ct(3e4,6e4);function Dh(){const I=Ci().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Pd=null;function Ba(I){return Pd=Pd||function Rp(I){return new Promise((g,_)=>{var A,K,de;function ut(){Dh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Dh(),_(Ze(I,"network-request-failed"))},timeout:Ql.get()})}if(null===(K=null===(A=Ci().gapi)||void 0===A?void 0:A.iframes)||void 0===K?void 0:K.Iframe)g(gapi.iframes.getContext());else{if(!(null===(de=Ci().gapi)||void 0===de?void 0:de.load)){const jt=Lo("iframefcb");return Ci()[jt]=()=>{gapi.load?ut():_(Ze(I,"network-request-failed"))},Co(`https://apis.google.com/js/api.js?onload=${jt}`).catch(sn=>_(sn))}ut()}}).catch(g=>{throw Pd=null,g})}(I),Pd}const Zo=new Ct(5e3,15e3),Nf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},El=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Op(I){const g=I.config;ee(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?ft(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,A={apiKey:g.apiKey,appName:I.name,v:Me.SDK_VERSION},K=El.get(I.config.apiHost);K&&(A.eid=K);const de=I._getFrameworks();return de.length&&(A.fw=de.join(",")),`${_}?${(0,q.xO)(A).slice(1)}`}function ec(){return ec=(0,c.Z)(function*(I){const g=yield Ba(I),_=Ci().gapi;return ee(_,I,"internal-error"),g.open({where:document.body,url:Op(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nf,dontclear:!0},A=>new Promise(function(){var K=(0,c.Z)(function*(de,ut){yield A.restyle({setHideOnLeave:!1});const jt=Ze(I,"network-request-failed"),sn=Ci().setTimeout(()=>{ut(jt)},Zo.get());function bn(){Ci().clearTimeout(sn),de(A)}A.ping(bn).then(bn,()=>{ut(jt)})});return function(de,ut){return K.apply(this,arguments)}}()))}),ec.apply(this,arguments)}const Nd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ld{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function wl(I,g,_,A,K,de){ee(I.config.authDomain,I,"auth-domain-config-required"),ee(I.config.apiKey,I,"invalid-api-key");const ut={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:A,v:Me.SDK_VERSION,eventId:K};if(g instanceof Pi){g.setDefaultLanguage(I.languageCode),ut.providerId=g.providerId||"",(0,q.xb)(g.getCustomParameters())||(ut.customParameters=JSON.stringify(g.getCustomParameters()));for(const[sn,bn]of Object.entries(de||{}))ut[sn]=bn}if(g instanceof Jr){const sn=g.getScopes().filter(bn=>""!==bn);sn.length>0&&(ut.scopes=sn.join(","))}I.tenantId&&(ut.tid=I.tenantId);const jt=ut;for(const sn of Object.keys(jt))void 0===jt[sn]&&delete jt[sn];return`${function jc({config:I}){return I.emulator?ft(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,q.xO)(jt).slice(1)}`}const Th="webStorageSupport";class Mr extends class Ei{constructor(g){this.factorId=g}_process(g,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,A);case"signin":return this._finalizeSignIn(g,_.credential);default:return Qe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Mr(g)}_finalizeEnroll(g,_,A){return function wo(I,g){return wt(I,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(I,g))}(g,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Fs(I,g){return wt(I,"POST","/v2/accounts/mfaSignIn:finalize",Nt(I,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Il=(()=>{class I{constructor(){}static assertion(_){return Mr._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Ui="@firebase/auth";class nc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(A=>{var K;g((null===(K=A)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fr(){return window}function ol(){return(ol=(0,c.Z)(function*(I,g,_){var A;const{BuildInfo:K}=fr();he(g.sessionId,"AuthEvent did not contain a session ID");const de=yield Gc(g.sessionId),ut={};return pi()?ut.ibi=K.packageName:jr()?ut.apn=K.packageName:ot(I,"operation-not-supported-in-this-environment"),K.displayName&&(ut.appDisplayName=K.displayName),ut.sessionId=de,wl(I,_,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,ut)})).apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(I){const{BuildInfo:g}=fr(),_={};pi()?_.iosBundleId=g.packageName:jr()?_.androidPackageName=g.packageName:ot(I,"operation-not-supported-in-this-environment"),yield bh(I,_)})).apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(I,g,_){const{cordova:A}=fr();let K=()=>{};try{yield new Promise((de,ut)=>{let jt=null;function sn(){var Kn;de();const _s=null===(Kn=A.plugins.browsertab)||void 0===Kn?void 0:Kn.close;"function"==typeof _s&&_s(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function bn(){jt||(jt=window.setTimeout(()=>{ut(Ze(I,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===(null==document?void 0:document.visibilityState)&&bn()}g.addPassiveListener(sn),document.addEventListener("resume",bn,!1),jr()&&document.addEventListener("visibilitychange",Gn,!1),K=()=>{g.removePassiveListener(sn),document.removeEventListener("resume",bn,!1),document.removeEventListener("visibilitychange",Gn,!1),jt&&window.clearTimeout(jt)}})}finally{K()}})).apply(this,arguments)}function Gc(I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(I){const g=Sh(I),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sh(I){if(he(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),_=new Uint8Array(g);for(let A=0;A<I.length;A++)_[A]=I.charCodeAt(A);return _}!function Bf(I){(0,Me._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const A=g.getProvider("app").getImmediate(),K=g.getProvider("heartbeat"),{apiKey:de,authDomain:ut}=A.options;return((jt,sn)=>{ee(de&&!de.includes(":"),"invalid-api-key",{appName:jt.name}),ee(!(null==ut?void 0:ut.includes(":")),"argument-error",{appName:jt.name});const bn={apiKey:de,authDomain:ut,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oi(I)},Gn=new te(jt,sn,bn);return function Ye(I,g){const _=(null==g?void 0:g.persistence)||[],A=(Array.isArray(_)?_:[_]).map(ge);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(Gn,_),Gn})(A,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,A)=>{g.getProvider("auth-internal").initialize()})),(0,Me._registerComponent)(new ve.wA("auth-internal",g=>{const _=cn(g.getProvider("auth").getImmediate());return new nc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Me.registerVersion)(Ui,"0.20.2",function $a(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Me.registerVersion)(Ui,"0.20.2","esm2017")}("Browser");class Uf extends Rd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function Ah(I){return zc.apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(I){const g=yield Ga()._get(sc(I));return g&&(yield Ga()._remove(sc(I))),g})).apply(this,arguments)}function Rr(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const A=Math.floor(Math.random()*g.length);I.push(g.charAt(A))}return I.join("")}function Ga(){return ge(no)}function sc(I){return rr("authEvent",I.config.apiKey,I.name)}function Gi(I){if(!(null==I?void 0:I.includes("?")))return{};const[g,..._]=I.split("?");return(0,q.zd)(_.join("?"))}function Xo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ze("no-auth-event")}}function oc(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function ac(I=(0,q.z$)()){return!("file:"!==oc()&&"ionic:"!==oc()&&"capacitor:"!==oc()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ud(){try{const I=self.localStorage,g=Io();if(I)return I.setItem(g,"1"),I.removeItem(g),!function qc(I=(0,q.z$)()){return function Bs(){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function xu(I=(0,q.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,q.hl)()}catch(I){return Sr()&&(0,q.hl)()}return!1}function Sr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nu(){return(function Mi(){return"http:"===oc()||"https:"===oc()}()||(0,q.ru)()||ac())&&!function Cl(){return(0,q.b$)()||(0,q.UG)()}()&&Ud()&&!Sr()}function $d(){return ac()&&"undefined"!=typeof document}function lc(){return(lc=(0,c.Z)(function*(){return!!$d()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const Rs={LOCAL:"local",NONE:"none",SESSION:"session"},al=ee,mr="persistence";function Ru(I){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(I){yield I._initializationPromise;const g=Zc(),_=rr(mr,I.config.apiKey,I.name);g&&g.setItem(_,I._getPersistence())})).apply(this,arguments)}function Zc(){var I;try{return(null===(I=function Mu(){return"undefined"!=typeof window?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch(g){return null}}const Xc=ee;class Os{constructor(){this.browserResolver=ge(class Lf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ro,this._completeRedirectFn=wa,this._overrideRedirectResult=H}_openPopup(g,_,A,K){var de=this;return(0,c.Z)(function*(){var ut;he(null===(ut=de.eventManagers[g._key()])||void 0===ut?void 0:ut.manager,"_initialize() not called before _openPopup()");const jt=wl(g,_,A,pt(),K);return function tc(I,g,_,A=500,K=600){const de=Math.max((window.screen.availHeight-K)/2,0).toString(),ut=Math.max((window.screen.availWidth-A)/2,0).toString();let jt="";const sn=Object.assign(Object.assign({},Nd),{width:A.toString(),height:K.toString(),top:de,left:ut}),bn=(0,q.z$)().toLowerCase();_&&(jt=wi(bn)?"_blank":_),Hr(bn)&&(g=g||"http://localhost",sn.scrollbars="yes");const Gn=Object.entries(sn).reduce((_s,[da,ed])=>`${_s}${da}=${ed},`,"");if(function gi(I=(0,q.z$)()){var g;return pi(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(bn)&&"_self"!==jt)return function Ff(I,g){const _=document.createElement("a");_.href=I,_.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(g||"",jt),new Ld(null);const Kn=window.open(g||"",jt,Gn);ee(Kn,I,"popup-blocked");try{Kn.focus()}catch(_s){}return new Ld(Kn)}(g,jt,Io())})()}_openRedirect(g,_,A,K){var de=this;return(0,c.Z)(function*(){return yield de._originValidation(g),function rl(I){Ci().location.href=I}(wl(g,_,A,pt(),K)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:K,promise:de}=this.eventManagers[_];return K?Promise.resolve(K):(he(de,"If manager is not set, promise should be"),de)}const A=this.initAndGetManager(g);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(g){var _=this;return(0,c.Z)(function*(){const A=yield function Va(I){return ec.apply(this,arguments)}(g),K=new Rd(g);return A.register("authEvent",de=>(ee(null==de?void 0:de.authEvent,g,"invalid-auth-event"),{status:K.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:K},_.iframes[g._key()]=A,K})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Th,{type:Th},K=>{var de;const ut=null===(de=null==K?void 0:K[0])||void 0===de?void 0:de[Th];void 0!==ut&&_(!!ut),ot(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Mp(I){return kf.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Tr()||Bn()||pi()}}),this.cordovaResolver=ge(class tu{constructor(){this._redirectPersistence=ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wa,this._overrideRedirectResult=H}_initialize(g){var _=this;return(0,c.Z)(function*(){const A=g._key();let K=_.eventManagers.get(A);return K||(K=new Uf(g),_.eventManagers.set(A,K),_.attachCallbackListeners(g,K)),K})()}_openPopup(g){ot(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,A,K){var de=this;return(0,c.Z)(function*(){!function bl(I){var g,_,A,K,de,ut,jt,sn,bn,Gn;const Kn=fr();ee("function"==typeof(null===(g=null==Kn?void 0:Kn.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(_=null==Kn?void 0:Kn.BuildInfo)||void 0===_?void 0:_.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(de=null===(K=null===(A=null==Kn?void 0:Kn.cordova)||void 0===A?void 0:A.plugins)||void 0===K?void 0:K.browsertab)||void 0===de?void 0:de.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(sn=null===(jt=null===(ut=null==Kn?void 0:Kn.cordova)||void 0===ut?void 0:ut.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===sn?void 0:sn.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Gn=null===(bn=null==Kn?void 0:Kn.cordova)||void 0===bn?void 0:bn.InAppBrowser)||void 0===Gn?void 0:Gn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ut=yield de._initialize(g);yield ut.initialized(),ut.resetRedirect(),function F(){Yo.clear()}(),yield de._originValidation(g);const jt=function ic(I,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Rr(),postBody:null,tenantId:I.tenantId,error:Ze(I,"no-auth-event")}}(g,A,K);yield function Au(I,g){return Ga()._set(sc(I),g)}(g,jt);const sn=yield function ja(I,g,_){return ol.apply(this,arguments)}(g,jt,_),bn=yield function Vf(I){const{cordova:g}=fr();return new Promise(_=>{g.plugins.browsertab.isAvailable(A=>{let K=null;A?g.plugins.browsertab.openUrl(I):K=g.InAppBrowser.open(I,function fs(I=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),_(K)})})}(sn);return function Ys(I,g,_){return rc.apply(this,arguments)}(g,ut,bn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function mo(I){return Vd.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:A,handleOpenURL:K,BuildInfo:de}=fr(),ut=setTimeout((0,c.Z)(function*(){yield Ah(g),_.onEvent(Xo())}),500),jt=function(){var Gn=(0,c.Z)(function*(Kn){clearTimeout(ut);const _s=yield Ah(g);let da=null;_s&&(null==Kn?void 0:Kn.url)&&(da=function eu(I,g){var _,A;const K=function Or(I){const g=Gi(I),_=g.link?decodeURIComponent(g.link):void 0,A=Gi(_).link,K=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Gi(K).link||K||A||_||I}(g);if(K.includes("/__/auth/callback")){const de=Gi(K),ut=de.firebaseError?function ys(I){try{return JSON.parse(I)}catch(g){return null}}(decodeURIComponent(de.firebaseError)):null,jt=null===(A=null===(_=null==ut?void 0:ut.code)||void 0===_?void 0:_.split("auth/"))||void 0===A?void 0:A[1],sn=jt?Ze(jt):null;return sn?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:sn,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:K,postBody:null}}return null}(_s,Kn.url)),_.onEvent(da||Xo())});return function(_s){return Gn.apply(this,arguments)}}();void 0!==A&&"function"==typeof A.subscribe&&A.subscribe(null,jt);const sn=K,bn=`${de.packageName.toLowerCase()}://`;fr().handleOpenURL=function(){var Gn=(0,c.Z)(function*(Kn){if(Kn.toLowerCase().startsWith(bn)&&jt({url:Kn}),"function"==typeof sn)try{sn(Kn)}catch(_s){console.error(_s)}});return function(Kn){return Gn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ro,this._completeRedirectFn=wa,this._overrideRedirectResult=H}_initialize(g){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,A,K){var de=this;return(0,c.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openPopup(g,_,A,K)})()}_openRedirect(g,_,A,K){var de=this;return(0,c.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openRedirect(g,_,A,K)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return $d()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const _=yield function Yc(){return lc.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Dl(I){return I.unwrap()}function Tl(I){return Oh(I)}function Oh(I){const{_tokenResponse:g}=I instanceof q.ZR?I.customData:I;if(!g)return null;if(!(I instanceof q.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return un.credentialFromResult(I);const _=g.providerId;if(!_||"password"===_)return null;let A;switch(_){case"google.com":A=Is;break;case"facebook.com":A=ws;break;case"github.com":A=Go;break;case"twitter.com":A=eo;break;default:const{oauthIdToken:K,oauthAccessToken:de,oauthTokenSecret:ut,pendingToken:jt,nonce:sn}=g;return de||ut||K||jt?jt?_.startsWith("saml.")?os._create(_,jt):Ge._fromParams({providerId:_,signInMethod:_,pendingToken:jt,idToken:K,accessToken:de}):new ss(_).credential({idToken:K,accessToken:de,rawNonce:sn}):null}return I instanceof q.ZR?A.credentialFromError(I):A.credentialFromResult(I)}function So(I,g){return g.catch(_=>{throw _ instanceof q.ZR&&function Rh(I,g){var _;const A=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new za(I,function ns(I,g){var _;const A=(0,q.m9)(I),K=g;return ee(g.customData.operationType,A,"argument-error"),ee(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),us._fromError(A,K)}(I,g));else if(A){const K=Oh(g),de=g;K&&(de.credential=K,de.tenantId=A.tenantId||void 0,de.email=A.email||void 0,de.phoneNumber=A.phoneNumber||void 0)}}(I,_),_}).then(_=>{const K=_.user;return{operationType:_.operationType,credential:Tl(_),additionalUserInfo:No(_),user:Vo.getOrCreate(K)}})}function Hd(I,g){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(I,g){const _=yield g;return{verificationId:_.verificationId,confirm:A=>So(I,_.confirm(A))}})).apply(this,arguments)}class za{constructor(g,_){this.resolver=_,this.auth=function jd(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return So(Dl(this.auth),this.resolver.resolveSignIn(g))}}class Vo{constructor(g){this._delegate=g,this.multiFactor=function tl(I){const g=(0,q.m9)(I);return Pa.has(g)||Pa.set(g,ia._fromUser(g)),Pa.get(g)}(g)}static getOrCreate(g){return Vo.USER_MAP.has(g)||Vo.USER_MAP.set(g,new Vo(g)),Vo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,c.Z)(function*(){return So(_.auth,ir(_._delegate,g))})()}linkWithPhoneNumber(g,_){var A=this;return(0,c.Z)(function*(){return Hd(A.auth,function Ih(I,g,_){return pl.apply(this,arguments)}(A._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,c.Z)(function*(){return So(_.auth,function Yl(I,g,_){return Ea.apply(this,arguments)}(_._delegate,g,Os))})()}linkWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield Ru(cn(_.auth)),function Wr(I,g,_){return function Rn(I,g,_){return qs.apply(this,arguments)}(I,g,_)}(_._delegate,g,Os)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,c.Z)(function*(){return So(_.auth,di(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Hd(this.auth,function io(I,g,_){return gs.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return So(this.auth,function Na(I,g,_){return ml.apply(this,arguments)}(this._delegate,g,Os))}reauthenticateWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield Ru(cn(_.auth)),function dn(I,g,_){return function gr(I,g,_){return $n.apply(this,arguments)}(I,g,_)}(_._delegate,g,Os)})()}sendEmailVerification(g){return function to(I,g){return ni.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,c.Z)(function*(){return yield function Cs(I,g){return yr.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Vl(I,g){return ko((0,q.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function fa(I,g){return ko((0,q.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function aa(I,g){return la.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Eu(I,g){return Ma.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Xa(I,g,_){return Bl.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vo.USER_MAP=new WeakMap;const Sl=ee;let Ph=(()=>{class I{constructor(_,A){if(this.app=_,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=_.options;Sl(K,"invalid-api-key",{appName:_.name}),Sl(K,"invalid-api-key",{appName:_.name});const de="undefined"!=typeof window?Os:void 0;this._delegate=A.initialize({options:{persistence:uc(K,_.name),popupRedirectResolver:de}}),this._delegate._updateErrorMap(tt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,A){!function Zr(I,g,_){const A=cn(I);ee(A._canInitEmulator,A,"emulator-config-failed"),ee(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const K=!!(null==_?void 0:_.disableWarnings),de=ai(g),{host:ut,port:jt}=function lr(I){const g=ai(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const de=K[1];return{host:de,port:or(A.substr(de.length+1))}}{const[de,ut]=A.split(":");return{host:de,port:or(ut)}}}(g);A.config.emulator={url:`${de}//${ut}${null===jt?"":`:${jt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ut,port:jt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function wr(){function I(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,_,A)}applyActionCode(_){return function Y(I,g){return Tt.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return En(this._delegate,_)}confirmPasswordReset(_,A){return function L(I,g,_){return N.apply(this,arguments)}(this._delegate,_,A)}createUserWithEmailAndPassword(_,A){var K=this;return(0,c.Z)(function*(){return So(K._delegate,function B(I,g,_){return ce.apply(this,arguments)}(K._delegate,_,A))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Wi(I,g){return ji.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Jn(I,g){const _=Qs.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){Sl(nu(),_._delegate,"operation-not-supported-in-this-environment");const A=yield function si(I,g){return hi.apply(this,arguments)}(_._delegate,Os);return A?So(_._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function xh(I,g){cn(I)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,A,K){const{next:de,error:ut,complete:jt}=Qc(_,A,K);return this._delegate.onAuthStateChanged(de,ut,jt)}onIdTokenChanged(_,A,K){const{next:de,error:ut,complete:jt}=Qc(_,A,K);return this._delegate.onIdTokenChanged(de,ut,jt)}sendSignInLinkToEmail(_,A){return function an(I,g,_){return Mn.apply(this,arguments)}(this._delegate,_,A)}sendPasswordResetEmail(_,A){return function Gs(I,g,_){return z.apply(this,arguments)}(this._delegate,_,A||void 0)}setPersistence(_){var A=this;return(0,c.Z)(function*(){let K;switch(function Mh(I,g){al(Object.values(Rs).includes(g),I,"invalid-persistence-type"),(0,q.b$)()?al(g!==Rs.SESSION,I,"unsupported-persistence-type"):(0,q.UG)()?al(g===Rs.NONE,I,"unsupported-persistence-type"):Sr()?al(g===Rs.NONE||g===Rs.LOCAL&&(0,q.hl)(),I,"unsupported-persistence-type"):al(g===Rs.NONE||Ud(),I,"unsupported-persistence-type")}(A._delegate,_),_){case Rs.SESSION:K=ro;break;case Rs.LOCAL:K=(yield ge(zr)._isAvailable())?zr:no;break;case Rs.NONE:K=In;break;default:return ot("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return So(this._delegate,function Qi(I){return Oo.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return So(this._delegate,On(this._delegate,_))}signInWithCustomToken(_){return So(this._delegate,function es(I,g){return Sn.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,A){return So(this._delegate,function Ot(I,g,_){return On((0,q.m9)(I),Ho.credential(g,_))}(this._delegate,_,A))}signInWithEmailLink(_,A){return So(this._delegate,function Ur(I,g,_){return er.apply(this,arguments)}(this._delegate,_,A))}signInWithPhoneNumber(_,A){return Hd(this._delegate,function ii(I,g,_){return xi.apply(this,arguments)}(this._delegate,_,A))}signInWithPopup(_){var A=this;return(0,c.Z)(function*(){return Sl(nu(),A._delegate,"operation-not-supported-in-this-environment"),So(A._delegate,function ql(I,g,_){return Ws.apply(this,arguments)}(A._delegate,_,Os))})()}signInWithRedirect(_){var A=this;return(0,c.Z)(function*(){return Sl(nu(),A._delegate,"operation-not-supported-in-this-environment"),yield Ru(A._delegate),function mt(I,g,_){return function Rt(I,g,_){return tn.apply(this,arguments)}(I,g,_)}(A._delegate,_,Os)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function G(I,g){return w.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Rs,I})();function Qc(I,g,_){let A=I;"function"!=typeof I&&({next:A,error:g,complete:_}=I);const K=A;return{next:ut=>K(ut&&Vo.getOrCreate(ut)),error:g,complete:_}}function uc(I,g){const _=function zi(I,g){const _=Zc();if(!_)return[];const A=rr(mr,I,g);switch(_.getItem(A)){case Rs.NONE:return[In];case Rs.LOCAL:return[zr,ro];case Rs.SESSION:return[ro];default:return[]}}(I,g);if("undefined"!=typeof self&&!_.includes(zr)&&_.push(zr),"undefined"!=typeof window)for(const A of[no,ro])_.includes(A)||_.push(A);return _.includes(In)||_.push(In),_}class kh{constructor(){this.providerId="phone",this._delegate=new un(Dl(J.Z.auth()))}static credential(g,_){return un.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}kh.PHONE_SIGN_IN_METHOD=un.PHONE_SIGN_IN_METHOD,kh.PROVIDER_ID=un.PROVIDER_ID;const Jc=ee;class kp{constructor(g,_,A=J.Z.app()){var K;Jc(null===(K=A.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Nr(g,_,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Uo(I){I.INTERNAL.registerComponent(new ve.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new Ph(_,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ho,FacebookAuthProvider:ws,GithubAuthProvider:Go,GoogleAuthProvider:Is,OAuthProvider:ss,SAMLAuthProvider:Bi,PhoneAuthProvider:kh,PhoneMultiFactorGenerator:Il,RecaptchaVerifier:kp,TwitterAuthProvider:eo,Auth:Ph,AuthCredential:mi,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.2.15")}(J.Z)},1135:(Zt,at,P)=>{"use strict";P.d(at,{X:()=>J});var c=P(7579);class J extends c.x{constructor(Me){super(),this._value=Me}get value(){return this.getValue()}_subscribe(Me){const Re=super._subscribe(Me);return!Re.closed&&Me.next(this._value),Re}getValue(){const{hasError:Me,thrownError:Re,_value:Ee}=this;if(Me)throw Re;return this._throwIfClosed(),Ee}next(Me){super.next(this._value=Me)}}},8306:(Zt,at,P)=>{"use strict";P.d(at,{y:()=>fe});var c=P(930),J=P(727),q=P(8822),Me=P(4671);var ve=P(2416),Ce=P(576),ke=P(2806);let fe=(()=>{class Ve{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Se=new Ve;return Se.source=this,Se.operator=Fe,Se}subscribe(Fe,Se,Le){const De=function Pe(Ve){return Ve&&Ve instanceof c.Lv||function Te(Ve){return Ve&&(0,Ce.m)(Ve.next)&&(0,Ce.m)(Ve.error)&&(0,Ce.m)(Ve.complete)}(Ve)&&(0,J.Nn)(Ve)}(Fe)?Fe:new c.Hp(Fe,Se,Le);return(0,ke.x)(()=>{const{operator:st,source:ot}=this;De.add(st?st.call(De,ot):ot?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Se){Fe.error(Se)}}forEach(Fe,Se){return new(Se=me(Se))((Le,De)=>{const st=new c.Hp({next:ot=>{try{Fe(ot)}catch(Ze){De(Ze),st.unsubscribe()}},error:De,complete:Le});this.subscribe(st)})}_subscribe(Fe){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(Fe)}[q.L](){return this}pipe(...Fe){return function Ee(Ve){return 0===Ve.length?Me.y:1===Ve.length?Ve[0]:function(Fe){return Ve.reduce((Se,Le)=>Le(Se),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=me(Fe))((Se,Le)=>{let De;this.subscribe(st=>De=st,st=>Le(st),()=>Se(De))})}}return Ve.create=tt=>new Ve(tt),Ve})();function me(Ve){var tt;return null!==(tt=null!=Ve?Ve:ve.v.Promise)&&void 0!==tt?tt:Promise}},7579:(Zt,at,P)=>{"use strict";P.d(at,{x:()=>ve});var c=P(8306),J=P(727);const Me=(0,P(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=P(8737),Ee=P(2806);let ve=(()=>{class ke extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Te=new Ce(this,this);return Te.operator=me,Te}_throwIfClosed(){if(this.closed)throw new Me}next(me){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(me)}})}error(me){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Te}=this;for(;Te.length;)Te.shift().error(me)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Te,isStopped:Pe,observers:Ve}=this;return Te||Pe?J.Lc:(this.currentObservers=null,Ve.push(me),new J.w0(()=>{this.currentObservers=null,(0,Re.P)(Ve,me)}))}_checkFinalizedStatuses(me){const{hasError:Te,thrownError:Pe,isStopped:Ve}=this;Te?me.error(Pe):Ve&&me.complete()}asObservable(){const me=new c.y;return me.source=this,me}}return ke.create=(fe,me)=>new Ce(fe,me),ke})();class Ce extends ve{constructor(fe,me){super(),this.destination=fe,this.source=me}next(fe){var me,Te;null===(Te=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Te||Te.call(me,fe)}error(fe){var me,Te;null===(Te=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Te||Te.call(me,fe)}complete(){var fe,me;null===(me=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===me||me.call(fe)}_subscribe(fe){var me,Te;return null!==(Te=null===(me=this.source)||void 0===me?void 0:me.subscribe(fe))&&void 0!==Te?Te:J.Lc}}},930:(Zt,at,P)=>{"use strict";P.d(at,{Hp:()=>Fe,Lv:()=>Te});var c=P(576),J=P(727),q=P(2416),Me=P(7849),Re=P(5032);const Ee=ke("C",void 0,void 0);function ke(ot,Ze,ze){return{kind:ot,value:Ze,error:ze}}var fe=P(3410),me=P(2806);class Te extends J.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,J.Nn)(Ze)&&Ze.add(this)):this.destination=st}static create(Ze,ze,$e){return new Fe(Ze,ze,$e)}next(Ze){this.isStopped?De(function Ce(ot){return ke("N",ot,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?De(function ve(ot){return ke("E",void 0,ot)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?De(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ve(ot,Ze){return Pe.call(ot,Ze)}class tt{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ze)}catch($e){Se($e)}}error(Ze){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ze)}catch($e){Se($e)}else Se(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(ze){Se(ze)}}}class Fe extends Te{constructor(Ze,ze,$e){let Ke;if(super(),(0,c.m)(Ze)||!Ze)Ke={next:null!=Ze?Ze:void 0,error:null!=ze?ze:void 0,complete:null!=$e?$e:void 0};else{let ee;this&&q.v.useDeprecatedNextContext?(ee=Object.create(Ze),ee.unsubscribe=()=>this.unsubscribe(),Ke={next:Ze.next&&Ve(Ze.next,ee),error:Ze.error&&Ve(Ze.error,ee),complete:Ze.complete&&Ve(Ze.complete,ee)}):Ke=Ze}this.destination=new tt(Ke)}}function Se(ot){q.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(ot):(0,Me.h)(ot)}function De(ot,Ze){const{onStoppedNotification:ze}=q.v;ze&&fe.z.setTimeout(()=>ze(ot,Ze))}const st={closed:!0,next:Re.Z,error:function Le(ot){throw ot},complete:Re.Z}},727:(Zt,at,P)=>{"use strict";P.d(at,{Lc:()=>Ee,w0:()=>Re,Nn:()=>ve});var c=P(576);const q=(0,P(3888).d)(ke=>function(me){ke(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Te,Pe)=>`${Pe+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var Me=P(8737);class Re{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Ve of me)Ve.remove(this);else me.remove(this);const{initialTeardown:Te}=this;if((0,c.m)(Te))try{Te()}catch(Ve){fe=Ve instanceof q?Ve.errors:[Ve]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ve of Pe)try{Ce(Ve)}catch(tt){fe=null!=fe?fe:[],tt instanceof q?fe=[...fe,...tt.errors]:fe.push(tt)}}if(fe)throw new q(fe)}}add(fe){var me;if(fe&&fe!==this)if(this.closed)Ce(fe);else{if(fe instanceof Re){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(fe)}}_hasParent(fe){const{_parentage:me}=this;return me===fe||Array.isArray(me)&&me.includes(fe)}_addParent(fe){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(fe),me):me?[me,fe]:fe}_removeParent(fe){const{_parentage:me}=this;me===fe?this._parentage=null:Array.isArray(me)&&(0,Me.P)(me,fe)}remove(fe){const{_finalizers:me}=this;me&&(0,Me.P)(me,fe),fe instanceof Re&&fe._removeParent(this)}}Re.EMPTY=(()=>{const ke=new Re;return ke.closed=!0,ke})();const Ee=Re.EMPTY;function ve(ke){return ke instanceof Re||ke&&"closed"in ke&&(0,c.m)(ke.remove)&&(0,c.m)(ke.add)&&(0,c.m)(ke.unsubscribe)}function Ce(ke){(0,c.m)(ke)?ke():ke.unsubscribe()}},2416:(Zt,at,P)=>{"use strict";P.d(at,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Zt,at,P)=>{"use strict";P.d(at,{z:()=>Re});var c=P(8189),q=P(7669),Me=P(8996);function Re(...Ee){return function J(){return(0,c.J)(1)}()((0,Me.D)(Ee,(0,q.yG)(Ee)))}},515:(Zt,at,P)=>{"use strict";P.d(at,{E:()=>J});const J=new(P(8306).y)(Re=>Re.complete())},8996:(Zt,at,P)=>{"use strict";P.d(at,{D:()=>Ze});var c=P(8421),J=P(5363),q=P(9468),Ee=P(8306),Ce=P(2202),ke=P(576),fe=P(9672);function Te(ze,$e){if(!ze)throw new Error("Iterable cannot be null");return new Ee.y(Ke=>{(0,fe.f)(Ke,$e,()=>{const ee=ze[Symbol.asyncIterator]();(0,fe.f)(Ke,$e,()=>{ee.next().then(Qe=>{Qe.done?Ke.complete():Ke.next(Qe.value)})},0,!0)})})}var Pe=P(3670),Ve=P(8239),tt=P(1144),Fe=P(6495),Se=P(2206),Le=P(4532),De=P(3260);function Ze(ze,$e){return $e?function ot(ze,$e){if(null!=ze){if((0,Pe.c)(ze))return function Me(ze,$e){return(0,c.Xf)(ze).pipe((0,q.R)($e),(0,J.Q)($e))}(ze,$e);if((0,tt.z)(ze))return function ve(ze,$e){return new Ee.y(Ke=>{let ee=0;return $e.schedule(function(){ee===ze.length?Ke.complete():(Ke.next(ze[ee++]),Ke.closed||this.schedule())})})}(ze,$e);if((0,Ve.t)(ze))return function Re(ze,$e){return(0,c.Xf)(ze).pipe((0,q.R)($e),(0,J.Q)($e))}(ze,$e);if((0,Se.D)(ze))return Te(ze,$e);if((0,Fe.T)(ze))return function me(ze,$e){return new Ee.y(Ke=>{let ee;return(0,fe.f)(Ke,$e,()=>{ee=ze[Ce.h](),(0,fe.f)(Ke,$e,()=>{let Qe,he;try{({value:Qe,done:he}=ee.next())}catch(ye){return void Ke.error(ye)}he?Ke.complete():Ke.next(Qe)},0,!0)}),()=>(0,ke.m)(null==ee?void 0:ee.return)&&ee.return()})}(ze,$e);if((0,De.L)(ze))return function st(ze,$e){return Te((0,De.Q)(ze),$e)}(ze,$e)}throw(0,Le.z)(ze)}(ze,$e):(0,c.Xf)(ze)}},8421:(Zt,at,P)=>{"use strict";P.d(at,{Xf:()=>Pe});var c=P(655),J=P(1144),q=P(8239),Me=P(8306),Re=P(3670),Ee=P(2206),ve=P(4532),Ce=P(6495),ke=P(3260),fe=P(576),me=P(7849),Te=P(8822);function Pe(ot){if(ot instanceof Me.y)return ot;if(null!=ot){if((0,Re.c)(ot))return function Ve(ot){return new Me.y(Ze=>{const ze=ot[Te.L]();if((0,fe.m)(ze.subscribe))return ze.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ot);if((0,J.z)(ot))return function tt(ot){return new Me.y(Ze=>{for(let ze=0;ze<ot.length&&!Ze.closed;ze++)Ze.next(ot[ze]);Ze.complete()})}(ot);if((0,q.t)(ot))return function Fe(ot){return new Me.y(Ze=>{ot.then(ze=>{Ze.closed||(Ze.next(ze),Ze.complete())},ze=>Ze.error(ze)).then(null,me.h)})}(ot);if((0,Ee.D)(ot))return Le(ot);if((0,Ce.T)(ot))return function Se(ot){return new Me.y(Ze=>{for(const ze of ot)if(Ze.next(ze),Ze.closed)return;Ze.complete()})}(ot);if((0,ke.L)(ot))return function De(ot){return Le((0,ke.Q)(ot))}(ot)}throw(0,ve.z)(ot)}function Le(ot){return new Me.y(Ze=>{(function st(ot,Ze){var ze,$e,Ke,ee;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ze=(0,c.KL)(ot);!($e=yield ze.next()).done;)if(Ze.next($e.value),Ze.closed)return}catch(Qe){Ke={error:Qe}}finally{try{$e&&!$e.done&&(ee=ze.return)&&(yield ee.call(ze))}finally{if(Ke)throw Ke.error}}Ze.complete()})})(ot,Ze).catch(ze=>Ze.error(ze))})}},6451:(Zt,at,P)=>{"use strict";P.d(at,{T:()=>Ee});var c=P(8189),J=P(8421),q=P(515),Me=P(7669),Re=P(8996);function Ee(...ve){const Ce=(0,Me.yG)(ve),ke=(0,Me._6)(ve,1/0),fe=ve;return fe.length?1===fe.length?(0,J.Xf)(fe[0]):(0,c.J)(ke)((0,Re.D)(fe,Ce)):q.E}},9646:(Zt,at,P)=>{"use strict";P.d(at,{of:()=>q});var c=P(7669),J=P(8996);function q(...Me){const Re=(0,c.yG)(Me);return(0,J.D)(Me,Re)}},2843:(Zt,at,P)=>{"use strict";P.d(at,{_:()=>q});var c=P(8306),J=P(576);function q(Me,Re){const Ee=(0,J.m)(Me)?Me:()=>Me,ve=Ce=>Ce.error(Ee());return new c.y(Re?Ce=>Re.schedule(ve,0,Ce):ve)}},5403:(Zt,at,P)=>{"use strict";P.d(at,{x:()=>J});var c=P(930);function J(Me,Re,Ee,ve,Ce){return new q(Me,Re,Ee,ve,Ce)}class q extends c.Lv{constructor(Re,Ee,ve,Ce,ke,fe){super(Re),this.onFinalize=ke,this.shouldUnsubscribe=fe,this._next=Ee?function(me){try{Ee(me)}catch(Te){Re.error(Te)}}:super._next,this._error=Ce?function(me){try{Ce(me)}catch(Te){Re.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(me){Re.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},262:(Zt,at,P)=>{"use strict";P.d(at,{K:()=>Me});var c=P(8421),J=P(5403),q=P(4482);function Me(Re){return(0,q.e)((Ee,ve)=>{let fe,Ce=null,ke=!1;Ce=Ee.subscribe((0,J.x)(ve,void 0,void 0,me=>{fe=(0,c.Xf)(Re(me,Me(Re)(Ee))),Ce?(Ce.unsubscribe(),Ce=null,fe.subscribe(ve)):ke=!0})),ke&&(Ce.unsubscribe(),Ce=null,fe.subscribe(ve))})}},4351:(Zt,at,P)=>{"use strict";P.d(at,{b:()=>q});var c=P(5577),J=P(576);function q(Me,Re){return(0,J.m)(Re)?(0,c.z)(Me,Re,1):(0,c.z)(Me,1)}},6590:(Zt,at,P)=>{"use strict";P.d(at,{d:()=>q});var c=P(4482),J=P(5403);function q(Me){return(0,c.e)((Re,Ee)=>{let ve=!1;Re.subscribe((0,J.x)(Ee,Ce=>{ve=!0,Ee.next(Ce)},()=>{ve||Ee.next(Me),Ee.complete()}))})}},1884:(Zt,at,P)=>{"use strict";P.d(at,{x:()=>Me});var c=P(4671),J=P(4482),q=P(5403);function Me(Ee,ve=c.y){return Ee=null!=Ee?Ee:Re,(0,J.e)((Ce,ke)=>{let fe,me=!0;Ce.subscribe((0,q.x)(ke,Te=>{const Pe=ve(Te);(me||!Ee(fe,Pe))&&(me=!1,fe=Pe,ke.next(Te))}))})}function Re(Ee,ve){return Ee===ve}},9300:(Zt,at,P)=>{"use strict";P.d(at,{h:()=>q});var c=P(4482),J=P(5403);function q(Me,Re){return(0,c.e)((Ee,ve)=>{let Ce=0;Ee.subscribe((0,J.x)(ve,ke=>Me.call(Re,ke,Ce++)&&ve.next(ke)))})}},590:(Zt,at,P)=>{"use strict";P.d(at,{P:()=>ve});var c=P(6805),J=P(9300),q=P(5698),Me=P(6590),Re=P(8068),Ee=P(4671);function ve(Ce,ke){const fe=arguments.length>=2;return me=>me.pipe(Ce?(0,J.h)((Te,Pe)=>Ce(Te,Pe,me)):Ee.y,(0,q.q)(1),fe?(0,Me.d)(ke):(0,Re.T)(()=>new c.K))}},4004:(Zt,at,P)=>{"use strict";P.d(at,{U:()=>q});var c=P(4482),J=P(5403);function q(Me,Re){return(0,c.e)((Ee,ve)=>{let Ce=0;Ee.subscribe((0,J.x)(ve,ke=>{ve.next(Me.call(Re,ke,Ce++))}))})}},8189:(Zt,at,P)=>{"use strict";P.d(at,{J:()=>q});var c=P(5577),J=P(4671);function q(Me=1/0){return(0,c.z)(J.y,Me)}},5577:(Zt,at,P)=>{"use strict";P.d(at,{z:()=>Ce});var c=P(4004),J=P(8421),q=P(4482),Me=P(9672),Re=P(5403),ve=P(576);function Ce(ke,fe,me=1/0){return(0,ve.m)(fe)?Ce((Te,Pe)=>(0,c.U)((Ve,tt)=>fe(Te,Ve,Pe,tt))((0,J.Xf)(ke(Te,Pe))),me):("number"==typeof fe&&(me=fe),(0,q.e)((Te,Pe)=>function Ee(ke,fe,me,Te,Pe,Ve,tt,Fe){const Se=[];let Le=0,De=0,st=!1;const ot=()=>{st&&!Se.length&&!Le&&fe.complete()},Ze=$e=>Le<Te?ze($e):Se.push($e),ze=$e=>{Ve&&fe.next($e),Le++;let Ke=!1;(0,J.Xf)(me($e,De++)).subscribe((0,Re.x)(fe,ee=>{null==Pe||Pe(ee),Ve?Ze(ee):fe.next(ee)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(Le--;Se.length&&Le<Te;){const ee=Se.shift();tt?(0,Me.f)(fe,tt,()=>ze(ee)):ze(ee)}ot()}catch(ee){fe.error(ee)}}))};return ke.subscribe((0,Re.x)(fe,Ze,()=>{st=!0,ot()})),()=>{null==Fe||Fe()}}(Te,Pe,ke,me)))}},5363:(Zt,at,P)=>{"use strict";P.d(at,{Q:()=>Me});var c=P(9672),J=P(4482),q=P(5403);function Me(Re,Ee=0){return(0,J.e)((ve,Ce)=>{ve.subscribe((0,q.x)(Ce,ke=>(0,c.f)(Ce,Re,()=>Ce.next(ke),Ee),()=>(0,c.f)(Ce,Re,()=>Ce.complete(),Ee),ke=>(0,c.f)(Ce,Re,()=>Ce.error(ke),Ee)))})}},5026:(Zt,at,P)=>{"use strict";P.d(at,{R:()=>Me});var c=P(4482),J=P(5403);function q(Re,Ee,ve,Ce,ke){return(fe,me)=>{let Te=ve,Pe=Ee,Ve=0;fe.subscribe((0,J.x)(me,tt=>{const Fe=Ve++;Pe=Te?Re(Pe,tt,Fe):(Te=!0,tt),Ce&&me.next(Pe)},ke&&(()=>{Te&&me.next(Pe),me.complete()})))}}function Me(Re,Ee){return(0,c.e)(q(Re,Ee,arguments.length>=2,!0))}},3099:(Zt,at,P)=>{"use strict";P.d(at,{B:()=>Re});var c=P(8421),J=P(7579),q=P(930),Me=P(4482);function Re(ve={}){const{connector:Ce=(()=>new J.x),resetOnError:ke=!0,resetOnComplete:fe=!0,resetOnRefCountZero:me=!0}=ve;return Te=>{let Pe,Ve,tt,Fe=0,Se=!1,Le=!1;const De=()=>{null==Ve||Ve.unsubscribe(),Ve=void 0},st=()=>{De(),Pe=tt=void 0,Se=Le=!1},ot=()=>{const Ze=Pe;st(),null==Ze||Ze.unsubscribe()};return(0,Me.e)((Ze,ze)=>{Fe++,!Le&&!Se&&De();const $e=tt=null!=tt?tt:Ce();ze.add(()=>{Fe--,0===Fe&&!Le&&!Se&&(Ve=Ee(ot,me))}),$e.subscribe(ze),!Pe&&Fe>0&&(Pe=new q.Hp({next:Ke=>$e.next(Ke),error:Ke=>{Le=!0,De(),Ve=Ee(st,ke,Ke),$e.error(Ke)},complete:()=>{Se=!0,De(),Ve=Ee(st,fe),$e.complete()}}),(0,c.Xf)(Ze).subscribe(Pe))})(Te)}}function Ee(ve,Ce,...ke){if(!0===Ce)return void ve();if(!1===Ce)return;const fe=new q.Hp({next:()=>{fe.unsubscribe(),ve()}});return(0,c.Xf)(Ce(...ke)).subscribe(fe)}},3151:(Zt,at,P)=>{"use strict";P.d(at,{d:()=>Re});var c=P(7579),J=P(6063);class q extends c.x{constructor(ve=1/0,Ce=1/0,ke=J.l){super(),this._bufferSize=ve,this._windowTime=Ce,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,ve),this._windowTime=Math.max(1,Ce)}next(ve){const{isStopped:Ce,_buffer:ke,_infiniteTimeWindow:fe,_timestampProvider:me,_windowTime:Te}=this;Ce||(ke.push(ve),!fe&&ke.push(me.now()+Te)),this._trimBuffer(),super.next(ve)}_subscribe(ve){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(ve),{_infiniteTimeWindow:ke,_buffer:fe}=this,me=fe.slice();for(let Te=0;Te<me.length&&!ve.closed;Te+=ke?1:2)ve.next(me[Te]);return this._checkFinalizedStatuses(ve),Ce}_trimBuffer(){const{_bufferSize:ve,_timestampProvider:Ce,_buffer:ke,_infiniteTimeWindow:fe}=this,me=(fe?1:2)*ve;if(ve<1/0&&me<ke.length&&ke.splice(0,ke.length-me),!fe){const Te=Ce.now();let Pe=0;for(let Ve=1;Ve<ke.length&&ke[Ve]<=Te;Ve+=2)Pe=Ve;Pe&&ke.splice(0,Pe+1)}}}var Me=P(3099);function Re(Ee,ve,Ce){let ke,fe=!1;return Ee&&"object"==typeof Ee?({bufferSize:ke=1/0,windowTime:ve=1/0,refCount:fe=!1,scheduler:Ce}=Ee):ke=null!=Ee?Ee:1/0,(0,Me.B)({connector:()=>new q(ke,ve,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fe})}},8675:(Zt,at,P)=>{"use strict";P.d(at,{O:()=>Me});var c=P(7272),J=P(7669),q=P(4482);function Me(...Re){const Ee=(0,J.yG)(Re);return(0,q.e)((ve,Ce)=>{(Ee?(0,c.z)(Re,ve,Ee):(0,c.z)(Re,ve)).subscribe(Ce)})}},9468:(Zt,at,P)=>{"use strict";P.d(at,{R:()=>J});var c=P(4482);function J(q,Me=0){return(0,c.e)((Re,Ee)=>{Ee.add(q.schedule(()=>Re.subscribe(Ee),Me))})}},3900:(Zt,at,P)=>{"use strict";P.d(at,{w:()=>Me});var c=P(8421),J=P(4482),q=P(5403);function Me(Re,Ee){return(0,J.e)((ve,Ce)=>{let ke=null,fe=0,me=!1;const Te=()=>me&&!ke&&Ce.complete();ve.subscribe((0,q.x)(Ce,Pe=>{null==ke||ke.unsubscribe();let Ve=0;const tt=fe++;(0,c.Xf)(Re(Pe,tt)).subscribe(ke=(0,q.x)(Ce,Fe=>Ce.next(Ee?Ee(Pe,Fe,tt,Ve++):Fe),()=>{ke=null,Te()}))},()=>{me=!0,Te()}))})}},5698:(Zt,at,P)=>{"use strict";P.d(at,{q:()=>Me});var c=P(515),J=P(4482),q=P(5403);function Me(Re){return Re<=0?()=>c.E:(0,J.e)((Ee,ve)=>{let Ce=0;Ee.subscribe((0,q.x)(ve,ke=>{++Ce<=Re&&(ve.next(ke),Re<=Ce&&ve.complete())}))})}},8505:(Zt,at,P)=>{"use strict";P.d(at,{b:()=>Re});var c=P(576),J=P(4482),q=P(5403),Me=P(4671);function Re(Ee,ve,Ce){const ke=(0,c.m)(Ee)||ve||Ce?{next:Ee,error:ve,complete:Ce}:Ee;return ke?(0,J.e)((fe,me)=>{var Te;null===(Te=ke.subscribe)||void 0===Te||Te.call(ke);let Pe=!0;fe.subscribe((0,q.x)(me,Ve=>{var tt;null===(tt=ke.next)||void 0===tt||tt.call(ke,Ve),me.next(Ve)},()=>{var Ve;Pe=!1,null===(Ve=ke.complete)||void 0===Ve||Ve.call(ke),me.complete()},Ve=>{var tt;Pe=!1,null===(tt=ke.error)||void 0===tt||tt.call(ke,Ve),me.error(Ve)},()=>{var Ve,tt;Pe&&(null===(Ve=ke.unsubscribe)||void 0===Ve||Ve.call(ke)),null===(tt=ke.finalize)||void 0===tt||tt.call(ke)}))}):Me.y}},8068:(Zt,at,P)=>{"use strict";P.d(at,{T:()=>Me});var c=P(6805),J=P(4482),q=P(5403);function Me(Ee=Re){return(0,J.e)((ve,Ce)=>{let ke=!1;ve.subscribe((0,q.x)(Ce,fe=>{ke=!0,Ce.next(fe)},()=>ke?Ce.complete():Ce.error(Ee())))})}function Re(){return new c.K}},4408:(Zt,at,P)=>{"use strict";P.d(at,{o:()=>Re});var c=P(727);class J extends c.w0{constructor(ve,Ce){super()}schedule(ve,Ce=0){return this}}const q={setInterval(Ee,ve,...Ce){const{delegate:ke}=q;return(null==ke?void 0:ke.setInterval)?ke.setInterval(Ee,ve,...Ce):setInterval(Ee,ve,...Ce)},clearInterval(Ee){const{delegate:ve}=q;return((null==ve?void 0:ve.clearInterval)||clearInterval)(Ee)},delegate:void 0};var Me=P(8737);class Re extends J{constructor(ve,Ce){super(ve,Ce),this.scheduler=ve,this.work=Ce,this.pending=!1}schedule(ve,Ce=0){var ke;if(this.closed)return this;this.state=ve;const fe=this.id,me=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(me,fe,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(me,this.id,Ce),this}requestAsyncId(ve,Ce,ke=0){return q.setInterval(ve.flush.bind(ve,this),ke)}recycleAsyncId(ve,Ce,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return Ce;null!=Ce&&q.clearInterval(Ce)}execute(ve,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(ve,Ce);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Ce){let fe,ke=!1;try{this.work(ve)}catch(me){ke=!0,fe=me||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Ce}=this,{actions:ke}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Me.P)(ke,this),null!=ve&&(this.id=this.recycleAsyncId(Ce,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(Zt,at,P)=>{"use strict";P.d(at,{v:()=>q});var c=P(6063);class J{constructor(Re,Ee=J.now){this.schedulerActionCtor=Re,this.now=Ee}schedule(Re,Ee=0,ve){return new this.schedulerActionCtor(this,Re).schedule(ve,Ee)}}J.now=c.l.now;class q extends J{constructor(Re,Ee=J.now){super(Re,Ee),this.actions=[],this._active=!1}flush(Re){const{actions:Ee}=this;if(this._active)return void Ee.push(Re);let ve;this._active=!0;do{if(ve=Re.execute(Re.state,Re.delay))break}while(Re=Ee.shift());if(this._active=!1,ve){for(;Re=Ee.shift();)Re.unsubscribe();throw ve}}}},4986:(Zt,at,P)=>{"use strict";P.d(at,{z:()=>q});var c=P(4408);const q=new(P(7565).v)(c.o)},6063:(Zt,at,P)=>{"use strict";P.d(at,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Zt,at,P)=>{"use strict";P.d(at,{z:()=>c});const c={setTimeout(J,q,...Me){const{delegate:Re}=c;return(null==Re?void 0:Re.setTimeout)?Re.setTimeout(J,q,...Me):setTimeout(J,q,...Me)},clearTimeout(J){const{delegate:q}=c;return((null==q?void 0:q.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Zt,at,P)=>{"use strict";P.d(at,{h:()=>J});const J=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Zt,at,P)=>{"use strict";P.d(at,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Zt,at,P)=>{"use strict";P.d(at,{K:()=>J});const J=(0,P(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Zt,at,P)=>{"use strict";P.d(at,{_6:()=>Ee,jO:()=>Me,yG:()=>Re});var c=P(576);function q(ve){return ve[ve.length-1]}function Me(ve){return(0,c.m)(q(ve))?ve.pop():void 0}function Re(ve){return function J(ve){return ve&&(0,c.m)(ve.schedule)}(q(ve))?ve.pop():void 0}function Ee(ve,Ce){return"number"==typeof q(ve)?ve.pop():Ce}},4742:(Zt,at,P)=>{"use strict";P.d(at,{D:()=>Re});const{isArray:c}=Array,{getPrototypeOf:J,prototype:q,keys:Me}=Object;function Re(ve){if(1===ve.length){const Ce=ve[0];if(c(Ce))return{args:Ce,keys:null};if(function Ee(ve){return ve&&"object"==typeof ve&&J(ve)===q}(Ce)){const ke=Me(Ce);return{args:ke.map(fe=>Ce[fe]),keys:ke}}}return{args:ve,keys:null}}},8737:(Zt,at,P)=>{"use strict";function c(J,q){if(J){const Me=J.indexOf(q);0<=Me&&J.splice(Me,1)}}P.d(at,{P:()=>c})},3888:(Zt,at,P)=>{"use strict";function c(J){const Me=J(Re=>{Error.call(Re),Re.stack=(new Error).stack});return Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me}P.d(at,{d:()=>c})},1810:(Zt,at,P)=>{"use strict";function c(J,q){return J.reduce((Me,Re,Ee)=>(Me[Re]=q[Ee],Me),{})}P.d(at,{n:()=>c})},2806:(Zt,at,P)=>{"use strict";P.d(at,{x:()=>q,O:()=>Me});var c=P(2416);let J=null;function q(Re){if(c.v.useDeprecatedSynchronousErrorHandling){const Ee=!J;if(Ee&&(J={errorThrown:!1,error:null}),Re(),Ee){const{errorThrown:ve,error:Ce}=J;if(J=null,ve)throw Ce}}else Re()}function Me(Re){c.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=Re)}},9672:(Zt,at,P)=>{"use strict";function c(J,q,Me,Re=0,Ee=!1){const ve=q.schedule(function(){Me(),Ee?J.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(J.add(ve),!Ee)return ve}P.d(at,{f:()=>c})},4671:(Zt,at,P)=>{"use strict";function c(J){return J}P.d(at,{y:()=>c})},1144:(Zt,at,P)=>{"use strict";P.d(at,{z:()=>c});const c=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Zt,at,P)=>{"use strict";P.d(at,{D:()=>J});var c=P(576);function J(q){return Symbol.asyncIterator&&(0,c.m)(null==q?void 0:q[Symbol.asyncIterator])}},576:(Zt,at,P)=>{"use strict";function c(J){return"function"==typeof J}P.d(at,{m:()=>c})},3670:(Zt,at,P)=>{"use strict";P.d(at,{c:()=>q});var c=P(8822),J=P(576);function q(Me){return(0,J.m)(Me[c.L])}},6495:(Zt,at,P)=>{"use strict";P.d(at,{T:()=>q});var c=P(2202),J=P(576);function q(Me){return(0,J.m)(null==Me?void 0:Me[c.h])}},8239:(Zt,at,P)=>{"use strict";P.d(at,{t:()=>J});var c=P(576);function J(q){return(0,c.m)(null==q?void 0:q.then)}},3260:(Zt,at,P)=>{"use strict";P.d(at,{Q:()=>q,L:()=>Me});var c=P(655),J=P(576);function q(Re){return(0,c.FC)(this,arguments,function*(){const ve=Re.getReader();try{for(;;){const{value:Ce,done:ke}=yield(0,c.qq)(ve.read());if(ke)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ce)}}finally{ve.releaseLock()}})}function Me(Re){return(0,J.m)(null==Re?void 0:Re.getReader)}},4482:(Zt,at,P)=>{"use strict";P.d(at,{A:()=>J,e:()=>q});var c=P(576);function J(Me){return(0,c.m)(null==Me?void 0:Me.lift)}function q(Me){return Re=>{if(J(Re))return Re.lift(function(Ee){try{return Me(Ee,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Zt,at,P)=>{"use strict";P.d(at,{Z:()=>Me});var c=P(4004);const{isArray:J}=Array;function Me(Re){return(0,c.U)(Ee=>function q(Re,Ee){return J(Ee)?Re(...Ee):Re(Ee)}(Re,Ee))}},5032:(Zt,at,P)=>{"use strict";function c(){}P.d(at,{Z:()=>c})},7849:(Zt,at,P)=>{"use strict";P.d(at,{h:()=>q});var c=P(2416),J=P(3410);function q(Me){J.z.setTimeout(()=>{const{onUnhandledError:Re}=c.v;if(!Re)throw Me;Re(Me)})}},4532:(Zt,at,P)=>{"use strict";function c(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(at,{z:()=>c})},863:(Zt,at,P)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function J(q){if(!P.o(c,q))return Promise.resolve().then(()=>{var Ee=new Error("Cannot find module '"+q+"'");throw Ee.code="MODULE_NOT_FOUND",Ee});var Me=c[q],Re=Me[0];return Promise.all(Me.slice(1).map(P.e)).then(()=>P(Re))}J.keys=()=>Object.keys(c),J.id=863,Zt.exports=J},655:(Zt,at,P)=>{"use strict";function Me(he,ye){var ge={};for(var Ae in he)Object.prototype.hasOwnProperty.call(he,Ae)&&ye.indexOf(Ae)<0&&(ge[Ae]=he[Ae]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Ae=Object.getOwnPropertySymbols(he);Ye<Ae.length;Ye++)ye.indexOf(Ae[Ye])<0&&Object.prototype.propertyIsEnumerable.call(he,Ae[Ye])&&(ge[Ae[Ye]]=he[Ae[Ye]])}return ge}function Re(he,ye,ge,Ae){var Gt,Ye=arguments.length,pt=Ye<3?ye:null===Ae?Ae=Object.getOwnPropertyDescriptor(ye,ge):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(he,ye,ge,Ae);else for(var yt=he.length-1;yt>=0;yt--)(Gt=he[yt])&&(pt=(Ye<3?Gt(pt):Ye>3?Gt(ye,ge,pt):Gt(ye,ge))||pt);return Ye>3&&pt&&Object.defineProperty(ye,ge,pt),pt}function Ce(he,ye,ge,Ae){return new(ge||(ge=Promise))(function(pt,Gt){function yt(Ct){try{We(Ae.next(Ct))}catch(ft){Gt(ft)}}function ht(Ct){try{We(Ae.throw(Ct))}catch(ft){Gt(ft)}}function We(Ct){Ct.done?pt(Ct.value):function Ye(pt){return pt instanceof ge?pt:new ge(function(Gt){Gt(pt)})}(Ct.value).then(yt,ht)}We((Ae=Ae.apply(he,ye||[])).next())})}function Se(he){return this instanceof Se?(this.v=he,this):new Se(he)}function Le(he,ye,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Ae=ge.apply(he,ye||[]),pt=[];return Ye={},Gt("next"),Gt("throw"),Gt("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function Gt(Et){Ae[Et]&&(Ye[Et]=function(lt){return new Promise(function(Kt,Nt){pt.push([Et,lt,Kt,Nt])>1||yt(Et,lt)})})}function yt(Et,lt){try{!function ht(Et){Et.value instanceof Se?Promise.resolve(Et.value.v).then(We,Ct):ft(pt[0][2],Et)}(Ae[Et](lt))}catch(Kt){ft(pt[0][3],Kt)}}function We(Et){yt("next",Et)}function Ct(Et){yt("throw",Et)}function ft(Et,lt){Et(lt),pt.shift(),pt.length&&yt(pt[0][0],pt[0][1])}}function st(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ye=he[Symbol.asyncIterator];return ye?ye.call(he):(he=function Te(he){var ye="function"==typeof Symbol&&Symbol.iterator,ge=ye&&he[ye],Ae=0;if(ge)return ge.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Ae>=he.length&&(he=void 0),{value:he&&he[Ae++],done:!he}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ge={},Ae("next"),Ae("throw"),Ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Ae(pt){ge[pt]=he[pt]&&function(Gt){return new Promise(function(yt,ht){!function Ye(pt,Gt,yt,ht){Promise.resolve(ht).then(function(We){pt({value:We,done:yt})},Gt)}(yt,ht,(Gt=he[pt](Gt)).done,Gt.value)})}}}P.d(at,{_T:()=>Me,gn:()=>Re,mG:()=>Ce,qq:()=>Se,FC:()=>Le,KL:()=>st})},9808:(Zt,at,P)=>{"use strict";P.d(at,{mr:()=>De,ez:()=>Hs,H9:()=>Jr,K0:()=>ve,uU:()=>Ir,JJ:()=>Ho,Do:()=>ot,V_:()=>fe,Ye:()=>Ze,S$:()=>Se,mk:()=>Oi,sg:()=>Cr,O5:()=>re,PC:()=>ln,tP:()=>An,b0:()=>st,lw:()=>Ce,EM:()=>Oo,JF:()=>yr,PM:()=>bs,w_:()=>Ee,bD:()=>os,q:()=>q,Mx:()=>Li,HT:()=>Re});var c=P(5e3);let J=null;function q(){return J}function Re(V){J||(J=V)}class Ee{}const ve=new c.OlP("DocumentToken");let Ce=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=c.Yz7({token:V,factory:function(){return function ke(){return(0,c.LFG)(me)}()},providedIn:"platform"}),V})();const fe=new c.OlP("Location Initialized");let me=(()=>{class V extends Ce{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(U){const ue=q().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",U,!1),()=>ue.removeEventListener("popstate",U)}onHashChange(U){const ue=q().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",U,!1),()=>ue.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ue,Ue){Te()?this._history.pushState(U,ue,Ue):this.location.hash=Ue}replaceState(U,ue,Ue){Te()?this._history.replaceState(U,ue,Ue):this.location.hash=Ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return V.\u0275fac=function(U){return new(U||V)(c.LFG(ve))},V.\u0275prov=c.Yz7({token:V,factory:function(){return function Pe(){return new me((0,c.LFG)(ve))}()},providedIn:"platform"}),V})();function Te(){return!!window.history.pushState}function Ve(V,se){if(0==V.length)return se;if(0==se.length)return V;let U=0;return V.endsWith("/")&&U++,se.startsWith("/")&&U++,2==U?V+se.substring(1):1==U?V+se:V+"/"+se}function tt(V){const se=V.match(/#|\?|$/),U=se&&se.index||V.length;return V.slice(0,U-("/"===V[U-1]?1:0))+V.slice(U)}function Fe(V){return V&&"?"!==V[0]?"?"+V:V}let Se=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=c.Yz7({token:V,factory:function(){return function Le(V){const se=(0,c.LFG)(ve).location;return new st((0,c.LFG)(Ce),se&&se.origin||"")}()},providedIn:"root"}),V})();const De=new c.OlP("appBaseHref");let st=(()=>{class V extends Se{constructor(U,ue){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==ue&&(ue=this._platformLocation.getBaseHrefFromDOM()),null==ue)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ue}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ve(this._baseHref,U)}path(U=!1){const ue=this._platformLocation.pathname+Fe(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&U?`${ue}${Ue}`:ue}pushState(U,ue,Ue,Pt){const qt=this.prepareExternalUrl(Ue+Fe(Pt));this._platformLocation.pushState(U,ue,qt)}replaceState(U,ue,Ue,Pt){const qt=this.prepareExternalUrl(Ue+Fe(Pt));this._platformLocation.replaceState(U,ue,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var ue,Ue;null===(Ue=(ue=this._platformLocation).historyGo)||void 0===Ue||Ue.call(ue,U)}}return V.\u0275fac=function(U){return new(U||V)(c.LFG(Ce),c.LFG(De,8))},V.\u0275prov=c.Yz7({token:V,factory:V.\u0275fac}),V})(),ot=(()=>{class V extends Se{constructor(U,ue){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(U){const ue=Ve(this._baseHref,U);return ue.length>0?"#"+ue:ue}pushState(U,ue,Ue,Pt){let qt=this.prepareExternalUrl(Ue+Fe(Pt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState(U,ue,qt)}replaceState(U,ue,Ue,Pt){let qt=this.prepareExternalUrl(Ue+Fe(Pt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ue,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var ue,Ue;null===(Ue=(ue=this._platformLocation).historyGo)||void 0===Ue||Ue.call(ue,U)}}return V.\u0275fac=function(U){return new(U||V)(c.LFG(Ce),c.LFG(De,8))},V.\u0275prov=c.Yz7({token:V,factory:V.\u0275fac}),V})(),Ze=(()=>{class V{constructor(U,ue){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=U;const Ue=this._platformStrategy.getBaseHref();this._platformLocation=ue,this._baseHref=tt(Ke(Ue)),this._platformStrategy.onPopState(Pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pt.state,type:Pt.type})})}path(U=!1){return this.normalize(this._platformStrategy.path(U))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(U,ue=""){return this.path()==this.normalize(U+Fe(ue))}normalize(U){return V.stripTrailingSlash(function $e(V,se){return V&&se.startsWith(V)?se.substring(V.length):se}(this._baseHref,Ke(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._platformStrategy.prepareExternalUrl(U)}go(U,ue="",Ue=null){this._platformStrategy.pushState(Ue,"",U,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Fe(ue)),Ue)}replaceState(U,ue="",Ue=null){this._platformStrategy.replaceState(Ue,"",U,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Fe(ue)),Ue)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(U=0){var ue,Ue;null===(Ue=(ue=this._platformStrategy).historyGo)||void 0===Ue||Ue.call(ue,U)}onUrlChange(U){this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)}))}_notifyUrlChangeListeners(U="",ue){this._urlChangeListeners.forEach(Ue=>Ue(U,ue))}subscribe(U,ue,Ue){return this._subject.subscribe({next:U,error:ue,complete:Ue})}}return V.normalizeQueryParams=Fe,V.joinWithSlash=Ve,V.stripTrailingSlash=tt,V.\u0275fac=function(U){return new(U||V)(c.LFG(Se),c.LFG(Ce))},V.\u0275prov=c.Yz7({token:V,factory:function(){return function ze(){return new Ze((0,c.LFG)(Se),(0,c.LFG)(Ce))}()},providedIn:"root"}),V})();function Ke(V){return V.replace(/\/index.html$/,"")}const ee={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Percent=1]="Percent",Qe[Qe.Currency=2]="Currency",Qe[Qe.Scientific=3]="Scientific",Qe))(),ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.Medium=1]="Medium",Ae[Ae.Long=2]="Long",Ae[Ae.Full=3]="Full",Ae))(),Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Group=1]="Group",Ye[Ye.List=2]="List",Ye[Ye.PercentSign=3]="PercentSign",Ye[Ye.PlusSign=4]="PlusSign",Ye[Ye.MinusSign=5]="MinusSign",Ye[Ye.Exponential=6]="Exponential",Ye[Ye.SuperscriptingExponent=7]="SuperscriptingExponent",Ye[Ye.PerMille=8]="PerMille",Ye[Ye.Infinity=9]="Infinity",Ye[Ye.NaN=10]="NaN",Ye[Ye.TimeSeparator=11]="TimeSeparator",Ye[Ye.CurrencyDecimal=12]="CurrencyDecimal",Ye[Ye.CurrencyGroup=13]="CurrencyGroup",Ye))();function lt(V,se){return Wn((0,c.cg1)(V)[c.wAp.DateFormat],se)}function Kt(V,se){return Wn((0,c.cg1)(V)[c.wAp.TimeFormat],se)}function Nt(V,se){return Wn((0,c.cg1)(V)[c.wAp.DateTimeFormat],se)}function wt(V,se){const U=(0,c.cg1)(V),ue=U[c.wAp.NumberSymbols][se];if(void 0===ue){if(se===Ye.CurrencyDecimal)return U[c.wAp.NumberSymbols][Ye.Decimal];if(se===Ye.CurrencyGroup)return U[c.wAp.NumberSymbols][Ye.Group]}return ue}function Pn(V,se){return(0,c.cg1)(V)[c.wAp.NumberFormats][se]}function Ln(V){if(!V[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wn(V,se){for(let U=se;U>-1;U--)if(void 0!==V[U])return V[U];throw new Error("Locale data API: locale data undefined")}function Yn(V){const[se,U]=V.split(":");return{hours:+se,minutes:+U}}const qe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Je={},At=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vt=(()=>((vt=vt||{})[vt.Short=0]="Short",vt[vt.ShortGMT=1]="ShortGMT",vt[vt.Long=2]="Long",vt[vt.Extended=3]="Extended",vt))(),Wt=(()=>((Wt=Wt||{})[Wt.FullYear=0]="FullYear",Wt[Wt.Month=1]="Month",Wt[Wt.Date=2]="Date",Wt[Wt.Hours=3]="Hours",Wt[Wt.Minutes=4]="Minutes",Wt[Wt.Seconds=5]="Seconds",Wt[Wt.FractionalSeconds=6]="FractionalSeconds",Wt[Wt.Day=7]="Day",Wt))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function Un(V,se,U,ue){let Ue=function Bn(V){if(Yr(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[Ue,Pt=1,qt=1]=V.split("-").map(xn=>+xn);return Nn(Ue,Pt-1,qt)}const U=parseFloat(V);if(!isNaN(V-U))return new Date(U);let ue;if(ue=V.match(qe))return function wi(V){const se=new Date(0);let U=0,ue=0;const Ue=V[8]?se.setUTCFullYear:se.setFullYear,Pt=V[8]?se.setUTCHours:se.setHours;V[9]&&(U=Number(V[9]+V[10]),ue=Number(V[9]+V[11])),Ue.call(se,Number(V[1]),Number(V[2])-1,Number(V[3]));const qt=Number(V[4]||0)-U,xn=Number(V[5]||0)-ue,On=Number(V[6]||0),Qn=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return Pt.call(se,qt,xn,On,Qn),se}(ue)}const se=new Date(V);if(!Yr(se))throw new Error(`Unable to convert "${V}" into a date`);return se}(V);se=pn(U,se)||se;let xn,qt=[];for(;se;){if(xn=At.exec(se),!xn){qt.push(se);break}{qt=qt.concat(xn.slice(1));const ir=qt.pop();if(!ir)break;se=ir}}let On=Ue.getTimezoneOffset();ue&&(On=Pr(ue,On),Ue=function Hr(V,se,U){const ue=U?-1:1,Ue=V.getTimezoneOffset();return function Fi(V,se){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+se),V}(V,ue*(Pr(se,Ue)-Ue))}(Ue,ue,!0));let Qn="";return qt.forEach(ir=>{const cr=function rr(V){if(In[V])return In[V];let se;switch(V){case"G":case"GG":case"GGG":se=Xe(It.Eras,ge.Abbreviated);break;case"GGGG":se=Xe(It.Eras,ge.Wide);break;case"GGGGG":se=Xe(It.Eras,ge.Narrow);break;case"y":se=Ie(Wt.FullYear,1,0,!1,!0);break;case"yy":se=Ie(Wt.FullYear,2,0,!0,!0);break;case"yyy":se=Ie(Wt.FullYear,3,0,!1,!0);break;case"yyyy":se=Ie(Wt.FullYear,4,0,!1,!0);break;case"Y":se=Er(1);break;case"YY":se=Er(2,!0);break;case"YYY":se=Er(3);break;case"YYYY":se=Er(4);break;case"M":case"L":se=Ie(Wt.Month,1,1);break;case"MM":case"LL":se=Ie(Wt.Month,2,1);break;case"MMM":se=Xe(It.Months,ge.Abbreviated);break;case"MMMM":se=Xe(It.Months,ge.Wide);break;case"MMMMM":se=Xe(It.Months,ge.Narrow);break;case"LLL":se=Xe(It.Months,ge.Abbreviated,ye.Standalone);break;case"LLLL":se=Xe(It.Months,ge.Wide,ye.Standalone);break;case"LLLLL":se=Xe(It.Months,ge.Narrow,ye.Standalone);break;case"w":se=wn(1);break;case"ww":se=wn(2);break;case"W":se=wn(1,!0);break;case"d":se=Ie(Wt.Date,1);break;case"dd":se=Ie(Wt.Date,2);break;case"c":case"cc":se=Ie(Wt.Day,1);break;case"ccc":se=Xe(It.Days,ge.Abbreviated,ye.Standalone);break;case"cccc":se=Xe(It.Days,ge.Wide,ye.Standalone);break;case"ccccc":se=Xe(It.Days,ge.Narrow,ye.Standalone);break;case"cccccc":se=Xe(It.Days,ge.Short,ye.Standalone);break;case"E":case"EE":case"EEE":se=Xe(It.Days,ge.Abbreviated);break;case"EEEE":se=Xe(It.Days,ge.Wide);break;case"EEEEE":se=Xe(It.Days,ge.Narrow);break;case"EEEEEE":se=Xe(It.Days,ge.Short);break;case"a":case"aa":case"aaa":se=Xe(It.DayPeriods,ge.Abbreviated);break;case"aaaa":se=Xe(It.DayPeriods,ge.Wide);break;case"aaaaa":se=Xe(It.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":se=Xe(It.DayPeriods,ge.Abbreviated,ye.Standalone,!0);break;case"bbbb":se=Xe(It.DayPeriods,ge.Wide,ye.Standalone,!0);break;case"bbbbb":se=Xe(It.DayPeriods,ge.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":se=Xe(It.DayPeriods,ge.Abbreviated,ye.Format,!0);break;case"BBBB":se=Xe(It.DayPeriods,ge.Wide,ye.Format,!0);break;case"BBBBB":se=Xe(It.DayPeriods,ge.Narrow,ye.Format,!0);break;case"h":se=Ie(Wt.Hours,1,-12);break;case"hh":se=Ie(Wt.Hours,2,-12);break;case"H":se=Ie(Wt.Hours,1);break;case"HH":se=Ie(Wt.Hours,2);break;case"m":se=Ie(Wt.Minutes,1);break;case"mm":se=Ie(Wt.Minutes,2);break;case"s":se=Ie(Wt.Seconds,1);break;case"ss":se=Ie(Wt.Seconds,2);break;case"S":se=Ie(Wt.FractionalSeconds,1);break;case"SS":se=Ie(Wt.FractionalSeconds,2);break;case"SSS":se=Ie(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":se=Be(vt.Short);break;case"ZZZZZ":se=Be(vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":se=Be(vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":se=Be(vt.Long);break;default:return null}return In[V]=se,se}(ir);Qn+=cr?cr(Ue,U,On):"''"===ir?"'":ir.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qn}function Nn(V,se,U){const ue=new Date(0);return ue.setFullYear(V,se,U),ue.setHours(0,0,0),ue}function pn(V,se){const U=function Gt(V){return(0,c.cg1)(V)[c.wAp.LocaleId]}(V);if(Je[U]=Je[U]||{},Je[U][se])return Je[U][se];let ue="";switch(se){case"shortDate":ue=lt(V,Ae.Short);break;case"mediumDate":ue=lt(V,Ae.Medium);break;case"longDate":ue=lt(V,Ae.Long);break;case"fullDate":ue=lt(V,Ae.Full);break;case"shortTime":ue=Kt(V,Ae.Short);break;case"mediumTime":ue=Kt(V,Ae.Medium);break;case"longTime":ue=Kt(V,Ae.Long);break;case"fullTime":ue=Kt(V,Ae.Full);break;case"short":const Ue=pn(V,"shortTime"),Pt=pn(V,"shortDate");ue=ei(Nt(V,Ae.Short),[Ue,Pt]);break;case"medium":const qt=pn(V,"mediumTime"),xn=pn(V,"mediumDate");ue=ei(Nt(V,Ae.Medium),[qt,xn]);break;case"long":const On=pn(V,"longTime"),Qn=pn(V,"longDate");ue=ei(Nt(V,Ae.Long),[On,Qn]);break;case"full":const ir=pn(V,"fullTime"),cr=pn(V,"fullDate");ue=ei(Nt(V,Ae.Full),[ir,cr])}return ue&&(Je[U][se]=ue),ue}function ei(V,se){return se&&(V=V.replace(/\{([^}]+)}/g,function(U,ue){return null!=se&&ue in se?se[ue]:U})),V}function hr(V,se,U="-",ue,Ue){let Pt="";(V<0||Ue&&V<=0)&&(Ue?V=1-V:(V=-V,Pt=U));let qt=String(V);for(;qt.length<se;)qt="0"+qt;return ue&&(qt=qt.substr(qt.length-se)),Pt+qt}function Ie(V,se,U=0,ue=!1,Ue=!1){return function(Pt,qt){let xn=function je(V,se){switch(V){case Wt.FullYear:return se.getFullYear();case Wt.Month:return se.getMonth();case Wt.Date:return se.getDate();case Wt.Hours:return se.getHours();case Wt.Minutes:return se.getMinutes();case Wt.Seconds:return se.getSeconds();case Wt.FractionalSeconds:return se.getMilliseconds();case Wt.Day:return se.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,Pt);if((U>0||xn>-U)&&(xn+=U),V===Wt.Hours)0===xn&&-12===U&&(xn=12);else if(V===Wt.FractionalSeconds)return function Ar(V,se){return hr(V,3).substr(0,se)}(xn,se);const On=wt(qt,Ye.MinusSign);return hr(xn,se,On,ue,Ue)}}function Xe(V,se,U=ye.Format,ue=!1){return function(Ue,Pt){return function xt(V,se,U,ue,Ue,Pt){switch(U){case It.Months:return function We(V,se,U){const ue=(0,c.cg1)(V),Pt=Wn([ue[c.wAp.MonthsFormat],ue[c.wAp.MonthsStandalone]],se);return Wn(Pt,U)}(se,Ue,ue)[V.getMonth()];case It.Days:return function ht(V,se,U){const ue=(0,c.cg1)(V),Pt=Wn([ue[c.wAp.DaysFormat],ue[c.wAp.DaysStandalone]],se);return Wn(Pt,U)}(se,Ue,ue)[V.getDay()];case It.DayPeriods:const qt=V.getHours(),xn=V.getMinutes();if(Pt){const Qn=function kn(V){const se=(0,c.cg1)(V);return Ln(se),(se[c.wAp.ExtraData][2]||[]).map(ue=>"string"==typeof ue?Yn(ue):[Yn(ue[0]),Yn(ue[1])])}(se),ir=function _n(V,se,U){const ue=(0,c.cg1)(V);Ln(ue);const Pt=Wn([ue[c.wAp.ExtraData][0],ue[c.wAp.ExtraData][1]],se)||[];return Wn(Pt,U)||[]}(se,Ue,ue),cr=Qn.findIndex(di=>{if(Array.isArray(di)){const[Br,Vr]=di,Ns=qt>=Br.hours&&xn>=Br.minutes,es=qt<Vr.hours||qt===Vr.hours&&xn<Vr.minutes;if(Br.hours<Vr.hours){if(Ns&&es)return!0}else if(Ns||es)return!0}else if(di.hours===qt&&di.minutes===xn)return!0;return!1});if(-1!==cr)return ir[cr]}return function yt(V,se,U){const ue=(0,c.cg1)(V),Pt=Wn([ue[c.wAp.DayPeriodsFormat],ue[c.wAp.DayPeriodsStandalone]],se);return Wn(Pt,U)}(se,Ue,ue)[qt<12?0:1];case It.Eras:return function Ct(V,se){return Wn((0,c.cg1)(V)[c.wAp.Eras],se)}(se,ue)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(Ue,Pt,V,se,U,ue)}}function Be(V){return function(se,U,ue){const Ue=-1*ue,Pt=wt(U,Ye.MinusSign),qt=Ue>0?Math.floor(Ue/60):Math.ceil(Ue/60);switch(V){case vt.Short:return(Ue>=0?"+":"")+hr(qt,2,Pt)+hr(Math.abs(Ue%60),2,Pt);case vt.ShortGMT:return"GMT"+(Ue>=0?"+":"")+hr(qt,1,Pt);case vt.Long:return"GMT"+(Ue>=0?"+":"")+hr(qt,2,Pt)+":"+hr(Math.abs(Ue%60),2,Pt);case vt.Extended:return 0===ue?"Z":(Ue>=0?"+":"")+hr(qt,2,Pt)+":"+hr(Math.abs(Ue%60),2,Pt);default:throw new Error(`Unknown zone width "${V}"`)}}}function vn(V){return Nn(V.getFullYear(),V.getMonth(),V.getDate()+(4-V.getDay()))}function wn(V,se=!1){return function(U,ue){let Ue;if(se){const Pt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,qt=U.getDate();Ue=1+Math.floor((qt+Pt)/7)}else{const Pt=vn(U),qt=function rn(V){const se=Nn(V,0,1).getDay();return Nn(V,0,1+(se<=4?4:11)-se)}(Pt.getFullYear()),xn=Pt.getTime()-qt.getTime();Ue=1+Math.round(xn/6048e5)}return hr(Ue,V,wt(ue,Ye.MinusSign))}}function Er(V,se=!1){return function(U,ue){return hr(vn(U).getFullYear(),V,wt(ue,Ye.MinusSign),se)}}const In={};function Pr(V,se){V=V.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(U)?se:U}function Yr(V){return V instanceof Date&&!isNaN(V.valueOf())}const jr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function oi(V,se,U,ue,Ue,Pt,qt=!1){let xn="",On=!1;if(isFinite(V)){let Qn=function ai(V){let ue,Ue,Pt,qt,xn,se=Math.abs(V)+"",U=0;for((Ue=se.indexOf("."))>-1&&(se=se.replace(".","")),(Pt=se.search(/e/i))>0?(Ue<0&&(Ue=Pt),Ue+=+se.slice(Pt+1),se=se.substring(0,Pt)):Ue<0&&(Ue=se.length),Pt=0;"0"===se.charAt(Pt);Pt++);if(Pt===(xn=se.length))ue=[0],Ue=1;else{for(xn--;"0"===se.charAt(xn);)xn--;for(Ue-=Pt,ue=[],qt=0;Pt<=xn;Pt++,qt++)ue[qt]=Number(se.charAt(Pt))}return Ue>22&&(ue=ue.splice(0,21),U=Ue-1,Ue=1),{digits:ue,exponent:U,integerLen:Ue}}(V);qt&&(Qn=function Zr(V){if(0===V.digits[0])return V;const se=V.digits.length-V.integerLen;return V.exponent?V.exponent+=2:(0===se?V.digits.push(0,0):1===se&&V.digits.push(0),V.integerLen+=2),V}(Qn));let ir=se.minInt,cr=se.minFrac,di=se.maxFrac;if(Pt){const xs=Pt.match(jr);if(null===xs)throw new Error(`${Pt} is not a valid digit info`);const zo=xs[1],Po=xs[3],Gs=xs[5];null!=zo&&(ir=or(zo)),null!=Po&&(cr=or(Po)),null!=Gs?di=or(Gs):null!=Po&&cr>di&&(di=cr)}!function lr(V,se,U){if(se>U)throw new Error(`The minimum number of digits after fraction (${se}) is higher than the maximum (${U}).`);let ue=V.digits,Ue=ue.length-V.integerLen;const Pt=Math.min(Math.max(se,Ue),U);let qt=Pt+V.integerLen,xn=ue[qt];if(qt>0){ue.splice(Math.max(V.integerLen,qt));for(let cr=qt;cr<ue.length;cr++)ue[cr]=0}else{Ue=Math.max(0,Ue),V.integerLen=1,ue.length=Math.max(1,qt=Pt+1),ue[0]=0;for(let cr=1;cr<qt;cr++)ue[cr]=0}if(xn>=5)if(qt-1<0){for(let cr=0;cr>qt;cr--)ue.unshift(0),V.integerLen++;ue.unshift(1),V.integerLen++}else ue[qt-1]++;for(;Ue<Math.max(0,Pt);Ue++)ue.push(0);let On=0!==Pt;const Qn=se+V.integerLen,ir=ue.reduceRight(function(cr,di,Br,Vr){return Vr[Br]=(di+=cr)<10?di:di-10,On&&(0===Vr[Br]&&Br>=Qn?Vr.pop():On=!1),di>=10?1:0},0);ir&&(ue.unshift(ir),V.integerLen++)}(Qn,cr,di);let Br=Qn.digits,Vr=Qn.integerLen;const Ns=Qn.exponent;let es=[];for(On=Br.every(xs=>!xs);Vr<ir;Vr++)Br.unshift(0);for(;Vr<0;Vr++)Br.unshift(0);Vr>0?es=Br.splice(Vr,Br.length):(es=Br,Br=[0]);const Sn=[];for(Br.length>=se.lgSize&&Sn.unshift(Br.splice(-se.lgSize,Br.length).join(""));Br.length>se.gSize;)Sn.unshift(Br.splice(-se.gSize,Br.length).join(""));Br.length&&Sn.unshift(Br.join("")),xn=Sn.join(wt(U,ue)),es.length&&(xn+=wt(U,Ue)+es.join("")),Ns&&(xn+=wt(U,Ye.Exponential)+"+"+Ns)}else xn=wt(U,Ye.Infinity);return xn=V<0&&!On?se.negPre+xn+se.negSuf:se.posPre+xn+se.posSuf,xn}function Zn(V,se="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ue=V.split(";"),Ue=ue[0],Pt=ue[1],qt=-1!==Ue.indexOf(".")?Ue.split("."):[Ue.substring(0,Ue.lastIndexOf("0")+1),Ue.substring(Ue.lastIndexOf("0")+1)],xn=qt[0],On=qt[1]||"";U.posPre=xn.substr(0,xn.indexOf("#"));for(let ir=0;ir<On.length;ir++){const cr=On.charAt(ir);"0"===cr?U.minFrac=U.maxFrac=ir+1:"#"===cr?U.maxFrac=ir+1:U.posSuf+=cr}const Qn=xn.split(",");if(U.gSize=Qn[1]?Qn[1].length:0,U.lgSize=Qn[2]||Qn[1]?(Qn[2]||Qn[1]).length:0,Pt){const ir=Ue.length-U.posPre.length-U.posSuf.length,cr=Pt.indexOf("#");U.negPre=Pt.substr(0,cr).replace(/'/g,""),U.negSuf=Pt.substr(cr+ir).replace(/'/g,"")}else U.negPre=se+U.posPre,U.negSuf=U.posSuf;return U}function or(V){const se=parseInt(V);if(isNaN(se))throw new Error("Invalid integer literal when parsing "+V);return se}function Li(V,se){se=encodeURIComponent(se);for(const U of V.split(";")){const ue=U.indexOf("="),[Ue,Pt]=-1==ue?[U,""]:[U.slice(0,ue),U.slice(ue+1)];if(Ue.trim()===se)return decodeURIComponent(Pt)}return null}let Oi=(()=>{class V{constructor(U,ue,Ue,Pt){this._iterableDiffers=U,this._keyValueDiffers=ue,this._ngEl=Ue,this._renderer=Pt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),U.forEachChangedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),U.forEachRemovedItem(ue=>{ue.previousValue&&this._toggleClass(ue.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ue=>{if("string"!=typeof ue.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ue.item)}`);this._toggleClass(ue.item,!0)}),U.forEachRemovedItem(ue=>this._toggleClass(ue.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ue=>this._toggleClass(ue,!0)):Object.keys(U).forEach(ue=>this._toggleClass(ue,!!U[ue])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ue=>this._toggleClass(ue,!1)):Object.keys(U).forEach(ue=>this._toggleClass(ue,!1)))}_toggleClass(U,ue){(U=U.trim())&&U.split(/\s+/g).forEach(Ue=>{ue?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},V.\u0275dir=c.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class li{constructor(se,U,ue,Ue){this.$implicit=se,this.ngForOf=U,this.index=ue,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cr=(()=>{class V{constructor(U,ue,Ue){this._viewContainer=U,this._template=ue,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ue=this._viewContainer;U.forEachOperation((Ue,Pt,qt)=>{if(null==Ue.previousIndex)ue.createEmbeddedView(this._template,new li(Ue.item,this._ngForOf,-1,-1),null===qt?void 0:qt);else if(null==qt)ue.remove(null===Pt?void 0:Pt);else if(null!==Pt){const xn=ue.get(Pt);ue.move(xn,qt),ui(xn,Ue)}});for(let Ue=0,Pt=ue.length;Ue<Pt;Ue++){const xn=ue.get(Ue).context;xn.index=Ue,xn.count=Pt,xn.ngForOf=this._ngForOf}U.forEachIdentityChange(Ue=>{ui(ue.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(U,ue){return!0}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},V.\u0275dir=c.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function ui(V,se){V.context.$implicit=se.item}let re=(()=>{class V{constructor(U,ue){this._viewContainer=U,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){et("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){et("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ue){return!0}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.s_b),c.Y36(c.Rgc))},V.\u0275dir=c.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function et(V,se){if(se&&!se.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,c.AaK)(se)}'.`)}let ln=(()=>{class V{constructor(U,ue,Ue){this._ngEl=U,this._differs=ue,this._renderer=Ue,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,ue){const[Ue,Pt]=U.split(".");null!=(ue=null!=ue&&Pt?`${ue}${Pt}`:ue)?this._renderer.setStyle(this._ngEl.nativeElement,Ue,ue):this._renderer.removeStyle(this._ngEl.nativeElement,Ue)}_applyChanges(U){U.forEachRemovedItem(ue=>this._setStyle(ue.key,null)),U.forEachAddedItem(ue=>this._setStyle(ue.key,ue.currentValue)),U.forEachChangedItem(ue=>this._setStyle(ue.key,ue.currentValue))}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},V.\u0275dir=c.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),V})(),An=(()=>{class V{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(U){if(U.ngTemplateOutlet){const ue=this._viewContainerRef;this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ue.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.s_b))},V.\u0275dir=c.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),V})();function nr(V,se){return new c.vHH(2100,"")}const bi=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ir=(()=>{class V{constructor(U,ue){this.locale=U,this.defaultTimezone=ue}transform(U,ue="mediumDate",Ue,Pt){var qt;if(null==U||""===U||U!=U)return null;try{return Un(U,ue,Pt||this.locale,null!==(qt=null!=Ue?Ue:this.defaultTimezone)&&void 0!==qt?qt:void 0)}catch(xn){throw nr()}}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.soG,16),c.Y36(bi,24))},V.\u0275pipe=c.Yjl({name:"date",type:V,pure:!0}),V})(),Ho=(()=>{class V{constructor(U){this._locale=U}transform(U,ue,Ue){if(!ss(U))return null;Ue=Ue||this._locale;try{return function cn(V,se,U){return oi(V,Zn(Pn(se,Qe.Decimal),wt(se,Ye.MinusSign)),se,Ye.Group,Ye.Decimal,U)}(ws(U),Ue,ue)}catch(Pt){throw nr()}}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.soG,16))},V.\u0275pipe=c.Yjl({name:"number",type:V,pure:!0}),V})(),Jr=(()=>{class V{constructor(U,ue="USD"){this._locale=U,this._defaultCurrencyCode=ue}transform(U,ue=this._defaultCurrencyCode,Ue="symbol",Pt,qt){if(!ss(U))return null;qt=qt||this._locale,"boolean"==typeof Ue&&(Ue=Ue?"symbol":"code");let xn=ue||this._defaultCurrencyCode;"code"!==Ue&&(xn="symbol"===Ue||"symbol-narrow"===Ue?function $r(V,se,U="en"){const ue=function qn(V){return(0,c.cg1)(V)[c.wAp.Currencies]}(U)[V]||ee[V]||[],Ue=ue[1];return"narrow"===se&&"string"==typeof Ue?Ue:ue[0]||V}(xn,"symbol"===Ue?"wide":"narrow",qt):Ue);try{return function jn(V,se,U,ue,Ue){const qt=Zn(Pn(se,Qe.Currency),wt(se,Ye.MinusSign));return qt.minFrac=function Lt(V){let se;const U=ee[V];return U&&(se=U[2]),"number"==typeof se?se:2}(ue),qt.maxFrac=qt.minFrac,oi(V,qt,se,Ye.CurrencyGroup,Ye.CurrencyDecimal,Ue).replace("\xa4",U).replace("\xa4","").trim()}(ws(U),qt,xn,ue,Pt)}catch(On){throw nr()}}}return V.\u0275fac=function(U){return new(U||V)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},V.\u0275pipe=c.Yjl({name:"currency",type:V,pure:!0}),V})();function ss(V){return!(null==V||""===V||V!=V)}function ws(V){if("string"==typeof V&&!isNaN(Number(V)-parseFloat(V)))return Number(V);if("number"!=typeof V)throw new Error(`${V} is not a number`);return V}let Hs=(()=>{class V{}return V.\u0275fac=function(U){return new(U||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({}),V})();const os="browser";function bs(V){return"server"===V}let Oo=(()=>{class V{}return V.\u0275prov=(0,c.Yz7)({token:V,providedIn:"root",factory:()=>new Gr((0,c.LFG)(ve),window)}),V})();class Gr{constructor(se,U){this.document=se,this.window=U,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const U=function ls(V,se){const U=V.getElementById(se)||V.getElementsByName(se)[0];if(U)return U;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ue=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Ue=ue.currentNode;for(;Ue;){const Pt=Ue.shadowRoot;if(Pt){const qt=Pt.getElementById(se)||Pt.querySelector(`[name="${se}"]`);if(qt)return qt}Ue=ue.nextNode()}}return null}(this.document,se);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=se)}}scrollToElement(se){const U=se.getBoundingClientRect(),ue=U.left+this.window.pageXOffset,Ue=U.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(ue-Pt[0],Ue-Pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=Ji(this.window.history)||Ji(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function Ji(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class yr{}},520:(Zt,at,P)=>{"use strict";P.d(at,{eN:()=>Ye,JF:()=>Yn,WM:()=>fe});var c=P(9808),J=P(5e3),q=P(9646),Me=P(8306),Re=P(4351),Ee=P(9300),ve=P(4004);class Ce{}class ke{}class fe{constructor(qe){this.normalizedNames=new Map,this.lazyUpdate=null,qe?this.lazyInit="string"==typeof qe?()=>{this.headers=new Map,qe.split("\n").forEach(Je=>{const At=Je.indexOf(":");if(At>0){const vt=Je.slice(0,At),Wt=vt.toLowerCase(),It=Je.slice(At+1).trim();this.maybeSetNormalizedName(vt,Wt),this.headers.has(Wt)?this.headers.get(Wt).push(It):this.headers.set(Wt,[It])}})}:()=>{this.headers=new Map,Object.keys(qe).forEach(Je=>{let At=qe[Je];const vt=Je.toLowerCase();"string"==typeof At&&(At=[At]),At.length>0&&(this.headers.set(vt,At),this.maybeSetNormalizedName(Je,vt))})}:this.headers=new Map}has(qe){return this.init(),this.headers.has(qe.toLowerCase())}get(qe){this.init();const Je=this.headers.get(qe.toLowerCase());return Je&&Je.length>0?Je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(qe){return this.init(),this.headers.get(qe.toLowerCase())||null}append(qe,Je){return this.clone({name:qe,value:Je,op:"a"})}set(qe,Je){return this.clone({name:qe,value:Je,op:"s"})}delete(qe,Je){return this.clone({name:qe,value:Je,op:"d"})}maybeSetNormalizedName(qe,Je){this.normalizedNames.has(Je)||this.normalizedNames.set(Je,qe)}init(){this.lazyInit&&(this.lazyInit instanceof fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(qe=>this.applyUpdate(qe)),this.lazyUpdate=null))}copyFrom(qe){qe.init(),Array.from(qe.headers.keys()).forEach(Je=>{this.headers.set(Je,qe.headers.get(Je)),this.normalizedNames.set(Je,qe.normalizedNames.get(Je))})}clone(qe){const Je=new fe;return Je.lazyInit=this.lazyInit&&this.lazyInit instanceof fe?this.lazyInit:this,Je.lazyUpdate=(this.lazyUpdate||[]).concat([qe]),Je}applyUpdate(qe){const Je=qe.name.toLowerCase();switch(qe.op){case"a":case"s":let At=qe.value;if("string"==typeof At&&(At=[At]),0===At.length)return;this.maybeSetNormalizedName(qe.name,Je);const vt=("a"===qe.op?this.headers.get(Je):void 0)||[];vt.push(...At),this.headers.set(Je,vt);break;case"d":const Wt=qe.value;if(Wt){let It=this.headers.get(Je);if(!It)return;It=It.filter(Un=>-1===Wt.indexOf(Un)),0===It.length?(this.headers.delete(Je),this.normalizedNames.delete(Je)):this.headers.set(Je,It)}else this.headers.delete(Je),this.normalizedNames.delete(Je)}}forEach(qe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Je=>qe(this.normalizedNames.get(Je),this.headers.get(Je)))}}class me{encodeKey(qe){return tt(qe)}encodeValue(qe){return tt(qe)}decodeKey(qe){return decodeURIComponent(qe)}decodeValue(qe){return decodeURIComponent(qe)}}const Pe=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tt(Lt){return encodeURIComponent(Lt).replace(Pe,(qe,Je)=>{var At;return null!==(At=Ve[Je])&&void 0!==At?At:qe})}function Fe(Lt){return`${Lt}`}class Se{constructor(qe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=qe.encoder||new me,qe.fromString){if(qe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Te(Lt,qe){const Je=new Map;return Lt.length>0&&Lt.replace(/^\?/,"").split("&").forEach(vt=>{const Wt=vt.indexOf("="),[It,Un]=-1==Wt?[qe.decodeKey(vt),""]:[qe.decodeKey(vt.slice(0,Wt)),qe.decodeValue(vt.slice(Wt+1))],Nn=Je.get(It)||[];Nn.push(Un),Je.set(It,Nn)}),Je}(qe.fromString,this.encoder)}else qe.fromObject?(this.map=new Map,Object.keys(qe.fromObject).forEach(Je=>{const At=qe.fromObject[Je];this.map.set(Je,Array.isArray(At)?At:[At])})):this.map=null}has(qe){return this.init(),this.map.has(qe)}get(qe){this.init();const Je=this.map.get(qe);return Je?Je[0]:null}getAll(qe){return this.init(),this.map.get(qe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(qe,Je){return this.clone({param:qe,value:Je,op:"a"})}appendAll(qe){const Je=[];return Object.keys(qe).forEach(At=>{const vt=qe[At];Array.isArray(vt)?vt.forEach(Wt=>{Je.push({param:At,value:Wt,op:"a"})}):Je.push({param:At,value:vt,op:"a"})}),this.clone(Je)}set(qe,Je){return this.clone({param:qe,value:Je,op:"s"})}delete(qe,Je){return this.clone({param:qe,value:Je,op:"d"})}toString(){return this.init(),this.keys().map(qe=>{const Je=this.encoder.encodeKey(qe);return this.map.get(qe).map(At=>Je+"="+this.encoder.encodeValue(At)).join("&")}).filter(qe=>""!==qe).join("&")}clone(qe){const Je=new Se({encoder:this.encoder});return Je.cloneFrom=this.cloneFrom||this,Je.updates=(this.updates||[]).concat(qe),Je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(qe=>this.map.set(qe,this.cloneFrom.map.get(qe))),this.updates.forEach(qe=>{switch(qe.op){case"a":case"s":const Je=("a"===qe.op?this.map.get(qe.param):void 0)||[];Je.push(Fe(qe.value)),this.map.set(qe.param,Je);break;case"d":if(void 0===qe.value){this.map.delete(qe.param);break}{let At=this.map.get(qe.param)||[];const vt=At.indexOf(Fe(qe.value));-1!==vt&&At.splice(vt,1),At.length>0?this.map.set(qe.param,At):this.map.delete(qe.param)}}}),this.cloneFrom=this.updates=null)}}class De{constructor(){this.map=new Map}set(qe,Je){return this.map.set(qe,Je),this}get(qe){return this.map.has(qe)||this.map.set(qe,qe.defaultValue()),this.map.get(qe)}delete(qe){return this.map.delete(qe),this}has(qe){return this.map.has(qe)}keys(){return this.map.keys()}}function ot(Lt){return"undefined"!=typeof ArrayBuffer&&Lt instanceof ArrayBuffer}function Ze(Lt){return"undefined"!=typeof Blob&&Lt instanceof Blob}function ze(Lt){return"undefined"!=typeof FormData&&Lt instanceof FormData}class Ke{constructor(qe,Je,At,vt){let Wt;if(this.url=Je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=qe.toUpperCase(),function st(Lt){switch(Lt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==At?At:null,Wt=vt):Wt=At,Wt&&(this.reportProgress=!!Wt.reportProgress,this.withCredentials=!!Wt.withCredentials,Wt.responseType&&(this.responseType=Wt.responseType),Wt.headers&&(this.headers=Wt.headers),Wt.context&&(this.context=Wt.context),Wt.params&&(this.params=Wt.params)),this.headers||(this.headers=new fe),this.context||(this.context=new De),this.params){const It=this.params.toString();if(0===It.length)this.urlWithParams=Je;else{const Un=Je.indexOf("?");this.urlWithParams=Je+(-1===Un?"?":Un<Je.length-1?"&":"")+It}}else this.params=new Se,this.urlWithParams=Je}serializeBody(){return null===this.body?null:ot(this.body)||Ze(this.body)||ze(this.body)||function $e(Lt){return"undefined"!=typeof URLSearchParams&&Lt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:Ze(this.body)?this.body.type||null:ot(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(qe={}){var Je;const At=qe.method||this.method,vt=qe.url||this.url,Wt=qe.responseType||this.responseType,It=void 0!==qe.body?qe.body:this.body,Un=void 0!==qe.withCredentials?qe.withCredentials:this.withCredentials,Nn=void 0!==qe.reportProgress?qe.reportProgress:this.reportProgress;let pn=qe.headers||this.headers,ei=qe.params||this.params;const hr=null!==(Je=qe.context)&&void 0!==Je?Je:this.context;return void 0!==qe.setHeaders&&(pn=Object.keys(qe.setHeaders).reduce((Ar,Ie)=>Ar.set(Ie,qe.setHeaders[Ie]),pn)),qe.setParams&&(ei=Object.keys(qe.setParams).reduce((Ar,Ie)=>Ar.set(Ie,qe.setParams[Ie]),ei)),new Ke(At,vt,It,{params:ei,headers:pn,context:hr,reportProgress:Nn,responseType:Wt,withCredentials:Un})}}var ee=(()=>((ee=ee||{})[ee.Sent=0]="Sent",ee[ee.UploadProgress=1]="UploadProgress",ee[ee.ResponseHeader=2]="ResponseHeader",ee[ee.DownloadProgress=3]="DownloadProgress",ee[ee.Response=4]="Response",ee[ee.User=5]="User",ee))();class Qe{constructor(qe,Je=200,At="OK"){this.headers=qe.headers||new fe,this.status=void 0!==qe.status?qe.status:Je,this.statusText=qe.statusText||At,this.url=qe.url||null,this.ok=this.status>=200&&this.status<300}}class he extends Qe{constructor(qe={}){super(qe),this.type=ee.ResponseHeader}clone(qe={}){return new he({headers:qe.headers||this.headers,status:void 0!==qe.status?qe.status:this.status,statusText:qe.statusText||this.statusText,url:qe.url||this.url||void 0})}}class ye extends Qe{constructor(qe={}){super(qe),this.type=ee.Response,this.body=void 0!==qe.body?qe.body:null}clone(qe={}){return new ye({body:void 0!==qe.body?qe.body:this.body,headers:qe.headers||this.headers,status:void 0!==qe.status?qe.status:this.status,statusText:qe.statusText||this.statusText,url:qe.url||this.url||void 0})}}class ge extends Qe{constructor(qe){super(qe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${qe.url||"(unknown url)"}`:`Http failure response for ${qe.url||"(unknown url)"}: ${qe.status} ${qe.statusText}`,this.error=qe.error||null}}function Ae(Lt,qe){return{body:qe,headers:Lt.headers,context:Lt.context,observe:Lt.observe,params:Lt.params,reportProgress:Lt.reportProgress,responseType:Lt.responseType,withCredentials:Lt.withCredentials}}let Ye=(()=>{class Lt{constructor(Je){this.handler=Je}request(Je,At,vt={}){let Wt;if(Je instanceof Ke)Wt=Je;else{let Nn,pn;Nn=vt.headers instanceof fe?vt.headers:new fe(vt.headers),vt.params&&(pn=vt.params instanceof Se?vt.params:new Se({fromObject:vt.params})),Wt=new Ke(Je,At,void 0!==vt.body?vt.body:null,{headers:Nn,context:vt.context,params:pn,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const It=(0,q.of)(Wt).pipe((0,Re.b)(Nn=>this.handler.handle(Nn)));if(Je instanceof Ke||"events"===vt.observe)return It;const Un=It.pipe((0,Ee.h)(Nn=>Nn instanceof ye));switch(vt.observe||"body"){case"body":switch(Wt.responseType){case"arraybuffer":return Un.pipe((0,ve.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nn.body}));case"blob":return Un.pipe((0,ve.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof Blob))throw new Error("Response is not a Blob.");return Nn.body}));case"text":return Un.pipe((0,ve.U)(Nn=>{if(null!==Nn.body&&"string"!=typeof Nn.body)throw new Error("Response is not a string.");return Nn.body}));default:return Un.pipe((0,ve.U)(Nn=>Nn.body))}case"response":return Un;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(Je,At={}){return this.request("DELETE",Je,At)}get(Je,At={}){return this.request("GET",Je,At)}head(Je,At={}){return this.request("HEAD",Je,At)}jsonp(Je,At){return this.request("JSONP",Je,{params:(new Se).append(At,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Je,At={}){return this.request("OPTIONS",Je,At)}patch(Je,At,vt={}){return this.request("PATCH",Je,Ae(vt,At))}post(Je,At,vt={}){return this.request("POST",Je,Ae(vt,At))}put(Je,At,vt={}){return this.request("PUT",Je,Ae(vt,At))}}return Lt.\u0275fac=function(Je){return new(Je||Lt)(J.LFG(Ce))},Lt.\u0275prov=J.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})();class pt{constructor(qe,Je){this.next=qe,this.interceptor=Je}handle(qe){return this.interceptor.intercept(qe,this.next)}}const Gt=new J.OlP("HTTP_INTERCEPTORS");let yt=(()=>{class Lt{intercept(Je,At){return At.handle(Je)}}return Lt.\u0275fac=function(Je){return new(Je||Lt)},Lt.\u0275prov=J.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})();const wt=/^\)\]\}',?\n/;let Cn=(()=>{class Lt{constructor(Je){this.xhrFactory=Je}handle(Je){if("JSONP"===Je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Me.y(At=>{const vt=this.xhrFactory.build();if(vt.open(Je.method,Je.urlWithParams),Je.withCredentials&&(vt.withCredentials=!0),Je.headers.forEach((Ie,je)=>vt.setRequestHeader(Ie,je.join(","))),Je.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Je.headers.has("Content-Type")){const Ie=Je.detectContentTypeHeader();null!==Ie&&vt.setRequestHeader("Content-Type",Ie)}if(Je.responseType){const Ie=Je.responseType.toLowerCase();vt.responseType="json"!==Ie?Ie:"text"}const Wt=Je.serializeBody();let It=null;const Un=()=>{if(null!==It)return It;const Ie=vt.statusText||"OK",je=new fe(vt.getAllResponseHeaders()),Xe=function Pn(Lt){return"responseURL"in Lt&&Lt.responseURL?Lt.responseURL:/^X-Request-URL:/m.test(Lt.getAllResponseHeaders())?Lt.getResponseHeader("X-Request-URL"):null}(vt)||Je.url;return It=new he({headers:je,status:vt.status,statusText:Ie,url:Xe}),It},Nn=()=>{let{headers:Ie,status:je,statusText:Xe,url:xt}=Un(),Be=null;204!==je&&(Be=void 0===vt.response?vt.responseText:vt.response),0===je&&(je=Be?200:0);let gt=je>=200&&je<300;if("json"===Je.responseType&&"string"==typeof Be){const Ht=Be;Be=Be.replace(wt,"");try{Be=""!==Be?JSON.parse(Be):null}catch(rn){Be=Ht,gt&&(gt=!1,Be={error:rn,text:Be})}}gt?(At.next(new ye({body:Be,headers:Ie,status:je,statusText:Xe,url:xt||void 0})),At.complete()):At.error(new ge({error:Be,headers:Ie,status:je,statusText:Xe,url:xt||void 0}))},pn=Ie=>{const{url:je}=Un(),Xe=new ge({error:Ie,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:je||void 0});At.error(Xe)};let ei=!1;const hr=Ie=>{ei||(At.next(Un()),ei=!0);let je={type:ee.DownloadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(je.total=Ie.total),"text"===Je.responseType&&!!vt.responseText&&(je.partialText=vt.responseText),At.next(je)},Ar=Ie=>{let je={type:ee.UploadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(je.total=Ie.total),At.next(je)};return vt.addEventListener("load",Nn),vt.addEventListener("error",pn),vt.addEventListener("timeout",pn),vt.addEventListener("abort",pn),Je.reportProgress&&(vt.addEventListener("progress",hr),null!==Wt&&vt.upload&&vt.upload.addEventListener("progress",Ar)),vt.send(Wt),At.next({type:ee.Sent}),()=>{vt.removeEventListener("error",pn),vt.removeEventListener("abort",pn),vt.removeEventListener("load",Nn),vt.removeEventListener("timeout",pn),Je.reportProgress&&(vt.removeEventListener("progress",hr),null!==Wt&&vt.upload&&vt.upload.removeEventListener("progress",Ar)),vt.readyState!==vt.DONE&&vt.abort()}})}}return Lt.\u0275fac=function(Je){return new(Je||Lt)(J.LFG(c.JF))},Lt.\u0275prov=J.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})();const yn=new J.OlP("XSRF_COOKIE_NAME"),fn=new J.OlP("XSRF_HEADER_NAME");class qn{}let tr=(()=>{class Lt{constructor(Je,At,vt){this.doc=Je,this.platform=At,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Je=this.doc.cookie||"";return Je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Je,this.cookieName),this.lastCookieString=Je),this.lastToken}}return Lt.\u0275fac=function(Je){return new(Je||Lt)(J.LFG(c.K0),J.LFG(J.Lbi),J.LFG(yn))},Lt.\u0275prov=J.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),Ln=(()=>{class Lt{constructor(Je,At){this.tokenService=Je,this.headerName=At}intercept(Je,At){const vt=Je.url.toLowerCase();if("GET"===Je.method||"HEAD"===Je.method||vt.startsWith("http://")||vt.startsWith("https://"))return At.handle(Je);const Wt=this.tokenService.getToken();return null!==Wt&&!Je.headers.has(this.headerName)&&(Je=Je.clone({headers:Je.headers.set(this.headerName,Wt)})),At.handle(Je)}}return Lt.\u0275fac=function(Je){return new(Je||Lt)(J.LFG(qn),J.LFG(fn))},Lt.\u0275prov=J.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),kn=(()=>{class Lt{constructor(Je,At){this.backend=Je,this.injector=At,this.chain=null}handle(Je){if(null===this.chain){const At=this.injector.get(Gt,[]);this.chain=At.reduceRight((vt,Wt)=>new pt(vt,Wt),this.backend)}return this.chain.handle(Je)}}return Lt.\u0275fac=function(Je){return new(Je||Lt)(J.LFG(ke),J.LFG(J.zs3))},Lt.\u0275prov=J.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),Wn=(()=>{class Lt{static disable(){return{ngModule:Lt,providers:[{provide:Ln,useClass:yt}]}}static withOptions(Je={}){return{ngModule:Lt,providers:[Je.cookieName?{provide:yn,useValue:Je.cookieName}:[],Je.headerName?{provide:fn,useValue:Je.headerName}:[]]}}}return Lt.\u0275fac=function(Je){return new(Je||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({providers:[Ln,{provide:Gt,useExisting:Ln,multi:!0},{provide:qn,useClass:tr},{provide:yn,useValue:"XSRF-TOKEN"},{provide:fn,useValue:"X-XSRF-TOKEN"}]}),Lt})(),Yn=(()=>{class Lt{}return Lt.\u0275fac=function(Je){return new(Je||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({providers:[Ye,{provide:Ce,useClass:kn},Cn,{provide:ke,useExisting:Cn}],imports:[[Wn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Lt})()},5e3:(Zt,at,P)=>{"use strict";P.d(at,{deG:()=>Wl,tb:()=>pE,AFp:()=>cE,ip1:()=>uE,CZH:()=>xv,hGG:()=>ab,z2F:()=>Fv,sBO:()=>zI,Sil:()=>DI,_Vd:()=>T_,EJc:()=>bI,SBq:()=>jy,qLn:()=>Tl,vpe:()=>Eh,tBr:()=>wa,XFs:()=>_n,OlP:()=>_i,zs3:()=>Da,ZZ4:()=>jv,aQg:()=>Hv,soG:()=>Rv,YKP:()=>w0,h0i:()=>Zm,PXZ:()=>LI,R0b:()=>Ad,FiY:()=>ao,Lbi:()=>fE,g9A:()=>hE,Qsj:()=>ww,FYo:()=>m0,JOm:()=>K,tp0:()=>Do,Rgc:()=>Wy,dDg:()=>_E,q4F:()=>_0,GfV:()=>y0,s_b:()=>x_,ifc:()=>vt,eFA:()=>wE,G48:()=>GI,Gpc:()=>me,X6Q:()=>HI,_c5:()=>ob,VLi:()=>kI,c2e:()=>gE,zSh:()=>md,wAp:()=>sr,vHH:()=>tt,cg1:()=>Mf,kL8:()=>Aa,dqk:()=>pn,sIi:()=>wd,CqO:()=>l,QGY:()=>u,F4k:()=>o,RDi:()=>Ji,AaK:()=>Ce,qOj:()=>uh,TTD:()=>ss,_Bn:()=>f0,xp6:()=>Hh,uIk:()=>Ya,ekj:()=>Pc,Suo:()=>$0,Xpm:()=>vn,lG2:()=>Bn,Yz7:()=>lt,cJS:()=>Nt,oAB:()=>Pr,Yjl:()=>wi,Y36:()=>Yi,_UZ:()=>Gu,GkF:()=>Fm,BQk:()=>bp,ynx:()=>Ip,qZA:()=>wp,TgZ:()=>Sf,EpF:()=>Lm,n5z:()=>qo,LFG:()=>dn,$8M:()=>cs,$Z:()=>my,NdJ:()=>f,CRH:()=>j0,kcU:()=>Lc,O4$:()=>$l,oxw:()=>we,ALo:()=>R0,xi3:()=>O0,gM2:()=>P0,Hsn:()=>$t,F$t:()=>bt,Q6J:()=>Nm,s9C:()=>on,MGl:()=>mn,WLB:()=>D0,iGM:()=>V0,MAs:()=>mp,CHM:()=>En,LSH:()=>To,YNc:()=>Lg,W1O:()=>W0,_uU:()=>Sd,Oqu:()=>Ty,hij:()=>Fc,AsE:()=>Sy,lnq:()=>Ay,Gf:()=>U0});var c=P(7579),J=P(727),q=P(8306),Me=P(6451),Re=P(3099);function Ee(n){for(let r in n)if(n[r]===Ee)return r;throw Error("Could not find renamed property on target object.")}function ve(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ke(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const fe=Ee({__forward_ref__:Ee});function me(n){return n.__forward_ref__=me,n.toString=function(){return Ce(this())},n}function Te(n){return Pe(n)?n():n}function Pe(n){return"function"==typeof n&&n.hasOwnProperty(fe)&&n.__forward_ref__===me}class tt extends Error{constructor(r,s){super(function Fe(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Se(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Se(n)}function Ze(n,r){const s=r?` in ${r}`:"";throw new tt(-201,`No provider for ${Le(n)} found${s}`)}function ht(n,r){null==n&&function We(n,r,s,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${s} ${d} ${r} <=Actual]`))}(r,n,null,"!=")}function lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function wt(n){return Pn(n,qn)||Pn(n,Ln)}function Pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function fn(n){return n&&(n.hasOwnProperty(tr)||n.hasOwnProperty(kn))?n[tr]:null}const qn=Ee({\u0275prov:Ee}),tr=Ee({\u0275inj:Ee}),Ln=Ee({ngInjectableDef:Ee}),kn=Ee({ngInjectorDef:Ee});var _n=(()=>((_n=_n||{})[_n.Default=0]="Default",_n[_n.Host=1]="Host",_n[_n.Self=2]="Self",_n[_n.SkipSelf=4]="SkipSelf",_n[_n.Optional=8]="Optional",_n))();let qr;function Yn(n){const r=qr;return qr=n,r}function $r(n,r,s){const d=wt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&_n.Optional?null:void 0!==r?r:void Ze(Ce(n),"Injector")}function Lt(n){return{toString:n}.toString()}var qe=(()=>((qe=qe||{})[qe.OnPush=0]="OnPush",qe[qe.Default=1]="Default",qe))(),vt=(()=>{return(n=vt||(vt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",vt;var n})();const Wt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Un="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pn=Wt||"undefined"!=typeof global&&global||It||Un,Ar={},Ie=[],je=Ee({\u0275cmp:Ee}),Xe=Ee({\u0275dir:Ee}),xt=Ee({\u0275pipe:Ee}),Be=Ee({\u0275mod:Ee}),gt=Ee({\u0275fac:Ee}),Ht=Ee({__NG_ELEMENT_ID__:Ee});let rn=0;function vn(n){return Lt(()=>{const s={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||vt.Emulated,id:"c",styles:n.styles||Ie,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.directives,y=n.features,C=n.pipes;return d.id+=rn++,d.inputs=Hr(n.inputs,s),d.outputs=Hr(n.outputs),y&&y.forEach(x=>x(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Er):null,d.pipeDefs=C?()=>("function"==typeof C?C():C).map(In):null,d})}function Er(n){return Yr(n)||function jr(n){return n[Xe]||null}(n)}function In(n){return function $i(n){return n[xt]||null}(n)}const rr={};function Pr(n){return Lt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(rr[n.id]=n.type),r})}function Hr(n,r){if(null==n)return Ar;const s={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),s[p]=d,r&&(r[p]=y)}return s}const Bn=vn;function wi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yr(n){return n[je]||null}function kr(n,r){const s=n[Be]||null;if(!s&&!0===r)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return s}function _e(n){return Array.isArray(n)&&"object"==typeof n[1]}function xe(n){return Array.isArray(n)&&!0===n[1]}function dt(n){return 0!=(8&n.flags)}function Bt(n){return 2==(2&n.flags)}function Mt(n){return 1==(1&n.flags)}function kt(n){return null!==n.template}function ln(n){return 0!=(512&n[2])}function Pi(n,r){return n.hasOwnProperty(gt)?n[gt]:null}class Jr{constructor(r,s,d){this.previousValue=r,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function ss(){return ws}function ws(n){return n.type.prototype.ngOnChanges&&(n.setInput=Go),Is}function Is(){const n=os(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Ar)n.previous=r;else for(let d in r)s[d]=r[d];n.current=null,this.ngOnChanges(r)}}function Go(n,r,s,d){const p=os(n)||function Js(n,r){return n[Hs]=r}(n,{previous:Ar,current:null}),y=p.current||(p.current={}),C=p.previous,x=this.declaredInputs[s],k=C[x];y[x]=new Jr(k&&k.currentValue,r,C===Ar),n[d]=r}ss.ngInherit=!0;const Hs="__ngSimpleChanges__";function os(n){return n[Hs]||null}let Gr;function Ji(n){Gr=n}function yr(n){return!!n.listen}const V={createRenderer:(n,r)=>function ls(){return void 0!==Gr?Gr:"undefined"!=typeof document?document:void 0}()};function U(n){for(;Array.isArray(n);)n=n[0];return n}function Pt(n,r){return U(r[n])}function qt(n,r){return U(r[n.index])}function On(n,r){return n.data[r]}function Qn(n,r){return n[r]}function ir(n,r){const s=r[n];return _e(s)?s:s[0]}function cr(n){return 4==(4&n[2])}function di(n){return 128==(128&n[2])}function Vr(n,r){return null==r?null:n[r]}function Ns(n){n[18]=0}function es(n,r){n[5]+=r;let s=n,d=n[3];for(;null!==d&&(1===r&&1===s[5]||-1===r&&0===s[5]);)d[5]+=r,s=d,d=d[3]}const Sn={lFrame:Wo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function z(){return Sn.bindingsEnabled}function Y(){return Sn.lFrame.lView}function Tt(){return Sn.lFrame.tView}function En(n){return Sn.lFrame.contextLView=n,n[8]}function E(){let n=G();for(;null!==n&&64===n.type;)n=n.parent;return n}function G(){return Sn.lFrame.currentTNode}function B(n,r){const s=Sn.lFrame;s.currentTNode=n,s.isParent=r}function ce(){return Sn.lFrame.isParent}function Ot(){Sn.lFrame.isParent=!1}function Jn(){return Sn.isInCheckNoChangesMode}function Ur(n){Sn.isInCheckNoChangesMode=n}function er(){const n=Sn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ti(){return Sn.lFrame.bindingIndex}function Wi(){return Sn.lFrame.bindingIndex++}function ji(n){const r=Sn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Xa(n,r){const s=Sn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Qa(r)}function Qa(n){Sn.lFrame.currentDirectiveIndex=n}function Eu(){return Sn.lFrame.currentQueryIndex}function Ma(n){Sn.lFrame.currentQueryIndex=n}function Vl(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function fa(n,r,s){if(s&_n.SkipSelf){let p=r,y=n;for(;!(p=p.parent,null!==p||s&_n.Host||(p=Vl(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;r=p,n=y}const d=Sn.lFrame=el();return d.currentTNode=r,d.lView=n,!0}function ko(n){const r=el(),s=n[1];Sn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function el(){const n=Sn.lFrame,r=null===n?null:n.child;return null===r?Wo(n):r}function Wo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function pa(){const n=Sn.lFrame;return Sn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wu=pa;function ra(){const n=pa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ts(){return Sn.lFrame.selectedIndex}function No(n){Sn.lFrame.selectedIndex=n}function Ki(){const n=Sn.lFrame;return On(n.tView,n.selectedIndex)}function $l(){Sn.lFrame.currentNamespace="svg"}function Lc(){!function Bc(){Sn.lFrame.currentNamespace=null}()}function jl(n,r){for(let s=r.directiveStart,d=r.directiveEnd;s<d;s++){const y=n.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:Z,ngOnDestroy:ie}=y;C&&(n.contentHooks||(n.contentHooks=[])).push(-s,C),x&&((n.contentHooks||(n.contentHooks=[])).push(s,x),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,x)),k&&(n.viewHooks||(n.viewHooks=[])).push(-s,k),Z&&((n.viewHooks||(n.viewHooks=[])).push(s,Z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,Z)),null!=ie&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ie)}}function Oa(n,r,s){ns(n,r,3,s)}function Eo(n,r,s,d){(3&n[2])===s&&ns(n,r,s,d)}function us(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ns(n,r,s,d){const y=null!=d?d:-1,C=r.length-1;let x=0;for(let k=void 0!==d?65535&n[18]:0;k<C;k++)if("number"==typeof r[k+1]){if(x=r[k],null!=d&&x>=d)break}else r[k]<0&&(n[18]+=65536),(x<y||-1==y)&&(Hl(n,s,r,k),n[18]=(4294901760&n[18])+k+2),k++}function Hl(n,r,s,d){const p=s[d]<0,y=s[d+1],x=n[p?-s[d]:s[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(x)}finally{}}}else try{y.call(x)}finally{}}class po{constructor(r,s,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function ps(n,r,s){const d=yr(n);let p=0;for(;p<s.length;){const y=s[p];if("number"==typeof y){if(0!==y)break;p++;const C=s[p++],x=s[p++],k=s[p++];d?n.setAttribute(r,x,k,C):r.setAttributeNS(C,x,k)}else{const C=y,x=s[++p];Gl(C)?d&&n.setProperty(r,C,x):d?n.setAttribute(r,C,x):r.setAttribute(C,x),p++}}return p}function no(n){return 3===n||4===n||6===n}function Gl(n){return 64===n.charCodeAt(0)}function ro(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?s=p:0===s||Fo(n,s,p,null,-1===s||2===s?r[++d]:null)}}return n}function Fo(n,r,s,d,p){let y=0,C=n.length;if(-1===r)C=-1;else for(;y<n.length;){const x=n[y++];if("number"==typeof x){if(x===r){C=-1;break}if(x>r){C=y-1;break}}}for(;y<n.length;){const x=n[y];if("number"==typeof x)break;if(x===s){if(null===d)return void(null!==p&&(n[y+1]=p));if(d===n[y+1])return void(n[y+2]=p)}y++,null!==d&&y++,null!==p&&y++}-1!==C&&(n.splice(C,0,r),y=C+1),n.splice(y++,0,s),null!==d&&n.splice(y++,0,d),null!==p&&n.splice(y++,0,p)}function bu(n){return-1!==n}function Io(n){return 32767&n}function Ci(n,r){let s=function Cu(n){return n>>16}(n),d=r;for(;s>0;)d=d[15],s--;return d}let rl=!0;function ya(n){const r=rl;return rl=n,r}let Du=0;function Qt(n,r){const s=oa(n,r);if(-1!==s)return s;const d=r[1];d.firstCreatePass&&(n.injectorIndex=r.length,ki(d.data,n),ki(r,null),ki(d.blueprint,null));const p=M(n,r),y=n.injectorIndex;if(bu(p)){const C=Io(p),x=Ci(p,r),k=x[1].data;for(let Z=0;Z<8;Z++)r[y+Z]=x[C+Z]|k[C+Z]}return r[y+8]=p,y}function ki(n,r){n.push(0,0,0,0,0,0,0,0,r)}function oa(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function M(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,d=null,p=r;for(;null!==p;){const y=p[1],C=y.type;if(d=2===C?y.declTNode:1===C?p[6]:null,null===d)return-1;if(s++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return-1}function S(n,r,s){!function Tu(n,r,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(Ht)&&(d=s[Ht]),null==d&&(d=s[Ht]=Du++);const p=255&d;r.data[n+(p>>5)]|=1<<p}(n,r,s)}function $(n,r,s){if(s&_n.Optional)return n;Ze(r,"NodeInjector")}function j(n,r,s,d){if(s&_n.Optional&&void 0===d&&(d=null),0==(s&(_n.Self|_n.Host))){const p=n[9],y=Yn(void 0);try{return p?p.get(r,d,s&_n.Optional):$r(r,d,s&_n.Optional)}finally{Yn(y)}}return $(d,r,s)}function W(n,r,s,d=_n.Default,p){if(null!==n){const y=function Vn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ht)?n[Ht]:void 0;return"number"==typeof r?r>=0?255&r:He:r}(s);if("function"==typeof y){if(!fa(r,n,d))return d&_n.Host?$(p,s,d):j(r,s,d,p);try{const C=y(d);if(null!=C||d&_n.Optional)return C;Ze(s)}finally{wu()}}else if("number"==typeof y){let C=null,x=oa(n,r),k=-1,Z=d&_n.Host?r[16][6]:null;for((-1===x||d&_n.SkipSelf)&&(k=-1===x?M(n,r):r[x+8],-1!==k&&Xr(d,!1)?(C=r[1],x=Io(k),r=Ci(k,r)):x=-1);-1!==x;){const ie=r[1];if(zr(y,x,ie.data)){const be=Vt(x,r,s,C,d,Z);if(be!==le)return be}k=r[x+8],-1!==k&&Xr(d,r[1].data[x+8]===Z)&&zr(y,x,r)?(C=ie,x=Io(k),r=Ci(k,r)):x=-1}}}return j(r,s,d,p)}const le={};function He(){return new Fs(E(),Y())}function Vt(n,r,s,d,p,y){const C=r[1],x=C.data[n+8],ie=Dn(x,C,s,null==d?Bt(x)&&rl:d!=C&&0!=(3&x.type),p&_n.Host&&y===x);return null!==ie?_r(r,C,ie,x):le}function Dn(n,r,s,d,p){const y=n.providerIndexes,C=r.data,x=1048575&y,k=n.directiveStart,ie=y>>20,rt=p?x+ie:n.directiveEnd;for(let St=d?x:x+ie;St<rt;St++){const Yt=C[St];if(St<k&&s===Yt||St>=k&&Yt.type===s)return St}if(p){const St=C[k];if(St&&kt(St)&&St.type===s)return k}return null}function _r(n,r,s,d){let p=n[s];const y=r.data;if(function ia(n){return n instanceof po}(p)){const C=p;C.resolving&&function De(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${s}`)}(Le(y[s]));const x=ya(C.canSeeViewProviders);C.resolving=!0;const k=C.injectImpl?Yn(C.injectImpl):null;fa(n,d,_n.Default);try{p=n[s]=C.factory(void 0,y,n,d),r.firstCreatePass&&s>=d.directiveStart&&function Md(n,r,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:y}=r.type.prototype;if(d){const C=ws(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,C),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,C)}p&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,p),y&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y))}(s,y[s],r)}finally{null!==k&&Yn(k),ya(x),C.resolving=!1,wu()}}return p}function zr(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Xr(n,r){return!(n&_n.Self||n&_n.Host&&r)}class Fs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,d){return W(this._tNode,this._lView,r,d,s)}}function qo(n){return Lt(()=>{const r=n.prototype.constructor,s=r[gt]||fl(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const y=p[gt]||fl(p);if(y&&y!==s)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function fl(n){return Pe(n)?()=>{const r=fl(Te(n));return r&&r()}:Pi(n)}function cs(n){return function D(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const y=s[p];if(no(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(y===r)return s[p+1];p+=2}}}return null}(E(),n)}const Lo="__parameters__";function Vi(n,r,s){return Lt(()=>{const d=function zl(n){return function(...s){if(n){const d=n(...s);for(const p in d)this[p]=d[p]}}}(r);function p(...y){if(this instanceof p)return d.apply(this,y),this;const C=new p(...y);return x.annotation=C,x;function x(k,Z,ie){const be=k.hasOwnProperty(Lo)?k[Lo]:Object.defineProperty(k,Lo,{value:[]})[Lo];for(;be.length<=ie;)be.push(null);return(be[ie]=be[ie]||[]).push(C),k}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class _i{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=lt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wl=new _i("AnalyzeForEntryComponents");function io(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let d=n[s];Array.isArray(d)?(r===n&&(r=n.slice(0,s)),io(d,r)):r!==n&&r.push(d)}return r}function gs(n,r){n.forEach(s=>Array.isArray(s)?gs(s,r):r(s))}function ds(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function so(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function aa(n,r){const s=[];for(let d=0;d<n;d++)s.push(r);return s}function oo(n,r,s){let d=gl(n,r);return d>=0?n[1|d]=s:(d=~d,function zs(n,r,s,d){let p=n.length;if(p==r)n.push(s,d);else if(1===p)n.push(d,n[0]),n[0]=s;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=s,n[r+1]=d}}(n,d,r,s)),d}function ua(n,r){const s=gl(n,r);if(s>=0)return n[1|s]}function gl(n,r){return function ql(n,r,s){let d=0,p=n.length>>s;for(;p!==d;){const y=d+(p-d>>1),C=n[y<<s];if(r===C)return y<<s;C>r?p=y:d=y+1}return~(p<<s)}(n,r,1)}const _l={},vl="__NG_DI_FLAG__",sl="ngTempTokenPath",F=/\n/gm,ae="__source",Ne=Ee({provide:String,useValue:Ee});let mt;function Rt(n){const r=mt;return mt=n,r}function tn(n,r=_n.Default){if(void 0===mt)throw new tt(203,"");return null===mt?$r(n,void 0,r):mt.get(n,r&_n.Optional?null:void 0,r)}function dn(n,r=_n.Default){return(function Wn(){return qr}()||tn)(Te(n),r)}const $n=dn;function Wr(n){const r=[];for(let s=0;s<n.length;s++){const d=Te(n[s]);if(Array.isArray(d)){if(0===d.length)throw new tt(900,"");let p,y=_n.Default;for(let C=0;C<d.length;C++){const x=d[C],k=qs(x);"number"==typeof k?-1===k?p=x.token:y|=k:p=x}r.push(dn(p,y))}else r.push(dn(d))}return r}function Rn(n,r){return n[vl]=r,n.prototype[vl]=r,n}function qs(n){return n[vl]}const wa=Rn(Vi("Inject",n=>({token:n})),-1),ao=Rn(Vi("Optional"),8),Do=Rn(Vi("SkipSelf"),4);class Jl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ua(n){return n instanceof Jl?n.changingThisBreaksApplicationSecurity:n}const $a=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ni=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Gi=(()=>((Gi=Gi||{})[Gi.NONE=0]="NONE",Gi[Gi.HTML=1]="HTML",Gi[Gi.STYLE=2]="STYLE",Gi[Gi.SCRIPT=3]="SCRIPT",Gi[Gi.URL=4]="URL",Gi[Gi.RESOURCE_URL=5]="RESOURCE_URL",Gi))();function To(n){const r=function Cl(){const n=Y();return n&&n[12]}();return r?r.sanitize(Gi.URL,n)||"":function wl(n,r){const s=function jc(n){return n instanceof Jl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Ua(n):function fr(n){return(n=String(n)).match($a)||n.match(Ni)?n:"unsafe:"+n}(Se(n))}const Ud="__ngContext__";function Sr(n,r){n[Ud]=r}function $d(n){const r=function nu(n){return n[Ud]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Os(n){return n.ngOriginalError}function jd(n,...r){n.error(...r)}class Tl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),d=function Dl(n){return n&&n.ngErrorLogger||jd}(r);d(this._console,"ERROR",r),s&&d(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Os(r);for(;s&&Os(s);)s=Os(s);return s||null}}const uc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pn))();function Uo(n){return n instanceof Function?n():n}var K=(()=>((K=K||{})[K.Important=1]="Important",K[K.DashCase=2]="DashCase",K))();function ut(n,r){return undefined(n,r)}function bn(n){const r=n[3];return xe(r)?r[3]:r}function _s(n){return ed(n[13])}function da(n){return ed(n[4])}function ed(n){for(;null!==n&&!xe(n);)n=n[4];return n}function ru(n,r,s,d,p){if(null!=d){let y,C=!1;xe(d)?y=d:_e(d)&&(C=!0,d=d[0]);const x=U(d);0===n&&null!==s?null==p?Fh(r,s,x):Ao(r,s,x,p||null,!0):1===n&&null!==s?Ao(r,s,x,p||null,!0):2===n?function od(n,r,s){const d=Hf(n,r);d&&function Pu(n,r,s,d){yr(n)?n.removeChild(r,s,d):r.removeChild(s)}(n,d,r,s)}(r,x,C):3===n&&r.destroyNode(x),null!=y&&function Yd(n,r,s,d,p){const y=s[7];y!==U(s)&&ru(r,n,d,y,p);for(let x=10;x<s.length;x++){const k=s[x];xl(k[1],k,n,r,d,y)}}(r,n,y,s,p)}}function dc(n,r,s){if(yr(n))return n.createElement(r,s);{const d=null!==s?function Oo(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===d?n.createElement(r):n.createElementNS(d,r)}}function iu(n,r){const s=n[9],d=s.indexOf(r),p=r[3];1024&r[2]&&(r[2]&=-1025,es(p,-1)),s.splice(d,1)}function Np(n,r){if(n.length<=10)return;const s=10+r,d=n[s];if(d){const p=d[17];null!==p&&p!==n&&iu(p,d),r>0&&(n[s-1][4]=d[4]);const y=so(n,10+r);!function Wd(n,r){xl(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const C=y[19];null!==C&&C.detachView(y[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Fp(n,r){if(!(256&r[2])){const s=r[11];yr(s)&&s.destroyNode&&xl(n,r,s,3,null,null),function rd(n){let r=n[13];if(!r)return id(n[1],n);for(;r;){let s=null;if(_e(r))s=r[13];else{const d=r[10];d&&(s=d)}if(!s){for(;r&&!r[4]&&r!==n;)_e(r)&&id(r[1],r),r=r[3];null===r&&(r=n),_e(r)&&id(r[1],r),s=r&&r[4]}r=s}}(r)}}function id(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function rm(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let d=0;d<s.length;d+=2){const p=r[s[d]];if(!(p instanceof po)){const y=s[d+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const x=p[y[C]],k=y[C+1];try{k.call(x)}finally{}}else try{y.call(p)}finally{}}}}(n,r),function nm(n,r){const s=n.cleanup,d=r[7];let p=-1;if(null!==s)for(let y=0;y<s.length-1;y+=2)if("string"==typeof s[y]){const C=s[y+1],x="function"==typeof C?C(r):U(r[C]),k=d[p=s[y+2]],Z=s[y+3];"boolean"==typeof Z?x.removeEventListener(s[y],k,Z):Z>=0?d[p=Z]():d[p=-Z].unsubscribe(),y+=2}else{const C=d[p=s[y+1]];s[y].call(C)}if(null!==d){for(let y=p+1;y<d.length;y++)d[y]();r[7]=null}}(n,r),1===r[1].type&&yr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&xe(r[3])){s!==r[3]&&iu(s,r);const d=r[19];null!==d&&d.detachView(n)}}}function Ut(n,r,s){return function Ou(n,r,s){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return s[0];if(2&d.flags){const p=n.data[d.directiveStart].encapsulation;if(p===vt.None||p===vt.Emulated)return null}return qt(d,s)}(n,r.parent,s)}function Ao(n,r,s,d,p){yr(n)?n.insertBefore(r,s,d,p):r.insertBefore(s,d,p)}function Fh(n,r,s){yr(n)?n.appendChild(r,s):r.appendChild(s)}function ll(n,r,s,d,p){null!==d?Ao(n,r,s,d,p):Fh(n,r,s)}function Hf(n,r){return yr(n)?n.parentNode(r):r.parentNode}function Wa(n,r,s){return Lh(n,r,s)}let Lh=function fc(n,r,s){return 40&n.type?qt(n,s):null};function ul(n,r,s,d){const p=Ut(n,d,r),y=r[11],x=Wa(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(s))for(let k=0;k<s.length;k++)ll(y,p,s[k],x,!1);else ll(y,p,s,x,!1)}function sd(n,r){if(null!==r){const s=r.type;if(3&s)return qt(r,n);if(4&s)return qd(-1,n[r.index]);if(8&s){const d=r.child;if(null!==d)return sd(n,d);{const p=n[r.index];return xe(p)?qd(-1,p):U(p)}}if(32&s)return ut(r,n)()||U(n[r.index]);{const d=Jo(n,r);return null!==d?Array.isArray(d)?d[0]:sd(bn(n[16]),d):sd(n,r.next)}}return null}function Jo(n,r){return null!==r?n[16][6].projection[r.projection]:null}function qd(n,r){const s=10+n+1;if(s<r.length){const d=r[s],p=d[1].firstChild;if(null!==p)return sd(d,p)}return r[7]}function Bh(n,r,s,d,p,y,C){for(;null!=s;){const x=d[s.index],k=s.type;if(C&&0===r&&(x&&Sr(U(x),d),s.flags|=4),64!=(64&s.flags))if(8&k)Bh(n,r,s.child,d,p,y,!1),ru(r,n,p,x,y);else if(32&k){const Z=ut(s,d);let ie;for(;ie=Z();)ru(r,n,p,ie,y);ru(r,n,p,x,y)}else 16&k?pc(n,r,d,s,p,y):ru(r,n,p,x,y);s=C?s.projectionNext:s.next}}function xl(n,r,s,d,p,y){Bh(s,d,n.firstChild,r,p,y,!1)}function pc(n,r,s,d,p,y){const C=s[16],k=C[6].projection[d.projection];if(Array.isArray(k))for(let Z=0;Z<k.length;Z++)ru(r,n,p,k[Z],y);else Bh(n,r,k,C[3],p,y,!0)}function Lp(n,r,s){yr(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Uh(n,r,s){yr(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Gf(n,r,s){let d=n.length;for(;;){const p=n.indexOf(r,s);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const y=r.length;if(p+y===d||n.charCodeAt(p+y)<=32)return p}s=p+1}}const Bp="ng-template";function sm(n,r,s){let d=0;for(;d<n.length;){let p=n[d++];if(s&&"class"===p){if(p=n[d],-1!==Gf(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function Vp(n){return 4===n.type&&n.value!==Bp}function Up(n,r,s){return r===(4!==n.type||s?n.value:Bp)}function $h(n,r,s){let d=4;const p=n.attrs||[],y=function om(n){for(let r=0;r<n.length;r++)if(no(n[r]))return r;return n.length}(p);let C=!1;for(let x=0;x<r.length;x++){const k=r[x];if("number"!=typeof k){if(!C)if(4&d){if(d=2|1&d,""!==k&&!Up(n,k,s)||""===k&&1===r.length){if($o(d))return!1;C=!0}}else{const Z=8&d?k:r[++x];if(8&d&&null!==n.attrs){if(!sm(n.attrs,Z,s)){if($o(d))return!1;C=!0}continue}const be=Jm(8&d?"class":k,p,Vp(n),s);if(-1===be){if($o(d))return!1;C=!0;continue}if(""!==Z){let rt;rt=be>y?"":p[be+1].toLowerCase();const St=8&d?rt:null;if(St&&-1!==Gf(St,Z,0)||2&d&&Z!==rt){if($o(d))return!1;C=!0}}}}else{if(!C&&!$o(d)&&!$o(k))return!1;if(C&&$o(k))continue;C=!1,d=k|1&d}}return $o(d)||C}function $o(n){return 0==(1&n)}function Jm(n,r,s,d){if(null===r)return-1;let p=0;if(d||!s){let y=!1;for(;p<r.length;){const C=r[p];if(C===n)return p;if(3===C||6===C)y=!0;else{if(1===C||2===C){let x=r[++p];for(;"string"==typeof x;)x=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=y?1:2}return-1}return function zf(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const d=n[s];if("number"==typeof d)return-1;if(d===r)return s;s++}return-1}(r,n)}function Zd(n,r,s=!1){for(let d=0;d<r.length;d++)if($h(n,r[d],s))return!0;return!1}function jh(n,r){e:for(let s=0;s<r.length;s++){const d=r[s];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function su(n,r){return n?":not("+r.trim()+")":r}function gc(n){let r=n[0],s=1,d=2,p="",y=!1;for(;s<n.length;){let C=n[s];if("string"==typeof C)if(2&d){const x=n[++s];p+="["+C+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!$o(C)&&(r+=su(y,p),p=""),d=C,y=y||!$o(d);s++}return""!==p&&(r+=su(y,p)),r}const Fr={};function Hh(n){ld(Tt(),Y(),ts()+n,Jn())}function ld(n,r,s,d){if(!d)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&Oa(r,y,s)}else{const y=n.preOrderHooks;null!==y&&Eo(r,y,0,s)}No(s)}function Gh(n,r){return n<<17|r<<2}function ha(n){return n>>17&32767}function ud(n){return 2|n}function Ss(n){return(131068&n)>>2}function Kh(n,r){return-131069&n|r<<2}function Xd(n){return 1|n}function wc(n,r){const s=n.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const p=s[d],y=s[d+1];if(-1!==y){const C=n.data[y];Ma(p),C.contentQueries(2,r[y],y)}}}function Ka(n,r,s,d,p,y,C,x,k,Z){const ie=r.blueprint.slice();return ie[0]=p,ie[2]=140|d,Ns(ie),ie[3]=ie[15]=n,ie[8]=s,ie[10]=C||n&&n[10],ie[11]=x||n&&n[11],ie[12]=k||n&&n[12]||null,ie[9]=Z||n&&n[9]||null,ie[6]=y,ie[16]=2==r.type?n[16]:ie,ie}function Ic(n,r,s,d,p){let y=n.data[r];if(null===y)y=function ef(n,r,s,d,p){const y=G(),C=ce(),k=n.data[r]=function ag(n,r,s,d,p,y){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,s,r,d,p);return null===n.firstChild&&(n.firstChild=k),null!==y&&(C?null==y.child&&null!==k.parent&&(y.child=k):null===y.next&&(y.next=k)),k}(n,r,s,d,p),function to(){return Sn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=s,y.value=d,y.attrs=p;const C=function w(){const n=Sn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();y.injectorIndex=null===C?-1:C.injectorIndex}return B(y,!0),y}function bc(n,r,s,d){if(0===s)return-1;const p=r.length;for(let y=0;y<s;y++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function Cc(n,r,s){ko(r);try{const d=n.viewQuery;null!==d&&Vu(1,d,s);const p=n.template;null!==p&&Jd(n,r,p,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wc(n,r),n.staticViewQueries&&Vu(2,n.viewQuery,s);const y=n.components;null!==y&&function rg(n,r){for(let s=0;s<r.length;s++)rh(n,r[s])}(r,y)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[2]&=-5,ra()}}function Ml(n,r,s,d){const p=r[2];if(256==(256&p))return;ko(r);const y=Jn();try{Ns(r),function Ds(n){return Sn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Jd(n,r,s,2,d);const C=3==(3&p);if(!y)if(C){const Z=n.preOrderCheckHooks;null!==Z&&Oa(r,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&Eo(r,Z,0,null),us(r,0)}if(function Ca(n){for(let r=_s(n);null!==r;r=da(r)){if(!r[2])continue;const s=r[9];for(let d=0;d<s.length;d++){const p=s[d],y=p[3];0==(1024&p[2])&&es(y,1),p[2]|=1024}}}(r),function cf(n){for(let r=_s(n);null!==r;r=da(r))for(let s=10;s<r.length;s++){const d=r[s],p=d[1];di(d)&&Ml(p,d,p.template,d[8])}}(r),null!==n.contentQueries&&wc(n,r),!y)if(C){const Z=n.contentCheckHooks;null!==Z&&Oa(r,Z)}else{const Z=n.contentHooks;null!==Z&&Eo(r,Z,1),us(r,1)}!function ry(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const p=s[d];if(p<0)No(~p);else{const y=p,C=s[++d],x=s[++d];Xa(C,y),x(2,r[y])}}}finally{No(-1)}}(n,r);const x=n.components;null!==x&&function Fu(n,r){for(let s=0;s<r.length;s++)dg(n,r[s])}(r,x);const k=n.viewQuery;if(null!==k&&Vu(2,k,d),!y)if(C){const Z=n.viewCheckHooks;null!==Z&&Oa(r,Z)}else{const Z=n.viewHooks;null!==Z&&Eo(r,Z,2),us(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),y||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,es(r[3],-1))}finally{ra()}}function ig(n,r,s,d){const p=r[10],y=!Jn(),C=cr(r);try{y&&!C&&p.begin&&p.begin(),C&&Cc(n,r,d),Ml(n,r,s,d)}finally{y&&!C&&p.end&&p.end()}}function Jd(n,r,s,d,p){const y=ts(),C=2&d;try{No(-1),C&&r.length>20&&ld(n,r,20,Jn()),s(d,p)}finally{No(y)}}function Xf(n,r,s){if(dt(r)){const p=r.directiveEnd;for(let y=r.directiveStart;y<p;y++){const C=n.data[y];C.contentQueries&&C.contentQueries(1,s[y],y)}}}function sg(n,r,s){!z()||(function cg(n,r,s,d){const p=s.directiveStart,y=s.directiveEnd;n.firstCreatePass||Qt(s,r),Sr(d,r);const C=s.initialInputs;for(let x=p;x<y;x++){const k=n.data[x],Z=kt(k);Z&&uu(r,s,k);const ie=_r(r,n,x,s);Sr(ie,r),null!==C&&np(0,x-p,ie,k,0,C),Z&&(ir(s.index,r)[8]=ie)}}(n,r,s,qt(s,r)),128==(128&s.flags)&&function gm(n,r,s){const d=s.directiveStart,p=s.directiveEnd,C=s.index,x=function Bl(){return Sn.lFrame.currentDirectiveIndex}();try{No(C);for(let k=d;k<p;k++){const Z=n.data[k],ie=r[k];Qa(k),(null!==Z.hostBindings||0!==Z.hostVars||null!==Z.hostAttrs)&&af(Z,ie)}}finally{No(-1),Qa(x)}}(n,r,s))}function Lu(n,r,s=qt){const d=r.localNames;if(null!==d){let p=r.index+1;for(let y=0;y<d.length;y+=2){const C=d[y+1],x=-1===C?s(r,n):n[C];n[p++]=x}}}function yo(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Qf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Qf(n,r,s,d,p,y,C,x,k,Z){const ie=20+d,be=ie+p,rt=function iy(n,r){const s=[];for(let d=0;d<r;d++)s.push(d<n?null:Fr);return s}(ie,be),St="function"==typeof Z?Z():Z;return rt[1]={type:n,blueprint:rt,template:s,queries:null,viewQuery:x,declTNode:r,data:rt.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:k,consts:St,incompleteFirstPass:!1}}function og(n,r,s,d){const p=sp(r);null===s?p.push(d):(p.push(s),n.firstCreatePass&&op(n).push(d,p.length-1))}function lg(n,r,s){for(let d in n)if(n.hasOwnProperty(d)){const p=n[d];(s=null===s?{}:s).hasOwnProperty(d)?s[d].push(r,p):s[d]=[r,p]}return s}function xo(n,r,s,d,p,y,C,x){const k=qt(r,s);let ie,Z=r.inputs;!x&&null!=Z&&(ie=Z[d])?(gf(n,s,ie,d,p),Bt(r)&&function hd(n,r){const s=ir(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(d=function tf(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=C?C(p,r.value||"",d):p,yr(y)?y.setProperty(k,d,p):Gl(d)||(k.setProperty?k.setProperty(d,p):k[d]=p))}function rf(n,r,s,d){let p=!1;if(z()){const y=function lf(n,r,s){const d=n.directiveRegistry;let p=null;if(d)for(let y=0;y<d.length;y++){const C=d[y];Zd(s,C.selectors,!1)&&(p||(p=[]),S(Qt(s,r),n,C.type),kt(C)?(eh(n,s),p.unshift(C)):p.push(C))}return p}(n,r,s),C=null===d?null:{"":-1};if(null!==y){p=!0,ym(s,n.data.length,y.length);for(let ie=0;ie<y.length;ie++){const be=y[ie];be.providersResolver&&be.providersResolver(be)}let x=!1,k=!1,Z=bc(n,r,y.length,null);for(let ie=0;ie<y.length;ie++){const be=y[ie];s.mergedAttrs=ro(s.mergedAttrs,be.hostAttrs),th(n,s,r,Z,be),mm(Z,be,C),null!==be.contentQueries&&(s.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=128);const rt=be.type.prototype;!x&&(rt.ngOnChanges||rt.ngOnInit||rt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),x=!0),!k&&(rt.ngOnChanges||rt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),k=!0),Z++}!function ug(n,r){const d=r.directiveEnd,p=n.data,y=r.attrs,C=[];let x=null,k=null;for(let Z=r.directiveStart;Z<d;Z++){const ie=p[Z],be=ie.inputs,rt=null===y||Vp(r)?null:Tc(be,y);C.push(rt),x=lg(be,Z,x),k=lg(ie.outputs,Z,k)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=16),x.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=C,r.inputs=x,r.outputs=k}(n,s)}C&&function uf(n,r,s){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const y=s[r[p+1]];if(null==y)throw new tt(-301,!1);d.push(r[p],y)}}}(s,d,C)}return s.mergedAttrs=ro(s.mergedAttrs,s.attrs),p}function pm(n,r,s,d,p,y){const C=y.hostBindings;if(C){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const k=~r.index;(function sf(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(x)!=k&&x.push(k),x.push(d,p,C)}}function af(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function eh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function mm(n,r,s){if(s){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)s[r.exportAs[d]]=n;kt(r)&&(s[""]=n)}}function ym(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function th(n,r,s,d,p){n.data[d]=p;const y=p.factory||(p.factory=Pi(p.type)),C=new po(y,kt(p),null);n.blueprint[d]=C,s[d]=C,pm(n,r,0,d,bc(n,s,p.hostVars,Fr),p)}function uu(n,r,s){const d=qt(r,n),p=yo(s),y=n[10],C=ea(n,Ka(n,p,null,s.onPush?64:16,d,r,y,y.createRenderer(d,s),null,null));n[r.index]=C}function ba(n,r,s,d,p,y){const C=qt(n,r);!function pd(n,r,s,d,p,y,C){if(null==y)yr(n)?n.removeAttribute(r,p,s):r.removeAttribute(p);else{const x=null==C?Se(y):C(y,d||"",p);yr(n)?n.setAttribute(r,p,x,s):s?r.setAttributeNS(s,p,x):r.setAttribute(p,x)}}(r[11],C,y,n.value,s,d,p)}function np(n,r,s,d,p,y){const C=y[r];if(null!==C){const x=d.setInput;for(let k=0;k<C.length;){const Z=C[k++],ie=C[k++],be=C[k++];null!==x?d.setInput(s,be,Z,ie):s[ie]=be}}}function Tc(n,r){let s=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===s&&(s=[]),s.push(p,n[p],r[d+1])),d+=2}else d+=2;else d+=4}return s}function Bu(n,r,s,d){return new Array(n,!0,!1,r,null,0,d,s,null,null)}function dg(n,r){const s=ir(r,n);if(di(s)){const d=s[1];80&s[2]?Ml(d,s,d.template,s[8]):s[5]>0&&df(s)}}function df(n){for(let d=_s(n);null!==d;d=da(d))for(let p=10;p<d.length;p++){const y=d[p];if(1024&y[2]){const C=y[1];Ml(C,y,C.template,y[8])}else y[5]>0&&df(y)}const s=n[1].components;if(null!==s)for(let d=0;d<s.length;d++){const p=ir(s[d],n);di(p)&&p[5]>0&&df(p)}}function rh(n,r){const s=ir(r,n),d=s[1];(function cu(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(d,s),Cc(d,s,s[8])}function ea(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function rp(n){for(;n;){n[2]|=64;const r=bn(n);if(ln(n)&&!r)return n;n=r}return null}function hf(n,r,s){const d=r[10];d.begin&&d.begin();try{Ml(n,r,n.template,s)}catch(p){throw pg(r,p),p}finally{d.end&&d.end()}}function _m(n){!function ip(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],d=$d(s),p=d[1];ig(p,d,p.template,s)}}(n[8])}function Vu(n,r,s){Ma(0),r(n,s)}const gd=(()=>Promise.resolve(null))();function sp(n){return n[7]||(n[7]=[])}function op(n){return n.cleanup||(n.cleanup=[])}function pg(n,r){const s=n[9],d=s?s.get(Tl,null):null;d&&d.handleError(r)}function gf(n,r,s,d,p){for(let y=0;y<s.length;){const C=s[y++],x=s[y++],k=r[C],Z=n.data[C];null!==Z.setInput?Z.setInput(k,p,d,x):k[x]=p}}function Uu(n,r,s){const d=Pt(r,n);!function Nh(n,r,s){yr(n)?n.setValue(r,s):r.textContent=s}(n[11],d,s)}function ih(n,r,s){let d=s?n.styles:null,p=s?n.classes:null,y=0;if(null!==r)for(let C=0;C<r.length;C++){const x=r[C];"number"==typeof x?y=x:1==y?p=ke(p,x):2==y&&(d=ke(d,x+": "+r[++C]+";"))}s?n.styles=d:n.stylesWithoutHost=d,s?n.classes=p:n.classesWithoutHost=p}const mf=new _i("INJECTOR",-1);class Em{get(r,s=_l){if(s===_l){const d=new Error(`NullInjectorError: No provider for ${Ce(r)}!`);throw d.name="NullInjectorError",d}return s}}const md=new _i("Set Injector scope."),yd={},gg={};let du;function Rl(){return void 0===du&&(du=new Em),du}function _d(n,r=null,s=null,d){const p=Ol(n,r,s,d);return p._resolveInjectorDefTypes(),p}function Ol(n,r=null,s=null,d){return new sh(n,s,r||Rl(),d)}class sh{constructor(r,s,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];s&&gs(s,x=>this.processProvider(x,r,s)),gs([r],x=>this.processInjectorType(x,[],y)),this.records.set(mf,vd(void 0,this));const C=this.records.get(md);this.scope=null!=C?C.value:null,this.source=p||("object"==typeof r?null:Ce(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=_l,d=_n.Default){this.assertNotDestroyed();const p=Rt(this),y=Yn(void 0);try{if(!(d&_n.SkipSelf)){let x=this.records.get(r);if(void 0===x){const k=function vg(n){return"function"==typeof n||"object"==typeof n&&n instanceof _i}(r)&&wt(r);x=k&&this.injectableDefInScope(k)?vd(Sc(r),yd):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(d&_n.Self?Rl():this.parent).get(r,s=d&_n.Optional&&s===_l?null:s)}catch(C){if("NullInjectorError"===C.name){if((C[sl]=C[sl]||[]).unshift(Ce(r)),p)throw C;return function si(n,r,s,d){const p=n[sl];throw r[ae]&&p.unshift(r[ae]),n.message=function hi(n,r,s,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let p=Ce(r);if(Array.isArray(r))p=r.map(Ce).join(" -> ");else if("object"==typeof r){let y=[];for(let C in r)if(r.hasOwnProperty(C)){let x=r[C];y.push(C+":"+("string"==typeof x?JSON.stringify(x):Ce(x)))}p=`{${y.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${n.replace(F,"\n  ")}`}("\n"+n.message,p,s,d),n.ngTokenPath=p,n[sl]=null,n}(C,r,"R3InjectorError",this.source)}throw C}finally{Yn(y),Rt(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,p)=>r.push(Ce(p))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processInjectorType(r,s,d){if(!(r=Te(r)))return!1;let p=fn(r);const y=null==p&&r.ngModule||void 0,C=void 0===y?r:y,x=-1!==d.indexOf(C);if(void 0!==y&&(p=fn(y)),null==p)return!1;if(null!=p.imports&&!x){let ie;d.push(C);try{gs(p.imports,be=>{this.processInjectorType(be,s,d)&&(void 0===ie&&(ie=[]),ie.push(be))})}finally{}if(void 0!==ie)for(let be=0;be<ie.length;be++){const{ngModule:rt,providers:St}=ie[be];gs(St,Yt=>this.processProvider(Yt,rt,St||Ie))}}this.injectorDefTypes.add(C);const k=Pi(C)||(()=>new C);this.records.set(C,vd(k,yd));const Z=p.providers;if(null!=Z&&!x){const ie=r;gs(Z,be=>this.processProvider(be,ie,Z))}return void 0!==y&&void 0!==r.providers}processProvider(r,s,d){let p=hu(r=Te(r))?r:Te(r&&r.provide);const y=function wm(n,r,s){return mg(n)?vd(void 0,n.useValue):vd(Ac(n),yd)}(r);if(hu(r)||!0!==r.multi)this.records.get(p);else{let C=this.records.get(p);C||(C=vd(void 0,yd,!0),C.factory=()=>Wr(C.multi),this.records.set(p,C)),p=r,C.multi.push(r)}this.records.set(p,y)}hydrate(r,s){return s.value===yd&&(s.value=gg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function _g(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Te(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Sc(n){const r=wt(n),s=null!==r?r.factory:Pi(n);if(null!==s)return s;if(n instanceof _i)throw new tt(204,!1);if(n instanceof Function)return function Pl(n){const r=n.length;if(r>0)throw aa(r,"?"),new tt(204,!1);const s=function Cn(n){const r=n&&(n[qn]||n[Ln]);if(r){const s=function yn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new tt(204,!1)}function Ac(n,r,s){let d;if(hu(n)){const p=Te(n);return Pi(p)||Sc(p)}if(mg(n))d=()=>Te(n.useValue);else if(function yf(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Wr(n.deps||[]));else if(function oh(n){return!(!n||!n.useExisting)}(n))d=()=>dn(Te(n.useExisting));else{const p=Te(n&&(n.useClass||n.provide));if(!function ay(n){return!!n.deps}(n))return Pi(p)||Sc(p);d=()=>new p(...Wr(n.deps))}return d}function vd(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function mg(n){return null!==n&&"object"==typeof n&&Ne in n}function hu(n){return"function"==typeof n}let Da=(()=>{class n{static create(s,d){var p;if(Array.isArray(s))return _d({name:""},d,s,"");{const y=null!==(p=s.name)&&void 0!==p?p:"";return _d({name:y},s.parent,s.providers,y)}}}return n.THROW_IF_NOT_FOUND=_l,n.NULL=new Em,n.\u0275prov=lt({token:n,providedIn:"any",factory:()=>dn(mf)}),n.__NG_ELEMENT_ID__=-1,n})();function Cm(n,r){jl($d(n)[1],E())}function uh(n){let r=function Sa(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const d=[n];for(;r;){let p;if(kt(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,"");p=r.\u0275dir}if(p){if(s){d.push(p);const C=n;C.inputs=fp(n.inputs),C.declaredInputs=fp(n.declaredInputs),C.outputs=fp(n.outputs);const x=p.hostBindings;x&&xg(n,x);const k=p.viewQuery,Z=p.contentQueries;if(k&&Ag(n,k),Z&&Dm(n,Z),ve(n.inputs,p.inputs),ve(n.declaredInputs,p.declaredInputs),ve(n.outputs,p.outputs),kt(p)&&p.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let C=0;C<y.length;C++){const x=y[C];x&&x.ngInherit&&x(n),x===uh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ch(n){let r=0,s=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=ro(p.hostAttrs,s=ro(s,p.hostAttrs))}}(d)}function fp(n){return n===Ar?{}:n===Ie?[]:n}function Ag(n,r){const s=n.viewQuery;n.viewQuery=s?(d,p)=>{r(d,p),s(d,p)}:r}function Dm(n,r){const s=n.contentQueries;n.contentQueries=s?(d,p,y)=>{r(d,p,y),s(d,p,y)}:r}function xg(n,r){const s=n.hostBindings;n.hostBindings=s?(d,p)=>{r(d,p),s(d,p)}:r}let dh=null;function hh(){if(!dh){const n=pn.Symbol;if(n&&n.iterator)dh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const d=r[s];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(dh=d)}}}return dh}function wd(n){return!!Og(n)&&(Array.isArray(n)||!(n instanceof Map)&&hh()in n)}function Og(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function dl(n,r,s){return n[r]=s}function Mo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function xc(n,r,s,d){const p=Mo(n,r,s);return Mo(n,r+1,d)||p}function Ya(n,r,s,d){const p=Y();return Mo(p,Wi(),r)&&(Tt(),ba(Ki(),p,n,r,s,d)),Ya}function pu(n,r,s,d){return Mo(n,Wi(),s)?r+Se(s)+d:Fr}function Mc(n,r,s,d,p,y,C,x){const Z=function fh(n,r,s,d,p){const y=xc(n,r,s,d);return Mo(n,r+2,p)||y}(n,ti(),s,p,C);return ji(3),Z?r+Se(s)+d+Se(p)+y+Se(C)+x:Fr}function Lg(n,r,s,d,p,y,C,x){const k=Y(),Z=Tt(),ie=n+20,be=Z.firstCreatePass?function Fg(n,r,s,d,p,y,C,x,k){const Z=r.consts,ie=Ic(r,n,4,C||null,Vr(Z,x));rf(r,s,ie,Vr(Z,k)),jl(r,ie);const be=ie.tViews=Qf(2,ie,d,p,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Z);return null!==r.queries&&(r.queries.template(r,ie),be.queries=r.queries.embeddedTView(ie)),ie}(ie,Z,k,r,s,d,p,y,C):Z.data[ie];B(be,!1);const rt=k[11].createComment("");ul(Z,k,rt,be),Sr(rt,k),ea(k,k[ie]=Bu(rt,k,rt,be)),Mt(be)&&sg(Z,k,be),null!=C&&Lu(k,be,x)}function mp(n){return Qn(function Mn(){return Sn.lFrame.contextLView}(),20+n)}function Yi(n,r=_n.Default){const s=Y();return null===s?dn(n,r):W(E(),s,Te(n),r)}function my(){throw new Error("invalid")}function Nm(n,r,s){const d=Y();return Mo(d,Wi(),r)&&xo(Tt(),Ki(),d,n,r,d[11],s,!1),Nm}function Us(n,r,s,d,p){const C=p?"class":"style";gf(n,s,r.inputs[C],C,d)}function Sf(n,r,s,d){const p=Y(),y=Tt(),C=20+n,x=p[11],k=p[C]=dc(x,r,function ma(){return Sn.lFrame.currentNamespace}()),Z=y.firstCreatePass?function Tf(n,r,s,d,p,y,C){const x=r.consts,Z=Ic(r,n,2,p,Vr(x,y));return rf(r,s,Z,Vr(x,C)),null!==Z.attrs&&ih(Z,Z.attrs,!1),null!==Z.mergedAttrs&&ih(Z,Z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Z),Z}(C,y,p,0,r,s,d):y.data[C];B(Z,!0);const ie=Z.mergedAttrs;null!==ie&&ps(x,k,ie);const be=Z.classes;null!==be&&Uh(x,k,be);const rt=Z.styles;return null!==rt&&Lp(x,k,rt),64!=(64&Z.flags)&&ul(y,p,k,Z),0===function zo(){return Sn.lFrame.elementDepthCount}()&&Sr(k,p),function Po(){Sn.lFrame.elementDepthCount++}(),Mt(Z)&&(sg(y,p,Z),Xf(y,Z,p)),null!==d&&Lu(p,Z),Sf}function wp(){let n=E();ce()?Ot():(n=n.parent,B(n,!1));const r=n;!function Gs(){Sn.lFrame.elementDepthCount--}();const s=Tt();return s.firstCreatePass&&(jl(s,n),dt(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function nl(n){return 0!=(16&n.flags)}(r)&&Us(s,r,Y(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function go(n){return 0!=(32&n.flags)}(r)&&Us(s,r,Y(),r.stylesWithoutHost,!1),wp}function Gu(n,r,s,d){return Sf(n,r,s,d),wp(),Gu}function Ip(n,r,s){const d=Y(),p=Tt(),y=n+20,C=p.firstCreatePass?function yy(n,r,s,d,p){const y=r.consts,C=Vr(y,d),x=Ic(r,n,8,"ng-container",C);return null!==C&&ih(x,C,!0),rf(r,s,x,Vr(y,p)),null!==r.queries&&r.queries.elementStart(r,x),x}(y,p,d,r,s):p.data[y];B(C,!0);const x=d[y]=d[11].createComment("");return ul(p,d,x,C),Sr(x,d),Mt(C)&&(sg(p,d,C),Xf(p,C,d)),null!=s&&Lu(d,C),Ip}function bp(){let n=E();const r=Tt();return ce()?Ot():(n=n.parent,B(n,!1)),r.firstCreatePass&&(jl(r,n),dt(n)&&r.queries.elementEnd(n)),bp}function Fm(n,r,s){return Ip(n,r,s),bp(),Fm}function Lm(){return Y()}function u(n){return!!n&&"function"==typeof n.then}function o(n){return!!n&&"function"==typeof n.subscribe}const l=o;function f(n,r,s,d){const p=Y(),y=Tt(),C=E();return function R(n,r,s,d,p,y,C,x){const k=Mt(d),ie=n.firstCreatePass&&op(n),be=r[8],rt=sp(r);let St=!0;if(3&d.type||x){const Tn=qt(d,r),zn=x?x(Tn):Tn,en=rt.length,pr=x?Ti=>x(U(Ti[d.index])):d.index;if(yr(s)){let Ti=null;if(!x&&k&&(Ti=function T(n,r,s,d){const p=n.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const C=p[y];if(C===s&&p[y+1]===d){const x=r[7],k=p[y+2];return x.length>k?x[k]:null}"string"==typeof C&&(y+=2)}return null}(n,r,p,d.index)),null!==Ti)(Ti.__ngLastListenerFn__||Ti).__ngNextListenerFn__=y,Ti.__ngLastListenerFn__=y,St=!1;else{y=oe(d,r,be,y,!1);const hs=s.listen(zn,p,y);rt.push(y,hs),ie&&ie.push(p,pr,en,en+1)}}else y=oe(d,r,be,y,!0),zn.addEventListener(p,y,C),rt.push(y),ie&&ie.push(p,pr,en,C)}else y=oe(d,r,be,y,!1);const Yt=d.outputs;let hn;if(St&&null!==Yt&&(hn=Yt[p])){const Tn=hn.length;if(Tn)for(let zn=0;zn<Tn;zn+=2){const Yu=r[hn[zn]][hn[zn+1]].subscribe(y),tm=rt.length;rt.push(y,Yu),ie&&ie.push(p,d.index,tm,-(tm+1))}}}(y,p,p[11],C,n,r,!!s,d),f}function Q(n,r,s,d){try{return!1!==s(d)}catch(p){return pg(n,p),!1}}function oe(n,r,s,d,p){return function y(C){if(C===Function)return d;const x=2&n.flags?ir(n.index,r):r;0==(32&r[2])&&rp(x);let k=Q(r,0,d,C),Z=y.__ngNextListenerFn__;for(;Z;)k=Q(r,0,Z,C)&&k,Z=Z.__ngNextListenerFn__;return p&&!1===k&&(C.preventDefault(),C.returnValue=!1),k}}function we(n=1){return function Ra(n){return(Sn.lFrame.contextLView=function Ul(n,r){for(;n>0;)r=r[15],n--;return r}(n,Sn.lFrame.contextLView))[8]}(n)}function _t(n,r){let s=null;const d=function $p(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let p=0;p<r.length;p++){const y=r[p];if("*"!==y){if(null===d?Zd(n,y,!0):jh(d,y))return p}else s=p}return s}function bt(n){const r=Y()[16][6];if(!r.projection){const d=r.projection=aa(n?n.length:1,null),p=d.slice();let y=r.child;for(;null!==y;){const C=n?_t(y,n):0;null!==C&&(p[C]?p[C].projectionNext=y:d[C]=y,p[C]=y),y=y.next}}}function $t(n,r=0,s){const d=Y(),p=Tt(),y=Ic(p,20+n,16,null,s||null);null===y.projection&&(y.projection=r),Ot(),64!=(64&y.flags)&&function ad(n,r,s){pc(r[11],0,r,s,Ut(n,s,r),Wa(s.parent||r[6],s,r))}(p,d,y)}function on(n,r,s){return mn(n,"",r,"",s),on}function mn(n,r,s,d,p){const y=Y(),C=pu(y,r,s,d);return C!==Fr&&xo(Tt(),Ki(),y,n,C,y[11],p,!1),mn}function _y(n,r,s,d,p){const y=n[s+1],C=null===r;let x=d?ha(y):Ss(y),k=!1;for(;0!==x&&(!1===k||C);){const ie=n[x+1];vy(n[x],r)&&(k=!0,n[x+1]=d?Xd(ie):ud(ie)),x=d?ha(ie):Ss(ie)}k&&(n[s+1]=d?ud(y):Xd(y))}function vy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&gl(n,r)>=0}function Pc(n,r){return function _u(n,r,s,d){const p=Y(),y=Tt(),C=ji(2);y.firstUpdatePass&&function Iy(n,r,s,d){const p=n.data;if(null===p[s+1]){const y=p[ts()],C=function r_(n,r){return r>=n.expandoStartIndex}(n,s);(function Dy(n,r){return 0!=(n.flags&(r?16:32))})(y,d)&&null===r&&!C&&(r=!1),r=function V_(n,r,s,d){const p=function Ja(n){const r=Sn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(s=Tp(s=by(null,n,r,s,d),r.attrs,d),y=null);else{const C=r.directiveStylingLast;if(-1===C||n[C]!==p)if(s=by(p,n,r,s,d),null===y){let k=function U_(n,r,s){const d=s?r.classBindings:r.styleBindings;if(0!==Ss(d))return n[ha(d)]}(n,r,d);void 0!==k&&Array.isArray(k)&&(k=by(null,n,r,k[1],d),k=Tp(k,r.attrs,d),function i_(n,r,s,d){n[ha(s?r.classBindings:r.styleBindings)]=d}(n,r,d,k))}else y=function $_(n,r,s){let d;const p=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<p;y++)d=Tp(d,n[y].hostAttrs,s);return Tp(d,r.attrs,s)}(n,r,d)}return void 0!==y&&(d?r.residualClasses=y:r.residualStyles=y),s}(p,y,r,d),function Nl(n,r,s,d,p,y){let C=y?r.classBindings:r.styleBindings,x=ha(C),k=Ss(C);n[d]=s;let ie,Z=!1;if(Array.isArray(s)){const be=s;ie=be[1],(null===ie||gl(be,ie)>0)&&(Z=!0)}else ie=s;if(p)if(0!==k){const rt=ha(n[x+1]);n[d+1]=Gh(rt,x),0!==rt&&(n[rt+1]=Kh(n[rt+1],d)),n[x+1]=function Wh(n,r){return 131071&n|r<<17}(n[x+1],d)}else n[d+1]=Gh(x,0),0!==x&&(n[x+1]=Kh(n[x+1],d)),x=d;else n[d+1]=Gh(k,0),0===x?x=d:n[k+1]=Kh(n[k+1],d),k=d;Z&&(n[d+1]=ud(n[d+1])),_y(n,ie,d,!0),_y(n,ie,d,!1),function Cp(n,r,s,d,p){const y=p?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&gl(y,r)>=0&&(s[d+1]=Xd(s[d+1]))}(r,ie,n,d,y),C=Gh(x,k),y?r.classBindings=C:r.styleBindings=C}(p,y,r,s,C,d)}}(y,n,C,d),r!==Fr&&Mo(p,C,r)&&function a_(n,r,s,d,p,y,C,x){if(!(3&r.type))return;const k=n.data,Z=k[x+1];Af(function qh(n){return 1==(1&n)}(Z)?Um(k,r,s,p,Ss(Z),C):void 0)||(Af(y)||function zh(n){return 2==(2&n)}(Z)&&(y=Um(k,null,s,p,x,C)),function Vh(n,r,s,d,p){const y=yr(n);if(r)p?y?n.addClass(s,d):s.classList.add(d):y?n.removeClass(s,d):s.classList.remove(d);else{let C=-1===d.indexOf("-")?void 0:K.DashCase;if(null==p)y?n.removeStyle(s,d,C):s.style.removeProperty(d);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),C|=K.Important),y?n.setStyle(s,d,p,C):s.style.setProperty(d,p,x?"important":"")}}}(d,C,Pt(ts(),s),p,y))}(y,y.data[ts()],p,p[11],n,p[C+1]=function j_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ce(Ua(n)))),n}(r,s),d,C)}(n,r,null,!0),Pc}function by(n,r,s,d,p){let y=null;const C=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<C&&(y=r[x],d=Tp(d,y.hostAttrs,p),y!==n);)x++;return null!==n&&(s.directiveStylingLast=x),d}function Tp(n,r,s){const d=s?1:2;let p=-1;if(null!==r)for(let y=0;y<r.length;y++){const C=r[y];"number"==typeof C?p=C:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),oo(n,C,!!s||r[++y]))}return void 0===n?null:n}function Um(n,r,s,d,p,y){const C=null===r;let x;for(;p>0;){const k=n[p],Z=Array.isArray(k),ie=Z?k[1]:k,be=null===ie;let rt=s[p+1];rt===Fr&&(rt=be?Ie:void 0);let St=be?ua(rt,d):ie===d?rt:void 0;if(Z&&!Af(St)&&(St=ua(k,d)),Af(St)&&(x=St,C))return x;const Yt=n[p+1];p=C?ha(Yt):Ss(Yt)}if(null!==r){let k=y?r.residualClasses:r.residualStyles;null!=k&&(x=ua(k,d))}return x}function Af(n){return void 0!==n}function Sd(n,r=""){const s=Y(),d=Tt(),p=n+20,y=d.firstCreatePass?Ic(d,p,1,r,null):d.data[p],C=s[p]=function zd(n,r){return yr(n)?n.createText(r):n.createTextNode(r)}(s[11],r);ul(d,s,C,y),B(y,!1)}function Ty(n){return Fc("",n,""),Ty}function Fc(n,r,s){const d=Y(),p=pu(d,n,r,s);return p!==Fr&&Uu(d,ts(),p),Fc}function Sy(n,r,s,d,p){const y=Y(),C=function Id(n,r,s,d,p,y){const x=xc(n,ti(),s,p);return ji(2),x?r+Se(s)+d+Se(p)+y:Fr}(y,n,r,s,d,p);return C!==Fr&&Uu(y,ts(),C),Sy}function Ay(n,r,s,d,p,y,C){const x=Y(),k=Mc(x,n,r,s,d,p,y,C);return k!==Fr&&Uu(x,ts(),k),Ay}const Fl=void 0;var Za=["en",[["a","p"],["AM","PM"],Fl],[["AM","PM"],Fl,Fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fl,"{1} 'at' {0}",Fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vu(n){const s=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let xf={};function Mf(n){const r=function Rf(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=y_(r);if(s)return s;const d=r.split("-")[0];if(s=y_(d),s)return s;if("en"===d)return Za;throw new Error(`Missing locale data for the locale "${n}".`)}function Aa(n){return Mf(n)[sr.PluralCase]}function y_(n){return n in xf||(xf[n]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[n]),xf[n]}var sr=(()=>((sr=sr||{})[sr.LocaleId=0]="LocaleId",sr[sr.DayPeriodsFormat=1]="DayPeriodsFormat",sr[sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",sr[sr.DaysFormat=3]="DaysFormat",sr[sr.DaysStandalone=4]="DaysStandalone",sr[sr.MonthsFormat=5]="MonthsFormat",sr[sr.MonthsStandalone=6]="MonthsStandalone",sr[sr.Eras=7]="Eras",sr[sr.FirstDayOfWeek=8]="FirstDayOfWeek",sr[sr.WeekendRange=9]="WeekendRange",sr[sr.DateFormat=10]="DateFormat",sr[sr.TimeFormat=11]="TimeFormat",sr[sr.DateTimeFormat=12]="DateTimeFormat",sr[sr.NumberSymbols=13]="NumberSymbols",sr[sr.NumberFormats=14]="NumberFormats",sr[sr.CurrencyCode=15]="CurrencyCode",sr[sr.CurrencySymbol=16]="CurrencySymbol",sr[sr.CurrencyName=17]="CurrencyName",sr[sr.Currencies=18]="Currencies",sr[sr.Directionality=19]="Directionality",sr[sr.PluralCase=20]="PluralCase",sr[sr.ExtraData=21]="ExtraData",sr))();const Hm="en-US";let v_=Hm;function uv(n,r,s,d,p){if(n=Te(n),Array.isArray(n))for(let y=0;y<n.length;y++)uv(n[y],r,s,d,p);else{const y=Tt(),C=Y();let x=hu(n)?n:Te(n.provide),k=Ac(n);const Z=E(),ie=1048575&Z.providerIndexes,be=Z.directiveStart,rt=Z.providerIndexes>>20;if(hu(n)||!n.multi){const St=new po(k,p,Yi),Yt=dv(x,r,p?ie:ie+rt,be);-1===Yt?(S(Qt(Z,C),y,x),cv(y,n,r.length),r.push(x),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),s.push(St),C.push(St)):(s[Yt]=St,C[Yt]=St)}else{const St=dv(x,r,ie+rt,be),Yt=dv(x,r,ie,ie+rt),hn=St>=0&&s[St],Tn=Yt>=0&&s[Yt];if(p&&!Tn||!p&&!hn){S(Qt(Z,C),y,x);const zn=function gw(n,r,s,d,p){const y=new po(n,s,Yi);return y.multi=[],y.index=r,y.componentProviders=0,h0(y,p,d&&!s),y}(p?pw:fw,s.length,p,d,k);!p&&Tn&&(s[Yt].providerFactory=zn),cv(y,n,r.length,0),r.push(x),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),s.push(zn),C.push(zn)}else cv(y,n,St>-1?St:Yt,h0(s[p?Yt:St],k,!p&&d));!p&&d&&Tn&&s[Yt].componentProviders++}}}function cv(n,r,s,d){const p=hu(r),y=function yg(n){return!!n.useClass}(r);if(p||y){const k=(y?Te(r.useClass):r).prototype.ngOnDestroy;if(k){const Z=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const ie=Z.indexOf(s);-1===ie?Z.push(s,[d,k]):Z[ie+1].push(d,k)}else Z.push(s,k)}}}function h0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function dv(n,r,s,d){for(let p=s;p<d;p++)if(r[p]===n)return p;return-1}function fw(n,r,s,d){return hv(this.multi,[])}function pw(n,r,s,d){const p=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,x=_r(s,s[1],this.providerFactory.index,d);y=x.slice(0,C),hv(p,y);for(let k=C;k<x.length;k++)y.push(x[k])}else y=[],hv(p,y);return y}function hv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function f0(n,r=[]){return s=>{s.providersResolver=(d,p)=>function hw(n,r,s){const d=Tt();if(d.firstCreatePass){const p=kt(n);uv(s,d.data,d.blueprint,p,!0),uv(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class p0{}class _w{resolveComponentFactory(r){throw function yw(n){const r=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let T_=(()=>{class n{}return n.NULL=new _w,n})();function vw(){return Ym(E(),Y())}function Ym(n,r){return new jy(qt(n,r))}let jy=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=vw,n})();function Ew(n){return n instanceof jy?n.nativeElement:n}class m0{}let ww=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bw(){const n=Y(),s=ir(E().index,n);return function Iw(n){return n[11]}(_e(s)?s:n)}(),n})(),Cw=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>null}),n})();class y0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const _0=new y0("13.2.7"),fv={};function S_(n,r,s,d,p=!1){for(;null!==s;){const y=r[s.index];if(null!==y&&d.push(U(y)),xe(y))for(let x=10;x<y.length;x++){const k=y[x],Z=k[1].firstChild;null!==Z&&S_(k[1],k,Z,d)}const C=s.type;if(8&C)S_(n,r,s.child,d);else if(32&C){const x=ut(s,r);let k;for(;k=x();)d.push(k)}else if(16&C){const x=Jo(r,s);if(Array.isArray(x))d.push(...x);else{const k=bn(r[16]);S_(k[1],k,x,d,!0)}}s=p?s.projectionNext:s.next}return d}class Hy{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return S_(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(xe(r)){const s=r[8],d=s?s.indexOf(this):-1;d>-1&&(Np(r,d),so(s,d))}this._attachedToViewContainer=!1}Fp(this._lView[1],this._lView)}onDestroy(r){og(this._lView[1],this._lView,null,r)}markForCheck(){rp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function fg(n,r,s){Ur(!0);try{hf(n,r,s)}finally{Ur(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new tt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nd(n,r){xl(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,"");this._appRef=r}}class Dw extends Hy{constructor(r){super(r),this._view=r}detectChanges(){_m(this._view)}checkNoChanges(){!function ff(n){Ur(!0);try{_m(n)}finally{Ur(!1)}}(this._view)}get context(){return null}}class v0 extends T_{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Yr(r);return new pv(s,this.ngModule)}}function E0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class pv extends p0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function jp(n){return n.map(gc).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return E0(this.componentDef.inputs)}get outputs(){return E0(this.componentDef.outputs)}create(r,s,d,p){const y=(p=p||this.ngModule)?function Sw(n,r){return{get:(s,d,p)=>{const y=n.get(s,fv,p);return y!==fv||d===fv?y:r.get(s,d,p)}}}(r,p.injector):r,C=y.get(m0,V),x=y.get(Cw,null),k=C.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ie=d?function fm(n,r,s){if(yr(n))return n.selectRootElement(r,s===vt.ShadowDom);let d="string"==typeof r?n.querySelector(r):r;return d.textContent="",d}(k,d,this.componentDef.encapsulation):dc(C.createRenderer(null,this.componentDef),Z,function Tw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Z)),be=this.componentDef.onPush?576:528,rt=function Ef(n,r){return{components:[],scheduler:n||uc,clean:gd,playerHandler:r||null,flags:0}}(),St=Qf(0,null,null,1,0,null,null,null,null,null),Yt=Ka(null,St,rt,be,null,null,C,k,x,y);let hn,Tn;ko(Yt);try{const zn=function vf(n,r,s,d,p,y){const C=s[1];s[20]=n;const k=Ic(C,20,2,"#host",null),Z=k.mergedAttrs=r.hostAttrs;null!==Z&&(ih(k,Z,!0),null!==n&&(ps(p,n,Z),null!==k.classes&&Uh(p,n,k.classes),null!==k.styles&&Lp(p,n,k.styles)));const ie=d.createRenderer(n,r),be=Ka(s,yo(r),null,r.onPush?64:16,s[20],k,d,ie,y||null,null);return C.firstCreatePass&&(S(Qt(k,s),C,r.type),eh(C,k),ym(k,s.length,1)),ea(s,be),s[20]=be}(ie,this.componentDef,Yt,C,k);if(ie)if(d)ps(k,ie,["ng-version",_0.full]);else{const{attrs:en,classes:pr}=function ey(n){const r=[],s=[];let d=1,p=2;for(;d<n.length;){let y=n[d];if("string"==typeof y)2===p?""!==y&&r.push(y,n[++d]):8===p&&s.push(y);else{if(!$o(p))break;p=y}d++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);en&&ps(k,ie,en),pr&&pr.length>0&&Uh(k,ie,pr.join(" "))}if(Tn=On(St,20),void 0!==s){const en=Tn.projection=[];for(let pr=0;pr<this.ngContentSelectors.length;pr++){const Ti=s[pr];en.push(null!=Ti?Array.from(Ti):null)}}hn=function Tg(n,r,s,d,p){const y=s[1],C=function tp(n,r,s){const d=E();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),th(n,d,r,bc(n,r,1,null),s));const p=_r(r,n,d.directiveStart,d);Sr(p,r);const y=qt(d,r);return y&&Sr(y,r),p}(y,s,r);if(d.components.push(C),n[8]=C,p&&p.forEach(k=>k(C,r)),r.contentQueries){const k=E();r.contentQueries(1,C,k.directiveStart)}const x=E();return!y.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(No(x.index),pm(s[1],x,0,x.directiveStart,x.directiveEnd,r),af(r,C)),C}(zn,this.componentDef,Yt,rt,[Cm]),Cc(St,Yt,null)}finally{ra()}return new xw(this.componentType,hn,Ym(Tn,Yt),Yt,Tn)}}class xw extends class mw{}{constructor(r,s,d,p,y){super(),this.location=d,this._rootLView=p,this._tNode=y,this.instance=s,this.hostView=this.changeDetectorRef=new Dw(p),this.componentType=r}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Zm{}class w0{}const Xm=new Map;class C0 extends Zm{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new v0(this);const d=kr(r);this._bootstrapComponents=Uo(d.bootstrap),this._r3Injector=Ol(r,s,[{provide:Zm,useValue:this},{provide:T_,useValue:this.componentFactoryResolver}],Ce(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Da.THROW_IF_NOT_FOUND,d=_n.Default){return r===Da||r===Zm||r===mf?this:this._r3Injector.get(r,s,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class gv extends w0{constructor(r){super(),this.moduleType=r,null!==kr(r)&&function Rw(n){const r=new Set;!function s(d){const p=kr(d,!0),y=p.id;null!==y&&(function I0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Ce(r)} vs ${Ce(r.name)}`)}(y,Xm.get(y),d),Xm.set(y,d));const C=Uo(p.imports);for(const x of C)r.has(x)||(r.add(x),s(x))}(n)}(r)}create(r){return new C0(this.moduleType,r)}}function D0(n,r,s,d,p){return S0(Y(),er(),n,r,s,d,p)}function Gy(n,r){const s=n[r];return s===Fr?void 0:s}function S0(n,r,s,d,p,y,C){const x=r+s;return xc(n,x,p,y)?dl(n,x+2,C?d.call(C,p,y):d(p,y)):Gy(n,x+2)}function x0(n,r,s,d,p,y,C,x,k){const Z=r+s;return function qa(n,r,s,d,p,y){const C=xc(n,r,s,d);return xc(n,r+2,p,y)||C}(n,Z,p,y,C,x)?dl(n,Z+4,k?d.call(k,p,y,C,x):d(p,y,C,x)):Gy(n,Z+4)}function R0(n,r){const s=Tt();let d;const p=n+20;s.firstCreatePass?(d=function $w(n,r){if(r)for(let s=r.length-1;s>=0;s--){const d=r[s];if(n===d.name)return d}}(r,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(p,d.onDestroy)):d=s.data[p];const y=d.factory||(d.factory=Pi(d.type)),C=Yn(Yi);try{const x=ya(!1),k=y();return ya(x),function Bg(n,r,s,d){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=d}(s,Y(),p,k),k}finally{Yn(C)}}function O0(n,r,s,d){const p=n+20,y=Y(),C=Qn(y,p);return zy(y,p)?S0(y,er(),r,C.transform,s,d,C):C.transform(s,d)}function P0(n,r,s,d,p,y){const C=n+20,x=Y(),k=Qn(x,C);return zy(x,C)?x0(x,er(),r,k.transform,s,d,p,y,k):k.transform(s,d,p,y)}function zy(n,r){return n[1].data[r].pure}function mv(n){return r=>{setTimeout(n,void 0,r)}}const Eh=class zw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,d){var p,y,C;let x=r,k=s||(()=>null),Z=d;if(r&&"object"==typeof r){const be=r;x=null===(p=be.next)||void 0===p?void 0:p.bind(be),k=null===(y=be.error)||void 0===y?void 0:y.bind(be),Z=null===(C=be.complete)||void 0===C?void 0:C.bind(be)}this.__isAsync&&(k=mv(k),x&&(x=mv(x)),Z&&(Z=mv(Z)));const ie=super.subscribe({next:x,error:k,complete:Z});return r instanceof J.w0&&r.add(ie),ie}};function Ww(){return this._results[hh()]()}class yv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=hh(),d=yv.prototype;d[s]||(d[s]=Ww)}get changes(){return this._changes||(this._changes=new Eh)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const d=this;d.dirty=!1;const p=io(r);(this._changesDetected=!function pl(n,r,s){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],y=r[d];if(s&&(p=s(p),y=s(y)),y!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yw,n})();const Kw=Wy,qw=class extends Kw{constructor(r,s,d){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(r){const s=this._declarationTContainer.tViews,d=Ka(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(s)),Cc(s,d,r),new Hy(d)}};function Yw(){return A_(E(),Y())}function A_(n,r){return 4&n.type?new qw(r,n,Ym(n,r)):null}let x_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zw,n})();function Zw(){return F0(E(),Y())}const Xw=x_,k0=class extends Xw{constructor(r,s,d){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=d}get element(){return Ym(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const r=M(this._hostTNode,this._hostLView);if(bu(r)){const s=Ci(r,this._hostLView),d=Io(r);return new Fs(s[1].data[d+8],s)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=N0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,d){const p=r.createEmbeddedView(s||{});return this.insert(p,d),p}createComponent(r,s,d,p,y){const C=r&&!function xi(n){return"function"==typeof n}(r);let x;if(C)x=s;else{const be=s||{};x=be.index,d=be.injector,p=be.projectableNodes,y=be.ngModuleRef}const k=C?r:new pv(Yr(r)),Z=d||this.parentInjector;if(!y&&null==k.ngModule){const rt=(C?Z:this.parentInjector).get(Zm,null);rt&&(y=rt)}const ie=k.create(Z,p,void 0,y);return this.insert(ie.hostView,x),ie}insert(r,s){const d=r._lView,p=d[1];if(function Br(n){return xe(n[3])}(d)){const ie=this.indexOf(r);if(-1!==ie)this.detach(ie);else{const be=d[3],rt=new k0(be,be[6],be[3]);rt.detach(rt.indexOf(r))}}const y=this._adjustIndex(s),C=this._lContainer;!function Al(n,r,s,d){const p=10+d,y=s.length;d>0&&(s[p-1][4]=r),d<y-10?(r[4]=s[p],ds(s,10+d,r)):(s.push(r),r[4]=null),r[3]=s;const C=r[17];null!==C&&s!==C&&function hc(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(C,r);const x=r[19];null!==x&&x.insertView(n),r[2]|=128}(p,d,C,y);const x=qd(y,C),k=d[11],Z=Hf(k,C[7]);return null!==Z&&function td(n,r,s,d,p,y){d[0]=p,d[6]=r,xl(n,d,s,1,p,y)}(p,C[6],k,d,Z,x),r.attachToViewContainerRef(),ds(_v(C),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=N0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),d=Np(this._lContainer,s);d&&(so(_v(this._lContainer),s),Fp(d[1],d))}detach(r){const s=this._adjustIndex(r,-1),d=Np(this._lContainer,s);return d&&null!=so(_v(this._lContainer),s)?new Hy(d):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function N0(n){return n[8]}function _v(n){return n[8]||(n[8]=[])}function F0(n,r){let s;const d=r[n.index];if(xe(d))s=d;else{let p;if(8&n.type)p=U(d);else{const y=r[11];p=y.createComment("");const C=qt(n,r);Ao(y,Hf(y,C),p,function Ri(n,r){return yr(n)?n.nextSibling(r):r.nextSibling}(y,C),!1)}r[n.index]=s=Bu(d,r,p,n),ea(r,s)}return new k0(s,n,r)}class vv{constructor(r){this.queryList=r,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ev{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const d=null!==r.contentQueries?r.contentQueries[0]:s.length,p=[];for(let y=0;y<d;y++){const C=s.getByIndex(y);p.push(this.queries[C.indexInDeclarationView].clone())}return new Ev(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==z0(r,s).matches&&this.queries[s].setDirty()}}class L0{constructor(r,s,d=null){this.predicate=r,this.flags=s,this.read=d}}class wv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,y=this.getByIndex(d).embeddedTView(r,p);y&&(y.indexInDeclarationView=d,null!==s?s.push(y):s=[y])}return null!==s?new wv(s):null}template(r,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Iv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Iv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const y=d[p];this.matchTNodeWithReadOption(r,s,eI(s,y)),this.matchTNodeWithReadOption(r,s,Dn(s,r,y,!1,!1))}else d===Wy?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Dn(s,r,d,!1,!1))}matchTNodeWithReadOption(r,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===jy||p===x_||p===Wy&&4&s.type)this.addMatch(s.index,-2);else{const y=Dn(s,r,p,!1,!1);null!==y&&this.addMatch(s.index,y)}else this.addMatch(s.index,d)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function eI(n,r){const s=n.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===r)return s[d+1];return null}function nI(n,r,s,d){return-1===s?function tI(n,r){return 11&n.type?Ym(n,r):4&n.type?A_(n,r):null}(r,n):-2===s?function rI(n,r,s){return s===jy?Ym(r,n):s===Wy?A_(r,n):s===x_?F0(r,n):void 0}(n,r,d):_r(n,n[1],s,r)}function B0(n,r,s,d){const p=r[19].queries[d];if(null===p.matches){const y=n.data,C=s.matches,x=[];for(let k=0;k<C.length;k+=2){const Z=C[k];x.push(Z<0?null:nI(r,y[Z],C[k+1],s.metadata.read))}p.matches=x}return p.matches}function bv(n,r,s,d){const p=n.queries.getByIndex(s),y=p.matches;if(null!==y){const C=B0(n,r,p,s);for(let x=0;x<y.length;x+=2){const k=y[x];if(k>0)d.push(C[x/2]);else{const Z=y[x+1],ie=r[-k];for(let be=10;be<ie.length;be++){const rt=ie[be];rt[17]===rt[3]&&bv(rt[1],rt,Z,d)}if(null!==ie[9]){const be=ie[9];for(let rt=0;rt<be.length;rt++){const St=be[rt];bv(St[1],St,Z,d)}}}}}return d}function V0(n){const r=Y(),s=Tt(),d=Eu();Ma(d+1);const p=z0(s,d);if(n.dirty&&cr(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const y=p.crossesNgTemplate?bv(s,r,d,[]):B0(s,r,p,d);n.reset(y,Ew),n.notifyOnChanges()}return!0}return!1}function U0(n,r,s){const d=Tt();d.firstCreatePass&&(G0(d,new L0(n,r,s),-1),2==(2&r)&&(d.staticViewQueries=!0)),H0(d,Y(),r)}function $0(n,r,s,d){const p=Tt();if(p.firstCreatePass){const y=E();G0(p,new L0(r,s,d),y.index),function sI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(p,n),2==(2&s)&&(p.staticContentQueries=!0)}H0(p,Y(),s)}function j0(){return function iI(n,r){return n[19].queries[r].queryList}(Y(),Eu())}function H0(n,r,s){const d=new yv(4==(4&s));og(n,r,d,d.destroy),null===r[19]&&(r[19]=new Ev),r[19].queries.push(new vv(d))}function G0(n,r,s){null===n.queries&&(n.queries=new wv),n.queries.track(new Iv(r,s))}function z0(n,r){return n.queries.getByIndex(r)}function W0(n,r){return A_(n,r)}function O_(...n){}const uE=new _i("Application Initializer");let xv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=O_,this.reject=O_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(u(y))s.push(y);else if(l(y)){const C=new Promise((x,k)=>{y.subscribe({complete:x,error:k})});s.push(C)}}Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(dn(uE,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cE=new _i("AppId",{providedIn:"root",factory:function dE(){return`${Mv()}${Mv()}${Mv()}`}});function Mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hE=new _i("Platform Initializer"),fE=new _i("Platform ID"),pE=new _i("appBootstrapListener");let gE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Rv=new _i("LocaleId",{providedIn:"root",factory:()=>$n(Rv,_n.Optional|_n.SkipSelf)||function II(){return"undefined"!=typeof $localize&&$localize.locale||Hm}()}),bI=new _i("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let DI=(()=>{class n{compileModuleSync(s){return new gv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),y=Uo(kr(s).declarations).reduce((C,x)=>{const k=Yr(x);return k&&C.push(new pv(k)),C},[]);return new CI(d,y)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SI=(()=>Promise.resolve(0))();function Ov(n){"undefined"==typeof Zone?SI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ad{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eh(!1),this.onMicrotaskEmpty=new Eh(!1),this.onStable=new Eh(!1),this.onError=new Eh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function AI(){let n=pn.requestAnimationFrame,r=pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function RI(n){const r=()=>{!function MI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kv(n),n.isCheckStableRunning=!0,Pv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,y,C,x)=>{try{return mE(n),s.invokeTask(p,y,C,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),yE(n)}},onInvoke:(s,d,p,y,C,x,k)=>{try{return mE(n),s.invoke(p,y,C,x,k)}finally{n.shouldCoalesceRunChangeDetection&&r(),yE(n)}},onHasTask:(s,d,p,y)=>{s.hasTask(p,y),d===p&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,kv(n),Pv(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,d,p,y)=>(s.handleError(p,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ad.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ad.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,d){return this._inner.run(r,s,d)}runTask(r,s,d,p){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+p,r,xI,O_,O_);try{return y.runTask(C,s,d)}finally{y.cancelTask(C)}}runGuarded(r,s,d){return this._inner.runGuarded(r,s,d)}runOutsideAngular(r){return this._outer.run(r)}}const xI={};function Pv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yE(n){n._nesting--,Pv(n)}class OI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eh,this.onMicrotaskEmpty=new Eh,this.onStable=new Eh,this.onError=new Eh}run(r,s,d){return r.apply(s,d)}runGuarded(r,s,d){return r.apply(s,d)}runOutsideAngular(r){return r()}runTask(r,s,d,p){return r.apply(s,d)}}let _E=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ad.assertNotInAngularZone(),Ov(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ov(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:y,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,d,p){return[]}}return n.\u0275fac=function(s){return new(s||n)(dn(Ad))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),vE=(()=>{class n{constructor(){this._applications=new Map,Nv.addToWindow(this)}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return Nv.findTestabilityInTree(this,s,d)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class PI{addToWindow(r){}findTestabilityInTree(r,s,d){return null}}function kI(n){Nv=n}let xd,Nv=new PI;const EE=new _i("AllowMultipleToken");class LI{constructor(r,s){this.name=r,this.token=s}}function wE(n,r,s=[]){const d=`Platform: ${r}`,p=new _i(d);return(y=[])=>{let C=IE();if(!C||C.injector.get(EE,!1))if(n)n(s.concat(y).concat({provide:p,useValue:!0}));else{const x=s.concat(y).concat({provide:p,useValue:!0},{provide:md,useValue:"platform"});!function BI(n){if(xd&&!xd.destroyed&&!xd.injector.get(EE,!1))throw new tt(400,"");xd=n.get(bE);const r=n.get(hE,null);r&&r.forEach(s=>s())}(Da.create({providers:x,name:d}))}return function VI(n){const r=IE();if(!r)throw new tt(401,"");return r}()}}function IE(){return xd&&!xd.destroyed?xd:null}let bE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const x=function UI(n,r){let s;return s="noop"===n?new OI:("zone.js"===n?void 0:n)||new Ad({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),k=[{provide:Ad,useValue:x}];return x.run(()=>{const Z=Da.create({providers:k,parent:this.injector,name:s.moduleType.name}),ie=s.create(Z),be=ie.injector.get(Tl,null);if(!be)throw new tt(402,"");return x.runOutsideAngular(()=>{const rt=x.onError.subscribe({next:St=>{be.handleError(St)}});ie.onDestroy(()=>{Lv(this._modules,ie),rt.unsubscribe()})}),function $I(n,r,s){try{const d=s();return u(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}(be,x,()=>{const rt=ie.injector.get(xv);return rt.runInitializers(),rt.donePromise.then(()=>(function E_(n){ht(n,"Expected localeId to be defined"),"string"==typeof n&&(v_=n.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(Rv,Hm)||Hm),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(s,d=[]){const p=CE({},d);return function NI(n,r,s){const d=new gv(s);return Promise.resolve(d)}(0,0,s).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(s){const d=s.injector.get(Fv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new tt(403,"");s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(dn(Da))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function CE(n,r){return Array.isArray(r)?r.reduce(CE,n):Object.assign(Object.assign({},n),r)}let Fv=(()=>{class n{constructor(s,d,p,y,C){this._zone=s,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=y,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new q.y(Z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Z.next(this._stable),Z.complete()})}),k=new q.y(Z=>{let ie;this._zone.runOutsideAngular(()=>{ie=this._zone.onStable.subscribe(()=>{Ad.assertNotInAngularZone(),Ov(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Z.next(!0))})})});const be=this._zone.onUnstable.subscribe(()=>{Ad.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Z.next(!1)}))});return()=>{ie.unsubscribe(),be.unsubscribe()}});this.isStable=(0,Me.T)(x,k.pipe((0,Re.B)()))}bootstrap(s,d){if(!this._initStatus.done)throw new tt(405,"");let p;p=s instanceof p0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(p.componentType);const y=function FI(n){return n.isBoundToModule}(p)?void 0:this._injector.get(Zm),x=p.create(Da.NULL,[],d||p.selector,y),k=x.location.nativeElement,Z=x.injector.get(_E,null),ie=Z&&x.injector.get(vE);return Z&&ie&&ie.registerApplication(k,Z),x.onDestroy(()=>{this.detachView(x.hostView),Lv(this.components,x),ie&&ie.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new tt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;Lv(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(pE,[]).concat(this._bootstrapListeners).forEach(p=>p(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(dn(Ad),dn(Da),dn(Tl),dn(T_),dn(xv))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lv(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let TE=!0,SE=!1;function HI(){return SE=!0,TE}function GI(){if(SE)throw new Error("Cannot enable prod mode after platform setup.");TE=!1}let zI=(()=>{class n{}return n.__NG_ELEMENT_ID__=WI,n})();function WI(n){return function KI(n,r,s){if(Bt(n)&&!s){const d=ir(n.index,r);return new Hy(d,d)}return 47&n.type?new Hy(r[16],r):null}(E(),Y(),16==(16&n))}class RE{constructor(){}supports(r){return wd(r)}create(r){return new JI(r)}}const QI=(n,r)=>r;class JI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||QI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,d=this._removalsHead,p=0,y=null;for(;s||d;){const C=!d||s&&s.currentIndex<PE(d,p,y)?s:d,x=PE(C,p,y),k=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(s=s._next,null==C.previousIndex)p++;else{y||(y=[]);const Z=x-p,ie=k-p;if(Z!=ie){for(let rt=0;rt<Z;rt++){const St=rt<y.length?y[rt]:y[rt]=0,Yt=St+rt;ie<=Yt&&Yt<Z&&(y[rt]=St+1)}y[C.previousIndex]=ie-Z}}x!==k&&r(C,x,k)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!wd(r))throw new tt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,y,C,s=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)y=r[x],C=this._trackByFn(x,y),null!==s&&Object.is(s.trackById,C)?(d&&(s=this._verifyReinsertion(s,y,C,x)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,C,x),d=!0),s=s._next}else p=0,function Rg(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[hh()]();let d;for(;!(d=s.next()).done;)r(d.value)}}(r,x=>{C=this._trackByFn(p,x),null!==s&&Object.is(s.trackById,C)?(d&&(s=this._verifyReinsertion(s,x,C,p)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,C,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,d,p){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,y,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,y,p)):r=this._addAfter(new eb(s,d),y,p),r}_verifyReinsertion(r,s,d,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?r=this._reinsertAfter(y,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,y=r._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(r,s,d),this._addToMoves(r,d),r}_moveAfter(r,s,d){return this._unlink(r),this._insertAfter(r,s,d),this._addToMoves(r,d),r}_addAfter(r,s,d){return this._insertAfter(r,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,d){const p=null===s?this._itHead:s._next;return r._next=p,r._prev=s,null===p?this._itTail=r:p._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new OE),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,d=r._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class eb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const s=r._prevDup,d=r._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class OE{constructor(){this.map=new Map}put(r){const s=r.trackById;let d=this.map.get(s);d||(d=new tb,this.map.set(s,d)),d.add(r)}get(r,s){const p=this.map.get(r);return p?p.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PE(n,r,s){const d=n.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+r+p}class kE{constructor(){}supports(r){return r instanceof Map||Og(r)}create(){return new nb}}class nb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Og(r)))throw new tt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const y=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,y)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const d=r._prev;return s._next=r,s._prev=d,r._prev=s,d&&(d._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,s);const y=p._prev,C=p._next;return y&&(y._next=C),C&&(C._prev=y),p._next=null,p._prev=null,p}const d=new rb(r);return this._records.set(r,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(d=>s(r[d],d))}}class rb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NE(){return new jv([new RE])}let jv=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||NE()),deps:[[n,new Do,new ao]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new tt(901,"")}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:NE}),n})();function FE(){return new Hv([new kE])}let Hv=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||FE()),deps:[[n,new Do,new ao]]}}find(s){const d=this.factories.find(y=>y.supports(s));if(d)return d;throw new tt(901,"")}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:FE}),n})();const ob=wE(null,"core",[{provide:fE,useValue:"unknown"},{provide:bE,deps:[Da]},{provide:vE,deps:[]},{provide:gE,deps:[]}]);let ab=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(dn(Fv))},n.\u0275mod=Pr({type:n}),n.\u0275inj=Nt({}),n})()},2382:(Zt,at,P)=>{"use strict";P.d(at,{on:()=>qt,u5:()=>Sn,JU:()=>tt,a5:()=>Wn,JJ:()=>qe,JL:()=>Je,F:()=>_e,On:()=>ci,UX:()=>xs,Q7:()=>ue,_Y:()=>Ii});var c=P(5e3),J=P(9808),q=P(8306),Me=P(4742),Re=P(8421),Ee=P(7669),ve=P(5403),Ce=P(3268),ke=P(1810),me=P(8996),Te=P(4004);let Pe=(()=>{class z{constructor(N,Y){this._renderer=N,this._elementRef=Y,this.onChange=Tt=>{},this.onTouched=()=>{}}setProperty(N,Y){this._renderer.setProperty(this._elementRef.nativeElement,N,Y)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return z.\u0275fac=function(N){return new(N||z)(c.Y36(c.Qsj),c.Y36(c.SBq))},z.\u0275dir=c.lG2({type:z}),z})(),Ve=(()=>{class z extends Pe{}return z.\u0275fac=function(){let L;return function(Y){return(L||(L=c.n5z(z)))(Y||z)}}(),z.\u0275dir=c.lG2({type:z,features:[c.qOj]}),z})();const tt=new c.OlP("NgValueAccessor"),Le={provide:tt,useExisting:(0,c.Gpc)(()=>ot),multi:!0},st=new c.OlP("CompositionEventMode");let ot=(()=>{class z extends Pe{constructor(N,Y,Tt){super(N,Y),this._compositionMode=Tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const z=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(N){this.setProperty("value",null==N?"":N)}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return z.\u0275fac=function(N){return new(N||z)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(st,8))},z.\u0275dir=c.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,Y){1&N&&c.NdJ("input",function(En){return Y._handleInput(En.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(En){return Y._compositionEnd(En.target.value)})},features:[c._Bn([Le]),c.qOj]}),z})();function Ze(z){return null==z||0===z.length}const $e=new c.OlP("NgValidators"),Ke=new c.OlP("NgAsyncValidators"),ee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function ge(z){return Ze(z.value)?{required:!0}:null}function Ye(z){return Ze(z.value)||ee.test(z.value)?null:{email:!0}}function ht(z){return null}function We(z){return null!=z}function Ct(z){const L=(0,c.QGY)(z)?(0,me.D)(z):z;return(0,c.CqO)(L),L}function ft(z){let L={};return z.forEach(N=>{L=null!=N?Object.assign(Object.assign({},L),N):L}),0===Object.keys(L).length?null:L}function Et(z,L){return L.map(N=>N(z))}function Kt(z){return z.map(L=>function lt(z){return!z.validate}(L)?L:N=>L.validate(N))}function wt(z){return null!=z?function Nt(z){if(!z)return null;const L=z.filter(We);return 0==L.length?null:function(N){return ft(Et(N,L))}}(Kt(z)):null}function Cn(z){return null!=z?function Pn(z){if(!z)return null;const L=z.filter(We);return 0==L.length?null:function(N){return function fe(...z){const L=(0,Ee.jO)(z),{args:N,keys:Y}=(0,Me.D)(z),Tt=new q.y(En=>{const{length:E}=N;if(!E)return void En.complete();const G=new Array(E);let w=E,B=E;for(let ce=0;ce<E;ce++){let Ot=!1;(0,Re.Xf)(N[ce]).subscribe((0,ve.x)(En,an=>{Ot||(Ot=!0,B--),G[ce]=an},()=>w--,void 0,()=>{(!w||!Ot)&&(B||En.next(Y?(0,ke.n)(Y,G):G),En.complete())}))}});return L?Tt.pipe((0,Ce.Z)(L)):Tt}(Et(N,L).map(Ct)).pipe((0,Te.U)(ft))}}(Kt(z)):null}function yn(z,L){return null===z?[L]:Array.isArray(z)?[...z,L]:[z,L]}function tr(z){return z?Array.isArray(z)?z:[z]:[]}function Ln(z,L){return Array.isArray(z)?z.includes(L):z===L}function kn(z,L){const N=tr(L);return tr(z).forEach(Tt=>{Ln(N,Tt)||N.push(Tt)}),N}function _n(z,L){return tr(L).filter(N=>!Ln(z,N))}class qr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,N){return!!this.control&&this.control.hasError(L,N)}getError(L,N){return this.control?this.control.getError(L,N):null}}class Wn extends qr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn extends qr{get formDirective(){return null}get path(){return null}}class $r{constructor(L){this._cd=L}is(L){var N,Y,Tt;return"submitted"===L?!!(null===(N=this._cd)||void 0===N?void 0:N.submitted):!!(null===(Tt=null===(Y=this._cd)||void 0===Y?void 0:Y.control)||void 0===Tt?void 0:Tt[L])}}let qe=(()=>{class z extends $r{constructor(N){super(N)}}return z.\u0275fac=function(N){return new(N||z)(c.Y36(Wn,2))},z.\u0275dir=c.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,Y){2&N&&c.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))},features:[c.qOj]}),z})(),Je=(()=>{class z extends $r{constructor(N){super(N)}}return z.\u0275fac=function(N){return new(N||z)(c.Y36(Yn,10))},z.\u0275dir=c.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,Y){2&N&&c.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))("ng-submitted",Y.is("submitted"))},features:[c.qOj]}),z})();function rn(z,L){In(z,L),L.valueAccessor.writeValue(z.value),function Pr(z,L){L.valueAccessor.registerOnChange(N=>{z._pendingValue=N,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Hr(z,L)})}(z,L),function Bn(z,L){const N=(Y,Tt)=>{L.valueAccessor.writeValue(Y),Tt&&L.viewToModelUpdate(Y)};z.registerOnChange(N),L._registerOnDestroy(()=>{z._unregisterOnChange(N)})}(z,L),function Fi(z,L){L.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Hr(z,L),"submit"!==z.updateOn&&z.markAsTouched()})}(z,L),function Er(z,L){if(L.valueAccessor.setDisabledState){const N=Y=>{L.valueAccessor.setDisabledState(Y)};z.registerOnDisabledChange(N),L._registerOnDestroy(()=>{z._unregisterOnDisabledChange(N)})}}(z,L)}function wn(z,L){z.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(L)})}function In(z,L){const N=function fn(z){return z._rawValidators}(z);null!==L.validator?z.setValidators(yn(N,L.validator)):"function"==typeof N&&z.setValidators([N]);const Y=function qn(z){return z._rawAsyncValidators}(z);null!==L.asyncValidator?z.setAsyncValidators(yn(Y,L.asyncValidator)):"function"==typeof Y&&z.setAsyncValidators([Y]);const Tt=()=>z.updateValueAndValidity();wn(L._rawValidators,Tt),wn(L._rawAsyncValidators,Tt)}function Hr(z,L){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Lr(z,L){const N=z.indexOf(L);N>-1&&z.splice(N,1)}const te="VALID",cn="INVALID",Zn="PENDING",Zr="DISABLED";function lr(z){return(xr(z)?z.validators:z)||null}function or(z){return Array.isArray(z)?wt(z):z||null}function wr(z,L){return(xr(L)?L.asyncValidators:z)||null}function mi(z){return Array.isArray(z)?Cn(z):z||null}function xr(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}const Li=z=>z instanceof re;function Zi(z){return(z=>z instanceof Si)(z)?z.value:z.getRawValue()}function li(z,L){const N=Li(z),Y=z.controls;if(!(N?Object.keys(Y):Y).length)throw new c.vHH(1e3,"");if(!Y[L])throw new c.vHH(1001,"")}function Cr(z,L){Li(z),z._forEachChild((Y,Tt)=>{if(void 0===L[Tt])throw new c.vHH(1002,"")})}class ui{constructor(L,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=N,this._composedValidatorFn=or(this._rawValidators),this._composedAsyncValidatorFn=mi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===te}get invalid(){return this.status===cn}get pending(){return this.status==Zn}get disabled(){return this.status===Zr}get enabled(){return this.status!==Zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=or(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=mi(L)}addValidators(L){this.setValidators(kn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(kn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(_n(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(_n(L,this._rawAsyncValidators))}hasValidator(L){return Ln(this._rawValidators,L)}hasAsyncValidator(L){return Ln(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=Zn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const N=this._parentMarkedDirty(L.onlySelf);this.status=Zr,this.errors=null,this._forEachChild(Y=>{Y.disable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:N})),this._onDisabledChange.forEach(Y=>Y(!0))}enable(L={}){const N=this._parentMarkedDirty(L.onlySelf);this.status=te,this._forEachChild(Y=>{Y.enable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:N})),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===te||this.status===Zn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zr:te}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=Zn,this._hasOwnPendingAsyncValidator=!0;const N=Ct(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,N={}){this.errors=L,this._updateControlsErrors(!1!==N.emitEvent)}get(L){return function ai(z,L,N){if(null==L||(Array.isArray(L)||(L=L.split(N)),Array.isArray(L)&&0===L.length))return null;let Y=z;return L.forEach(Tt=>{Y=Li(Y)?Y.controls.hasOwnProperty(Tt)?Y.controls[Tt]:null:(z=>z instanceof pe)(Y)&&Y.at(Tt)||null}),Y}(this,L,".")}getError(L,N){const Y=N?this.get(N):this;return Y&&Y.errors?Y.errors[L]:null}hasError(L,N){return!!this.getError(L,N)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Zr:this.errors?cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zn)?Zn:this._anyControlsHaveStatus(cn)?cn:te}_anyControlsHaveStatus(L){return this._anyControls(N=>N.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_isBoxedValue(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){xr(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Si extends ui{constructor(L=null,N,Y){super(lr(N),wr(Y,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xr(N)&&N.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(L)?L.value:L)}setValue(L,N={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(L,N={}){this.setValue(L,N)}reset(L=this.defaultValue,N={}){this._applyFormState(L),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Lr(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Lr(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){this._isBoxedValue(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}}class re extends ui{constructor(L,N,Y){super(lr(N),wr(Y,N)),this.controls=L,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,N){return this.controls[L]?this.controls[L]:(this.controls[L]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(L,N,Y={}){this.registerControl(L,N),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(L,N={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(L,N,Y={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],N&&this.registerControl(L,N),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,N={}){Cr(this,L),Object.keys(L).forEach(Y=>{li(this,Y),this.controls[Y].setValue(L[Y],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(L,N={}){null!=L&&(Object.keys(L).forEach(Y=>{this.controls[Y]&&this.controls[Y].patchValue(L[Y],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(L={},N={}){this._forEachChild((Y,Tt)=>{Y.reset(L[Tt],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(L,N,Y)=>(L[Y]=Zi(N),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(N,Y)=>!!Y._syncPendingControls()||N);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(N=>{const Y=this.controls[N];Y&&L(Y,N)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const N of Object.keys(this.controls)){const Y=this.controls[N];if(this.contains(N)&&L(Y))return!0}return!1}_reduceValue(){return this._reduceChildren({},(L,N,Y)=>((N.enabled||this.disabled)&&(L[Y]=N.value),L))}_reduceChildren(L,N){let Y=L;return this._forEachChild((Tt,En)=>{Y=N(Y,Tt,En)}),Y}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class pe extends ui{constructor(L,N,Y){super(lr(N),wr(Y,N)),this.controls=L,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[L]}push(L,N={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(L,N,Y={}){this.controls.splice(L,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(L,N={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(L,N,Y={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),N&&(this.controls.splice(L,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,N={}){Cr(this,L),L.forEach((Y,Tt)=>{li(this,Tt),this.at(Tt).setValue(Y,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(L,N={}){null!=L&&(L.forEach((Y,Tt)=>{this.at(Tt)&&this.at(Tt).patchValue(Y,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(L=[],N={}){this._forEachChild((Y,Tt)=>{Y.reset(L[Tt],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(L=>Zi(L))}clear(L={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_syncPendingControls(){let L=this.controls.reduce((N,Y)=>!!Y._syncPendingControls()||N,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((N,Y)=>{L(N,Y)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(N=>N.enabled&&L(N))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}}const et={provide:Yn,useExisting:(0,c.Gpc)(()=>_e)},ct=(()=>Promise.resolve(null))();let _e=(()=>{class z extends Yn{constructor(N,Y){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new re({},wt(N),Cn(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){ct.then(()=>{const Y=this._findContainer(N.path);N.control=Y.registerControl(N.name,N.control),rn(N.control,N),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){ct.then(()=>{const Y=this._findContainer(N.path);Y&&Y.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){ct.then(()=>{const Y=this._findContainer(N.path),Tt=new re({});(function wi(z,L){In(z,L)})(Tt,N),Y.registerControl(N.name,Tt),Tt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){ct.then(()=>{const Y=this._findContainer(N.path);Y&&Y.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,Y){ct.then(()=>{this.form.get(N.path).setValue(Y)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,function yi(z,L){z._syncPendingControls(),L.forEach(N=>{const Y=N.control;"submit"===Y.updateOn&&Y._pendingChange&&(N.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return z.\u0275fac=function(N){return new(N||z)(c.Y36($e,10),c.Y36(Ke,10))},z.\u0275dir=c.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,Y){1&N&&c.NdJ("submit",function(En){return Y.onSubmit(En)})("reset",function(){return Y.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([et]),c.qOj]}),z})();const Xn={provide:Wn,useExisting:(0,c.Gpc)(()=>ci)},nr=(()=>Promise.resolve(null))();let ci=(()=>{class z extends Wn{constructor(N,Y,Tt,En,E){super(),this._changeDetectorRef=E,this.control=new Si,this._registered=!1,this.update=new c.vpe,this._parent=N,this._setValidators(Y),this._setAsyncValidators(Tt),this.valueAccessor=function Tr(z,L){if(!L)return null;let N,Y,Tt;return Array.isArray(L),L.forEach(En=>{En.constructor===ot?N=En:function gi(z){return Object.getPrototypeOf(z.constructor)===Ve}(En)?Y=En:Tt=En}),Tt||Y||N||null}(0,En)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const Y=N.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),function fs(z,L){if(!z.hasOwnProperty("model"))return!1;const N=z.model;return!!N.isFirstChange()||!Object.is(L,N.currentValue)}(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){nr.then(()=>{var Y;this.control.setValue(N,{emitViewToModelChange:!1}),null===(Y=this._changeDetectorRef)||void 0===Y||Y.markForCheck()})}_updateDisabled(N){const Y=N.isDisabled.currentValue,Tt=""===Y||Y&&"false"!==Y;nr.then(()=>{var En;Tt&&!this.control.disabled?this.control.disable():!Tt&&this.control.disabled&&this.control.enable(),null===(En=this._changeDetectorRef)||void 0===En||En.markForCheck()})}_getPath(N){return this._parent?function Ht(z,L){return[...L.path,z]}(N,this._parent):[N]}}return z.\u0275fac=function(N){return new(N||z)(c.Y36(Yn,9),c.Y36($e,10),c.Y36(Ke,10),c.Y36(tt,10),c.Y36(c.sBO,8))},z.\u0275dir=c.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Xn]),c.qOj,c.TTD]}),z})(),Ii=(()=>{class z{}return z.\u0275fac=function(N){return new(N||z)},z.\u0275dir=c.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),Xt=(()=>{class z{}return z.\u0275fac=function(N){return new(N||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({}),z})();const is=new c.OlP("NgModelWithFormControlWarning");let Ji=(()=>{class z{constructor(){this._validator=ht}ngOnChanges(N){if(this.inputName in N){const Y=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(Y),this._validator=this._enabled?this.createValidator(Y):ht,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}}return z.\u0275fac=function(N){return new(N||z)},z.\u0275dir=c.lG2({type:z,features:[c.TTD]}),z})();const se={provide:$e,useExisting:(0,c.Gpc)(()=>ue),multi:!0};let ue=(()=>{class z extends Ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=N=>function Oo(z){return null!=z&&!1!==z&&"false"!=`${z}`}(N),this.createValidator=N=>ge}enabled(N){return N}}return z.\u0275fac=function(){let L;return function(Y){return(L||(L=c.n5z(z)))(Y||z)}}(),z.\u0275dir=c.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(N,Y){2&N&&c.uIk("required",Y._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([se]),c.qOj]}),z})();const Pt={provide:$e,useExisting:(0,c.Gpc)(()=>qt),multi:!0};let qt=(()=>{class z extends Ji{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=N=>""===N||!0===N||"true"===N,this.createValidator=N=>Ye}enabled(N){return N}}return z.\u0275fac=function(){let L;return function(Y){return(L||(L=c.n5z(z)))(Y||z)}}(),z.\u0275dir=c.lG2({type:z,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([Pt]),c.qOj]}),z})(),es=(()=>{class z{}return z.\u0275fac=function(N){return new(N||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[[Xt]]}),z})(),Sn=(()=>{class z{}return z.\u0275fac=function(N){return new(N||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[es]}),z})(),xs=(()=>{class z{static withConfig(N){return{ngModule:z,providers:[{provide:is,useValue:N.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(N){return new(N||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[es]}),z})()},6115:(Zt,at,P)=>{"use strict";P.d(at,{gz:()=>et,y6:()=>Xi,OD:()=>Cn,eC:()=>At,wm:()=>nl,wN:()=>ts,F0:()=>us,rH:()=>wo,Bz:()=>bu,Hx:()=>kr});var c=P(5e3),J=P(8306),q=P(4742),Me=P(8996),Re=P(4671),Ee=P(3268),ve=P(7669),Ce=P(1810),ke=P(5403),fe=P(9672);function Pe(M,S,D){M?(0,fe.f)(D,M,S):S()}var Ve=P(8421);function tt(M){return new J.y(S=>{(0,Ve.Xf)(M()).subscribe(S)})}var Fe=P(727),Se=P(4482);function Le(){return(0,Se.e)((M,S)=>{let D=null;M._refCount++;const $=(0,ke.x)(S,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(D=null);const j=M._connection,W=D;D=null,j&&(!W||j===W)&&j.unsubscribe(),S.unsubscribe()});M.subscribe($),$.closed||(D=M.connect())})}class De extends J.y{constructor(S,D){super(),this.source=S,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Se.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Fe.w0;const D=this.getSubject();S.add(this.source.subscribe((0,ke.x)(D,void 0,()=>{this._teardown(),D.complete()},$=>{this._teardown(),D.error($)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Fe.w0.EMPTY)}return S}refCount(){return Le()(this)}}var st=P(9646),ot=P(1135),Ze=P(2843),ze=P(6805),$e=P(7272),Ke=P(515),ee=P(7579),Qe=P(9300);function he(M){return M<=0?()=>Ke.E:(0,Se.e)((S,D)=>{let $=[];S.subscribe((0,ke.x)(D,j=>{$.push(j),M<$.length&&$.shift()},()=>{for(const j of $)D.next(j);D.complete()},void 0,()=>{$=null}))})}var ye=P(8068),ge=P(6590),pt=P(4004),Gt=P(3900),yt=P(5698),ht=P(8675),We=P(5026),Ct=P(262),ft=P(4351),Et=P(590),lt=P(5577),Kt=P(8505),Nt=P(8189),wt=P(9808);class Pn{constructor(S,D){this.id=S,this.url=D}}class Cn extends Pn{constructor(S,D,$="imperative",j=null){super(S,D),this.navigationTrigger=$,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yn extends Pn{constructor(S,D,$){super(S,D),this.urlAfterRedirects=$}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fn extends Pn{constructor(S,D,$){super(S,D),this.reason=$}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qn extends Pn{constructor(S,D,$){super(S,D),this.error=$}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends Pn{constructor(S,D,$,j){super(S,D),this.urlAfterRedirects=$,this.state=j}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends Pn{constructor(S,D,$,j){super(S,D),this.urlAfterRedirects=$,this.state=j}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends Pn{constructor(S,D,$,j,W){super(S,D),this.urlAfterRedirects=$,this.state=j,this.shouldActivate=W}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _n extends Pn{constructor(S,D,$,j){super(S,D),this.urlAfterRedirects=$,this.state=j}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends Pn{constructor(S,D,$,j){super(S,D),this.urlAfterRedirects=$,this.state=j}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yn{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $r{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(S,D,$){this.routerEvent=S,this.position=D,this.anchor=$}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const At="primary";class vt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const D=this.params[S];return Array.isArray(D)?D[0]:D}return null}getAll(S){if(this.has(S)){const D=this.params[S];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Wt(M){return new vt(M)}const It="ngNavigationCancelingError";function Un(M){const S=Error("NavigationCancelingError: "+M);return S[It]=!0,S}function pn(M,S,D){const $=D.path.split("/");if($.length>M.length||"full"===D.pathMatch&&(S.hasChildren()||$.length<M.length))return null;const j={};for(let W=0;W<$.length;W++){const le=$[W],He=M[W];if(le.startsWith(":"))j[le.substring(1)]=He;else if(le!==He.path)return null}return{consumed:M.slice(0,$.length),posParams:j}}function hr(M,S){const D=M?Object.keys(M):void 0,$=S?Object.keys(S):void 0;if(!D||!$||D.length!=$.length)return!1;let j;for(let W=0;W<D.length;W++)if(j=D[W],!Ar(M[j],S[j]))return!1;return!0}function Ar(M,S){if(Array.isArray(M)&&Array.isArray(S)){if(M.length!==S.length)return!1;const D=[...M].sort(),$=[...S].sort();return D.every((j,W)=>$[W]===j)}return M===S}function Ie(M){return Array.prototype.concat.apply([],M)}function je(M){return M.length>0?M[M.length-1]:null}function xt(M,S){for(const D in M)M.hasOwnProperty(D)&&S(M[D],D)}function Be(M){return(0,c.CqO)(M)?M:(0,c.QGY)(M)?(0,Me.D)(Promise.resolve(M)):(0,st.of)(M)}const Ht={exact:function Er(M,S,D){if(!jr(M.segments,S.segments)||!Fi(M.segments,S.segments,D)||M.numberOfChildren!==S.numberOfChildren)return!1;for(const $ in S.children)if(!M.children[$]||!Er(M.children[$],S.children[$],D))return!1;return!0},subset:rr},rn={exact:function wn(M,S){return hr(M,S)},subset:function In(M,S){return Object.keys(S).length<=Object.keys(M).length&&Object.keys(S).every(D=>Ar(M[D],S[D]))},ignored:()=>!0};function vn(M,S,D){return Ht[D.paths](M.root,S.root,D.matrixParams)&&rn[D.queryParams](M.queryParams,S.queryParams)&&!("exact"===D.fragment&&M.fragment!==S.fragment)}function rr(M,S,D){return Pr(M,S,S.segments,D)}function Pr(M,S,D,$){if(M.segments.length>D.length){const j=M.segments.slice(0,D.length);return!(!jr(j,D)||S.hasChildren()||!Fi(j,D,$))}if(M.segments.length===D.length){if(!jr(M.segments,D)||!Fi(M.segments,D,$))return!1;for(const j in S.children)if(!M.children[j]||!rr(M.children[j],S.children[j],$))return!1;return!0}{const j=D.slice(0,M.segments.length),W=D.slice(M.segments.length);return!!(jr(M.segments,j)&&Fi(M.segments,j,$)&&M.children[At])&&Pr(M.children[At],S,W,$)}}function Fi(M,S,D){return S.every(($,j)=>rn[D](M[j].parameters,$.parameters))}class Hr{constructor(S,D,$){this.root=S,this.queryParams=D,this.fragment=$}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return fs.serialize(this)}}class Bn{constructor(S,D){this.segments=S,this.children=D,this.parent=null,xt(D,($,j)=>$.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gi(this)}}class wi{constructor(S,D){this.path=S,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Wt(this.parameters)),this._parameterMap}toString(){return Zn(this)}}function jr(M,S){return M.length===S.length&&M.every((D,$)=>D.path===S[$].path)}class kr{}class pi{parse(S){const D=new Li(S);return new Hr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(S){const D=`/${yi(S.root,!0)}`,$=function ai(M){const S=Object.keys(M).map(D=>{const $=M[D];return Array.isArray($)?$.map(j=>`${Lr(D)}=${Lr(j)}`).join("&"):`${Lr(D)}=${Lr($)}`}).filter(D=>!!D);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${D}${$}${"string"==typeof S.fragment?`#${function oi(M){return encodeURI(M)}(S.fragment)}`:""}`}}const fs=new pi;function gi(M){return M.segments.map(S=>Zn(S)).join("/")}function yi(M,S){if(!M.hasChildren())return gi(M);if(S){const D=M.children[At]?yi(M.children[At],!1):"",$=[];return xt(M.children,(j,W)=>{W!==At&&$.push(`${W}:${yi(j,!1)}`)}),$.length>0?`${D}(${$.join("//")})`:D}{const D=function $i(M,S){let D=[];return xt(M.children,($,j)=>{j===At&&(D=D.concat(S($,j)))}),xt(M.children,($,j)=>{j!==At&&(D=D.concat(S($,j)))}),D}(M,($,j)=>j===At?[yi(M.children[At],!1)]:[`${j}:${yi($,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[At]?`${gi(M)}/${D[0]}`:`${gi(M)}/(${D.join("//")})`}}function Tr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lr(M){return Tr(M).replace(/%3B/gi,";")}function jn(M){return Tr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function te(M){return decodeURIComponent(M)}function cn(M){return te(M.replace(/\+/g,"%20"))}function Zn(M){return`${jn(M.path)}${function Zr(M){return Object.keys(M).map(S=>`;${jn(S)}=${jn(M[S])}`).join("")}(M.parameters)}`}const lr=/^[^\/()?;=#]+/;function or(M){const S=M.match(lr);return S?S[0]:""}const wr=/^[^=?&#]+/,xr=/^[^&#]+/;class Li{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let $={};return this.peekStartsWith("(")&&($=this.parseParens(!1)),(S.length>0||Object.keys(D).length>0)&&($[At]=new Bn(S,D)),$}parseSegment(){const S=or(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new wi(te(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const D=or(this.remaining);if(!D)return;this.capture(D);let $="";if(this.consumeOptional("=")){const j=or(this.remaining);j&&($=j,this.capture($))}S[te(D)]=te($)}parseQueryParam(S){const D=function mi(M){const S=M.match(wr);return S?S[0]:""}(this.remaining);if(!D)return;this.capture(D);let $="";if(this.consumeOptional("=")){const le=function Hn(M){const S=M.match(xr);return S?S[0]:""}(this.remaining);le&&($=le,this.capture($))}const j=cn(D),W=cn($);if(S.hasOwnProperty(j)){let le=S[j];Array.isArray(le)||(le=[le],S[j]=le),le.push(W)}else S[j]=W}parseParens(S){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const $=or(this.remaining),j=this.remaining[$.length];if("/"!==j&&")"!==j&&";"!==j)throw new Error(`Cannot parse url '${this.url}'`);let W;$.indexOf(":")>-1?(W=$.substr(0,$.indexOf(":")),this.capture(W),this.capture(":")):S&&(W=At);const le=this.parseChildren();D[W]=1===Object.keys(le).length?le[At]:new Bn([],le),this.consumeOptional("//")}return D}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class Oi{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const D=this.pathFromRoot(S);return D.length>1?D[D.length-2]:null}children(S){const D=Zi(S,this._root);return D?D.children.map($=>$.value):[]}firstChild(S){const D=Zi(S,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(S){const D=li(S,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==S)}pathFromRoot(S){return li(S,this._root).map(D=>D.value)}}function Zi(M,S){if(M===S.value)return S;for(const D of S.children){const $=Zi(M,D);if($)return $}return null}function li(M,S){if(M===S.value)return[S];for(const D of S.children){const $=li(M,D);if($.length)return $.unshift(S),$}return[]}class Cr{constructor(S,D){this.value=S,this.children=D}toString(){return`TreeNode(${this.value})`}}function ui(M){const S={};return M&&M.children.forEach(D=>S[D.value.outlet]=D),S}class Si extends Oi{constructor(S,D){super(S),this.snapshot=D,Bt(this,S)}toString(){return this.snapshot.toString()}}function re(M,S){const D=function pe(M,S){const le=new xe([],{},{},"",{},At,S,null,M.root,-1,{});return new dt("",new Cr(le,[]))}(M,S),$=new ot.X([new wi("",{})]),j=new ot.X({}),W=new ot.X({}),le=new ot.X({}),He=new ot.X(""),Vt=new et($,j,le,He,W,At,S,D.root);return Vt.snapshot=D.root,new Si(new Cr(Vt,[]),D)}class et{constructor(S,D,$,j,W,le,He,Vt){this.url=S,this.params=D,this.queryParams=$,this.fragment=j,this.data=W,this.outlet=le,this.component=He,this._futureSnapshot=Vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(S=>Wt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(S=>Wt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ct(M,S="emptyOnly"){const D=M.pathFromRoot;let $=0;if("always"!==S)for($=D.length-1;$>=1;){const j=D[$],W=D[$-1];if(j.routeConfig&&""===j.routeConfig.path)$--;else{if(W.component)break;$--}}return function _e(M){return M.reduce((S,D)=>({params:Object.assign(Object.assign({},S.params),D.params),data:Object.assign(Object.assign({},S.data),D.data),resolve:Object.assign(Object.assign({},S.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice($))}class xe{constructor(S,D,$,j,W,le,He,Vt,Dn,_r,Vn){this.url=S,this.params=D,this.queryParams=$,this.fragment=j,this.data=W,this.outlet=le,this.component=He,this.routeConfig=Vt,this._urlSegment=Dn,this._lastPathIndex=_r,this._resolve=Vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map($=>$.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dt extends Oi{constructor(S,D){super(D),this.url=S,Bt(this,D)}toString(){return Mt(this._root)}}function Bt(M,S){S.value._routerState=M,S.children.forEach(D=>Bt(M,D))}function Mt(M){const S=M.children.length>0?` { ${M.children.map(Mt).join(", ")} } `:"";return`${M.value}${S}`}function kt(M){if(M.snapshot){const S=M.snapshot,D=M._futureSnapshot;M.snapshot=D,hr(S.queryParams,D.queryParams)||M.queryParams.next(D.queryParams),S.fragment!==D.fragment&&M.fragment.next(D.fragment),hr(S.params,D.params)||M.params.next(D.params),function ei(M,S){if(M.length!==S.length)return!1;for(let D=0;D<M.length;++D)if(!hr(M[D],S[D]))return!1;return!0}(S.url,D.url)||M.url.next(D.url),hr(S.data,D.data)||M.data.next(D.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function ln(M,S){const D=hr(M.params,S.params)&&function Yr(M,S){return jr(M,S)&&M.every((D,$)=>hr(D.parameters,S[$].parameters))}(M.url,S.url);return D&&!(!M.parent!=!S.parent)&&(!M.parent||ln(M.parent,S.parent))}function Xn(M,S,D){if(D&&M.shouldReuseRoute(S.value,D.value.snapshot)){const $=D.value;$._futureSnapshot=S.value;const j=function nr(M,S,D){return S.children.map($=>{for(const j of D.children)if(M.shouldReuseRoute($.value,j.value.snapshot))return Xn(M,$,j);return Xn(M,$)})}(M,S,D);return new Cr($,j)}{if(M.shouldAttach(S.value)){const W=M.retrieve(S.value);if(null!==W){const le=W.route;return le.value._futureSnapshot=S.value,le.children=S.children.map(He=>Xn(M,He)),le}}const $=function ci(M){return new et(new ot.X(M.url),new ot.X(M.params),new ot.X(M.queryParams),new ot.X(M.fragment),new ot.X(M.data),M.outlet,M.component,M)}(S.value),j=S.children.map(W=>Xn(M,W));return new Cr($,j)}}function nt(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Ge(M){return"object"==typeof M&&null!=M&&M.outlets}function Dt(M,S,D,$,j){let W={};if($&&xt($,(He,Vt)=>{W[Vt]=Array.isArray(He)?He.map(Dn=>`${Dn}`):`${He}`}),M===S)return new Hr(D,W,j);const le=zt(M,S,D);return new Hr(le,W,j)}function zt(M,S,D){const $={};return xt(M.children,(j,W)=>{$[W]=j===S?D:zt(j,S,D)}),new Bn(M.segments,$)}class Xt{constructor(S,D,$){if(this.isAbsolute=S,this.numberOfDoubleDots=D,this.commands=$,S&&$.length>0&&nt($[0]))throw new Error("Root segment cannot have matrix parameters");const j=$.find(Ge);if(j&&j!==je($))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ur{constructor(S,D,$){this.segmentGroup=S,this.processChildren=D,this.index=$}}function js(M,S,D){if(M||(M=new Bn([],{})),0===M.segments.length&&M.hasChildren())return Ai(M,S,D);const $=function na(M,S,D){let $=0,j=S;const W={match:!1,pathIndex:0,commandIndex:0};for(;j<M.segments.length;){if($>=D.length)return W;const le=M.segments[j],He=D[$];if(Ge(He))break;const Vt=`${He}`,Dn=$<D.length-1?D[$+1]:null;if(j>0&&void 0===Vt)break;if(Vt&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!Ho(Vt,Dn,le))return W;$+=2}else{if(!Ho(Vt,{},le))return W;$++}j++}return{match:!0,pathIndex:j,commandIndex:$}}(M,S,D),j=D.slice($.commandIndex);if($.match&&$.pathIndex<M.segments.length){const W=new Bn(M.segments.slice(0,$.pathIndex),{});return W.children[At]=new Bn(M.segments.slice($.pathIndex),M.children),Ai(W,0,j)}return $.match&&0===j.length?new Bn(M.segments,{}):$.match&&!M.hasChildren()?Es(M,S,D):$.match?Ai(M,0,j):Es(M,S,D)}function Ai(M,S,D){if(0===D.length)return new Bn(M.segments,{});{const $=function is(M){return Ge(M[0])?M[0].outlets:{[At]:M}}(D),j={};return xt($,(W,le)=>{"string"==typeof W&&(W=[W]),null!==W&&(j[le]=js(M.children[le],S,W))}),xt(M.children,(W,le)=>{void 0===$[le]&&(j[le]=W)}),new Bn(M.segments,j)}}function Es(M,S,D){const $=M.segments.slice(0,S);let j=0;for(;j<D.length;){const W=D[j];if(Ge(W)){const Vt=Qs(W.outlets);return new Bn($,Vt)}if(0===j&&nt(D[0])){$.push(new wi(M.segments[S].path,fo(D[0]))),j++;continue}const le=Ge(W)?W.outlets[At]:`${W}`,He=j<D.length-1?D[j+1]:null;le&&He&&nt(He)?($.push(new wi(le,fo(He))),j+=2):($.push(new wi(le,{})),j++)}return new Bn($,{})}function Qs(M){const S={};return xt(M,(D,$)=>{"string"==typeof D&&(D=[D]),null!==D&&(S[$]=Es(new Bn([],{}),0,D))}),S}function fo(M){const S={};return xt(M,(D,$)=>S[$]=`${D}`),S}function Ho(M,S,D){return M==D.path&&hr(S,D.parameters)}class Jr{constructor(S,D,$,j){this.routeReuseStrategy=S,this.futureState=D,this.currState=$,this.forwardEvent=j}activate(S){const D=this.futureState._root,$=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,$,S),kt(this.futureState.root),this.activateChildRoutes(D,$,S)}deactivateChildRoutes(S,D,$){const j=ui(D);S.children.forEach(W=>{const le=W.value.outlet;this.deactivateRoutes(W,j[le],$),delete j[le]}),xt(j,(W,le)=>{this.deactivateRouteAndItsChildren(W,$)})}deactivateRoutes(S,D,$){const j=S.value,W=D?D.value:null;if(j===W)if(j.component){const le=$.getContext(j.outlet);le&&this.deactivateChildRoutes(S,D,le.children)}else this.deactivateChildRoutes(S,D,$);else W&&this.deactivateRouteAndItsChildren(D,$)}deactivateRouteAndItsChildren(S,D){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,D):this.deactivateRouteAndOutlet(S,D)}detachAndStoreRouteSubtree(S,D){const $=D.getContext(S.value.outlet),j=$&&S.value.component?$.children:D,W=ui(S);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],j);if($&&$.outlet){const le=$.outlet.detach(),He=$.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:le,route:S,contexts:He})}}deactivateRouteAndOutlet(S,D){const $=D.getContext(S.value.outlet),j=$&&S.value.component?$.children:D,W=ui(S);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],j);$&&$.outlet&&($.outlet.deactivate(),$.children.onOutletDeactivated(),$.attachRef=null,$.resolver=null,$.route=null)}activateChildRoutes(S,D,$){const j=ui(D);S.children.forEach(W=>{this.activateRoutes(W,j[W.value.outlet],$),this.forwardEvent(new qe(W.value.snapshot))}),S.children.length&&this.forwardEvent(new fi(S.value.snapshot))}activateRoutes(S,D,$){const j=S.value,W=D?D.value:null;if(kt(j),j===W)if(j.component){const le=$.getOrCreateContext(j.outlet);this.activateChildRoutes(S,D,le.children)}else this.activateChildRoutes(S,D,$);else if(j.component){const le=$.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const He=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),le.children.onOutletReAttached(He.contexts),le.attachRef=He.componentRef,le.route=He.route.value,le.outlet&&le.outlet.attach(He.componentRef,He.route.value),kt(He.route.value),this.activateChildRoutes(S,null,le.children)}else{const He=function ss(M){for(let S=M.parent;S;S=S.parent){const D=S.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(j.snapshot),Vt=He?He.module.componentFactoryResolver:null;le.attachRef=null,le.route=j,le.resolver=Vt,le.outlet&&le.outlet.activateWith(j,Vt),this.activateChildRoutes(S,null,le.children)}}else this.activateChildRoutes(S,null,$)}}class ws{constructor(S,D){this.routes=S,this.module=D}}function Is(M){return"function"==typeof M}function Hs(M){return M instanceof Hr}const Dr=Symbol("INITIAL_VALUE");function bs(){return(0,Gt.w)(M=>function me(...M){const S=(0,ve.yG)(M),D=(0,ve.jO)(M),{args:$,keys:j}=(0,q.D)(M);if(0===$.length)return(0,Me.D)([],S);const W=new J.y(function Te(M,S,D=Re.y){return $=>{Pe(S,()=>{const{length:j}=M,W=new Array(j);let le=j,He=j;for(let Vt=0;Vt<j;Vt++)Pe(S,()=>{const Dn=(0,Me.D)(M[Vt],S);let _r=!1;Dn.subscribe((0,ke.x)($,Vn=>{W[Vt]=Vn,_r||(_r=!0,He--),He||$.next(D(W.slice()))},()=>{--le||$.complete()}))},$)},$)}}($,S,j?le=>(0,Ce.n)(j,le):Re.y));return D?W.pipe((0,Ee.Z)(D)):W}(M.map(S=>S.pipe((0,yt.q)(1),(0,ht.O)(Dr)))).pipe((0,We.R)((S,D)=>{let $=!1;return D.reduce((j,W,le)=>j!==Dr?j:(W===Dr&&($=!0),$||!1!==W&&le!==D.length-1&&!Hs(W)?j:W),S)},Dr),(0,Qe.h)(S=>S!==Dr),(0,pt.U)(S=>Hs(S)?S:!0===S),(0,yt.q)(1)))}class as{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xi,this.attachRef=null}}class Xi{constructor(){this.contexts=new Map}onChildOutletCreated(S,D){const $=this.getOrCreateContext(S);$.outlet=D,this.contexts.set(S,$)}onChildOutletDestroyed(S){const D=this.getContext(S);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let D=this.getContext(S);return D||(D=new as,this.contexts.set(S,D)),D}getContext(S){return this.contexts.get(S)||null}}let Qi=(()=>{class M{constructor(D,$,j,W,le){this.parentContexts=D,this.location=$,this.resolver=j,this.changeDetector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=W||At,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,$){this.activated=D,this._activatedRoute=$,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const le=($=$||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,Vt=new Oo(D,He,this.location.injector);this.activated=this.location.createComponent(le,this.location.length,Vt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(D){return new(D||M)(c.Y36(Xi),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},M.\u0275dir=c.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class Oo{constructor(S,D,$){this.route=S,this.childContexts=D,this.parent=$}get(S,D){return S===et?this.route:S===Xi?this.childContexts:this.parent.get(S,D)}}let Gr=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275cmp=c.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,$){1&D&&c._UZ(0,"router-outlet")},directives:[Qi],encapsulation:2}),M})();function Ji(M,S=""){for(let D=0;D<M.length;D++){const $=M[D];ls($,Cs(S,$))}}function ls(M,S){M.children&&Ji(M.children,S)}function Cs(M,S){return S?M||S.path?M&&!S.path?`${M}/`:!M&&S.path?S.path:`${M}/${S.path}`:"":M}function yr(M){const S=M.children&&M.children.map(yr),D=S?Object.assign(Object.assign({},M),{children:S}):Object.assign({},M);return!D.component&&(S||D.loadChildren)&&D.outlet&&D.outlet!==At&&(D.component=Gr),D}function V(M){return M.outlet||At}function se(M,S){const D=M.filter($=>V($)===S);return D.push(...M.filter($=>V($)!==S)),D}const U={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ue(M,S,D){var $;if(""===S.path)return"full"===S.pathMatch&&(M.hasChildren()||D.length>0)?Object.assign({},U):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const W=(S.matcher||pn)(D,M,S);if(!W)return Object.assign({},U);const le={};xt(W.posParams,(Vt,Dn)=>{le[Dn]=Vt.path});const He=W.consumed.length>0?Object.assign(Object.assign({},le),W.consumed[W.consumed.length-1].parameters):le;return{matched:!0,consumedSegments:W.consumed,remainingSegments:D.slice(W.consumed.length),parameters:He,positionalParamSegments:null!==($=W.posParams)&&void 0!==$?$:{}}}function Ue(M,S,D,$,j="corrected"){if(D.length>0&&function xn(M,S,D){return D.some($=>Qn(M,S,$)&&V($)!==At)}(M,D,$)){const le=new Bn(S,function qt(M,S,D,$){const j={};j[At]=$,$._sourceSegment=M,$._segmentIndexShift=S.length;for(const W of D)if(""===W.path&&V(W)!==At){const le=new Bn([],{});le._sourceSegment=M,le._segmentIndexShift=S.length,j[V(W)]=le}return j}(M,S,$,new Bn(D,M.children)));return le._sourceSegment=M,le._segmentIndexShift=S.length,{segmentGroup:le,slicedSegments:[]}}if(0===D.length&&function On(M,S,D){return D.some($=>Qn(M,S,$))}(M,D,$)){const le=new Bn(M.segments,function Pt(M,S,D,$,j,W){const le={};for(const He of $)if(Qn(M,D,He)&&!j[V(He)]){const Vt=new Bn([],{});Vt._sourceSegment=M,Vt._segmentIndexShift="legacy"===W?M.segments.length:S.length,le[V(He)]=Vt}return Object.assign(Object.assign({},j),le)}(M,S,D,$,M.children,j));return le._sourceSegment=M,le._segmentIndexShift=S.length,{segmentGroup:le,slicedSegments:D}}const W=new Bn(M.segments,M.children);return W._sourceSegment=M,W._segmentIndexShift=S.length,{segmentGroup:W,slicedSegments:D}}function Qn(M,S,D){return(!(M.hasChildren()||S.length>0)||"full"!==D.pathMatch)&&""===D.path}function ir(M,S,D,$){return!!(V(M)===$||$!==At&&Qn(S,D,M))&&("**"===M.path||ue(S,M,D).matched)}function cr(M,S,D){return 0===S.length&&!M.children[D]}class di{constructor(S){this.segmentGroup=S||null}}class Br{constructor(S){this.urlTree=S}}function Vr(M){return(0,Ze._)(new di(M))}function Ns(M){return(0,Ze._)(new Br(M))}class zo{constructor(S,D,$,j,W){this.configLoader=D,this.urlSerializer=$,this.urlTree=j,this.config=W,this.allowRedirects=!0,this.ngModule=S.get(c.h0i)}apply(){const S=Ue(this.urlTree.root,[],[],this.config).segmentGroup,D=new Bn(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,D,At).pipe((0,pt.U)(W=>this.createUrlTree(Gs(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ct.K)(W=>{if(W instanceof Br)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof di?this.noMatchError(W):W}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,At).pipe((0,pt.U)(j=>this.createUrlTree(Gs(j),S.queryParams,S.fragment))).pipe((0,Ct.K)(j=>{throw j instanceof di?this.noMatchError(j):j}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,D,$){const j=S.segments.length>0?new Bn([],{[At]:S}):S;return new Hr(j,D,$)}expandSegmentGroup(S,D,$,j){return 0===$.segments.length&&$.hasChildren()?this.expandChildren(S,D,$).pipe((0,pt.U)(W=>new Bn([],W))):this.expandSegment(S,$,D,$.segments,j,!0)}expandChildren(S,D,$){const j=[];for(const W of Object.keys($.children))"primary"===W?j.unshift(W):j.push(W);return(0,Me.D)(j).pipe((0,ft.b)(W=>{const le=$.children[W],He=se(D,W);return this.expandSegmentGroup(S,He,le,W).pipe((0,pt.U)(Vt=>({segment:Vt,outlet:W})))}),(0,We.R)((W,le)=>(W[le.outlet]=le.segment,W),{}),function Ae(M,S){const D=arguments.length>=2;return $=>$.pipe(M?(0,Qe.h)((j,W)=>M(j,W,$)):Re.y,he(1),D?(0,ge.d)(S):(0,ye.T)(()=>new ze.K))}())}expandSegment(S,D,$,j,W,le){return(0,Me.D)($).pipe((0,ft.b)(He=>this.expandSegmentAgainstRoute(S,D,$,He,j,W,le).pipe((0,Ct.K)(Dn=>{if(Dn instanceof di)return(0,st.of)(null);throw Dn}))),(0,Et.P)(He=>!!He),(0,Ct.K)((He,Vt)=>{if(He instanceof ze.K||"EmptyError"===He.name)return cr(D,j,W)?(0,st.of)(new Bn([],{})):Vr(D);throw He}))}expandSegmentAgainstRoute(S,D,$,j,W,le,He){return ir(j,D,W,le)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(S,D,j,W,le):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,D,$,j,W,le):Vr(D):Vr(D)}expandSegmentAgainstRouteUsingRedirect(S,D,$,j,W,le){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,$,j,le):this.expandRegularSegmentAgainstRouteUsingRedirect(S,D,$,j,W,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,D,$,j){const W=this.applyRedirectCommands([],$.redirectTo,{});return $.redirectTo.startsWith("/")?Ns(W):this.lineralizeSegments($,W).pipe((0,lt.z)(le=>{const He=new Bn(le,{});return this.expandSegment(S,He,D,le,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,D,$,j,W,le){const{matched:He,consumedSegments:Vt,remainingSegments:Dn,positionalParamSegments:_r}=ue(D,j,W);if(!He)return Vr(D);const Vn=this.applyRedirectCommands(Vt,j.redirectTo,_r);return j.redirectTo.startsWith("/")?Ns(Vn):this.lineralizeSegments(j,Vn).pipe((0,lt.z)(zr=>this.expandSegment(S,D,$,zr.concat(Dn),le,!1)))}matchSegmentAgainstRoute(S,D,$,j,W){if("**"===$.path)return $.loadChildren?($._loadedConfig?(0,st.of)($._loadedConfig):this.configLoader.load(S.injector,$)).pipe((0,pt.U)(Vn=>($._loadedConfig=Vn,new Bn(j,{})))):(0,st.of)(new Bn(j,{}));const{matched:le,consumedSegments:He,remainingSegments:Vt}=ue(D,$,j);return le?this.getChildConfig(S,$,j).pipe((0,lt.z)(_r=>{const Vn=_r.module,zr=_r.routes,{segmentGroup:Xr,slicedSegments:Fs}=Ue(D,He,Vt,zr),qo=new Bn(Xr.segments,Xr.children);if(0===Fs.length&&qo.hasChildren())return this.expandChildren(Vn,zr,qo).pipe((0,pt.U)(Lo=>new Bn(He,Lo)));if(0===zr.length&&0===Fs.length)return(0,st.of)(new Bn(He,{}));const fl=V($)===W;return this.expandSegment(Vn,qo,zr,Fs,fl?At:W,!0).pipe((0,pt.U)(Co=>new Bn(He.concat(Co.segments),Co.children)))})):Vr(D)}getChildConfig(S,D,$){return D.children?(0,st.of)(new ws(D.children,S)):D.loadChildren?void 0!==D._loadedConfig?(0,st.of)(D._loadedConfig):this.runCanLoadGuards(S.injector,D,$).pipe((0,lt.z)(j=>j?this.configLoader.load(S.injector,D).pipe((0,pt.U)(W=>(D._loadedConfig=W,W))):function Sn(M){return(0,Ze._)(Un(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`))}(D))):(0,st.of)(new ws([],S))}runCanLoadGuards(S,D,$){const j=D.canLoad;if(!j||0===j.length)return(0,st.of)(!0);const W=j.map(le=>{const He=S.get(le);let Vt;if(function os(M){return M&&Is(M.canLoad)}(He))Vt=He.canLoad(D,$);else{if(!Is(He))throw new Error("Invalid CanLoad guard");Vt=He(D,$)}return Be(Vt)});return(0,st.of)(W).pipe(bs(),(0,Kt.b)(le=>{if(!Hs(le))return;const He=Un(`Redirecting to "${this.urlSerializer.serialize(le)}"`);throw He.url=le,He}),(0,pt.U)(le=>!0===le))}lineralizeSegments(S,D){let $=[],j=D.root;for(;;){if($=$.concat(j.segments),0===j.numberOfChildren)return(0,st.of)($);if(j.numberOfChildren>1||!j.children[At])return(0,Ze._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S.redirectTo}'`));j=j.children[At]}}applyRedirectCommands(S,D,$){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),S,$)}applyRedirectCreatreUrlTree(S,D,$,j){const W=this.createSegmentGroup(S,D.root,$,j);return new Hr(W,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(S,D){const $={};return xt(S,(j,W)=>{if("string"==typeof j&&j.startsWith(":")){const He=j.substring(1);$[W]=D[He]}else $[W]=j}),$}createSegmentGroup(S,D,$,j){const W=this.createSegments(S,D.segments,$,j);let le={};return xt(D.children,(He,Vt)=>{le[Vt]=this.createSegmentGroup(S,He,$,j)}),new Bn(W,le)}createSegments(S,D,$,j){return D.map(W=>W.path.startsWith(":")?this.findPosParam(S,W,j):this.findOrReturn(W,$))}findPosParam(S,D,$){const j=$[D.path.substring(1)];if(!j)throw new Error(`Cannot redirect to '${S}'. Cannot find '${D.path}'.`);return j}findOrReturn(S,D){let $=0;for(const j of D){if(j.path===S.path)return D.splice($),j;$++}return S}}function Gs(M){const S={};for(const $ of Object.keys(M.children)){const W=Gs(M.children[$]);(W.segments.length>0||W.hasChildren())&&(S[$]=W)}return function Po(M){if(1===M.numberOfChildren&&M.children[At]){const S=M.children[At];return new Bn(M.segments.concat(S.segments),S.children)}return M}(new Bn(M.segments,S))}class L{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class N{constructor(S,D){this.component=S,this.route=D}}function Y(M,S,D){const $=M._root;return G($,S?S._root:null,D,[$.value])}function En(M,S,D){const $=function E(M){if(!M)return null;for(let S=M.parent;S;S=S.parent){const D=S.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(S);return($?$.module.injector:D).get(M)}function G(M,S,D,$,j={canDeactivateChecks:[],canActivateChecks:[]}){const W=ui(S);return M.children.forEach(le=>{(function w(M,S,D,$,j={canDeactivateChecks:[],canActivateChecks:[]}){const W=M.value,le=S?S.value:null,He=D?D.getContext(M.value.outlet):null;if(le&&W.routeConfig===le.routeConfig){const Vt=function B(M,S,D){if("function"==typeof D)return D(M,S);switch(D){case"pathParamsChange":return!jr(M.url,S.url);case"pathParamsOrQueryParamsChange":return!jr(M.url,S.url)||!hr(M.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ln(M,S)||!hr(M.queryParams,S.queryParams);default:return!ln(M,S)}}(le,W,W.routeConfig.runGuardsAndResolvers);Vt?j.canActivateChecks.push(new L($)):(W.data=le.data,W._resolvedData=le._resolvedData),G(M,S,W.component?He?He.children:null:D,$,j),Vt&&He&&He.outlet&&He.outlet.isActivated&&j.canDeactivateChecks.push(new N(He.outlet.component,le))}else le&&ce(S,He,j),j.canActivateChecks.push(new L($)),G(M,null,W.component?He?He.children:null:D,$,j)})(le,W[le.value.outlet],D,$.concat([le.value]),j),delete W[le.value.outlet]}),xt(W,(le,He)=>ce(le,D.getContext(He),j)),j}function ce(M,S,D){const $=ui(M),j=M.value;xt($,(W,le)=>{ce(W,j.component?S?S.children.getContext(le):null:S,D)}),D.canDeactivateChecks.push(new N(j.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,j))}class Wi{}function ji(M){return new J.y(S=>S.error(M))}class ni{constructor(S,D,$,j,W,le){this.rootComponentType=S,this.config=D,this.urlTree=$,this.url=j,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=le}recognize(){const S=Ue(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,S,At);if(null===D)return null;const $=new xe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new Cr($,D),W=new dt(this.url,j);return this.inheritParamsAndData(W._root),W}inheritParamsAndData(S){const D=S.value,$=ct(D,this.paramsInheritanceStrategy);D.params=Object.freeze($.params),D.data=Object.freeze($.data),S.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(S,D,$){return 0===D.segments.length&&D.hasChildren()?this.processChildren(S,D):this.processSegment(S,D,D.segments,$)}processChildren(S,D){const $=[];for(const W of Object.keys(D.children)){const le=D.children[W],He=se(S,W),Vt=this.processSegmentGroup(He,le,W);if(null===Vt)return null;$.push(...Vt)}const j=Ja($);return function Xa(M){M.sort((S,D)=>S.value.outlet===At?-1:D.value.outlet===At?1:S.value.outlet.localeCompare(D.value.outlet))}(j),j}processSegment(S,D,$,j){for(const W of S){const le=this.processSegmentAgainstRoute(W,D,$,j);if(null!==le)return le}return cr(D,$,j)?[]:null}processSegmentAgainstRoute(S,D,$,j){if(S.redirectTo||!ir(S,D,$,j))return null;let W,le=[],He=[];if("**"===S.path){const Xr=$.length>0?je($).parameters:{};W=new xe($,Xr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fa(S),V(S),S.component,S,Ma(D),Vl(D)+$.length,ko(S))}else{const Xr=ue(D,S,$);if(!Xr.matched)return null;le=Xr.consumedSegments,He=Xr.remainingSegments,W=new xe(le,Xr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fa(S),V(S),S.component,S,Ma(D),Vl(D)+le.length,ko(S))}const Vt=function Bl(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(S),{segmentGroup:Dn,slicedSegments:_r}=Ue(D,le,He,Vt.filter(Xr=>void 0===Xr.redirectTo),this.relativeLinkResolution);if(0===_r.length&&Dn.hasChildren()){const Xr=this.processChildren(Vt,Dn);return null===Xr?null:[new Cr(W,Xr)]}if(0===Vt.length&&0===_r.length)return[new Cr(W,[])];const Vn=V(S)===j,zr=this.processSegment(Vt,Dn,_r,Vn?At:j);return null===zr?null:[new Cr(W,zr)]}}function Qa(M){const S=M.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Ja(M){const S=[],D=new Set;for(const $ of M){if(!Qa($)){S.push($);continue}const j=S.find(W=>$.value.routeConfig===W.value.routeConfig);void 0!==j?(j.children.push(...$.children),D.add(j)):S.push($)}for(const $ of D){const j=Ja($.children);S.push(new Cr($.value,j))}return S.filter($=>!D.has($))}function Ma(M){let S=M;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Vl(M){let S=M,D=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,D+=S._segmentIndexShift?S._segmentIndexShift:0;return D-1}function fa(M){return M.data||{}}function ko(M){return M.resolve||{}}function ra(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function Ul(M){return(0,Gt.w)(S=>{const D=M(S);return D?(0,Me.D)(D).pipe((0,pt.U)(()=>S)):(0,st.of)(S)})}class ts{}class Ki extends class No{shouldDetach(S){return!1}store(S,D){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,D){return S.routeConfig===D.routeConfig}}{}const $l=new c.OlP("ROUTES");class ga{constructor(S,D,$,j){this.injector=S,this.compiler=D,this.onLoadStartListener=$,this.onLoadEndListener=j}load(S,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const j=this.loadModuleFactory(D.loadChildren).pipe((0,pt.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(D);const le=W.create(S);return new ws(Ie(le.injector.get($l,void 0,c.XFs.Self|c.XFs.Optional)).map(yr),le)}),(0,Ct.K)(W=>{throw D._loader$=void 0,W}));return D._loader$=new De(j,()=>new ee.x).pipe(Le()),D._loader$}loadModuleFactory(S){return Be(S()).pipe((0,lt.z)(D=>D instanceof c.YKP?(0,st.of)(D):(0,Me.D)(this.compiler.compileModuleAsync(D))))}}class Bc{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,D){return S}}function ma(M){throw M}function Md(M,S,D){return S.parse("/")}function jl(M,S){return(0,st.of)(null)}const Oa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let us=(()=>{class M{constructor(D,$,j,W,le,He,Vt){this.rootComponentType=D,this.urlSerializer=$,this.rootContexts=j,this.location=W,this.config=Vt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ee.x,this.errorHandler=ma,this.malformedUriErrorHandler=Md,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jl,afterPreactivation:jl},this.urlHandlingStrategy=new Bc,this.routeReuseStrategy=new Ki,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=le.get(c.h0i),this.console=le.get(c.c2e);const Vn=le.get(c.R0b);this.isNgZoneEnabled=Vn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(Vt),this.currentUrlTree=function gt(){return new Hr(new Bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ga(le,He,zr=>this.triggerEvent(new Wn(zr)),zr=>this.triggerEvent(new Yn(zr))),this.routerState=re(this.currentUrlTree,this.rootComponentType),this.transitions=new ot.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const $=this.events;return D.pipe((0,Qe.h)(j=>0!==j.id),(0,pt.U)(j=>Object.assign(Object.assign({},j),{extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,Gt.w)(j=>{let W=!1,le=!1;return(0,st.of)(j).pipe((0,Kt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Gt.w)(He=>{const Vt=this.browserUrlTree.toString(),Dn=!this.navigated||He.extractedUrl.toString()!==Vt||Vt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Dn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return Hl(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,st.of)(He).pipe((0,Gt.w)(Vn=>{const zr=this.transitions.getValue();return $.next(new Cn(Vn.id,this.serializeUrl(Vn.extractedUrl),Vn.source,Vn.restoredState)),zr!==this.transitions.getValue()?Ke.E:Promise.resolve(Vn)}),function z(M,S,D,$){return(0,Gt.w)(j=>function xs(M,S,D,$,j){return new zo(M,S,D,$,j).apply()}(M,S,D,j.extractedUrl,$).pipe((0,pt.U)(W=>Object.assign(Object.assign({},j),{urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kt.b)(Vn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Vn.urlAfterRedirects})}),function el(M,S,D,$,j){return(0,lt.z)(W=>function to(M,S,D,$,j="emptyOnly",W="legacy"){try{const le=new ni(M,S,D,$,j,W).recognize();return null===le?ji(new Wi):(0,st.of)(le)}catch(le){return ji(le)}}(M,S,W.urlAfterRedirects,D(W.urlAfterRedirects),$,j).pipe((0,pt.U)(le=>Object.assign(Object.assign({},W),{targetSnapshot:le}))))}(this.rootComponentType,this.config,Vn=>this.serializeUrl(Vn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kt.b)(Vn=>{if("eager"===this.urlUpdateStrategy){if(!Vn.extras.skipLocationChange){const Xr=this.urlHandlingStrategy.merge(Vn.urlAfterRedirects,Vn.rawUrl);this.setBrowserUrl(Xr,Vn)}this.browserUrlTree=Vn.urlAfterRedirects}const zr=new tr(Vn.id,this.serializeUrl(Vn.extractedUrl),this.serializeUrl(Vn.urlAfterRedirects),Vn.targetSnapshot);$.next(zr)}));if(Dn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zr,extractedUrl:Xr,source:Fs,restoredState:qo,extras:fl}=He,cs=new Cn(zr,this.serializeUrl(Xr),Fs,qo);$.next(cs);const Co=re(Xr,this.rootComponentType).snapshot;return(0,st.of)(Object.assign(Object.assign({},He),{targetSnapshot:Co,urlAfterRedirects:Xr,extras:Object.assign(Object.assign({},fl),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),Ke.E}),Ul(He=>{const{targetSnapshot:Vt,id:Dn,extractedUrl:_r,rawUrl:Vn,extras:{skipLocationChange:zr,replaceUrl:Xr}}=He;return this.hooks.beforePreactivation(Vt,{navigationId:Dn,appliedUrlTree:_r,rawUrlTree:Vn,skipLocationChange:!!zr,replaceUrl:!!Xr})}),(0,Kt.b)(He=>{const Vt=new Ln(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(Vt)}),(0,pt.U)(He=>Object.assign(Object.assign({},He),{guards:Y(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function Ot(M,S){return(0,lt.z)(D=>{const{targetSnapshot:$,currentSnapshot:j,guards:{canActivateChecks:W,canDeactivateChecks:le}}=D;return 0===le.length&&0===W.length?(0,st.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function an(M,S,D,$){return(0,Me.D)(M).pipe((0,lt.z)(j=>function Ds(M,S,D,$,j){const W=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,st.of)(!0);const le=W.map(He=>{const Vt=En(He,S,j);let Dn;if(function eo(M){return M&&Is(M.canDeactivate)}(Vt))Dn=Be(Vt.canDeactivate(M,S,D,$));else{if(!Is(Vt))throw new Error("Invalid CanDeactivate guard");Dn=Be(Vt(M,S,D,$))}return Dn.pipe((0,Et.P)())});return(0,st.of)(le).pipe(bs())}(j.component,j.route,D,S,$)),(0,Et.P)(j=>!0!==j,!0))}(le,$,j,M).pipe((0,lt.z)(He=>He&&function Go(M){return"boolean"==typeof M}(He)?function Mn(M,S,D,$){return(0,Me.D)(S).pipe((0,ft.b)(j=>(0,$e.z)(function Ur(M,S){return null!==M&&S&&S(new $r(M)),(0,st.of)(!0)}(j.route.parent,$),function Jn(M,S){return null!==M&&S&&S(new Lt(M)),(0,st.of)(!0)}(j.route,$),function ti(M,S,D){const $=S[S.length-1],W=S.slice(0,S.length-1).reverse().map(le=>function Tt(M){const S=M.routeConfig?M.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:M,guards:S}:null}(le)).filter(le=>null!==le).map(le=>tt(()=>{const He=le.guards.map(Vt=>{const Dn=En(Vt,le.node,D);let _r;if(function Bi(M){return M&&Is(M.canActivateChild)}(Dn))_r=Be(Dn.canActivateChild($,M));else{if(!Is(Dn))throw new Error("Invalid CanActivateChild guard");_r=Be(Dn($,M))}return _r.pipe((0,Et.P)())});return(0,st.of)(He).pipe(bs())}));return(0,st.of)(W).pipe(bs())}(M,j.path,D),function er(M,S,D){const $=S.routeConfig?S.routeConfig.canActivate:null;if(!$||0===$.length)return(0,st.of)(!0);const j=$.map(W=>tt(()=>{const le=En(W,S,D);let He;if(function Js(M){return M&&Is(M.canActivate)}(le))He=Be(le.canActivate(S,M));else{if(!Is(le))throw new Error("Invalid CanActivate guard");He=Be(le(S,M))}return He.pipe((0,Et.P)())}));return(0,st.of)(j).pipe(bs())}(M,j.route,D))),(0,Et.P)(j=>!0!==j,!0))}($,W,M,S):(0,st.of)(He)),(0,pt.U)(He=>Object.assign(Object.assign({},D),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,Kt.b)(He=>{if(Hs(He.guardsResult)){const Dn=Un(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw Dn.url=He.guardsResult,Dn}const Vt=new kn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(Vt)}),(0,Qe.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),Ul(He=>{if(He.guards.canActivateChecks.length)return(0,st.of)(He).pipe((0,Kt.b)(Vt=>{const Dn=new _n(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(Dn)}),(0,Gt.w)(Vt=>{let Dn=!1;return(0,st.of)(Vt).pipe(function Wo(M,S){return(0,lt.z)(D=>{const{targetSnapshot:$,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,st.of)(D);let W=0;return(0,Me.D)(j).pipe((0,ft.b)(le=>function pa(M,S,D,$){return function wu(M,S,D,$){const j=ra(M);if(0===j.length)return(0,st.of)({});const W={};return(0,Me.D)(j).pipe((0,lt.z)(le=>function Ra(M,S,D,$){const j=En(M,S,$);return Be(j.resolve?j.resolve(S,D):j(S,D))}(M[le],S,D,$).pipe((0,Kt.b)(He=>{W[le]=He}))),he(1),(0,lt.z)(()=>ra(W).length===j.length?(0,st.of)(W):Ke.E))}(M._resolve,M,S,$).pipe((0,pt.U)(W=>(M._resolvedData=W,M.data=Object.assign(Object.assign({},M.data),ct(M,D).resolve),null)))}(le.route,$,M,S)),(0,Kt.b)(()=>W++),he(1),(0,lt.z)(le=>W===j.length?(0,st.of)(D):Ke.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kt.b)({next:()=>Dn=!0,complete:()=>{Dn||(this.restoreHistory(Vt),this.cancelNavigationTransition(Vt,"At least one route resolver didn't emit any value."))}}))}),(0,Kt.b)(Vt=>{const Dn=new qr(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(Dn)}))}),Ul(He=>{const{targetSnapshot:Vt,id:Dn,extractedUrl:_r,rawUrl:Vn,extras:{skipLocationChange:zr,replaceUrl:Xr}}=He;return this.hooks.afterPreactivation(Vt,{navigationId:Dn,appliedUrlTree:_r,rawUrlTree:Vn,skipLocationChange:!!zr,replaceUrl:!!Xr})}),(0,pt.U)(He=>{const Vt=function An(M,S,D){const $=Xn(M,S._root,D?D._root:void 0);return new Si($,S)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:Vt})}),(0,Kt.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((M,S,D)=>(0,pt.U)($=>(new Jr(S,$.targetRouterState,$.currentRouterState,D).activate(M),$)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,Kt.b)({next(){W=!0},complete(){W=!0}}),function Ye(M){return(0,Se.e)((S,D)=>{try{S.subscribe(D)}finally{D.add(M)}})}(()=>{var He;W||le||this.cancelNavigationTransition(j,`Navigation ID ${j.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===j.id&&(this.currentNavigation=null)}),(0,Ct.K)(He=>{if(le=!0,function Nn(M){return M&&M[It]}(He)){const Vt=Hs(He.url);Vt||(this.navigated=!0,this.restoreHistory(j,!0));const Dn=new fn(j.id,this.serializeUrl(j.extractedUrl),He.message);$.next(Dn),Vt?setTimeout(()=>{const _r=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),Vn={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hl(j.source)};this.scheduleNavigation(_r,"imperative",null,Vn,{resolve:j.resolve,reject:j.reject,promise:j.promise})},0):j.resolve(!1)}else{this.restoreHistory(j,!0);const Vt=new qn(j.id,this.serializeUrl(j.extractedUrl),He);$.next(Vt);try{j.resolve(this.errorHandler(He))}catch(Dn){j.reject(Dn)}}return Ke.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const $="popstate"===D.type?"popstate":"hashchange";"popstate"===$&&setTimeout(()=>{var j;const W={replaceUrl:!0},le=(null===(j=D.state)||void 0===j?void 0:j.navigationId)?D.state:null;if(le){const Vt=Object.assign({},le);delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(W.state=Vt)}const He=this.parseUrl(D.url);this.scheduleNavigation(He,$,le,W)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){Ji(D),this.config=D.map(yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,$={}){const{relativeTo:j,queryParams:W,fragment:le,queryParamsHandling:He,preserveFragment:Vt}=$,Dn=j||this.routerState.root,_r=Vt?this.currentUrlTree.fragment:le;let Vn=null;switch(He){case"merge":Vn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),W);break;case"preserve":Vn=this.currentUrlTree.queryParams;break;default:Vn=W||null}return null!==Vn&&(Vn=this.removeEmptyProps(Vn)),function Ii(M,S,D,$,j){if(0===D.length)return Dt(S.root,S.root,S.root,$,j);const W=function gn(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Xt(!0,0,M);let S=0,D=!1;const $=M.reduce((j,W,le)=>{if("object"==typeof W&&null!=W){if(W.outlets){const He={};return xt(W.outlets,(Vt,Dn)=>{He[Dn]="string"==typeof Vt?Vt.split("/"):Vt}),[...j,{outlets:He}]}if(W.segmentPath)return[...j,W.segmentPath]}return"string"!=typeof W?[...j,W]:0===le?(W.split("/").forEach((He,Vt)=>{0==Vt&&"."===He||(0==Vt&&""===He?D=!0:".."===He?S++:""!=He&&j.push(He))}),j):[...j,W]},[]);return new Xt(D,S,$)}(D);if(W.toRoot())return Dt(S.root,S.root,new Bn([],{}),$,j);const le=function bi(M,S,D){if(M.isAbsolute)return new ur(S.root,!0,0);if(-1===D.snapshot._lastPathIndex){const W=D.snapshot._urlSegment;return new ur(W,W===S.root,0)}const $=nt(M.commands[0])?0:1;return function Ir(M,S,D){let $=M,j=S,W=D;for(;W>j;){if(W-=j,$=$.parent,!$)throw new Error("Invalid number of '../'");j=$.segments.length}return new ur($,!1,j-W)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+$,M.numberOfDoubleDots)}(W,S,M),He=le.processChildren?Ai(le.segmentGroup,le.index,W.commands):js(le.segmentGroup,le.index,W.commands);return Dt(S.root,le.segmentGroup,He,$,j)}(Dn,this.currentUrlTree,D,Vn,null!=_r?_r:null)}navigateByUrl(D,$={skipLocationChange:!1}){const j=Hs(D)?D:this.parseUrl(D),W=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,$)}navigate(D,$={skipLocationChange:!1}){return function ns(M){for(let S=0;S<M.length;S++){const D=M[S];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${S}`)}}(D),this.navigateByUrl(this.createUrlTree(D,$),$)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let $;try{$=this.urlSerializer.parse(D)}catch(j){$=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return $}isActive(D,$){let j;if(j=!0===$?Object.assign({},Oa):!1===$?Object.assign({},Eo):$,Hs(D))return vn(this.currentUrlTree,D,j);const W=this.parseUrl(D);return vn(this.currentUrlTree,W,j)}removeEmptyProps(D){return Object.keys(D).reduce(($,j)=>{const W=D[j];return null!=W&&($[j]=W),$},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new yn(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,$,j,W,le){var He,Vt;if(this.disposed)return Promise.resolve(!1);let Dn,_r,Vn;le?(Dn=le.resolve,_r=le.reject,Vn=le.promise):Vn=new Promise((Fs,qo)=>{Dn=Fs,_r=qo});const zr=++this.navigationId;let Xr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),Xr=j&&j.\u0275routerPageId?j.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(Vt=this.browserPageId)&&void 0!==Vt?Vt:0)+1):Xr=0,this.setTransition({id:zr,targetPageId:Xr,source:$,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:W,resolve:Dn,reject:_r,promise:Vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vn.catch(Fs=>Promise.reject(Fs))}setBrowserUrl(D,$){const j=this.urlSerializer.serialize(D),W=Object.assign(Object.assign({},$.extras.state),this.generateNgRouterState($.id,$.targetPageId));this.location.isCurrentPathEqualTo(j)||$.extras.replaceUrl?this.location.replaceState(j,"",W):this.location.go(j,"",W)}restoreHistory(D,$=!1){var j,W;if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)||0===le?this.currentUrlTree===(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)&&0===le&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,$){const j=new fn(D.id,this.serializeUrl(D.extractedUrl),$);this.triggerEvent(j),D.resolve(!1)}generateNgRouterState(D,$){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:$}:{navigationId:D}}}return M.\u0275fac=function(D){c.$Z()},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();function Hl(M){return"imperative"!==M}let wo=(()=>{class M{constructor(D,$,j,W,le){this.router=D,this.route=$,this.tabIndexAttribute=j,this.renderer=W,this.el=le,this.commands=null,this.onChanges=new ee.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const $=this.renderer,j=this.el.nativeElement;null!==D?$.setAttribute(j,"tabindex",D):$.removeAttribute(j,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return M.\u0275fac=function(D){return new(D||M)(c.Y36(us),c.Y36(et),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},M.\u0275dir=c.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,$){1&D&&c.NdJ("click",function(){return $.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),M})();function ia(M){return""===M||!!M}class sa{}class nl{preload(S,D){return D().pipe((0,Ct.K)(()=>(0,st.of)(null)))}}class go{preload(S,D){return(0,st.of)(null)}}let Vc=(()=>{class M{constructor(D,$,j,W){this.router=D,this.injector=j,this.preloadingStrategy=W,this.loader=new ga(j,$,Vt=>D.triggerEvent(new Wn(Vt)),Vt=>D.triggerEvent(new Yn(Vt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qe.h)(D=>D instanceof yn),(0,ft.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(c.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,$){const j=[];for(const W of $)if(W.loadChildren&&!W.canLoad&&W._loadedConfig){const le=W._loadedConfig;j.push(this.processRoutes(le.module,le.routes))}else W.loadChildren&&!W.canLoad?j.push(this.preloadConfig(D,W)):W.children&&j.push(this.processRoutes(D,W.children));return(0,Me.D)(j).pipe((0,Nt.J)(),(0,pt.U)(W=>{}))}preloadConfig(D,$){return this.preloadingStrategy.preload($,()=>($._loadedConfig?(0,st.of)($._loadedConfig):this.loader.load(D.injector,$)).pipe((0,lt.z)(W=>($._loadedConfig=W,this.processRoutes(W.module,W.routes)))))}}return M.\u0275fac=function(D){return new(D||M)(c.LFG(us),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(sa))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})(),Iu=(()=>{class M{constructor(D,$,j={}){this.router=D,this.viewportScroller=$,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof yn&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Je&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,$){this.router.triggerEvent(new Je(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(D){c.$Z()},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();const no=new c.OlP("ROUTER_CONFIGURATION"),Gl=new c.OlP("ROUTER_FORROOT_GUARD"),ro=[wt.Ye,{provide:kr,useClass:pi},{provide:us,useFactory:function ya(M,S,D,$,j,W,le={},He,Vt){const Dn=new us(null,M,S,D,$,j,Ie(W));return He&&(Dn.urlHandlingStrategy=He),Vt&&(Dn.routeReuseStrategy=Vt),function Ts(M,S){M.errorHandler&&(S.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(S.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(S.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(S.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(S.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(S.canceledNavigationResolution=M.canceledNavigationResolution)}(le,Dn),le.enableTracing&&Dn.events.subscribe(_r=>{var Vn,zr;null===(Vn=console.group)||void 0===Vn||Vn.call(console,`Router Event: ${_r.constructor.name}`),console.log(_r.toString()),console.log(_r),null===(zr=console.groupEnd)||void 0===zr||zr.call(console)}),Dn},deps:[kr,Xi,wt.Ye,c.zs3,c.Sil,$l,no,[class Lc{},new c.FiY],[ts,new c.FiY]]},Xi,{provide:et,useFactory:function Ko(M){return M.routerState.root},deps:[us]},Vc,go,nl,{provide:no,useValue:{enableTracing:!1}}];function Fo(){return new c.PXZ("Router",us)}let bu=(()=>{class M{constructor(D,$){}static forRoot(D,$){return{ngModule:M,providers:[ro,rl(D),{provide:Gl,useFactory:Ci,deps:[[us,new c.FiY,new c.tp0]]},{provide:no,useValue:$||{}},{provide:wt.S$,useFactory:Cu,deps:[wt.lw,[new c.tBr(wt.mr),new c.FiY],no]},{provide:Iu,useFactory:Io,deps:[us,wt.EM,no]},{provide:sa,useExisting:$&&$.preloadingStrategy?$.preloadingStrategy:go},{provide:c.PXZ,multi:!0,useFactory:Fo},[bo,{provide:c.ip1,multi:!0,useFactory:Du,deps:[bo]},{provide:Qt,useFactory:Tu,deps:[bo]},{provide:c.tb,multi:!0,useExisting:Qt}]]}}static forChild(D){return{ngModule:M,providers:[rl(D)]}}}return M.\u0275fac=function(D){return new(D||M)(c.LFG(Gl,8),c.LFG(us,8))},M.\u0275mod=c.oAB({type:M}),M.\u0275inj=c.cJS({}),M})();function Io(M,S,D){return D.scrollOffset&&S.setOffset(D.scrollOffset),new Iu(M,S,D)}function Cu(M,S,D={}){return D.useHash?new wt.Do(M,S):new wt.b0(M,S)}function Ci(M){return"guarded"}function rl(M){return[{provide:c.deG,multi:!0,useValue:M},{provide:$l,multi:!0,useValue:M}]}let bo=(()=>{class M{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ee.x}appInitializer(){return this.injector.get(wt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let $=null;const j=new Promise(He=>$=He),W=this.injector.get(us),le=this.injector.get(no);return"disabled"===le.initialNavigation?(W.setUpLocationChangeListener(),$(!0)):"enabled"===le.initialNavigation||"enabledBlocking"===le.initialNavigation?(W.hooks.afterPreactivation=()=>this.initNavigation?(0,st.of)(null):(this.initNavigation=!0,$(!0),this.resultOfPreactivationDone),W.initialNavigation()):$(!0),j})}bootstrapListener(D){const $=this.injector.get(no),j=this.injector.get(Vc),W=this.injector.get(Iu),le=this.injector.get(us),He=this.injector.get(c.z2F);D===He.components[0]&&(("enabledNonBlocking"===$.initialNavigation||void 0===$.initialNavigation)&&le.initialNavigation(),j.setUpPreloading(),W.init(),le.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(D){return new(D||M)(c.LFG(c.zs3))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();function Du(M){return M.appInitializer.bind(M)}function Tu(M){return M.bootstrapListener.bind(M)}const Qt=new c.OlP("Router Initializer")},3942:(Zt,at,P)=>{"use strict";P.d(at,{Z:()=>tt});var c=P(2090),J=P(4859),q=P(9681),Me=P(1877);class Re{constructor(Se,Le){this._delegate=Se,this.firebase=Le,(0,q._addComponent)(Se,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Se,Le=q._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(Se);return!st.isInitialized()&&"EXPLICIT"===(null===(De=st.getComponent())||void 0===De?void 0:De.instantiationMode)&&st.initialize(),st.getImmediate({identifier:Le})}_removeServiceInstance(Se,Le=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(Le)}_addComponent(Se){(0,q._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,q._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function ke(){const Fe=function Ce(Fe){const Se={},Le={__esModule:!0,initializeApp:function ot(Ke,ee={}){const Qe=q.initializeApp(Ke,ee);if((0,c.r3)(Se,Qe.name))return Se[Qe.name];const he=new Fe(Qe,Le);return Se[Qe.name]=he,he},app:st,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function ze(Ke){const ee=Ke.name,Qe=ee.replace("-compat","");if(q._registerComponent(Ke)&&"PUBLIC"===Ke.type){const he=(ye=st())=>{if("function"!=typeof ye[Qe])throw ve.create("invalid-app-argument",{appName:ee});return ye[Qe]()};void 0!==Ke.serviceProps&&(0,c.ZB)(he,Ke.serviceProps),Le[Qe]=he,Fe.prototype[Qe]=function(...ye){return this._getService.bind(this,ee).apply(this,Ke.multipleInstances?ye:[])}}return"PUBLIC"===Ke.type?Le[Qe]:null},removeApp:function De(Ke){delete Se[Ke]},useAsService:function $e(Ke,ee){return"serverAuth"===ee?null:ee},modularAPIs:q}};function st(Ke){if(!(0,c.r3)(Se,Ke=Ke||q._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Ke});return Se[Ke]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Ze(){return Object.keys(Se).map(Ke=>Se[Ke])}}),st.App=Fe,Le}(Re);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Se(Le){(0,c.ZB)(Fe,Le)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Fe}(),me=new Me.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=fe;!function Ve(Fe){(0,q.registerVersion)("@firebase/app-compat","0.1.26",Fe)}()},9681:(Zt,at,P)=>{"use strict";P.r(at),P.d(at,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>qn,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>Et,_addOrOverwriteComponent:()=>lt,_apps:()=>Ct,_clearComponents:()=>Pn,_components:()=>ft,_getProvider:()=>Nt,_registerComponent:()=>Kt,_removeServiceInstance:()=>wt,deleteApp:()=>_n,getApp:()=>Ln,getApps:()=>kn,initializeApp:()=>tr,onLog:()=>Yn,registerVersion:()=>Wn,setLogLevel:()=>$r});var c=P(5861),J=P(4859),q=P(1877),Me=P(2090),Re=P(8766);class Ee{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function ve(Be){const gt=Be.getComponent();return"VERSION"===(null==gt?void 0:gt.type)}(Ht)){const rn=Ht.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Ht=>Ht).join(" ")}}const Ce="@firebase/app",fe=new q.Yd("@firebase/app"),ht="[DEFAULT]",We={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,ft=new Map;function Et(Be,gt){try{Be.container.addComponent(gt)}catch(Ht){fe.debug(`Component ${gt.name} failed to register with FirebaseApp ${Be.name}`,Ht)}}function lt(Be,gt){Be.container.addOrOverwriteComponent(gt)}function Kt(Be){const gt=Be.name;if(ft.has(gt))return fe.debug(`There were multiple attempts to register component ${gt}.`),!1;ft.set(gt,Be);for(const Ht of Ct.values())Et(Ht,Be);return!0}function Nt(Be,gt){const Ht=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return Ht&&Ht.triggerHeartbeat(),Be.container.getProvider(gt)}function wt(Be,gt,Ht=ht){Nt(Be,gt).clearInstance(Ht)}function Pn(){ft.clear()}const yn=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class fn{constructor(gt,Ht,rn){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}const qn="9.8.2";function tr(Be,gt={}){"object"!=typeof gt&&(gt={name:gt});const Ht=Object.assign({name:ht,automaticDataCollectionEnabled:!1},gt),rn=Ht.name;if("string"!=typeof rn||!rn)throw yn.create("bad-app-name",{appName:String(rn)});const vn=Ct.get(rn);if(vn){if((0,Me.vZ)(Be,vn.options)&&(0,Me.vZ)(Ht,vn.config))return vn;throw yn.create("duplicate-app",{appName:rn})}const wn=new J.H0(rn);for(const In of ft.values())wn.addComponent(In);const Er=new fn(Be,Ht,wn);return Ct.set(rn,Er),Er}function Ln(Be=ht){const gt=Ct.get(Be);if(!gt)throw yn.create("no-app",{appName:Be});return gt}function kn(){return Array.from(Ct.values())}function _n(Be){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(Be){const gt=Be.name;Ct.has(gt)&&(Ct.delete(gt),yield Promise.all(Be.container.getProviders().map(Ht=>Ht.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function Wn(Be,gt,Ht){var rn;let vn=null!==(rn=We[Be])&&void 0!==rn?rn:Be;Ht&&(vn+=`-${Ht}`);const wn=vn.match(/\s|\//),Er=gt.match(/\s|\//);if(wn||Er){const In=[`Unable to register library "${vn}" with version "${gt}":`];return wn&&In.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),wn&&Er&&In.push("and"),Er&&In.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void fe.warn(In.join(" "))}Kt(new J.wA(`${vn}-version`,()=>({library:vn,version:gt}),"VERSION"))}function Yn(Be,gt){if(null!==Be&&"function"!=typeof Be)throw yn.create("invalid-log-argument");(0,q.Am)(Be,gt)}function $r(Be){(0,q.Ub)(Be)}const qe="firebase-heartbeat-store";let Je=null;function At(){return Je||(Je=(0,Re.X3)("firebase-heartbeat-database",1,{upgrade:(Be,gt)=>{0===gt&&Be.createObjectStore(qe)}}).catch(Be=>{throw yn.create("storage-open",{originalErrorMessage:Be.message})})),Je}function Wt(){return(Wt=(0,c.Z)(function*(Be){try{return(yield At()).transaction(qe).objectStore(qe).get(Nn(Be))}catch(gt){throw yn.create("storage-get",{originalErrorMessage:gt.message})}})).apply(this,arguments)}function It(Be,gt){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(Be,gt){try{const rn=(yield At()).transaction(qe,"readwrite");return yield rn.objectStore(qe).put(gt,Nn(Be)),rn.done}catch(Ht){throw yn.create("storage-set",{originalErrorMessage:Ht.message})}})).apply(this,arguments)}function Nn(Be){return`${Be.name}!${Be.options.appId}`}class hr{constructor(gt){this.container=gt,this._heartbeatsCache=null;const Ht=this.container.getProvider("app").getImmediate();this._storage=new je(Ht),this._heartbeatsCachePromise=this._storage.read().then(rn=>(this._heartbeatsCache=rn,rn))}triggerHeartbeat(){var gt=this;return(0,c.Z)(function*(){const rn=gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=Ar();if(null===gt._heartbeatsCache&&(gt._heartbeatsCache=yield gt._heartbeatsCachePromise),gt._heartbeatsCache.lastSentHeartbeatDate!==vn&&!gt._heartbeatsCache.heartbeats.some(wn=>wn.date===vn))return gt._heartbeatsCache.heartbeats.push({date:vn,agent:rn}),gt._heartbeatsCache.heartbeats=gt._heartbeatsCache.heartbeats.filter(wn=>{const Er=new Date(wn.date).valueOf();return Date.now()-Er<=2592e6}),gt._storage.overwrite(gt._heartbeatsCache)})()}getHeartbeatsHeader(){var gt=this;return(0,c.Z)(function*(){if(null===gt._heartbeatsCache&&(yield gt._heartbeatsCachePromise),null===gt._heartbeatsCache||0===gt._heartbeatsCache.heartbeats.length)return"";const Ht=Ar(),{heartbeatsToSend:rn,unsentEntries:vn}=function Ie(Be,gt=1024){const Ht=[];let rn=Be.slice();for(const vn of Be){const wn=Ht.find(Er=>Er.agent===vn.agent);if(wn){if(wn.dates.push(vn.date),Xe(Ht)>gt){wn.dates.pop();break}}else if(Ht.push({agent:vn.agent,dates:[vn.date]}),Xe(Ht)>gt){Ht.pop();break}rn=rn.slice(1)}return{heartbeatsToSend:Ht,unsentEntries:rn}}(gt._heartbeatsCache.heartbeats),wn=(0,Me.L)(JSON.stringify({version:2,heartbeats:rn}));return gt._heartbeatsCache.lastSentHeartbeatDate=Ht,vn.length>0?(gt._heartbeatsCache.heartbeats=vn,yield gt._storage.overwrite(gt._heartbeatsCache)):(gt._heartbeatsCache.heartbeats=[],gt._storage.overwrite(gt._heartbeatsCache)),wn})()}}function Ar(){return(new Date).toISOString().substring(0,10)}class je{constructor(gt){this.app=gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var gt=this;return(0,c.Z)(function*(){return(yield gt._canUseIndexedDBPromise)&&(yield function vt(Be){return Wt.apply(this,arguments)}(gt.app))||{heartbeats:[]}})()}overwrite(gt){var Ht=this;return(0,c.Z)(function*(){var rn;if(yield Ht._canUseIndexedDBPromise){const wn=yield Ht.read();return It(Ht.app,{lastSentHeartbeatDate:null!==(rn=gt.lastSentHeartbeatDate)&&void 0!==rn?rn:wn.lastSentHeartbeatDate,heartbeats:gt.heartbeats})}})()}add(gt){var Ht=this;return(0,c.Z)(function*(){var rn;if(yield Ht._canUseIndexedDBPromise){const wn=yield Ht.read();return It(Ht.app,{lastSentHeartbeatDate:null!==(rn=gt.lastSentHeartbeatDate)&&void 0!==rn?rn:wn.lastSentHeartbeatDate,heartbeats:[...wn.heartbeats,...gt.heartbeats]})}})()}}function Xe(Be){return(0,Me.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function xt(Be){Kt(new J.wA("platform-logger",gt=>new Ee(gt),"PRIVATE")),Kt(new J.wA("heartbeat",gt=>new hr(gt),"PRIVATE")),Wn(Ce,"0.7.25",Be),Wn(Ce,"0.7.25","esm2017"),Wn("fire-js","")}("")},4859:(Zt,at,P)=>{"use strict";P.d(at,{wA:()=>q,H0:()=>Ce,zt:()=>Re});var c=P(5861),J=P(2090);class q{constructor(fe,me,Te){this.name=fe,this.instanceFactory=me,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const Me="[DEFAULT]";class Re{constructor(fe,me){this.name=fe,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const me=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(me)){const Te=new J.BH;if(this.instancesDeferred.set(me,Te),this.isInitialized(me)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:me});Pe&&Te.resolve(Pe)}catch(Pe){}}return this.instancesDeferred.get(me).promise}getImmediate(fe){var me;const Te=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),Pe=null!==(me=null==fe?void 0:fe.optional)&&void 0!==me&&me;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Ve){if(Pe)return null;throw Ve}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function ve(ke){return"EAGER"===ke.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Me})}catch(me){}for(const[me,Te]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(me);try{const Ve=this.getOrInitializeService({instanceIdentifier:Pe});Te.resolve(Ve)}catch(Ve){}}}}clearInstance(fe=Me){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,c.Z)(function*(){const me=Array.from(fe.instances.values());yield Promise.all([...me.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...me.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=Me){return this.instances.has(fe)}getOptions(fe=Me){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:me={}}=fe,Te=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Te,options:me});for(const[Ve,tt]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Ve)&&tt.resolve(Pe);return Pe}onInit(fe,me){var Te;const Pe=this.normalizeInstanceIdentifier(me),Ve=null!==(Te=this.onInitCallbacks.get(Pe))&&void 0!==Te?Te:new Set;Ve.add(fe),this.onInitCallbacks.set(Pe,Ve);const tt=this.instances.get(Pe);return tt&&fe(tt,Pe),()=>{Ve.delete(fe)}}invokeOnInitCallbacks(fe,me){const Te=this.onInitCallbacks.get(me);if(Te)for(const Pe of Te)try{Pe(fe,me)}catch(Ve){}}getOrInitializeService({instanceIdentifier:fe,options:me={}}){let Te=this.instances.get(fe);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=fe,ke===Me?void 0:ke),options:me}),this.instances.set(fe,Te),this.instancesOptions.set(fe,me),this.invokeOnInitCallbacks(Te,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Te)}catch(Pe){}var ke;return Te||null}normalizeInstanceIdentifier(fe=Me){return this.component?this.component.multipleInstances?fe:Me:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const me=this.getProvider(fe.name);if(me.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);me.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const me=new Re(fe,this);return this.providers.set(fe,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(Zt,at,P)=>{"use strict";P.d(at,{in:()=>J,Yd:()=>ve,Ub:()=>Ce,Am:()=>ke});const c=[];var J=(()=>{return(fe=J||(J={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",J;var fe})();const q={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Me=J.INFO,Re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Ee=(fe,me,...Te)=>{if(me<fe.logLevel)return;const Pe=(new Date).toISOString(),Ve=Re[me];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ve](`[${Pe}]  ${fe.name}:`,...Te)};class ve{constructor(me){this.name=me,this._logLevel=Me,this._logHandler=Ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in J))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?q[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...me),this._logHandler(this,J.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...me),this._logHandler(this,J.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,J.INFO,...me),this._logHandler(this,J.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,J.WARN,...me),this._logHandler(this,J.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...me),this._logHandler(this,J.ERROR,...me)}}function Ce(fe){c.forEach(me=>{me.setLogLevel(fe)})}function ke(fe,me){for(const Te of c){let Pe=null;me&&me.level&&(Pe=q[me.level]),Te.userLogHandler=null===fe?null:(Ve,tt,...Fe)=>{const Se=Fe.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(De){return null}}).filter(Le=>Le).join(" ");tt>=(null!=Pe?Pe:Ve.logLevel)&&fe({level:J[tt].toLowerCase(),message:Se,args:Fe,type:Ve.name})}}}},8766:(Zt,at,P)=>{"use strict";P.d(at,{Lj:()=>ot,X3:()=>st});var c=P(5861);let q,Me;const ve=new WeakMap,Ce=new WeakMap,ke=new WeakMap,fe=new WeakMap,me=new WeakMap;let Ve={get(ee,Qe,he){if(ee instanceof IDBTransaction){if("done"===Qe)return Ce.get(ee);if("objectStoreNames"===Qe)return ee.objectStoreNames||ke.get(ee);if("store"===Qe)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return Le(ee[Qe])},set:(ee,Qe,he)=>(ee[Qe]=he,!0),has:(ee,Qe)=>ee instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in ee};function Se(ee){return"function"==typeof ee?function Fe(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...Qe){return ee.apply(De(this),Qe),Le(ve.get(this))}:function(...Qe){return Le(ee.apply(De(this),Qe))}:function(Qe,...he){const ye=ee.call(De(this),Qe,...he);return ke.set(ye,Qe.sort?Qe.sort():[Qe]),Le(ye)}}(ee):(ee instanceof IDBTransaction&&function Pe(ee){if(Ce.has(ee))return;const Qe=new Promise((he,ye)=>{const ge=()=>{ee.removeEventListener("complete",Ae),ee.removeEventListener("error",Ye),ee.removeEventListener("abort",Ye)},Ae=()=>{he(),ge()},Ye=()=>{ye(ee.error||new DOMException("AbortError","AbortError")),ge()};ee.addEventListener("complete",Ae),ee.addEventListener("error",Ye),ee.addEventListener("abort",Ye)});Ce.set(ee,Qe)}(ee),((ee,Qe)=>Qe.some(he=>ee instanceof he))(ee,function Re(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,Ve):ee)}function Le(ee){if(ee instanceof IDBRequest)return function Te(ee){const Qe=new Promise((he,ye)=>{const ge=()=>{ee.removeEventListener("success",Ae),ee.removeEventListener("error",Ye)},Ae=()=>{he(Le(ee.result)),ge()},Ye=()=>{ye(ee.error),ge()};ee.addEventListener("success",Ae),ee.addEventListener("error",Ye)});return Qe.then(he=>{he instanceof IDBCursor&&ve.set(he,ee)}).catch(()=>{}),me.set(Qe,ee),Qe}(ee);if(fe.has(ee))return fe.get(ee);const Qe=Se(ee);return Qe!==ee&&(fe.set(ee,Qe),me.set(Qe,ee)),Qe}const De=ee=>me.get(ee);function st(ee,Qe,{blocked:he,upgrade:ye,blocking:ge,terminated:Ae}={}){const Ye=indexedDB.open(ee,Qe),pt=Le(Ye);return ye&&Ye.addEventListener("upgradeneeded",Gt=>{ye(Le(Ye.result),Gt.oldVersion,Gt.newVersion,Le(Ye.transaction))}),he&&Ye.addEventListener("blocked",()=>he()),pt.then(Gt=>{Ae&&Gt.addEventListener("close",()=>Ae()),ge&&Gt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),pt}function ot(ee,{blocked:Qe}={}){const he=indexedDB.deleteDatabase(ee);return Qe&&he.addEventListener("blocked",()=>Qe()),Le(he).then(()=>{})}const Ze=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],$e=new Map;function Ke(ee,Qe){if(!(ee instanceof IDBDatabase)||Qe in ee||"string"!=typeof Qe)return;if($e.get(Qe))return $e.get(Qe);const he=Qe.replace(/FromIndex$/,""),ye=Qe!==he,ge=ze.includes(he);if(!(he in(ye?IDBIndex:IDBObjectStore).prototype)||!ge&&!Ze.includes(he))return;const Ae=function(){var Ye=(0,c.Z)(function*(pt,...Gt){const yt=this.transaction(pt,ge?"readwrite":"readonly");let ht=yt.store;return ye&&(ht=ht.index(Gt.shift())),(yield Promise.all([ht[he](...Gt),ge&&yt.done]))[0]});return function(Gt){return Ye.apply(this,arguments)}}();return $e.set(Qe,Ae),Ae}!function tt(ee){Ve=ee(Ve)}(ee=>UE(VE({},ee),{get:(Qe,he,ye)=>Ke(Qe,he)||ee.get(Qe,he,ye),has:(Qe,he)=>!!Ke(Qe,he)||ee.has(Qe,he)}))},5861:(Zt,at,P)=>{"use strict";function c(q,Me,Re,Ee,ve,Ce,ke){try{var fe=q[Ce](ke),me=fe.value}catch(Te){return void Re(Te)}fe.done?Me(me):Promise.resolve(me).then(Ee,ve)}function J(q){return function(){var Me=this,Re=arguments;return new Promise(function(Ee,ve){var Ce=q.apply(Me,Re);function ke(me){c(Ce,Ee,ve,ke,fe,"next",me)}function fe(me){c(Ce,Ee,ve,ke,fe,"throw",me)}ke(void 0)})}}P.d(at,{Z:()=>J})}},Zt=>{Zt(Zt.s=2024)}]);