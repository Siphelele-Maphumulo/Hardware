{"version":3,"file":"src_app_cart_cart_module_ts.js","mappings":"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","sources":["./src/app/cart/cart-routing.module.ts","./src/app/cart/cart.module.ts","./src/app/cart/cart.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CartPage } from './cart.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CartPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CartPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CartPageRoutingModule } from './cart-routing.module';\r\n\r\nimport { CartPage } from './cart.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CartPageRoutingModule\r\n  ],\r\n  declarations: [CartPage]\r\n})\r\nexport class CartPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FireserviceService, CartItem } from '../fireservice.service';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.page.html',\r\n  styleUrls: ['./cart.page.scss'],\r\n})\r\nexport class CartPage implements OnInit {\r\n  cartItems: CartItem[] = [];\r\n  totalItems = 0;\r\n  totalAmount = 0;\r\n\r\n  constructor(\r\n    private fireService: FireserviceService,\r\n    private location: Location,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.fireService.getCartObservable().subscribe((items) => {\r\n      this.cartItems = items;\r\n      this.recalculateTotals();\r\n    });\r\n  }\r\n\r\n  // â† New unique names\r\n  increaseQuantity(i: number) {\r\n    this.fireService.incCartItem(this.cartItems[i]);\r\n  }\r\n\r\n  decreaseQuantity(i: number) {\r\n    this.fireService.decCartItem(this.cartItems[i]);\r\n  }\r\n\r\n  removeItem(i: number) {\r\n    this.fireService.removeCartItem(this.cartItems[i]);\r\n  }\r\n\r\n  private recalculateTotals() {\r\n    this.totalItems = this.cartItems.reduce((sum, it) => sum + it.quantity, 0);\r\n    this.totalAmount = this.cartItems.reduce(\r\n      (sum, it) => sum + it.quantity * it.price,\r\n      0\r\n    );\r\n  }\r\n\r\n  checkout() {\r\n    this.router.navigate(['/checkout'], {\r\n      state: {\r\n        totalAmount: this.totalAmount,\r\n        cartItems: this.cartItems,\r\n      },\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.location.back();\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}