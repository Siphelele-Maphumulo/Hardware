var uI=Object.defineProperty,cI=Object.defineProperties,dI=Object.getOwnPropertyDescriptors,VE=Object.getOwnPropertySymbols,hI=Object.prototype.hasOwnProperty,fI=Object.prototype.propertyIsEnumerable,UE=(Xt,lt,L)=>lt in Xt?uI(Xt,lt,{enumerable:!0,configurable:!0,writable:!0,value:L}):Xt[lt]=L,$E=(Xt,lt)=>{for(var L in lt||(lt={}))hI.call(lt,L)&&UE(Xt,L,lt[L]);if(VE)for(var L of VE(lt))fI.call(lt,L)&&UE(Xt,L,lt[L]);return Xt},jE=(Xt,lt)=>cI(Xt,dI(lt));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(Xt,lt,L)=>{"use strict";L.d(lt,{nm:()=>Q});var c=L(6351);L(5e3),L(5867);var ut=L(5861),wt=L(9681),xt=L(4859),nt=L(2090),Et=L(1877);const ve=new Map,Me={activated:!1,tokenObservers:[]},Te={initialized:!1,enabled:!1};function de(et){return ve.get(et)||Me}function ye(et,Ze){ve.set(et,Ze)}function Ue(){return Te}class st{constructor(Ze,yt,$t,en,yn){if(this.operation=Ze,this.retryPolicy=yt,this.getWaitDuration=$t,this.lowerBound=en,this.upperBound=yn,this.pending=null,this.nextErrorWaitInterval=en,en>yn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ze){var yt=this;return(0,ut.Z)(function*(){yt.stop();try{yt.pending=new nt.BH,yield function gt(et){return new Promise(Ze=>{setTimeout(Ze,et)})}(yt.getNextRun(Ze)),yt.pending.resolve(),yield yt.pending.promise,yt.pending=new nt.BH,yield yt.operation(),yt.pending.resolve(),yield yt.pending.promise,yt.process(!0).catch(()=>{})}catch($t){yt.retryPolicy($t)?yt.process(!1).catch(()=>{}):yt.stop()}})()}getNextRun(Ze){if(Ze)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const yt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),yt}}}const Xe=new nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _t(et){if(!de(et).activated)throw Xe.create("use-before-activation",{appName:et.name})}function In(et,Ze){return cn.apply(this,arguments)}function cn(){return(cn=(0,ut.Z)(function*({url:et,body:Ze},yt){const $t={"Content-Type":"application/json"},en=yt.getImmediate({optional:!0});if(en){const es=yield en.getHeartbeatsHeader();es&&($t["X-Firebase-Client"]=es)}const yn={method:"POST",body:JSON.stringify(Ze),headers:$t};let fr,ti;try{fr=yield fetch(et,yn)}catch(es){throw Xe.create("fetch-network-error",{originalErrorMessage:es.message})}if(200!==fr.status)throw Xe.create("fetch-status-error",{httpStatus:fr.status});try{ti=yield fr.json()}catch(es){throw Xe.create("fetch-parse-error",{originalErrorMessage:es.message})}const pr=ti.ttl.match(/^([\d.]+)(s)$/);if(!pr||!pr[2]||isNaN(Number(pr[1])))throw Xe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ti.ttl}`});const Qs=1e3*Number(pr[1]),Ji=Date.now();return{token:ti.token,expireTimeMillis:Ji+Qs,issuedAtTimeMillis:Ji}})).apply(this,arguments)}function zn(et,Ze){const{projectId:yt,appId:$t,apiKey:en}=et.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${yt}/apps/${$t}:exchangeDebugToken?key=${en}`,body:{debug_token:Ze}}}const Fr="firebase-app-check-store";let _r=null;function qn(){return _r||(_r=new Promise((et,Ze)=>{try{const yt=indexedDB.open("firebase-app-check-database",1);yt.onsuccess=$t=>{et($t.target.result)},yt.onerror=$t=>{var en;Ze(Xe.create("storage-open",{originalErrorMessage:null===(en=$t.target.error)||void 0===en?void 0:en.message}))},yt.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(Fr,{keyPath:"compositeKey"})}}catch(yt){Ze(Xe.create("storage-open",{originalErrorMessage:yt.message}))}}),_r)}function At(){return(At=(0,ut.Z)(function*(et,Ze){const $t=(yield qn()).transaction(Fr,"readwrite"),yn=$t.objectStore(Fr).put({compositeKey:et,value:Ze});return new Promise((fr,ti)=>{yn.onsuccess=pr=>{fr()},$t.onerror=pr=>{var Qs;ti(Xe.create("storage-set",{originalErrorMessage:null===(Qs=pr.target.error)||void 0===Qs?void 0:Qs.message}))}})})).apply(this,arguments)}const Ln=new Et.Yd("@firebase/app-check");function Ar(et,Ze){return(0,nt.hl)()?function mt(et,Ze){return function qt(et,Ze){return At.apply(this,arguments)}(function ln(et){return`${et.options.appId}-${et.name}`}(et),Ze)}(et,Ze).catch(yt=>{Ln.warn(`Failed to write token to IndexedDB. Error: ${yt}`)}):Promise.resolve()}function He(){return Ue().enabled}function qe(){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,ut.Z)(function*(){const et=Ue();if(et.enabled&&et.token)return et.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ct={error:"UNKNOWN_ERROR"};function Yt(et){return nt.US.encodeString(JSON.stringify(et),!1)}function Zt(et){return gn.apply(this,arguments)}function gn(){return(gn=(0,ut.Z)(function*(et,Ze=!1){const yt=et.app;_t(yt);const $t=de(yt);let yn,en=$t.token;if(!en){const pr=yield $t.cachedTokenPromise;pr&&xi(pr)&&(en=pr)}if(!Ze&&en&&xi(en))return{token:en.token};let ti,fr=!1;if(He()){$t.exchangeTokenPromise||($t.exchangeTokenPromise=In(zn(yt,yield qe()),et.heartbeatServiceProvider).then(Qs=>($t.exchangeTokenPromise=void 0,Qs)),fr=!0);const pr=yield $t.exchangeTokenPromise;return yield Ar(yt,pr),ye(yt,Object.assign(Object.assign({},$t),{token:pr})),{token:pr.token}}try{$t.exchangeTokenPromise||($t.exchangeTokenPromise=$t.provider.getToken().then(pr=>($t.exchangeTokenPromise=void 0,pr)),fr=!0),en=yield $t.exchangeTokenPromise}catch(pr){"appCheck/throttled"===pr.code?Ln.warn(pr.message):Ln.error(pr),yn=pr}return en?(ti={token:en.token},ye(yt,Object.assign(Object.assign({},$t),{token:en})),yield Ar(yt,en)):ti=fi(yn),fr&&$r(yt,ti),ti})).apply(this,arguments)}function mr(et,Ze){const yt=de(et),$t=yt.tokenObservers.filter(en=>en.next!==Ze);0===$t.length&&yt.tokenRefresher&&yt.tokenRefresher.isRunning()&&yt.tokenRefresher.stop(),ye(et,Object.assign(Object.assign({},yt),{tokenObservers:$t}))}function Tn(et){const{app:Ze}=et,yt=de(Ze);let $t=yt.tokenRefresher;$t||($t=function hr(et){const{app:Ze}=et;return new st((0,ut.Z)(function*(){let $t;if($t=de(Ze).token?yield Zt(et,!0):yield Zt(et),$t.error)throw $t.error}),()=>!0,()=>{const yt=de(Ze);if(yt.token){let $t=yt.token.issuedAtTimeMillis+.5*(yt.token.expireTimeMillis-yt.token.issuedAtTimeMillis)+3e5;return $t=Math.min($t,yt.token.expireTimeMillis-3e5),Math.max(0,$t-Date.now())}return 0},3e4,96e4)}(et),ye(Ze,Object.assign(Object.assign({},yt),{tokenRefresher:$t}))),!$t.isRunning()&&yt.isTokenAutoRefreshEnabled&&$t.start()}function $r(et,Ze){const yt=de(et).tokenObservers;for(const $t of yt)try{"EXTERNAL"===$t.type&&null!=Ze.error?$t.error(Ze.error):$t.next(Ze)}catch(en){}}function xi(et){return et.expireTimeMillis-Date.now()>0}function fi(et){return{token:Yt(ct),error:et}}class Mi{constructor(Ze,yt){this.app=Ze,this.heartbeatServiceProvider=yt}_delete(){const{tokenObservers:Ze}=de(this.app);for(const yt of Ze)mr(this.app,yt.next);return Promise.resolve()}}const Ri="app-check-internal";!function zr(){(0,wt._registerComponent)(new xt.wA("app-check",et=>function Li(et,Ze){return new Mi(et,Ze)}(et.getProvider("app").getImmediate(),et.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((et,Ze,yt)=>{et.getProvider(Ri).initialize()})),(0,wt._registerComponent)(new xt.wA(Ri,et=>function Or(et){return{getToken:Ze=>Zt(et,Ze),addTokenListener:Ze=>function Mn(et,Ze,yt,$t){const{app:en}=et,yn=de(en),fr={next:yt,error:$t,type:Ze};if(ye(en,Object.assign(Object.assign({},yn),{tokenObservers:[...yn.tokenObservers,fr]})),yn.token&&xi(yn.token)){const ti=yn.token;Promise.resolve().then(()=>{yt({token:ti.token}),Tn(et)}).catch(()=>{})}yn.cachedTokenPromise.then(()=>Tn(et))}(et,"INTERNAL",Ze),removeTokenListener:Ze=>mr(et.app,Ze)}}(et.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wt.registerVersion)("@firebase/app-check","0.5.8")}();class Q{constructor(){return(0,c.vb)("app-check")}}"undefined"!=typeof window&&window},4941:(Xt,lt,L)=>{"use strict";L.d(lt,{zQ:()=>dt,ww:()=>at,rT:()=>Ue,f7:()=>St,L6:()=>de,_Q:()=>ye,lh:()=>Ye,Qv:()=>Te,nw:()=>jt});var c=L(5e3),X=L(8929),K=L(1086),Ve=L(2916),Oe=L(5254),se=L(6787),Ce=L(341),_e=L(2654),be=L(2102),ee=L(5279),me=L(5283);class ne extends X.xQ{constructor(st=Number.POSITIVE_INFINITY,gt=Number.POSITIVE_INFINITY,Re){super(),this.scheduler=Re,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=st<1?1:st,this._windowTime=gt<1?1:gt,gt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(st){if(!this.isStopped){const gt=this._events;gt.push(st),gt.length>this._bufferSize&&gt.shift()}super.next(st)}nextTimeWindow(st){this.isStopped||(this._events.push(new fe(this._getNow(),st)),this._trimBufferThenGetEvents()),super.next(st)}_subscribe(st){const gt=this._infiniteTimeWindow,Re=gt?this._events:this._trimBufferThenGetEvents(),Xe=this.scheduler,Vt=Re.length;let _t;if(this.closed)throw new ee.N;if(this.isStopped||this.hasError?_t=_e.w.EMPTY:(this.observers.push(st),_t=new me.W(this,st)),Xe&&st.add(st=new be.ht(st,Xe)),gt)for(let Wt=0;Wt<Vt&&!st.closed;Wt++)st.next(Re[Wt]);else for(let Wt=0;Wt<Vt&&!st.closed;Wt++)st.next(Re[Wt].value);return this.hasError?st.error(this.thrownError):this.isStopped&&st.complete(),_t}_getNow(){return(this.scheduler||Ce.c).now()}_trimBufferThenGetEvents(){const st=this._getNow(),gt=this._bufferSize,Re=this._windowTime,Xe=this._events,Vt=Xe.length;let _t=0;for(;_t<Vt&&!(st-Xe[_t].time<Re);)_t++;return Vt>gt&&(_t=Math.max(_t,Vt-gt)),_t>0&&Xe.splice(0,_t),Xe}}class fe{constructor(st,gt){this.time=st,this.value=gt}}function ze(Ge,st,gt){let Re;return Re=Ge&&"object"==typeof Ge?Ge:{bufferSize:Ge,windowTime:st,refCount:!1,scheduler:gt},Xe=>Xe.lift(function ke({bufferSize:Ge=Number.POSITIVE_INFINITY,windowTime:st=Number.POSITIVE_INFINITY,refCount:gt,scheduler:Re}){let Xe,_t,Vt=0,Wt=!1,vn=!1;return function(In){let cn;Vt++,!Xe||Wt?(Wt=!1,Xe=new ne(Ge,st,Re),cn=Xe.subscribe(this),_t=In.subscribe({next(On){Xe.next(On)},error(On){Wt=!0,Xe.error(On)},complete(){vn=!0,_t=void 0,Xe.complete()}}),vn&&(_t=void 0)):cn=Xe.subscribe(this),this.add(()=>{Vt--,cn.unsubscribe(),cn=void 0,_t&&!vn&&gt&&0===Vt&&(_t.unsubscribe(),_t=void 0,Xe=void 0)})}}(Re))}var Ee=L(7545);function Fe(Ge,st){return st?(0,Ee.w)(()=>Ge,st):(0,Ee.w)(()=>Ge)}var je=L(4850),ft=L(7224),we=L(8915),ut=L(2198),wt=L(6351),xt=L(2011),nt=L(9808),Et=L(440),ve=L(127);const Te=new c.OlP("angularfire2.auth.use-emulator"),de=new c.OlP("angularfire2.auth.settings"),ye=new c.OlP("angularfire2.auth.tenant-id"),Ue=new c.OlP("angularfire2.auth.langugage-code"),Ye=new c.OlP("angularfire2.auth.use-device-language"),St=new c.OlP("angularfire.auth.persistence"),jt=(Ge,st,gt,Re,Xe,Vt,_t,Wt)=>(0,xt.cc)(`${Ge.name}.auth`,"AngularFireAuth",Ge.name,()=>{const vn=st.runOutsideAngular(()=>Ge.auth());if(gt&&vn.useEmulator(...gt),Re&&(vn.tenantId=Re),vn.languageCode=Xe,Vt&&vn.useDeviceLanguage(),_t)for(const[Rn,In]of Object.entries(_t))vn.settings[Rn]=In;return Wt&&vn.setPersistence(Wt),vn},[gt,Re,Xe,Vt,_t,Wt]);let dt=(()=>{class Ge{constructor(gt,Re,Xe,Vt,_t,Wt,vn,Rn,In,cn,On,Sr){const zn=new X.xQ,nr=(0,K.of)(void 0).pipe((0,be.QV)(_t.outsideAngular),(0,Ee.w)(()=>Vt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8775)))),(0,je.U)(()=>(0,xt.on)(gt,Vt,Re)),(0,je.U)(rn=>jt(rn,Vt,Wt,Rn,In,cn,vn,On)),ze({bufferSize:1,refCount:!1}));if((0,nt.PM)(Xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{nr.pipe((0,ft.P)()).subscribe();const Fr=nr.pipe((0,Ee.w)(qn=>qn.getRedirectResult().then(br=>br,()=>null)),wt.iC,ze({bufferSize:1,refCount:!1})),rr=nr.pipe((0,Ee.w)(qn=>new Ve.y(br=>({unsubscribe:Vt.runOutsideAngular(()=>qn.onAuthStateChanged(mt=>br.next(mt),mt=>br.error(mt),()=>br.complete()))})))),_r=nr.pipe((0,Ee.w)(qn=>new Ve.y(br=>({unsubscribe:Vt.runOutsideAngular(()=>qn.onIdTokenChanged(mt=>br.next(mt),mt=>br.error(mt),()=>br.complete()))}))));this.authState=Fr.pipe(Fe(rr),(0,we.R)(_t.outsideAngular),(0,be.QV)(_t.insideAngular)),this.user=Fr.pipe(Fe(_r),(0,we.R)(_t.outsideAngular),(0,be.QV)(_t.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(qn=>qn?(0,Oe.D)(qn.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(qn=>qn?(0,Oe.D)(qn.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,se.T)(Fr,zn,this.authState.pipe((0,ut.h)(qn=>!qn))).pipe((0,je.U)(qn=>(null==qn?void 0:qn.user)?qn:null),(0,we.R)(_t.outsideAngular),(0,be.QV)(_t.insideAngular))}return(0,xt.pX)(this,nr,Vt,{spy:{apply:(rn,Fr,rr)=>{(rn.startsWith("signIn")||rn.startsWith("createUser"))&&rr.then(_r=>zn.next(_r))}}})}}return Ge.\u0275fac=function(gt){return new(gt||Ge)(c.LFG(xt.Dh),c.LFG(xt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(wt.HU),c.LFG(Te,8),c.LFG(de,8),c.LFG(ye,8),c.LFG(Ue,8),c.LFG(Ye,8),c.LFG(St,8),c.LFG(Et.nm,8))},Ge.\u0275prov=c.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"any"}),Ge})(),at=(()=>{class Ge{constructor(){ve.Z.registerVersion("angularfire",wt.q4.full,"auth-compat")}}return Ge.\u0275fac=function(gt){return new(gt||Ge)},Ge.\u0275mod=c.oAB({type:Ge}),Ge.\u0275inj=c.cJS({providers:[dt]}),Ge})()},2796:(Xt,lt,L)=>{"use strict";L.d(lt,{ST:()=>Jg});var c=L(5e3),X=L(353),K=L(2916),Ve=L(5254),Oe=L(1086),se=L(6351),Ce=L(3489);function _e(){return i=>i.lift(new be)}class be{call(e,t){return t.subscribe(new ee(e))}}class ee extends Ce.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Me,me=L(1059),ne=L(4850),fe=L(2014),ze=L(5778),ke=L(2198),Ee=L(2011),Fe=L(9808),ft=(L(8775),L(3942)),we=L(5861),ut=L(9681),wt=L(4859),xt=L(1877),nt=L(2090),Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ve={},Te=Te||{},de=Et||self;function ye(){}function Ue(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ye(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var jt="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function at(i,e,t){return i.call.apply(i.bind,arguments)}function Ge(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function st(i,e,t){return(st=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?at:Ge).apply(null,arguments)}function gt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Re(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(a,h,m){for(var C=Array(arguments.length-2),P=2;P<arguments.length;P++)C[P-2]=arguments[P];return e.prototype[h].apply(a,C)}}function Xe(){this.s=this.s,this.o=this.o}var _t={};Xe.prototype.s=!1,Xe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function St(i){return Object.prototype.hasOwnProperty.call(i,jt)&&i[jt]||(i[jt]=++dt)}(this);delete _t[i]}},Xe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},vn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const a=i.length,h="string"==typeof i?i.split(""):i;for(let m=0;m<a;m++)m in h&&e.call(t,h[m],m,i)};function In(i){return Array.prototype.concat.apply([],arguments)}function cn(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function On(i){return/^[\s\xa0]*$/.test(i)}var rn,Sr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function zn(i,e){return-1!=i.indexOf(e)}function nr(i,e){return i<e?-1:i>e?1:0}e:{var Fr=de.navigator;if(Fr){var rr=Fr.userAgent;if(rr){rn=rr;break e}}rn=""}function _r(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function qn(i){const e={};for(const t in i)e[t]=i[t];return e}var br="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(i,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)i[t]=a[t];for(let m=0;m<br.length;m++)t=br[m],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function We(i){return We[" "](i),i}We[" "]=ye;var Qr,i,qt=zn(rn,"Opera"),At=zn(rn,"Trident")||zn(rn,"MSIE"),Ht=zn(rn,"Edge"),an=Ht||At,ln=zn(rn,"Gecko")&&!(zn(rn.toLowerCase(),"webkit")&&!zn(rn,"Edge"))&&!(zn(rn,"Trident")||zn(rn,"MSIE"))&&!zn(rn,"Edge"),Ln=zn(rn.toLowerCase(),"webkit")&&!zn(rn,"Edge");function bn(){var i=de.document;return i?i.documentMode:void 0}e:{var Ar="",wr=(i=rn,ln?/rv:([^\);]+)(\)|;)/.exec(i):Ht?/Edge\/([\d\.]+)/.exec(i):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ln?/WebKit\/(\S+)/.exec(i):qt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(wr&&(Ar=wr?wr[1]:""),At){var Se=bn();if(null!=Se&&Se>parseFloat(Ar)){Qr=String(Se);break e}}Qr=Ar}var He={};var ct=de.document&&At&&(bn()||parseInt(Qr,10))||void 0,Yt=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{de.addEventListener("test",ye,e),de.removeEventListener("test",ye,e)}catch(t){}return i}();function Zt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function gn(i,e){if(Zt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ln){e:{try{We(e.nodeName);var h=!0;break e}catch(m){}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&gn.Z.h.call(this)}}Zt.prototype.h=function(){this.defaultPrevented=!0},Re(gn,Zt);var Mn={2:"touch",3:"pen",4:"mouse"};gn.prototype.h=function(){gn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var mr="closure_listenable_"+(1e6*Math.random()|0),Tn=0;function hr(i,e,t,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ia=h,this.key=++Tn,this.ca=this.fa=!1}function $r(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function xi(i){this.src=i,this.g={},this.h=0}function fi(i,e){var t=e.type;if(t in i.g){var m,a=i.g[t],h=Wt(a,e);(m=0<=h)&&Array.prototype.splice.call(a,h,1),m&&($r(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Mi(i,e,t,a){for(var h=0;h<i.length;++h){var m=i[h];if(!m.ca&&m.listener==e&&m.capture==!!t&&m.ia==a)return h}return-1}xi.prototype.add=function(i,e,t,a,h){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var C=Mi(i,e,a,h);return-1<C?(e=i[C],t||(e.fa=!1)):((e=new hr(e,this.src,m,!!a,h)).fa=t,i.push(e)),e};var Li="closure_lm_"+(1e6*Math.random()|0),Or={};function Gr(i,e,t,a,h){if(a&&a.once)return pi(i,e,t,a,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Gr(i,e[m],t,a,h);return null}return t=Ir(t),i&&i[mr]?i.N(e,t,Ye(a)?!!a.capture:!!a,h):Vn(i,e,t,!1,a,h)}function Vn(i,e,t,a,h,m){if(!e)throw Error("Invalid event type");var C=Ye(h)?!!h.capture:!!h,P=Br(i);if(P||(i[Li]=P=new xi(i)),(t=P.add(e,t,a,C,m)).proxy)return t;if(a=function Lr(){var e=ri;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)Yt||(h=C),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent(Xi(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function pi(i,e,t,a,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)pi(i,e[m],t,a,h);return null}return t=Ir(t),i&&i[mr]?i.O(e,t,Ye(a)?!!a.capture:!!a,h):Vn(i,e,t,!0,a,h)}function Bi(i,e,t,a,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)Bi(i,e[m],t,a,h);else a=Ye(a)?!!a.capture:!!a,t=Ir(t),i&&i[mr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Mi(m=i.g[e],t,a,h))&&($r(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Br(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Mi(e,t,a,h)),(t=-1<i?e[i]:null)&&zi(t))}function zi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[mr])fi(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(Xi(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Br(e))?(fi(t,i),0==t.h&&(t.src=null,e[Li]=null)):$r(i)}}}function Xi(i){return i in Or?Or[i]:Or[i]="on"+i}function ri(i,e){if(i.ca)i=!0;else{e=new gn(e,this);var t=i.listener,a=i.ia||i.src;i.fa&&zi(i),i=t.call(a,e)}return i}function Br(i){return(i=i[Li])instanceof xi?i:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ir(i){return"function"==typeof i?i:(i[ar]||(i[ar]=function(e){return i.handleEvent(e)}),i[ar])}function zt(){Xe.call(this),this.i=new xi(this),this.P=this,this.I=null}function un(i,e){var t,a=i.I;if(a)for(t=[];a;a=a.I)t.push(a);if(i=i.P,a=e.type||e,"string"==typeof e)e=new Zt(e,i);else if(e instanceof Zt)e.target=e.target||i;else{var h=e;mt(e=new Zt(a,i),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var C=e.g=t[m];h=pe(C,a,!0,e)&&h}if(h=pe(C=e.g=i,a,!0,e)&&h,h=pe(C,a,!1,e)&&h,t)for(m=0;m<t.length;m++)h=pe(C=e.g=t[m],a,!1,e)&&h}function pe(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var C=e[m];if(C&&!C.ca&&C.capture==t){var P=C.listener,Y=C.ia||C.src;C.fa&&fi(i.i,C),h=!1!==P.call(Y,a)&&h}}return h&&!a.defaultPrevented}Re(zt,Xe),zt.prototype[mr]=!0,zt.prototype.removeEventListener=function(i,e,t,a){Bi(this,i,e,t,a)},zt.prototype.M=function(){if(zt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)$r(t[a]);delete i.g[e],i.h--}}this.I=null},zt.prototype.N=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},zt.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var xr=de.JSON.stringify;function jr(){var i=as;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Fn,li=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Mr,i=>i.reset());class Mr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ur(i){de.setTimeout(()=>{throw i},0)}function Pr(i,e){Fn||function os(){var i=de.Promise.resolve(void 0);Fn=function(){i.then(Ri)}}(),Di||(Fn(),Di=!0),as.add(i,e)}var Di=!1,as=new class lr{constructor(){this.h=this.g=null}add(e,t){const a=li.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Ri(){for(var i;i=jr();){try{i.h.call(i.g)}catch(t){ur(t)}var e=li;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Di=!1}function zr(i,e){zt.call(this),this.h=i||1,this.g=e||de,this.j=st(this.kb,this),this.l=Date.now()}function Oi(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function gi(i,e,t){if("function"==typeof i)t&&(i=st(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=st(i.handleEvent,i)}return 2147483647<Number(e)?-1:de.setTimeout(i,e||0)}function Q(i){i.g=gi(()=>{i.g=null,i.i&&(i.i=!1,Q(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Re(zr,zt),(Me=zr.prototype).da=!1,Me.S=null,Me.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),un(this,"tick"),this.da&&(Oi(this),this.start()))}},Me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Me.M=function(){zr.Z.M.call(this),Oi(this),delete this.g};class ge extends Xe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Q(this)}M(){super.M(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(i){Xe.call(this),this.h=i,this.g={}}Re(Qe,Xe);var ht=[];function Ie(i,e,t,a){Array.isArray(t)||(t&&(ht[0]=t.toString()),t=ht);for(var h=0;h<t.length;h++){var m=Gr(e,t[h],a||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Le(i){_r(i.g,function(e,t){this.g.hasOwnProperty(t)&&zi(e)},i),i.g={}}function ot(){this.g=!0}function Rt(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function En(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var C=1;C<h.length;C++)h[C]=""}}}return xr(t)}catch(P){return e}}(i,t)+(a?" "+a:"")})}Qe.prototype.M=function(){Qe.Z.M.call(this),Le(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ot.prototype.Aa=function(){this.g=!1},ot.prototype.info=function(){};var jn={},Qn=null;function qr(){return Qn=Qn||new zt}function Qi(i){Zt.call(this,jn.Ma,i)}function et(i){const e=qr();un(e,new Qi(e,i))}function Ze(i,e){Zt.call(this,jn.STAT_EVENT,i),this.stat=e}function yt(i){const e=qr();un(e,new Ze(e,i))}function $t(i,e){Zt.call(this,jn.Na,i),this.size=e}function en(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){i()},e)}jn.Ma="serverreachability",Re(Qi,Zt),jn.STAT_EVENT="statevent",Re(Ze,Zt),jn.Na="timingevent",Re($t,Zt);var yn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ti(){}function Qs(){}ti.prototype.h=null;var uo,Ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function es(){Zt.call(this,"d")}function xo(){Zt.call(this,"c")}function Ts(){}function zs(i,e,t,a){this.l=i,this.j=e,this.m=t,this.X=a||1,this.V=new Qe(this),this.P=Pi,this.W=new zr(i=an?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}Re(es,Zt),Re(xo,Zt),Re(Ts,ti),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},uo=new Ts;var Pi=45e3,Bs={},ls={};function Ei(i,e,t){i.K=1,i.v=Gt(U(e)),i.s=t,i.U=!0,so(i,null)}function so(i,e){i.F=Date.now(),Vi(i),i.A=U(i.v);var t=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),F(t.h,"t",a),i.C=0,t=i.l.H,i.h=new $o,i.g=yo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new ge(st(i.Ia,i,i.g),i.O)),Ie(i.V,i.g,"readystatechange",i.gb),e=i.H?qn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),et(1),function kt(i,e,t,a,h,m){i.info(function(){if(i.g)if(m)for(var C="",P=m.split("&"),Y=0;Y<P.length;Y++){var J=P[Y].split("=");if(1<J.length){var Ne=J[0];J=J[1];var it=Ne.split("_");C=2<=it.length&&"type"==it[1]?C+(Ne+"=")+J+"&":C+(Ne+"=redacted&")}}else C=null;else C=m;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+C})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Mo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ro(i,e,t){let h,a=!0;for(;!i.I&&i.C<t.length;){if(h=Ss(i,t),h==ls){4==e&&(i.o=4,yt(14),a=!1),Rt(i.j,i.m,null,"[Incomplete Response]");break}if(h==Bs){i.o=4,yt(15),Rt(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Rt(i.j,i.m,h,null),ii(i,h)}Mo(i)&&h!=ls&&h!=Bs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,yt(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ra(e),e.L=!0,yt(11))):(Rt(i.j,i.m,t,"[Invalid Chunked Response]"),As(i),ui(i))}function Ss(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?ls:(t=Number(e.substring(t,a)),isNaN(t)?Bs:(a+=1)+t>e.length?ls:(e=e.substr(a,t),i.C=a+t,e))}function Vi(i){i.Y=Date.now()+i.P,us(i,i.P)}function us(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=en(st(i.eb,i),e)}function Ui(i){i.B&&(de.clearTimeout(i.B),i.B=null)}function ui(i){0==i.l.G||i.I||Zo(i.l,i)}function As(i){Ui(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Oi(i.W),Le(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ii(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Tt(t.i,i)))if(t.I=i.N,!i.J&&Tt(t.i,i)&&3==t.G){try{var a=t.Ca.g.parse(e)}catch(J){a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0])e:if(t.u)t.ta=h[1],0<t.ta-t.U&&37500>h[2]&&t.N&&0==t.A&&!t.v&&(t.v=en(st(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Sl(t),Hi(t)}ko(t),yt(18)}if(1>=ie(t.i)&&t.ka){try{t.ka()}catch(J){}t.ka=void 0}}else Xo(t,11)}else if((i.J||t.g==i)&&Sl(t),!On(e))for(h=t.Ca.g.parse(e),e=0;e<h.length;e++){let J=h[e];if(t.U=J[0],J=J[1],2==t.G)if("c"==J[0]){t.J=J[1],t.la=J[2];const Ne=J[3];null!=Ne&&(t.ma=Ne,t.h.info("VER="+t.ma));const it=J[4];null!=it&&(t.za=it,t.h.info("SVER="+t.za));const Ot=J[5];null!=Ot&&"number"==typeof Ot&&0<Ot&&(t.K=a=1.5*Ot,t.h.info("backChannelRequestTimeoutMs_="+a)),a=t;const Qt=i.g;if(Qt){const nn=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var m=a.i;!m.g&&(zn(nn,"spdy")||zn(nn,"quic")||zn(nn,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(sn(m,m.h),m.h=null))}if(a.D){const Nn=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Nn&&(a.sa=Nn,It(a.F,a.D,Nn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var C=i;if((a=t).oa=Qo(a,a.H?a.la:null,a.W),C.J){Dn(a.i,C);var P=C,Y=a.K;Y&&P.setTimeout(Y),P.B&&(Ui(P),Vi(P)),a.g=C}else Xa(a);0<t.l.length&&tc(t)}else"stop"!=J[0]&&"close"!=J[0]||Xo(t,7);else 3==t.G&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?Xo(t,7):No(t):"noop"!=J[0]&&t.j&&t.j.wa(J),t.A=0)}et(4)}catch(J){}}function $i(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ue(i)||"string"==typeof i)vn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ue(i)||"string"==typeof i){t=[];for(var a=i.length,h=0;h<a;h++)t.push(h)}else for(h in t=[],a=0,i)t[a++]=h;a=function co(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ue(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),h=a.length;for(var m=0;m<h;m++)e.call(void 0,a[m],t&&t[m],i)}}function xs(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var a=0;a<t;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof xs)for(t=i.T(),a=0;a<t.length;a++)this.set(t[a],i.get(t[a]));else for(a in i)this.set(a,i[a])}function Vs(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var a=i.g[e];cs(i.h,a)&&(i.g[t++]=a),e++}i.g.length=t}if(i.i!=i.g.length){var h={};for(t=e=0;e<i.g.length;)cs(h,a=i.g[e])||(i.g[t++]=a,h[a]=1),e++;i.g.length=t}}function cs(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Me=zs.prototype).setTimeout=function(i){this.P=i},Me.gb=function(i){i=i.target;const e=this.L;e&&3==Ws(i)?e.l():this.Ia(i)},Me.Ia=function(i){try{if(i==this.g)e:{const Ne=Ws(this.g);var e=this.g.Da();const it=this.g.ba();if(!(3>Ne)&&(3!=Ne||an||this.g&&(this.h.h||this.g.ga()||Il(this.g)))){this.I||4!=Ne||7==e||et(8==e||0>=it?3:2),Ui(this);var t=this.g.ba();this.N=t;t:if(Mo(this)){var a=Il(this.g);i="";var h=a.length,m=4==Ws(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){As(this),ui(this);var C="";break t}this.h.i=new de.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:m&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==t,function Mt(i,e,t,a,h,m,C){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+C})}(this.j,this.u,this.A,this.m,this.X,Ne,t),this.i){if(this.$&&!this.J){t:{if(this.g){var P,Y=this.g;if((P=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(P)){var J=P;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,yt(12),As(this),ui(this);break e}Rt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ii(this,t)}this.U?(Ro(this,Ne,C),an&&this.i&&3==Ne&&(Ie(this.V,this.W,"tick",this.fb),this.W.start())):(Rt(this.j,this.m,C,null),ii(this,C)),4==Ne&&As(this),this.i&&!this.I&&(4==Ne?Zo(this.l,this):(this.i=!1,Vi(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,yt(12)):(this.o=0,yt(13)),As(this),ui(this)}}}catch(Ne){}},Me.fb=function(){if(this.g){var i=Ws(this.g),e=this.g.ga();this.C<e.length&&(Ui(this),Ro(this,i,e),this.i&&4!=i&&Vi(this))}},Me.cancel=function(){this.I=!0,As(this)},Me.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function dn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(et(3),yt(17)),As(this),this.o=2,ui(this)):us(this,this.Y-i)},(Me=xs.prototype).R=function(){Vs(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Me.T=function(){return Vs(this),this.g.concat()},Me.get=function(i,e){return cs(this.h,i)?this.h[i]:e},Me.set=function(i,e){cs(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Me.forEach=function(i,e){for(var t=this.T(),a=0;a<t.length;a++){var h=t[a],m=this.get(h);i.call(e,m,h,this)}};var Kr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rr(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Rr){this.g=void 0!==e?e:i.g,re(this,i.j),this.s=i.s,$(this,i.i),ce(this,i.m),this.l=i.l,e=i.h;var t=new kn;t.i=e.i,e.g&&(t.g=new xs(e.g),t.h=e.h),Ke(this,t),this.o=i.o}else i&&(t=String(i).match(Kr))?(this.g=!!e,re(this,t[1]||"",!0),this.s=Er(t[2]||""),$(this,t[3]||"",!0),ce(this,t[4]),this.l=Er(t[5]||"",!0),Ke(this,t[6]||"",!0),this.o=Er(t[7]||"")):(this.g=!!e,this.h=new kn(null,this.g))}function U(i){return new Rr(i)}function re(i,e,t){i.j=t?Er(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function $(i,e,t){i.i=t?Er(e,!0):e}function ce(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ke(i,e,t){e instanceof kn?(i.h=e,function Lt(i,e){e&&!i.j&&(ji(i),i.i=null,i.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(H(this,a),F(this,h,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Hn(e,ts)),i.h=new kn(e,i.g))}function It(i,e,t){i.h.set(e,t)}function Gt(i){return It(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Er(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Hn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ir),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ir(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Rr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Hn(e,ci,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Hn(e,ci,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Hn(t,"/"==t.charAt(0)?Jr:Vr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Hn(t,ns)),i.join("")};var ci=/[#\/\?@]/g,Vr=/[#\?:]/g,Jr=/[#\?]/g,ts=/[#\?@]/g,ns=/#/g;function kn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ji(i){i.g||(i.g=new xs,i.h=0,i.i&&function jo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),h=null;if(0<=a){var m=i[t].substring(0,a);h=i[t].substring(a+1)}else m=i[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function H(i,e){ji(i),e=ae(i,e),cs(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,cs((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Vs(i)))}function V(i,e){return ji(i),e=ae(i,e),cs(i.g.h,e)}function F(i,e,t){H(i,e),0<t.length&&(i.i=null,i.g.set(ae(i,e),cn(t)),i.h+=t.length)}function ae(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function N(i){this.l=i||b,i=de.PerformanceNavigationTiming?0<(i=de.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(de.g&&de.g.Ea&&de.g.Ea()&&de.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Me=kn.prototype).add=function(i,e){ji(this),this.i=null,i=ae(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Me.forEach=function(i,e){ji(this),this.g.forEach(function(t,a){vn(t,function(h){i.call(e,h,a,this)},this)},this)},Me.T=function(){ji(this);for(var i=this.g.R(),e=this.g.T(),t=[],a=0;a<e.length;a++)for(var h=i[a],m=0;m<h.length;m++)t.push(e[a]);return t},Me.R=function(i){ji(this);var e=[];if("string"==typeof i)V(this,i)&&(e=In(e,this.g.get(ae(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=In(e,i[t])}return e},Me.set=function(i,e){return ji(this),this.i=null,V(this,i=ae(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Me.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var a=e[t],h=encodeURIComponent(String(a));a=this.R(a);for(var m=0;m<a.length;m++){var C=h;""!==a[m]&&(C+="="+encodeURIComponent(String(a[m]))),i.push(C)}}return this.i=i.join("&")};var b=10;function j(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ie(i){return i.h?1:i.g?i.g.size:0}function Tt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function sn(i,e){i.g?i.g.add(e):i.h=e}function Dn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function cr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return cn(i.i)}function Zn(){}function Wi(){this.g=new Zn}function qi(i,e,t){const a=t||"";try{$i(i,function(h,m){let C=h;Ye(h)&&(C=xr(h)),e.push(a+m+"="+encodeURIComponent(C))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function Ms(i,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch(m){}}function si(i){this.l=i.$b||null,this.j=i.ib||!1}function rs(i,e){zt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}N.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Zn.prototype.stringify=function(i){return de.JSON.stringify(i,void 0)},Zn.prototype.parse=function(i){return de.JSON.parse(i,void 0)},Re(si,ti),si.prototype.g=function(){return new rs(this.l,this.j)},si.prototype.i=function(i){return function(){return i}}({}),Re(rs,zt);var vs=0;function Oo(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Js(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Aa(i)}function Aa(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Me=rs.prototype).open=function(i,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Aa(this)},Me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||de).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Js(this)),this.readyState=vs},Me.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==de.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oo(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Me.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Js(this):Aa(this),3==this.readyState&&Oo(this)}},Me.Ua=function(i){this.g&&(this.response=this.responseText=i,Js(this))},Me.Ta=function(i){this.g&&(this.response=i,Js(this))},Me.ha=function(){this.g&&Js(this)},Me.setRequestHeader=function(i,e){this.v.append(i,e)},Me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Gl=de.JSON.parse;function Ki(i){zt.call(this),this.headers=new xs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mo,this.K=this.L=!1}Re(Ki,zt);var mo="",_l=/^https?$/i,vl=["POST","PUT"];function bl(i){return"content-type"==i.toLowerCase()}function Ju(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,qa(i),Po(i)}function qa(i){i.D||(i.D=!0,un(i,"complete"),un(i,"error"))}function xa(i){if(i.h&&void 0!==Te&&(!i.C[1]||4!=Ws(i)||2!=i.ba()))if(i.v&&4==Ws(i))gi(i.Fa,0,i);else if(un(i,"readystatechange"),4==Ws(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===P){var h=String(i.H).match(Kr)[1]||null;if(!h&&de.self&&de.self.location){var m=de.self.location.protocol;h=m.substr(0,m.length-1)}a=!_l.test(h?h.toLowerCase():"")}t=a}if(t)un(i,"complete"),un(i,"success");else{i.m=6;try{var C=2<Ws(i)?i.g.statusText:""}catch(Y){C=""}i.j=C+" ["+i.ba()+"]",qa(i)}}finally{Po(i)}}}function Po(i,e){if(i.g){wl(i);const t=i.g,a=i.C[0]?ye:null;i.g=null,i.C=null,e||un(i,"ready");try{t.onreadystatechange=a}catch(h){}}}function wl(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(de.clearTimeout(i.A),i.A=null)}function Ws(i){return i.g?i.g.readyState:0}function Il(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case mo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Dl(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=function Cl(i){let e="";return _r(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):It(i,e,t))}function Ka(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Rs(i){this.za=0,this.l=[],this.h=new ot,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ka("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ka("baseRetryDelayMs",5e3,i),this.$a=Ka("retryDelaySeedMs",1e4,i),this.Ya=Ka("forwardChannelMaxRetries",2,i),this.ra=Ka("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new N(i&&i.concurrentRequestLimit),this.Ca=new Wi,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function No(i){if(ec(i),3==i.G){var e=i.V++,t=U(i.F);It(t,"SID",i.J),It(t,"RID",e),It(t,"TYPE","terminate"),Za(i,t),(e=new zs(i,i.h,e,void 0)).K=2,e.v=Gt(U(t)),t=!1,de.navigator&&de.navigator.sendBeacon&&(t=de.navigator.sendBeacon(e.v.toString(),"")),!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=yo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vi(e)}Oa(i)}function Hi(i){i.g&&(Ra(i),i.g.cancel(),i.g=null)}function ec(i){Hi(i),i.u&&(de.clearTimeout(i.u),i.u=null),Sl(i),i.i.cancel(),i.m&&("number"==typeof i.m&&de.clearTimeout(i.m),i.m=null)}function Ya(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&tc(i)}function tc(i){j(i.i)||i.m||(i.m=!0,Pr(i.Ha,i),i.C=0)}function Ma(i,e){var t;t=e?e.m:i.V++;const a=U(i.F);It(a,"SID",i.J),It(a,"RID",t),It(a,"AID",i.U),Za(i,a),i.o&&i.s&&Dl(a,i.o,i.s),t=new zs(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Tl(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),sn(i.i,t),Ei(t,a,e)}function Za(i,e){i.j&&$i({},function(t,a){It(e,a,t)})}function Tl(i,e,t){t=Math.min(i.l.length,t);var a=i.j?st(i.j.Oa,i.j,i):null;e:{var h=i.l;let m=-1;for(;;){const C=["count="+t];-1==m?0<t?(m=h[0].h,C.push("ofs="+m)):m=0:C.push("ofs="+m);let P=!0;for(let Y=0;Y<t;Y++){let J=h[Y].h;const Ne=h[Y].g;if(J-=m,0>J)m=Math.max(0,h[Y].h-100),P=!1;else try{qi(Ne,C,"req"+J+"_")}catch(it){a&&a(Ne)}}if(P){a=C.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,a}function Xa(i){i.g||i.u||(i.Y=1,Pr(i.Ga,i),i.A=0)}function ko(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=en(st(i.Ga,i),Es(i,i.A)),i.A++,0))}function Ra(i){null!=i.B&&(de.clearTimeout(i.B),i.B=null)}function fs(i){i.g=new zs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=U(i.oa);It(e,"RID","rpc"),It(e,"SID",i.J),It(e,"CI",i.N?"0":"1"),It(e,"AID",i.U),Za(i,e),It(e,"TYPE","xmlhttp"),i.o&&i.s&&Dl(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Gt(U(e)),t.s=null,t.U=!0,so(t,i)}function Sl(i){null!=i.v&&(de.clearTimeout(i.v),i.v=null)}function Zo(i,e){var t=null;if(i.g==e){Sl(i),Ra(i),i.g=null;var a=2}else{if(!Tt(i.i,e))return;t=e.D,Dn(i.i,e),a=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;un(a=qr(),new $t(a,t,e,h)),tc(i)}else Xa(i);else if(3==(h=e.o)||0==h&&0<i.I||!(1==a&&function zc(i,e){return!(ie(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=en(st(i.Ha,i,e),Es(i,i.C)),i.C++,0)))}(i,e)||2==a&&ko(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),h){case 1:Xo(i,5);break;case 4:Xo(i,10);break;case 3:Xo(i,6);break;default:Xo(i,2)}}function Es(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Xo(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var a=st(i.jb,i);t||(t=new Rr("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||re(t,"https"),Gt(t)),function Ti(i,e){const t=new ot;if(de.Image){const a=new Image;a.onload=gt(Ms,t,a,"TestLoadImage: loaded",!0,e),a.onerror=gt(Ms,t,a,"TestLoadImage: error",!1,e),a.onabort=gt(Ms,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=gt(Ms,t,a,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else yt(2);i.G=0,i.j&&i.j.va(e),Oa(i),ec(i)}function Oa(i){i.G=0,i.I=-1,i.j&&((0!=cr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,cn(i.l),i.l.length=0),i.j.ua())}function Qo(i,e,t){let a=function Cn(i){return i instanceof Rr?U(i):new Rr(i,void 0)}(t);if(""!=a.i)e&&$(a,e+"."+a.i),ce(a,a.m);else{const h=de.location;a=function Kn(i,e,t,a){var h=new Rr(null,void 0);return i&&re(h,i),e&&$(h,e),t&&ce(h,t),a&&(h.l=a),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,t)}return i.aa&&_r(i.aa,function(h,m){It(a,m,h)}),t=i.sa,(e=i.D)&&t&&It(a,e,t),It(a,"VER",i.ma),Za(i,a),a}function yo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ki(t&&i.Ba&&!i.qa?new si({ib:!0}):i.qa)).L=i.H,e}function ha(){}function bu(){if(At&&!(10<=Number(ct)))throw Error("Environmental error: no available transport.")}function _o(i,e){zt.call(this),this.g=new Rs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!On(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!On(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Fo(this)}function Wc(i){es.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function qs(){xo.call(this),this.status=1}function Fo(i){this.g=i}(Me=Ki.prototype).ea=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uo.g(),this.C=function pr(i){return i.h||(i.h=i.i())}(this.u?this.u:uo),this.g.onreadystatechange=st(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void Ju(this,m)}i=t||"";const h=new xs(this.headers);a&&$i(a,function(m,C){h.set(C,m)}),a=function Rn(i){e:{var e=bl;const t=i.length,a="string"==typeof i?i.split(""):i;for(let h=0;h<t;h++)if(h in a&&e.call(void 0,a[h],h,i)){e=h;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(h.T()),t=de.FormData&&i instanceof de.FormData,!(0<=Wt(vl,e))||a||t||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(m,C){this.g.setRequestHeader(C,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wl(this),0<this.B&&((this.K=function El(i){return At&&function qe(){return function De(i){var e=He;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Sr(String(Qr)).split("."),t=Sr("9").split("."),a=Math.max(e.length,t.length);for(let C=0;0==i&&C<a;C++){var h=e[C]||"",m=t[C]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;i=nr(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||nr(0==h[2].length,0==m[2].length)||nr(h[2],m[2]),h=h[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.pa,this)):this.A=gi(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Ju(this,m)}},Me.pa=function(){void 0!==Te&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))},Me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,un(this,"complete"),un(this,"abort"),Po(this))},Me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Po(this,!0)),Ki.Z.M.call(this)},Me.Fa=function(){this.s||(this.F||this.v||this.l?xa(this):this.cb())},Me.cb=function(){xa(this)},Me.ba=function(){try{return 2<Ws(this)?this.g.status:-1}catch(i){return-1}},Me.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Me.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Gl(e)}},Me.Da=function(){return this.m},Me.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Me=Rs.prototype).ma=8,Me.G=1,Me.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Me.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const h=new zs(this,this.h,i,void 0);let m=this.s;if(this.P&&(m?(m=qn(m),mt(m,this.P)):m=this.P),null===this.o&&(h.H=m),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var a=this.l[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Tl(this,h,e),It(t=U(this.F),"RID",i),It(t,"CVER",22),this.D&&It(t,"X-HTTP-Session-Id",this.D),Za(this,t),this.o&&m&&Dl(t,this.o,m),sn(this.i,h),this.Ra&&It(t,"TYPE","init"),this.ja?(It(t,"$req",e),It(t,"SID","null"),h.$=!0,Ei(h,t,null)):Ei(h,t,e),this.G=2}}else 3==this.G&&(i?Ma(this,i):0==this.l.length||j(this.i)||Ma(this))},Me.Ga=function(){if(this.u=null,fs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=en(st(this.bb,this),i)}},Me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yt(10),Hi(this),fs(this))},Me.ab=function(){null!=this.v&&(this.v=null,Hi(this),ko(this),yt(19))},Me.jb=function(i){i?(this.h.info("Successfully pinged google.com"),yt(2)):(this.h.info("Failed to ping google.com"),yt(1))},(Me=ha.prototype).xa=function(){},Me.wa=function(){},Me.va=function(){},Me.ua=function(){},Me.Oa=function(){},bu.prototype.g=function(i,e){return new _o(i,e)},Re(_o,zt),_o.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Pr(st(i.hb,i,e))),yt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Qo(i,null,i.W),tc(i)},_o.prototype.close=function(){No(this.g)},_o.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ya(this.g,e)}else this.v?((e={}).__data__=xr(i),Ya(this.g,e)):Ya(this.g,i)},_o.prototype.M=function(){this.g.j=null,delete this.j,No(this.g),delete this.g,_o.Z.M.call(this)},Re(Wc,es),Re(qs,xo),Re(Fo,ha),Fo.prototype.xa=function(){un(this.g,"a")},Fo.prototype.wa=function(i){un(this.g,new Wc(i))},Fo.prototype.va=function(i){un(this.g,new qs(i))},Fo.prototype.ua=function(){un(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,_o.prototype.send=_o.prototype.u,_o.prototype.open=_o.prototype.m,_o.prototype.close=_o.prototype.close,yn.NO_ERROR=0,yn.TIMEOUT=8,yn.HTTP_ERROR=6,fr.COMPLETE="complete",Qs.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",zt.prototype.listen=zt.prototype.N,Ki.prototype.listenOnce=Ki.prototype.O,Ki.prototype.getLastError=Ki.prototype.La,Ki.prototype.getLastErrorCode=Ki.prototype.Da,Ki.prototype.getStatus=Ki.prototype.ba,Ki.prototype.getResponseJson=Ki.prototype.Qa,Ki.prototype.getResponseText=Ki.prototype.ga,Ki.prototype.send=Ki.prototype.ea;var wu=ve.createWebChannelTransport=function(){return new bu},Ks=ve.getStatEventTarget=function(){return qr()},Al=ve.ErrorCode=yn,Jo=ve.EventType=fr,bs=ve.Event=jn,xl=ve.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ni=ve.FetchXmlHttpFactory=si,fa=ve.WebChannel=Qs,Pa=ve.XhrIo=Ki;const Iu="@firebase/firestore";class ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");let pa="9.8.0";const ea=new xt.Yd("@firebase/firestore");function Ml(){return ea.logLevel}function tn(i,...e){if(ea.logLevel<=xt.in.DEBUG){const t=e.map(Os);ea.debug(`Firestore (${pa}): ${i}`,...t)}}function mi(i,...e){if(ea.logLevel<=xt.in.ERROR){const t=e.map(Os);ea.error(`Firestore (${pa}): ${i}`,...t)}}function vo(i,...e){if(ea.logLevel<=xt.in.WARN){const t=e.map(Os);ea.warn(`Firestore (${pa}): ${i}`,...t)}}function Os(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Pn(i="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+i;throw mi(e),new Error(e)}function Jn(i,e){i||Pn()}function S(i,e){return i}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends nt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ue{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ps.UNAUTHENTICATED))}shutdown(){}}class Je{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bt{constructor(e){this.t=e,this.currentUser=ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const m=J=>this.i!==h?(h=this.i,t(J)):Promise.resolve();let C=new z;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new z,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const J=C;e.enqueueRetryable((0,we.Z)(function*(){yield J.promise,yield m(a.currentUser)}))},Y=J=>{tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(J=>Y(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?Y(J):(tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new z)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Jn("string"==typeof a.accessToken),new ue(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jn(null===e||"string"==typeof e),new ps(e)}}class xn{constructor(e,t,a){this.type="FirstParty",this.user=ps.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),a&&this.headers.set("X-Goog-Iam-Authorization-Token",a)}}class Cr{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new xn(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const a=m=>{null!=m.error&&tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const C=m.token!==this.p;return this.p=m.token,tn("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.g.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.g.getImmediate({optional:!0});m?h(m):tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jn("string"==typeof t.token),this.p=t.token,new Bn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class yi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.I(a),this.T=a=>t.writeSequenceNumber(a))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function eo(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}yi.A=-1;class ga{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const h=eo(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<t&&(a+=e.charAt(h[m]%e.length))}return a}}function sr(i,e){return i<e?-1:i>e?1:0}function to(i,e,t){return i.length===e.length&&i.every((a,h)=>t(a,e[h]))}function ma(i){return i+"\0"}class gs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gs.fromMillis(Date.now())}static fromDate(e){return gs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new gs(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xn(e)}static min(){return new Xn(new gs(0,0))}static max(){return new Xn(new gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ds(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function zl(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ch(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ka{constructor(e,t,a){void 0===t?t=0:t>e.length&&Pn(),void 0===a?a=e.length-t:a>e.length-t&&Pn(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===ka.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const m=e.get(h),C=t.get(h);if(m<C)return-1;if(m>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xr extends ka{construct(e,t,a){return new Xr(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new M(w.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new Xr(t)}static emptyPath(){return new Xr([])}}const Wl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ws extends ka{construct(e,t,a){return new ws(e,t,a)}static isValidIdentifier(e){return Wl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ws.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ws(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const m=()=>{if(0===a.length)throw new M(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let C=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new M(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[h+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new M(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=Y,h+=2}else"`"===P?(C=!C,h++):"."!==P||C?(a+=P,h++):(m(),h++)}if(m(),C)throw new M(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ws(t)}static emptyPath(){return new ws([])}}class ql{constructor(e){this.fields=e,e.sort(ws.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new is(t)}static fromUint8Array(e){const t=function(a){let h="";for(let m=0;m<a.length;++m)h+=String.fromCharCode(a[m]);return h}(e);return new is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const ms=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(i){if(Jn(!!i),"string"==typeof i){let e=0;const t=ms.exec(i);if(Jn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vr(i.seconds),nanos:vr(i.nanos)}}function vr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ya(i){return"string"==typeof i?is.fromBase64String(i):is.fromUint8Array(i)}function La(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ss(i){const e=i.mapValue.fields.__previous_value__;return La(e)?ss(e):e}function ni(i){const e=Ho(i.mapValue.fields.__local_write_time__.timestampValue);return new gs(e.seconds,e.nanos)}class Rl{constructor(e,t,a,h,m,C,P,Y){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=C,this.autoDetectLongPolling=P,this.useFetchStreams=Y}}class Us{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}function ta(i){return null==i}function Ys(i){return 0===i&&1/i==-1/0}function Eo(i){return"number"==typeof i&&Number.isInteger(i)&&!Ys(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(Xr.fromString(e))}static fromName(e){return new fn(Xr.fromString(e).popFirst(5))}static empty(){return new fn(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new Xr(e.slice()))}}const Qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ol={nullValue:"NULL_VALUE"};function _a(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?La(i)?4:B(i)?9007199254740991:10:Pn()}function Si(i,e){if(i===e)return!0;const t=_a(i);if(t!==_a(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ni(i).isEqual(ni(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const m=Ho(a.timestampValue),C=Ho(h.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,ya(i.bytesValue).isEqual(ya(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,h){return vr(a.geoPointValue.latitude)===vr(h.geoPointValue.latitude)&&vr(a.geoPointValue.longitude)===vr(h.geoPointValue.longitude)}(i,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return vr(a.integerValue)===vr(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const m=vr(a.doubleValue),C=vr(h.doubleValue);return m===C?Ys(m)===Ys(C):isNaN(m)&&isNaN(C)}return!1}(i,e);case 9:return to(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(a,h){const m=a.mapValue.fields||{},C=h.mapValue.fields||{};if(ds(m)!==ds(C))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===C[P]||!Si(m[P],C[P])))return!1;return!0}(i,e);default:return Pn()}var h}function ki(i,e){return void 0!==(i.values||[]).find(t=>Si(t,e))}function ho(i,e){if(i===e)return 0;const t=_a(i),a=_a(e);if(t!==a)return sr(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return sr(i.booleanValue,e.booleanValue);case 2:return function(h,m){const C=vr(h.integerValue||h.doubleValue),P=vr(m.integerValue||m.doubleValue);return C<P?-1:C>P?1:C===P?0:isNaN(C)?isNaN(P)?0:-1:1}(i,e);case 3:return Dh(i.timestampValue,e.timestampValue);case 4:return Dh(ni(i),ni(e));case 5:return sr(i.stringValue,e.stringValue);case 6:return function(h,m){const C=ya(h),P=ya(m);return C.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(h,m){const C=h.split("/"),P=m.split("/");for(let Y=0;Y<C.length&&Y<P.length;Y++){const J=sr(C[Y],P[Y]);if(0!==J)return J}return sr(C.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,m){const C=sr(vr(h.latitude),vr(m.latitude));return 0!==C?C:sr(vr(h.longitude),vr(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,m){const C=h.values||[],P=m.values||[];for(let Y=0;Y<C.length&&Y<P.length;++Y){const J=ho(C[Y],P[Y]);if(J)return J}return sr(C.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Qa.mapValue&&m===Qa.mapValue)return 0;if(h===Qa.mapValue)return 1;if(m===Qa.mapValue)return-1;const C=h.fields||{},P=Object.keys(C),Y=m.fields||{},J=Object.keys(Y);P.sort(),J.sort();for(let Ne=0;Ne<P.length&&Ne<J.length;++Ne){const it=sr(P[Ne],J[Ne]);if(0!==it)return it;const Ot=ho(C[P[Ne]],Y[J[Ne]]);if(0!==Ot)return Ot}return sr(P.length,J.length)}(i.mapValue,e.mapValue);default:throw Pn()}}function Dh(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return sr(i,e);const t=Ho(i),a=Ho(e),h=sr(t.seconds,a.seconds);return 0!==h?h:sr(t.nanos,a.nanos)}function Lo(i){return Cu(i)}function Cu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const h=Ho(a);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ya(i.bytesValue).toBase64():"referenceValue"in i?fn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let h="[",m=!0;for(const C of a.values||[])m?m=!1:h+=",",h+=Cu(C);return h+"]"}(i.arrayValue):"mapValue"in i?function(a){const h=Object.keys(a.fields||{}).sort();let m="{",C=!0;for(const P of h)C?C=!1:m+=",",m+=`${P}:${Cu(a.fields[P])}`;return m+"}"}(i.mapValue):Pn();var e}function Bo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Kl(i){return!!i&&"integerValue"in i}function Yl(i){return!!i&&"arrayValue"in i}function Ja(i){return!!i&&"nullValue"in i}function va(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zl(i){return!!i&&"mapValue"in i}function fo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return zl(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=fo(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function B(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function G(i){return"nullValue"in i?Ol:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Bo(Us.empty(),fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Pn()}function le(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Bo(Us.empty(),fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Qa:Pn()}function Be(i,e){const t=ho(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function vt(i,e){const t=ho(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Zl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(t)}setAll(e){let t=ws.emptyPath(),a={},h=[];e.forEach((C,P)=>{if(!t.isImmediateParentOf(P)){const Y=this.getFieldsMap(t);this.applyChanges(Y,a,h),a={},h=[],t=P.popLast()}C?a[P.lastSegment()]=fo(C):h.push(P.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,a,h)}delete(e){const t=this.field(e.popLast());Zl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];Zl(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){zl(t,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new Dt(fo(this.value))}}function on(i){const e=[];return zl(i.fields,(t,a)=>{const h=new ws([t]);if(Zl(a)){const m=on(a.mapValue).fields;if(0===m.length)e.push(h);else for(const C of m)e.push(h.child(C))}else e.push(h)}),new ql(e)}class hn{constructor(e,t,a,h,m,C){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.data=m,this.documentState=C}static newInvalidDocument(e){return new hn(e,0,Xn.min(),Xn.min(),Dt.empty(),0)}static newFoundDocument(e,t,a){return new hn(e,1,t,Xn.min(),a,0)}static newNoDocument(e,t){return new hn(e,2,t,Xn.min(),Dt.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Xn.min(),Dt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class or{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function er(i){return i.fields.find(e=>2===e.kind)}function Nr(i){return i.fields.filter(e=>2!==e.kind)}or.UNKNOWN_ID=-1;class dr{constructor(e,t){this.fieldPath=e,this.kind=t}}class ei{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ei(0,po.min())}}function Ps(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=Xn.fromTimestamp(1e9===a?new gs(t+1,0):new gs(t,a));return new po(h,fn.empty(),e)}function el(i){return new po(i.readTime,i.key,-1)}class po{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new po(Xn.min(),fn.empty(),-1)}static max(){return new po(Xn.max(),fn.empty(),-1)}}function na(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=fn.comparator(i.documentKey,e.documentKey),0!==t?t:sr(i.largestBatchId,e.largestBatchId))}class bi{constructor(e,t){this.comparator=e,this.root=t||ys.EMPTY}insert(e,t){return new bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?a(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ys{constructor(e,t,a,h,m){this.key=e,this.value=t,this.color=null!=a?a:ys.RED,this.left=null!=h?h:ys.EMPTY,this.right=null!=m?m:ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,m){return new ys(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return ys.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();const e=this.left.check();if(e!==this.right.check())throw Pn();return e+(this.isRed()?0:1)}}ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1,ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(i,e,t,a,h){return this}insert(i,e,t){return new ys(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oi{constructor(e){this.comparator=e,this.data=new bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xl(this.data.getIterator())}getIteratorFrom(e){return new Xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new oi(this.comparator);return t.data=e,t}}class Xl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ql(i){return i.hasNext()?i.getNext():void 0}class Jl{constructor(e,t=null,a=[],h=[],m=null,C=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=C,this.endAt=P,this.P=null}}function If(i,e=null,t=[],a=[],h=null,m=null,C=null){return new Jl(i,e,t,a,h,m,C)}function Pl(i){const e=S(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(h=a).field.canonicalString()+h.op.toString()+Lo(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),ta(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Lo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Lo(a)).join(",")),e.P=t}return e.P}function tl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!ic(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((t=i.filters[h]).op!==(a=e.filters[h]).op||!t.field.isEqual(a.field)||!Si(t.value,a.value))return!1;var t,a;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Tu(i.startAt,e.startAt)&&Tu(i.endAt,e.endAt)}function nc(i){return fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function rc(i,e){return i.filters.filter(t=>t instanceof $s&&t.field.isEqual(e))}function Od(i,e,t){let a=Ol,h=!0;for(const m of rc(i,e)){let C=Ol,P=!0;switch(m.op){case"<":case"<=":C=G(m.value);break;case"==":case"in":case">=":C=m.value;break;case">":C=m.value,P=!1;break;case"!=":case"not-in":C=Ol}Be({value:a,inclusive:h},{value:C,inclusive:P})<0&&(a=C,h=P)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const C=t.position[m];Be({value:a,inclusive:h},{value:C,inclusive:t.inclusive})<0&&(a=C,h=t.inclusive);break}return{value:a,inclusive:h}}function Du(i,e,t){let a=Qa,h=!0;for(const m of rc(i,e)){let C=Qa,P=!0;switch(m.op){case">=":case">":C=le(m.value),P=!1;break;case"==":case"in":case"<=":C=m.value;break;case"<":C=m.value,P=!1;break;case"!=":case"not-in":C=Qa}vt({value:a,inclusive:h},{value:C,inclusive:P})>0&&(a=C,h=P)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const C=t.position[m];vt({value:a,inclusive:h},{value:C,inclusive:t.inclusive})>0&&(a=C,h=t.inclusive);break}return{value:a,inclusive:h}}class $s extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,a):new Hp(e,t,a):"array-contains"===t?new Gp(e,a):"in"===t?new zp(e,a):"not-in"===t?new Pd(e,a):"array-contains-any"===t?new eu(e,a):new $s(e,t,a)}static V(e,t,a){return"in"===t?new Cf(e,a):new Th(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ho(t,this.value)):null!==t&&_a(this.value)===_a(t)&&this.v(ho(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hp extends $s{constructor(e,t,a){super(e,t,a),this.key=fn.fromName(a.referenceValue)}matches(e){const t=fn.comparator(e.key,this.key);return this.v(t)}}class Cf extends $s{constructor(e,t){super(e,"in",t),this.keys=Sh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Th extends $s{constructor(e,t){super(e,"not-in",t),this.keys=Sh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sh(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>fn.fromName(a.referenceValue))}class Gp extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yl(t)&&ki(t.arrayValue,this.value)}}class zp extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ki(this.value.arrayValue,t)}}class Pd extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ki(this.value.arrayValue,t)}}class eu extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>ki(this.value.arrayValue,a))}}class ia{constructor(e,t){this.position=e,this.inclusive=t}}class tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ic(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function qc(i,e,t){let a=0;for(let h=0;h<i.position.length;h++){const m=e[h],C=i.position[h];if(a=m.field.isKeyField()?fn.comparator(fn.fromName(C.referenceValue),t.key):ho(C,t.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function Tu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Si(i.position[t],e.position[t]))return!1;return!0}class Nl{constructor(e,t=null,a=[],h=[],m=null,C="F",P=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=C,this.startAt=P,this.endAt=Y,this.D=null,this.C=null}}function Kc(i,e,t,a,h,m,C,P){return new Nl(i,e,t,a,h,m,C,P)}function nl(i){return new Nl(i)}function Nd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function sc(i){for(const e of i.filters)if(e.S())return e.field;return null}function Yc(i){return null!==i.collectionGroup}function oc(i){const e=S(i);if(null===e.D){e.D=[];const t=sc(e),a=Nd(e);if(null!==t&&null===a)t.isKeyField()||e.D.push(new tu(t)),e.D.push(new tu(ws.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.D.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new tu(ws.keyField(),m))}}}return e.D}function Go(i){const e=S(i);if(!e.C)if("F"===e.limitType)e.C=If(e.path,e.collectionGroup,oc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of oc(e))t.push(new tu(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new ia(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new ia(e.startAt.position,e.startAt.inclusive):null;e.C=If(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e.C}function Tf(i,e,t){return new Nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ac(i,e){return tl(Go(i),Go(e))&&i.limitType===e.limitType}function Ah(i){return`${Pl(Go(i))}|lt:${i.limitType}`}function Ba(i){return`Query(target=${function Rd(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${Lo(a.value)}`;var a}).join(", ")}]`),ta(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Lo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Lo(t)).join(",")),`Target(${e})`}(Go(i))}; limitType=${i.limitType})`}function rl(i,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):fn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,a){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(i,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(h,m,C){const P=qc(h,m,C);return h.inclusive?P<=0:P<0}(t.startAt,oc(t),a)||t.endAt&&!function(h,m,C){const P=qc(h,m,C);return h.inclusive?P>=0:P>0}(t.endAt,oc(t),a)));var t,a}function Sf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kd(i){return(e,t)=>{let a=!1;for(const h of oc(i)){const m=Wp(h,e,t);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function Wp(i,e,t){const a=i.field.isKeyField()?fn.comparator(e.key,t.key):function(h,m,C){const P=m.data.field(h),Y=C.data.field(h);return null!==P&&null!==Y?ho(P,Y):Pn()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Pn()}}function xh(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(e)?"-0":e}}function Fd(i){return{integerValue:""+i}}function Ld(i,e){return Eo(e)?Fd(e):xh(i,e)}class lc{constructor(){this._=void 0}}function wi(i,e,t){return i instanceof sa?function(a,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):i instanceof _i?Mh(i,e):i instanceof bo?Su(i,e):function(a,h){const m=Hr(a,h),C=Ii(m)+Ii(a.k);return Kl(m)&&Kl(a.k)?Fd(C):xh(a.M,C)}(i,e)}function di(i,e,t){return i instanceof _i?Mh(i,e):i instanceof bo?Su(i,e):t}function Hr(i,e){return i instanceof wo?Kl(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class sa extends lc{}class _i extends lc{constructor(e){super(),this.elements=e}}function Mh(i,e){const t=Ur(e);for(const a of i.elements)t.some(h=>Si(h,a))||t.push(a);return{arrayValue:{values:t}}}class bo extends lc{constructor(e){super(),this.elements=e}}function Su(i,e){let t=Ur(e);for(const a of i.elements)t=t.filter(h=>!Si(h,a));return{arrayValue:{values:t}}}class wo extends lc{constructor(e,t){super(),this.M=e,this.k=t}}function Ii(i){return vr(i.integerValue||i.doubleValue)}function Ur(i){return Yl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ns{constructor(e,t){this.field=e,this.transform=t}}class xf{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class uc{}function Zc(i,e,t){i instanceof Xc?function(a,h,m){const C=a.value.clone(),P=Mf(a.fieldTransforms,h,m.transformResults);C.setAll(P),h.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(i,e,t):i instanceof nu?function(a,h,m){if(!Rh(a.precondition,h))return void h.convertToUnknownDocument(m.version);const C=Mf(a.fieldTransforms,h,m.transformResults),P=h.data;P.setAll(Qc(a)),P.setAll(C),h.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cc(i,e,t){var h;i instanceof Xc?function(a,h,m){if(!Rh(a.precondition,h))return;const C=a.value.clone(),P=Ph(a.fieldTransforms,m,h);C.setAll(P),h.convertToFoundDocument(Au(h),C).setHasLocalMutations()}(i,e,t):i instanceof nu?function(a,h,m){if(!Rh(a.precondition,h))return;const C=Ph(a.fieldTransforms,m,h),P=h.data;P.setAll(Qc(a)),P.setAll(C),h.convertToFoundDocument(Au(h),P).setHasLocalMutations()}(i,e,t):Rh(i.precondition,h=e)&&h.convertToNoDocument(Xn.min())}function dc(i,e){let t=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),m=Hr(a.transform,h||null);null!=m&&(null==t&&(t=Dt.empty()),t.set(a.field,m))}return t||null}function Oh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&to(t,a,(h,m)=>function Af(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof _i&&a instanceof _i||t instanceof bo&&a instanceof bo?to(t.elements,a.elements,Si):t instanceof wo&&a instanceof wo?Si(t.k,a.k):t instanceof sa&&a instanceof sa);var t,a}(h,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}function Au(i){return i.isFoundDocument()?i.version:Xn.min()}class Xc extends uc{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}}class nu extends uc{constructor(e,t,a,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}}function Qc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Mf(i,e,t){const a=new Map;Jn(i.length===t.length);for(let h=0;h<t.length;h++){const m=i[h],C=m.transform,P=e.data.field(m.field);a.set(m.field,di(C,P,t[h]))}return a}function Ph(i,e,t){const a=new Map;for(const h of i){const m=h.transform,C=t.data.field(h.field);a.set(h.field,wi(m,C,e))}return a}class il extends uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class hc extends uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kl{constructor(e){this.count=e}}var Yn,Wn;function Jc(i){switch(i){default:return Pn();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Nh(i){if(void 0===i)return mi("GRPC error has no .code"),w.UNKNOWN;switch(i){case Yn.OK:return w.OK;case Yn.CANCELLED:return w.CANCELLED;case Yn.UNKNOWN:return w.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return w.INTERNAL;case Yn.UNAVAILABLE:return w.UNAVAILABLE;case Yn.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Yn.NOT_FOUND:return w.NOT_FOUND;case Yn.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Yn.ABORTED:return w.ABORTED;case Yn.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Yn.DATA_LOSS:return w.DATA_LOSS;default:return Pn()}}(Wn=Yn||(Yn={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,(t,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return Ch(this.inner)}size(){return this.innerSize}}const fc=new bi(fn.comparator);function ks(){return fc}const qp=new bi(fn.comparator);function Io(...i){let e=qp;for(const t of i)e=e.insert(t.key,t);return e}function ed(){return new no(i=>i.toString(),(i,e)=>i.isEqual(e))}const xu=new bi(fn.comparator),Rf=new oi(fn.comparator);function Ai(...i){let e=Rf;for(const t of i)e=e.add(t);return e}const pc=new oi(sr);function ro(){return pc}class ru{constructor(e,t,a,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t){const a=new Map;return a.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,t)),new ru(Xn.min(),a,ro(),ks(),Ai())}}class Va{constructor(e,t,a,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Va(is.EMPTY_BYTE_STRING,t,Ai(),Ai(),Ai())}}class Mu{constructor(e,t,a,h){this.O=e,this.removedTargetIds=t,this.key=a,this.F=h}}class Zs{constructor(e,t){this.targetId=e,this.$=t}}class iu{constructor(e,t,a=is.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class td{constructor(){this.B=0,this.L=kh(),this.U=is.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ai(),t=Ai(),a=Ai();return this.L.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:Pn()}}),new Va(this.U,this.q,e,t,a)}J(){this.K=!1,this.L=kh()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Kp{constructor(e){this.nt=e,this.st=new Map,this.it=ks(),this.rt=Fi(),this.ot=new oi(sr)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const a=this.lt(t);switch(e.state){case 0:this.ft(t)&&a.W(e.resumeToken);break;case 1:a.tt(),a.G||a.J(),a.W(e.resumeToken);break;case 2:a.tt(),a.G||this.removeTarget(t);break;case 3:this.ft(t)&&(a.et(),a.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),a.W(e.resumeToken));break;default:Pn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((a,h)=>{this.ft(h)&&t(h)})}_t(e){const t=e.targetId,a=e.$.count,h=this.wt(t);if(h){const m=h.target;if(nc(m))if(0===a){const C=new fn(m.path);this.ct(t,C,hn.newNoDocument(C,Xn.min()))}else Jn(1===a);else this.gt(t)!==a&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((m,C)=>{const P=this.wt(C);if(P){if(m.current&&nc(P.target)){const Y=new fn(P.target.path);null!==this.it.get(Y)||this.It(C,Y)||this.ct(C,Y,hn.newNoDocument(Y,e))}m.j&&(t.set(C,m.H()),m.J())}});let a=Ai();this.rt.forEach((m,C)=>{let P=!0;C.forEachWhile(Y=>{const J=this.wt(Y);return!J||2===J.purpose||(P=!1,!1)}),P&&(a=a.add(m))}),this.it.forEach((m,C)=>C.setReadTime(e));const h=new ru(e,t,this.ot,this.it,a);return this.it=ks(),this.rt=Fi(),this.ot=new oi(sr),h}at(e,t){if(!this.ft(e))return;const a=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,a),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,a){if(!this.ft(e))return;const h=this.lt(e);this.It(e,t)?h.Y(t,1):h.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),a&&(this.it=this.it.insert(t,a))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new td,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new oi(sr),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||tn("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new td),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Fi(){return new bi(fn.comparator)}function kh(){return new bi(fn.comparator)}const oa={asc:"ASCENDING",desc:"DESCENDING"},Fl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Bd{constructor(e,t){this.databaseId=e,this.N=t}}function Ua(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ea(i,e){return i.N?e.toBase64():e.toUint8Array()}function Ru(i,e){return Ua(i,e.toTimestamp())}function Un(i){return Jn(!!i),Xn.fromTimestamp(function(e){const t=Ho(e);return new gs(t.seconds,t.nanos)}(i))}function Vd(i,e){return(t=i,new Xr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gc(i){const e=Xr.fromString(i);return Jn(he(e)),e}function zo(i,e){return Vd(i.databaseId,e.path)}function hi(i,e){const t=gc(e);if(t.get(1)!==i.databaseId.projectId)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new fn(su(t))}function nd(i,e){return Vd(i.databaseId,e)}function rd(i){const e=gc(i);return 4===e.length?Xr.emptyPath():su(e)}function Ou(i){return new Xr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function su(i){return Jn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function go(i,e,t){return{name:zo(i,e),fields:t.value.mapValue.fields}}function id(i,e,t){const a=hi(i,e.name),h=Un(e.updateTime),m=new Dt({mapValue:{fields:e.fields}}),C=hn.newFoundDocument(a,h,m);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function Wo(i,e){let t;if(e instanceof Xc)t={update:go(i,e.key,e.value)};else if(e instanceof il)t={delete:zo(i,e.key)};else if(e instanceof nu)t={update:go(i,e.key,e.data),updateMask:W(e.fieldMask)};else{if(!(e instanceof hc))return Pn();t={verify:zo(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const C=m.transform;if(C instanceof sa)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof _i)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof bo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof wo)return{fieldPath:m.field.canonicalString(),increment:C.k};throw Pn()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Ru(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Pn()),t;var h}function ou(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?vi.updateTime(Un(h.updateTime)):void 0!==h.exists?vi.exists(h.exists):vi.none():vi.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(m,C){let P=null;"setToServerValue"in C?(Jn("REQUEST_TIME"===C.setToServerValue),P=new sa):"appendMissingElements"in C?P=new _i(C.appendMissingElements.values||[]):"removeAllFromArray"in C?P=new bo(C.removeAllFromArray.values||[]):"increment"in C?P=new wo(m,C.increment):Pn();const Y=ws.fromServerFormat(C.fieldPath);return new Ns(Y,P)}(i,h)):[];var h;if(e.update){const h=hi(i,e.update.name),m=new Dt({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new ql((e.updateMask.fieldPaths||[]).map(J=>ws.fromServerFormat(J)));return new nu(h,m,C,t,a)}return new Xc(h,m,t,a)}if(e.delete){const h=hi(i,e.delete);return new il(h,t)}if(e.verify){const h=hi(i,e.verify);return new hc(h,t)}return Pn()}function au(i,e){return{documents:[nd(i,e.path)]}}function mc(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=nd(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nd(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(Y){if(0===Y.length)return;const J=Y.map(Ne=>function(it){if("=="===it.op){if(va(it.value))return{unaryFilter:{field:I(it.field),op:"IS_NAN"}};if(Ja(it.value))return{unaryFilter:{field:I(it.field),op:"IS_NULL"}}}else if("!="===it.op){if(va(it.value))return{unaryFilter:{field:I(it.field),op:"IS_NOT_NAN"}};if(Ja(it.value))return{unaryFilter:{field:I(it.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:I(it.field),op:ol(it.op),value:it.value}}}(Ne));return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}(e.filters);h&&(t.structuredQuery.where=h);const m=function(Y){if(0!==Y.length)return Y.map(J=>{return{field:I((Ne=J).field),direction:sl(Ne.dir)};var Ne})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const C=(J=e.limit,i.N||ta(J)?J:{value:J});var J,P,Y;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function lu(i){let e=rd(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){Jn(1===a);const Ne=t.from[0];Ne.allDescendants?h=Ne.collectionId:e=e.child(Ne.collectionId)}let m=[];t.where&&(m=$d(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(Ne=>{return new tu(g((it=Ne).field),function(Ot){switch(Ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(it.direction));var it}));let P=null;t.limit&&(P=function(Ne){let it;return it="object"==typeof Ne?Ne.value:Ne,ta(it)?null:it}(t.limit));let Y=null;var Ne;t.startAt&&(Y=new ia((Ne=t.startAt).values||[],!!Ne.before));let J=null;return t.endAt&&(J=function(Ne){return new ia(Ne.values||[],!Ne.before)}(t.endAt)),Kc(e,h,C,m,P,"F",Y,J)}function $d(i){return i?void 0!==i.unaryFilter?[A(i)]:void 0!==i.fieldFilter?[_(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>$d(e)).reduce((e,t)=>e.concat(t)):Pn():[]}function sl(i){return oa[i]}function ol(i){return Fl[i]}function I(i){return{fieldPath:i.canonicalString()}}function g(i){return ws.fromServerFormat(i.fieldPath)}function _(i){return $s.create(g(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pn()}}(i.fieldFilter.op),i.fieldFilter.value)}function A(i){switch(i.unaryFilter.op){case"IS_NAN":const e=g(i.unaryFilter.field);return $s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=g(i.unaryFilter.field);return $s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=g(i.unaryFilter.field);return $s.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=g(i.unaryFilter.field);return $s.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Pn()}}function W(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function he(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function rt(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=pn(e)),e=Ut(i.get(t),e);return pn(e)}function Ut(i,e){let t=e;const a=i.length;for(let h=0;h<a;h++){const m=i.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function pn(i){return i+"\x01\x01"}function wn(i){const e=i.length;if(Jn(e>=2),2===e)return Jn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Xr.emptyPath();const t=e-2,a=[];let h="";for(let m=0;m<e;){const C=i.indexOf("\x01",m);switch((C<0||C>t)&&Pn(),i.charAt(C+1)){case"\x01":const P=i.substring(m,C);let Y;0===h.length?Y=P:(h+=P,Y=h,h=""),a.push(Y);break;case"\x10":h+=i.substring(m,C),h+="\0";break;case"\x11":h+=i.substring(m,C+1);break;default:Pn()}m=C+2}return new Xr(a)}const tr=["userId","batchId"];function $n(i,e){return[i,rt(e)]}function Fs(i,e,t){return[i,rt(e),t]}const Co={},al=["prefixPath","collectionGroup","readTime","documentId"],Lh=["prefixPath","collectionGroup","documentId"],ll=["collectionGroup","readTime","prefixPath","documentId"],jd=["canonicalId","targetId"],Bh=["targetId","path"],Hd=["path","targetId"],Gd=["collectionId","parent"],Pf=["indexId","uid"],Vh=["uid","sequenceNumber"],aa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Uh=["indexId","uid","orderedDocumentKey"],sd=["userId","collectionPath","documentId"],$h=["userId","collectionPath","largestBatchId"],jh=["userId","collectionGroup","largestBatchId"],yc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_c=[...yc,"documentOverlays"],Pu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vc=[...Pu,"indexConfiguration","indexState","indexEntries"],rm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ft((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ft?t:Ft.resolve(t)}catch(t){return Ft.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ft.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ft.reject(t)}static resolve(e){return new Ft((t,a)=>{t(e)})}static reject(e){return new Ft((t,a)=>{a(e)})}static waitFor(e){return new Ft((t,a)=>{let h=0,m=0,C=!1;e.forEach(P=>{++h,P.next(()=>{++m,C&&m===h&&t()},Y=>a(Y))}),C=!0,m===h&&t()})}static or(e){let t=Ft.resolve(!1);for(const a of e)t=t.next(h=>h?Ft.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,m)=>{a.push(t.call(this,h,m))}),this.waitFor(a)}}class uu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new z,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Nu(e,t.error)):this.At.resolve()},this.transaction.onerror=a=>{const h=kf(a.target.error);this.At.reject(new Nu(e,h))}}static open(e,t,a,h){try{return new uu(t,e.transaction(h,a))}catch(m){throw new Nu(t,m)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(tn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Nf(t)}}class ul{constructor(e,t,a){this.name=e,this.version=t,this.Pt=a,12.2===ul.Vt((0,nt.z$)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return tn("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nt.hl)())return!1;if(ul.St())return!0;const e=(0,nt.z$)(),t=ul.Vt(e),a=0<t&&t<10,h=ul.Dt(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(tn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=C=>{a(C.target.result)},m.onblocked=()=>{h(new Nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=C=>{const P=C.target.error;h("VersionError"===P.name?new M(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new M(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Nu(e,P))},m.onupgradeneeded=C=>{tn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.Pt.kt(C.target.result,m.transaction,C.oldVersion,t.version).next(()=>{tn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=a=>t.Mt(a)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var m=this;return(0,we.Z)(function*(){const C="readonly"===t;let P=0;for(;;){++P;try{m.db=yield m.Nt(e);const Y=uu.open(m.db,e,C?"readonly":"readwrite",a),J=h(Y).next(Ne=>(Y.bt(),Ne)).catch(Ne=>(Y.abort(Ne),Ft.reject(Ne))).toPromise();return J.catch(()=>{}),yield Y.Rt,J}catch(Y){const J="FirebaseError"!==Y.name&&P<3;if(tn("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",J),m.close(),!J)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Hh{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ba(this.Ft.delete())}}class Nu extends M{constructor(e,t){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ll(i){return"IndexedDbTransactionError"===i.name}class Nf{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(tn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(tn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ba(a)}add(e){return tn("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(t=>(void 0===t&&(t=null),tn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return tn("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return tn("SimpleDb","COUNT",this.store.name),ba(this.store.count())}qt(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),m=[];return this.Kt(h,(C,P)=>{m.push(P)}).next(()=>m)}{const h=this.store.getAll(a.range);return new Ft((m,C)=>{h.onerror=P=>{C(P.target.error)},h.onsuccess=P=>{m(P.target.result)}})}}Gt(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new Ft((h,m)=>{a.onerror=C=>{m(C.target.error)},a.onsuccess=C=>{h(C.target.result)}})}Qt(e,t){tn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.jt=!1;const h=this.cursor(a);return this.Kt(h,(m,C,P)=>P.delete())}Wt(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.Kt(h,t)}zt(e){const t=this.cursor({});return new Ft((a,h)=>{t.onerror=m=>{const C=kf(m.target.error);h(C)},t.onsuccess=m=>{const C=m.target.result;C?e(C.primaryKey,C.value).next(P=>{P?C.continue():a()}):a()}})}Kt(e,t){const a=[];return new Ft((h,m)=>{e.onerror=C=>{m(C.target.error)},e.onsuccess=C=>{const P=C.target.result;if(!P)return void h();const Y=new Hh(P),J=t(P.primaryKey,P.value,Y);if(J instanceof Ft){const Ne=J.catch(it=>(Y.done(),Ft.reject(it)));a.push(Ne)}Y.isDone?h():null===Y.Lt?P.continue():P.continue(Y.Lt)}}).next(()=>Ft.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.jt?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ba(i){return new Ft((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const h=kf(a.target.error);t(h)}})}let Gh=!1;function kf(i){const e=ul.Vt((0,nt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gh||(Gh=!0,setTimeout(()=>{throw a},0)),a}}return i}class Yi extends Zp{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Zi(i,e){const t=S(i);return ul.xt(t.Ht,e)}class cu{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&Zc(m,e,a[h])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&cc(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&cc(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const a=e.get(t.key),h=a;this.applyToLocalView(h),a.isValidDocument()||h.convertToNoDocument(Xn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ai())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(t,a)=>Oh(t,a))&&to(this.baseMutations,e.baseMutations,(t,a)=>Oh(t,a))}}class Ec{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){Jn(e.mutations.length===a.length);let h=xu;const m=e.mutations;for(let C=0;C<m.length;C++)h=h.insert(m[C].key,a[C].version);return new Ec(e,t,a,h)}}class zh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cl{constructor(e,t,a,h,m=Xn.min(),C=Xn.min(),P=is.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=P}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ku{constructor(e){this.Jt=e}}function $a(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:zo(h=i.Jt,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Ua(h,m.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:ja(e.version)};else{if(!e.isUnknownDocument())return Pn();a.unknownDocument={path:t.path.toArray(),version:ja(e.version)}}var h,m;return a}function zd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ja(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bc(i){const e=new gs(i.seconds,i.nanoseconds);return Xn.fromTimestamp(e)}function Fu(i,e){const t=(e.baseMutations||[]).map(m=>ou(i.Jt,m));for(let m=0;m<e.mutations.length-1;++m){const C=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(C.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const a=e.mutations.map(m=>ou(i.Jt,m)),h=gs.fromMillis(e.localWriteTimeMs);return new cu(e.batchId,h,t,a)}function Wd(i){const e=bc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?bc(i.lastLimboFreeSnapshotVersion):Xn.min();let a;var h;return void 0!==i.query.documents?(Jn(1===(h=i.query).documents.length),a=Go(nl(rd(h.documents[0])))):a=Go(lu(i.query)),new cl(a,i.targetId,0,i.lastListenSequenceNumber,e,t,is.fromBase64String(i.resumeToken))}function Lf(i,e){const t=ja(e.snapshotVersion),a=ja(e.lastLimboFreeSnapshotVersion);let h;h=nc(e.target)?au(i.Jt,e.target):mc(i.Jt,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pl(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Bf(i){const e=lu({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Tf(e,e.limit,"L"):e}function im(i,e){return new zh(e.largestBatchId,ou(i.Jt,e.overlayMutation))}function Xp(i,e){const t=e.path.lastSegment();return[i,rt(e.path.popLast()),t]}class ny{getBundleMetadata(e,t){return Qp(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:bc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Qp(e).put({bundleId:(a=t).id,createTime:ja(Un(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Jp(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:Bf(h.bundledQuery),readTime:bc(h.readTime)};var h})}saveNamedQuery(e,t){return Jp(e).put({name:(a=t).name,readTime:ja(Un(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Qp(i){return Zi(i,"bundles")}function Jp(i){return Zi(i,"namedQueries")}class Vf{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Vf(e,t.uid||"")}getOverlay(e,t){return la(e).get(Xp(this.userId,t)).next(a=>a?im(this.M,a):null)}saveOverlays(e,t,a){const h=[];return a.forEach((m,C)=>{const P=new zh(t,C);h.push(this.Xt(e,P))}),Ft.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(C=>h.add(rt(C.getCollectionPath())));const m=[];return h.forEach(C=>{const P=IDBKeyRange.bound([this.userId,C,a],[this.userId,C,a+1],!1,!0);m.push(la(e).Qt("collectionPathOverlayIndex",P))}),Ft.waitFor(m)}getOverlaysForCollection(e,t,a){const h=ed(),m=rt(t),C=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return la(e).qt("collectionPathOverlayIndex",C).next(P=>{for(const Y of P){const J=im(this.M,Y);h.set(J.getKey(),J)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const m=ed();let C;const P=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return la(e).Wt({index:"collectionGroupOverlayIndex",range:P},(Y,J,Ne)=>{const it=im(this.M,J);m.size()<h||it.largestBatchId===C?(m.set(it.getKey(),it),C=it.largestBatchId):Ne.done()}).next(()=>m)}Xt(e,t){return la(e).put(function(a,h,m){const[C,P,Y]=Xp(h,m.mutation.key);return{userId:h,collectionPath:P,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Wo(a.Jt,m.mutation)}}(this.M,this.userId,t))}}function la(i){return Zi(i,"documentOverlays")}class od{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(vr(e.integerValue));else if("doubleValue"in e){const a=vr(e.doubleValue);isNaN(a)?this.ne(t,13):(this.ne(t,15),Ys(a)?t.se(0):t.se(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ne(t,20),"string"==typeof a?t.ie(a):(t.ie(`${a.seconds||""}`),t.se(a.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ya(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ne(t,45),t.se(a.latitude||0),t.se(a.longitude||0)}else"mapValue"in e?B(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Pn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const a=e.fields||{};this.ne(t,55);for(const h of Object.keys(a))this.re(h,t),this.te(a[h],t)}he(e,t){const a=e.values||[];this.ne(t,50);for(const h of a)this.te(h,t)}ae(e,t){this.ne(t,37),fn.fromName(e).path.forEach(a=>{this.ne(t,60),this.le(a,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function sm(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function om(i){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const m=sm(255&t[h]);if(a+=m,8!==m)break}return a}(i);return Math.ceil(e/8)}od.fe=new od;class ry{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this._e(a.value),a=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.ge(a.value),a=t.next();this.ye()}pe(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this._e(a);else if(a<2048)this._e(960|a>>>6),this._e(128|63&a);else if(t<"\ud800"||"\udbff"<t)this._e(480|a>>>12),this._e(128|63&a>>>6),this._e(128|63&a);else{const h=t.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.ge(a);else if(a<2048)this.ge(960|a>>>6),this.ge(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.ge(480|a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a);else{const h=t.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const t=this.Ee(e),a=om(t);this.Ae(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Re(e){const t=this.Ee(e),a=om(t);this.Ae(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class iy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Uf{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class wc{constructor(){this.De=new ry,this.Ce=new iy(this.De),this.xe=new Uf(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ic{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Ic(this.indexId,this.documentKey,this.arrayValue,a)}}function du(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=am(i.arrayValue,e.arrayValue),0!==t?t:(t=am(i.directionalValue,e.directionalValue),0!==t?t:fn.comparator(i.documentKey,e.documentKey)))}function am(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class Dr{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const a=t;a.S()?this.Fe=a:this.Oe.push(a)}}$e(e){const t=er(e);if(void 0!==t&&!this.Be(t))return!1;const a=Nr(e);let h=0,m=0;for(;h<a.length&&this.Be(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Fe){const C=a[h];if(!this.Le(this.Fe,C)||!this.Ue(this.Me[m++],C))return!1;++h}for(;h<a.length;++h){const C=a[h];if(m>=this.Me.length||!this.Ue(this.Me[m++],C))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class eg{constructor(){this.qe=new Wh}addToCollectionParentIndex(e,t){return this.qe.add(t),Ft.resolve()}getCollectionParents(e,t){return Ft.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ft.resolve()}deleteFieldIndex(e,t){return Ft.resolve()}getDocumentsMatchingTarget(e,t){return Ft.resolve(null)}getIndexType(e,t){return Ft.resolve(0)}getFieldIndexes(e,t){return Ft.resolve([])}getNextCollectionGroupToUpdate(e){return Ft.resolve(null)}getMinOffset(e,t){return Ft.resolve(po.min())}updateCollectionGroup(e,t,a){return Ft.resolve()}updateIndexEntries(e,t){return Ft.resolve()}}class Wh{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new oi(Xr.comparator),m=!h.has(a);return this.index[t]=h.add(a),m}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new oi(Xr.comparator)).toArray()}}const qh=new Uint8Array(0);class $f{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Wh,this.Ge=new no(a=>Pl(a),(a,h)=>tl(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const m={collectionId:a,parent:rt(h)};return Ha(e).put(m)}return Ft.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[ma(t),""],!1,!0);return Ha(e).qt(h).next(m=>{for(const C of m){if(C.collectionId!==t)break;a.push(wn(C.parent))}return a})}addFieldIndex(e,t){const a=jf(e),h={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var m;return delete h.indexId,a.add(h).next()}deleteFieldIndex(e,t){const a=jf(e),h=qd(e),m=Cc(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Cc(e);let h=!0;const m=new Map;return Ft.forEach(this.Qe(t),C=>this.je(e,C).next(P=>{h&&(h=!!P),m.set(C,P)})).next(()=>{if(h){let C=Ai();const P=[];return Ft.forEach(m,(Y,J)=>{var Ne;tn("IndexedDbIndexManager",`Using index ${Ne=Y,`id=${Ne.indexId}|cg=${Ne.collectionGroup}|f=${Ne.fields.map(Gi=>`${Gi.fieldPath}:${Gi.kind}`).join(",")}`} to execute ${Pl(t)}`);const it=function(Gi,Ao){const Gs=er(Ao);if(void 0===Gs)return null;for(const io of rc(Gi,Gs.fieldPath))switch(io.op){case"array-contains-any":return io.value.arrayValue.values||[];case"array-contains":return[io.value]}return null}(J,Y),Ot=function(Gi,Ao){const Gs=new Map;for(const io of Nr(Ao))for(const Sa of rc(Gi,io.fieldPath))switch(Sa.op){case"==":case"in":Gs.set(io.fieldPath.canonicalString(),Sa.value);break;case"not-in":case"!=":return Gs.set(io.fieldPath.canonicalString(),Sa.value),Array.from(Gs.values())}return null}(J,Y),Qt=function(Gi,Ao){const Gs=[];let io=!0;for(const Sa of Nr(Ao)){const em=0===Sa.kind?Od(Gi,Sa.fieldPath,Gi.startAt):Du(Gi,Sa.fieldPath,Gi.startAt);Gs.push(em.value),io&&(io=em.inclusive)}return new ia(Gs,io)}(J,Y),nn=function(Gi,Ao){const Gs=[];let io=!0;for(const Sa of Nr(Ao)){const em=0===Sa.kind?Du(Gi,Sa.fieldPath,Gi.endAt):Od(Gi,Sa.fieldPath,Gi.endAt);Gs.push(em.value),io&&(io=em.inclusive)}return new ia(Gs,io)}(J,Y),Nn=this.We(Y,J,Qt),Tr=this.We(Y,J,nn),Hs=this.ze(Y,J,Ot),lo=this.He(Y.indexId,it,Nn,Qt.inclusive,Tr,nn.inclusive,Hs);return Ft.forEach(lo,Gi=>a.Gt(Gi,t.limit).next(Ao=>{Ao.forEach(Gs=>{const io=fn.fromSegments(Gs.documentKey);C.has(io)||(C=C.add(io),P.push(io))})}))}).next(()=>P)}return Ft.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,a,h,m,C,P){const Y=(null!=t?t.length:1)*Math.max(a.length,m.length),J=Y/(null!=t?t.length:1),Ne=[];for(let it=0;it<Y;++it){const Ot=t?this.Je(t[it/J]):qh,Qt=this.Ye(e,Ot,a[it%J],h),nn=this.Xe(e,Ot,m[it%J],C),Nn=P.map(Tr=>this.Ye(e,Ot,Tr,!0));Ne.push(...this.createRange(Qt,nn,Nn))}return Ne}Ye(e,t,a,h){const m=new Ic(e,fn.empty(),t,a);return h?m:m.ke()}Xe(e,t,a,h){const m=new Ic(e,fn.empty(),t,a);return h?m.ke():m}je(e,t){const a=new Dr(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let C=null;for(const P of m)a.$e(P)&&(!C||P.fields.length>C.fields.length)&&(C=P);return C})}getIndexType(e,t){let a=2;return Ft.forEach(this.Qe(t),h=>this.je(e,h).next(m=>{m?0!==a&&m.fields.length<function(C){let P=new oi(ws.comparator),Y=!1;for(const J of C.filters){const Ne=J;Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?Y=!0:P=P.add(Ne.field))}for(const J of C.orderBy)J.field.isKeyField()||(P=P.add(J.field));return P.size+(Y?1:0)}(h)&&(a=1):a=0})).next(()=>a)}Ze(e,t){const a=new wc;for(const h of Nr(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const C=a.Ne(h.kind);od.fe.Zt(m,C)}return a.Se()}Je(e){const t=new wc;return od.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const a=new wc;return od.fe.Zt(Bo(this.databaseId,t),a.Ne(function(h){const m=Nr(h);return 0===m.length?0:m[m.length-1].kind}(e))),a.Se()}ze(e,t,a){if(null===a)return[];let h=[];h.push(new wc);let m=0;for(const C of Nr(e)){const P=a[m++];for(const Y of h)if(this.en(t,C.fieldPath)&&Yl(P))h=this.nn(h,C,P);else{const J=Y.Ne(C.kind);od.fe.Zt(P,J)}}return this.sn(h)}We(e,t,a){return this.ze(e,t,a.position)}sn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Se();return t}nn(e,t,a){const h=[...e],m=[];for(const C of a.arrayValue.values||[])for(const P of h){const Y=new wc;Y.seed(P.Se()),od.fe.Zt(C,Y.Ne(t.kind)),m.push(Y)}return m}en(e,t){return!!e.filters.find(a=>a instanceof $s&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=jf(e),h=qd(e);return(t?a.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.qt()).next(m=>{const C=[];return Ft.forEach(m,P=>h.get([P.indexId,this.uid]).next(Y=>{C.push(function(J,Ne){const it=Ne?new ei(Ne.sequenceNumber,new po(bc(Ne.readTime),new fn(wn(Ne.documentKey)),Ne.largestBatchId)):ei.empty(),Ot=J.fields.map(([Qt,nn])=>new dr(ws.fromServerFormat(Qt),nn));return new or(J.indexId,J.collectionGroup,Ot,it)}(P,Y))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:sr(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=jf(e),m=qd(e);return this.rn(e).next(C=>h.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>Ft.forEach(P,Y=>{return m.put({indexId:Y.indexId,uid:this.user.uid||"",sequenceNumber:C,readTime:ja((Ot=a).readTime),documentKey:rt(Ot.documentKey.path),largestBatchId:Ot.largestBatchId});var Ot})))}updateIndexEntries(e,t){const a=new Map;return Ft.forEach(t,(h,m)=>{const C=a.get(h.collectionGroup);return(C?Ft.resolve(C):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(a.set(h.collectionGroup,P),Ft.forEach(P,Y=>this.on(e,h,Y).next(J=>{const Ne=this.un(m,Y);return J.isEqual(Ne)?Ft.resolve():this.an(e,m,Y,J,Ne)}))))})}cn(e,t,a,h){return Cc(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(a,t.key),documentKey:t.key.path.toArray()})}hn(e,t,a,h){return Cc(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(a,t.key),t.key.path.toArray()])}on(e,t,a){const h=Cc(e);let m=new oi(du);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.tn(a,t)])},(C,P)=>{m=m.add(new Ic(a.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>m)}un(e,t){let a=new oi(du);const h=this.Ze(t,e);if(null==h)return a;const m=er(t);if(null!=m){const C=e.data.field(m.fieldPath);if(Yl(C))for(const P of C.arrayValue.values||[])a=a.add(new Ic(t.indexId,e.key,this.Je(P),h))}else a=a.add(new Ic(t.indexId,e.key,qh,h));return a}an(e,t,a,h,m){tn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(P,Y,J,Ne,it){const Ot=P.getIterator(),Qt=Y.getIterator();let nn=Ql(Ot),Nn=Ql(Qt);for(;nn||Nn;){let Tr=!1,Hs=!1;if(nn&&Nn){const lo=J(nn,Nn);lo<0?Hs=!0:lo>0&&(Tr=!0)}else null!=nn?Hs=!0:Tr=!0;Tr?(Ne(Nn),Nn=Ql(Qt)):Hs?(it(nn),nn=Ql(Ot)):(nn=Ql(Ot),Nn=Ql(Qt))}}(h,m,du,P=>{C.push(this.cn(e,t,a,P))},P=>{C.push(this.hn(e,t,a,P))}),Ft.waitFor(C)}rn(e){let t=1;return qd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((C,P)=>du(C,P)).filter((C,P,Y)=>!P||0!==du(C,Y[P-1]));const h=[];h.push(e);for(const C of a){const P=du(C,e),Y=du(C,t);if(0===P)h[0]=e.ke();else if(P>0&&Y<0)h.push(C),h.push(C.ke());else if(Y>0)break}h.push(t);const m=[];for(let C=0;C<h.length;C+=2)m.push(IDBKeyRange.bound([h[C].indexId,this.uid,h[C].arrayValue,h[C].directionalValue,qh,[]],[h[C+1].indexId,this.uid,h[C+1].arrayValue,h[C+1].directionalValue,qh,[]]));return m}getMinOffset(e,t){let a;return Ft.forEach(this.Qe(t),h=>this.je(e,h).next(m=>{m?(!a||na(m.indexState.offset,a)<0)&&(a=m.indexState.offset):a=po.min()})).next(()=>a)}}function Ha(i){return Zi(i,"collectionParents")}function Cc(i){return Zi(i,"indexEntries")}function jf(i){return Zi(i,"indexConfiguration")}function qd(i){return Zi(i,"indexState")}const hu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hf(i,e,t){const a=i.store("mutations"),h=i.store("documentMutations"),m=[],C=IDBKeyRange.only(t.batchId);let P=0;const Y=a.Wt({range:C},(Ne,it,Ot)=>(P++,Ot.delete()));m.push(Y.next(()=>{Jn(1===P)}));const J=[];for(const Ne of t.mutations){const it=Fs(e,Ne.key.path,t.batchId);m.push(h.delete(it)),J.push(Ne.key)}return Ft.waitFor(m).next(()=>J)}function Lu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Pn();e=i.noDocument}return JSON.stringify(e).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Gf{constructor(e,t,a,h){this.userId=e,this.M=t,this.indexManager=a,this.referenceDelegate=h,this.ln={}}static Yt(e,t,a,h){Jn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Gf(m,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ad(e).Wt({index:"userMutationsIndex",range:a},(h,m,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const m=fu(e),C=ad(e);return C.add({}).next(P=>{Jn("number"==typeof P);const Y=new cu(P,t,a,h),J=function(Ot,Qt,nn){const Nn=nn.baseMutations.map(Hs=>Wo(Ot.Jt,Hs)),Tr=nn.mutations.map(Hs=>Wo(Ot.Jt,Hs));return{userId:Qt,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:Nn,mutations:Tr}}(this.M,this.userId,Y),Ne=[];let it=new oi((Ot,Qt)=>sr(Ot.canonicalString(),Qt.canonicalString()));for(const Ot of h){const Qt=Fs(this.userId,Ot.key.path,P);it=it.add(Ot.key.path.popLast()),Ne.push(C.put(J)),Ne.push(m.put(Qt,Co))}return it.forEach(Ot=>{Ne.push(this.indexManager.addToCollectionParentIndex(e,Ot))}),e.addOnCommittedListener(()=>{this.ln[P]=Y.keys()}),Ft.waitFor(Ne).next(()=>Y)})}lookupMutationBatch(e,t){return ad(e).get(t).next(a=>a?(Jn(a.userId===this.userId),Fu(this.M,a)):null)}fn(e,t){return this.ln[t]?Ft.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.ln[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return ad(e).Wt({index:"userMutationsIndex",range:h},(C,P,Y)=>{P.userId===this.userId&&(Jn(P.batchId>=a),m=Fu(this.M,P)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ad(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(h,m,C)=>{a=m.batchId,C.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ad(e).qt("userMutationsIndex",t).next(a=>a.map(h=>Fu(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=$n(this.userId,t.path),h=IDBKeyRange.lowerBound(a),m=[];return fu(e).Wt({range:h},(C,P,Y)=>{const[J,Ne,it]=C,Ot=wn(Ne);if(J===this.userId&&t.path.isEqual(Ot))return ad(e).get(it).next(Qt=>{if(!Qt)throw Pn();Jn(Qt.userId===this.userId),m.push(Fu(this.M,Qt))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new oi(sr);const h=[];return t.forEach(m=>{const C=$n(this.userId,m.path),P=IDBKeyRange.lowerBound(C),Y=fu(e).Wt({range:P},(J,Ne,it)=>{const[Ot,Qt,nn]=J,Nn=wn(Qt);Ot===this.userId&&m.path.isEqual(Nn)?a=a.add(nn):it.done()});h.push(Y)}),Ft.waitFor(h).next(()=>this.dn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,m=$n(this.userId,a),C=IDBKeyRange.lowerBound(m);let P=new oi(sr);return fu(e).Wt({range:C},(Y,J,Ne)=>{const[it,Ot,Qt]=Y,nn=wn(Ot);it===this.userId&&a.isPrefixOf(nn)?nn.length===h&&(P=P.add(Qt)):Ne.done()}).next(()=>this.dn(e,P))}dn(e,t){const a=[],h=[];return t.forEach(m=>{h.push(ad(e).get(m).next(C=>{if(null===C)throw Pn();Jn(C.userId===this.userId),a.push(Fu(this.M,C))}))}),Ft.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return Hf(e.Ht,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ft.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ft.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return fu(e).Wt({range:a},(m,C,P)=>{if(m[0]===this.userId){const Y=wn(m[1]);h.push(Y)}else P.done()}).next(()=>{Jn(0===h.length)})})}containsKey(e,t){return zf(e,this.userId,t)}wn(e){return ld(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zf(i,e,t){const a=$n(e,t.path),h=a[1],m=IDBKeyRange.lowerBound(a);let C=!1;return fu(i).Wt({range:m,jt:!0},(P,Y,J)=>{const[Ne,it,Ot]=P;Ne===e&&it===h&&(C=!0),J.done()}).next(()=>C)}function ad(i){return Zi(i,"mutations")}function fu(i){return Zi(i,"documentMutations")}function ld(i){return Zi(i,"mutationQueues")}class Bu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Bu(0)}static yn(){return new Bu(-1)}}class tg{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const a=new Bu(t.highestTargetId);return t.highestTargetId=a.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Xn.fromTimestamp(new gs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.pn(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.In(e,h)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(a=>(a.targetCount+=1,this.En(t,a),this.In(e,a))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dc(e).delete(t.targetId)).next(()=>this.pn(e)).next(a=>(Jn(a.targetCount>0),a.targetCount-=1,this.In(e,a)))}removeTargets(e,t,a){let h=0;const m=[];return Dc(e).Wt((C,P)=>{const Y=Wd(P);Y.sequenceNumber<=t&&null===a.get(Y.targetId)&&(h++,m.push(this.removeTargetData(e,Y)))}).next(()=>Ft.waitFor(m)).next(()=>h)}forEachTarget(e,t){return Dc(e).Wt((a,h)=>{const m=Wd(h);t(m)})}pn(e){return sy(e).get("targetGlobalKey").next(t=>(Jn(null!==t),t))}In(e,t){return sy(e).put("targetGlobalKey",t)}Tn(e,t){return Dc(e).put(Lf(this.M,t))}En(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=Pl(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return Dc(e).Wt({range:h,index:"queryTargetsIndex"},(C,P,Y)=>{const J=Wd(P);tl(t,J.target)&&(m=J,Y.done())}).next(()=>m)}addMatchingKeys(e,t,a){const h=[],m=Tc(e);return t.forEach(C=>{const P=rt(C.path);h.push(m.put({targetId:a,path:P})),h.push(this.referenceDelegate.addReference(e,a,C))}),Ft.waitFor(h)}removeMatchingKeys(e,t,a){const h=Tc(e);return Ft.forEach(t,m=>{const C=rt(m.path);return Ft.waitFor([h.delete([a,C]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,t){const a=Tc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=Tc(e);let m=Ai();return h.Wt({range:a,jt:!0},(C,P,Y)=>{const J=wn(C[1]),Ne=new fn(J);m=m.add(Ne)}).next(()=>m)}containsKey(e,t){const a=rt(t.path),h=IDBKeyRange.bound([a],[ma(a)],!1,!0);let m=0;return Tc(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([C,P],Y,J)=>{0!==C&&(m++,J.done())}).next(()=>m>0)}Et(e,t){return Dc(e).get(t).next(a=>a?Wd(a):null)}}function Dc(i){return Zi(i,"targets")}function sy(i){return Zi(i,"targetGlobal")}function Tc(i){return Zi(i,"targetDocuments")}function ud(i){return ng.apply(this,arguments)}function ng(){return ng=(0,we.Z)(function*(i){if(i.code!==w.FAILED_PRECONDITION||i.message!==rm)throw i;tn("LocalStore","Unexpectedly lost primary lease")}),ng.apply(this,arguments)}function rg([i,e],[t,a]){const h=sr(i,t);return 0===h?sr(e,a):h}class lm{constructor(e){this.An=e,this.buffer=new oi(rg),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();rg(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oy{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const a=this.Vn?3e5:6e4;tn("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,we.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(h){Ll(h)?tn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield ud(h)}yield t.Sn(e)}))}}class um{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return Ft.resolve(yi.A);const a=new lm(t);return this.Dn.forEachTarget(e,h=>a.Pn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>a.Pn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Dn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tn("LruGarbageCollector","Garbage collection skipped; disabled"),Ft.resolve(hu)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(tn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hu):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let a,h,m,C,P,Y,J;const Ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(it=>(it>this.params.maximumSequenceNumbersToCollect?(tn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${it}`),h=this.params.maximumSequenceNumbersToCollect):h=it,C=Date.now(),this.nthSequenceNumber(e,h))).next(it=>(a=it,P=Date.now(),this.removeTargets(e,a,t))).next(it=>(m=it,Y=Date.now(),this.removeOrphanedDocuments(e,a))).next(it=>(J=Date.now(),Ml()<=xt.in.DEBUG&&tn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Ne}ms\n\tDetermined least recently used ${h} in `+(P-C)+`ms\n\tRemoved ${m} targets in `+(Y-P)+`ms\n\tRemoved ${it} documents in `+(J-Y)+`ms\nTotal Duration: ${J-Ne}ms`),Ft.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:it})))}}class Ky{constructor(e,t){this.db=e,this.garbageCollector=new um(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}kn(e){let t=0;return this.xn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(a,h)=>t(h))}addReference(e,t,a){return Kd(e,a)}removeReference(e,t,a){return Kd(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return Kd(e,t)}On(e,t){return function(a,h){let m=!1;return ld(a).zt(C=>zf(a,C,h).next(P=>(P&&(m=!0),Ft.resolve(!P)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Mn(e,(C,P)=>{if(P<=t){const Y=this.On(e,C).next(J=>{if(!J)return m++,a.getEntry(e,C).next(()=>(a.removeEntry(C,Xn.min()),Tc(e).delete([0,rt(C.path)])))});h.push(Y)}}).next(()=>Ft.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return Kd(e,t)}Mn(e,t){const a=Tc(e);let h,m=yi.A;return a.Wt({index:"documentTargetsIndex"},([C,P],{path:Y,sequenceNumber:J})=>{0===C?(m!==yi.A&&t(new fn(wn(h)),m),m=J,h=Y):m=yi.A}).next(()=>{m!==yi.A&&t(new fn(wn(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kd(i,e){return Tc(i).put((a=i.currentSequenceNumber,{targetId:0,path:rt(e.path),sequenceNumber:a}));var a}class Yd{constructor(){this.changes=new no(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?Ft.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cm{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return Zd(e).put(a)}removeEntry(e,t,a){return Zd(e).delete(function(h,m){const C=h.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],zd(m),C[C.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Fn(e,a)))}getEntry(e,t){let a=hn.newInvalidDocument(t);return Zd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(t))},(h,m)=>{a=this.$n(t,m)}).next(()=>a)}Bn(e,t){let a={size:0,document:hn.newInvalidDocument(t)};return Zd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(t))},(h,m)=>{a={document:this.$n(t,m),size:Lu(m)}}).next(()=>a)}getEntries(e,t){let a=ks();return this.Ln(e,t,(h,m)=>{const C=this.$n(h,m);a=a.insert(h,C)}).next(()=>a)}Un(e,t){let a=ks(),h=new bi(fn.comparator);return this.Ln(e,t,(m,C)=>{const P=this.$n(m,C);a=a.insert(m,P),h=h.insert(m,Lu(C))}).next(()=>({documents:a,qn:h}))}Ln(e,t,a){if(t.isEmpty())return Ft.resolve();let h=new oi(ly);t.forEach(Y=>h=h.add(Y));const m=IDBKeyRange.bound(Xd(h.first()),Xd(h.last())),C=h.getIterator();let P=C.getNext();return Zd(e).Wt({index:"documentKeyIndex",range:m},(Y,J,Ne)=>{const it=fn.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;P&&ly(P,it)<0;)a(P,null),P=C.getNext();P&&P.isEqual(it)&&(a(P,J),P=C.hasNext()?C.getNext():null),P?Ne.Ut(Xd(P)):Ne.done()}).next(()=>{for(;P;)a(P,null),P=C.hasNext()?C.getNext():null})}getAllFromCollection(e,t,a){const h=[t.popLast().toArray(),t.lastSegment(),zd(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zd(e).qt(IDBKeyRange.bound(h,m,!0)).next(C=>{let P=ks();for(const Y of C){const J=this.$n(fn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);P=P.insert(J.key,J)}return P})}getAllFromCollectionGroup(e,t,a,h){let m=ks();const C=dm(t,a),P=dm(t,po.max());return Zd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,P,!0)},(Y,J,Ne)=>{const it=this.$n(fn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);m=m.insert(it.key,it),m.size===h&&Ne.done()}).next(()=>m)}newChangeBuffer(e){return new ig(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ay(e).get("remoteDocumentGlobalKey").next(t=>(Jn(!!t),t))}Fn(e,t){return ay(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const a=function Ff(i,e){let t;if(e.document)t=id(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=fn.fromSegments(e.noDocument.path),h=bc(e.noDocument.readTime);t=hn.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pn();{const a=fn.fromSegments(e.unknownDocument.path),h=bc(e.unknownDocument.version);t=hn.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new gs(a[0],a[1]);return Xn.fromTimestamp(h)}(e.readTime)),t}(this.M,t);if(!a.isNoDocument()||!a.version.isEqual(Xn.min()))return a}return hn.newInvalidDocument(e)}}class ig extends Yd{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new no(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new oi((m,C)=>sr(m.canonicalString(),C.canonicalString()));return this.changes.forEach((m,C)=>{const P=this.Gn.get(m);if(t.push(this.Kn.removeEntry(e,m,P.readTime)),C.isValidDocument()){const Y=$a(this.Kn.M,C);h=h.add(m.path.popLast()),a+=Lu(Y)-P.size,t.push(this.Kn.addEntry(e,m,Y))}else if(a-=P.size,this.trackRemovals){const Y=$a(this.Kn.M,C.convertToNoDocument(Xn.min()));t.push(this.Kn.addEntry(e,m,Y))}}),h.forEach(m=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Kn.updateMetadata(e,a)),Ft.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(a=>(this.Gn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:a,qn:h})=>(h.forEach((m,C)=>{this.Gn.set(m,{size:C,readTime:a.get(m).readTime})}),a))}}function ay(i){return Zi(i,"remoteDocumentGlobal")}function Zd(i){return Zi(i,"remoteDocumentsV14")}function Xd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dm(i,e){const t=e.documentKey.path.toArray();return[i,zd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ly(i,e){const t=i.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<a.length-2;++m)if(h=sr(t[m],a[m]),h)return h;return h=sr(t.length,a.length),h||(h=sr(t[t.length-2],a[a.length-2]),h||sr(t[t.length-1],a[a.length-1]))}class Yy{constructor(e){this.M=e}kt(e,t,a,h){const m=new uu("createOrUpgrade",t);var P;a<1&&h>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tr,{unique:!0}),P.createObjectStore("documentMutations"),hm(e),function(P){P.createObjectStore("remoteDocuments")}(e));let C=Ft.resolve();return a<3&&h>=3&&(0!==a&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),hm(e)),C=C.next(()=>function(P){const Y=P.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xn.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",J)}(m))),a<4&&h>=4&&(0!==a&&(C=C.next(()=>function(P,Y){return Y.store("mutations").qt().next(J=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tr,{unique:!0});const Ne=Y.store("mutations"),it=J.map(Ot=>Ne.put(Ot));return Ft.waitFor(it)})}(e,m))),C=C.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(C=C.next(()=>this.Qn(m))),a<6&&h>=6&&(C=C.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.jn(m)))),a<7&&h>=7&&(C=C.next(()=>this.Wn(m))),a<8&&h>=8&&(C=C.next(()=>this.zn(e,m))),a<9&&h>=9&&(C=C.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(C=C.next(()=>this.Hn(m))),a<11&&h>=11&&(C=C.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(C=C.next(()=>{!function(P){const Y=P.createObjectStore("documentOverlays",{keyPath:sd});Y.createIndex("collectionPathOverlayIndex",$h,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",jh,{unique:!1})}(e)})),a<13&&h>=13&&(C=C.next(()=>function(P){const Y=P.createObjectStore("remoteDocumentsV14",{keyPath:al});Y.createIndex("documentKeyIndex",Lh),Y.createIndex("collectionGroupIndex",ll)}(e)).next(()=>this.Jn(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(C=C.next(()=>{!function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Pf}).createIndex("sequenceNumberIndex",Vh,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:aa}).createIndex("documentKeyIndex",Uh,{unique:!1})}(e)})),C}jn(e){let t=0;return e.store("remoteDocuments").Wt((a,h)=>{t+=Lu(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Qn(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.qt().next(h=>Ft.forEach(h,m=>{const C=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.qt("userMutationsIndex",C).next(P=>Ft.forEach(P,Y=>{Jn(Y.userId===m.userId);const J=Fu(this.M,Y);return Hf(e,m.userId,J).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.Wt((C,P)=>{const Y=new Xr(C),J=[0,rt(Y)];m.push(t.get(J).next(Ne=>Ne?Ft.resolve():t.put({targetId:0,path:rt(Y),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ft.waitFor(m))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Gd});const a=t.store("collectionParents"),h=new Wh,m=C=>{if(h.add(C)){const P=C.lastSegment(),Y=C.popLast();return a.put({collectionId:P,parent:rt(Y)})}};return t.store("remoteDocuments").Wt({jt:!0},(C,P)=>{const Y=new Xr(C);return m(Y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([C,P,Y],J)=>{const Ne=wn(P);return m(Ne.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((a,h)=>{const m=Wd(h),C=Lf(this.M,m);return t.put(C)})}Jn(e,t){const a=t.store("remoteDocuments"),h=[];return a.Wt((m,C)=>{const P=t.store("remoteDocumentsV14"),Y=(J=C,J.document?new fn(Xr.fromString(J.document.name).popFirst(5)):J.noDocument?fn.fromSegments(J.noDocument.path):J.unknownDocument?fn.fromSegments(J.unknownDocument.path):Pn()).path.toArray();var J;const Ne={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};h.push(P.put(Ne))}).next(()=>Ft.waitFor(h))}}function hm(i){i.createObjectStore("targetDocuments",{keyPath:Bh}).createIndex("documentTargetsIndex",Hd,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jd,{unique:!0}),i.createObjectStore("targetGlobal")}const Vu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sg{constructor(e,t,a,h,m,C,P,Y,J,Ne,it=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Yn=m,this.window=C,this.document=P,this.Xn=J,this.Zn=Ne,this.ts=it,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Ot=>Promise.resolve(),!sg.vt())throw new M(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ky(this,h),this.hs=t+"main",this.M=new ku(Y),this.ls=new ul(this.hs,this.ts,new Yy(this.M)),this.fs=new tg(this.referenceDelegate,this.M),this.ds=new cm(this.M),this._s=new ny,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Ne&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(w.FAILED_PRECONDITION,Vu);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new yi(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var a=(0,we.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,we.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Do(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Ll(e))return tn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Kh(e).get("owner").next(t=>Ft.resolve(this.Ps(t)))}Vs(e){return Do(e).delete(this.clientId)}vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Zi(a,"clientMetadata");return h.qt().next(m=>{const C=e.Ds(m,18e5),P=m.filter(Y=>-1===C.indexOf(Y));return Ft.forEach(P,Y=>h.delete(Y.clientId)).next(()=>P)})}).catch(()=>[]);if(e.ws)for(const a of t)e.ws.removeItem(e.Cs(a.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ft.resolve(!0):Kh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new M(w.FAILED_PRECONDITION,Vu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Do(e).qt().next(a=>void 0===this.Ds(a,5e3).find(h=>{if(this.clientId!==h.clientId){const C=!this.inForeground&&h.inForeground,P=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||C&&P)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&tn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new Yi(t,yi.A);return e.Rs(a).next(()=>e.Vs(a))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(a=>this.Ss(a.updateTimeMs,t)&&!this.xs(a.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Do(e).qt().next(t=>this.Ds(t,18e5).map(a=>a.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Gf.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new $f(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Vf.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,a){tn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=14===(C=this.ts)?vc:13===C?Pu:12===C?_c:11===C?yc:void Pn();var C;let P;return this.ls.runTransaction(e,h,m,Y=>(P=new Yi(Y,this.es?this.es.next():yi.A),"readwrite-primary"===t?this.Es(P).next(J=>!!J||this.As(P)).next(J=>{if(!J)throw mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new M(w.FAILED_PRECONDITION,rm);return a(P)}).next(J=>this.bs(P).next(()=>J)):this.$s(P).next(()=>a(P)))).then(Y=>(P.raiseOnCommittedEvent(),Y))}$s(e){return Kh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new M(w.FAILED_PRECONDITION,Vu)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kh(e).put("owner",t)}static vt(){return ul.vt()}Rs(e){const t=Kh(e);return t.get("owner").next(a=>this.Ps(a)?(tn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ft.resolve())}Ss(e,t){const a=Date.now();return!(e<a-t||e>a&&(mi(`Detected an update time that is in the future: ${e} > ${a}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,nt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const a=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return tn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return mi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){mi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kh(i){return Zi(i,"owner")}function Do(i){return Zi(i,"clientMetadata")}function Sc(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Wf{constructor(e,t,a){this.ds=e,this.Bs=t,this.indexManager=a}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(a=>this.Us(e,t,a))}Us(e,t,a){return this.ds.getEntry(e,t).next(h=>{for(const m of a)m.applyToLocalView(h);return h})}qs(e,t){e.forEach((a,h)=>{for(const m of t)m.applyToLocalView(h)})}Ks(e,t){return this.ds.getEntries(e,t).next(a=>this.Gs(e,a).next(()=>a))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>this.qs(t,a))}Qs(e,t,a){return fn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,t.path):Yc(t)?this.Ws(e,t,a):this.zs(e,t,a);var h}js(e,t){return this.Ls(e,new fn(t)).next(a=>{let h=Io();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}Ws(e,t,a){const h=t.collectionGroup;let m=Io();return this.indexManager.getCollectionParents(e,h).next(C=>Ft.forEach(C,P=>{const Y=(J=t,Ne=P.child(h),new Nl(Ne,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,Ne;return this.zs(e,Y,a).next(J=>{J.forEach((Ne,it)=>{m=m.insert(Ne,it)})})}).next(()=>m))}zs(e,t,a){let h;return this.ds.getAllFromCollection(e,t.path,a).next(m=>(h=m,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(m=>{for(const C of m)for(const P of C.mutations){const Y=P.key;let J=h.get(Y);null==J&&(J=hn.newInvalidDocument(Y),h=h.insert(Y,J)),cc(P,J,C.localWriteTime),J.isFoundDocument()||(h=h.remove(Y))}}).next(()=>(h.forEach((m,C)=>{rl(t,C)||(h=h.remove(m))}),h))}}class qf{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Hs=a,this.Js=h}static Ys(e,t){let a=Ai(),h=Ai();for(const m of t.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new qf(e,t.fromCache,a,h)}}class Kf{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,a,h){return this.ti(e,t).next(m=>m||this.ei(e,t,h,a)).next(m=>m||this.ni(e,t))}ti(e,t){return Ft.resolve(null)}ei(e,t,a,h){return function Df(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||h.isEqual(Xn.min())?this.ni(e,t):this.Zs.Ks(e,a).next(m=>{const C=this.si(t,m);return this.ii(t,C,a,h)?this.ni(e,t):(Ml()<=xt.in.DEBUG&&tn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ba(t)),this.ri(e,C,t,Ps(h,-1)))})}si(e,t){let a=new oi(kd(e));return t.forEach((h,m)=>{rl(e,m)&&(a=a.add(m))}),a}ii(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}ni(e,t){return Ml()<=xt.in.DEBUG&&tn("QueryEngine","Using full collection scan to execute query:",Ba(t)),this.Zs.Qs(e,t,po.min())}ri(e,t,a,h){return this.Zs.Qs(e,a,h).next(m=>(t.forEach(C=>{m=m.insert(C.key,C)}),m))}}class fm{constructor(e,t,a,h){this.persistence=e,this.oi=t,this.M=h,this.ui=new bi(sr),this.ai=new no(m=>Pl(m),tl),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(a)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Wf(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Yh(i,e,t,a){return new fm(i,e,t,a)}function Yf(i,e){return pu.apply(this,arguments)}function pu(){return pu=(0,we.Z)(function*(i,e){const t=S(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.Bs.getAllMutationBatches(a).next(m=>(h=m,t.li(e),t.Bs.getAllMutationBatches(a))).next(m=>{const C=[],P=[];let Y=Ai();for(const J of h){C.push(J.batchId);for(const Ne of J.mutations)Y=Y.add(Ne.key)}for(const J of m){P.push(J.batchId);for(const Ne of J.mutations)Y=Y.add(Ne.key)}return t.fi.Ks(a,Y).next(J=>({di:J,removedBatchIds:C,addedBatchIds:P}))})})}),pu.apply(this,arguments)}function Uu(i,e){const t=S(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=t.hi.newChangeBuffer({trackRemovals:!0});return function(C,P,Y,J){const Ne=Y.batch,it=Ne.keys();let Ot=Ft.resolve();return it.forEach(Qt=>{Ot=Ot.next(()=>J.getEntry(P,Qt)).next(nn=>{const Nn=Y.docVersions.get(Qt);Jn(null!==Nn),nn.version.compareTo(Nn)<0&&(Ne.applyToRemoteDocument(nn,Y),nn.isValidDocument()&&(nn.setReadTime(Y.commitVersion),J.addEntry(nn)))})}),Ot.next(()=>C.Bs.removeMutationBatch(P,Ne))}(t,a,e,m).next(()=>m.apply(a)).next(()=>t.Bs.performConsistencyCheck(a)).next(()=>t.fi.Ks(a,h))})}function Qd(i){const e=S(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function og(i,e){const t=S(i),a=e.snapshotVersion;let h=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const C=t.hi.newChangeBuffer({trackRemovals:!0});h=t.ui;const P=[];e.targetChanges.forEach((J,Ne)=>{const it=h.get(Ne);if(!it)return;P.push(t.fs.removeMatchingKeys(m,J.removedDocuments,Ne).next(()=>t.fs.addMatchingKeys(m,J.addedDocuments,Ne)));let Ot=it.withSequenceNumber(m.currentSequenceNumber);var Qt,nn,Nn;e.targetMismatches.has(Ne)?Ot=Ot.withResumeToken(is.EMPTY_BYTE_STRING,Xn.min()).withLastLimboFreeSnapshotVersion(Xn.min()):J.resumeToken.approximateByteSize()>0&&(Ot=Ot.withResumeToken(J.resumeToken,a)),h=h.insert(Ne,Ot),nn=Ot,Nn=J,(0===(Qt=it).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&P.push(t.fs.updateTargetData(m,Ot))});let Y=ks();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(m,J))}),P.push(pm(m,C,e.documentUpdates).next(J=>{Y=J})),!a.isEqual(Xn.min())){const J=t.fs.getLastRemoteSnapshotVersion(m).next(Ne=>t.fs.setTargetsMetadata(m,m.currentSequenceNumber,a));P.push(J)}return Ft.waitFor(P).next(()=>C.apply(m)).next(()=>t.fi.Gs(m,Y)).next(()=>Y)}).then(m=>(t.ui=h,m))}function pm(i,e,t){let a=Ai();return t.forEach(h=>a=a.add(h)),e.getEntries(i,a).next(h=>{let m=ks();return t.forEach((C,P)=>{const Y=h.get(C);P.isNoDocument()&&P.version.isEqual(Xn.min())?(e.removeEntry(C,P.readTime),m=m.insert(C,P)):!Y.isValidDocument()||P.version.compareTo(Y.version)>0||0===P.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(P),m=m.insert(C,P)):tn("LocalStore","Ignoring outdated watch update for ",C,". Current version:",Y.version," Watch version:",P.version)}),m})}function gm(i,e){const t=S(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(a,e)))}function Ac(i,e){const t=S(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.fs.getTargetData(a,e).next(m=>m?(h=m,Ft.resolve(h)):t.fs.allocateTargetId(a).next(C=>(h=new cl(e,C,0,a.currentSequenceNumber),t.fs.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.ui.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.ui=t.ui.insert(a.targetId,a),t.ai.set(e,a.targetId)),a})}function Jd(i,e,t){return cd.apply(this,arguments)}function cd(){return cd=(0,we.Z)(function*(i,e,t){const a=S(i),h=a.ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",m,C=>a.persistence.referenceDelegate.removeTarget(C,h)))}catch(C){if(!Ll(C))throw C;tn("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}a.ui=a.ui.remove(e),a.ai.delete(h.target)}),cd.apply(this,arguments)}function gu(i,e,t){const a=S(i);let h=Xn.min(),m=Ai();return a.persistence.runTransaction("Execute query","readonly",C=>function(P,Y,J){const Ne=S(P),it=Ne.ai.get(J);return void 0!==it?Ft.resolve(Ne.ui.get(it)):Ne.fs.getTargetData(Y,J)}(a,C,Go(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,a.fs.getMatchingKeysForTargetId(C,P.targetId).next(Y=>{m=Y})}).next(()=>a.oi.Qs(C,e,t?h:Xn.min(),t?m:Ai())).next(P=>(Bl(a,Sf(e),P),{documents:P,_i:m})))}function dd(i,e){const t=S(i),a=S(t.fs),h=t.ui.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>a.Et(m,e).next(C=>C?C.target:null))}function hd(i,e){const t=S(i),a=t.ci.get(e)||Xn.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.hi.getAllFromCollectionGroup(h,e,Ps(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Bl(t,e,h),h))}function Bl(i,e,t){let a=Xn.min();t.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),i.ci.set(e,a)}function Zf(){return Zf=(0,we.Z)(function*(i,e,t,a){const h=S(i);let m=Ai(),C=ks();for(const J of t){const Ne=e.wi(J.metadata.name);J.document&&(m=m.add(Ne));const it=e.mi(J);it.setReadTime(e.gi(J.metadata.readTime)),C=C.insert(Ne,it)}const P=h.hi.newChangeBuffer({trackRemovals:!0}),Y=yield Ac(h,(J=a,Go(nl(Xr.fromString(`__bundle__/docs/${J}`)))));var J;return h.persistence.runTransaction("Apply bundle documents","readwrite",J=>pm(J,P,C).next(Ne=>(P.apply(J),Ne)).next(Ne=>h.fs.removeMatchingKeysForTargetId(J,Y.targetId).next(()=>h.fs.addMatchingKeys(J,m,Y.targetId)).next(()=>h.fi.Gs(J,Ne)).next(()=>Ne)))}),Zf.apply(this,arguments)}function ag(i,e){return pd.apply(this,arguments)}function pd(){return pd=(0,we.Z)(function*(i,e,t=Ai()){const a=yield Ac(i,Go(Bf(e.bundledQuery))),h=S(i);return h.persistence.runTransaction("Save named query","readwrite",m=>{const C=Un(e.readTime);if(a.snapshotVersion.compareTo(C)>=0)return h._s.saveNamedQuery(m,e);const P=a.withResumeToken(is.EMPTY_BYTE_STRING,C);return h.ui=h.ui.insert(P.targetId,P),h.fs.updateTargetData(m,P).next(()=>h.fs.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.fs.addMatchingKeys(m,t,a.targetId)).next(()=>h._s.saveNamedQuery(m,e))})}),pd.apply(this,arguments)}class eh{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Ft.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var a;return this.yi.set(t.id,{id:(a=t).id,version:a.version,createTime:Un(a.createTime)}),Ft.resolve()}getNamedQuery(e,t){return Ft.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(a=t).name,query:Bf(a.bundledQuery),readTime:Un(a.readTime)}),Ft.resolve();var a}}class Zh{constructor(){this.overlays=new bi(fn.comparator),this.Ii=new Map}getOverlay(e,t){return Ft.resolve(this.overlays.get(t))}saveOverlays(e,t,a){return a.forEach((h,m)=>{this.Xt(e,t,m)}),Ft.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.Ii.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ii.delete(a)),Ft.resolve()}getOverlaysForCollection(e,t,a){const h=ed(),m=t.length+1,C=new fn(t.child("")),P=this.overlays.getIteratorFrom(C);for(;P.hasNext();){const Y=P.getNext().value,J=Y.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===m&&Y.largestBatchId>a&&h.set(Y.getKey(),Y)}return Ft.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let m=new bi((J,Ne)=>J-Ne);const C=this.overlays.getIterator();for(;C.hasNext();){const J=C.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>a){let Ne=m.get(J.largestBatchId);null===Ne&&(Ne=ed(),m=m.insert(J.largestBatchId,Ne)),Ne.set(J.getKey(),J)}}const P=ed(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((J,Ne)=>P.set(J,Ne)),!(P.size()>=h)););return Ft.resolve(P)}Xt(e,t,a){if(null===a)return;const h=this.overlays.get(a.key);if(null!==h){const C=this.Ii.get(h.largestBatchId).delete(a.key);this.Ii.set(h.largestBatchId,C)}this.overlays=this.overlays.insert(a.key,new zh(t,a));let m=this.Ii.get(t);void 0===m&&(m=Ai(),this.Ii.set(t,m)),this.Ii.set(t,m.add(a.key))}}class th{constructor(){this.Ti=new oi(js.Ei),this.Ai=new oi(js.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const a=new js(e,t);this.Ti=this.Ti.add(a),this.Ai=this.Ai.add(a)}bi(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Pi(new js(e,t))}Vi(e,t){e.forEach(a=>this.removeReference(a,t))}vi(e){const t=new fn(new Xr([])),a=new js(t,e),h=new js(t,e+1),m=[];return this.Ai.forEachInRange([a,h],C=>{this.Pi(C),m.push(C.key)}),m}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new fn(new Xr([])),a=new js(t,e),h=new js(t,e+1);let m=Ai();return this.Ai.forEachInRange([a,h],C=>{m=m.add(C.key)}),m}containsKey(e){const t=new js(e,0),a=this.Ti.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class js{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return fn.comparator(e.key,t.key)||sr(e.Ci,t.Ci)}static Ri(e,t){return sr(e.Ci,t.Ci)||fn.comparator(e.key,t.key)}}class uy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new oi(js.Ei)}checkEmpty(e){return Ft.resolve(0===this.Bs.length)}addMutationBatch(e,t,a,h){const m=this.xi;this.xi++;const C=new cu(m,t,a,h);this.Bs.push(C);for(const P of h)this.Ni=this.Ni.add(new js(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Ft.resolve(C)}lookupMutationBatch(e,t){return Ft.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.Mi(t+1),m=h<0?0:h;return Ft.resolve(this.Bs.length>m?this.Bs[m]:null)}getHighestUnacknowledgedBatchId(){return Ft.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Ft.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new js(t,0),h=new js(t,Number.POSITIVE_INFINITY),m=[];return this.Ni.forEachInRange([a,h],C=>{const P=this.ki(C.Ci);m.push(P)}),Ft.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new oi(sr);return t.forEach(h=>{const m=new js(h,0),C=new js(h,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([m,C],P=>{a=a.add(P.Ci)})}),Ft.resolve(this.Oi(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let m=a;fn.isDocumentKey(m)||(m=m.child(""));const C=new js(new fn(m),0);let P=new oi(sr);return this.Ni.forEachWhile(Y=>{const J=Y.key.path;return!!a.isPrefixOf(J)&&(J.length===h&&(P=P.add(Y.Ci)),!0)},C),Ft.resolve(this.Oi(P))}Oi(e){const t=[];return e.forEach(a=>{const h=this.ki(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){Jn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let a=this.Ni;return Ft.forEach(t.mutations,h=>{const m=new js(h.key,t.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Ni=a})}_n(e){}containsKey(e,t){const a=new js(t,0),h=this.Ni.firstAfterOrEqual(a);return Ft.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Ft.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class nh{constructor(e){this.$i=e,this.docs=new bi(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),m=h?h.size:0,C=this.$i(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:C}),this.size+=C-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Ft.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let a=ks();return t.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():hn.newInvalidDocument(h))}),Ft.resolve(a)}getAllFromCollection(e,t,a){let h=ks();const m=new fn(t.child("")),C=this.docs.getIteratorFrom(m);for(;C.hasNext();){const{key:P,value:{document:Y}}=C.getNext();if(!t.isPrefixOf(P.path))break;P.path.length>t.length+1||na(el(Y),a)<=0||(h=h.insert(Y.key,Y.mutableCopy()))}return Ft.resolve(h)}getAllFromCollectionGroup(e,t,a,h){Pn()}Bi(e,t){return Ft.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Zy(this)}getSize(e){return Ft.resolve(this.size)}}class Zy extends Yd{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(a)}),Ft.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class mm{constructor(e){this.persistence=e,this.Li=new no(t=>Pl(t),tl),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new th,this.targetCount=0,this.Ki=Bu.gn()}forEachTarget(e,t){return this.Li.forEach((a,h)=>t(h)),Ft.resolve()}getLastRemoteSnapshotVersion(e){return Ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ft.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Ft.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Ui&&(this.Ui=t),Ft.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Bu(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ft.resolve()}updateTargetData(e,t){return this.Tn(t),Ft.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Ft.resolve()}removeTargets(e,t,a){let h=0;const m=[];return this.Li.forEach((C,P)=>{P.sequenceNumber<=t&&null===a.get(P.targetId)&&(this.Li.delete(C),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),Ft.waitFor(m).next(()=>h)}getTargetCount(e){return Ft.resolve(this.targetCount)}getTargetData(e,t){const a=this.Li.get(t)||null;return Ft.resolve(a)}addMatchingKeys(e,t,a){return this.qi.bi(t,a),Ft.resolve()}removeMatchingKeys(e,t,a){this.qi.Vi(t,a);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(C=>{m.push(h.markPotentiallyOrphaned(e,C))}),Ft.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Ft.resolve()}getMatchingKeysForTargetId(e,t){const a=this.qi.Di(t);return Ft.resolve(a)}containsKey(e,t){return Ft.resolve(this.qi.containsKey(t))}}class ym{constructor(e,t){this.Gi={},this.overlays={},this.es=new yi(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new mm(this),this.indexManager=new eg,this.ds=new nh(a=>this.referenceDelegate.Qi(a)),this.M=new ku(t),this._s=new eh(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Gi[e.toKey()];return a||(a=new uy(t,this.referenceDelegate),this.Gi[e.toKey()]=a),a}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,a){tn("MemoryPersistence","Starting transaction:",e);const h=new lg(this.es.next());return this.referenceDelegate.ji(),a(h).next(m=>this.referenceDelegate.Wi(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}zi(e,t){return Ft.or(Object.values(this.Gi).map(a=>()=>a.containsKey(e,t)))}}class lg extends Zp{constructor(e){super(),this.currentSequenceNumber=e}}class rh{constructor(e){this.persistence=e,this.Hi=new th,this.Ji=null}static Yi(e){return new rh(e)}get Xi(){if(this.Ji)return this.Ji;throw Pn()}addReference(e,t,a){return this.Hi.addReference(a,t),this.Xi.delete(a.toString()),Ft.resolve()}removeReference(e,t,a){return this.Hi.removeReference(a,t),this.Xi.add(a.toString()),Ft.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Ft.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(h=>this.Xi.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Xi.add(m.toString()))}).next(()=>a.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ft.forEach(this.Xi,a=>{const h=fn.fromPath(a);return this.Zi(e,h).next(m=>{m||t.removeEntry(h,Xn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(a=>{a?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Ft.or([()=>Ft.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function _m(i,e){return`firestore_clients_${i}_${e}`}function ug(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function ua(i,e){return`firestore_targets_${i}_${e}`}class Xf{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static tr(e,t,a){const h=JSON.parse(a);let m,C="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return C&&h.error&&(C="string"==typeof h.error.message&&"string"==typeof h.error.code,C&&(m=new M(h.error.code,h.error.message))),C?new Xf(e,t,h.state,m):(mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ih{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static tr(e,t){const a=JSON.parse(t);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new M(a.error.code,a.error.message))),m?new ih(e,a.state,h):(mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=ro();for(let C=0;h&&C<a.activeTargetIds.length;++C)h=Eo(a.activeTargetIds[C]),m=m.add(a.activeTargetIds[C]);return h?new Xh(e,m):(mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qf{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qf(t.clientId,t.onlineState):(mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sh{constructor(){this.activeTargetIds=ro()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qh{constructor(e,t,a,h,m){this.window=e,this.Yn=t,this.persistenceKey=a,this.ir=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new bi(sr),this.started=!1,this.cr=[];const C=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.hr=_m(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new sh),this.dr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Fs();for(const h of t){if(h===e.ir)continue;const m=e.getItem(_m(e.persistenceKey,h));if(m){const C=Xh.tr(h,m);C&&(e.ar=e.ar.insert(C.clientId,C))}}e.yr();const a=e.storage.getItem(e.mr);if(a){const h=e.pr(a);h&&e.Ir(h)}for(const h of e.cr)e.ur(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,a){this.Er(e,t,a),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(ua(this.persistenceKey,e));if(a){const h=ih.tr(e,a);h&&(t=h.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ua(this.persistenceKey,e))}updateQueryState(e,t,a){this.br(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Ar(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return tn("SharedClientState","READ",e,t),t}setItem(e,t){tn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){tn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const a=e;if(a.storageArea===this.storage){if(tn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.hr)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==a.key)if(t.dr.test(a.key)){if(null==a.newValue){const h=t.vr(a.key);return t.Sr(h,null)}{const h=t.Dr(a.key,a.newValue);if(h)return t.Sr(h.clientId,h)}}else if(t._r.test(a.key)){if(null!==a.newValue){const h=t.Cr(a.key,a.newValue);if(h)return t.Nr(h)}}else if(t.wr.test(a.key)){if(null!==a.newValue){const h=t.kr(a.key,a.newValue);if(h)return t.Mr(h)}}else if(a.key===t.mr){if(null!==a.newValue){const h=t.pr(a.newValue);if(h)return t.Ir(h)}}else if(a.key===t.lr){const h=function(m){let C=yi.A;if(null!=m)try{const P=JSON.parse(m);Jn("number"==typeof P),C=P}catch(P){mi("SharedClientState","Failed to read sequence number from WebStorage",P)}return C}(a.newValue);h!==yi.A&&t.sequenceNumberHandler(h)}else if(a.key===t.gr){const h=t.Or(a.newValue);yield Promise.all(h.map(m=>t.syncEngine.Fr(m)))}}else t.cr.push(a)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,a){const h=new Xf(this.currentUser,e,t,a),m=ug(this.persistenceKey,this.currentUser,e);this.setItem(m,h.er())}Ar(e){const t=ug(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,a){const h=ua(this.persistenceKey,e),m=new ih(e,t,a);this.setItem(h,m.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const a=this.vr(e);return Xh.tr(a,t)}Cr(e,t){const a=this._r.exec(e),h=Number(a[1]);return Xf.tr(new ps(void 0!==a[2]?a[2]:null),h,t)}kr(e,t){const a=this.wr.exec(e),h=Number(a[1]);return ih.tr(h,t)}pr(e){return Qf.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);tn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const a=t?this.ar.insert(e,t):this.ar.remove(e),h=this.Tr(this.ar),m=this.Tr(a),C=[],P=[];return m.forEach(Y=>{h.has(Y)||C.push(Y)}),h.forEach(Y=>{m.has(Y)||P.push(Y)}),this.syncEngine.Lr(C,P).then(()=>{this.ar=a})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=ro();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class xc{constructor(){this.Ur=new sh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,a){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new sh,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jh{Kr(e){}shutdown(){}}class Jf{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){tn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){tn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ep{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class vm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,a,h,m){const C=this.ho(e,t);tn("RestConnection","Sending: ",C,a);const P={};return this.lo(P,h,m),this.fo(e,C,P,a).then(Y=>(tn("RestConnection","Received: ",Y),Y),Y=>{throw vo("RestConnection",`${e} failed with error: `,Y,"url: ",C,"request:",a),Y})}_o(e,t,a,h,m){return this.co(e,t,a,h,m)}lo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),a&&a.headers.forEach((h,m)=>e[m]=h)}ho(e,t){return`${this.uo}/v1/${t}:${cy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,a,h){return new Promise((m,C)=>{const P=new Pa;P.listenOnce(Jo.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Al.NO_ERROR:const J=P.getResponseJson();tn("Connection","XHR received:",JSON.stringify(J)),m(J);break;case Al.TIMEOUT:tn("Connection",'RPC "'+e+'" timed out'),C(new M(w.DEADLINE_EXCEEDED,"Request time out"));break;case Al.HTTP_ERROR:const Ne=P.getStatus();if(tn("Connection",'RPC "'+e+'" failed with status:',Ne,"response text:",P.getResponseText()),Ne>0){const it=P.getResponseJson().error;if(it&&it.status&&it.message){const Ot=function(Qt){const nn=Qt.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(nn)>=0?nn:w.UNKNOWN}(it.status);C(new M(Ot,it.message))}else C(new M(w.UNKNOWN,"Server responded with status "+P.getStatus()))}else C(new M(w.UNAVAILABLE,"Connection failed."));break;default:Pn()}}finally{tn("Connection",'RPC "'+e+'" completed.')}});const Y=JSON.stringify(h);P.send(t,"POST",Y,a,15)})}wo(e,t,a){const h=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=wu(),C=Ks(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new Ni({})),this.lo(P.initMessageHeaders,t,a),(0,nt.uI)()||(0,nt.b$)()||(0,nt.d)()||(0,nt.w1)()||(0,nt.Mn)()||(0,nt.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const Y=h.join("");tn("Connection","Creating WebChannel: "+Y,P);const J=m.createWebChannel(Y,P);let Ne=!1,it=!1;const Ot=new ep({Jr:nn=>{it?tn("Connection","Not sending because WebChannel is closed:",nn):(Ne||(tn("Connection","Opening WebChannel transport."),J.open(),Ne=!0),tn("Connection","WebChannel sending:",nn),J.send(nn))},Yr:()=>J.close()}),Qt=(nn,Nn,Tr)=>{nn.listen(Nn,Hs=>{try{Tr(Hs)}catch(lo){setTimeout(()=>{throw lo},0)}})};return Qt(J,fa.EventType.OPEN,()=>{it||tn("Connection","WebChannel transport opened.")}),Qt(J,fa.EventType.CLOSE,()=>{it||(it=!0,tn("Connection","WebChannel transport closed"),Ot.ro())}),Qt(J,fa.EventType.ERROR,nn=>{it||(it=!0,vo("Connection","WebChannel transport errored:",nn),Ot.ro(new M(w.UNAVAILABLE,"The operation could not be completed")))}),Qt(J,fa.EventType.MESSAGE,nn=>{var Nn;if(!it){const Tr=nn.data[0];Jn(!!Tr);const Hs=Tr,lo=Hs.error||(null===(Nn=Hs[0])||void 0===Nn?void 0:Nn.error);if(lo){tn("Connection","WebChannel received error:",lo);const Gi=lo.status;let Ao=function(io){const Sa=Yn[io];if(void 0!==Sa)return Nh(Sa)}(Gi),Gs=lo.message;void 0===Ao&&(Ao=w.INTERNAL,Gs="Unknown error status: "+Gi+" with message "+lo.message),it=!0,Ot.ro(new M(Ao,Gs)),J.close()}else tn("Connection","WebChannel received:",Tr),Ot.oo(Tr)}}),Qt(C,bs.STAT_EVENT,nn=>{nn.stat===xl.PROXY?tn("Connection","Detected buffering proxy"):nn.stat===xl.NOPROXY&&tn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ot.io()},0),Ot}}function cg(){return"undefined"!=typeof window?window:null}function Mc(){return"undefined"!=typeof document?document:null}function Rc(i){return new Bd(i,!0)}class dg{constructor(e,t,a=1e3,h=1.5,m=6e4){this.Yn=e,this.timerId=t,this.mo=a,this.yo=h,this.po=m,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),h=Math.max(0,t-a);h>0&&tn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Em{constructor(e,t,a,h,m,C,P,Y){this.Yn=e,this.Vo=a,this.vo=h,this.So=m,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=P,this.listener=Y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new dg(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,we.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,we.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var a=this;return(0,we.Z)(function*(){a.Uo(),a.qo(),a.No.cancel(),a.Do++,4!==e?a.No.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),a.No.Ao()):t&&t.code===w.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Ko(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Do===t&&this.Qo(a,h)},a=>{e(()=>{const h=new M(w.UNKNOWN,"Fetching auth token failed: "+a.message);return this.jo(h)})})}Qo(e,t){const a=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{a(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(h=>{a(()=>this.jo(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.No.Ro((0,we.Z)(function*(){e.state=0,e.start()}))}jo(e){return tn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(tn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bm extends Em{constructor(e,t,a,h,m,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,C),this.M=m}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Of(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Pn(),h=e.targetChange.targetIds||[],m=function(Y,J){return Y.N?(Jn(void 0===J||"string"==typeof J),is.fromBase64String(J||"")):(Jn(void 0===J||J instanceof Uint8Array),is.fromUint8Array(J||new Uint8Array))}(i,e.targetChange.resumeToken),C=e.targetChange.cause,P=C&&function(Y){const J=void 0===Y.code?w.UNKNOWN:Nh(Y.code);return new M(J,Y.message||"")}(C);t=new iu(a,h,m,P||null)}else if("documentChange"in e){const a=e.documentChange,h=hi(i,a.document.name),m=Un(a.document.updateTime),C=new Dt({mapValue:{fields:a.document.fields}}),P=hn.newFoundDocument(h,m,C);t=new Mu(a.targetIds||[],a.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const a=e.documentDelete,h=hi(i,a.document),m=a.readTime?Un(a.readTime):Xn.min(),C=hn.newNoDocument(h,m);t=new Mu([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const a=e.documentRemove,h=hi(i,a.document);t=new Mu([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Pn();{const a=e.filter,m=new kl(a.count||0);t=new Zs(a.targetId,m)}}var Y;return t}(this.M,e),a=function(h){if(!("targetChange"in h))return Xn.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Xn.min():m.readTime?Un(m.readTime):Xn.min()}(e);return this.listener.zo(t,a)}Ho(e){const t={};t.database=Ou(this.M),t.addTarget=function(h,m){let C;const P=m.target;return C=nc(P)?{documents:au(h,P)}:{query:mc(h,P)},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?C.resumeToken=Ea(h,m.resumeToken):m.snapshotVersion.compareTo(Xn.min())>0&&(C.readTime=Ua(h,m.snapshotVersion.toTimestamp())),C}(this.M,e);const a=function Yp(i,e){const t=function(a,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Lo(t)}Jo(e){const t={};t.database=Ou(this.M),t.removeTarget=e,this.Lo(t)}}class tp extends Em{constructor(e,t,a,h,m,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,C),this.M=m,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Fh(i,e){return i&&i.length>0?(Jn(void 0!==e),i.map(t=>function(a,h){let m=Un(a.updateTime?a.updateTime:h);return m.isEqual(Xn.min())&&(m=Un(h)),new xf(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Un(e.commitTime);return this.listener.tu(a,t)}return Jn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ou(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Wo(this.M,a))};this.Lo(t)}}class np extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=a,this.M=h,this.su=!1}iu(){if(this.su)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,a){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.So.co(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new M(w.UNKNOWN,h.toString())})}_o(e,t,a){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.So._o(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new M(w.UNKNOWN,h.toString())})}terminate(){this.su=!0}}class Vl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(mi(t),this.uu=!1):tn("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class hg{constructor(e,t,a,h,m){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=m,this.gu.Kr(P=>{a.enqueueAndForget((0,we.Z)(function*(){var Y;hl(C)&&(tn("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,we.Z)(function*(J){const Ne=S(J);Ne.wu.add(4),yield ju(Ne),Ne.yu.set("Unknown"),Ne.wu.delete(4),yield $u(Ne)}),function(J){return Y.apply(this,arguments)})(C))}))}),this.yu=new Vl(a,h)}}function $u(i){return dl.apply(this,arguments)}function dl(){return dl=(0,we.Z)(function*(i){if(hl(i))for(const e of i.mu)yield e(!0)}),dl.apply(this,arguments)}function ju(i){return rp.apply(this,arguments)}function rp(){return rp=(0,we.Z)(function*(i){for(const e of i.mu)yield e(!1)}),rp.apply(this,arguments)}function ef(i,e){const t=S(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),wa(t)?fg(t):Ed(t).Mo()&&md(t,e))}function gd(i,e){const t=S(i),a=Ed(t);t._u.delete(e),a.Mo()&&Oc(t,e),0===t._u.size&&(a.Mo()?a.$o():hl(t)&&t.yu.set("Unknown"))}function md(i,e){i.pu.Z(e.targetId),Ed(i).Ho(e)}function Oc(i,e){i.pu.Z(e),Ed(i).Jo(e)}function fg(i){i.pu=new Kp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),Ed(i).start(),i.yu.au()}function wa(i){return hl(i)&&!Ed(i).ko()&&i._u.size>0}function hl(i){return 0===S(i).wu.size}function ip(i){i.pu=void 0}function sp(i){return yd.apply(this,arguments)}function yd(){return yd=(0,we.Z)(function*(i){i._u.forEach((e,t)=>{md(i,e)})}),yd.apply(this,arguments)}function Ia(i,e){return tf.apply(this,arguments)}function tf(){return tf=(0,we.Z)(function*(i,e){ip(i),wa(i)?(i.yu.lu(e),fg(i)):i.yu.set("Unknown")}),tf.apply(this,arguments)}function dy(i,e,t){return op.apply(this,arguments)}function op(){return op=(0,we.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof iu&&2===e.state&&e.cause)try{yield(a=(0,we.Z)(function*(h,m){const C=m.cause;for(const P of m.targetIds)h._u.has(P)&&(yield h.remoteSyncer.rejectListen(P,C),h._u.delete(P),h.pu.removeTarget(P))}),function(h,m){return a.apply(this,arguments)})(i,e)}catch(a){tn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield oh(i,a)}else if(e instanceof Mu?i.pu.ut(e):e instanceof Zs?i.pu._t(e):i.pu.ht(e),!t.isEqual(Xn.min()))try{const a=yield Qd(i.localStore);t.compareTo(a)>=0&&(yield function(h,m){const C=h.pu.yt(m);return C.targetChanges.forEach((P,Y)=>{if(P.resumeToken.approximateByteSize()>0){const J=h._u.get(Y);J&&h._u.set(Y,J.withResumeToken(P.resumeToken,m))}}),C.targetMismatches.forEach(P=>{const Y=h._u.get(P);if(!Y)return;h._u.set(P,Y.withResumeToken(is.EMPTY_BYTE_STRING,Y.snapshotVersion)),Oc(h,P);const J=new cl(Y.target,P,1,Y.sequenceNumber);md(h,J)}),h.remoteSyncer.applyRemoteEvent(C)}(i,t))}catch(a){tn("RemoteStore","Failed to raise snapshot:",a),yield oh(i,a)}var a}),op.apply(this,arguments)}function oh(i,e,t){return wm.apply(this,arguments)}function wm(){return wm=(0,we.Z)(function*(i,e,t){if(!Ll(e))throw e;i.wu.add(1),yield ju(i),i.yu.set("Offline"),t||(t=()=>Qd(i.localStore)),i.asyncQueue.enqueueRetryable((0,we.Z)(function*(){tn("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield $u(i)}))}),wm.apply(this,arguments)}function Im(i,e){return e().catch(t=>oh(i,t,e))}function Pc(i){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,we.Z)(function*(i){const e=S(i),t=Ga(e);let a=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;pg(e);)try{const h=yield gm(e.localStore,a);if(null===h){0===e.du.length&&t.$o();break}a=h.batchId,gg(e,h)}catch(h){yield oh(e,h)}mg(e)&&fl(e)}),Nc.apply(this,arguments)}function pg(i){return hl(i)&&i.du.length<10}function gg(i,e){i.du.push(e);const t=Ga(i);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function mg(i){return hl(i)&&!Ga(i).ko()&&i.du.length>0}function fl(i){Ga(i).start()}function _d(i){return yg.apply(this,arguments)}function yg(){return yg=(0,we.Z)(function*(i){Ga(i).nu()}),yg.apply(this,arguments)}function _g(i){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,we.Z)(function*(i){const e=Ga(i);for(const t of i.du)e.Zo(t.mutations)}),Cm.apply(this,arguments)}function vg(i,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,we.Z)(function*(i,e,t){const a=i.du.shift(),h=Ec.from(a,e,t);yield Im(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield Pc(i)}),ap.apply(this,arguments)}function lp(i,e){return vd.apply(this,arguments)}function vd(){return vd=(0,we.Z)(function*(i,e){var t;e&&Ga(i).Xo&&(yield(t=(0,we.Z)(function*(a,h){if(Jc(m=h.code)&&m!==w.ABORTED){const C=a.du.shift();Ga(a).Fo(),yield Im(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,h)),yield Pc(a)}var m}),function(a,h){return t.apply(this,arguments)})(i,e)),mg(i)&&fl(i)}),vd.apply(this,arguments)}function Dm(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,we.Z)(function*(i,e){const t=S(i);t.asyncQueue.verifyOperationInProgress(),tn("RemoteStore","RemoteStore received new credentials");const a=hl(t);t.wu.add(3),yield ju(t),a&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield $u(t)}),nf.apply(this,arguments)}function ah(i,e){return rf.apply(this,arguments)}function rf(){return rf=(0,we.Z)(function*(i,e){const t=S(i);e?(t.wu.delete(2),yield $u(t)):e||(t.wu.add(2),yield ju(t),t.yu.set("Unknown"))}),rf.apply(this,arguments)}function Ed(i){return i.Iu||(i.Iu=function(e,t,a){const h=S(e);return h.iu(),new bm(t,h.So,h.authCredentials,h.appCheckCredentials,h.M,a)}(i.datastore,i.asyncQueue,{Xr:sp.bind(null,i),eo:Ia.bind(null,i),zo:dy.bind(null,i)}),i.mu.push(function(){var e=(0,we.Z)(function*(t){t?(i.Iu.Fo(),wa(i)?fg(i):i.yu.set("Unknown")):(yield i.Iu.stop(),ip(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Ga(i){return i.Tu||(i.Tu=function(e,t,a){const h=S(e);return h.iu(),new tp(t,h.So,h.authCredentials,h.appCheckCredentials,h.M,a)}(i.datastore,i.asyncQueue,{Xr:_d.bind(null,i),eo:lp.bind(null,i),eu:_g.bind(null,i),tu:vg.bind(null,i)}),i.mu.push(function(){var e=(0,we.Z)(function*(t){t?(i.Tu.Fo(),yield Pc(i)):(yield i.Tu.stop(),i.du.length>0&&(tn("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class pl{constructor(e,t,a,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,a,h,m){const C=Date.now()+a,P=new pl(e,t,C,h,m);return P.start(a),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lh(i,e){if(mi("AsyncQueue",`${e}: ${i}`),Ll(i))return new M(w.UNAVAILABLE,`${e}: ${i}`);throw i}class kc{constructor(e){this.comparator=e?(t,a)=>e(t,a)||fn.comparator(t.key,a.key):(t,a)=>fn.comparator(t.key,a.key),this.keyedMap=Io(),this.sortedSet=new bi(this.comparator)}static emptySet(e){return new kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new kc;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class uh{constructor(){this.Eu=new bi(fn.comparator)}track(e){const t=e.doc.key,a=this.Eu.get(t);a?0!==e.type&&3===a.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==a.type?this.Eu=this.Eu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Eu=this.Eu.remove(t):1===e.type&&2===a.type?this.Eu=this.Eu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Pn():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Ul{constructor(e,t,a,h,m,C,P,Y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=C,this.syncStateChanged=P,this.excludesMetadataChanges=Y}static fromInitialDocuments(e,t,a,h){const m=[];return t.forEach(C=>{m.push({type:0,doc:C})}),new Ul(e,t,kc.emptySet(t),m,a,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class bd{constructor(){this.Ru=void 0,this.listeners=[]}}class hy{constructor(){this.queries=new no(e=>Ah(e),ac),this.onlineState="Unknown",this.bu=new Set}}function up(i,e){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,we.Z)(function*(i,e){const t=S(i),a=e.query;let h=!1,m=t.queries.get(a);if(m||(h=!0,m=new bd),h)try{m.Ru=yield t.onListen(a)}catch(C){const P=lh(C,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(P)}t.queries.set(a,m),m.listeners.push(e),e.Pu(t.onlineState),m.Ru&&e.Vu(m.Ru)&&za(t)}),Hu.apply(this,arguments)}function cp(i,e){return ch.apply(this,arguments)}function ch(){return ch=(0,we.Z)(function*(i,e){const t=S(i),a=e.query;let h=!1;const m=t.queries.get(a);if(m){const C=m.listeners.indexOf(e);C>=0&&(m.listeners.splice(C,1),h=0===m.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),ch.apply(this,arguments)}function Eg(i,e){const t=S(i);let a=!1;for(const h of e){const C=t.queries.get(h.query);if(C){for(const P of C.listeners)P.Vu(h)&&(a=!0);C.Ru=h}}a&&za(t)}function bg(i,e,t){const a=S(i),h=a.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);a.queries.delete(e)}function za(i){i.bu.forEach(e=>{e.next()})}class sf{constructor(e,t,a){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=a||{}}Vu(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Ul(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class dp{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class wg{constructor(e){this.M=e}wi(e){return hi(this.M,e)}mi(e){return e.metadata.exists?id(this.M,e.document,!1):hn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Un(e)}}class Ig{constructor(e,t,a){this.Ou=e,this.localStore=t,this.M=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hp(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const a=Xr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,a=new wg(this.M);for(const h of e)if(h.metadata.queries){const m=a.wi(h.metadata.name);for(const C of h.metadata.queries){const P=(t.get(C)||Ai()).add(m);t.set(C,P)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function fd(i,e,t,a){return Zf.apply(this,arguments)}(e.localStore,new wg(e.M),e.documents,e.Ou.id),a=e.$u(e.documents);for(const h of e.queries)yield ag(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function hp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Cg{constructor(e){this.key=e}}class Dg{constructor(e){this.key=e}}class ca{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Ai(),this.mutatedKeys=Ai(),this.Gu=kd(e),this.Qu=new kc(this.Gu)}get ju(){return this.Uu}Wu(e,t){const a=t?t.zu:new uh,h=t?t.Qu:this.Qu;let m=t?t.mutatedKeys:this.mutatedKeys,C=h,P=!1;const Y="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,J="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Ne,it)=>{const Ot=h.get(Ne),Qt=rl(this.query,it)?it:null,nn=!!Ot&&this.mutatedKeys.has(Ot.key),Nn=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let Tr=!1;Ot&&Qt?Ot.data.isEqual(Qt.data)?nn!==Nn&&(a.track({type:3,doc:Qt}),Tr=!0):this.Hu(Ot,Qt)||(a.track({type:2,doc:Qt}),Tr=!0,(Y&&this.Gu(Qt,Y)>0||J&&this.Gu(Qt,J)<0)&&(P=!0)):!Ot&&Qt?(a.track({type:0,doc:Qt}),Tr=!0):Ot&&!Qt&&(a.track({type:1,doc:Ot}),Tr=!0,(Y||J)&&(P=!0)),Tr&&(Qt?(C=C.add(Qt),m=Nn?m.add(Ne):m.delete(Ne)):(C=C.delete(Ne),m=m.delete(Ne)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const Ne="F"===this.query.limitType?C.last():C.first();C=C.delete(Ne.key),m=m.delete(Ne.key),a.track({type:1,doc:Ne})}return{Qu:C,zu:a,ii:P,mutatedKeys:m}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const m=e.zu.Au();m.sort((J,Ne)=>function(it,Ot){const Qt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn()}};return Qt(it)-Qt(Ot)}(J.type,Ne.type)||this.Gu(J.doc,Ne.doc)),this.Ju(a);const C=t?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,Y=P!==this.qu;return this.qu=P,0!==m.length||Y?{snapshot:new Ul(this.query,e.Qu,h,m,e.mutatedKeys,0===P,Y,!1),Xu:C}:{Xu:C}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new uh,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ai(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const t=[];return e.forEach(a=>{this.Ku.has(a)||t.push(new Dg(a))}),this.Ku.forEach(a=>{e.has(a)||t.push(new Cg(a))}),t}ta(e){this.Uu=e._i,this.Ku=Ai();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Ul.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class fp{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Gu{constructor(e){this.key=e,this.na=!1}}class Tg{constructor(e,t,a,h,m,C){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=C,this.sa={},this.ia=new no(P=>Ah(P),ac),this.ra=new Map,this.oa=new Set,this.ua=new bi(fn.comparator),this.aa=new Map,this.ca=new th,this.ha={},this.la=new Map,this.fa=Bu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Wa(i,e){return zu.apply(this,arguments)}function zu(){return zu=(0,we.Z)(function*(i,e){const t=yu(i);let a,h;const m=t.ia.get(e);if(m)a=m.targetId,t.sharedClientState.addLocalQueryTarget(a),h=m.view.ea();else{const C=yield Ac(t.localStore,Go(e));t.isPrimaryClient&&ef(t.remoteStore,C);const P=t.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,h=yield pp(t,e,a,"current"===P)}return h}),zu.apply(this,arguments)}function pp(i,e,t,a){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,we.Z)(function*(i,e,t,a){i._a=(Ne,it,Ot)=>{return(Qt=(0,we.Z)(function*(nn,Nn,Tr,Hs){let lo=Nn.view.Wu(Tr);lo.ii&&(lo=yield gu(nn.localStore,Nn.query,!1).then(({documents:Gs})=>Nn.view.Wu(Gs,lo)));const Gi=Hs&&Hs.targetChanges.get(Nn.targetId),Ao=Nn.view.applyChanges(lo,nn.isPrimaryClient,Gi);return _p(nn,Nn.targetId,Ao.Xu),Ao.snapshot}),function(nn,Nn,Tr,Hs){return Qt.apply(this,arguments)})(i,Ne,it,Ot);var Qt};const h=yield gu(i.localStore,e,!0),m=new ca(e,h._i),C=m.Wu(h.documents),P=Va.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState),Y=m.applyChanges(C,i.isPrimaryClient,P);_p(i,t,Y.Xu);const J=new fp(e,t,m);return i.ia.set(e,J),i.ra.has(t)?i.ra.get(t).push(e):i.ra.set(t,[e]),Y.snapshot}),Sg.apply(this,arguments)}function dh(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,we.Z)(function*(i,e){const t=S(i),a=t.ia.get(e),h=t.ra.get(a.targetId);if(h.length>1)return t.ra.set(a.targetId,h.filter(m=>!ac(m,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Jd(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),gd(t.remoteStore,a.targetId),Wu(t,a.targetId)}).catch(ud))):(Wu(t,a.targetId),yield Jd(t.localStore,a.targetId,!0))}),gp.apply(this,arguments)}function mp(){return mp=(0,we.Z)(function*(i,e,t){const a=Yu(i);try{const h=yield function(m,C){const P=S(m),Y=gs.now(),J=C.reduce((it,Ot)=>it.add(Ot.key),Ai());let Ne;return P.persistence.runTransaction("Locally write mutations","readwrite",it=>P.fi.Ks(it,J).next(Ot=>{Ne=Ot;const Qt=[];for(const nn of C){const Nn=dc(nn,Ne.get(nn.key));null!=Nn&&Qt.push(new nu(nn.key,Nn,on(Nn.value.mapValue),vi.exists(!0)))}return P.Bs.addMutationBatch(it,Y,Qt,C)})).then(it=>(it.applyToLocalDocumentSet(Ne),{batchId:it.batchId,changes:Ne}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(m,C,P){let Y=m.ha[m.currentUser.toKey()];Y||(Y=new bi(sr)),Y=Y.insert(C,P),m.ha[m.currentUser.toKey()]=Y}(a,h.batchId,t),yield qu(a,h.changes),yield Pc(a.remoteStore)}catch(h){const m=lh(h,"Failed to persist write");t.reject(m)}}),mp.apply(this,arguments)}function af(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,we.Z)(function*(i,e){const t=S(i);try{const a=yield og(t.localStore,e);e.targetChanges.forEach((h,m)=>{const C=t.aa.get(m);C&&(Jn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?C.na=!0:h.modifiedDocuments.size>0?Jn(C.na):h.removedDocuments.size>0&&(Jn(C.na),C.na=!1))}),yield qu(t,a,e)}catch(a){yield ud(a)}}),Tm.apply(this,arguments)}function gl(i,e,t){const a=S(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.ia.forEach((m,C)=>{const P=C.view.Pu(e);P.snapshot&&h.push(P.snapshot)}),function(m,C){const P=S(m);P.onlineState=C;let Y=!1;P.queries.forEach((J,Ne)=>{for(const it of Ne.listeners)it.Pu(C)&&(Y=!0)}),Y&&za(P)}(a.eventManager,e),h.length&&a.sa.zo(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Xy(i,e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,we.Z)(function*(i,e,t){const a=S(i);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.aa.get(e),m=h&&h.key;if(m){let C=new bi(fn.comparator);C=C.insert(m,hn.newNoDocument(m,Xn.min()));const P=Ai().add(m),Y=new ru(Xn.min(),new Map,new oi(sr),C,P);yield af(a,Y),a.ua=a.ua.remove(m),a.aa.delete(e),Ag(a)}else yield Jd(a.localStore,e,!1).then(()=>Wu(a,e,t)).catch(ud)}),Sm.apply(this,arguments)}function lf(i,e){return wd.apply(this,arguments)}function wd(){return wd=(0,we.Z)(function*(i,e){const t=S(i),a=e.batch.batchId;try{const h=yield Uu(t.localStore,e);yp(t,a,null),fh(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield qu(t,h)}catch(h){yield ud(h)}}),wd.apply(this,arguments)}function hh(i,e,t){return uf.apply(this,arguments)}function uf(){return uf=(0,we.Z)(function*(i,e,t){const a=S(i);try{const h=yield function(m,C){const P=S(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let J;return P.Bs.lookupMutationBatch(Y,C).next(Ne=>(Jn(null!==Ne),J=Ne.keys(),P.Bs.removeMutationBatch(Y,Ne))).next(()=>P.Bs.performConsistencyCheck(Y)).next(()=>P.fi.Ks(Y,J))})}(a.localStore,e);yp(a,e,t),fh(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield qu(a,h)}catch(h){yield ud(h)}}),uf.apply(this,arguments)}function cf(){return cf=(0,we.Z)(function*(i,e){const t=S(i);hl(t.remoteStore)||tn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const C=S(m);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>C.Bs.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===a)return void e.resolve();const h=t.la.get(a)||[];h.push(e),t.la.set(a,h)}catch(a){const h=lh(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),cf.apply(this,arguments)}function fh(i,e){(i.la.get(e)||[]).forEach(t=>{t.resolve()}),i.la.delete(e)}function yp(i,e,t){const a=S(i);let h=a.ha[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),a.ha[a.currentUser.toKey()]=h}}function Wu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.ra.get(e))i.ia.delete(a),t&&i.sa.wa(a,t);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(a=>{i.ca.containsKey(a)||ml(i,a)})}function ml(i,e){i.oa.delete(e.path.canonicalString());const t=i.ua.get(e);null!==t&&(gd(i.remoteStore,t),i.ua=i.ua.remove(e),i.aa.delete(t),Ag(i))}function _p(i,e,t){for(const a of t)a instanceof Cg?(i.ca.addReference(a.key,e),gy(i,a)):a instanceof Dg?(tn("SyncEngine","Document no longer in limbo: "+a.key),i.ca.removeReference(a.key,e),i.ca.containsKey(a.key)||ml(i,a.key)):Pn()}function gy(i,e){const t=e.key,a=t.path.canonicalString();i.ua.get(t)||i.oa.has(a)||(tn("SyncEngine","New document in limbo: "+t),i.oa.add(a),Ag(i))}function Ag(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const t=new fn(Xr.fromString(e)),a=i.fa.next();i.aa.set(a,new Gu(t)),i.ua=i.ua.insert(t,a),ef(i.remoteStore,new cl(Go(nl(t.path)),a,2,yi.A))}}function qu(i,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,we.Z)(function*(i,e,t){const a=S(i),h=[],m=[],C=[];var P;a.ia.isEmpty()||(a.ia.forEach((P,Y)=>{C.push(a._a(Y,e,t).then(J=>{if(J){a.isPrimaryClient&&a.sharedClientState.updateQueryState(Y.targetId,J.fromCache?"not-current":"current"),h.push(J);const Ne=qf.Ys(Y.targetId,J);m.push(Ne)}}))}),yield Promise.all(C),a.sa.zo(h),yield(P=(0,we.Z)(function*(Y,J){const Ne=S(Y);try{yield Ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",it=>Ft.forEach(J,Ot=>Ft.forEach(Ot.Hs,Qt=>Ne.persistence.referenceDelegate.addReference(it,Ot.targetId,Qt)).next(()=>Ft.forEach(Ot.Js,Qt=>Ne.persistence.referenceDelegate.removeReference(it,Ot.targetId,Qt)))))}catch(it){if(!Ll(it))throw it;tn("LocalStore","Failed to update sequence numbers: "+it)}for(const it of J){const Ot=it.targetId;if(!it.fromCache){const Qt=Ne.ui.get(Ot),Nn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);Ne.ui=Ne.ui.insert(Ot,Nn)}}}),function(Y,J){return P.apply(this,arguments)})(a.localStore,m))}),vp.apply(this,arguments)}function Ep(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,we.Z)(function*(i,e){const t=S(i);if(!t.currentUser.isEqual(e)){tn("SyncEngine","User change. New user:",e.toKey());const a=yield Yf(t.localStore,e);t.currentUser=e,(h=t).la.forEach(C=>{C.forEach(P=>{P.reject(new M(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.la.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield qu(t,a.di)}var h}),Fc.apply(this,arguments)}function my(i,e){const t=S(i),a=t.aa.get(e);if(a&&a.na)return Ai().add(a.key);{let h=Ai();const m=t.ra.get(e);if(!m)return h;for(const C of m){const P=t.ia.get(C);h=h.unionWith(P.view.ju)}return h}}function df(i,e){return xg.apply(this,arguments)}function xg(){return xg=(0,we.Z)(function*(i,e){const t=S(i),a=yield gu(t.localStore,e.query,!0),h=e.view.ta(a);return t.isPrimaryClient&&_p(t,e.targetId,h.Xu),h}),xg.apply(this,arguments)}function yy(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,we.Z)(function*(i,e){const t=S(i);return hd(t.localStore,e).then(a=>qu(t,a))}),hf.apply(this,arguments)}function mu(i,e,t,a){return Id.apply(this,arguments)}function Id(){return Id=(0,we.Z)(function*(i,e,t,a){const h=S(i),m=yield function(C,P){const Y=S(C),J=S(Y.Bs);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Ne=>J.fn(Ne,P).next(it=>it?Y.fi.Ks(Ne,it):Ft.resolve(null)))}(h.localStore,e);var P;null!==m?("pending"===t?yield Pc(h.remoteStore):"acknowledged"===t||"rejected"===t?(yp(h,e,a||null),fh(h,e),P=e,S(S(h.localStore).Bs)._n(P)):Pn(),yield qu(h,m)):tn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Id.apply(this,arguments)}function Ku(){return Ku=(0,we.Z)(function*(i,e){const t=S(i);if(yu(t),Yu(t),!0===e&&!0!==t.da){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield ff(t,a.toArray());t.da=!0,yield ah(t.remoteStore,!0);for(const m of h)ef(t.remoteStore,m)}else if(!1===e&&!1!==t.da){const a=[];let h=Promise.resolve();t.ra.forEach((m,C)=>{t.sharedClientState.isLocalQueryTarget(C)?a.push(C):h=h.then(()=>(Wu(t,C),Jd(t.localStore,C,!0))),gd(t.remoteStore,C)}),yield h,yield ff(t,a),function(m){const C=S(m);C.aa.forEach((P,Y)=>{gd(C.remoteStore,Y)}),C.ca.Si(),C.aa=new Map,C.ua=new bi(fn.comparator)}(t),t.da=!1,yield ah(t.remoteStore,!1)}}),Ku.apply(this,arguments)}function ff(i,e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,we.Z)(function*(i,e,t){const a=S(i),h=[],m=[];for(const C of e){let P;const Y=a.ra.get(C);if(Y&&0!==Y.length){P=yield Ac(a.localStore,Go(Y[0]));for(const J of Y){const Ne=a.ia.get(J),it=yield df(a,Ne);it.snapshot&&m.push(it.snapshot)}}else{const J=yield dd(a.localStore,C);P=yield Ac(a.localStore,J),yield pp(a,bp(J),C,!1)}h.push(P)}return a.sa.zo(m),h}),Ca.apply(this,arguments)}function bp(i){return Kc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ph(i){const e=S(i);return S(S(e.localStore).persistence).Fs()}function gh(i,e,t,a){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,we.Z)(function*(i,e,t,a){const h=S(i);if(h.da)return void tn("SyncEngine","Ignoring unexpected query state notification.");const m=h.ra.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const C=yield hd(h.localStore,Sf(m[0])),P=ru.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield qu(h,C,P);break}case"rejected":yield Jd(h.localStore,e,!0),Wu(h,e,a);break;default:Pn()}}),Lc.apply(this,arguments)}function Yo(i,e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,we.Z)(function*(i,e,t){const a=yu(i);if(a.da){for(const h of e){if(a.ra.has(h)){tn("SyncEngine","Adding an already active target "+h);continue}const m=yield dd(a.localStore,h),C=yield Ac(a.localStore,m);yield pp(a,bp(m),C.targetId,!1),ef(a.remoteStore,C)}for(const h of t)a.ra.has(h)&&(yield Jd(a.localStore,h,!1).then(()=>{gd(a.remoteStore,h),Wu(a,h)}).catch(ud))}}),Bc.apply(this,arguments)}function yu(i){const e=S(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=af.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=my.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xy.bind(null,e),e.sa.zo=Eg.bind(null,e.eventManager),e.sa.wa=bg.bind(null,e.eventManager),e}function Yu(i){const e=S(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hh.bind(null,e),e}class Vc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=Rc(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Yh(this.persistence,new Kf,e.initialUser,this.M)}ya(e){return new ym(rh.Yi,this.M)}ga(e){return new xc}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mg extends Vc{constructor(e,t,a){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,we.Z)(function*(){yield t().call(a,e),yield a.Ta.initialize(a,e),yield Yu(a.Ta.syncEngine),yield Pc(a.Ta.remoteStore),yield a.persistence.Ts(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ia(e){return Yh(this.persistence,new Kf,e.initialUser,this.M)}pa(e){return new oy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=Sc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new sg(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,cg(),Mc(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new xc}}class Am extends Mg{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,we.Z)(function*(){yield t().call(a,e);const h=a.Ta.syncEngine;a.sharedClientState instanceof Qh&&(a.sharedClientState.syncEngine={$r:mu.bind(null,h),Br:gh.bind(null,h),Lr:Yo.bind(null,h),Fs:ph.bind(null,h),Fr:yy.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.Ts(function(){var m=(0,we.Z)(function*(C){yield function Ko(i,e){return Ku.apply(this,arguments)}(a.Ta.syncEngine,C),a.gcScheduler&&(C&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):C||a.gcScheduler.stop())});return function(C){return m.apply(this,arguments)}}())})()}ga(e){const t=cg();if(!Qh.vt(t))throw new M(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Sc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qh(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class wp{initialize(e,t){var a=this;return(0,we.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>gl(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=Ep.bind(null,a.syncEngine),yield ah(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hy}createDatastore(e){const t=Rc(e.databaseInfo.databaseId),a=new vm(e.databaseInfo);return new np(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,m=P=>gl(this.syncEngine,P,0),C=Jf.vt()?new Jf:new Jh,new hg(t,a,h,m,C);var t,a,h,m,C}createSyncEngine(e,t){return function(a,h,m,C,P,Y,J){const Ne=new Tg(a,h,m,C,P,Y);return J&&(Ne.da=!0),Ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const a=S(t);tn("RemoteStore","RemoteStore shutting down."),a.wu.add(5),yield ju(a),a.gu.shutdown(),a.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rg(i,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xm{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new z,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(a=>{a&&a.Mu()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,we.Z)(function*(){const t=yield e.Va();if(null===t)return null;const a=e.ba.decode(t),h=Number(a);isNaN(h)&&e.va(`length string (${a}) is not valid number`);const m=yield e.Sa(h);return new dp(JSON.parse(m),t.length+h)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,we.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Sa(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const a=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class Mm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new M(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,we.Z)(function*(m,C){const P=S(m),Y=Ou(P.M)+"/documents",J={documents:C.map(Qt=>zo(P.M,Qt))},Ne=yield P._o("BatchGetDocuments",Y,J),it=new Map;Ne.forEach(Qt=>{const nn=function Ud(i,e){return"found"in e?function(t,a){Jn(!!a.found);const h=hi(t,a.found.name),m=Un(a.found.updateTime),C=new Dt({mapValue:{fields:a.found.fields}});return hn.newFoundDocument(h,m,C)}(i,e):"missing"in e?function(t,a){Jn(!!a.missing),Jn(!!a.readTime);const h=hi(t,a.missing),m=Un(a.readTime);return hn.newNoDocument(h,m)}(i,e):Pn()}(P.M,Qt);it.set(nn.key.toString(),nn)});const Ot=[];return C.forEach(Qt=>{const nn=it.get(Qt.toString());Jn(!!nn),Ot.push(nn)}),Ot}),function(m,C){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new il(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const m=fn.fromPath(h);e.mutations.push(new hc(m,e.precondition(m)))}),yield(a=(0,we.Z)(function*(h,m){const C=S(h),P=Ou(C.M)+"/documents",Y={writes:m.map(J=>Wo(C.M,J))};yield C.co("Commit",P,Y)}),function(h,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pn();t=Xn.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new M(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vi.updateTime(t):vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xn.min()))throw new M(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(t)}return vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _y{constructor(e,t,a,h,m){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=m,this.xa=a.maxAttempts,this.No=new dg(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,we.Z)(function*(){const t=new Mm(e.datastore),a=e.ka(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Ma(m)}))}).catch(h=>{e.Ma(h)})}))}ka(e){try{const t=this.updateFunction(e);return!ta(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Jc(t)}return!1}}class Rm{constructor(e,t,a,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=ps.UNAUTHENTICATED,this.clientId=ga.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var C=(0,we.Z)(function*(P){tn("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(a,C=>(tn("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=lh(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Om(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,we.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),tn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,we.Z)(function*(m){a.isEqual(m)||(yield Yf(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ip.apply(this,arguments)}function Pm(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,we.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Dp(i);tn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(h=>Dm(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,m)=>Dm(e.remoteStore,m)),i.onlineComponents=e}),Cp.apply(this,arguments)}function Dp(i){return Og.apply(this,arguments)}function Og(){return Og=(0,we.Z)(function*(i){return i.offlineComponents||(tn("FirestoreClient","Using default OfflineComponentProvider"),yield Om(i,new Vc)),i.offlineComponents}),Og.apply(this,arguments)}function Tp(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,we.Z)(function*(i){return i.onlineComponents||(tn("FirestoreClient","Using default OnlineComponentProvider"),yield Pm(i,new wp)),i.onlineComponents}),Sp.apply(this,arguments)}function Nm(i){return Dp(i).then(e=>e.persistence)}function Pg(i){return Dp(i).then(e=>e.localStore)}function vy(i){return Tp(i).then(e=>e.remoteStore)}function Ng(i){return Tp(i).then(e=>e.syncEngine)}function pf(i){return kg.apply(this,arguments)}function kg(){return kg=(0,we.Z)(function*(i){const e=yield Tp(i),t=e.eventManager;return t.onListen=Wa.bind(null,e.syncEngine),t.onUnlisten=dh.bind(null,e.syncEngine),t}),kg.apply(this,arguments)}function by(i,e,t={}){const a=new z;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(h,m,C,P,Y){const J=new yh({next:it=>{m.enqueueAndForget(()=>cp(h,Ne));const Ot=it.docs.has(C);!Ot&&it.fromCache?Y.reject(new M(w.UNAVAILABLE,"Failed to get document because the client is offline.")):Ot&&it.fromCache&&P&&"server"===P.source?Y.reject(new M(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(it)},error:it=>Y.reject(it)}),Ne=new sf(nl(C.path),J,{includeMetadataChanges:!0,ku:!0});return up(h,Ne)}(yield pf(i),i.asyncQueue,e,t,a)})),a.promise}function Uc(i,e,t={}){const a=new z;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(h,m,C,P,Y){const J=new yh({next:it=>{m.enqueueAndForget(()=>cp(h,Ne)),it.fromCache&&"server"===P.source?Y.reject(new M(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(it)},error:it=>Y.reject(it)}),Ne=new sf(C,J,{includeMetadataChanges:!0,ku:!0});return up(h,Ne)}(yield pf(i),i.asyncQueue,e,t,a)})),a.promise}const Cd=new Map;function Lg(i,e,t){if(!t)throw new M(w.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Bg(i,e,t,a){if(!0===e&&!0===a)throw new M(w.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function _u(i){if(!fn.isDocumentKey(i))throw new M(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Vg(i){if(fn.isDocumentKey(i))throw new M(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Dd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Pn()}function ai(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new M(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dd(i);throw new M(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Mp(i,e){if(e<=0)throw new M(w.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Ug{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new M(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,t,a){this._authCredentials=t,this._appCheckCredentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1,e instanceof Us?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new M(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(h.options.projectId)}(e))}get app(){if(!this._app)throw new M(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Pe;switch(t.type){case"gapi":const a=t.client;return Jn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new Cr(a,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new M(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cd.get(e);t&&(tn("ComponentProvider","Removing Datastore"),Cd.delete(e),t.terminate())}(this),Promise.resolve()}}class Is{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Is(this.firestore,e,this._key)}}class Uo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class $l extends Uo{constructor(e,t,a){super(e,t,nl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Is(this.firestore,null,new fn(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function km(i,e,...t){if(i=(0,nt.m9)(i),Lg("collection","path",e),i instanceof _h){const a=Xr.fromString(e,...t);return Vg(a),new $l(i,null,a)}{if(!(i instanceof Is||i instanceof $l))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Xr.fromString(e,...t));return Vg(a),new $l(i.firestore,null,a)}}function vh(i,e,...t){if(i=(0,nt.m9)(i),1===arguments.length&&(e=ga.R()),Lg("doc","path",e),i instanceof _h){const a=Xr.fromString(e,...t);return _u(a),new Is(i,null,new fn(a))}{if(!(i instanceof Is||i instanceof $l))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Xr.fromString(e,...t));return _u(a),new Is(i.firestore,i instanceof $l?i.converter:null,new fn(a))}}function mf(i,e){return i=(0,nt.m9)(i),e=(0,nt.m9)(e),(i instanceof Is||i instanceof $l)&&(e instanceof Is||e instanceof $l)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Iy(i,e){return i=(0,nt.m9)(i),e=(0,nt.m9)(e),i instanceof Uo&&e instanceof Uo&&i.firestore===e.firestore&&ac(i._query,e._query)&&i.converter===e.converter}class jg{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new dg(this,"async_queue_retry"),this.Qa=()=>{const t=Mc();t&&tn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Mc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Mc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new z;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,we.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Ll(t))throw t;tn("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(a=>{throw this.Ua=a,this.qa=!1,mi("INTERNAL UNHANDLED ERROR: ",function(m){let C=m.message||"";return m.stack&&(C=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),C}(a)),a}).then(a=>(this.qa=!1,a))));return this.Fa=t,t}enqueueAfterDelay(e,t,a){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const h=pl.createAndSchedule(this,e,t,a,m=>this.Ha(m));return this.La.push(h),h}ja(){this.Ua&&Pn()}verifyOperationInProgress(){}Ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Hg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(i)}class Cy{constructor(){this._progressObserver={},this._taskCompletionResolver=new z,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cs extends _h{constructor(e,t,a){super(e,t,a),this.type="firestore",this._queue=new jg,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||_f(this),this._firestoreClient.terminate()}}function oo(i){return i._firestoreClient||_f(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function _f(i){var e;const t=i._freezeSettings(),a=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Rl(i._databaseId,m,i._persistenceKey,(P=t).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var m,P;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,a)}function Op(i,e,t){const a=new z;return i.asyncQueue.enqueue((0,we.Z)(function*(){try{yield Om(i,t),yield Pm(i,e),a.resolve()}catch(h){if(!("FirebaseError"===(m=h).name?m.code===w.FAILED_PRECONDITION||m.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),a.reject(h)}var m})).then(()=>a.promise)}function Kg(i){if(i._initialized||i._terminated)throw new M(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new s(is.fromBase64String(e))}catch(t){throw new M(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new s(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class l{constructor(e){this._methodName=e}}class f{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}}const v=/^__.*__$/;class T{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class O{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn()}}class oe{constructor(e,t,a,h,m,C){this.settings=e,this.databaseId=t,this.M=a,this.ignoreUndefinedProperties=h,void 0===m&&this.tc(),this.fieldTransforms=m||[],this.fieldMask=C||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new oe(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.nc({path:a,ic:!1});return h.rc(e),h}oc(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.nc({path:a,ic:!1});return h.tc(),h}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Yg(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Z(this.ec)&&v.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class xe{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=a||Rc(e)}lc(e,t,a,h=!1){return new oe({ec:e,methodName:t,hc:a,path:ws.emptyPath(),ic:!1,cc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function pt(i){const e=i._freezeSettings(),t=Rc(i._databaseId);return new xe(i._databaseId,!!e.ignoreUndefinedProperties,t)}function bt(i,e,t,a,h,m={}){const C=i.lc(m.merge||m.mergeFields?2:0,e,t,h);Ds("Data must be an object, but it was:",C,a);const P=$c(a,C);let Y,J;if(m.merge)Y=new ql(C.fieldMask),J=C.fieldTransforms;else if(m.mergeFields){const Ne=[];for(const it of m.mergeFields){const Ot=Eh(e,it,t);if(!C.contains(Ot))throw new M(w.INVALID_ARGUMENT,`Field '${Ot}' is specified in your field mask but missing from your input data.`);Jy(Ne,Ot)||Ne.push(Ot)}Y=new ql(Ne),J=C.fieldTransforms.filter(it=>Y.covers(it.field))}else Y=null,J=C.fieldTransforms;return new T(new Dt(P),Y,J)}class Nt extends l{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nt}}function mn(i,e,t){return new oe({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Sn extends l{_toFieldTransform(e){return new Ns(e.path,new sa)}isEqual(e){return e instanceof Sn}}class kr extends l{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=mn(this,e,!0),a=this.fc.map(m=>yl(m,t)),h=new _i(a);return new Ns(e.path,h)}isEqual(e){return this===e}}class Wr extends l{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=mn(this,e,!0),a=this.fc.map(m=>yl(m,t)),h=new bo(a);return new Ns(e.path,h)}isEqual(e){return this===e}}class To extends l{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new wo(e.M,Ld(e.M,this.dc));return new Ns(e.path,t)}isEqual(e){return this===e}}function Xs(i,e,t,a){const h=i.lc(1,e,t);Ds("Data must be an object, but it was:",h,a);const m=[],C=Dt.empty();zl(a,(Y,J)=>{const Ne=Vm(e,Y,t);J=(0,nt.m9)(J);const it=h.oc(Ne);if(J instanceof Nt)m.push(Ne);else{const Ot=yl(J,it);null!=Ot&&(m.push(Ne),C.set(Ne,Ot))}});const P=new ql(m);return new O(C,P,h.fieldTransforms)}function Ls(i,e,t,a,h,m){const C=i.lc(1,e,t),P=[Eh(e,a,t)],Y=[h];if(m.length%2!=0)throw new M(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ot=0;Ot<m.length;Ot+=2)P.push(Eh(e,m[Ot])),Y.push(m[Ot+1]);const J=[],Ne=Dt.empty();for(let Ot=P.length-1;Ot>=0;--Ot)if(!Jy(J,P[Ot])){const Qt=P[Ot];let nn=Y[Ot];nn=(0,nt.m9)(nn);const Nn=C.oc(Qt);if(nn instanceof Nt)J.push(Qt);else{const Tr=yl(nn,Nn);null!=Tr&&(J.push(Qt),Ne.set(Qt,Tr))}}const it=new ql(J);return new O(Ne,it,C.fieldTransforms)}function ao(i,e,t,a=!1){return yl(t,i.lc(a?4:3,e))}function yl(i,e){if(Np(i=(0,nt.m9)(i)))return Ds("Unsupported field value:",e,i),$c(i,e);if(i instanceof l)return function(t,a){if(!Z(a.ec))throw a.ac(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ac(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,a){const h=[];let m=0;for(const C of t){let P=yl(C,a.uc(m));null==P&&(P={nullValue:"NULL_VALUE"}),h.push(P),m++}return{arrayValue:{values:h}}}(i,e)}return function(t,a){if(null===(t=(0,nt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ld(a.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=gs.fromDate(t);return{timestampValue:Ua(a.M,h)}}if(t instanceof gs){const h=new gs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ua(a.M,h)}}if(t instanceof f)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof s)return{bytesValue:Ea(a.M,t._byteString)};if(t instanceof Is){const h=a.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw a.ac(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Vd(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ac(`Unsupported field value: ${Dd(t)}`)}(i,e)}function $c(i,e){const t={};return Ch(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zl(i,(a,h)=>{const m=yl(h,e.sc(a));null!=m&&(t[a]=m)}),{mapValue:{fields:t}}}function Np(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gs||i instanceof f||i instanceof s||i instanceof Is||i instanceof l)}function Ds(i,e,t){if(!Np(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Dd(t);throw e.ac("an object"===a?i+" a custom object":i+" "+a)}var a}function Eh(i,e,t){if((e=(0,nt.m9)(e))instanceof jl)return e._internalPath;if("string"==typeof e)return Vm(i,e);throw Yg("Field path arguments must be of type string or ",i,!1,void 0,t)}const F_=new RegExp("[~\\*/\\[\\]]");function Vm(i,e,t){if(e.search(F_)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new jl(...e.split("."))._internalPath}catch(a){throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yg(i,e,t,a,h){const m=a&&!a.isEmpty(),C=void 0!==h;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let Y="";return(m||C)&&(Y+=" (found",m&&(Y+=` in field ${a}`),C&&(Y+=` in document ${h}`),Y+=")"),new M(w.INVALID_ARGUMENT,P+i+Y)}function Jy(i,e){return i.some(t=>t.isEqual(e))}class kp{constructor(e,t,a,h,m){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Is(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class e_ extends kp{data(){return super.data()}}function Td(i,e){return"string"==typeof e?Vm(i,e):e instanceof jl?e._internalPath:e._delegate._internalPath}class vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends kp{constructor(e,t,a,h,m,C){super(e,t,a,h,C),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Fp extends Sd{data(e={}){return super.data(e)}}class bh{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new vf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Fp(this._firestore,this._userDataWriter,a.key,a,new vf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new Fp(a._firestore,a._userDataWriter,C.doc.key,C.doc,new vf(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const P=new Fp(a._firestore,a._userDataWriter,C.doc.key,C.doc,new vf(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let Y=-1,J=-1;return 0!==C.type&&(Y=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),J=m.indexOf(C.doc.key)),{type:t_(C.type),doc:P,oldIndex:Y,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function t_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn()}}function L_(i,e){return i instanceof Sd&&e instanceof Sd?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof bh&&e instanceof bh&&i._firestore===e._firestore&&Iy(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Ty(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new M(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ef{}function da(i,...e){for(const t of e)i=t._apply(i);return i}class B_ extends Ef{constructor(e,t,a){super(),this._c=e,this.wc=t,this.mc=a,this.type="where"}_apply(e){const t=pt(e.firestore),a=function(h,m,C,P,Y,J,Ne){let it;if(Y.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new M(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){a_(Ne,J);const Qt=[];for(const nn of Ne)Qt.push(Ay(P,h,nn));it={arrayValue:{values:Qt}}}else it=Ay(P,h,Ne)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||a_(Ne,J),it=ao(C,"where",Ne,"in"===J||"not-in"===J);const Ot=$s.create(Y,J,it);return function(Qt,nn){if(nn.S()){const Tr=sc(Qt);if(null!==Tr&&!Tr.isEqual(nn.field))throw new M(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Tr.toString()}' and '${nn.field.toString()}'`);const Hs=Nd(Qt);null!==Hs&&xy(0,nn.field,Hs)}const Nn=function(Tr,Hs){for(const lo of Tr.filters)if(Hs.indexOf(lo.op)>=0)return lo.op;return null}(Qt,function(Tr){switch(Tr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(nn.op));if(null!==Nn)throw new M(w.INVALID_ARGUMENT,Nn===nn.op?`Invalid query. You cannot use more than one '${nn.op.toString()}' filter.`:`Invalid query. You cannot use '${nn.op.toString()}' filters with '${Nn.toString()}' filters.`)}(h,Ot),Ot}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Uo(e.firestore,e.converter,function(h,m){const C=h.filters.concat([m]);return new Nl(h.path,h.collectionGroup,h.explicitOrderBy.slice(),C,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,a))}}class jc extends Ef{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(a,h,m){if(null!==a.startAt)throw new M(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new M(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new tu(h,m);return function(P,Y){if(null===Nd(P)){const J=sc(P);null!==J&&xy(0,J,Y.field)}}(a,C),C}(e._query,this._c,this.gc);return new Uo(e.firestore,e.converter,function(a,h){const m=a.explicitOrderBy.concat([h]);return new Nl(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class vu extends Ef{constructor(e,t,a){super(),this.type=e,this.yc=t,this.Ic=a}_apply(e){return new Uo(e.firestore,e.converter,Tf(e._query,this.yc,this.Ic))}}class i_ extends Ef{constructor(e,t,a){super(),this.type=e,this.Tc=t,this.Ec=a}_apply(e){const t=o_(e,this.type,this.Tc,this.Ec);return new Uo(e.firestore,e.converter,(h=t,new Nl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}class s_ extends Ef{constructor(e,t,a){super(),this.type=e,this.Tc=t,this.Ec=a}_apply(e){const t=o_(e,this.type,this.Tc,this.Ec);return new Uo(e.firestore,e.converter,(h=t,new Nl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function o_(i,e,t,a){if(t[0]=(0,nt.m9)(t[0]),t[0]instanceof kp)return function(h,m,C,P,Y){if(!P)throw new M(w.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const J=[];for(const Ne of oc(h))if(Ne.field.isKeyField())J.push(Bo(m,P.key));else{const it=P.data.field(Ne.field);if(La(it))throw new M(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===it){const Ot=Ne.field.canonicalString();throw new M(w.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ot}' (used as the orderBy) does not exist.`)}J.push(it)}return new ia(J,Y)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const h=pt(i.firestore);return function(m,C,P,Y,J,Ne){const it=m.explicitOrderBy;if(J.length>it.length)throw new M(w.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ot=[];for(let Qt=0;Qt<J.length;Qt++){const nn=J[Qt];if(it[Qt].field.isKeyField()){if("string"!=typeof nn)throw new M(w.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof nn}`);if(!Yc(m)&&-1!==nn.indexOf("/"))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${nn}' contains a slash.`);const Nn=m.path.child(Xr.fromString(nn));if(!fn.isDocumentKey(Nn))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Nn}' is not because it contains an odd number of segments.`);const Tr=new fn(Nn);Ot.push(Bo(C,Tr))}else{const Nn=ao(P,Y,nn);Ot.push(Nn)}}return new ia(Ot,Ne)}(i._query,i.firestore._databaseId,h,e,t,a)}}function Ay(i,e,t){if("string"==typeof(t=(0,nt.m9)(t))){if(""===t)throw new M(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yc(e)&&-1!==t.indexOf("/"))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Xr.fromString(t));if(!fn.isDocumentKey(a))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Bo(i,new fn(a))}if(t instanceof Is)return Bo(i,t._key);throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(t)}.`)}function a_(i,e){if(!Array.isArray(i)||0===i.length)throw new M(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new M(w.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function xy(i,e,t){if(!t.isEqual(e))throw new M(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const l_={maxAttempts:5};class Lp{convertValue(e,t="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pn()}}convertObject(e,t){const a={};return zl(e.fields,(h,m)=>{a[h]=this.convertValue(m,t)}),a}convertGeoPoint(e){return new f(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=ss(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(ni(e));default:return null}}convertTimestamp(e){const t=Ho(e);return new gs(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Xr.fromString(e);Jn(he(a));const h=new Us(a.get(1),a.get(3)),m=new fn(a.popFirst(5));return h.isEqual(t)||mi(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Um(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class u_ extends Lp{constructor(e){super(),this.firestore=e}convertBytes(e){return new s(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Is(this.firestore,null,t)}}class My{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pt(e)}set(e,t,a){this._verifyNotCommitted();const h=Hc(e,this._firestore),m=Um(h.converter,t,a),C=bt(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(C.toMutation(h._key,vi.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const m=Hc(e,this._firestore);let C;return C="string"==typeof(t=(0,nt.m9)(t))||t instanceof jl?Ls(this._dataReader,"WriteBatch.update",m._key,t,a,h):Xs(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(C.toMutation(m._key,vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hc(e,this._firestore);return this._mutations=this._mutations.concat(new il(t._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hc(i,e){if((i=(0,nt.m9)(i)).firestore!==e)throw new M(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ad extends Lp{constructor(e){super(),this.firestore=e}convertBytes(e){return new s(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Is(this.firestore,null,t)}}function Oy(i,e,t){i=ai(i,Is);const a=ai(i.firestore,Cs),h=Um(i.converter,e,t);return Bp(a,[bt(pt(a),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,vi.none())])}function Py(i,e,t,...a){i=ai(i,Is);const h=ai(i.firestore,Cs),m=pt(h);let C;return C="string"==typeof(e=(0,nt.m9)(e))||e instanceof jl?Ls(m,"updateDoc",i._key,e,t,a):Xs(m,"updateDoc",i._key,e),Bp(h,[C.toMutation(i._key,vi.exists(!0))])}function p_(i,...e){var t,a,h;i=(0,nt.m9)(i);let m={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Hg(e[C])||(m=e[C],C++);const P={includeMetadataChanges:m.includeMetadataChanges};if(Hg(e[C])){const it=e[C];e[C]=null===(t=it.next)||void 0===t?void 0:t.bind(it),e[C+1]=null===(a=it.error)||void 0===a?void 0:a.bind(it),e[C+2]=null===(h=it.complete)||void 0===h?void 0:h.bind(it)}let Y,J,Ne;if(i instanceof Is)J=ai(i.firestore,Cs),Ne=nl(i._key.path),Y={next:it=>{e[C]&&e[C](Ny(J,i,it))},error:e[C+1],complete:e[C+2]};else{const it=ai(i,Uo);J=ai(it.firestore,Cs),Ne=it._query;const Ot=new Ad(J);Y={next:Qt=>{e[C]&&e[C](new bh(J,Ot,it,Qt))},error:e[C+1],complete:e[C+2]},Ty(i._query)}return function(it,Ot,Qt,nn){const Nn=new yh(nn),Tr=new sf(Ot,Nn,Qt);return it.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return up(yield pf(it),Tr)})),()=>{Nn.Aa(),it.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return cp(yield pf(it),Tr)}))}}(oo(J),Ne,P,Y)}function Bp(i,e){return function(t,a){const h=new z;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function fy(i,e,t){return mp.apply(this,arguments)}(yield Ng(t),a,h)})),h.promise}(oo(i),e)}function Ny(i,e,t){const a=t.docs.get(e._key),h=new Ad(i);return new Sd(i,h,e._key,a,new vf(t.hasPendingWrites,t.fromCache),e.converter)}class z_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pt(e)}get(e){const t=Hc(e,this._firestore),a=new u_(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Pn();const m=h[0];if(m.isFoundDocument())return new kp(this._firestore,a,m.key,m,t.converter);if(m.isNoDocument())return new kp(this._firestore,a,t._key,null,t.converter);throw Pn()})}set(e,t,a){const h=Hc(e,this._firestore),m=Um(h.converter,t,a),C=bt(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,a);return this._transaction.set(h._key,C),this}update(e,t,a,...h){const m=Hc(e,this._firestore);let C;return C="string"==typeof(t=(0,nt.m9)(t))||t instanceof jl?Ls(this._dataReader,"Transaction.update",m._key,t,a,h):Xs(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,C),this}delete(e){const t=Hc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hc(e,this._firestore),a=new Ad(this._firestore);return super.get(e).then(h=>new Sd(this._firestore,a,t._key,h._document,new vf(!1,!1),t.converter))}}function jm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new M("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function ky(){if("undefined"==typeof Uint8Array)throw new M("unimplemented","Uint8Arrays are not available in this environment.")}function Fy(){if(!function Fa(){return"undefined"!=typeof atob}())throw new M("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){pa=ut.SDK_VERSION,(0,ut._registerComponent)(new wt.wA("firestore",(t,{options:a})=>{const h=t.getProvider("app").getImmediate(),m=new Cs(h,new Bt(t.getProvider("auth-internal")),new Yr(t.getProvider("app-check-internal")));return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC")),(0,ut.registerVersion)(Iu,"3.4.9",i),(0,ut.registerVersion)(Iu,"3.4.9","esm2017")}();class Vp{constructor(e){this._delegate=e}static fromBase64String(e){return Fy(),new Vp(s.fromBase64String(e))}static fromUint8Array(e){return ky(),new Vp(s.fromUint8Array(e))}toBase64(){return Fy(),this._delegate.toBase64()}toUint8Array(){return ky(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Hm(i){return function m_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(i,["next","error","complete"])}class y_{enableIndexedDbPersistence(e,t){return function Rp(i,e){Kg(i=ai(i,Cs));const t=oo(i),a=i._freezeSettings(),h=new wp;return Op(t,h,new Mg(h,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function zg(i){Kg(i=ai(i,Cs));const e=oo(i),t=i._freezeSettings(),a=new wp;return Op(e,a,new Am(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Lm(i){if(i._initialized&&!i._terminated)throw new M(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new z;return i._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(a){if(!ul.vt())return Promise.resolve();const h=a+"main";yield ul.delete(h)}),function(a){return t.apply(this,arguments)})(Sc(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ly{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Us||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function gf(i,e,t,a={}){var h;const m=(i=ai(i,_h))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let C,P;if("string"==typeof a.mockUserToken)C=a.mockUserToken,P=ps.MOCK_USER;else{C=(0,nt.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const Y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!Y)throw new M(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ps(Y)}i._authCredentials=new Je(new ue(C,P))}}(this._delegate,e,t,a)}enableNetwork(){return function Zu(i){return function Ap(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield Nm(i),t=yield vy(i);return e.setNetworkEnabled(!0),function(a){const h=S(a);return h.wu.delete(0),$u(h)}(t)}))}(oo(i=ai(i,Cs)))}(this._delegate)}disableNetwork(){return function Wg(i){return function Fg(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield Nm(i),t=yield vy(i);return e.setNetworkEnabled(!1),(a=(0,we.Z)(function*(h){const m=S(h);m.wu.add(0),yield ju(m),m.yu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(oo(i=ai(i,Cs)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,Bg("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Pp(i){return function(e){const t=new z;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function py(i,e){return cf.apply(this,arguments)}(yield Ng(e),t)})),t.promise}(oo(i=ai(i,Cs)))}(this._delegate)}onSnapshotsInSync(e){return function G_(i,e){return function Vo(i,e){const t=new yh(e);return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a=yield pf(i),h=t,S(a).bu.add(h),void h.next();var a,h})),()=>{t.Aa(),i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a=yield pf(i),h=t,void S(a).bu.delete(h);var a,h}))}}(oo(i=ai(i,Cs)),Hg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new M("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $p(this,km(this._delegate,e))}catch(t){throw So(t,"collection()","Firestore.collection()")}}doc(e){try{return new Eu(this,vh(this._delegate,e))}catch(t){throw So(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ta(this,function $g(i,e){if(i=ai(i,_h),Lg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new M(w.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Uo(i,null,(t=e,new Nl(Xr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw So(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function W_(i,e,t){i=ai(i,Cs);const a=Object.assign(Object.assign({},l_),t);return function(h){if(h.maxAttempts<1)throw new M(w.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function Da(i,e,t){const a=new z;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const h=yield(m=i,Tp(m).then(C=>C.datastore));var m;new _y(i.asyncQueue,h,t,e,a).run()})),a.promise}(oo(i),h=>e(new z_(i,h)),a)}(this._delegate,t=>e(new By(this,t)))}batch(){return oo(this._delegate),new wh(new My(this._delegate,e=>Bp(this._delegate,e)))}loadBundle(e){return function qg(i,e){const t=oo(i=ai(i,Cs)),a=new Cy;return function xp(i,e,t,a){const h=function(m,C){let P;return P="string"==typeof m?(new TextEncoder).encode(m):m,Y=function(Y,J){if(Y instanceof Uint8Array)return Rg(Y,J);if(Y instanceof ArrayBuffer)return Rg(new Uint8Array(Y),J);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new xm(Y,C);var Y}(t,Rc(e));i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function mh(i,e,t){const a=S(i);var h;(h=(0,we.Z)(function*(m,C,P){try{const Y=yield C.getMetadata();if(yield function(Ot,Qt){const nn=S(Ot),Nn=Un(Qt.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",Tr=>nn._s.getBundleMetadata(Tr,Qt.id)).then(Tr=>!!Tr&&Tr.createTime.compareTo(Nn)>=0)}(m.localStore,Y))return yield C.close(),P._completeWith({taskState:"Success",documentsLoaded:(Ot=Y).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);P._updateProgress(hp(Y));const J=new Ig(Y,m.localStore,C.M);let Ne=yield C.ma();for(;Ne;){const Ot=yield J.Fu(Ne);Ot&&P._updateProgress(Ot),Ne=yield C.ma()}const it=yield J.complete();return yield qu(m,it.Lu,void 0),yield function(Ot,Qt){const nn=S(Ot);return nn.persistence.runTransaction("Save bundle","readwrite",Nn=>nn._s.saveBundleMetadata(Nn,Qt))}(m.localStore,Y),P._completeWith(it.progress),Promise.resolve(it.Bu)}catch(Y){return vo("SyncEngine",`Loading bundle failed with ${Y}`),P._failWith(Y),Promise.resolve(new Set)}var Ot}),function(m,C,P){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Ng(i),h,a)}))}(t,i._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function Bm(i,e){return function wy(i,e){return i.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,a){const h=S(t);return h.persistence.runTransaction("Get named query","readonly",m=>h._s.getNamedQuery(m,a))}(yield Pg(i),e)}))}(oo(i=ai(i,Cs)),e).then(t=>t?new Uo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Ta(this,t):null)}}class Xg extends Lp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vp(new s(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Eu.forKey(t,this.firestore,null)}}class By{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xg(e)}get(e){const t=wf(e);return this._delegate.get(t).then(a=>new zm(this._firestore,new Sd(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const h=wf(e);return a?(jm("Transaction.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=wf(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=wf(e);return this._delegate.delete(t),this}}class wh{constructor(e){this._delegate=e}set(e,t,a){const h=wf(e);return a?(jm("WriteBatch.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=wf(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=wf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bf{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Fp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Up(this._firestore,a),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=bf.INSTANCES;let h=a.get(e);h||(h=new WeakMap,a.set(e,h));let m=h.get(t);return m||(m=new bf(e,new Xg(e),t),h.set(t,m)),m}}bf.INSTANCES=new WeakMap;class Eu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xg(e)}static forPath(e,t,a){if(e.length%2!=0)throw new M("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Eu(t,new Is(t._delegate,a,new fn(e)))}static forKey(e,t,a){return new Eu(t,new Is(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new $p(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $p(this.firestore,km(this._delegate,e))}catch(t){throw So(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nt.m9)(e))instanceof Is&&mf(this._delegate,e)}set(e,t){t=jm("DocumentReference.set",t);try{return t?Oy(this._delegate,e,t):Oy(this._delegate,e)}catch(a){throw So(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?Py(this._delegate,e):Py(this._delegate,e,t,...a)}catch(h){throw So(h,"updateDoc()","DocumentReference.update()")}}delete(){return function j_(i){return Bp(ai(i.firestore,Cs),[new il(i._key,vi.none())])}(this._delegate)}onSnapshot(...e){const t=ev(e),a=Gm(e,h=>new zm(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return p_(this._delegate,t,a)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Ry(i){i=ai(i,Is);const e=ai(i.firestore,Cs),t=oo(e),a=new Ad(e);return function Ey(i,e){const t=new z;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(a=(0,we.Z)(function*(h,m,C){try{const P=yield function(Y,J){const Ne=S(Y);return Ne.persistence.runTransaction("read document","readonly",it=>Ne.fi.Ls(it,J))}(h,m);P.isFoundDocument()?C.resolve(P):P.isNoDocument()?C.resolve(null):C.reject(new M(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const Y=lh(P,`Failed to get document '${m} from cache`);C.reject(Y)}}),function(h,m,C){return a.apply(this,arguments)})(yield Pg(i),e,t);var a})),t.promise}(t,i._key).then(h=>new Sd(e,a,i._key,h,new vf(null!==h&&h.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function c_(i){i=ai(i,Is);const e=ai(i.firestore,Cs);return by(oo(e),i._key,{source:"server"}).then(t=>Ny(e,i,t))}(this._delegate):function $m(i){i=ai(i,Is);const e=ai(i.firestore,Cs);return by(oo(e),i._key).then(t=>Ny(e,i,t))}(this._delegate),t.then(a=>new zm(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Eu(this.firestore,this._delegate.withConverter(e?bf.getInstance(this.firestore,e):null))}}function So(i,e,t){return i.message=i.message.replace(e,t),i}function ev(i){for(const e of i)if("object"==typeof e&&!Hm(e))return e;return{}}function Gm(i,e){var t,a;let h;return h=Hm(i[0])?i[0]:Hm(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class zm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Eu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return L_(this._delegate,e._delegate)}}class Up extends zm{data(e){const t=this._delegate.data(e);return function R(i,e){i||Pn()}(void 0!==t),t}}class Ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xg(e)}where(e,t,a){try{return new Ta(this.firestore,da(this._delegate,function V_(i,e,t){const a=e,h=Td("where",i);return new B_(h,a,t)}(e,t,a)))}catch(h){throw So(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ta(this.firestore,da(this._delegate,function Xu(i,e="asc"){const t=e,a=Td("orderBy",i);return new jc(a,t)}(e,t)))}catch(a){throw So(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ta(this.firestore,da(this._delegate,function n_(i){return Mp("limit",i),new vu("limit",i,"F")}(e)))}catch(t){throw So(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ta(this.firestore,da(this._delegate,function r_(i){return Mp("limitToLast",i),new vu("limitToLast",i,"L")}(e)))}catch(t){throw So(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ta(this.firestore,da(this._delegate,function U_(...i){return new i_("startAt",i,!0)}(...e)))}catch(t){throw So(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ta(this.firestore,da(this._delegate,function $_(...i){return new i_("startAfter",i,!1)}(...e)))}catch(t){throw So(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ta(this.firestore,da(this._delegate,function Sy(...i){return new s_("endBefore",i,!1)}(...e)))}catch(t){throw So(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ta(this.firestore,da(this._delegate,function Zg(...i){return new s_("endAt",i,!0)}(...e)))}catch(t){throw So(t,"endAt()","Query.endAt()")}}isEqual(e){return Iy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function h_(i){i=ai(i,Uo);const e=ai(i.firestore,Cs),t=oo(e),a=new Ad(e);return function Qy(i,e){const t=new z;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(a=(0,we.Z)(function*(h,m,C){try{const P=yield gu(h,m,!0),Y=new ca(m,P._i),J=Y.Wu(P.documents),Ne=Y.applyChanges(J,!1);C.resolve(Ne.snapshot)}catch(P){const Y=lh(P,`Failed to execute query '${m} against cache`);C.reject(Y)}}),function(h,m,C){return a.apply(this,arguments)})(yield Pg(i),e,t);var a})),t.promise}(t,i._query).then(h=>new bh(e,a,i,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function f_(i){i=ai(i,Uo);const e=ai(i.firestore,Cs),t=oo(e),a=new Ad(e);return Uc(t,i._query,{source:"server"}).then(h=>new bh(e,a,i,h))}(this._delegate):function d_(i){i=ai(i,Uo);const e=ai(i.firestore,Cs),t=oo(e),a=new Ad(e);return Ty(i._query),Uc(t,i._query).then(h=>new bh(e,a,i,h))}(this._delegate),t.then(a=>new gr(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=ev(e),a=Gm(e,h=>new gr(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return p_(this._delegate,t,a)}withConverter(e){return new Ta(this.firestore,this._delegate.withConverter(e?bf.getInstance(this.firestore,e):null))}}class t0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Up(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gr{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ta(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Up(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new t0(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new Up(this._firestore,a))})}isEqual(e){return L_(this._delegate,e._delegate)}}class $p extends Ta{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Eu(this.firestore,e):null}doc(e){try{return new Eu(this.firestore,void 0===e?vh(this._delegate):vh(this._delegate,e))}catch(t){throw So(t,"doc()","CollectionReference.doc()")}}add(e){return function H_(i,e){const t=ai(i.firestore,Cs),a=vh(i),h=Um(i.converter,e);return Bp(t,[bt(pt(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,vi.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new Eu(this.firestore,t))}isEqual(e){return mf(this._delegate,e._delegate)}withConverter(e){return new $p(this.firestore,this._delegate.withConverter(e?bf.getInstance(this.firestore,e):null))}}function wf(i){return ai(i,Is)}class Vy{constructor(...e){this._delegate=new jl(...e)}static documentId(){return new Vy(ws.keyField().canonicalString())}isEqual(e){return(e=(0,nt.m9)(e))instanceof jl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function K_(){return new Sn("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gc(e)}static delete(){const e=function q_(){return new Nt("deleteField")}();return e._methodName="FieldValue.delete",new Gc(e)}static arrayUnion(...e){const t=function Y_(...i){return new kr("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Gc(t)}static arrayRemove(...e){const t=function Z_(...i){return new Wr("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Gc(t)}static increment(e){const t=function X_(i){return new To("increment",i)}(e);return t._methodName="FieldValue.increment",new Gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tv={Firestore:Ly,GeoPoint:f,Timestamp:gs,Blob:Vp,Transaction:By,WriteBatch:wh,DocumentReference:Eu,DocumentSnapshot:zm,Query:Ta,QueryDocumentSnapshot:Up,QuerySnapshot:gr,CollectionReference:$p,FieldPath:Vy,FieldValue:Gc,setLogLevel:function __(i){!function Na(i){ea.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function qm(i){(function Wm(i,e){i.INTERNAL.registerComponent(new wt.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(a,h)},"PUBLIC").setServiceProps(Object.assign({},tv)))})(i,(e,t)=>new Ly(e,t,new y_)),i.registerVersion("@firebase/firestore-compat","0.1.18")}(ft.Z);var hs=L(4941),n0=L(440);function v_(i,e){return function rv(i,e=X.z){return new K.y(t=>{let a;return null!=e?e.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},t)}):a=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=a&&a()}})}(i,e)}function Km(i,e){return v_(i,e).pipe((0,ne.U)(t=>({payload:t,type:"query"})))}function Qg(i,e){return Km(i,e).pipe((0,me.O)(void 0),_e(),(0,ne.U)(([t,a])=>{const h=a.payload.docChanges(),m=h.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((C,P)=>{const Y=h.find(Ne=>Ne.doc.ref.isEqual(C.ref)),J=null==t?void 0:t.payload.docs.find(Ne=>Ne.ref.isEqual(C.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(C.metadata)||!Y&&J&&JSON.stringify(J.metadata)===JSON.stringify(C.metadata)||m.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:C}})}),m}))}function Uy(i,e,t){return Qg(i,t).pipe((0,fe.R)((a,h)=>function iv(i,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(i=function sv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return $y(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $y(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $y(i,e.oldIndex,1)}return i}(i,a))}),i}(a,h.map(m=>m.payload),e),[]),(0,ze.x)(),(0,ne.U)(a=>a.map(h=>({type:h.type,payload:h}))))}function $y(i,e,t,...a){const h=i.slice();return h.splice(e,t,...a),h}function jp(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}L(127);class b_{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=Qg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ne.U)(a=>a.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,me.O)(void 0),_e(),(0,ke.h)(([a,h])=>h.length>0||!a),(0,ne.U)(([a,h])=>h),se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=jp(e);return Uy(this.query,t,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return Km(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),se.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(se.iC)}add(e){return this.ref.add(e)}doc(e){return new w_(this.ref.doc(e),this.afs)}}class w_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:h,query:m}=T_(a,t);return new b_(h,m,this.afs)}snapshotChanges(){return function E_(i,e){return v_(i,e).pipe((0,me.O)(void 0),_e(),(0,ne.U)(([t,a])=>a.exists?(null==t?void 0:t.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ne.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ve.D)(this.ref.get(e)).pipe(se.iC)}}class ov{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,ke.h)(t=>t.length>0),se.iC):Qg(this.query,this.afs.schedulers.outsideAngular).pipe(se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=jp(e);return Uy(this.query,t,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return Km(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(a=>a.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),se.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(se.iC)}}const Ym=new c.OlP("angularfire2.enableFirestorePersistence"),I_=new c.OlP("angularfire2.firestore.persistenceSettings"),C_=new c.OlP("angularfire2.firestore.settings"),D_=new c.OlP("angularfire2.firestore.use-emulator");function T_(i,e=(t=>t)){return{query:e(i),ref:i}}let Jg=(()=>{class i{constructor(t,a,h,m,C,P,Y,J,Ne,it,Ot,Qt,nn,Nn,Tr,Hs,lo){this.schedulers=Y;const Gi=(0,Ee.on)(t,P,a),Ao=Ne;it&&(0,hs.nw)(Gi,P,Ot,nn,Nn,Tr,Qt,Hs),[this.firestore,this.persistenceEnabled$]=(0,Ee.cc)(`${Gi.name}.firestore`,"AngularFirestore",Gi.name,()=>{const Gs=P.runOutsideAngular(()=>Gi.firestore());if(m&&Gs.settings(m),Ao&&Gs.useEmulator(...Ao),h&&!(0,Fe.PM)(C)){const io=()=>{try{return(0,Ve.D)(Gs.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(Sa){return"undefined"!=typeof console&&console.warn(Sa),(0,Oe.of)(!1)}};return[Gs,P.runOutsideAngular(io)]}return[Gs,(0,Oe.of)(!1)]},[m,Ao,h])}collection(t,a){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:C}=T_(h,a),P=this.schedulers.ngZone.run(()=>m);return new b_(P,C,this)}collectionGroup(t,a){const h=a||(C=>C),m=this.firestore.collectionGroup(t);return new ov(h(m),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>a);return new w_(h,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(Ee.Dh),c.LFG(Ee.xv,8),c.LFG(Ym,8),c.LFG(C_,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(se.HU),c.LFG(I_,8),c.LFG(D_,8),c.LFG(hs.zQ,8),c.LFG(hs.Qv,8),c.LFG(hs.L6,8),c.LFG(hs._Q,8),c.LFG(hs.rT,8),c.LFG(hs.lh,8),c.LFG(hs.f7,8),c.LFG(n0.nm,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()},2011:(Xt,lt,L)=>{"use strict";L.d(lt,{hO:()=>fe,xv:()=>be,Dh:()=>_e,GT:()=>se,cc:()=>ze,on:()=>ee,pX:()=>Oe});var c=L(5e3),X=L(127),K=L(6351);Xt=L.hmd(Xt);const Ve=["ngOnDestroy"],Oe=(je,ft,we,ut={})=>new Proxy(je,{get:(wt,xt)=>we.runOutsideAngular(()=>{var nt;if(je[xt])return(null===(nt=null==ut?void 0:ut.spy)||void 0===nt?void 0:nt.get)&&ut.spy.get(xt,je[xt]),je[xt];if(Ve.indexOf(xt)>-1)return()=>{};const Et=ft.toPromise().then(ve=>{const Me=ve&&ve[xt];return"function"==typeof Me?Me.bind(ve):Me&&Me.then?Me.then(Te=>we.run(()=>Te)):we.run(()=>Me)});return new Proxy(()=>{},{get:(ve,Me)=>Et[Me],apply:(ve,Me,Te)=>Et.then(de=>{var ye;const Ue=de&&de(...Te);return(null===(ye=null==ut?void 0:ut.spy)||void 0===ye?void 0:ye.apply)&&ut.spy.apply(xt,Te,Ue),Ue})})})}),se=(je,ft)=>{ft.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(ut=>{Object.defineProperty(je.prototype,ut,Object.getOwnPropertyDescriptor(we.prototype||we,ut))})})};class Ce{constructor(ft){return ft}}const _e=new c.OlP("angularfire2.app.options"),be=new c.OlP("angularfire2.app.name");function ee(je,ft,we){const wt="object"==typeof we&&we||{};wt.name=wt.name||"string"==typeof we&&we||"[DEFAULT]";const nt=X.Z.apps.filter(Et=>Et&&Et.name===wt.name)[0]||ft.runOutsideAngular(()=>X.Z.initializeApp(je,wt));try{JSON.stringify(je)!==JSON.stringify(nt.options)&&me("error",`${nt.name} Firebase App already initialized with different options${Xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Et){}return new Ce(nt)}const me=(je,...ft)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[je](...ft)},ne={provide:Ce,useFactory:ee,deps:[_e,c.R0b,[new c.FiY,be]]};let fe=(()=>{class je{constructor(we){X.Z.registerVersion("angularfire",K.q4.full,"core"),X.Z.registerVersion("angularfire",K.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,we.toString())}static initializeApp(we,ut){return{ngModule:je,providers:[{provide:_e,useValue:we},{provide:be,useValue:ut}]}}}return je.\u0275fac=function(we){return new(we||je)(c.LFG(c.Lbi))},je.\u0275mod=c.oAB({type:je}),je.\u0275inj=c.cJS({providers:[ne]}),je})();function ze(je,ft,we,ut,wt){const[,xt,nt]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===je)||[];if(xt)return function ke(je,ft){try{return je.toString()===ft.toString()}catch(we){return je===ft}}(wt,nt)||(Fe("error",`${ft} was already initialized on the ${we} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:wt,was:nt})),xt;{const Et=ut();return globalThis.\u0275AngularfireInstanceCache.push([je,Et,wt]),Et}}const Ee=!!Xt.hot,Fe=(je,...ft)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[je](...ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Xt,lt,L)=>{"use strict";L.d(lt,{q4:()=>ya,iC:()=>Ja,fc:()=>Kl,HU:()=>Dh,vb:()=>_a,JM:()=>Ol});var c=L(5e3),X=L(5867),K=L(5861),Ve=L(9681),Oe=L(2090),se=L(4859),Ce=L(1877),_e=L(8766);const be="@firebase/installations",ne="w:0.5.9",fe="FIS_v2",ft=new Oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(B){return B instanceof Oe.ZR&&B.code.includes("request-failed")}function ut({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function wt(B){return{token:B.token,requestStatus:2,expiresIn:de(B.expiresIn),creationTime:Date.now()}}function xt(B,G){return nt.apply(this,arguments)}function nt(){return(nt=(0,K.Z)(function*(B,G){const Be=(yield G.json()).error;return ft.create("request-failed",{requestName:B,serverCode:Be.code,serverMessage:Be.message,serverStatus:Be.status})})).apply(this,arguments)}function Et({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function ve(B,{refreshToken:G}){const le=Et(B);return le.append("Authorization",function ye(B){return`${fe} ${B}`}(G)),le}function Me(B){return Te.apply(this,arguments)}function Te(){return(Te=(0,K.Z)(function*(B){const G=yield B();return G.status>=500&&G.status<600?B():G})).apply(this,arguments)}function de(B){return Number(B.replace("s","000"))}function Ue(B,G){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,K.Z)(function*({appConfig:B,heartbeatServiceProvider:G},{fid:le}){const Be=ut(B),vt=Et(B),Dt=G.getImmediate({optional:!0});if(Dt){const er=yield Dt.getHeartbeatsHeader();er&&vt.append("x-firebase-client",er)}const hn={method:"POST",headers:vt,body:JSON.stringify({fid:le,authVersion:fe,appId:B.appId,sdkVersion:ne})},or=yield Me(()=>fetch(Be,hn));if(or.ok){const er=yield or.json();return{fid:er.fid||le,registrationStatus:2,refreshToken:er.refreshToken,authToken:wt(er.authToken)}}throw yield xt("Create Installation",or)})).apply(this,arguments)}function St(B){return new Promise(G=>{setTimeout(G,B)})}const dt=/^[cdef][\w-]{21}$/;function Ge(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const le=function st(B){return function jt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return dt.test(le)?le:""}catch(B){return""}}function gt(B){return`${B.appName}!${B.appId}`}const Re=new Map;function Xe(B,G){const le=gt(B);Wt(le,G),function vn(B,G){const le=function In(){return!Rn&&"BroadcastChannel"in self&&(Rn=new BroadcastChannel("[Firebase] FID Change"),Rn.onmessage=B=>{Wt(B.data.key,B.data.fid)}),Rn}();le&&le.postMessage({key:B,fid:G}),function cn(){0===Re.size&&Rn&&(Rn.close(),Rn=null)}()}(le,G)}function Wt(B,G){const le=Re.get(B);if(le)for(const Be of le)Be(G)}let Rn=null;const zn="firebase-installations-store";let nr=null;function rn(){return nr||(nr=(0,_e.X3)("firebase-installations-database",1,{upgrade:(B,G)=>{0===G&&B.createObjectStore(zn)}})),nr}function Fr(B,G){return rr.apply(this,arguments)}function rr(){return(rr=(0,K.Z)(function*(B,G){const le=gt(B),vt=(yield rn()).transaction(zn,"readwrite"),Dt=vt.objectStore(zn),on=yield Dt.get(le);return yield Dt.put(G,le),yield vt.done,(!on||on.fid!==G.fid)&&Xe(B,G.fid),G})).apply(this,arguments)}function _r(B){return qn.apply(this,arguments)}function qn(){return(qn=(0,K.Z)(function*(B){const G=gt(B),Be=(yield rn()).transaction(zn,"readwrite");yield Be.objectStore(zn).delete(G),yield Be.done})).apply(this,arguments)}function br(B,G){return mt.apply(this,arguments)}function mt(){return(mt=(0,K.Z)(function*(B,G){const le=gt(B),vt=(yield rn()).transaction(zn,"readwrite"),Dt=vt.objectStore(zn),on=yield Dt.get(le),hn=G(on);return void 0===hn?yield Dt.delete(le):yield Dt.put(hn,le),yield vt.done,hn&&(!on||on.fid!==hn.fid)&&Xe(B,hn.fid),hn})).apply(this,arguments)}function We(B){return De.apply(this,arguments)}function De(){return(De=(0,K.Z)(function*(B){let G;const le=yield br(B.appConfig,Be=>{const vt=qt(Be),Dt=At(B,vt);return G=Dt.registrationPromise,Dt.installationEntry});return""===le.fid?{installationEntry:yield G}:{installationEntry:le,registrationPromise:G}})).apply(this,arguments)}function qt(B){return Qr(B||{fid:Ge(),registrationStatus:0})}function At(B,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(ft.create("app-offline"))};const le={fid:G.fid,registrationStatus:1,registrationTime:Date.now()},Be=function Ht(B,G){return an.apply(this,arguments)}(B,le);return{installationEntry:le,registrationPromise:Be}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:ln(B)}:{installationEntry:G}}function an(){return(an=(0,K.Z)(function*(B,G){try{const le=yield Ue(B,G);return Fr(B.appConfig,le)}catch(le){throw we(le)&&409===le.customData.serverCode?yield _r(B.appConfig):yield Fr(B.appConfig,{fid:G.fid,registrationStatus:0}),le}})).apply(this,arguments)}function ln(B){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,K.Z)(function*(B){let G=yield bn(B.appConfig);for(;1===G.registrationStatus;)yield St(100),G=yield bn(B.appConfig);if(0===G.registrationStatus){const{installationEntry:le,registrationPromise:Be}=yield We(B);return Be||le}return G})).apply(this,arguments)}function bn(B){return br(B,G=>{if(!G)throw ft.create("installation-not-found");return Qr(G)})}function Qr(B){return function Ar(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function wr(B,G){return Se.apply(this,arguments)}function Se(){return(Se=(0,K.Z)(function*({appConfig:B,heartbeatServiceProvider:G},le){const Be=He(B,le),vt=ve(B,le),Dt=G.getImmediate({optional:!0});if(Dt){const er=yield Dt.getHeartbeatsHeader();er&&vt.append("x-firebase-client",er)}const hn={method:"POST",headers:vt,body:JSON.stringify({installation:{sdkVersion:ne,appId:B.appId}})},or=yield Me(()=>fetch(Be,hn));if(or.ok)return wt(yield or.json());throw yield xt("Generate Auth Token",or)})).apply(this,arguments)}function He(B,{fid:G}){return`${ut(B)}/${G}/authTokens:generate`}function qe(B){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,K.Z)(function*(B,G=!1){let le;const Be=yield br(B.appConfig,Dt=>{if(!Mn(Dt))throw ft.create("not-registered");const on=Dt.authToken;if(!G&&mr(on))return Dt;if(1===on.requestStatus)return le=$e(B,G),Dt;{if(!navigator.onLine)throw ft.create("app-offline");const hn=hr(Dt);return le=Zt(B,hn),hn}});return le?yield le:Be.authToken})).apply(this,arguments)}function $e(B,G){return ct.apply(this,arguments)}function ct(){return(ct=(0,K.Z)(function*(B,G){let le=yield Yt(B.appConfig);for(;1===le.authToken.requestStatus;)yield St(100),le=yield Yt(B.appConfig);const Be=le.authToken;return 0===Be.requestStatus?qe(B,G):Be})).apply(this,arguments)}function Yt(B){return br(B,G=>{if(!Mn(G))throw ft.create("not-registered");return function $r(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function Zt(B,G){return gn.apply(this,arguments)}function gn(){return(gn=(0,K.Z)(function*(B,G){try{const le=yield wr(B,G),Be=Object.assign(Object.assign({},G),{authToken:le});return yield Fr(B.appConfig,Be),le}catch(le){if(!we(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Be=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield Fr(B.appConfig,Be)}else yield _r(B.appConfig);throw le}})).apply(this,arguments)}function Mn(B){return void 0!==B&&2===B.registrationStatus}function mr(B){return 2===B.requestStatus&&!function Tn(B){const G=Date.now();return G<B.creationTime||B.creationTime+B.expiresIn<G+36e5}(B)}function hr(B){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:G})}function fi(){return(fi=(0,K.Z)(function*(B){const G=B,{installationEntry:le,registrationPromise:Be}=yield We(G);return Be?Be.catch(console.error):qe(G).catch(console.error),le.fid})).apply(this,arguments)}function Li(){return(Li=(0,K.Z)(function*(B,G=!1){const le=B;return yield Or(le),(yield qe(le,G)).token})).apply(this,arguments)}function Or(B){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,K.Z)(function*(B){const{registrationPromise:G}=yield We(B);G&&(yield G)})).apply(this,arguments)}function ar(B){return ft.create("missing-app-config-values",{valueName:B})}const Ir="installations",un=B=>{const G=B.getProvider("app").getImmediate(),le=function Br(B){if(!B||!B.options)throw ar("App Configuration");if(!B.name)throw ar("App Name");const G=["projectId","apiKey","appId"];for(const le of G)if(!B.options[le])throw ar(le);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(G);return{app:G,appConfig:le,heartbeatServiceProvider:(0,Ve._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},pe=B=>{const G=B.getProvider("app").getImmediate(),le=(0,Ve._getProvider)(G,Ir).getImmediate();return{getId:()=>function xi(B){return fi.apply(this,arguments)}(le),getToken:vt=>function Mi(B){return Li.apply(this,arguments)}(le,vt)}};(function xr(){(0,Ve._registerComponent)(new se.wA(Ir,un,"PUBLIC")),(0,Ve._registerComponent)(new se.wA("installations-internal",pe,"PRIVATE"))})(),(0,Ve.registerVersion)(be,"0.5.9"),(0,Ve.registerVersion)(be,"0.5.9","esm2017");const jr="@firebase/remote-config",Pr=new Oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(G,le,Be,vt){this.client=G,this.storage=le,this.storageCache=Be,this.logger=vt}isCachedDataFresh(G,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Be=Date.now()-le,vt=Be<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Be}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${vt}.`),vt}fetch(G){var le=this;return(0,K.Z)(function*(){const[Be,vt]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(vt&&le.isCachedDataFresh(G.cacheMaxAgeMillis,Be))return vt;G.eTag=vt&&vt.eTag;const Dt=yield le.client.fetch(G),on=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Dt.status&&on.push(le.storage.setLastSuccessfulFetchResponse(Dt)),yield Promise.all(on),Dt})()}}function jn(B=navigator){return B.languages&&B.languages[0]||B.language}class Qn{constructor(G,le,Be,vt,Dt,on){this.firebaseInstallations=G,this.sdkVersion=le,this.namespace=Be,this.projectId=vt,this.apiKey=Dt,this.appId=on}fetch(G){var le=this;return(0,K.Z)(function*(){const[Be,vt]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),on=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},or={sdk_version:le.sdkVersion,app_instance_id:Be,app_instance_id_token:vt,app_id:le.appId,language_code:jn()},er={method:"POST",headers:hn,body:JSON.stringify(or)},Nr=fetch(on,er),dr=new Promise((bi,ra)=>{G.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",ra(ys)})});let ei;try{yield Promise.race([Nr,dr]),ei=yield Nr}catch(bi){let ra="fetch-client-network";throw"AbortError"===bi.name&&(ra="fetch-timeout"),Pr.create(ra,{originalErrorMessage:bi.message})}let Ps=ei.status;const el=ei.headers.get("ETag")||void 0;let po,na;if(200===ei.status){let bi;try{bi=yield ei.json()}catch(ra){throw Pr.create("fetch-client-parse",{originalErrorMessage:ra.message})}po=bi.entries,na=bi.state}if("INSTANCE_STATE_UNSPECIFIED"===na?Ps=500:"NO_CHANGE"===na?Ps=304:("NO_TEMPLATE"===na||"EMPTY_CONFIG"===na)&&(po={}),304!==Ps&&200!==Ps)throw Pr.create("fetch-status",{httpStatus:Ps});return{status:Ps,eTag:el,config:po}})()}}class et{constructor(G,le){this.client=G,this.storage=le}fetch(G){var le=this;return(0,K.Z)(function*(){const Be=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(G,Be)})()}attemptFetch(G,{throttleEndTimeMillis:le,backoffCount:Be}){var vt=this;return(0,K.Z)(function*(){yield function qr(B,G){return new Promise((le,Be)=>{const vt=Math.max(G-Date.now(),0),Dt=setTimeout(le,vt);B.addEventListener(()=>{clearTimeout(Dt),Be(Pr.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,le);try{const Dt=yield vt.client.fetch(G);return yield vt.storage.deleteThrottleMetadata(),Dt}catch(Dt){if(!function Qi(B){if(!(B instanceof Oe.ZR&&B.customData))return!1;const G=Number(B.customData.httpStatus);return 429===G||500===G||503===G||504===G}(Dt))throw Dt;const on={throttleEndTimeMillis:Date.now()+(0,Oe.$s)(Be),backoffCount:Be+1};return yield vt.storage.setThrottleMetadata(on),vt.attemptFetch(G,on)}})()}}class $t{constructor(G,le,Be,vt,Dt){this.app=G,this._client=le,this._storageCache=Be,this._storage=vt,this._logger=Dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function en(B,G){const le=B.target.error||void 0;return Pr.create(G,{originalErrorMessage:le&&le.message})}const yn="app_namespace_store";class Qs{constructor(G,le,Be,vt=function pr(){return new Promise((B,G)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=Be=>{G(en(Be,"storage-open"))},le.onsuccess=Be=>{B(Be.target.result)},le.onupgradeneeded=Be=>{0===Be.oldVersion&&Be.target.result.createObjectStore(yn,{keyPath:"compositeKey"})}}catch(le){G(Pr.create("storage-open",{originalErrorMessage:le}))}})}()){this.appId=G,this.appName=le,this.namespace=Be,this.openDbPromise=vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var le=this;return(0,K.Z)(function*(){const Be=yield le.openDbPromise;return new Promise((vt,Dt)=>{const hn=Be.transaction([yn],"readonly").objectStore(yn),or=le.createCompositeKey(G);try{const er=hn.get(or);er.onerror=Nr=>{Dt(en(Nr,"storage-get"))},er.onsuccess=Nr=>{const dr=Nr.target.result;vt(dr?dr.value:void 0)}}catch(er){Dt(Pr.create("storage-get",{originalErrorMessage:er&&er.message}))}})})()}set(G,le){var Be=this;return(0,K.Z)(function*(){const vt=yield Be.openDbPromise;return new Promise((Dt,on)=>{const or=vt.transaction([yn],"readwrite").objectStore(yn),er=Be.createCompositeKey(G);try{const Nr=or.put({compositeKey:er,value:le});Nr.onerror=dr=>{on(en(dr,"storage-set"))},Nr.onsuccess=()=>{Dt()}}catch(Nr){on(Pr.create("storage-set",{originalErrorMessage:Nr&&Nr.message}))}})})()}delete(G){var le=this;return(0,K.Z)(function*(){const Be=yield le.openDbPromise;return new Promise((vt,Dt)=>{const hn=Be.transaction([yn],"readwrite").objectStore(yn),or=le.createCompositeKey(G);try{const er=hn.delete(or);er.onerror=Nr=>{Dt(en(Nr,"storage-delete"))},er.onsuccess=()=>{vt()}}catch(er){Dt(Pr.create("storage-delete",{originalErrorMessage:er&&er.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class Ji{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,K.Z)(function*(){const le=G.storage.getLastFetchStatus(),Be=G.storage.getLastSuccessfulFetchTimestampMillis(),vt=G.storage.getActiveConfig(),Dt=yield le;Dt&&(G.lastFetchStatus=Dt);const on=yield Be;on&&(G.lastSuccessfulFetchTimestampMillis=on);const hn=yield vt;hn&&(G.activeConfig=hn)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function Ts(){return zs.apply(this,arguments)}function zs(){return(zs=(0,K.Z)(function*(){if(!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch(B){return!1}})).apply(this,arguments)}!function es(){(0,Ve._registerComponent)(new se.wA("remote-config",function B(G,{instanceIdentifier:le}){const Be=G.getProvider("app").getImmediate(),vt=G.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pr.create("registration-window");if(!(0,Oe.hl)())throw Pr.create("indexed-db-unavailable");const{projectId:Dt,apiKey:on,appId:hn}=Be.options;if(!Dt)throw Pr.create("registration-project-id");if(!on)throw Pr.create("registration-api-key");if(!hn)throw Pr.create("registration-app-id");const or=new Qs(hn,Be.name,le=le||"firebase"),er=new Ji(or),Nr=new Ce.Yd(jr);Nr.logLevel=Ce.in.ERROR;const dr=new Qn(vt,Ve.SDK_VERSION,le,Dt,on,hn),ei=new et(dr,or),Ps=new En(ei,or,er,Nr),el=new $t(Be,Ps,er,or,Nr);return function ge(B){const G=(0,Oe.m9)(B);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(el),el},"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(jr,"0.3.8"),(0,Ve.registerVersion)(jr,"0.3.8","esm2017")}();const $o="/firebase-messaging-sw.js",Pi="/firebase-cloud-messaging-push-scope",Bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ei="google.c.a.c_id",so="google.c.a.c_l",Mo="google.c.a.ts",Ro="google.c.a.e";var Vi=(()=>{return(B=Vi||(Vi={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",Vi;var B})();function us(B){const G=new Uint8Array(B);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ui(B){const le=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Be=atob(le),vt=new Uint8Array(Be.length);for(let Dt=0;Dt<Be.length;++Dt)vt[Dt]=Be.charCodeAt(Dt);return vt}const ui="fcm_token_details_db",ii="fcm_token_object_Store";function co(B){return $i.apply(this,arguments)}function $i(){return $i=(0,K.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dt=>Dt.name).includes(ui))return null;let G=null;return(yield(0,_e.X3)(ui,5,{upgrade:(Be=(0,K.Z)(function*(vt,Dt,on,hn){var or;if(Dt<2||!vt.objectStoreNames.contains(ii))return;const er=hn.objectStore(ii),Nr=yield er.index("fcmSenderId").get(B);if(yield er.clear(),Nr)if(2===Dt){const dr=Nr;if(!dr.auth||!dr.p256dh||!dr.endpoint)return;G={token:dr.fcmToken,createTime:null!==(or=dr.createTime)&&void 0!==or?or:Date.now(),subscriptionOptions:{auth:dr.auth,p256dh:dr.p256dh,endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:"string"==typeof dr.vapidKey?dr.vapidKey:us(dr.vapidKey)}}}else if(3===Dt){const dr=Nr;G={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:us(dr.auth),p256dh:us(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:us(dr.vapidKey)}}}else if(4===Dt){const dr=Nr;G={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:us(dr.auth),p256dh:us(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:us(dr.vapidKey)}}}}),function(Dt,on,hn,or){return Be.apply(this,arguments)})})).close(),yield(0,_e.Lj)(ui),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),xs(G)?G:null;var Be}),$i.apply(this,arguments)}function xs(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:G}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}const Kr="firebase-messaging-store";let jo=null;function Rr(){return jo||(jo=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(B,G)=>{0===G&&B.createObjectStore(Kr)}})),jo}function U(B){return re.apply(this,arguments)}function re(){return(re=(0,K.Z)(function*(B){const G=Gt(B),Be=yield(yield Rr()).transaction(Kr).objectStore(Kr).get(G);if(Be)return Be;{const vt=yield co(B.appConfig.senderId);if(vt)return yield $(B,vt),vt}})).apply(this,arguments)}function $(B,G){return ce.apply(this,arguments)}function ce(){return(ce=(0,K.Z)(function*(B,G){const le=Gt(B),vt=(yield Rr()).transaction(Kr,"readwrite");return yield vt.objectStore(Kr).put(G,le),yield vt.done,G})).apply(this,arguments)}function Ke(B){return It.apply(this,arguments)}function It(){return(It=(0,K.Z)(function*(B){const G=Gt(B),Be=(yield Rr()).transaction(Kr,"readwrite");yield Be.objectStore(Kr).delete(G),yield Be.done})).apply(this,arguments)}function Gt({appConfig:B}){return B.appId}const Kn=new Oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Er(B,G){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,K.Z)(function*(B,G){const le=yield ns(B),Be=ji(G),vt={method:"POST",headers:le,body:JSON.stringify(Be)};let Dt;try{Dt=yield(yield fetch(ts(B.appConfig),vt)).json()}catch(on){throw Kn.create("token-subscribe-failed",{errorInfo:on})}if(Dt.error)throw Kn.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Kn.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function ir(B,G){return ci.apply(this,arguments)}function ci(){return(ci=(0,K.Z)(function*(B,G){const le=yield ns(B),Be=ji(G.subscriptionOptions),vt={method:"PATCH",headers:le,body:JSON.stringify(Be)};let Dt;try{Dt=yield(yield fetch(`${ts(B.appConfig)}/${G.token}`,vt)).json()}catch(on){throw Kn.create("token-update-failed",{errorInfo:on})}if(Dt.error)throw Kn.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Kn.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function Vr(B,G){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,K.Z)(function*(B,G){const Be={method:"DELETE",headers:yield ns(B)};try{const Dt=yield(yield fetch(`${ts(B.appConfig)}/${G}`,Be)).json();if(Dt.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(vt){throw Kn.create("token-unsubscribe-failed",{errorInfo:vt})}})).apply(this,arguments)}function ts({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function ns(B){return kn.apply(this,arguments)}function kn(){return(kn=(0,K.Z)(function*({appConfig:B,installations:G}){const le=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function ji({p256dh:B,auth:G,endpoint:le,vapidKey:Be}){const vt={web:{endpoint:le,auth:G,p256dh:B}};return Be!==Bs&&(vt.web.applicationPubKey=Be),vt}const H=6048e5;function V(B){return F.apply(this,arguments)}function F(){return(F=(0,K.Z)(function*(B){const G=yield ie(B.swRegistration,B.vapidKey),le={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:G.endpoint,auth:us(G.getKey("auth")),p256dh:us(G.getKey("p256dh"))},Be=yield U(B.firebaseDependencies);if(Be){if(sn(Be.subscriptionOptions,le))return Date.now()>=Be.createTime+H?E(B,{token:Be.token,createTime:Date.now(),subscriptionOptions:le}):Be.token;try{yield Vr(B.firebaseDependencies,Be.token)}catch(vt){console.warn(vt)}return b(B.firebaseDependencies,le)}return b(B.firebaseDependencies,le)})).apply(this,arguments)}function ae(B){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,K.Z)(function*(B){const G=yield U(B.firebaseDependencies);G&&(yield Vr(B.firebaseDependencies,G.token),yield Ke(B.firebaseDependencies));const le=yield B.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function E(B,G){return N.apply(this,arguments)}function N(){return(N=(0,K.Z)(function*(B,G){try{const le=yield ir(B.firebaseDependencies,G),Be=Object.assign(Object.assign({},G),{token:le,createTime:Date.now()});return yield $(B.firebaseDependencies,Be),le}catch(le){throw yield ae(B),le}})).apply(this,arguments)}function b(B,G){return j.apply(this,arguments)}function j(){return(j=(0,K.Z)(function*(B,G){const Be={token:yield Er(B,G),createTime:Date.now(),subscriptionOptions:G};return yield $(B,Be),Be.token})).apply(this,arguments)}function ie(B,G){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,K.Z)(function*(B,G){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ui(G)})})).apply(this,arguments)}function sn(B,G){return G.vapidKey===B.vapidKey&&G.endpoint===B.endpoint&&G.auth===B.auth&&G.p256dh===B.p256dh}function Dn(B){const G={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function cr(B,G){if(!G.notification)return;B.notification={};const le=G.notification.title;le&&(B.notification.title=le);const Be=G.notification.body;Be&&(B.notification.body=Be);const vt=G.notification.image;vt&&(B.notification.image=vt)}(G,B),function Zn(B,G){!G.data||(B.data=G.data)}(G,B),function Wi(B,G){if(!G.fcmOptions)return;B.fcmOptions={};const le=G.fcmOptions.link;le&&(B.fcmOptions.link=le);const Be=G.fcmOptions.analytics_label;Be&&(B.fcmOptions.analyticsLabel=Be)}(G,B),G}function qi(B){return"object"==typeof B&&!!B&&Ei in B}function Ti(B,G){const le=[];for(let Be=0;Be<B.length;Be++)le.push(B.charAt(Be)),Be<G.length&&le.push(G.charAt(Be));return le.join("")}function si(B){return Kn.create("missing-app-config-values",{valueName:B})}Ti("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ti("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rs{constructor(G,le,Be){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function Ms(B){if(!B||!B.options)throw si("App Configuration Object");if(!B.name)throw si("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:le}=B;for(const Be of G)if(!le[Be])throw si(Be);return{appName:B.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:vt,installations:le,analyticsProvider:Be}}_delete(){return Promise.resolve()}}function vs(B){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,K.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register($o,{scope:Pi}),B.swRegistration.update().catch(()=>{})}catch(G){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:G.message})}})).apply(this,arguments)}function Js(B,G){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,K.Z)(function*(B,G){if(!G&&!B.swRegistration&&(yield vs(B)),G||!B.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");B.swRegistration=G}})).apply(this,arguments)}function Gl(B,G){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,K.Z)(function*(B,G){G?B.vapidKey=G:B.vapidKey||(B.vapidKey=Bs)})).apply(this,arguments)}function _l(){return(_l=(0,K.Z)(function*(B,G){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield Gl(B,null==G?void 0:G.vapidKey),yield Js(B,null==G?void 0:G.serviceWorkerRegistration),V(B)})).apply(this,arguments)}function vl(B,G,le){return El.apply(this,arguments)}function El(){return(El=(0,K.Z)(function*(B,G,le){const Be=bl(G);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Be,{message_id:le[Ei],message_name:le[so],message_time:le[Mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bl(B){switch(B){case Vi.NOTIFICATION_CLICKED:return"notification_open";case Vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qa(){return(qa=(0,K.Z)(function*(B,G){const le=G.data;if(!le.isFirebaseMessaging)return;B.onMessageHandler&&le.messageType===Vi.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Dn(le)):B.onMessageHandler.next(Dn(le)));const Be=le.data;qi(Be)&&"1"===Be[Ro]&&(yield vl(B,le.messageType,Be))})).apply(this,arguments)}const xa="@firebase/messaging",wl=B=>{const G=new rs(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function Ju(B,G){return qa.apply(this,arguments)}(G,le)),G},Ws=B=>{const G=B.getProvider("messaging").getImmediate();return{getToken:Be=>function mo(B,G){return _l.apply(this,arguments)}(G,Be)}};function Cl(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,K.Z)(function*(){try{yield(0,Oe.eu)()}catch(B){return!1}return"undefined"!=typeof window&&(0,Oe.hl)()&&(0,Oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Il(){(0,Ve._registerComponent)(new se.wA("messaging",wl,"PUBLIC")),(0,Ve._registerComponent)(new se.wA("messaging-internal",Ws,"PRIVATE")),(0,Ve.registerVersion)(xa,"0.9.13"),(0,Ve.registerVersion)(xa,"0.9.13","esm2017")}();const Ma="analytics",Za="firebase_id",ko="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ra="https://www.googletagmanager.com/gtag/js",fs=new Ce.Yd("@firebase/analytics");function Sl(B){return Promise.all(B.map(G=>G.catch(le=>le)))}function Zo(B,G){const le=document.createElement("script");le.src=`${Ra}?l=${B}&id=${G}`,le.async=!0,document.head.appendChild(le)}function Xo(B,G,le,Be,vt,Dt){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,K.Z)(function*(B,G,le,Be,vt,Dt){const on=Be[vt];try{if(on)yield G[on];else{const or=(yield Sl(le)).find(er=>er.measurementId===vt);or&&(yield G[or.appId])}}catch(hn){fs.error(hn)}B("config",vt,Dt)})).apply(this,arguments)}function Qo(B,G,le,Be,vt){return yo.apply(this,arguments)}function yo(){return(yo=(0,K.Z)(function*(B,G,le,Be,vt){try{let Dt=[];if(vt&&vt.send_to){let on=vt.send_to;Array.isArray(on)||(on=[on]);const hn=yield Sl(le);for(const or of on){const er=hn.find(dr=>dr.measurementId===or),Nr=er&&G[er.appId];if(!Nr){Dt=[];break}Dt.push(Nr)}}0===Dt.length&&(Dt=Object.values(G)),yield Promise.all(Dt),B("event",Be,vt||{})}catch(Dt){fs.error(Dt)}})).apply(this,arguments)}function _o(){const B=window.document.getElementsByTagName("script");for(const G of Object.values(B))if(G.src&&G.src.includes(Ra))return G;return null}const qs=new Oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Al=new class Ks{constructor(G={},le=1e3){this.throttleMetadata=G,this.intervalMillis=le}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,le){this.throttleMetadata[G]=le}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function Jo(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function bs(B){return xl.apply(this,arguments)}function xl(){return(xl=(0,K.Z)(function*(B){var G;const{appId:le,apiKey:Be}=B,vt={method:"GET",headers:Jo(Be)},Dt=ko.replace("{app-id}",le),on=yield fetch(Dt,vt);if(200!==on.status&&304!==on.status){let hn="";try{const or=yield on.json();(null===(G=or.error)||void 0===G?void 0:G.message)&&(hn=or.error.message)}catch(or){}throw qs.create("config-fetch-failed",{httpStatus:on.status,responseMessage:hn})}return on.json()})).apply(this,arguments)}function Ni(B){return fa.apply(this,arguments)}function fa(){return(fa=(0,K.Z)(function*(B,G=Al,le){const{appId:Be,apiKey:vt,measurementId:Dt}=B.options;if(!Be)throw qs.create("no-app-id");if(!vt){if(Dt)return{measurementId:Dt,appId:Be};throw qs.create("no-api-key")}const on=G.getThrottleMetadata(Be)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hn=new ea;return setTimeout((0,K.Z)(function*(){hn.abort()}),void 0!==le?le:6e4),Pa({appId:Be,apiKey:vt,measurementId:Dt},on,hn,G)})).apply(this,arguments)}function Pa(B,G,le){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,K.Z)(function*(B,{throttleEndTimeMillis:G,backoffCount:le},Be,vt=Al){const{appId:Dt,measurementId:on}=B;try{yield ps(Be,G)}catch(hn){if(on)return fs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${on} provided in the "measurementId" field in the local Firebase config. [${hn.message}]`),{appId:Dt,measurementId:on};throw hn}try{const hn=yield bs(B);return vt.deleteThrottleMetadata(Dt),hn}catch(hn){if(!pa(hn)){if(vt.deleteThrottleMetadata(Dt),on)return fs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${on} provided in the "measurementId" field in the local Firebase config. [${hn.message}]`),{appId:Dt,measurementId:on};throw hn}const or=503===Number(hn.customData.httpStatus)?(0,Oe.$s)(le,vt.intervalMillis,30):(0,Oe.$s)(le,vt.intervalMillis),er={throttleEndTimeMillis:Date.now()+or,backoffCount:le+1};return vt.setThrottleMetadata(Dt,er),fs.debug(`Calling attemptFetch again in ${or} millis`),Pa(B,er,Be,vt)}})).apply(this,arguments)}function ps(B,G){return new Promise((le,Be)=>{const vt=Math.max(G-Date.now(),0),Dt=setTimeout(le,vt);B.addEventListener(()=>{clearTimeout(Dt),Be(qs.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}function pa(B){if(!(B instanceof Oe.ZR&&B.customData))return!1;const G=Number(B.customData.httpStatus);return 429===G||500===G||503===G||504===G}class ea{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}function Ml(){return Na.apply(this,arguments)}function Na(){return(Na=(0,K.Z)(function*(){if(!(0,Oe.hl)())return fs.warn(qs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Oe.eu)()}catch(B){return fs.warn(qs.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function mi(){return(mi=(0,K.Z)(function*(B,G,le,Be,vt,Dt,on){var hn;const or=Ni(B);or.then(Ps=>{le[Ps.measurementId]=Ps.appId,B.options.measurementId&&Ps.measurementId!==B.options.measurementId&&fs.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ps=>fs.error(Ps)),G.push(or);const er=Ml().then(Ps=>{if(Ps)return Be.getId()}),[Nr,dr]=yield Promise.all([or,er]);_o()||Zo(Dt,Nr.measurementId),vt("js",new Date);const ei=null!==(hn=null==on?void 0:on.config)&&void 0!==hn?hn:{};return ei.origin="firebase",ei.update=!0,null!=dr&&(ei[Za]=dr),vt("config",Nr.measurementId,ei),Nr.measurementId})).apply(this,arguments)}class vo{constructor(G){this.app=G}_delete(){return delete Os[this.app.options.appId],Promise.resolve()}}let Os={},Pn=[];const Jn={};let w,M,R="dataLayer",z=!1;function Je(B,G,le){!function Pe(){const B=[];if((0,Oe.ru)()&&B.push("This is a browser extension environment."),(0,Oe.zI)()||B.push("Cookies are not available."),B.length>0){const G=B.map((Be,vt)=>`(${vt+1}) ${Be}`).join(" "),le=qs.create("invalid-analytics-context",{errorInfo:G});fs.warn(le.message)}}();const Be=B.options.appId;if(!Be)throw qs.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw qs.create("no-api-key");fs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Os[Be])throw qs.create("already-exists",{id:Be});if(!z){!function Es(B){let G=[];Array.isArray(window[B])?G=window[B]:window[B]=G}(R);const{wrappedGtag:Dt,gtagCore:on}=function bu(B,G,le,Be,vt){let Dt=function(...on){window[Be].push(arguments)};return window[vt]&&"function"==typeof window[vt]&&(Dt=window[vt]),window[vt]=function ha(B,G,le,Be){function Dt(){return(Dt=(0,K.Z)(function*(on,hn,or){try{"event"===on?yield Qo(B,G,le,hn,or):"config"===on?yield Xo(B,G,le,Be,hn,or):B("set",hn)}catch(er){fs.error(er)}})).apply(this,arguments)}return function vt(on,hn,or){return Dt.apply(this,arguments)}}(Dt,B,G,le),{gtagCore:Dt,wrappedGtag:window[vt]}}(Os,Pn,Jn,R,"gtag");M=Dt,w=on,z=!0}return Os[Be]=function tn(B,G,le,Be,vt,Dt,on){return mi.apply(this,arguments)}(B,Pn,Jn,G,w,R,le),new vo(B)}function xn(){return(xn=(0,K.Z)(function*(B,G,le,Be,vt){if(vt&&vt.global)B("event",le,Be);else{const Dt=yield G;B("event",le,Object.assign(Object.assign({},Be),{send_to:Dt}))}})).apply(this,arguments)}function gs(){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,K.Z)(function*(){if((0,Oe.ru)()||!(0,Oe.zI)()||!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch(B){return!1}})).apply(this,arguments)}const Wl="@firebase/analytics";!function ql(){(0,Ve._registerComponent)(new se.wA(Ma,(G,{options:le})=>Je(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,Ve._registerComponent)(new se.wA("analytics-internal",function B(G){try{const le=G.getProvider(Ma).getImmediate();return{logEvent:(Be,vt,Dt)=>function Xr(B,G,le,Be){B=(0,Oe.m9)(B),function Bt(B,G,le,Be,vt){return xn.apply(this,arguments)}(M,Os[B.app.options.appId],G,le,Be).catch(vt=>fs.error(vt))}(le,Be,vt,Dt)}}catch(le){throw qs.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,Ve.registerVersion)(Wl,"0.7.9"),(0,Ve.registerVersion)(Wl,"0.7.9","esm2017")}();var Fa=L(341),is=L(353),ms=L(2868),Ho=L(2102),vr=L(8915);const ya=new c.GfV("7.3.0"),La="__angularfire_symbol__analyticsIsSupportedValue",ss="__angularfire_symbol__analyticsIsSupported",ni="__angularfire_symbol__remoteConfigIsSupportedValue",Rl="__angularfire_symbol__remoteConfigIsSupported",Us="__angularfire_symbol__messagingIsSupportedValue",ta="__angularfire_symbol__messagingIsSupported";function Ol(B,G,le){if(G){if(1===G.length)return G[0];const Dt=G.filter(on=>on.app===le);if(1===Dt.length)return Dt[0]}return le.container.getProvider(B).getImmediate({optional:!0})}globalThis[ss]||(globalThis[ss]=gs().then(B=>globalThis[La]=B).catch(()=>globalThis[La]=!1)),globalThis[ta]||(globalThis[ta]=Cl().then(B=>globalThis[Us]=B).catch(()=>globalThis[Us]=!1)),globalThis[Rl]||(globalThis[Rl]=Ts().then(B=>globalThis[ni]=B).catch(()=>globalThis[ni]=!1));const _a=(B,G)=>{const le=G?[G]:(0,X.C6)(),Be=[];return le.forEach(vt=>{vt.container.getProvider(B).instances.forEach(on=>{Be.includes(on)||Be.push(on)})}),Be};function Si(){}class ki{constructor(G,le=Fa.N){this.zone=G,this.delegate=le}now(){return this.delegate.now()}schedule(G,le,Be){const vt=this.zone;return this.delegate.schedule(function(on){vt.runGuarded(()=>{G.apply(this,[on])})},le,Be)}}class ho{constructor(G){this.zone=G,this.task=null}call(G,le){const Be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)),le.pipe((0,ms.b)({next:Be,complete:Be,error:Be})).subscribe(G).add(Be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dh=(()=>{class B{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new ki(Zone.current)),this.insideAngular=le.run(()=>new ki(Zone.current,is.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(le){return new(le||B)(c.LFG(c.R0b))},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Lo(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Kl(B){return B.pipe((0,Ho.QV)(Lo().outsideAngular))}function Ja(B){return Lo(),function va(B){return function(le){return(le=le.lift(new ho(B.ngZone))).pipe((0,vr.R)(B.outsideAngular),(0,Ho.QV)(B.insideAngular))}}(Lo())(B)}},2090:(Xt,lt,L)=>{"use strict";L.d(lt,{BH:()=>fe,LL:()=>Ye,ZR:()=>Ue,gQ:()=>zn,zI:()=>Te,hu:()=>X,g5:()=>K,US:()=>se,tV:()=>be,h$:()=>Ce,L:()=>_e,$s:()=>bn,r3:()=>Vt,Sg:()=>ze,ne:()=>nr,p$:()=>ee,vZ:()=>Rn,ZB:()=>me,gK:()=>br,pd:()=>Sr,m9:()=>wr,z$:()=>ke,GJ:()=>Xe,jU:()=>je,ru:()=>ft,d:()=>ut,xb:()=>Wt,w1:()=>wt,hl:()=>ve,uI:()=>Ee,UG:()=>Fe,Yr:()=>nt,b$:()=>we,G6:()=>Et,Mn:()=>xt,w9:()=>Re,cI:()=>dt,UI:()=>vn,xO:()=>cn,zd:()=>On,DV:()=>_t,ug:()=>At,dS:()=>qt,Pz:()=>at,Dv:()=>qn,Wj:()=>We,lb:()=>De,eu:()=>Me});const X=function(Se,He){if(!Se)throw K(He)},K=function(Se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Se)},Ve=function(Se){const He=[];let qe=0;for(let Pt=0;Pt<Se.length;Pt++){let $e=Se.charCodeAt(Pt);$e<128?He[qe++]=$e:$e<2048?(He[qe++]=$e>>6|192,He[qe++]=63&$e|128):55296==(64512&$e)&&Pt+1<Se.length&&56320==(64512&Se.charCodeAt(Pt+1))?($e=65536+((1023&$e)<<10)+(1023&Se.charCodeAt(++Pt)),He[qe++]=$e>>18|240,He[qe++]=$e>>12&63|128,He[qe++]=$e>>6&63|128,He[qe++]=63&$e|128):(He[qe++]=$e>>12|224,He[qe++]=$e>>6&63|128,He[qe++]=63&$e|128)}return He},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,He){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const qe=He?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pt=[];for(let $e=0;$e<Se.length;$e+=3){const ct=Se[$e],Yt=$e+1<Se.length,Zt=Yt?Se[$e+1]:0,gn=$e+2<Se.length,Mn=gn?Se[$e+2]:0;let hr=(15&Zt)<<2|Mn>>6,$r=63&Mn;gn||($r=64,Yt||(hr=64)),Pt.push(qe[ct>>2],qe[(3&ct)<<4|Zt>>4],qe[hr],qe[$r])}return Pt.join("")},encodeString(Se,He){return this.HAS_NATIVE_SUPPORT&&!He?btoa(Se):this.encodeByteArray(Ve(Se),He)},decodeString(Se,He){return this.HAS_NATIVE_SUPPORT&&!He?atob(Se):function(Se){const He=[];let qe=0,Pt=0;for(;qe<Se.length;){const $e=Se[qe++];if($e<128)He[Pt++]=String.fromCharCode($e);else if($e>191&&$e<224){const ct=Se[qe++];He[Pt++]=String.fromCharCode((31&$e)<<6|63&ct)}else if($e>239&&$e<365){const gn=((7&$e)<<18|(63&Se[qe++])<<12|(63&Se[qe++])<<6|63&Se[qe++])-65536;He[Pt++]=String.fromCharCode(55296+(gn>>10)),He[Pt++]=String.fromCharCode(56320+(1023&gn))}else{const ct=Se[qe++],Yt=Se[qe++];He[Pt++]=String.fromCharCode((15&$e)<<12|(63&ct)<<6|63&Yt)}}return He.join("")}(this.decodeStringToByteArray(Se,He))},decodeStringToByteArray(Se,He){this.init_();const qe=He?this.charToByteMapWebSafe_:this.charToByteMap_,Pt=[];for(let $e=0;$e<Se.length;){const ct=qe[Se.charAt($e++)],Zt=$e<Se.length?qe[Se.charAt($e)]:0;++$e;const Mn=$e<Se.length?qe[Se.charAt($e)]:64;++$e;const Tn=$e<Se.length?qe[Se.charAt($e)]:64;if(++$e,null==ct||null==Zt||null==Mn||null==Tn)throw Error();Pt.push(ct<<2|Zt>>4),64!==Mn&&(Pt.push(Zt<<4&240|Mn>>2),64!==Tn&&Pt.push(Mn<<6&192|Tn))}return Pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}},Ce=function(Se){const He=Ve(Se);return se.encodeByteArray(He,!0)},_e=function(Se){return Ce(Se).replace(/\./g,"")},be=function(Se){try{return se.decodeString(Se,!0)}catch(He){console.error("base64Decode failed: ",He)}return null};function ee(Se){return me(void 0,Se)}function me(Se,He){if(!(He instanceof Object))return He;switch(He.constructor){case Date:return new Date(He.getTime());case Object:void 0===Se&&(Se={});break;case Array:Se=[];break;default:return He}for(const qe in He)!He.hasOwnProperty(qe)||!ne(qe)||(Se[qe]=me(Se[qe],He[qe]));return Se}function ne(Se){return"__proto__"!==Se}class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((He,qe)=>{this.resolve=He,this.reject=qe})}wrapCallback(He){return(qe,Pt)=>{qe?this.reject(qe):this.resolve(Pt),"function"==typeof He&&(this.promise.catch(()=>{}),1===He.length?He(qe):He(qe,Pt))}}}function ze(Se,He){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pt=He||"demo-project",$e=Se.iat||0,ct=Se.sub||Se.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Yt=Object.assign({iss:`https://securetoken.google.com/${Pt}`,aud:Pt,iat:$e,exp:$e+3600,auth_time:$e,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Yt)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Se){return!1}}function je(){return"object"==typeof self&&self.self===self}function ft(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){return ke().indexOf("Electron/")>=0}function wt(){const Se=ke();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function xt(){return ke().indexOf("MSAppHost/")>=0}function nt(){return!1}function Et(){return!Fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ve(){return"object"==typeof indexedDB}function Me(){return new Promise((Se,He)=>{try{let qe=!0;const Pt="validate-browser-context-for-indexeddb-analytics-module",$e=self.indexedDB.open(Pt);$e.onsuccess=()=>{$e.result.close(),qe||self.indexedDB.deleteDatabase(Pt),Se(!0)},$e.onupgradeneeded=()=>{qe=!1},$e.onerror=()=>{var ct;He((null===(ct=$e.error)||void 0===ct?void 0:ct.message)||"")}}catch(qe){He(qe)}})}function Te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ue extends Error{constructor(He,qe,Pt){super(qe),this.code=He,this.customData=Pt,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(He,qe,Pt){this.service=He,this.serviceName=qe,this.errors=Pt}create(He,...qe){const Pt=qe[0]||{},$e=`${this.service}/${He}`,ct=this.errors[He],Yt=ct?function St(Se,He){return Se.replace(jt,(qe,Pt)=>{const $e=He[Pt];return null!=$e?String($e):`<${Pt}?>`})}(ct,Pt):"Error";return new Ue($e,`${this.serviceName}: ${Yt} (${$e}).`,Pt)}}const jt=/\{\$([^}]+)}/g;function dt(Se){return JSON.parse(Se)}function at(Se){return JSON.stringify(Se)}const Ge=function(Se){let He={},qe={},Pt={},$e="";try{const ct=Se.split(".");He=dt(be(ct[0])||""),qe=dt(be(ct[1])||""),$e=ct[2],Pt=qe.d||{},delete qe.d}catch(ct){}return{header:He,claims:qe,data:Pt,signature:$e}},Re=function(Se){const qe=Ge(Se).claims;return!!qe&&"object"==typeof qe&&qe.hasOwnProperty("iat")},Xe=function(Se){const He=Ge(Se).claims;return"object"==typeof He&&!0===He.admin};function Vt(Se,He){return Object.prototype.hasOwnProperty.call(Se,He)}function _t(Se,He){if(Object.prototype.hasOwnProperty.call(Se,He))return Se[He]}function Wt(Se){for(const He in Se)if(Object.prototype.hasOwnProperty.call(Se,He))return!1;return!0}function vn(Se,He,qe){const Pt={};for(const $e in Se)Object.prototype.hasOwnProperty.call(Se,$e)&&(Pt[$e]=He.call(qe,Se[$e],$e,Se));return Pt}function Rn(Se,He){if(Se===He)return!0;const qe=Object.keys(Se),Pt=Object.keys(He);for(const $e of qe){if(!Pt.includes($e))return!1;const ct=Se[$e],Yt=He[$e];if(In(ct)&&In(Yt)){if(!Rn(ct,Yt))return!1}else if(ct!==Yt)return!1}for(const $e of Pt)if(!qe.includes($e))return!1;return!0}function In(Se){return null!==Se&&"object"==typeof Se}function cn(Se){const He=[];for(const[qe,Pt]of Object.entries(Se))Array.isArray(Pt)?Pt.forEach($e=>{He.push(encodeURIComponent(qe)+"="+encodeURIComponent($e))}):He.push(encodeURIComponent(qe)+"="+encodeURIComponent(Pt));return He.length?"&"+He.join("&"):""}function On(Se){const He={};return Se.replace(/^\?/,"").split("&").forEach(Pt=>{if(Pt){const[$e,ct]=Pt.split("=");He[decodeURIComponent($e)]=decodeURIComponent(ct)}}),He}function Sr(Se){const He=Se.indexOf("?");if(!He)return"";const qe=Se.indexOf("#",He);return Se.substring(He,qe>0?qe:void 0)}class zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let He=1;He<this.blockSize;++He)this.pad_[He]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(He,qe){qe||(qe=0);const Pt=this.W_;if("string"==typeof He)for(let Tn=0;Tn<16;Tn++)Pt[Tn]=He.charCodeAt(qe)<<24|He.charCodeAt(qe+1)<<16|He.charCodeAt(qe+2)<<8|He.charCodeAt(qe+3),qe+=4;else for(let Tn=0;Tn<16;Tn++)Pt[Tn]=He[qe]<<24|He[qe+1]<<16|He[qe+2]<<8|He[qe+3],qe+=4;for(let Tn=16;Tn<80;Tn++){const hr=Pt[Tn-3]^Pt[Tn-8]^Pt[Tn-14]^Pt[Tn-16];Pt[Tn]=4294967295&(hr<<1|hr>>>31)}let Mn,mr,$e=this.chain_[0],ct=this.chain_[1],Yt=this.chain_[2],Zt=this.chain_[3],gn=this.chain_[4];for(let Tn=0;Tn<80;Tn++){Tn<40?Tn<20?(Mn=Zt^ct&(Yt^Zt),mr=1518500249):(Mn=ct^Yt^Zt,mr=1859775393):Tn<60?(Mn=ct&Yt|Zt&(ct|Yt),mr=2400959708):(Mn=ct^Yt^Zt,mr=3395469782);const hr=($e<<5|$e>>>27)+Mn+gn+mr+Pt[Tn]&4294967295;gn=Zt,Zt=Yt,Yt=4294967295&(ct<<30|ct>>>2),ct=$e,$e=hr}this.chain_[0]=this.chain_[0]+$e&4294967295,this.chain_[1]=this.chain_[1]+ct&4294967295,this.chain_[2]=this.chain_[2]+Yt&4294967295,this.chain_[3]=this.chain_[3]+Zt&4294967295,this.chain_[4]=this.chain_[4]+gn&4294967295}update(He,qe){if(null==He)return;void 0===qe&&(qe=He.length);const Pt=qe-this.blockSize;let $e=0;const ct=this.buf_;let Yt=this.inbuf_;for(;$e<qe;){if(0===Yt)for(;$e<=Pt;)this.compress_(He,$e),$e+=this.blockSize;if("string"==typeof He){for(;$e<qe;)if(ct[Yt]=He.charCodeAt($e),++Yt,++$e,Yt===this.blockSize){this.compress_(ct),Yt=0;break}}else for(;$e<qe;)if(ct[Yt]=He[$e],++Yt,++$e,Yt===this.blockSize){this.compress_(ct),Yt=0;break}}this.inbuf_=Yt,this.total_+=qe}digest(){const He=[];let qe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&qe,qe/=256;this.compress_(this.buf_);let Pt=0;for(let $e=0;$e<5;$e++)for(let ct=24;ct>=0;ct-=8)He[Pt]=this.chain_[$e]>>ct&255,++Pt;return He}}function nr(Se,He){const qe=new rn(Se,He);return qe.subscribe.bind(qe)}class rn{constructor(He,qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(()=>{He(this)}).catch(Pt=>{this.error(Pt)})}next(He){this.forEachObserver(qe=>{qe.next(He)})}error(He){this.forEachObserver(qe=>{qe.error(He)}),this.close(He)}complete(){this.forEachObserver(He=>{He.complete()}),this.close()}subscribe(He,qe,Pt){let $e;if(void 0===He&&void 0===qe&&void 0===Pt)throw new Error("Missing Observer.");$e=function rr(Se,He){if("object"!=typeof Se||null===Se)return!1;for(const qe of He)if(qe in Se&&"function"==typeof Se[qe])return!0;return!1}(He,["next","error","complete"])?He:{next:He,error:qe,complete:Pt},void 0===$e.next&&($e.next=_r),void 0===$e.error&&($e.error=_r),void 0===$e.complete&&($e.complete=_r);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$e.error(this.finalError):$e.complete()}catch(Yt){}}),this.observers.push($e),ct}unsubscribeOne(He){void 0===this.observers||void 0===this.observers[He]||(delete this.observers[He],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(He){if(!this.finalized)for(let qe=0;qe<this.observers.length;qe++)this.sendOne(qe,He)}sendOne(He,qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[He])try{qe(this.observers[He])}catch(Pt){"undefined"!=typeof console&&console.error&&console.error(Pt)}})}close(He){this.finalized||(this.finalized=!0,void 0!==He&&(this.finalError=He),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}const qn=function(Se,He,qe,Pt){let $e;if(Pt<He?$e="at least "+He:Pt>qe&&($e=0===qe?"none":"no more than "+qe),$e)throw new Error(Se+" failed: Was called with "+Pt+(1===Pt?" argument.":" arguments.")+" Expects "+$e+".")};function br(Se,He){return`${Se} failed: ${He} argument `}function We(Se,He,qe,Pt){if((!Pt||qe)&&"function"!=typeof qe)throw new Error(br(Se,He)+"must be a valid function.")}function De(Se,He,qe,Pt){if((!Pt||qe)&&("object"!=typeof qe||null===qe))throw new Error(br(Se,He)+"must be a valid context object.")}const qt=function(Se){const He=[];let qe=0;for(let Pt=0;Pt<Se.length;Pt++){let $e=Se.charCodeAt(Pt);if($e>=55296&&$e<=56319){const ct=$e-55296;Pt++,X(Pt<Se.length,"Surrogate pair missing trail surrogate."),$e=65536+(ct<<10)+(Se.charCodeAt(Pt)-56320)}$e<128?He[qe++]=$e:$e<2048?(He[qe++]=$e>>6|192,He[qe++]=63&$e|128):$e<65536?(He[qe++]=$e>>12|224,He[qe++]=$e>>6&63|128,He[qe++]=63&$e|128):(He[qe++]=$e>>18|240,He[qe++]=$e>>12&63|128,He[qe++]=$e>>6&63|128,He[qe++]=63&$e|128)}return He},At=function(Se){let He=0;for(let qe=0;qe<Se.length;qe++){const Pt=Se.charCodeAt(qe);Pt<128?He++:Pt<2048?He+=2:Pt>=55296&&Pt<=56319?(He+=4,qe++):He+=3}return He};function bn(Se,He=1e3,qe=2){const Pt=He*Math.pow(qe,Se),$e=Math.round(.5*Pt*(Math.random()-.5)*2);return Math.min(144e5,Pt+$e)}function wr(Se){return Se&&Se._delegate?Se._delegate:Se}},4433:(Xt,lt,L)=>{"use strict";L.d(lt,{Br:()=>Er,dr:()=>Ht,BJ:()=>an,oU:()=>ln,cs:()=>cs,yp:()=>bn,YG:()=>wr,Sm:()=>Se,PM:()=>He,FN:()=>qe,Zi:()=>Pt,Dq:()=>ct,wI:()=>gn,W2:()=>Mn,IJ:()=>Tn,W4:()=>hr,fr:()=>xi,jY:()=>fi,Gu:()=>Mi,gu:()=>Li,pK:()=>Lr,Ie:()=>pi,Q$:()=>ar,q_:()=>Ir,uN:()=>li,jP:()=>$i,Nd:()=>Oi,cJ:()=>Q,GO:()=>ge,yq:()=>Rt,ZU:()=>dn,UN:()=>Vs,yW:()=>En,Bs:()=>Qn,wd:()=>qr,sr:()=>et,Pc:()=>Lt,r4:()=>V,HT:()=>Hn,IN:()=>Vr,SH:()=>ui,as:()=>rn,Dh:()=>Jr,QI:()=>rr,j9:()=>_r,yF:()=>ts});var c=L(5e3),X=L(4182),K=L(655),Ve=L(2916),Oe=L(6688),se=L(7043),Ce=L(4850);function be(E,N,b,j){return(0,se.m)(b)&&(j=b,b=void 0),j?be(E,N,b).pipe((0,Ce.U)(ie=>(0,Oe.k)(ie)?j(...ie):j(ie))):new Ve.y(ie=>{ee(E,N,function Tt(sn){ie.next(arguments.length>1?Array.prototype.slice.call(arguments):sn)},ie,b)})}function ee(E,N,b,j,ie){let Tt;if(function fe(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const sn=E;E.addEventListener(N,b,ie),Tt=()=>sn.removeEventListener(N,b,ie)}else if(function ne(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const sn=E;E.on(N,b),Tt=()=>sn.off(N,b)}else if(function me(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const sn=E;E.addListener(N,b),Tt=()=>sn.removeListener(N,b)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let sn=0,Dn=E.length;sn<Dn;sn++)ee(E[sn],N,b,j,ie)}j.add(Tt)}var ze=L(8929),ke=L(591),Ee=L(7145),we=(L(1815),L(6447),L(3139),L(6254)),ut=L(3756),wt=L(4318),nt=(L(7726),L(599)),ve=(L(3509),L(2361)),Ye=L(2198),St=L(7545),jt=L(5778),dt=L(9808);const Ge=we.i,Re=["*"],Xe=["outlet"],Vt=[[["","slot","top"]],"*"],_t=["[slot=top]","*"],Rn=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);let In=(()=>{class E{constructor(b,j){this.injector=b,this.el=j,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(b){this.el.nativeElement.value=this.lastValue=null==b?"":b,cn(this.el)}handleChangeEvent(b,j){b===this.el.nativeElement&&(j!==this.lastValue&&(this.lastValue=j,this.onChange(j)),cn(this.el))}_handleBlurEvent(b){b===this.el.nativeElement&&(this.onTouched(),cn(this.el))}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.el.nativeElement.disabled=b}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let b;try{b=this.injector.get(X.a5)}catch(ie){}if(!b)return;b.statusChanges&&(this.statusChanges=b.statusChanges.subscribe(()=>cn(this.el)));const j=b.control;j&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Tt=>{if(void 0!==j[Tt]){const sn=j[Tt].bind(j);j[Tt]=(...Dn)=>{sn(...Dn),cn(this.el)}}})}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,hostBindings:function(b,j){1&b&&c.NdJ("ionBlur",function(Tt){return j._handleBlurEvent(Tt.target)})}}),E})();const cn=E=>{Rn(()=>{const N=E.nativeElement,b=null!=N.value&&N.value.toString().length>0,j=On(N);Sr(N,j);const ie=N.closest("ion-item");ie&&Sr(ie,b?[...j,"item-has-value"]:j)})},On=E=>{const N=E.classList,b=[];for(let j=0;j<N.length;j++){const ie=N.item(j);null!==ie&&zn(ie,"ng-")&&b.push(`ion-${ie.substring(3)}`)}return b},Sr=(E,N)=>{const b=E.classList;b.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),b.add(...N)},zn=(E,N)=>E.substring(0,N.length)===N;let rn=(()=>{class E extends In{constructor(b,j){super(b,j)}_handleIonChange(b){this.handleChangeEvent(b,b.value)}registerOnChange(b){super.registerOnChange(j=>{b(""===j?null:parseFloat(j))})}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(b,j){1&b&&c.NdJ("ionChange",function(Tt){return j._handleIonChange(Tt.target)})},features:[c._Bn([{provide:X.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),rr=(()=>{class E extends In{constructor(b,j){super(b,j)}_handleChangeEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(b,j){1&b&&c.NdJ("ionChange",function(Tt){return j._handleChangeEvent(Tt.target)})},features:[c._Bn([{provide:X.JU,useExisting:E,multi:!0}]),c.qOj]}),E})(),_r=(()=>{class E extends In{constructor(b,j){super(b,j)}_handleInputEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.zs3),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(b,j){1&b&&c.NdJ("ionChange",function(Tt){return j._handleInputEvent(Tt.target)})},features:[c._Bn([{provide:X.JU,useExisting:E,multi:!0}]),c.qOj]}),E})();const qn=(E,N)=>{const b=E.prototype;N.forEach(j=>{Object.defineProperty(b,j,{get(){return this.el[j]},set(ie){this.z.runOutsideAngular(()=>this.el[j]=ie)}})})},br=(E,N)=>{const b=E.prototype;N.forEach(j=>{b[j]=function(){const ie=arguments;return this.z.runOutsideAngular(()=>this.el[j].apply(this.el,ie))}})},mt=(E,N,b)=>{b.forEach(j=>E[j]=be(N,j))};function De(E){return function(b){const{defineCustomElementFn:j,inputs:ie,methods:Tt}=E;return void 0!==j&&j(),ie&&qn(b,ie),Tt&&br(b,Tt),b}}let Ht=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0})],E),E})(),an=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-avatar"]],ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0})],E),E})(),ln=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),bn=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),wr=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement,mt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Se=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),He=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),qe=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["mode"]})],E),E})(),Pt=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],E),E})(),ct=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),gn=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],E),E})(),Mn=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement,mt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),Tn=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],E),E})(),hr=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement,mt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],E),E})(),xi=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),fi=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["fixed"]})],E),E})(),Mi=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),Li=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),Lr=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement,mt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),pi=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),ar=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),Ir=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),li=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Oi=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-row"]],ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0})],E),E})(),Q=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement,mt(this,this.el,["ionChange"])}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),ge=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],E),E})(),Rt=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],E),E})(),dn=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],E),E})(),En=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Qn=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-thumbnail"]],ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0})],E),E})(),qr=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),et=(()=>{let E=class{constructor(b,j,ie){this.z=ie,b.detach(),this.el=j.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(b,j){1&b&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,K.gn)([De({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class Ze{constructor(N={}){this.data=N}get(N){return this.data[N]}}let yt=(()=>{class E{constructor(b,j){this.zone=b,this.appRef=j}create(b,j,ie){return new $t(b,j,ie,this.appRef,this.zone)}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(c.R0b),c.LFG(c.z2F))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();class $t{constructor(N,b,j,ie,Tt){this.resolver=N,this.injector=b,this.location=j,this.appRef=ie,this.zone=Tt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(N,b,j,ie){return this.zone.run(()=>new Promise(Tt=>{Tt(en(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,N,b,j,ie))}))}removeViewFromDom(N,b){return this.zone.run(()=>new Promise(j=>{const ie=this.elRefMap.get(b);if(ie){ie.destroy(),this.elRefMap.delete(b);const Tt=this.elEventsMap.get(b);Tt&&(Tt(),this.elEventsMap.delete(b))}j()}))}}const en=(E,N,b,j,ie,Tt,sn,Dn,cr,Zn,Wi)=>{const qi=N.resolveComponentFactory(cr),Ti=c.zs3.create({providers:pr(Zn),parent:b}),Ms=j?j.createComponent(qi,j.length,Ti):qi.create(Ti),si=Ms.instance,rs=Ms.location.nativeElement;if(Zn&&Object.assign(si,Zn),Wi)for(const Oo of Wi)rs.classList.add(Oo);const vs=fr(E,si,rs);return Dn.appendChild(rs),j||ie.attachView(Ms.hostView),Ms.changeDetectorRef.reattach(),Tt.set(rs,Ms),sn.set(rs,vs),rs},yn=[wt.L,wt.a,wt.b,wt.c,wt.d],fr=(E,N,b)=>E.run(()=>{const j=yn.filter(ie=>"function"==typeof N[ie]).map(ie=>{const Tt=sn=>N[ie](sn.detail);return b.addEventListener(ie,Tt),()=>b.removeEventListener(ie,Tt)});return()=>j.forEach(ie=>ie())}),ti=new c.OlP("NavParamsToken"),pr=E=>[{provide:ti,useValue:E},{provide:Ze,useFactory:Qs,deps:[ti]}],Qs=E=>new Ze(E),es=(E,N)=>((E=E.filter(b=>b.stackId!==N.stackId)).push(N),E),Ts=(E,N)=>{const b=E.createUrlTree(["."],{relativeTo:N});return E.serializeUrl(b)},$o=(E,N)=>{if(!E)return;const b=Pi(N);for(let j=0;j<b.length;j++){if(j>=E.length)return b[j];if(b[j]!==E[j])return}},Pi=E=>E.split("/").map(N=>N.trim()).filter(N=>""!==N),Bs=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class ls{constructor(N,b,j,ie,Tt,sn){this.containerEl=b,this.router=j,this.navCtrl=ie,this.zone=Tt,this.location=sn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==N?Pi(N):void 0}createView(N,b){var j;const ie=Ts(this.router,b),Tt=null===(j=null==N?void 0:N.location)||void 0===j?void 0:j.nativeElement,sn=fr(this.zone,N.instance,Tt);return{id:this.nextId++,stackId:$o(this.tabsPrefix,ie),unlistenEvents:sn,element:Tt,ref:N,url:ie}}getExistingView(N){const b=Ts(this.router,N),j=this.views.find(ie=>ie.url===b);return j&&j.ref.changeDetectorRef.reattach(),j}setActive(N){var b,j;const ie=this.navCtrl.consumeTransition();let{direction:Tt,animation:sn,animationBuilder:Dn}=ie;const cr=this.activeView,Zn=((E,N)=>!N||E.stackId!==N.stackId)(N,cr);Zn&&(Tt="back",sn=void 0);const Wi=this.views.slice();let qi;const Ti=this.router;Ti.getCurrentNavigation?qi=Ti.getCurrentNavigation():(null===(b=Ti.navigations)||void 0===b?void 0:b.value)&&(qi=Ti.navigations.value),(null===(j=null==qi?void 0:qi.extras)||void 0===j?void 0:j.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Ms=this.views.includes(N),si=this.insertView(N,Tt);Ms||N.ref.changeDetectorRef.detectChanges();const rs=N.animationBuilder;return void 0===Dn&&"back"===Tt&&!Zn&&void 0!==rs&&(Dn=rs),cr&&(cr.animationBuilder=Dn),this.zone.runOutsideAngular(()=>this.wait(()=>(cr&&cr.ref.changeDetectorRef.detach(),N.ref.changeDetectorRef.reattach(),this.transition(N,cr,sn,this.canGoBack(1),!1,Dn).then(()=>Ei(N,si,Wi,this.location,this.zone)).then(()=>({enteringView:N,direction:Tt,animation:sn,tabSwitch:Zn})))))}canGoBack(N,b=this.getActiveStackId()){return this.getStack(b).length>N}pop(N,b=this.getActiveStackId()){return this.zone.run(()=>{var j,ie;const Tt=this.getStack(b);if(Tt.length<=N)return Promise.resolve(!1);const sn=Tt[Tt.length-N-1];let Dn=sn.url;const cr=sn.savedData;if(cr){const Wi=cr.get("primary");(null===(ie=null===(j=null==Wi?void 0:Wi.route)||void 0===j?void 0:j._routerState)||void 0===ie?void 0:ie.snapshot.url)&&(Dn=Wi.route._routerState.snapshot.url)}const{animationBuilder:Zn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Dn,Object.assign(Object.assign({},sn.savedExtras),{animation:Zn})).then(()=>!0)})}startBackTransition(){const N=this.activeView;if(N){const b=this.getStack(N.stackId),j=b[b.length-2],ie=j.animationBuilder;return this.wait(()=>this.transition(j,N,"back",this.canGoBack(2),!0,ie))}return Promise.resolve()}endBackTransition(N){N?(this.skipTransition=!0,this.pop(1)):this.activeView&&so(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(N){const b=this.getStack(N);return b.length>0?b[b.length-1]:void 0}getRootUrl(N){const b=this.getStack(N);return b.length>0?b[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Bs),this.activeView=void 0,this.views=[]}getStack(N){return this.views.filter(b=>b.stackId===N)}insertView(N,b){return this.activeView=N,this.views=((E,N,b)=>"root"===b?es(E,N):"forward"===b?((E,N)=>(E.indexOf(N)>=0?E=E.filter(j=>j.stackId!==N.stackId||j.id<=N.id):E.push(N),E))(E,N):((E,N)=>E.indexOf(N)>=0?E.filter(j=>j.stackId!==N.stackId||j.id<=N.id):es(E,N))(E,N))(this.views,N,b),this.views.slice()}transition(N,b,j,ie,Tt,sn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(b===N)return Promise.resolve(!1);const Dn=N?N.element:void 0,cr=b?b.element:void 0,Zn=this.containerEl;return Dn&&Dn!==cr&&(Dn.classList.add("ion-page"),Dn.classList.add("ion-page-invisible"),Dn.parentElement!==Zn&&Zn.appendChild(Dn),Zn.commit)?Zn.commit(Dn,cr,{deepWait:!0,duration:void 0===j?0:void 0,direction:j,showGoBack:ie,progressAnimation:Tt,animationBuilder:sn}):Promise.resolve(!1)}wait(N){return(0,K.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const b=this.runningTask=N();return b.finally(()=>this.runningTask=void 0),b})}}const Ei=(E,N,b,j,ie)=>"function"==typeof requestAnimationFrame?new Promise(Tt=>{requestAnimationFrame(()=>{so(E,N,b,j,ie),Tt()})}):Promise.resolve(),so=(E,N,b,j,ie)=>{ie.run(()=>b.filter(Tt=>!N.includes(Tt)).forEach(Bs)),N.forEach(Tt=>{const Dn=j.path().split("?")[0].split("#")[0];if(Tt!==E&&Tt.url!==Dn){const cr=Tt.element;cr.setAttribute("aria-hidden","true"),cr.classList.add("ion-page-hidden"),Tt.ref.changeDetectorRef.detach()}})};let Mo=(()=>{class E{get(b,j){const ie=Ss();return ie?ie.get(b,j):null}getBoolean(b,j){const ie=Ss();return!!ie&&ie.getBoolean(b,j)}getNumber(b,j){const ie=Ss();return ie?ie.getNumber(b,j):0}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ro=new c.OlP("USERCONFIG"),Ss=()=>{if("undefined"!=typeof window){const E=window.Ionic;if(null==E?void 0:E.config)return E.config}return null};let Vi=(()=>{class E{constructor(b,j){this.doc=b,this.backButton=new ze.xQ,this.keyboardDidShow=new ze.xQ,this.keyboardDidHide=new ze.xQ,this.pause=new ze.xQ,this.resume=new ze.xQ,this.resize=new ze.xQ,j.run(()=>{var ie;let Tt;this.win=b.defaultView,this.backButton.subscribeWithPriority=function(sn,Dn){return this.subscribe(cr=>cr.register(sn,Zn=>j.run(()=>Dn(Zn))))},Ui(this.pause,b,"pause"),Ui(this.resume,b,"resume"),Ui(this.backButton,b,"ionBackButton"),Ui(this.resize,this.win,"resize"),Ui(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ui(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(sn=>{Tt=sn}),(null===(ie=this.win)||void 0===ie?void 0:ie.cordova)?b.addEventListener("deviceready",()=>{Tt("cordova")},{once:!0}):Tt("dom")})}is(b){return(0,we.a)(this.win,b)}platforms(){return(0,we.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(b){return us(this.win.location.href,b)}isLandscape(){return!this.isPortrait()}isPortrait(){var b,j;return null===(j=(b=this.win).matchMedia)||void 0===j?void 0:j.call(b,"(orientation: portrait)").matches}testUserAgent(b){const j=this.win.navigator;return!!((null==j?void 0:j.userAgent)&&j.userAgent.indexOf(b)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(dt.K0),c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const us=(E,N)=>{N=N.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const j=new RegExp("[\\?&]"+N+"=([^&#]*)").exec(E);return j?decodeURIComponent(j[1].replace(/\+/g," ")):null},Ui=(E,N,b)=>{N&&N.addEventListener(b,j=>{E.next(null!=j?j.detail:void 0)})};let ui=(()=>{class E{constructor(b,j,ie,Tt){this.location=j,this.serializer=ie,this.router=Tt,this.direction=ii,this.animated=co,this.guessDirection="forward",this.lastNavId=-1,Tt&&Tt.events.subscribe(sn=>{if(sn instanceof Ee.OD){const Dn=sn.restoredState?sn.restoredState.navigationId:sn.id;this.guessDirection=Dn<this.lastNavId?"back":"forward",this.guessAnimation=sn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?sn.id:Dn}}),b.backButton.subscribeWithPriority(0,sn=>{this.pop(),sn()})}navigateForward(b,j={}){return this.setDirection("forward",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}navigateBack(b,j={}){return this.setDirection("back",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}navigateRoot(b,j={}){return this.setDirection("root",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}back(b={animated:!0,animationDirection:"back"}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.location.back()}pop(){return(0,K.mG)(this,void 0,void 0,function*(){let b=this.topOutlet;for(;b&&!(yield b.pop());)b=b.parentOutlet})}setDirection(b,j,ie,Tt){this.direction=b,this.animated=As(b,j,ie),this.animationBuilder=Tt}setTopOutlet(b){this.topOutlet=b}consumeTransition(){let j,b="root";const ie=this.animationBuilder;return"auto"===this.direction?(b=this.guessDirection,j=this.guessAnimation):(j=this.animated,b=this.direction),this.direction=ii,this.animated=co,this.animationBuilder=void 0,{direction:b,animation:j,animationBuilder:ie}}navigate(b,j){if(Array.isArray(b))return this.router.navigate(b,j);{const ie=this.serializer.parse(b.toString());return void 0!==j.queryParams&&(ie.queryParams=Object.assign({},j.queryParams)),void 0!==j.fragment&&(ie.fragment=j.fragment),this.router.navigateByUrl(ie,j)}}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(Vi),c.LFG(dt.Ye),c.LFG(Ee.Hx),c.LFG(Ee.F0,8))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const As=(E,N,b)=>{if(!1!==N){if(void 0!==b)return b;if("forward"===E||"back"===E)return E;if("root"===E&&!0===N)return"forward"}},ii="auto",co=void 0;let $i=(()=>{class E{constructor(b,j,ie,Tt,sn,Dn,cr,Zn,Wi,qi,Ti,Ms,si){this.parentContexts=b,this.location=j,this.resolver=ie,this.config=Dn,this.navCtrl=cr,this.parentOutlet=si,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ke.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=Wi.nativeElement,this.name=Tt||Ee.eC,this.tabsPrefix="true"===sn?Ts(qi,Ms):void 0,this.stackCtrl=new ls(this.tabsPrefix,this.nativeEl,qi,cr,Ti,Zn),b.onChildOutletCreated(this.name,this)}set animation(b){this.nativeEl.animation=b}set animated(b){this.nativeEl.animated=b}set swipeGesture(b){this._swipeGesture=b,this.nativeEl.swipeHandler=b?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:j=>this.stackCtrl.endBackTransition(j)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const b=this.getContext();(null==b?void 0:b.route)&&this.activateWith(b.route,b.resolver||null)}new Promise(b=>(0,ut.c)(this.nativeEl,b)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(b,j){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const j=this.getContext();this.activatedView.savedData=new Map(j.children.contexts);const ie=this.activatedView.savedData.get("primary");if(ie&&j.route&&(ie.route=Object.assign({},j.route)),this.activatedView.savedExtras={},j.route){const Tt=j.route.snapshot;this.activatedView.savedExtras.queryParams=Tt.queryParams,this.activatedView.savedExtras.fragment=Tt.fragment}}const b=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,j){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;let ie,Tt=this.stackCtrl.getExistingView(b);if(Tt){ie=this.activated=Tt.ref;const sn=Tt.savedData;sn&&(this.getContext().children.contexts=sn),this.updateActivatedRouteProxy(ie.instance,b)}else{const cr=(j=j||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Zn=this.parentContexts.getOrCreateContext(this.name).children,Wi=new ke.X(null),qi=this.createActivatedRouteProxy(Wi,b),Ti=new xs(qi,Zn,this.location.injector);ie=this.activated=this.location.createComponent(cr,this.location.length,Ti),Wi.next(ie.instance),Tt=this.stackCtrl.createView(this.activated,b),this.proxyMap.set(ie.instance,qi),this.currentActivatedRoute$.next({component:ie.instance,activatedRoute:b})}this.activatedView=Tt,this.stackCtrl.setActive(Tt).then(sn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(ie.instance),this.stackEvents.emit(sn)})}canGoBack(b=1,j){return this.stackCtrl.canGoBack(b,j)}pop(b=1,j){return this.stackCtrl.pop(b,j)}getLastUrl(b){const j=this.stackCtrl.getLastUrl(b);return j?j.url:void 0}getLastRouteView(b){return this.stackCtrl.getLastUrl(b)}getRootView(b){return this.stackCtrl.getRootUrl(b)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(b,j){const ie=new Ee.gz;return ie._futureSnapshot=j._futureSnapshot,ie._routerState=j._routerState,ie.snapshot=j.snapshot,ie.outlet=j.outlet,ie.component=j.component,ie._paramMap=this.proxyObservable(b,"paramMap"),ie._queryParamMap=this.proxyObservable(b,"queryParamMap"),ie.url=this.proxyObservable(b,"url"),ie.params=this.proxyObservable(b,"params"),ie.queryParams=this.proxyObservable(b,"queryParams"),ie.fragment=this.proxyObservable(b,"fragment"),ie.data=this.proxyObservable(b,"data"),ie}proxyObservable(b,j){return b.pipe((0,Ye.h)(ie=>!!ie),(0,St.w)(ie=>this.currentActivatedRoute$.pipe((0,Ye.h)(Tt=>null!==Tt&&Tt.component===ie),(0,St.w)(Tt=>Tt&&Tt.activatedRoute[j]),(0,jt.x)())))}updateActivatedRouteProxy(b,j){const ie=this.proxyMap.get(b);if(!ie)throw new Error("Could not find activated route proxy for view");ie._futureSnapshot=j._futureSnapshot,ie._routerState=j._routerState,ie.snapshot=j.snapshot,ie.outlet=j.outlet,ie.component=j.component,this.currentActivatedRoute$.next({component:b,activatedRoute:j})}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(Ee.y6),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.$8M("tabs"),c.Y36(Mo),c.Y36(ui),c.Y36(dt.Ye),c.Y36(c.SBq),c.Y36(Ee.F0),c.Y36(c.R0b),c.Y36(Ee.gz),c.Y36(E,12))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class xs{constructor(N,b,j){this.route=N,this.childContexts=b,this.parent=j}get(N,b){return N===Ee.gz?this.route:N===Ee.y6?this.childContexts:this.parent.get(N,b)}}let Vs=(()=>{class E{constructor(b){this.navCtrl=b,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(b){const j=b.enteringView.stackId;b.tabSwitch&&void 0!==j&&(this.ionTabsWillChange.emit({tab:j}),this.tabBar&&(this.tabBar.selectedTab=j),this.ionTabsDidChange.emit({tab:j}))}select(b){const j="string"==typeof b,ie=j?b:b.detail.tab,Tt=this.outlet.getActiveStackId()===ie,sn=`${this.outlet.tabsPrefix}/${ie}`;if(j||b.stopPropagation(),Tt){const Dn=this.outlet.getActiveStackId(),cr=this.outlet.getLastRouteView(Dn);if((null==cr?void 0:cr.url)===sn)return;const Zn=this.outlet.getRootView(ie);return this.navCtrl.navigateRoot(sn,Object.assign(Object.assign({},Zn&&sn===Zn.url&&Zn.savedExtras),{animated:!0,animationDirection:"back"}))}{const Dn=this.outlet.getLastRouteView(ie);return this.navCtrl.navigateRoot((null==Dn?void 0:Dn.url)||sn,Object.assign(Object.assign({},null==Dn?void 0:Dn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return E.\u0275fac=function(b){return new(b||E)(c.Y36(ui))},E.\u0275cmp=c.Xpm({type:E,selectors:[["ion-tabs"]],contentQueries:function(b,j,ie){if(1&b&&c.Suo(ie,Rt,5),2&b){let Tt;c.iGM(Tt=c.CRH())&&(j.tabBar=Tt.first)}},viewQuery:function(b,j){if(1&b&&c.Gf(Xe,5,$i),2&b){let ie;c.iGM(ie=c.CRH())&&(j.outlet=ie.first)}},hostBindings:function(b,j){1&b&&c.NdJ("ionTabButtonClick",function(Tt){return j.select(Tt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:_t,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(b,j){1&b&&(c.F$t(Vt),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(Tt){return j.onPageSelected(Tt)}),c.qZA()(),c.Hsn(4,1))},directives:[$i],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),E})(),cs=(()=>{class E{constructor(b,j,ie){this.routerOutlet=b,this.navCtrl=j,this.config=ie}onClick(b){var j;const ie=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(j=this.routerOutlet)||void 0===j?void 0:j.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),b.preventDefault()):null!=ie&&(this.navCtrl.navigateBack(ie,{animation:this.routerAnimation}),b.preventDefault())}}return E.\u0275fac=function(b){return new(b||E)(c.Y36($i,8),c.Y36(ui),c.Y36(Mo))},E.\u0275dir=c.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(b,j){1&b&&c.NdJ("click",function(Tt){return j.onClick(Tt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})();class Cn{constructor(N){this.ctrl=N}create(N){return this.ctrl.create(N||{})}dismiss(N,b,j){return this.ctrl.dismiss(N,b,j)}getTop(){return this.ctrl.getTop()}}let Er=(()=>{class E extends Cn{constructor(){super(nt.a)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Hn=(()=>{class E extends Cn{constructor(){super(nt.l)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Vr=(()=>{class E extends Cn{constructor(b,j,ie){super(nt.m),this.angularDelegate=b,this.resolver=j,this.injector=ie}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(yt),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),Jr=(()=>{class E extends Cn{constructor(b,j,ie){super(nt.c),this.angularDelegate=b,this.resolver=j,this.injector=ie}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(c.LFG(yt),c.LFG(c._Vd),c.LFG(c.zs3))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),ts=(()=>{class E extends Cn{constructor(){super(nt.t)}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class V{shouldDetach(N){return!1}shouldAttach(N){return!1}store(N,b){}retrieve(N){return null}shouldReuseRoute(N,b){if(N.routeConfig!==b.routeConfig)return!1;const j=N.params,ie=b.params,Tt=Object.keys(j),sn=Object.keys(ie);if(Tt.length!==sn.length)return!1;for(const Dn of Tt)if(ie[Dn]!==j[Dn])return!1;return!0}}const F=(E,N,b)=>()=>{if(N.defaultView&&"undefined"!=typeof window){(E=>{const N=window,b=N.Ionic;b&&b.config&&"Object"!==b.config.constructor.name||(N.Ionic=N.Ionic||{},N.Ionic.config=Object.assign(Object.assign({},N.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:Tt=>b.run(Tt)}));const ie="__zone_symbol__addEventListener"in N.body?"__zone_symbol__addEventListener":"addEventListener";return function at(){var E=[];if("undefined"!=typeof window){var N=window;(!N.customElements||N.Element&&(!N.Element.prototype.closest||!N.Element.prototype.matches||!N.Element.prototype.remove||!N.Element.prototype.getRootNode))&&E.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||N.NodeList&&!N.NodeList.prototype.forEach||!N.fetch||!function(){try{var j=new URL("b","http://a");return j.pathname="c%20d","http://a/c%20d"===j.href&&j.searchParams}catch(ie){return!1}}()||"undefined"==typeof WeakMap)&&E.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(E)}().then(()=>((E,N)=>"undefined"==typeof window?Promise.resolve():(0,ve.p)().then(()=>(Ge(),(0,ve.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),N))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Rn,jmp:Tt=>b.runOutsideAngular(Tt),ael(Tt,sn,Dn,cr){Tt[ie](sn,Dn,cr)},rel(Tt,sn,Dn,cr){Tt.removeEventListener(sn,Dn,cr)}}))}};let Lt=(()=>{class E{static forRoot(b){return{ngModule:E,providers:[{provide:Ro,useValue:b},{provide:c.ip1,useFactory:F,multi:!0,deps:[Ro,dt.K0,c.R0b]}]}}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({providers:[yt,Vr,Jr],imports:[[dt.ez]]}),E})()},9442:(Xt,lt,L)=>{"use strict";L.d(lt,{c:()=>ke});var c=L(3756);let X;const Ve=Ee=>Ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oe=Ee=>{if(void 0===X){const je=void 0!==Ee.style.webkitAnimationName;X=void 0===Ee.style.animationName&&je?"-webkit-":""}return X},se=(Ee,Fe,je)=>{const ft=Fe.startsWith("animation")?Oe(Ee):"";Ee.style.setProperty(ft+Fe,je)},Ce=(Ee,Fe)=>{const je=Fe.startsWith("animation")?Oe(Ee):"";Ee.style.removeProperty(je+Fe)},ee=[],ze=(Ee=[],Fe)=>{if(void 0!==Fe){const je=Array.isArray(Fe)?Fe:[Fe];return[...Ee,...je]}return Ee},ke=Ee=>{let Fe,je,ft,we,ut,wt,Me,dt,at,Ge,st,Vt,_t,xt=[],nt=[],Et=[],ve=!1,Te={},de=[],ye=[],Ue={},Ye=0,St=!1,jt=!1,gt=!0,Re=!1,Xe=!0,Wt=!1;const vn=Ee,Rn=[],In=[],cn=[],On=[],Sr=[],zn=[],nr=[],rn=[],Fr=[],rr=[],_r="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,qn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_r,mt=()=>rr,Ht=(Ie,Le)=>(((null==Le?void 0:Le.oneTimeCallback)?In:Rn).push({c:Ie,o:Le}),_t),ln=()=>{if(qn)rr.forEach(Ie=>{Ie.cancel()}),rr.length=0;else{const Ie=cn.slice();(0,c.r)(()=>{Ie.forEach(Le=>{Ce(Le,"animation-name"),Ce(Le,"animation-duration"),Ce(Le,"animation-timing-function"),Ce(Le,"animation-iteration-count"),Ce(Le,"animation-delay"),Ce(Le,"animation-play-state"),Ce(Le,"animation-fill-mode"),Ce(Le,"animation-direction")})})}},Ln=()=>{Sr.forEach(Ie=>{(null==Ie?void 0:Ie.parentNode)&&Ie.parentNode.removeChild(Ie)}),Sr.length=0},gn=()=>void 0!==ut?ut:Me?Me.getFill():"both",Mn=()=>void 0!==at?at:void 0!==wt?wt:Me?Me.getDirection():"normal",mr=()=>St?"linear":void 0!==ft?ft:Me?Me.getEasing():"linear",Tn=()=>jt?0:void 0!==Ge?Ge:void 0!==je?je:Me?Me.getDuration():0,hr=()=>void 0!==we?we:Me?Me.getIterations():1,$r=()=>void 0!==st?st:void 0!==Fe?Fe:Me?Me.getDelay():0,ar=()=>{0!==Ye&&(Ye--,0===Ye&&((()=>{Di(),rn.forEach(Mt=>Mt()),Fr.forEach(Mt=>Mt());const Ie=gt?1:0,Le=de,ot=ye,kt=Ue;cn.forEach(Mt=>{const Rt=Mt.classList;Le.forEach(dn=>Rt.add(dn)),ot.forEach(dn=>Rt.remove(dn));for(const dn in kt)kt.hasOwnProperty(dn)&&se(Mt,dn,kt[dn])}),Rn.forEach(Mt=>Mt.c(Ie,_t)),In.forEach(Mt=>Mt.c(Ie,_t)),In.length=0,Xe=!0,gt&&(Re=!0),gt=!0})(),Me&&Me.animationFinish()))},Ir=(Ie=!0)=>{Ln();const Le=(Ee=>(Ee.forEach(Fe=>{for(const je in Fe)if(Fe.hasOwnProperty(je)){const ft=Fe[je];if("easing"===je)Fe["animation-timing-function"]=ft,delete Fe[je];else{const we=Ve(je);we!==je&&(Fe[we]=ft,delete Fe[je])}}}),Ee))(xt);cn.forEach(ot=>{if(Le.length>0){const kt=((Ee=[])=>Ee.map(Fe=>{const je=Fe.offset,ft=[];for(const we in Fe)Fe.hasOwnProperty(we)&&"offset"!==we&&ft.push(`${we}: ${Fe[we]};`);return`${100*je}% { ${ft.join(" ")} }`}).join(" "))(Le);Vt=void 0!==Ee?Ee:(Ee=>{let Fe=ee.indexOf(Ee);return Fe<0&&(Fe=ee.push(Ee)-1),`ion-animation-${Fe}`})(kt);const Mt=((Ee,Fe,je)=>{const ft=(Ee=>{const Fe=Ee.getRootNode();return Fe.head||Fe})(je),we=Oe(je),ut=ft.querySelector("#"+Ee);if(ut)return ut;const wt=(je.ownerDocument||document).createElement("style");return wt.id=Ee,wt.textContent=`@${we}keyframes ${Ee} { ${Fe} } @${we}keyframes ${Ee}-alt { ${Fe} }`,ft.appendChild(wt),wt})(Vt,kt,ot);Sr.push(Mt),se(ot,"animation-duration",`${Tn()}ms`),se(ot,"animation-timing-function",mr()),se(ot,"animation-delay",`${$r()}ms`),se(ot,"animation-fill-mode",gn()),se(ot,"animation-direction",Mn());const Rt=hr()===1/0?"infinite":hr().toString();se(ot,"animation-iteration-count",Rt),se(ot,"animation-play-state","paused"),Ie&&se(ot,"animation-name",`${Mt.id}-alt`),(0,c.r)(()=>{se(ot,"animation-name",Mt.id||null)})}})},un=(Ie=!0)=>{(()=>{zn.forEach(kt=>kt()),nr.forEach(kt=>kt());const Ie=nt,Le=Et,ot=Te;cn.forEach(kt=>{const Mt=kt.classList;Ie.forEach(Rt=>Mt.add(Rt)),Le.forEach(Rt=>Mt.remove(Rt));for(const Rt in ot)ot.hasOwnProperty(Rt)&&se(kt,Rt,ot[Rt])})})(),xt.length>0&&(qn?(cn.forEach(Ie=>{const Le=Ie.animate(xt,{id:vn,delay:$r(),duration:Tn(),easing:mr(),iterations:hr(),fill:gn(),direction:Mn()});Le.pause(),rr.push(Le)}),rr.length>0&&(rr[0].onfinish=()=>{ar()})):Ir(Ie)),ve=!0},pe=Ie=>{if(Ie=Math.min(Math.max(Ie,0),.9999),qn)rr.forEach(Le=>{Le.currentTime=Le.effect.getComputedTiming().delay+Tn()*Ie,Le.pause()});else{const Le=`-${Tn()*Ie}ms`;cn.forEach(ot=>{xt.length>0&&(se(ot,"animation-delay",Le),se(ot,"animation-play-state","paused"))})}},xr=Ie=>{rr.forEach(Le=>{Le.effect.updateTiming({delay:$r(),duration:Tn(),easing:mr(),iterations:hr(),fill:gn(),direction:Mn()})}),void 0!==Ie&&pe(Ie)},jr=(Ie=!0,Le)=>{(0,c.r)(()=>{cn.forEach(ot=>{se(ot,"animation-name",Vt||null),se(ot,"animation-duration",`${Tn()}ms`),se(ot,"animation-timing-function",mr()),se(ot,"animation-delay",void 0!==Le?`-${Le*Tn()}ms`:`${$r()}ms`),se(ot,"animation-fill-mode",gn()||null),se(ot,"animation-direction",Mn()||null);const kt=hr()===1/0?"infinite":hr().toString();se(ot,"animation-iteration-count",kt),Ie&&se(ot,"animation-name",`${Vt}-alt`),(0,c.r)(()=>{se(ot,"animation-name",Vt||null)})})})},lr=(Ie=!1,Le=!0,ot)=>(Ie&&On.forEach(kt=>{kt.update(Ie,Le,ot)}),qn?xr(ot):jr(Le,ot),_t),Pr=()=>{ve&&(qn?rr.forEach(Ie=>{Ie.pause()}):cn.forEach(Ie=>{se(Ie,"animation-play-state","paused")}),Wt=!0)},os=()=>{dt=void 0,ar()},Di=()=>{dt&&clearTimeout(dt)},gi=Ie=>new Promise(Le=>{(null==Ie?void 0:Ie.sync)&&(jt=!0,Ht(()=>jt=!1,{oneTimeCallback:!0})),ve||un(),Re&&(qn?(pe(0),xr()):jr(),Re=!1),Xe&&(Ye=On.length+1,Xe=!1),Ht(()=>Le(),{oneTimeCallback:!0}),On.forEach(ot=>{ot.play()}),qn?(rr.forEach(Ie=>{Ie.play()}),(0===xt.length||0===cn.length)&&ar()):(()=>{if(Di(),(0,c.r)(()=>{cn.forEach(Ie=>{xt.length>0&&se(Ie,"animation-play-state","running")})}),0===xt.length||0===cn.length)ar();else{const Ie=$r()||0,Le=Tn()||0,ot=hr()||1;isFinite(ot)&&(dt=setTimeout(os,Ie+Le*ot+100)),((Ee,Fe)=>{let je;const ft={passive:!0},ut=wt=>{Ee===wt.target&&(je&&je(),Di(),(0,c.r)(()=>{cn.forEach(Ie=>{Ce(Ie,"animation-duration"),Ce(Ie,"animation-delay"),Ce(Ie,"animation-play-state")}),(0,c.r)(ar)}))};Ee&&(Ee.addEventListener("webkitAnimationEnd",ut,ft),Ee.addEventListener("animationend",ut,ft),je=()=>{Ee.removeEventListener("webkitAnimationEnd",ut,ft),Ee.removeEventListener("animationend",ut,ft)})})(cn[0])}})(),Wt=!1}),ge=(Ie,Le)=>{const ot=xt[0];return void 0===ot||void 0!==ot.offset&&0!==ot.offset?xt=[{offset:0,[Ie]:Le},...xt]:ot[Ie]=Le,_t};return _t={parentAnimation:Me,elements:cn,childAnimations:On,id:vn,animationFinish:ar,from:ge,to:(Ie,Le)=>{const ot=xt[xt.length-1];return void 0===ot||void 0!==ot.offset&&1!==ot.offset?xt=[...xt,{offset:1,[Ie]:Le}]:ot[Ie]=Le,_t},fromTo:(Ie,Le,ot)=>ge(Ie,Le).to(Ie,ot),parent:Ie=>(Me=Ie,_t),play:gi,pause:()=>(On.forEach(Ie=>{Ie.pause()}),Pr(),_t),stop:()=>{On.forEach(Ie=>{Ie.stop()}),ve&&(ln(),ve=!1),St=!1,jt=!1,Xe=!0,at=void 0,Ge=void 0,st=void 0,Ye=0,Re=!1,gt=!0,Wt=!1},destroy:Ie=>(On.forEach(Le=>{Le.destroy(Ie)}),(Ie=>{ln(),Ie&&Ln()})(Ie),cn.length=0,On.length=0,xt.length=0,Rn.length=0,In.length=0,ve=!1,Xe=!0,_t),keyframes:Ie=>{const Le=xt!==Ie;return xt=Ie,Le&&(Ie=>{qn?mt().forEach(Le=>{if(Le.effect.setKeyframes)Le.effect.setKeyframes(Ie);else{const ot=new KeyframeEffect(Le.effect.target,Ie,Le.effect.getTiming());Le.effect=ot}}):Ir()})(xt),_t},addAnimation:Ie=>{if(null!=Ie)if(Array.isArray(Ie))for(const Le of Ie)Le.parent(_t),On.push(Le);else Ie.parent(_t),On.push(Ie);return _t},addElement:Ie=>{if(null!=Ie)if(1===Ie.nodeType)cn.push(Ie);else if(Ie.length>=0)for(let Le=0;Le<Ie.length;Le++)cn.push(Ie[Le]);else console.error("Invalid addElement value");return _t},update:lr,fill:Ie=>(ut=Ie,lr(!0),_t),direction:Ie=>(wt=Ie,lr(!0),_t),iterations:Ie=>(we=Ie,lr(!0),_t),duration:Ie=>(!qn&&0===Ie&&(Ie=1),je=Ie,lr(!0),_t),easing:Ie=>(ft=Ie,lr(!0),_t),delay:Ie=>(Fe=Ie,lr(!0),_t),getWebAnimations:mt,getKeyframes:()=>xt,getFill:gn,getDirection:Mn,getDelay:$r,getIterations:hr,getEasing:mr,getDuration:Tn,afterAddRead:Ie=>(rn.push(Ie),_t),afterAddWrite:Ie=>(Fr.push(Ie),_t),afterClearStyles:(Ie=[])=>{for(const Le of Ie)Ue[Le]="";return _t},afterStyles:(Ie={})=>(Ue=Ie,_t),afterRemoveClass:Ie=>(ye=ze(ye,Ie),_t),afterAddClass:Ie=>(de=ze(de,Ie),_t),beforeAddRead:Ie=>(zn.push(Ie),_t),beforeAddWrite:Ie=>(nr.push(Ie),_t),beforeClearStyles:(Ie=[])=>{for(const Le of Ie)Te[Le]="";return _t},beforeStyles:(Ie={})=>(Te=Ie,_t),beforeRemoveClass:Ie=>(Et=ze(Et,Ie),_t),beforeAddClass:Ie=>(nt=ze(nt,Ie),_t),onFinish:Ht,isRunning:()=>0!==Ye&&!Wt,progressStart:(Ie=!1,Le)=>(On.forEach(ot=>{ot.progressStart(Ie,Le)}),Pr(),St=Ie,ve||un(),lr(!1,!0,Le),_t),progressStep:Ie=>(On.forEach(Le=>{Le.progressStep(Ie)}),pe(Ie),_t),progressEnd:(Ie,Le,ot)=>(St=!1,On.forEach(kt=>{kt.progressEnd(Ie,Le,ot)}),void 0!==ot&&(Ge=ot),Re=!1,gt=!0,0===Ie?(at="reverse"===Mn()?"normal":"reverse","reverse"===at&&(gt=!1),qn?(lr(),pe(1-Le)):(st=(1-Le)*Tn()*-1,lr(!1,!1))):1===Ie&&(qn?(lr(),pe(Le)):(st=Le*Tn()*-1,lr(!1,!1))),void 0!==Ie&&(Ht(()=>{Ge=void 0,at=void 0,st=void 0},{oneTimeCallback:!0}),Me||gi()),_t)}}},3509:(Xt,lt,L)=>{"use strict";L.d(lt,{G:()=>Oe});class X{constructor(Ce,_e,be,ee,me){this.id=_e,this.name=be,this.disableScroll=me,this.priority=1e6*ee+_e,this.ctrl=Ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ce=this.ctrl.capture(this.name,this.id,this.priority);return Ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(Ce,_e,be,ee){this.id=_e,this.disable=be,this.disableScroll=ee,this.ctrl=Ce}block(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.disableGesture(Ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.enableGesture(Ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ve="backdrop-no-scroll",Oe=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ce){return new X(this,this.newID(),Ce.name,Ce.priority||0,!!Ce.disableScroll)}createBlocker(Ce={}){return new K(this,this.newID(),Ce.disable,!!Ce.disableScroll)}start(Ce,_e,be){return this.canStart(Ce)?(this.requestedStart.set(_e,be),!0):(this.requestedStart.delete(_e),!1)}capture(Ce,_e,be){if(!this.start(Ce,_e,be))return!1;const ee=this.requestedStart;let me=-1e4;if(ee.forEach(ne=>{me=Math.max(me,ne)}),me===be){this.capturedId=_e,ee.clear();const ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ce}});return document.dispatchEvent(ne),!0}return ee.delete(_e),!1}release(Ce){this.requestedStart.delete(Ce),this.capturedId===Ce&&(this.capturedId=void 0)}disableGesture(Ce,_e){let be=this.disabledGestures.get(Ce);void 0===be&&(be=new Set,this.disabledGestures.set(Ce,be)),be.add(_e)}enableGesture(Ce,_e){const be=this.disabledGestures.get(Ce);void 0!==be&&be.delete(_e)}disableScroll(Ce){this.disabledScroll.add(Ce),1===this.disabledScroll.size&&document.body.classList.add(Ve)}enableScroll(Ce){this.disabledScroll.delete(Ce),0===this.disabledScroll.size&&document.body.classList.remove(Ve)}canStart(Ce){return!(void 0!==this.capturedId||this.isDisabled(Ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ce){const _e=this.disabledGestures.get(Ce);return!!(_e&&_e.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Xt,lt,L)=>{"use strict";L.r(lt),L.d(lt,{MENU_BACK_BUTTON_PRIORITY:()=>Oe,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ve,blockHardwareBackButton:()=>X,startHardwareBackButton:()=>K});var c=L(5861);const X=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const se=document;let Ce=!1;se.addEventListener("backbutton",()=>{if(Ce)return;let _e=0,be=[];const ee=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(fe,ze){be.push({priority:fe,handler:ze,id:_e++})}}});se.dispatchEvent(ee);const me=function(){var fe=(0,c.Z)(function*(ze){try{if(null==ze?void 0:ze.handler){const ke=ze.handler(ne);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return fe.apply(this,arguments)}}(),ne=()=>{if(be.length>0){let fe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};be.forEach(ze=>{ze.priority>=fe.priority&&(fe=ze)}),Ce=!0,be=be.filter(ze=>ze.id!==fe.id),me(fe).then(()=>Ce=!1)}};ne()})},Ve=100,Oe=99},3756:(Xt,lt,L)=>{"use strict";L.d(lt,{a:()=>Ce,b:()=>_e,c:()=>K,d:()=>ze,e:()=>ke,f:()=>fe,g:()=>be,h:()=>ut,i:()=>se,j:()=>Ve,k:()=>ne,l:()=>Ee,m:()=>me,n:()=>Fe,o:()=>we,p:()=>ft,q:()=>wt,r:()=>ee,s:()=>xt,t:()=>c,u:()=>je});const c=(nt,Et=0)=>new Promise(ve=>{X(nt,Et,ve)}),X=(nt,Et=0,ve)=>{let Me,Te;const de={passive:!0},Ue=()=>{Me&&Me()},Ye=St=>{(void 0===St||nt===St.target)&&(Ue(),ve(St))};return nt&&(nt.addEventListener("webkitTransitionEnd",Ye,de),nt.addEventListener("transitionend",Ye,de),Te=setTimeout(Ye,Et+500),Me=()=>{Te&&(clearTimeout(Te),Te=void 0),nt.removeEventListener("webkitTransitionEnd",Ye,de),nt.removeEventListener("transitionend",Ye,de)}),Ue},K=(nt,Et)=>{nt.componentOnReady?nt.componentOnReady().then(ve=>Et(ve)):ee(()=>Et(nt))},Ve=(nt,Et=[])=>{const ve={};return Et.forEach(Me=>{nt.hasAttribute(Me)&&(null!==nt.getAttribute(Me)&&(ve[Me]=nt.getAttribute(Me)),nt.removeAttribute(Me))}),ve},Oe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],se=nt=>Ve(nt,Oe),Ce=(nt,Et,ve,Me)=>{var Te;if("undefined"!=typeof window){const de=window,ye=null===(Te=null==de?void 0:de.Ionic)||void 0===Te?void 0:Te.config;if(ye){const Ue=ye.get("_ael");if(Ue)return Ue(nt,Et,ve,Me);if(ye._ael)return ye._ael(nt,Et,ve,Me)}}return nt.addEventListener(Et,ve,Me)},_e=(nt,Et,ve,Me)=>{var Te;if("undefined"!=typeof window){const de=window,ye=null===(Te=null==de?void 0:de.Ionic)||void 0===Te?void 0:Te.config;if(ye){const Ue=ye.get("_rel");if(Ue)return Ue(nt,Et,ve,Me);if(ye._rel)return ye._rel(nt,Et,ve,Me)}}return nt.removeEventListener(Et,ve,Me)},be=(nt,Et=nt)=>nt.shadowRoot||Et,ee=nt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(nt):"function"==typeof requestAnimationFrame?requestAnimationFrame(nt):setTimeout(nt),me=nt=>!!nt.shadowRoot&&!!nt.attachShadow,ne=nt=>{const Et=nt.closest("ion-item");return Et?Et.querySelector("ion-label"):null},fe=nt=>{if(nt.focus(),nt.classList.contains("ion-focusable")){const Et=nt.closest("ion-app");Et&&Et.setFocus([nt])}},ze=(nt,Et)=>{let ve;const Me=nt.getAttribute("aria-labelledby"),Te=nt.id;let de=null!==Me&&""!==Me.trim()?Me:Et+"-lbl",ye=null!==Me&&""!==Me.trim()?document.getElementById(Me):ne(nt);return ye?(null===Me&&(ye.id=de),ve=ye.textContent,ye.setAttribute("aria-hidden","true")):""!==Te.trim()&&(ye=document.querySelector(`label[for="${Te}"]`),ye&&(""!==ye.id?de=ye.id:ye.id=de=`${Te}-lbl`,ve=ye.textContent)),{label:ye,labelId:de,labelText:ve}},ke=(nt,Et,ve,Me,Te)=>{if(nt||me(Et)){let de=Et.querySelector("input.aux-input");de||(de=Et.ownerDocument.createElement("input"),de.type="hidden",de.classList.add("aux-input"),Et.appendChild(de)),de.disabled=Te,de.name=ve,de.value=Me||""}},Ee=(nt,Et,ve)=>Math.max(nt,Math.min(Et,ve)),Fe=(nt,Et)=>{if(!nt){const ve="ASSERT: "+Et;throw console.error(ve),new Error(ve)}},je=nt=>nt.timeStamp||Date.now(),ft=nt=>{if(nt){const Et=nt.changedTouches;if(Et&&Et.length>0){const ve=Et[0];return{x:ve.clientX,y:ve.clientY}}if(void 0!==nt.pageX)return{x:nt.pageX,y:nt.pageY}}return{x:0,y:0}},we=nt=>{const Et="rtl"===document.dir;switch(nt){case"start":return Et;case"end":return!Et;default:throw new Error(`"${nt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ut=(nt,Et)=>{const ve=nt._original||nt;return{_original:nt,emit:wt(ve.emit.bind(ve),Et)}},wt=(nt,Et=0)=>{let ve;return(...Me)=>{clearTimeout(ve),ve=setTimeout(nt,Et,...Me)}},xt=(nt,Et)=>{if(null!=nt||(nt={}),null!=Et||(Et={}),nt===Et)return!0;const ve=Object.keys(nt);if(ve.length!==Object.keys(Et).length)return!1;for(const Me of ve)if(!(Me in Et)||nt[Me]!==Et[Me])return!1;return!0}},4318:(Xt,lt,L)=>{"use strict";L.d(lt,{L:()=>Ve,a:()=>Oe,b:()=>se,c:()=>Ce,d:()=>_e,e:()=>Et,g:()=>Te,l:()=>xt,s:()=>ve,t:()=>me});var c=L(5861),X=L(2361),K=L(3756);const Ve="ionViewWillEnter",Oe="ionViewDidEnter",se="ionViewWillLeave",Ce="ionViewDidLeave",_e="ionViewWillUnload",me=de=>new Promise((ye,Ue)=>{(0,X.c)(()=>{ne(de),fe(de).then(Ye=>{Ye.animation&&Ye.animation.destroy(),ze(de),ye(Ye)},Ye=>{ze(de),Ue(Ye)})})}),ne=de=>{const ye=de.enteringEl,Ue=de.leavingEl;Me(ye,Ue,de.direction),de.showGoBack?ye.classList.add("can-go-back"):ye.classList.remove("can-go-back"),ve(ye,!1),ye.style.setProperty("pointer-events","none"),Ue&&(ve(Ue,!1),Ue.style.setProperty("pointer-events","none"))},fe=function(){var de=(0,c.Z)(function*(ye){const Ue=yield ke(ye);return Ue&&X.B.isBrowser?Ee(Ue,ye):Fe(ye)});return function(Ue){return de.apply(this,arguments)}}(),ze=de=>{const ye=de.enteringEl,Ue=de.leavingEl;ye.classList.remove("ion-page-invisible"),ye.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},ke=function(){var de=(0,c.Z)(function*(ye){return ye.leavingEl&&ye.animated&&0!==ye.duration?ye.animationBuilder?ye.animationBuilder:"ios"===ye.mode?(yield Promise.resolve().then(L.bind(L,1815))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,6447))).mdTransitionAnimation:void 0});return function(Ue){return de.apply(this,arguments)}}(),Ee=function(){var de=(0,c.Z)(function*(ye,Ue){yield je(Ue,!0);const Ye=ye(Ue.baseEl,Ue);ut(Ue.enteringEl,Ue.leavingEl);const St=yield we(Ye,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),St&&wt(Ue.enteringEl,Ue.leavingEl),{hasCompleted:St,animation:Ye}});return function(Ue,Ye){return de.apply(this,arguments)}}(),Fe=function(){var de=(0,c.Z)(function*(ye){const Ue=ye.enteringEl,Ye=ye.leavingEl;return yield je(ye,!1),ut(Ue,Ye),wt(Ue,Ye),{hasCompleted:!0}});return function(Ue){return de.apply(this,arguments)}}(),je=function(){var de=(0,c.Z)(function*(ye,Ue){const St=(void 0!==ye.deepWait?ye.deepWait:Ue)?[Et(ye.enteringEl),Et(ye.leavingEl)]:[nt(ye.enteringEl),nt(ye.leavingEl)];yield Promise.all(St),yield ft(ye.viewIsReady,ye.enteringEl)});return function(Ue,Ye){return de.apply(this,arguments)}}(),ft=function(){var de=(0,c.Z)(function*(ye,Ue){ye&&(yield ye(Ue))});return function(Ue,Ye){return de.apply(this,arguments)}}(),we=(de,ye)=>{const Ue=ye.progressCallback,Ye=new Promise(St=>{de.onFinish(jt=>St(1===jt))});return Ue?(de.progressStart(!0),Ue(de)):de.play(),Ye},ut=(de,ye)=>{xt(ye,se),xt(de,Ve)},wt=(de,ye)=>{xt(de,Oe),xt(ye,Ce)},xt=(de,ye)=>{if(de){const Ue=new CustomEvent(ye,{bubbles:!1,cancelable:!1});de.dispatchEvent(Ue)}},nt=de=>de?new Promise(ye=>(0,K.c)(de,ye)):Promise.resolve(),Et=function(){var de=(0,c.Z)(function*(ye){const Ue=ye;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(St=>(0,K.r)(St)));yield Promise.all(Array.from(Ue.children).map(Et))}});return function(Ue){return de.apply(this,arguments)}}(),ve=(de,ye)=>{ye?(de.setAttribute("aria-hidden","true"),de.classList.add("ion-page-hidden")):(de.hidden=!1,de.removeAttribute("aria-hidden"),de.classList.remove("ion-page-hidden"))},Me=(de,ye,Ue)=>{void 0!==de&&(de.style.zIndex="back"===Ue?"99":"101"),void 0!==ye&&(ye.style.zIndex="100")},Te=de=>de.classList.contains("ion-page")?de:de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||de},3139:(Xt,lt,L)=>{"use strict";L.r(lt),L.d(lt,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>be});var c=L(3509);const X=(fe,ze,ke,Ee)=>{const Fe=K(fe)?{capture:!!Ee.capture,passive:!!Ee.passive}:!!Ee.capture;let je,ft;return fe.__zone_symbol__addEventListener?(je="__zone_symbol__addEventListener",ft="__zone_symbol__removeEventListener"):(je="addEventListener",ft="removeEventListener"),fe[je](ze,ke,Fe),()=>{fe[ft](ze,ke,Fe)}},K=fe=>{if(void 0===Ve)try{const ze=Object.defineProperty({},"passive",{get:()=>{Ve=!0}});fe.addEventListener("optsTest",()=>{},ze)}catch(ze){Ve=!1}return!!Ve};let Ve;const Ce=fe=>fe instanceof Document?fe:fe.ownerDocument,be=fe=>{let ze=!1,ke=!1,Ee=!0,Fe=!1;const je=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},fe),ft=je.canStart,we=je.onWillStart,ut=je.onStart,wt=je.onEnd,xt=je.notCaptured,nt=je.onMove,Et=je.threshold,ve=je.passive,Me=je.blurOnStart,Te={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},de=((fe,ze,ke)=>{const Ee=ke*(Math.PI/180),Fe="x"===fe,je=Math.cos(Ee),ft=ze*ze;let we=0,ut=0,wt=!1,xt=0;return{start(nt,Et){we=nt,ut=Et,xt=0,wt=!0},detect(nt,Et){if(!wt)return!1;const ve=nt-we,Me=Et-ut,Te=ve*ve+Me*Me;if(Te<ft)return!1;const de=Math.sqrt(Te),ye=(Fe?ve:Me)/de;return xt=ye>je?1:ye<-je?-1:0,wt=!1,!0},isGesture:()=>0!==xt,getDirection:()=>xt}})(je.direction,je.threshold,je.maxAngle),ye=c.G.createGesture({name:fe.gestureName,priority:fe.gesturePriority,disableScroll:fe.disableScroll}),St=()=>{!ze||(Fe=!1,nt&&nt(Te))},jt=()=>!(ye&&!ye.capture()||(ze=!0,Ee=!1,Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime,we?we(Te).then(at):at(),0)),at=()=>{Me&&(()=>{if("undefined"!=typeof document){const Xe=document.activeElement;(null==Xe?void 0:Xe.blur)&&Xe.blur()}})(),ut&&ut(Te),Ee=!0},Ge=()=>{ze=!1,ke=!1,Fe=!1,Ee=!0,ye.release()},st=Xe=>{const Vt=ze,_t=Ee;if(Ge(),_t){if(ee(Te,Xe),Vt)return void(wt&&wt(Te));xt&&xt(Te)}},gt=((fe,ze,ke,Ee,Fe)=>{let je,ft,we,ut,wt,xt,nt,Et=0;const ve=dt=>{Et=Date.now()+2e3,ze(dt)&&(!ft&&ke&&(ft=X(fe,"touchmove",ke,Fe)),we||(we=X(dt.target,"touchend",Te,Fe)),ut||(ut=X(dt.target,"touchcancel",Te,Fe)))},Me=dt=>{Et>Date.now()||!ze(dt)||(!xt&&ke&&(xt=X(Ce(fe),"mousemove",ke,Fe)),nt||(nt=X(Ce(fe),"mouseup",de,Fe)))},Te=dt=>{ye(),Ee&&Ee(dt)},de=dt=>{Ue(),Ee&&Ee(dt)},ye=()=>{ft&&ft(),we&&we(),ut&&ut(),ft=we=ut=void 0},Ue=()=>{xt&&xt(),nt&&nt(),xt=nt=void 0},Ye=()=>{ye(),Ue()},St=(dt=!0)=>{dt?(je||(je=X(fe,"touchstart",ve,Fe)),wt||(wt=X(fe,"mousedown",Me,Fe))):(je&&je(),wt&&wt(),je=wt=void 0,Ye())};return{enable:St,stop:Ye,destroy:()=>{St(!1),Ee=ke=ze=void 0}}})(je.el,Xe=>{const Vt=ne(Xe);return!(ke||!Ee||(me(Xe,Te),Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime=Vt,Te.velocityX=Te.velocityY=Te.deltaX=Te.deltaY=0,Te.event=Xe,ft&&!1===ft(Te))||(ye.release(),!ye.start()))&&(ke=!0,0===Et?jt():(de.start(Te.startX,Te.startY),!0))},Xe=>{ze?!Fe&&Ee&&(Fe=!0,ee(Te,Xe),requestAnimationFrame(St)):(ee(Te,Xe),de.detect(Te.currentX,Te.currentY)&&(!de.isGesture()||!jt())&&Re())},st,{capture:!1,passive:ve}),Re=()=>{Ge(),gt.stop(),xt&&xt(Te)};return{enable(Xe=!0){Xe||(ze&&st(void 0),Ge()),gt.enable(Xe)},destroy(){ye.destroy(),gt.destroy()}}},ee=(fe,ze)=>{if(!ze)return;const ke=fe.currentX,Ee=fe.currentY,Fe=fe.currentTime;me(ze,fe);const je=fe.currentX,ft=fe.currentY,ut=(fe.currentTime=ne(ze))-Fe;if(ut>0&&ut<100){const xt=(ft-Ee)/ut;fe.velocityX=(je-ke)/ut*.7+.3*fe.velocityX,fe.velocityY=.7*xt+.3*fe.velocityY}fe.deltaX=je-fe.startX,fe.deltaY=ft-fe.startY,fe.event=ze},me=(fe,ze)=>{let ke=0,Ee=0;if(fe){const Fe=fe.changedTouches;if(Fe&&Fe.length>0){const je=Fe[0];ke=je.clientX,Ee=je.clientY}else void 0!==fe.pageX&&(ke=fe.pageX,Ee=fe.pageY)}ze.currentX=ke,ze.currentY=Ee},ne=fe=>fe.timeStamp||Date.now()},2361:(Xt,lt,L)=>{"use strict";L.d(lt,{B:()=>gi,H:()=>On,a:()=>Re,b:()=>Br,c:()=>Oi,e:()=>qe,f:()=>zr,g:()=>Xe,h:()=>In,i:()=>He,j:()=>mr,k:()=>ar,p:()=>Ee,r:()=>un,s:()=>ze});var c=L(5861);let K,Ve,Oe,se=!1,Ce=!1,_e=!1,be=!1,ee=!1;const me="undefined"!=typeof window?window:{},ne=me.document||{head:{}},fe={$flags$:0,$resourcesUrl$:"",jmp:Q=>Q(),raf:Q=>requestAnimationFrame(Q),ael:(Q,ge,Qe,ht)=>Q.addEventListener(ge,Qe,ht),rel:(Q,ge,Qe,ht)=>Q.removeEventListener(ge,Qe,ht),ce:(Q,ge)=>new CustomEvent(Q,ge)},ze=Q=>{Object.assign(fe,Q)},Ee=Q=>Promise.resolve(Q),Fe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(Q){}return!1})(),je=(Q,ge,Qe,ht)=>{Qe&&Qe.map(([Ie,Le,ot])=>{const kt=we(Q,Ie),Mt=ft(ge,ot),Rt=ut(Ie);fe.ael(kt,Le,Mt,Rt),(ge.$rmListeners$=ge.$rmListeners$||[]).push(()=>fe.rel(kt,Le,Mt,Rt))})},ft=(Q,ge)=>Qe=>{try{256&Q.$flags$?Q.$lazyInstance$[ge](Qe):(Q.$queuedListeners$=Q.$queuedListeners$||[]).push([ge,Qe])}catch(ht){jr(ht)}},we=(Q,ge)=>4&ge?ne:8&ge?me:16&ge?ne.body:Q,ut=Q=>0!=(2&Q),ve="s-id",Me="sty-id",ye="http://www.w3.org/1999/xlink",St=new WeakMap,jt=(Q,ge,Qe)=>{let ht=Mr.get(Q);Fe&&Qe?(ht=ht||new CSSStyleSheet,ht.replace(ge)):ht=ge,Mr.set(Q,ht)},dt=(Q,ge,Qe,ht)=>{let Ie=Ge(ge,Qe),Le=Mr.get(Ie);if(Q=11===Q.nodeType?Q:ne,Le)if("string"==typeof Le){let kt,ot=St.get(Q=Q.head||Q);ot||St.set(Q,ot=new Set),ot.has(Ie)||(Q.host&&(kt=Q.querySelector(`[${Me}="${Ie}"]`))?kt.innerHTML=Le:(kt=ne.createElement("style"),kt.innerHTML=Le,Q.insertBefore(kt,Q.querySelector("link"))),ot&&ot.add(Ie))}else Q.adoptedStyleSheets.includes(Le)||(Q.adoptedStyleSheets=[...Q.adoptedStyleSheets,Le]);return Ie},Ge=(Q,ge)=>"sc-"+(ge&&32&Q.$flags$?Q.$tagName$+"-"+ge:Q.$tagName$),st=Q=>Q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Re=Q=>ur.push(Q),Xe=Q=>zt(Q).$modeName$,Vt={},Rn=Q=>"object"==(Q=typeof Q)||"function"===Q,In=(Q,ge,...Qe)=>{let ht=null,Ie=null,Le=null,ot=!1,kt=!1,Mt=[];const Rt=En=>{for(let jn=0;jn<En.length;jn++)ht=En[jn],Array.isArray(ht)?Rt(ht):null!=ht&&"boolean"!=typeof ht&&((ot="function"!=typeof Q&&!Rn(ht))&&(ht=String(ht)),ot&&kt?Mt[Mt.length-1].$text$+=ht:Mt.push(ot?cn(null,ht):ht),kt=ot)};if(Rt(Qe),ge){ge.key&&(Ie=ge.key),ge.name&&(Le=ge.name);{const En=ge.className||ge.class;En&&(ge.class="object"!=typeof En?En:Object.keys(En).filter(jn=>En[jn]).join(" "))}}if("function"==typeof Q)return Q(null===ge?{}:ge,Mt,zn);const dn=cn(Q,null);return dn.$attrs$=ge,Mt.length>0&&(dn.$children$=Mt),dn.$key$=Ie,dn.$name$=Le,dn},cn=(Q,ge)=>({$flags$:0,$tag$:Q,$text$:ge,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),On={},zn={forEach:(Q,ge)=>Q.map(nr).forEach(ge),map:(Q,ge)=>Q.map(nr).map(ge).map(rn)},nr=Q=>({vattrs:Q.$attrs$,vchildren:Q.$children$,vkey:Q.$key$,vname:Q.$name$,vtag:Q.$tag$,vtext:Q.$text$}),rn=Q=>{if("function"==typeof Q.vtag){const Qe=Object.assign({},Q.vattrs);return Q.vkey&&(Qe.key=Q.vkey),Q.vname&&(Qe.name=Q.vname),In(Q.vtag,Qe,...Q.vchildren||[])}const ge=cn(Q.vtag,Q.vtext);return ge.$attrs$=Q.vattrs,ge.$children$=Q.vchildren,ge.$key$=Q.vkey,ge.$name$=Q.vname,ge},Fr=(Q,ge,Qe,ht,Ie,Le)=>{if(Qe!==ht){let ot=xr(Q,ge),kt=ge.toLowerCase();if("class"===ge){const Mt=Q.classList,Rt=_r(Qe),dn=_r(ht);Mt.remove(...Rt.filter(En=>En&&!dn.includes(En))),Mt.add(...dn.filter(En=>En&&!Rt.includes(En)))}else if("style"===ge){for(const Mt in Qe)(!ht||null==ht[Mt])&&(Mt.includes("-")?Q.style.removeProperty(Mt):Q.style[Mt]="");for(const Mt in ht)(!Qe||ht[Mt]!==Qe[Mt])&&(Mt.includes("-")?Q.style.setProperty(Mt,ht[Mt]):Q.style[Mt]=ht[Mt])}else if("key"!==ge)if("ref"===ge)ht&&ht(Q);else if(ot||"o"!==ge[0]||"n"!==ge[1]){const Mt=Rn(ht);if((ot||Mt&&null!==ht)&&!Ie)try{if(Q.tagName.includes("-"))Q[ge]=ht;else{let dn=null==ht?"":ht;"list"===ge?ot=!1:(null==Qe||Q[ge]!=dn)&&(Q[ge]=dn)}}catch(dn){}let Rt=!1;kt!==(kt=kt.replace(/^xlink\:?/,""))&&(ge=kt,Rt=!0),null==ht||!1===ht?(!1!==ht||""===Q.getAttribute(ge))&&(Rt?Q.removeAttributeNS(ye,ge):Q.removeAttribute(ge)):(!ot||4&Le||Ie)&&!Mt&&(ht=!0===ht?"":ht,Rt?Q.setAttributeNS(ye,ge,ht):Q.setAttribute(ge,ht))}else ge="-"===ge[2]?ge.slice(3):xr(me,kt)?kt.slice(2):kt[2]+ge.slice(3),Qe&&fe.rel(Q,ge,Qe,!1),ht&&fe.ael(Q,ge,ht,!1)}},rr=/\s/,_r=Q=>Q?Q.split(rr):[],qn=(Q,ge,Qe,ht)=>{const Ie=11===ge.$elm$.nodeType&&ge.$elm$.host?ge.$elm$.host:ge.$elm$,Le=Q&&Q.$attrs$||Vt,ot=ge.$attrs$||Vt;for(ht in Le)ht in ot||Fr(Ie,ht,Le[ht],void 0,Qe,ge.$flags$);for(ht in ot)Fr(Ie,ht,Le[ht],ot[ht],Qe,ge.$flags$)},br=(Q,ge,Qe,ht)=>{let ot,kt,Mt,Ie=ge.$children$[Qe],Le=0;if(se||(_e=!0,"slot"===Ie.$tag$&&(K&&ht.classList.add(K+"-s"),Ie.$flags$|=Ie.$children$?2:1)),null!==Ie.$text$)ot=Ie.$elm$=ne.createTextNode(Ie.$text$);else if(1&Ie.$flags$)ot=Ie.$elm$=ne.createTextNode("");else{if(be||(be="svg"===Ie.$tag$),ot=Ie.$elm$=ne.createElementNS(be?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ie.$flags$?"slot-fb":Ie.$tag$),be&&"foreignObject"===Ie.$tag$&&(be=!1),qn(null,Ie,be),(Q=>null!=Q)(K)&&ot["s-si"]!==K&&ot.classList.add(ot["s-si"]=K),Ie.$children$)for(Le=0;Le<Ie.$children$.length;++Le)kt=br(Q,Ie,Le,ot),kt&&ot.appendChild(kt);"svg"===Ie.$tag$?be=!1:"foreignObject"===ot.tagName&&(be=!0)}return ot["s-hn"]=Oe,3&Ie.$flags$&&(ot["s-sr"]=!0,ot["s-cr"]=Ve,ot["s-sn"]=Ie.$name$||"",Mt=Q&&Q.$children$&&Q.$children$[Qe],Mt&&Mt.$tag$===Ie.$tag$&&Q.$elm$&&mt(Q.$elm$,!1)),ot},mt=(Q,ge)=>{fe.$flags$|=1;const Qe=Q.childNodes;for(let ht=Qe.length-1;ht>=0;ht--){const Ie=Qe[ht];Ie["s-hn"]!==Oe&&Ie["s-ol"]&&(an(Ie).insertBefore(Ie,Ht(Ie)),Ie["s-ol"].remove(),Ie["s-ol"]=void 0,_e=!0),ge&&mt(Ie,ge)}fe.$flags$&=-2},We=(Q,ge,Qe,ht,Ie,Le)=>{let kt,ot=Q["s-cr"]&&Q["s-cr"].parentNode||Q;for(ot.shadowRoot&&ot.tagName===Oe&&(ot=ot.shadowRoot);Ie<=Le;++Ie)ht[Ie]&&(kt=br(null,Qe,Ie,Q),kt&&(ht[Ie].$elm$=kt,ot.insertBefore(kt,Ht(ge))))},De=(Q,ge,Qe,ht,Ie)=>{for(;ge<=Qe;++ge)(ht=Q[ge])&&(Ie=ht.$elm$,wr(ht),Ce=!0,Ie["s-ol"]?Ie["s-ol"].remove():mt(Ie,!0),Ie.remove())},At=(Q,ge)=>Q.$tag$===ge.$tag$&&("slot"===Q.$tag$?Q.$name$===ge.$name$:Q.$key$===ge.$key$),Ht=Q=>Q&&Q["s-ol"]||Q,an=Q=>(Q["s-ol"]?Q["s-ol"]:Q).parentNode,ln=(Q,ge)=>{const Qe=ge.$elm$=Q.$elm$,ht=Q.$children$,Ie=ge.$children$,Le=ge.$tag$,ot=ge.$text$;let kt;null===ot?(be="svg"===Le||"foreignObject"!==Le&&be,"slot"===Le||qn(Q,ge,be),null!==ht&&null!==Ie?((Q,ge,Qe,ht)=>{let qr,Qi,Ie=0,Le=0,ot=0,kt=0,Mt=ge.length-1,Rt=ge[0],dn=ge[Mt],En=ht.length-1,jn=ht[0],Qn=ht[En];for(;Ie<=Mt&&Le<=En;)if(null==Rt)Rt=ge[++Ie];else if(null==dn)dn=ge[--Mt];else if(null==jn)jn=ht[++Le];else if(null==Qn)Qn=ht[--En];else if(At(Rt,jn))ln(Rt,jn),Rt=ge[++Ie],jn=ht[++Le];else if(At(dn,Qn))ln(dn,Qn),dn=ge[--Mt],Qn=ht[--En];else if(At(Rt,Qn))("slot"===Rt.$tag$||"slot"===Qn.$tag$)&&mt(Rt.$elm$.parentNode,!1),ln(Rt,Qn),Q.insertBefore(Rt.$elm$,dn.$elm$.nextSibling),Rt=ge[++Ie],Qn=ht[--En];else if(At(dn,jn))("slot"===Rt.$tag$||"slot"===Qn.$tag$)&&mt(dn.$elm$.parentNode,!1),ln(dn,jn),Q.insertBefore(dn.$elm$,Rt.$elm$),dn=ge[--Mt],jn=ht[++Le];else{for(ot=-1,kt=Ie;kt<=Mt;++kt)if(ge[kt]&&null!==ge[kt].$key$&&ge[kt].$key$===jn.$key$){ot=kt;break}ot>=0?(Qi=ge[ot],Qi.$tag$!==jn.$tag$?qr=br(ge&&ge[Le],Qe,ot,Q):(ln(Qi,jn),ge[ot]=void 0,qr=Qi.$elm$),jn=ht[++Le]):(qr=br(ge&&ge[Le],Qe,Le,Q),jn=ht[++Le]),qr&&an(Rt.$elm$).insertBefore(qr,Ht(Rt.$elm$))}Ie>Mt?We(Q,null==ht[En+1]?null:ht[En+1].$elm$,Qe,ht,Le,En):Le>En&&De(ge,Ie,Mt)})(Qe,ht,ge,Ie):null!==Ie?(null!==Q.$text$&&(Qe.textContent=""),We(Qe,null,ge,Ie,0,Ie.length-1)):null!==ht&&De(ht,0,ht.length-1),be&&"svg"===Le&&(be=!1)):(kt=Qe["s-cr"])?kt.parentNode.textContent=ot:Q.$text$!==ot&&(Qe.data=ot)},Ln=Q=>{let Qe,ht,Ie,Le,ot,kt,ge=Q.childNodes;for(ht=0,Ie=ge.length;ht<Ie;ht++)if(Qe=ge[ht],1===Qe.nodeType){if(Qe["s-sr"])for(ot=Qe["s-sn"],Qe.hidden=!1,Le=0;Le<Ie;Le++)if(kt=ge[Le].nodeType,ge[Le]["s-hn"]!==Qe["s-hn"]||""!==ot){if(1===kt&&ot===ge[Le].getAttribute("slot")){Qe.hidden=!0;break}}else if(1===kt||3===kt&&""!==ge[Le].textContent.trim()){Qe.hidden=!0;break}Ln(Qe)}},bn=[],Qr=Q=>{let ge,Qe,ht,Ie,Le,ot,kt=0,Mt=Q.childNodes,Rt=Mt.length;for(;kt<Rt;kt++){if(ge=Mt[kt],ge["s-sr"]&&(Qe=ge["s-cr"])&&Qe.parentNode)for(ht=Qe.parentNode.childNodes,Ie=ge["s-sn"],ot=ht.length-1;ot>=0;ot--)Qe=ht[ot],!Qe["s-cn"]&&!Qe["s-nr"]&&Qe["s-hn"]!==ge["s-hn"]&&(Ar(Qe,Ie)?(Le=bn.find(dn=>dn.$nodeToRelocate$===Qe),Ce=!0,Qe["s-sn"]=Qe["s-sn"]||Ie,Le?Le.$slotRefNode$=ge:bn.push({$slotRefNode$:ge,$nodeToRelocate$:Qe}),Qe["s-sr"]&&bn.map(dn=>{Ar(dn.$nodeToRelocate$,Qe["s-sn"])&&(Le=bn.find(En=>En.$nodeToRelocate$===Qe),Le&&!dn.$slotRefNode$&&(dn.$slotRefNode$=Le.$slotRefNode$))})):bn.some(dn=>dn.$nodeToRelocate$===Qe)||bn.push({$nodeToRelocate$:Qe}));1===ge.nodeType&&Qr(ge)}},Ar=(Q,ge)=>1===Q.nodeType?null===Q.getAttribute("slot")&&""===ge||Q.getAttribute("slot")===ge:Q["s-sn"]===ge||""===ge,wr=Q=>{Q.$attrs$&&Q.$attrs$.ref&&Q.$attrs$.ref(null),Q.$children$&&Q.$children$.map(wr)},He=Q=>zt(Q).$hostElement$,qe=(Q,ge,Qe)=>{const ht=He(Q);return{emit:Ie=>Pt(ht,ge,{bubbles:!!(4&Qe),composed:!!(2&Qe),cancelable:!!(1&Qe),detail:Ie})}},Pt=(Q,ge,Qe)=>{const ht=fe.ce(ge,Qe);return Q.dispatchEvent(ht),ht},$e=(Q,ge)=>{ge&&!Q.$onRenderResolve$&&ge["s-p"]&&ge["s-p"].push(new Promise(Qe=>Q.$onRenderResolve$=Qe))},ct=(Q,ge)=>{if(Q.$flags$|=16,!(4&Q.$flags$))return $e(Q,Q.$ancestorComponent$),Oi(()=>Yt(Q,ge));Q.$flags$|=512},Yt=(Q,ge)=>{const ht=Q.$lazyInstance$;let Ie;return ge&&(Q.$flags$|=256,Q.$queuedListeners$&&(Q.$queuedListeners$.map(([Le,ot])=>hr(ht,Le,ot)),Q.$queuedListeners$=null),Ie=hr(ht,"componentWillLoad")),Ie=$r(Ie,()=>hr(ht,"componentWillRender")),$r(Ie,()=>Zt(Q,ht,ge))},Zt=function(){var Q=(0,c.Z)(function*(ge,Qe,ht){const Ie=ge.$hostElement$,ot=Ie["s-rc"];ht&&(Q=>{const ge=Q.$cmpMeta$,Qe=Q.$hostElement$,ht=ge.$flags$,Le=dt(Qe.shadowRoot?Qe.shadowRoot:Qe.getRootNode(),ge,Q.$modeName$);10&ht&&(Qe["s-sc"]=Le,Qe.classList.add(Le+"-h"),2&ht&&Qe.classList.add(Le+"-s"))})(ge);gn(ge,Qe),ot&&(ot.map(Mt=>Mt()),Ie["s-rc"]=void 0);{const Mt=Ie["s-p"],Rt=()=>Mn(ge);0===Mt.length?Rt():(Promise.all(Mt).then(Rt),ge.$flags$|=4,Mt.length=0)}});return function(Qe,ht,Ie){return Q.apply(this,arguments)}}(),gn=(Q,ge,Qe)=>{try{ge=ge.render&&ge.render(),Q.$flags$&=-17,Q.$flags$|=2,((Q,ge)=>{const Qe=Q.$hostElement$,ht=Q.$cmpMeta$,Ie=Q.$vnode$||cn(null,null),Le=(Q=>Q&&Q.$tag$===On)(ge)?ge:In(null,null,ge);if(Oe=Qe.tagName,ht.$attrsToReflect$&&(Le.$attrs$=Le.$attrs$||{},ht.$attrsToReflect$.map(([ot,kt])=>Le.$attrs$[kt]=Qe[ot])),Le.$tag$=null,Le.$flags$|=4,Q.$vnode$=Le,Le.$elm$=Ie.$elm$=Qe.shadowRoot||Qe,K=Qe["s-sc"],Ve=Qe["s-cr"],se=0!=(1&ht.$flags$),Ce=!1,ln(Ie,Le),fe.$flags$|=1,_e){Qr(Le.$elm$);let ot,kt,Mt,Rt,dn,En,jn=0;for(;jn<bn.length;jn++)ot=bn[jn],kt=ot.$nodeToRelocate$,kt["s-ol"]||(Mt=ne.createTextNode(""),Mt["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=Mt,kt));for(jn=0;jn<bn.length;jn++)if(ot=bn[jn],kt=ot.$nodeToRelocate$,ot.$slotRefNode$){for(Rt=ot.$slotRefNode$.parentNode,dn=ot.$slotRefNode$.nextSibling,Mt=kt["s-ol"];Mt=Mt.previousSibling;)if(En=Mt["s-nr"],En&&En["s-sn"]===kt["s-sn"]&&Rt===En.parentNode&&(En=En.nextSibling,!En||!En["s-nr"])){dn=En;break}(!dn&&Rt!==kt.parentNode||kt.nextSibling!==dn)&&kt!==dn&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Rt.insertBefore(kt,dn))}else 1===kt.nodeType&&(kt.hidden=!0)}Ce&&Ln(Le.$elm$),fe.$flags$&=-2,bn.length=0})(Q,ge)}catch(ht){jr(ht,Q.$hostElement$)}return null},Mn=Q=>{const Qe=Q.$hostElement$,Ie=Q.$lazyInstance$,Le=Q.$ancestorComponent$;hr(Ie,"componentDidRender"),64&Q.$flags$?hr(Ie,"componentDidUpdate"):(Q.$flags$|=64,xi(Qe),hr(Ie,"componentDidLoad"),Q.$onReadyResolve$(Qe),Le||Tn()),Q.$onInstanceResolve$(Qe),Q.$onRenderResolve$&&(Q.$onRenderResolve$(),Q.$onRenderResolve$=void 0),512&Q.$flags$&&Ri(()=>ct(Q,!1)),Q.$flags$&=-517},mr=Q=>{{const ge=zt(Q),Qe=ge.$hostElement$.isConnected;return Qe&&2==(18&ge.$flags$)&&ct(ge,!1),Qe}},Tn=Q=>{xi(ne.documentElement),Ri(()=>Pt(me,"appload",{detail:{namespace:"ionic"}}))},hr=(Q,ge,Qe)=>{if(Q&&Q[ge])try{return Q[ge](Qe)}catch(ht){jr(ht)}},$r=(Q,ge)=>Q&&Q.then?Q.then(ge):ge(),xi=Q=>Q.classList.add("hydrated"),Mi=(Q,ge,Qe,ht,Ie,Le,ot)=>{let kt,Mt,Rt,dn;if(1===Le.nodeType){for(kt=Le.getAttribute("c-id"),kt&&(Mt=kt.split("."),(Mt[0]===ot||"0"===Mt[0])&&(Rt={$flags$:0,$hostId$:Mt[0],$nodeId$:Mt[1],$depth$:Mt[2],$index$:Mt[3],$tag$:Le.tagName.toLowerCase(),$elm$:Le,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ge.push(Rt),Le.removeAttribute("c-id"),Q.$children$||(Q.$children$=[]),Q.$children$[Rt.$index$]=Rt,Q=Rt,ht&&"0"===Rt.$depth$&&(ht[Rt.$index$]=Rt.$elm$))),dn=Le.childNodes.length-1;dn>=0;dn--)Mi(Q,ge,Qe,ht,Ie,Le.childNodes[dn],ot);if(Le.shadowRoot)for(dn=Le.shadowRoot.childNodes.length-1;dn>=0;dn--)Mi(Q,ge,Qe,ht,Ie,Le.shadowRoot.childNodes[dn],ot)}else if(8===Le.nodeType)Mt=Le.nodeValue.split("."),(Mt[1]===ot||"0"===Mt[1])&&(kt=Mt[0],Rt={$flags$:0,$hostId$:Mt[1],$nodeId$:Mt[2],$depth$:Mt[3],$index$:Mt[4],$elm$:Le,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===kt?(Rt.$elm$=Le.nextSibling,Rt.$elm$&&3===Rt.$elm$.nodeType&&(Rt.$text$=Rt.$elm$.textContent,ge.push(Rt),Le.remove(),Q.$children$||(Q.$children$=[]),Q.$children$[Rt.$index$]=Rt,ht&&"0"===Rt.$depth$&&(ht[Rt.$index$]=Rt.$elm$))):Rt.$hostId$===ot&&("s"===kt?(Rt.$tag$="slot",Le["s-sn"]=Mt[5]?Rt.$name$=Mt[5]:"",Le["s-sr"]=!0,ht&&(Rt.$elm$=ne.createElement(Rt.$tag$),Rt.$name$&&Rt.$elm$.setAttribute("name",Rt.$name$),Le.parentNode.insertBefore(Rt.$elm$,Le),Le.remove(),"0"===Rt.$depth$&&(ht[Rt.$index$]=Rt.$elm$)),Qe.push(Rt),Q.$children$||(Q.$children$=[]),Q.$children$[Rt.$index$]=Rt):"r"===kt&&(ht?Le.remove():(Ie["s-cr"]=Le,Le["s-cn"]=!0))));else if(Q&&"style"===Q.$tag$){const En=cn(null,Le.textContent);En.$elm$=Le,En.$index$="0",Q.$children$=[En]}},Li=(Q,ge)=>{if(1===Q.nodeType){let Qe=0;for(;Qe<Q.childNodes.length;Qe++)Li(Q.childNodes[Qe],ge);if(Q.shadowRoot)for(Qe=0;Qe<Q.shadowRoot.childNodes.length;Qe++)Li(Q.shadowRoot.childNodes[Qe],ge)}else if(8===Q.nodeType){const Qe=Q.nodeValue.split(".");"o"===Qe[0]&&(ge.set(Qe[1]+"."+Qe[2],Q),Q.nodeValue="",Q["s-en"]=Qe[3])}},Lr=(Q,ge,Qe)=>{if(ge.$members$){Q.watchers&&(ge.$watchers$=Q.watchers);const ht=Object.entries(ge.$members$),Ie=Q.prototype;if(ht.map(([Le,[ot]])=>{31&ot||2&Qe&&32&ot?Object.defineProperty(Ie,Le,{get(){return((Q,ge)=>zt(this).$instanceValues$.get(ge))(0,Le)},set(kt){((Q,ge,Qe,ht)=>{const Ie=zt(Q),Le=Ie.$hostElement$,ot=Ie.$instanceValues$.get(ge),kt=Ie.$flags$,Mt=Ie.$lazyInstance$;Qe=((Q,ge)=>null==Q||Rn(Q)?Q:4&ge?"false"!==Q&&(""===Q||!!Q):2&ge?parseFloat(Q):1&ge?String(Q):Q)(Qe,ht.$members$[ge][0]);const Rt=Number.isNaN(ot)&&Number.isNaN(Qe);if((!(8&kt)||void 0===ot)&&Qe!==ot&&!Rt&&(Ie.$instanceValues$.set(ge,Qe),Mt)){if(ht.$watchers$&&128&kt){const En=ht.$watchers$[ge];En&&En.map(jn=>{try{Mt[jn](Qe,ot,ge)}catch(Qn){jr(Qn,Le)}})}2==(18&kt)&&ct(Ie,!1)}})(this,Le,kt,ge)},configurable:!0,enumerable:!0}):1&Qe&&64&ot&&Object.defineProperty(Ie,Le,{value(...kt){const Mt=zt(this);return Mt.$onInstancePromise$.then(()=>Mt.$lazyInstance$[Le](...kt))}})}),1&Qe){const Le=new Map;Ie.attributeChangedCallback=function(ot,kt,Mt){fe.jmp(()=>{const Rt=Le.get(ot);if(this.hasOwnProperty(Rt))Mt=this[Rt],delete this[Rt];else if(Ie.hasOwnProperty(Rt)&&"number"==typeof this[Rt]&&this[Rt]==Mt)return;this[Rt]=(null!==Mt||"boolean"!=typeof this[Rt])&&Mt})},Q.observedAttributes=ht.filter(([ot,kt])=>15&kt[0]).map(([ot,kt])=>{const Mt=kt[1]||ot;return Le.set(Mt,ot),512&kt[0]&&ge.$attrsToReflect$.push([ot,Mt]),Mt})}}return Q},pi=function(){var Q=(0,c.Z)(function*(ge,Qe,ht,Ie,Le){if(0==(32&Qe.$flags$)){{if(Qe.$flags$|=32,(Le=li(ht)).then){const Rt=()=>{};Le=yield Le,Rt()}Le.isProxied||(ht.$watchers$=Le.watchers,Lr(Le,ht,2),Le.isProxied=!0);const Mt=()=>{};Qe.$flags$|=8;try{new Le(Qe)}catch(Rt){jr(Rt)}Qe.$flags$&=-9,Qe.$flags$|=128,Mt(),Bi(Qe.$lazyInstance$)}if(Le.style){let Mt=Le.style;"string"!=typeof Mt&&(Mt=Mt[Qe.$modeName$=(Q=>ur.map(ge=>ge(Q)).find(ge=>!!ge))(ge)]);const Rt=Ge(ht,Qe.$modeName$);if(!Mr.has(Rt)){const dn=()=>{};jt(Rt,Mt,!!(1&ht.$flags$)),dn()}}}const ot=Qe.$ancestorComponent$,kt=()=>ct(Qe,!0);ot&&ot["s-rc"]?ot["s-rc"].push(kt):kt()});return function(Qe,ht,Ie,Le,ot){return Q.apply(this,arguments)}}(),Bi=Q=>{hr(Q,"connectedCallback")},Xi=Q=>{const ge=Q["s-cr"]=ne.createComment("");ge["s-cn"]=!0,Q.insertBefore(ge,Q.firstChild)},Br=(Q,ge={})=>{const ht=[],Ie=ge.exclude||[],Le=me.customElements,ot=ne.head,kt=ot.querySelector("meta[charset]"),Mt=ne.createElement("style"),Rt=[],dn=ne.querySelectorAll(`[${Me}]`);let En,jn=!0,Qn=0;for(Object.assign(fe,ge),fe.$resourcesUrl$=new URL(ge.resourcesUrl||"./",ne.baseURI).href,fe.$flags$|=2;Qn<dn.length;Qn++)jt(dn[Qn].getAttribute(Me),st(dn[Qn].innerHTML),!0);Q.map(qr=>{qr[1].map(Qi=>{const et={$flags$:Qi[0],$tagName$:Qi[1],$members$:Qi[2],$listeners$:Qi[3]};et.$members$=Qi[2],et.$listeners$=Qi[3],et.$attrsToReflect$=[],et.$watchers$={};const Ze=et.$tagName$,yt=class extends HTMLElement{constructor($t){super($t),pe($t=this,et),1&et.$flags$&&$t.attachShadow({mode:"open",delegatesFocus:!!(16&et.$flags$)})}connectedCallback(){En&&(clearTimeout(En),En=null),jn?Rt.push(this):fe.jmp(()=>(Q=>{if(0==(1&fe.$flags$)){const ge=zt(Q),Qe=ge.$cmpMeta$,ht=()=>{};if(1&ge.$flags$)je(Q,ge,Qe.$listeners$),Bi(ge.$lazyInstance$);else{let Ie;if(ge.$flags$|=1,Ie=Q.getAttribute(ve),Ie){if(1&Qe.$flags$){const Le=dt(Q.shadowRoot,Qe,Q.getAttribute("s-mode"));Q.classList.remove(Le+"-h",Le+"-s")}((Q,ge,Qe,ht)=>{const Le=Q.shadowRoot,ot=[],Mt=Le?[]:null,Rt=ht.$vnode$=cn(ge,null);fe.$orgLocNodes$||Li(ne.body,fe.$orgLocNodes$=new Map),Q[ve]=Qe,Q.removeAttribute(ve),Mi(Rt,ot,[],Mt,Q,Q,Qe),ot.map(dn=>{const En=dn.$hostId$+"."+dn.$nodeId$,jn=fe.$orgLocNodes$.get(En),Qn=dn.$elm$;jn&&""===jn["s-en"]&&jn.parentNode.insertBefore(Qn,jn.nextSibling),Le||(Qn["s-hn"]=ge,jn&&(Qn["s-ol"]=jn,Qn["s-ol"]["s-nr"]=Qn)),fe.$orgLocNodes$.delete(En)}),Le&&Mt.map(dn=>{dn&&Le.appendChild(dn)})})(Q,Qe.$tagName$,Ie,ge)}Ie||12&Qe.$flags$&&Xi(Q);{let Le=Q;for(;Le=Le.parentNode||Le.host;)if(1===Le.nodeType&&Le.hasAttribute("s-id")&&Le["s-p"]||Le["s-p"]){$e(ge,ge.$ancestorComponent$=Le);break}}Qe.$members$&&Object.entries(Qe.$members$).map(([Le,[ot]])=>{if(31&ot&&Q.hasOwnProperty(Le)){const kt=Q[Le];delete Q[Le],Q[Le]=kt}}),Ri(()=>pi(Q,ge,Qe))}ht()}})(this))}disconnectedCallback(){fe.jmp(()=>(Q=>{if(0==(1&fe.$flags$)){const ge=zt(this),Qe=ge.$lazyInstance$;ge.$rmListeners$&&(ge.$rmListeners$.map(ht=>ht()),ge.$rmListeners$=void 0),hr(Qe,"disconnectedCallback")}})())}componentOnReady(){return zt(this).$onReadyPromise$}};et.$lazyBundleId$=qr[0],!Ie.includes(Ze)&&!Le.get(Ze)&&(ht.push(Ze),Le.define(Ze,Lr(yt,et,1)))})}),Mt.innerHTML=ht+"{visibility:hidden}.hydrated{visibility:inherit}",Mt.setAttribute("data-styles",""),ot.insertBefore(Mt,kt?kt.nextSibling:ot.firstChild),jn=!1,Rt.length?Rt.map(qr=>qr.connectedCallback()):fe.jmp(()=>En=setTimeout(Tn,30))},ar=Q=>{const ge=new URL(Q,fe.$resourcesUrl$);return ge.origin!==me.location.origin?ge.href:ge.pathname},Ir=new WeakMap,zt=Q=>Ir.get(Q),un=(Q,ge)=>Ir.set(ge.$lazyInstance$=Q,ge),pe=(Q,ge)=>{const Qe={$flags$:0,$hostElement$:Q,$cmpMeta$:ge,$instanceValues$:new Map};return Qe.$onInstancePromise$=new Promise(ht=>Qe.$onInstanceResolve$=ht),Qe.$onReadyPromise$=new Promise(ht=>Qe.$onReadyResolve$=ht),Q["s-p"]=[],Q["s-rc"]=[],je(Q,Qe,ge.$listeners$),Ir.set(Q,Qe)},xr=(Q,ge)=>ge in Q,jr=(Q,ge)=>(0,console.error)(Q,ge),lr=new Map,li=(Q,ge,Qe)=>{const ht=Q.$tagName$.replace(/-/g,"_"),Ie=Q.$lazyBundleId$,Le=lr.get(Ie);return Le?Le[ht]:L(863)(`./${Ie}.entry.js`).then(ot=>(lr.set(Ie,ot),ot[ht]),jr)},Mr=new Map,ur=[],Pr=[],Fn=[],os=(Q,ge)=>Qe=>{Q.push(Qe),ee||(ee=!0,ge&&4&fe.$flags$?Ri(as):fe.raf(as))},Di=Q=>{for(let ge=0;ge<Q.length;ge++)try{Q[ge](performance.now())}catch(Qe){jr(Qe)}Q.length=0},as=()=>{Di(Pr),Di(Fn),(ee=Pr.length>0)&&fe.raf(as)},Ri=Q=>Ee().then(Q),zr=os(Pr,!1),Oi=os(Fn,!0),gi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(Xt,lt,L)=>{"use strict";L.d(lt,{m:()=>me});var c=L(5861),X=L(7593),K=L(3756),Ve=L(6254),Oe=L(9442);const se=ne=>(0,Oe.c)().duration(ne?400:300),Ce=ne=>{let fe,ze;const ke=ne.width+8,Ee=(0,Oe.c)(),Fe=(0,Oe.c)();ne.isEndSide?(fe=ke+"px",ze="0px"):(fe=-ke+"px",ze="0px"),Ee.addElement(ne.menuInnerEl).fromTo("transform",`translateX(${fe})`,`translateX(${ze})`);const ft="ios"===(0,Ve.b)(ne),we=ft?.2:.25;return Fe.addElement(ne.backdropEl).fromTo("opacity",.01,we),se(ft).addAnimation([Ee,Fe])},_e=ne=>{let fe,ze;const ke=(0,Ve.b)(ne),Ee=ne.width;ne.isEndSide?(fe=-Ee+"px",ze=Ee+"px"):(fe=Ee+"px",ze=-Ee+"px");const Fe=(0,Oe.c)().addElement(ne.menuInnerEl).fromTo("transform",`translateX(${ze})`,"translateX(0px)"),je=(0,Oe.c)().addElement(ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`),ft=(0,Oe.c)().addElement(ne.backdropEl).fromTo("opacity",.01,.32);return se("ios"===ke).addAnimation([Fe,je,ft])},be=ne=>{const fe=(0,Ve.b)(ne),ze=ne.width*(ne.isEndSide?-1:1)+"px",ke=(0,Oe.c)().addElement(ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${ze})`);return se("ios"===fe).addAnimation(ke)},me=(()=>{const ne=new Map,fe=[],ze=function(){var at=(0,c.Z)(function*(Ge){const st=yield ut(Ge);return!!st&&st.open()});return function(st){return at.apply(this,arguments)}}(),ke=function(){var at=(0,c.Z)(function*(Ge){const st=yield void 0!==Ge?ut(Ge):wt();return void 0!==st&&st.close()});return function(st){return at.apply(this,arguments)}}(),Ee=function(){var at=(0,c.Z)(function*(Ge){const st=yield ut(Ge);return!!st&&st.toggle()});return function(st){return at.apply(this,arguments)}}(),Fe=function(){var at=(0,c.Z)(function*(Ge,st){const gt=yield ut(st);return gt&&(gt.disabled=!Ge),gt});return function(st,gt){return at.apply(this,arguments)}}(),je=function(){var at=(0,c.Z)(function*(Ge,st){const gt=yield ut(st);return gt&&(gt.swipeGesture=Ge),gt});return function(st,gt){return at.apply(this,arguments)}}(),ft=function(){var at=(0,c.Z)(function*(Ge){if(null!=Ge){const st=yield ut(Ge);return void 0!==st&&st.isOpen()}return void 0!==(yield wt())});return function(st){return at.apply(this,arguments)}}(),we=function(){var at=(0,c.Z)(function*(Ge){const st=yield ut(Ge);return!!st&&!st.disabled});return function(st){return at.apply(this,arguments)}}(),ut=function(){var at=(0,c.Z)(function*(Ge){return yield dt(),"start"===Ge||"end"===Ge?jt(Re=>Re.side===Ge&&!Re.disabled)||jt(Re=>Re.side===Ge):null!=Ge?jt(gt=>gt.menuId===Ge):jt(gt=>!gt.disabled)||(fe.length>0?fe[0].el:void 0)});return function(st){return at.apply(this,arguments)}}(),wt=function(){var at=(0,c.Z)(function*(){return yield dt(),Ue()});return function(){return at.apply(this,arguments)}}(),xt=function(){var at=(0,c.Z)(function*(){return yield dt(),Ye()});return function(){return at.apply(this,arguments)}}(),nt=function(){var at=(0,c.Z)(function*(){return yield dt(),St()});return function(){return at.apply(this,arguments)}}(),Et=(at,Ge)=>{ne.set(at,Ge)},Te=at=>{const Ge=at.side;fe.filter(st=>st.side===Ge&&st!==at).forEach(st=>st.disabled=!0)},de=function(){var at=(0,c.Z)(function*(Ge,st,gt){if(St())return!1;if(st){const Re=yield wt();Re&&Ge.el!==Re&&(yield Re.setOpen(!1,!1))}return Ge._setOpen(st,gt)});return function(st,gt,Re){return at.apply(this,arguments)}}(),Ue=()=>jt(at=>at._isOpen),Ye=()=>fe.map(at=>at.el),St=()=>fe.some(at=>at.isAnimating),jt=at=>{const Ge=fe.find(at);if(void 0!==Ge)return Ge.el},dt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(at=>new Promise(Ge=>(0,K.c)(at,Ge))));return Et("reveal",be),Et("push",_e),Et("overlay",Ce),"undefined"!=typeof document&&document.addEventListener("ionBackButton",at=>{const Ge=Ue();Ge&&at.detail.register(X.MENU_BACK_BUTTON_PRIORITY,()=>Ge.close())}),{registerAnimation:Et,get:ut,getMenus:xt,getOpen:wt,isEnabled:we,swipeGesture:je,isAnimating:nt,isOpen:ft,enable:Fe,toggle:Ee,close:ke,open:ze,_getOpenSync:Ue,_createAnimation:(at,Ge)=>{const st=ne.get(at);if(!st)throw new Error("animation not registered");return st(Ge)},_register:at=>{fe.indexOf(at)<0&&(at.disabled||Te(at),fe.push(at))},_unregister:at=>{const Ge=fe.indexOf(at);Ge>-1&&fe.splice(Ge,1)},_setOpen:de,_setActiveMenu:Te}})()},6254:(Xt,lt,L)=>{"use strict";L.d(lt,{a:()=>me,b:()=>St,c:()=>K,g:()=>ee,i:()=>jt});var c=L(2361);class X{constructor(){this.m=new Map}reset(at){this.m=new Map(Object.entries(at))}get(at,Ge){const st=this.m.get(at);return void 0!==st?st:Ge}getBoolean(at,Ge=!1){const st=this.m.get(at);return void 0===st?Ge:"string"==typeof st?"true"===st:!!st}getNumber(at,Ge){const st=parseFloat(this.m.get(at));return isNaN(st)?void 0!==Ge?Ge:NaN:st}set(at,Ge){this.m.set(at,Ge)}}const K=new X,be="ionic-persist-config",ee=dt=>ne(dt),me=(dt,at)=>("string"==typeof dt&&(at=dt,dt=void 0),ee(dt).includes(at)),ne=(dt=window)=>{if(void 0===dt)return[];dt.Ionic=dt.Ionic||{};let at=dt.Ionic.platforms;return null==at&&(at=dt.Ionic.platforms=fe(dt),at.forEach(Ge=>dt.document.documentElement.classList.add(`plt-${Ge}`))),at},fe=dt=>{const at=K.get("platform");return Object.keys(Ue).filter(Ge=>{const st=null==at?void 0:at[Ge];return"function"==typeof st?st(dt):Ue[Ge](dt)})},ke=dt=>!!(de(dt,/iPad/i)||de(dt,/Macintosh/i)&&wt(dt)),je=dt=>de(dt,/android|sink/i),wt=dt=>ye(dt,"(any-pointer:coarse)"),nt=dt=>Et(dt)||ve(dt),Et=dt=>!!(dt.cordova||dt.phonegap||dt.PhoneGap),ve=dt=>{const at=dt.Capacitor;return!!(null==at?void 0:at.isNative)},de=(dt,at)=>at.test(dt.navigator.userAgent),ye=(dt,at)=>{var Ge;return null===(Ge=dt.matchMedia)||void 0===Ge?void 0:Ge.call(dt,at).matches},Ue={ipad:ke,iphone:dt=>de(dt,/iPhone/i),ios:dt=>de(dt,/iPhone|iPod/i)||ke(dt),android:je,phablet:dt=>{const at=dt.innerWidth,Ge=dt.innerHeight,st=Math.min(at,Ge),gt=Math.max(at,Ge);return st>390&&st<520&&gt>620&&gt<800},tablet:dt=>{const at=dt.innerWidth,Ge=dt.innerHeight,st=Math.min(at,Ge),gt=Math.max(at,Ge);return ke(dt)||(dt=>je(dt)&&!de(dt,/mobile/i))(dt)||st>460&&st<820&&gt>780&&gt<1400},cordova:Et,capacitor:ve,electron:dt=>de(dt,/electron/i),pwa:dt=>{var at;return!(!(null===(at=dt.matchMedia)||void 0===at?void 0:at.call(dt,"(display-mode: standalone)").matches)&&!dt.navigator.standalone)},mobile:wt,mobileweb:dt=>wt(dt)&&!nt(dt),desktop:dt=>!wt(dt),hybrid:nt};let Ye;const St=dt=>dt&&(0,c.g)(dt)||Ye,jt=(dt={})=>{if("undefined"==typeof window)return;const at=window.document,Ge=window,st=Ge.Ionic=Ge.Ionic||{},gt={};dt._ael&&(gt.ael=dt._ael),dt._rel&&(gt.rel=dt._rel),dt._ce&&(gt.ce=dt._ce),(0,c.s)(gt);const Re=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(dt=>{try{const at=dt.sessionStorage.getItem(be);return null!==at?JSON.parse(at):{}}catch(at){return{}}})(Ge)),{persistConfig:!1}),st.config),(dt=>{const at={};return dt.location.search.slice(1).split("&").map(Ge=>Ge.split("=")).map(([Ge,st])=>[decodeURIComponent(Ge),decodeURIComponent(st)]).filter(([Ge])=>((dt,at)=>dt.substr(0,at.length)===at)(Ge,"ionic:")).map(([Ge,st])=>[Ge.slice("ionic:".length),st]).forEach(([Ge,st])=>{at[Ge]=st}),at})(Ge)),dt);K.reset(Re),K.getBoolean("persistConfig")&&((dt,at)=>{try{dt.sessionStorage.setItem(be,JSON.stringify(at))}catch(Ge){return}})(Ge,Re),ne(Ge),st.config=K,st.mode=Ye=K.get("mode",at.documentElement.getAttribute("mode")||(me(Ge,"ios")?"ios":"md")),K.set("mode",Ye),at.documentElement.setAttribute("mode",Ye),at.documentElement.classList.add(Ye),K.getBoolean("_testing")&&K.set("animated",!1);const Xe=_t=>{var Wt;return null===(Wt=_t.tagName)||void 0===Wt?void 0:Wt.startsWith("ION-")},Vt=_t=>["ios","md"].includes(_t);(0,c.a)(_t=>{for(;_t;){const Wt=_t.mode||_t.getAttribute("mode");if(Wt){if(Vt(Wt))return Wt;Xe(_t)&&console.warn('Invalid ionic mode: "'+Wt+'", expected: "ios" or "md"')}_t=_t.parentElement}return Ye})}},1815:(Xt,lt,L)=>{"use strict";L.r(lt),L.d(lt,{iosTransitionAnimation:()=>ne,shadow:()=>se});var c=L(9442),X=L(4318);L(2361);const Oe=fe=>document.querySelector(`${fe}.ion-cloned-element`),se=fe=>fe.shadowRoot||fe,Ce=fe=>{const ze="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs"),ke="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ze){const Ee=ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ee?Ee.querySelector(ke):null}return fe.querySelector(ke)},_e=(fe,ze)=>{const ke="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs");let Ee=[];if(null!=ke){const Fe=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Fe&&(Ee=Fe.querySelectorAll("ion-buttons"))}else Ee=fe.querySelectorAll("ion-buttons");for(const Fe of Ee){const je=Fe.closest("ion-header"),ft=je&&!je.classList.contains("header-collapse-condense-inactive"),we=Fe.querySelector("ion-back-button"),ut=Fe.classList.contains("buttons-collapse"),wt="start"===Fe.slot||""===Fe.slot;if(null!==we&&wt&&(ut&&ft&&ze||!ut))return we}return null},ee=(fe,ze,ke,Ee,Fe,je)=>{const ft=ze?`calc(100% - ${je.right+4}px)`:je.left-4+"px",we=ze?"7px":"-7px",ut=ze?"-4px":"4px",wt=ze?"-4px":"4px",xt=ze?"right":"left",nt=ze?"left":"right",Me=ke?[{offset:0,opacity:1,transform:`translate3d(${ut}, ${je.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${we}, ${Fe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${we}, ${Fe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ut}, ${je.top-46}px, 0) scale(1)`}],ye=ke?[{offset:0,opacity:1,transform:`translate3d(${wt}, ${je.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${wt}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${wt}, ${je.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${wt}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${wt}, ${je.top-46}px, 0) scale(1)`}],Ue=(0,c.c)(),Ye=(0,c.c)(),St=Oe("ion-back-button"),jt=se(St).querySelector(".button-text"),dt=se(St).querySelector("ion-icon");St.text=Ee.text,St.mode=Ee.mode,St.icon=Ee.icon,St.color=Ee.color,St.disabled=Ee.disabled,St.style.setProperty("display","block"),St.style.setProperty("position","fixed"),Ye.addElement(dt),Ue.addElement(jt),Ue.beforeStyles({"transform-origin":`${xt} center`}).beforeAddWrite(()=>{Ee.style.setProperty("display","none"),St.style.setProperty(xt,ft)}).afterAddWrite(()=>{Ee.style.setProperty("display",""),St.style.setProperty("display","none"),St.style.removeProperty(xt)}).keyframes(Me),Ye.beforeStyles({"transform-origin":`${nt} center`}).keyframes(ye),fe.addAnimation([Ue,Ye])},me=(fe,ze,ke,Ee,Fe,je)=>{const ft=ze?`calc(100% - ${Fe.right}px)`:`${Fe.left}px`,we=ze?"-18px":"18px",ut=ze?"right":"left",nt=ke?[{offset:0,opacity:0,transform:`translate3d(${we}, ${je.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Fe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Fe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${we}, ${je.top-4}px, 0) scale(0.5)`}],Et=Oe("ion-title"),ve=(0,c.c)();Et.innerText=Ee.innerText,Et.size=Ee.size,Et.color=Ee.color,ve.addElement(Et),ve.beforeStyles({"transform-origin":`${ut} center`,height:"46px",display:"",position:"relative",[ut]:ft}).beforeAddWrite(()=>{Ee.style.setProperty("display","none")}).afterAddWrite(()=>{Ee.style.setProperty("display",""),Et.style.setProperty("display","none")}).keyframes(nt),fe.addAnimation(ve)},ne=(fe,ze)=>{try{const ke="cubic-bezier(0.32,0.72,0,1)",Ee="opacity",Fe="transform",je="0%",we="rtl"===fe.ownerDocument.dir,ut=we?"-99.5%":"99.5%",wt=we?"33%":"-33%",xt=ze.enteringEl,nt=ze.leavingEl,Et="back"===ze.direction,ve=xt.querySelector(":scope > ion-content"),Me=xt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Te=xt.querySelectorAll(":scope > ion-header > ion-toolbar"),de=(0,c.c)(),ye=(0,c.c)();if(de.addElement(xt).duration(ze.duration||540).easing(ze.easing||ke).fill("both").beforeRemoveClass("ion-page-invisible"),nt&&fe){const jt=(0,c.c)();jt.addElement(fe),de.addAnimation(jt)}if(ve||0!==Te.length||0!==Me.length?(ye.addElement(ve),ye.addElement(Me)):ye.addElement(xt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),de.addAnimation(ye),Et?ye.beforeClearStyles([Ee]).fromTo("transform",`translateX(${wt})`,`translateX(${je})`).fromTo(Ee,.8,1):ye.beforeClearStyles([Ee]).fromTo("transform",`translateX(${ut})`,`translateX(${je})`),ve){const jt=se(ve).querySelector(".transition-effect");if(jt){const dt=jt.querySelector(".transition-cover"),at=jt.querySelector(".transition-shadow"),Ge=(0,c.c)(),st=(0,c.c)(),gt=(0,c.c)();Ge.addElement(jt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),st.addElement(dt).beforeClearStyles([Ee]).fromTo(Ee,0,.1),gt.addElement(at).beforeClearStyles([Ee]).fromTo(Ee,.03,.7),Ge.addAnimation([st,gt]),ye.addAnimation([Ge])}}const Ue=xt.querySelector("ion-header.header-collapse-condense"),{forward:Ye,backward:St}=((fe,ze,ke,Ee,Fe)=>{const je=_e(Ee,ke),ft=Ce(Fe),we=Ce(Ee),ut=_e(Fe,ke),wt=null!==je&&null!==ft&&!ke,xt=null!==we&&null!==ut&&ke;if(wt){const nt=ft.getBoundingClientRect(),Et=je.getBoundingClientRect();me(fe,ze,ke,ft,nt,Et),ee(fe,ze,ke,je,nt,Et)}else if(xt){const nt=we.getBoundingClientRect(),Et=ut.getBoundingClientRect();me(fe,ze,ke,we,nt,Et),ee(fe,ze,ke,ut,nt,Et)}return{forward:wt,backward:xt}})(de,we,Et,xt,nt);if(Te.forEach(jt=>{const dt=(0,c.c)();dt.addElement(jt),de.addAnimation(dt);const at=(0,c.c)();at.addElement(jt.querySelector("ion-title"));const Ge=(0,c.c)(),st=Array.from(jt.querySelectorAll("ion-buttons,[menuToggle]")),gt=jt.closest("ion-header"),Re=null==gt?void 0:gt.classList.contains("header-collapse-condense-inactive");let Xe;Xe=st.filter(Et?Rn=>{const In=Rn.classList.contains("buttons-collapse");return In&&!Re||!In}:Rn=>!Rn.classList.contains("buttons-collapse")),Ge.addElement(Xe);const Vt=(0,c.c)();Vt.addElement(jt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const _t=(0,c.c)();_t.addElement(se(jt).querySelector(".toolbar-background"));const Wt=(0,c.c)(),vn=jt.querySelector("ion-back-button");if(vn&&Wt.addElement(vn),dt.addAnimation([at,Ge,Vt,_t,Wt]),Ge.fromTo(Ee,.01,1),Vt.fromTo(Ee,.01,1),Et)Re||at.fromTo("transform",`translateX(${wt})`,`translateX(${je})`).fromTo(Ee,.01,1),Vt.fromTo("transform",`translateX(${wt})`,`translateX(${je})`),Wt.fromTo(Ee,.01,1);else if(Ue||at.fromTo("transform",`translateX(${ut})`,`translateX(${je})`).fromTo(Ee,.01,1),Vt.fromTo("transform",`translateX(${ut})`,`translateX(${je})`),_t.beforeClearStyles([Ee,"transform"]),(null==gt?void 0:gt.translucent)?_t.fromTo("transform",we?"translateX(-100%)":"translateX(100%)","translateX(0px)"):_t.fromTo(Ee,.01,"var(--opacity)"),Ye||Wt.fromTo(Ee,.01,1),vn&&!Ye){const In=(0,c.c)();In.addElement(se(vn).querySelector(".button-text")).fromTo("transform",we?"translateX(-100px)":"translateX(100px)","translateX(0px)"),dt.addAnimation(In)}}),nt){const jt=(0,c.c)(),dt=nt.querySelector(":scope > ion-content"),at=nt.querySelectorAll(":scope > ion-header > ion-toolbar"),Ge=nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(dt||0!==at.length||0!==Ge.length?(jt.addElement(dt),jt.addElement(Ge)):jt.addElement(nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),de.addAnimation(jt),Et){jt.beforeClearStyles([Ee]).fromTo("transform",`translateX(${je})`,we?"translateX(-100%)":"translateX(100%)");const st=(0,X.g)(nt);de.afterAddWrite(()=>{"normal"===de.getDirection()&&st.style.setProperty("display","none")})}else jt.fromTo("transform",`translateX(${je})`,`translateX(${wt})`).fromTo(Ee,1,.8);if(dt){const st=se(dt).querySelector(".transition-effect");if(st){const gt=st.querySelector(".transition-cover"),Re=st.querySelector(".transition-shadow"),Xe=(0,c.c)(),Vt=(0,c.c)(),_t=(0,c.c)();Xe.addElement(st).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Vt.addElement(gt).beforeClearStyles([Ee]).fromTo(Ee,.1,0),_t.addElement(Re).beforeClearStyles([Ee]).fromTo(Ee,.7,.03),Xe.addAnimation([Vt,_t]),jt.addAnimation([Xe])}}at.forEach(st=>{const gt=(0,c.c)();gt.addElement(st);const Re=(0,c.c)();Re.addElement(st.querySelector("ion-title"));const Xe=(0,c.c)(),Vt=st.querySelectorAll("ion-buttons,[menuToggle]"),_t=st.closest("ion-header"),Wt=null==_t?void 0:_t.classList.contains("header-collapse-condense-inactive"),vn=Array.from(Vt).filter(zn=>{const nr=zn.classList.contains("buttons-collapse");return nr&&!Wt||!nr});Xe.addElement(vn);const Rn=(0,c.c)(),In=st.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");In.length>0&&Rn.addElement(In);const cn=(0,c.c)();cn.addElement(se(st).querySelector(".toolbar-background"));const On=(0,c.c)(),Sr=st.querySelector("ion-back-button");if(Sr&&On.addElement(Sr),gt.addAnimation([Re,Xe,Rn,On,cn]),de.addAnimation(gt),On.fromTo(Ee,.99,0),Xe.fromTo(Ee,.99,0),Rn.fromTo(Ee,.99,0),Et){if(Wt||Re.fromTo("transform",`translateX(${je})`,we?"translateX(-100%)":"translateX(100%)").fromTo(Ee,.99,0),Rn.fromTo("transform",`translateX(${je})`,we?"translateX(-100%)":"translateX(100%)"),cn.beforeClearStyles([Ee,"transform"]),(null==_t?void 0:_t.translucent)?cn.fromTo("transform","translateX(0px)",we?"translateX(-100%)":"translateX(100%)"):cn.fromTo(Ee,"var(--opacity)",0),Sr&&!St){const nr=(0,c.c)();nr.addElement(se(Sr).querySelector(".button-text")).fromTo("transform",`translateX(${je})`,`translateX(${(we?-124:124)+"px"})`),gt.addAnimation(nr)}}else Wt||Re.fromTo("transform",`translateX(${je})`,`translateX(${wt})`).fromTo(Ee,.99,0).afterClearStyles([Fe,Ee]),Rn.fromTo("transform",`translateX(${je})`,`translateX(${wt})`).afterClearStyles([Fe,Ee]),On.afterClearStyles([Ee]),Re.afterClearStyles([Ee]),Xe.afterClearStyles([Ee])})}return de}catch(ke){throw ke}}},6447:(Xt,lt,L)=>{"use strict";L.r(lt),L.d(lt,{mdTransitionAnimation:()=>Ve});var c=L(9442),X=L(4318);L(2361);const Ve=(Oe,se)=>{const be="back"===se.direction,me=se.leavingEl,ne=(0,X.g)(se.enteringEl),fe=ne.querySelector("ion-toolbar"),ze=(0,c.c)();if(ze.addElement(ne).fill("both").beforeRemoveClass("ion-page-invisible"),be?ze.duration(se.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ze.duration(se.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),fe){const ke=(0,c.c)();ke.addElement(fe),ze.addAnimation(ke)}if(me&&be){ze.duration(se.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ke=(0,c.c)();ke.addElement((0,X.g)(me)).onFinish(Ee=>{1===Ee&&ke.elements.length>0&&ke.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ze.addAnimation(ke)}return ze}},599:(Xt,lt,L)=>{"use strict";L.d(lt,{B:()=>st,a:()=>_e,b:()=>be,c:()=>fe,d:()=>Te,e:()=>ke,f:()=>ye,g:()=>St,h:()=>se,i:()=>dt,j:()=>ft,k:()=>ve,l:()=>ee,m:()=>me,s:()=>Ge,t:()=>ze});var c=L(5861),X=L(6254),K=L(7593),Ve=L(3756);let Oe=0;const se=new WeakMap,Ce=gt=>({create:Re=>Ee(gt,Re),dismiss:(Re,Xe,Vt)=>nt(document,Re,Xe,gt,Vt),getTop:()=>(0,c.Z)(function*(){return ve(document,gt)})()}),_e=Ce("ion-alert"),be=Ce("ion-action-sheet"),ee=Ce("ion-loading"),me=Ce("ion-modal"),fe=Ce("ion-popover"),ze=Ce("ion-toast"),ke=gt=>{"undefined"!=typeof document&&xt(document);const Re=Oe++;gt.overlayIndex=Re,gt.hasAttribute("id")||(gt.id=`ion-overlay-${Re}`)},Ee=(gt,Re)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(gt).then(()=>{const Xe=document.createElement(gt);return Xe.classList.add("overlay-hidden"),Object.assign(Xe,Object.assign(Object.assign({},Re),{hasController:!0})),Ue(document).appendChild(Xe),new Promise(Vt=>(0,Ve.c)(Xe,Vt))}):Promise.resolve(),Fe='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',je="input:not([type=hidden]), textarea, button, select",ft=(gt,Re)=>{let Xe=gt.querySelector(Fe);const Vt=null==Xe?void 0:Xe.shadowRoot;Vt&&(Xe=Vt.querySelector(je)||Xe),Xe?(0,Ve.f)(Xe):Re.focus()},ut=(gt,Re)=>{const Xe=Array.from(gt.querySelectorAll(Fe));let Vt=Xe.length>0?Xe[Xe.length-1]:null;const _t=null==Vt?void 0:Vt.shadowRoot;_t&&(Vt=_t.querySelector(je)||Vt),Vt?Vt.focus():Re.focus()},xt=gt=>{0===Oe&&(Oe=1,gt.addEventListener("focus",Re=>{((gt,Re)=>{const Xe=ve(Re,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Vt=gt.target;Xe&&Vt&&!Xe.classList.contains("ion-disable-focus-trap")&&(Xe.shadowRoot?(()=>{if(Xe.contains(Vt))Xe.lastFocus=Vt;else{const vn=Xe.lastFocus;ft(Xe,Xe),vn===Re.activeElement&&ut(Xe,Xe),Xe.lastFocus=Re.activeElement}})():(()=>{if(Xe===Vt)Xe.lastFocus=void 0;else{const vn=(0,Ve.g)(Xe);if(!vn.contains(Vt))return;const Rn=vn.querySelector(".ion-overlay-wrapper");if(!Rn)return;if(Rn.contains(Vt))Xe.lastFocus=Vt;else{const In=Xe.lastFocus;ft(Rn,Xe),In===Re.activeElement&&ut(Rn,Xe),Xe.lastFocus=Re.activeElement}}})())})(Re,gt)},!0),gt.addEventListener("ionBackButton",Re=>{const Xe=ve(gt);(null==Xe?void 0:Xe.backdropDismiss)&&Re.detail.register(K.OVERLAY_BACK_BUTTON_PRIORITY,()=>Xe.dismiss(void 0,st))}),gt.addEventListener("keyup",Re=>{if("Escape"===Re.key){const Xe=ve(gt);(null==Xe?void 0:Xe.backdropDismiss)&&Xe.dismiss(void 0,st)}}))},nt=(gt,Re,Xe,Vt,_t)=>{const Wt=ve(gt,Vt,_t);return Wt?Wt.dismiss(Re,Xe):Promise.reject("overlay does not exist")},ve=(gt,Re,Xe)=>{const Vt=((gt,Re)=>(void 0===Re&&(Re="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(gt.querySelectorAll(Re)).filter(Xe=>Xe.overlayIndex>0)))(gt,Re).filter(_t=>!(gt=>gt.classList.contains("overlay-hidden"))(_t));return void 0===Xe?Vt[Vt.length-1]:Vt.find(_t=>_t.id===Xe)},Me=(gt=!1)=>{const Xe=Ue(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Xe||(gt?Xe.setAttribute("aria-hidden","true"):Xe.removeAttribute("aria-hidden"))},Te=function(){var gt=(0,c.Z)(function*(Re,Xe,Vt,_t,Wt){var vn,Rn;if(Re.presented)return;Me(!0),Re.presented=!0,Re.willPresent.emit(),null===(vn=Re.willPresentShorthand)||void 0===vn||vn.emit();const In=(0,X.b)(Re),cn=Re.enterAnimation?Re.enterAnimation:X.c.get(Xe,"ios"===In?Vt:_t);(yield Ye(Re,cn,Re.el,Wt))&&(Re.didPresent.emit(),null===(Rn=Re.didPresentShorthand)||void 0===Rn||Rn.emit()),"ION-TOAST"!==Re.el.tagName&&de(Re.el),Re.keyboardClose&&Re.el.focus()});return function(Xe,Vt,_t,Wt,vn){return gt.apply(this,arguments)}}(),de=function(){var gt=(0,c.Z)(function*(Re){let Xe=document.activeElement;if(!Xe)return;const Vt=null==Xe?void 0:Xe.shadowRoot;Vt&&(Xe=Vt.querySelector(je)||Xe),yield Re.onDidDismiss(),Xe.focus()});return function(Xe){return gt.apply(this,arguments)}}(),ye=function(){var gt=(0,c.Z)(function*(Re,Xe,Vt,_t,Wt,vn,Rn){var In,cn;if(!Re.presented)return!1;Me(!1),Re.presented=!1;try{Re.el.style.setProperty("pointer-events","none"),Re.willDismiss.emit({data:Xe,role:Vt}),null===(In=Re.willDismissShorthand)||void 0===In||In.emit({data:Xe,role:Vt});const On=(0,X.b)(Re),Sr=Re.leaveAnimation?Re.leaveAnimation:X.c.get(_t,"ios"===On?Wt:vn);"gesture"!==Vt&&(yield Ye(Re,Sr,Re.el,Rn)),Re.didDismiss.emit({data:Xe,role:Vt}),null===(cn=Re.didDismissShorthand)||void 0===cn||cn.emit({data:Xe,role:Vt}),se.delete(Re),Re.el.classList.add("overlay-hidden"),Re.el.style.removeProperty("pointer-events")}catch(On){console.error(On)}return Re.el.remove(),!0});return function(Xe,Vt,_t,Wt,vn,Rn,In){return gt.apply(this,arguments)}}(),Ue=gt=>gt.querySelector("ion-app")||gt.body,Ye=function(){var gt=(0,c.Z)(function*(Re,Xe,Vt,_t){Vt.classList.remove("overlay-hidden");const vn=Xe(Re.el,_t);(!Re.animated||!X.c.getBoolean("animated",!0))&&vn.duration(0),Re.keyboardClose&&vn.beforeAddWrite(()=>{const In=Vt.ownerDocument.activeElement;(null==In?void 0:In.matches("input,ion-input, ion-textarea"))&&In.blur()});const Rn=se.get(Re)||[];return se.set(Re,[...Rn,vn]),yield vn.play(),!0});return function(Xe,Vt,_t,Wt){return gt.apply(this,arguments)}}(),St=(gt,Re)=>{let Xe;const Vt=new Promise(_t=>Xe=_t);return jt(gt,Re,_t=>{Xe(_t.detail)}),Vt},jt=(gt,Re,Xe)=>{const Vt=_t=>{(0,Ve.b)(gt,Re,Vt),Xe(_t)};(0,Ve.a)(gt,Re,Vt)},dt=gt=>"cancel"===gt||gt===st,at=gt=>gt(),Ge=(gt,Re)=>{if("function"==typeof gt)return X.c.get("_zoneGate",at)(()=>{try{return gt(Re)}catch(Vt){throw Vt}})},st="backdrop"},1328:(Xt,lt,L)=>{"use strict";L.d(lt,{u:()=>Ce});var c=L(655),X=L(5e3),K=L(2796),Ve=L(4433),Oe=L(4941),se=L(7145);let Ce=(()=>{class _e{constructor(ee,me,ne,fe,ze,ke){this.afStore=ee,this.toast=me,this.ngFireAuth=ne,this.navCtrl=fe,this.router=ze,this.ngZone=ke,this.user={},this.ngFireAuth.authState.subscribe(Ee=>(0,c.mG)(this,void 0,void 0,function*(){if(Ee){this.userData=Ee;const Fe=yield Ee.getIdToken();localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("token",Fe)}else localStorage.removeItem("user"),localStorage.removeItem("token")}))}SendVerificationMail(){return(0,c.mG)(this,void 0,void 0,function*(){const ee=yield this.ngFireAuth.currentUser;ee&&(yield ee.sendEmailVerification(),this.router.navigate(["verify-email"]))})}get isEmailVerified(){const ee=JSON.parse(localStorage.getItem("user")||"null");return!!(null==ee?void 0:ee.emailVerified)}SetUserData(ee){return this.afStore.doc(`users/${ee.uid}`).set({uid:ee.uid,email:ee.email,displayName:ee.displayName,photoURL:ee.photoURL,emailVerified:ee.emailVerified},{merge:!0})}SignOut(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.ngFireAuth.signOut(),localStorage.removeItem("user"),localStorage.removeItem("token"),sessionStorage.clear(),this.ngZone.run(()=>{this.router.navigate(["/login"])}),this.showToaster("You are logged out")}catch(ee){console.error("Sign out error:",ee),this.showToaster("Error during logout")}})}showToaster(ee){this.toast.create({message:ee,color:"danger",duration:4e3}).then(me=>me.present())}Logout(){localStorage.clear(),sessionStorage.clear(),this.router.navigate(["/login"])}get isLoggedIn(){const ee=JSON.parse(localStorage.getItem("user")||"null");return null!==ee&&!0===ee.emailVerified&&!!localStorage.getItem("token")}}return _e.\u0275fac=function(ee){return new(ee||_e)(X.LFG(K.ST),X.LFG(Ve.yF),X.LFG(Oe.zQ),X.LFG(Ve.SH),X.LFG(se.F0),X.LFG(X.R0b))},_e.\u0275prov=X.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},3214:(Xt,lt,L)=>{"use strict";var c=L(9808),X=L(5e3);class K extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends K{static makeCurrent(){(0,c.HT)(new Ve)}onAndCancel(s,l,f){return s.addEventListener(l,f,!1),()=>{s.removeEventListener(l,f,!1)}}dispatchEvent(s,l){s.dispatchEvent(l)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,l){return(l=l||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,l){return"window"===l?window:"document"===l?s:"body"===l?s.body:null}getBaseHref(s){const l=function se(){return Oe=Oe||document.querySelector("base"),Oe?Oe.getAttribute("href"):null}();return null==l?null:function _e(u){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",u);const s=Ce.pathname;return"/"===s.charAt(0)?s:`/${s}`}(l)}resetBaseElement(){Oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return(0,c.Mx)(document.cookie,s)}}let Ce,Oe=null;const be=new X.OlP("TRANSITION_ID"),me=[{provide:X.ip1,useFactory:function ee(u,s,l){return()=>{l.get(X.CZH).donePromise.then(()=>{const f=(0,c.q)(),v=s.querySelectorAll(`style[ng-transition="${u}"]`);for(let T=0;T<v.length;T++)f.remove(v[T])})}},deps:[be,c.K0,X.zs3],multi:!0}];class ne{static init(){(0,X.VLi)(new ne)}addToWindow(s){X.dqk.getAngularTestability=(f,v=!0)=>{const T=s.findTestabilityInTree(f,v);if(null==T)throw new Error("Could not find testability for element.");return T},X.dqk.getAllAngularTestabilities=()=>s.getAllTestabilities(),X.dqk.getAllAngularRootElements=()=>s.getAllRootElements(),X.dqk.frameworkStabilizers||(X.dqk.frameworkStabilizers=[]),X.dqk.frameworkStabilizers.push(f=>{const v=X.dqk.getAllAngularTestabilities();let T=v.length,O=!1;const Z=function(oe){O=O||oe,T--,0==T&&f(O)};v.forEach(function(oe){oe.whenStable(Z)})})}findTestabilityInTree(s,l,f){if(null==l)return null;const v=s.getTestability(l);return null!=v?v:f?(0,c.q)().isShadowRoot(l)?this.findTestabilityInTree(s,l.host,!0):this.findTestabilityInTree(s,l.parentElement,!0):null}}let fe=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})();const ze=new X.OlP("EventManagerPlugins");let ke=(()=>{class u{constructor(l,f){this._zone=f,this._eventNameToPlugin=new Map,l.forEach(v=>v.manager=this),this._plugins=l.slice().reverse()}addEventListener(l,f,v){return this._findPluginFor(f).addEventListener(l,f,v)}addGlobalEventListener(l,f,v){return this._findPluginFor(f).addGlobalEventListener(l,f,v)}getZone(){return this._zone}_findPluginFor(l){const f=this._eventNameToPlugin.get(l);if(f)return f;const v=this._plugins;for(let T=0;T<v.length;T++){const O=v[T];if(O.supports(l))return this._eventNameToPlugin.set(l,O),O}throw new Error(`No event manager plugin found for event ${l}`)}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(ze),X.LFG(X.R0b))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})();class Ee{constructor(s){this._doc=s}addGlobalEventListener(s,l,f){const v=(0,c.q)().getGlobalEventTarget(this._doc,s);if(!v)throw new Error(`Unsupported event target ${v} for event ${l}`);return this.addEventListener(v,l,f)}}let Fe=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(l){const f=new Set;l.forEach(v=>{this._stylesSet.has(v)||(this._stylesSet.add(v),f.add(v))}),this.onStylesAdded(f)}onStylesAdded(l){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})(),je=(()=>{class u extends Fe{constructor(l){super(),this._doc=l,this._hostNodes=new Map,this._hostNodes.set(l.head,[])}_addStylesToHost(l,f,v){l.forEach(T=>{const O=this._doc.createElement("style");O.textContent=T,v.push(f.appendChild(O))})}addHost(l){const f=[];this._addStylesToHost(this._stylesSet,l,f),this._hostNodes.set(l,f)}removeHost(l){const f=this._hostNodes.get(l);f&&f.forEach(ft),this._hostNodes.delete(l)}onStylesAdded(l){this._hostNodes.forEach((f,v)=>{this._addStylesToHost(l,v,f)})}ngOnDestroy(){this._hostNodes.forEach(l=>l.forEach(ft))}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(c.K0))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})();function ft(u){(0,c.q)().remove(u)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g;function Te(u,s,l){for(let f=0;f<s.length;f++){let v=s[f];Array.isArray(v)?Te(u,v,l):(v=v.replace(ut,u),l.push(v))}return l}function de(u){return s=>{if("__ngUnwrap__"===s)return u;!1===u(s)&&(s.preventDefault(),s.returnValue=!1)}}let Ue=(()=>{class u{constructor(l,f,v){this.eventManager=l,this.sharedStylesHost=f,this.appId=v,this.rendererByCompId=new Map,this.defaultRenderer=new Ye(l)}createRenderer(l,f){if(!l||!f)return this.defaultRenderer;switch(f.encapsulation){case X.ifc.Emulated:{let v=this.rendererByCompId.get(f.id);return v||(v=new dt(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,v)),v.applyToHost(l),v}case 1:case X.ifc.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,l,f);default:if(!this.rendererByCompId.has(f.id)){const v=Te(f.id,f.styles,[]);this.sharedStylesHost.addStyles(v),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(ke),X.LFG(je),X.LFG(X.AFp))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})();class Ye{constructor(s){this.eventManager=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(s,l){return l?document.createElementNS(we[l]||l,s):document.createElement(s)}createComment(s){return document.createComment(s)}createText(s){return document.createTextNode(s)}appendChild(s,l){s.appendChild(l)}insertBefore(s,l,f){s&&s.insertBefore(l,f)}removeChild(s,l){s&&s.removeChild(l)}selectRootElement(s,l){let f="string"==typeof s?document.querySelector(s):s;if(!f)throw new Error(`The selector "${s}" did not match any elements`);return l||(f.textContent=""),f}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,l,f,v){if(v){l=v+":"+l;const T=we[v];T?s.setAttributeNS(T,l,f):s.setAttribute(l,f)}else s.setAttribute(l,f)}removeAttribute(s,l,f){if(f){const v=we[f];v?s.removeAttributeNS(v,l):s.removeAttribute(`${f}:${l}`)}else s.removeAttribute(l)}addClass(s,l){s.classList.add(l)}removeClass(s,l){s.classList.remove(l)}setStyle(s,l,f,v){v&(X.JOm.DashCase|X.JOm.Important)?s.style.setProperty(l,f,v&X.JOm.Important?"important":""):s.style[l]=f}removeStyle(s,l,f){f&X.JOm.DashCase?s.style.removeProperty(l):s.style[l]=""}setProperty(s,l,f){s[l]=f}setValue(s,l){s.nodeValue=l}listen(s,l,f){return"string"==typeof s?this.eventManager.addGlobalEventListener(s,l,de(f)):this.eventManager.addEventListener(s,l,de(f))}}class dt extends Ye{constructor(s,l,f,v){super(s),this.component=f;const T=Te(v+"-"+f.id,f.styles,[]);l.addStyles(T),this.contentAttr=function ve(u){return"_ngcontent-%COMP%".replace(ut,u)}(v+"-"+f.id),this.hostAttr=function Me(u){return"_nghost-%COMP%".replace(ut,u)}(v+"-"+f.id)}applyToHost(s){super.setAttribute(s,this.hostAttr,"")}createElement(s,l){const f=super.createElement(s,l);return super.setAttribute(f,this.contentAttr,""),f}}class at extends Ye{constructor(s,l,f,v){super(s),this.sharedStylesHost=l,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=Te(v.id,v.styles,[]);for(let O=0;O<T.length;O++){const Z=document.createElement("style");Z.textContent=T[O],this.shadowRoot.appendChild(Z)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(s,l){return super.appendChild(this.nodeOrShadowRoot(s),l)}insertBefore(s,l,f){return super.insertBefore(this.nodeOrShadowRoot(s),l,f)}removeChild(s,l){return super.removeChild(this.nodeOrShadowRoot(s),l)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}}let Ge=(()=>{class u extends Ee{constructor(l){super(l)}supports(l){return!0}addEventListener(l,f,v){return l.addEventListener(f,v,!1),()=>this.removeEventListener(l,f,v)}removeEventListener(l,f,v){return l.removeEventListener(f,v)}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(c.K0))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})();const st=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vt={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let _t=(()=>{class u extends Ee{constructor(l){super(l)}supports(l){return null!=u.parseEventName(l)}addEventListener(l,f,v){const T=u.parseEventName(f),O=u.eventCallback(T.fullKey,v,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(l,T.domEventName,O))}static parseEventName(l){const f=l.toLowerCase().split("."),v=f.shift();if(0===f.length||"keydown"!==v&&"keyup"!==v)return null;const T=u._normalizeKey(f.pop());let O="";if(st.forEach(oe=>{const xe=f.indexOf(oe);xe>-1&&(f.splice(xe,1),O+=oe+".")}),O+=T,0!=f.length||0===T.length)return null;const Z={};return Z.domEventName=v,Z.fullKey=O,Z}static getEventFullKey(l){let f="",v=function Wt(u){let s=u.key;if(null==s){if(s=u.keyIdentifier,null==s)return"Unidentified";s.startsWith("U+")&&(s=String.fromCharCode(parseInt(s.substring(2),16)),3===u.location&&Xe.hasOwnProperty(s)&&(s=Xe[s]))}return Re[s]||s}(l);return v=v.toLowerCase()," "===v?v="space":"."===v&&(v="dot"),st.forEach(T=>{T!=v&&Vt[T](l)&&(f+=T+".")}),f+=v,f}static eventCallback(l,f,v){return T=>{u.getEventFullKey(T)===l&&v.runGuarded(()=>f(T))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(c.K0))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac}),u})();const On=(0,X.eFA)(X._c5,"browser",[{provide:X.Lbi,useValue:c.bD},{provide:X.g9A,useValue:function vn(){Ve.makeCurrent(),ne.init()},multi:!0},{provide:c.K0,useFactory:function In(){return(0,X.RDi)(document),document},deps:[]}]),Sr=[{provide:X.zSh,useValue:"root"},{provide:X.qLn,useFactory:function Rn(){return new X.qLn},deps:[]},{provide:ze,useClass:Ge,multi:!0,deps:[c.K0,X.R0b,X.Lbi]},{provide:ze,useClass:_t,multi:!0,deps:[c.K0]},{provide:Ue,useClass:Ue,deps:[ke,je,X.AFp]},{provide:X.FYo,useExisting:Ue},{provide:Fe,useExisting:je},{provide:je,useClass:je,deps:[c.K0]},{provide:X.dDg,useClass:X.dDg,deps:[X.R0b]},{provide:ke,useClass:ke,deps:[ze,X.R0b]},{provide:c.JF,useClass:fe,deps:[]}];let zn=(()=>{class u{constructor(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(l){return{ngModule:u,providers:[{provide:X.AFp,useValue:l.appId},{provide:be,useExisting:X.AFp},me]}}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(u,12))},u.\u0275mod=X.oAB({type:u}),u.\u0275inj=X.cJS({providers:Sr,imports:[c.ez,X.hGG]}),u})();"undefined"!=typeof window&&window;var fi=L(2011),Mi=L(7145),Li=L(2916),Or=L(1086),Gr=L(5254),Vn=L(3489),Lr=L(353);class Bi{constructor(s,l){this.dueTime=s,this.scheduler=l}call(s,l){return l.subscribe(new zi(s,this.dueTime,this.scheduler))}}class zi extends Vn.L{constructor(s,l,f){super(s),this.dueTime=l,this.scheduler=f,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(s){this.clearDebounce(),this.lastValue=s,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Xi,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:s}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(s)}}clearDebounce(){const s=this.debouncedSubscription;null!==s&&(this.remove(s),s.unsubscribe(),this.debouncedSubscription=null)}}function Xi(u){u.debouncedNext()}var ri=L(4850),Br=L(7545),ar=L(6351),Ir=L(3942),zt=L(5861),un=L(9681),pe=L(2090),xr=L(4859);const jr="firebasestorage.googleapis.com",lr="storageBucket";class ur extends pe.ZR{constructor(s,l){super(Pr(s),`Firebase Storage: ${l} (${Pr(s)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}_codeEquals(s){return Pr(s)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(s){this.customData.serverResponse=s,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Pr(u){return"storage/"+u}function Fn(){return new ur("unknown","An unknown error occurred, please check the error payload for server response.")}function gi(){return new ur("canceled","User canceled the upload/download.")}function ht(){return new ur("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ot(u){return new ur("invalid-argument",u)}function kt(){return new ur("app-deleted","The Firebase app was deleted.")}function Mt(u){return new ur("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rt(u,s){return new ur("invalid-format","String does not match format '"+u+"': "+s)}function dn(u){throw new ur("internal-error","Internal error: "+u)}class En{constructor(s,l){this.bucket=s,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const s=encodeURIComponent;return"/b/"+s(this.bucket)+"/o/"+s(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(s,l){let f;try{f=En.makeFromUrl(s,l)}catch(v){return new En(s,"")}if(""===f.path)return f;throw function ge(u){return new ur("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(s)}static makeFromUrl(s,l){let f=null;const v="([A-Za-z0-9.\\-_]+)",Z=new RegExp("^gs://"+v+"(/(.*))?$","i");function xe(ao){ao.path_=decodeURIComponent(ao.path)}const bt=l.replace(/[.]/g,"\\."),Ls=[{regex:Z,indices:{bucket:1,path:3},postModify:function T(ao){"/"===ao.path.charAt(ao.path.length-1)&&(ao.path_=ao.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${bt}/v[A-Za-z0-9_]+/b/${v}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:xe},{regex:new RegExp(`^https?://${l===jr?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${v}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:xe}];for(let ao=0;ao<Ls.length;ao++){const yl=Ls[ao],$c=yl.regex.exec(s);if($c){let Ds=$c[yl.indices.path];Ds||(Ds=""),f=new En($c[yl.indices.bucket],Ds),yl.postModify(f);break}}if(null==f)throw function Q(u){return new ur("invalid-url","Invalid URL '"+u+"'.")}(s);return f}}class jn{constructor(s){this.promise_=Promise.reject(s)}getPromise(){return this.promise_}cancel(s=!1){}}function yt(u){return"string"==typeof u||u instanceof String}function $t(u){return en()&&u instanceof Blob}function en(){return"undefined"!=typeof Blob}function yn(u,s,l,f){if(f<s)throw ot(`Invalid value for '${u}'. Expected ${s} or greater.`);if(f>l)throw ot(`Invalid value for '${u}'. Expected ${l} or less.`)}function fr(u,s,l){let f=s;return null==l&&(f=`https://${s}`),`${l}://${f}/v0${u}`}function ti(u){const s=encodeURIComponent;let l="?";for(const f in u)u.hasOwnProperty(f)&&(l=l+(s(f)+"=")+s(u[f])+"&");return l=l.slice(0,-1),l}var pr=(()=>{return(u=pr||(pr={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",pr;var u})();class Qs{constructor(s,l,f,v,T,O,Z,oe,xe,pt,bt){this.url_=s,this.method_=l,this.headers_=f,this.body_=v,this.successCodes_=T,this.additionalRetryCodes_=O,this.callback_=Z,this.errorCallback_=oe,this.timeout_=xe,this.progressCallback_=pt,this.connectionFactory_=bt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Nt,mn)=>{this.resolve_=Nt,this.reject_=mn,this.start_()})}start_(){const l=(f,v)=>{const T=this.resolve_,O=this.reject_,Z=v.connection;if(v.wasSuccessCode)try{const oe=this.callback_(Z,Z.getResponse());!function Qi(u){return void 0!==u}(oe)?T():T(oe)}catch(oe){O(oe)}else if(null!==Z){const oe=Fn();oe.serverResponse=Z.getErrorText(),O(this.errorCallback_?this.errorCallback_(Z,oe):oe)}else O(v.canceled?this.appDelete_?kt():gi():function Oi(){return new ur("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?l(0,new Ji(!1,null,!0)):this.backoffId_=function Qn(u,s,l){let f=1,v=null,T=null,O=!1,Z=0;function oe(){return 2===Z}let xe=!1;function pt(...Wr){xe||(xe=!0,s.apply(null,Wr))}function bt(Wr){v=setTimeout(()=>{v=null,u(mn,oe())},Wr)}function Nt(){T&&clearTimeout(T)}function mn(Wr,...To){if(xe)return void Nt();if(Wr)return Nt(),void pt.call(null,Wr,...To);if(oe()||O)return Nt(),void pt.call(null,Wr,...To);let Ls;f<64&&(f*=2),1===Z?(Z=2,Ls=0):Ls=1e3*(f+Math.random()),bt(Ls)}let Sn=!1;function kr(Wr){Sn||(Sn=!0,Nt(),!xe&&(null!==v?(Wr||(Z=2),clearTimeout(v),bt(0)):Wr||(Z=1)))}return bt(0),T=setTimeout(()=>{O=!0,kr(!0)},l),kr}((f,v)=>{if(v)return void f(!1,new Ji(!1,null,!0));const T=this.connectionFactory_();this.pendingConnection_=T;const O=Z=>{null!==this.progressCallback_&&this.progressCallback_(Z.loaded,Z.lengthComputable?Z.total:-1)};null!==this.progressCallback_&&T.addUploadProgressListener(O),T.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&T.removeUploadProgressListener(O),this.pendingConnection_=null;const Z=T.getErrorCode()===pr.NO_ERROR,oe=T.getStatus();if(!Z||this.isRetryStatusCode_(oe)){const pt=T.getErrorCode()===pr.ABORT;return void f(!1,new Ji(!1,null,pt))}const xe=-1!==this.successCodes_.indexOf(oe);f(!0,new Ji(xe,T))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(s){this.canceled_=!0,this.appDelete_=s||!1,null!==this.backoffId_&&function qr(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(s){const l=s>=500&&s<600,v=-1!==[408,429].indexOf(s),T=-1!==this.additionalRetryCodes_.indexOf(s);return l||v||T}}class Ji{constructor(s,l,f){this.wasSuccessCode=s,this.connection=l,this.canceled=!!f}}function Pi(...u){const s=function $o(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==s){const l=new s;for(let f=0;f<u.length;f++)l.append(u[f]);return l.getBlob()}if(en())return new Blob(u);throw new ur("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class so{constructor(s,l){this.data=s,this.contentType=l||null}}function Mo(u,s){switch(u){case Ei.RAW:return new so(Ro(s));case Ei.BASE64:case Ei.BASE64URL:return new so(Vi(u,s));case Ei.DATA_URL:return new so(function Ui(u){const s=new us(u);return s.base64?Vi(Ei.BASE64,s.rest):function Ss(u){let s;try{s=decodeURIComponent(u)}catch(l){throw Rt(Ei.DATA_URL,"Malformed data URL.")}return Ro(s)}(s.rest)}(s),function ui(u){return new us(u).contentType}(s))}throw Fn()}function Ro(u){const s=[];for(let l=0;l<u.length;l++){let f=u.charCodeAt(l);f<=127?s.push(f):f<=2047?s.push(192|f>>6,128|63&f):55296==(64512&f)?l<u.length-1&&56320==(64512&u.charCodeAt(l+1))?(f=65536|(1023&f)<<10|1023&u.charCodeAt(++l),s.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):s.push(239,191,189):56320==(64512&f)?s.push(239,191,189):s.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(s)}function Vi(u,s){switch(u){case Ei.BASE64:{const v=-1!==s.indexOf("-"),T=-1!==s.indexOf("_");if(v||T)throw Rt(u,"Invalid character '"+(v?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const v=-1!==s.indexOf("+"),T=-1!==s.indexOf("/");if(v||T)throw Rt(u,"Invalid character '"+(v?"+":"/")+"' found: is it base64 encoded?");s=s.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function ls(u){return atob(u)}(s)}catch(v){throw Rt(u,"Invalid character found")}const f=new Uint8Array(l.length);for(let v=0;v<l.length;v++)f[v]=l.charCodeAt(v);return f}class us{constructor(s){this.base64=!1,this.contentType=null;const l=s.match(/^data:([^,]+)?,/);if(null===l)throw Rt(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=l[1]||null;null!=f&&(this.base64=function As(u,s){return u.length>=s.length&&u.substring(u.length-s.length)===s}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=s.substring(s.indexOf(",")+1)}}class ii{constructor(s,l){let f=0,v="";$t(s)?(this.data_=s,f=s.size,v=s.type):s instanceof ArrayBuffer?(l?this.data_=new Uint8Array(s):(this.data_=new Uint8Array(s.byteLength),this.data_.set(new Uint8Array(s))),f=this.data_.length):s instanceof Uint8Array&&(l?this.data_=s:(this.data_=new Uint8Array(s.length),this.data_.set(s)),f=s.length),this.size_=f,this.type_=v}size(){return this.size_}type(){return this.type_}slice(s,l){if($t(this.data_)){const v=function Bs(u,s,l){return u.webkitSlice?u.webkitSlice(s,l):u.mozSlice?u.mozSlice(s,l):u.slice?u.slice(s,l):null}(this.data_,s,l);return null===v?null:new ii(v)}{const f=new Uint8Array(this.data_.buffer,s,l-s);return new ii(f,!0)}}static getBlob(...s){if(en()){const l=s.map(f=>f instanceof ii?f.data_:f);return new ii(Pi.apply(null,l))}{const l=s.map(O=>yt(O)?Mo(Ei.RAW,O).data:O.data_);let f=0;l.forEach(O=>{f+=O.byteLength});const v=new Uint8Array(f);let T=0;return l.forEach(O=>{for(let Z=0;Z<O.length;Z++)v[T++]=O[Z]}),new ii(v,!0)}}uploadData(){return this.data_}}function co(u){let s;try{s=JSON.parse(u)}catch(l){return null}return function Ze(u){return"object"==typeof u&&!Array.isArray(u)}(s)?s:null}function Vs(u){const s=u.lastIndexOf("/",u.length-2);return-1===s?u:u.slice(s+1)}function cs(u,s){return s}class Kr{constructor(s,l,f,v){this.server=s,this.local=l||s,this.writable=!!f,this.xform=v||cs}}let jo=null;function U(){if(jo)return jo;const u=[];u.push(new Kr("bucket")),u.push(new Kr("generation")),u.push(new Kr("metageneration")),u.push(new Kr("name","fullPath",!0));const l=new Kr("name");l.xform=function s(T,O){return function Rr(u){return!yt(u)||u.length<2?u:Vs(u)}(O)},u.push(l);const v=new Kr("size");return v.xform=function f(T,O){return void 0!==O?Number(O):O},u.push(v),u.push(new Kr("timeCreated")),u.push(new Kr("updated")),u.push(new Kr("md5Hash",null,!0)),u.push(new Kr("cacheControl",null,!0)),u.push(new Kr("contentDisposition",null,!0)),u.push(new Kr("contentEncoding",null,!0)),u.push(new Kr("contentLanguage",null,!0)),u.push(new Kr("contentType",null,!0)),u.push(new Kr("metadata","customMetadata",!0)),jo=u,jo}function ce(u,s,l){const f=co(s);return null===f?null:function $(u,s,l){const f={type:"file"},v=l.length;for(let T=0;T<v;T++){const O=l[T];f[O.local]=O.xform(f,s[O.server])}return function re(u,s){Object.defineProperty(u,"ref",{get:function l(){const T=new En(u.bucket,u.fullPath);return s._makeStorageReference(T)}})}(f,u),f}(u,f,l)}function It(u,s){const l={},f=s.length;for(let v=0;v<f;v++){const T=s[v];T.writable&&(l[T.server]=u[T.local])}return JSON.stringify(l)}const Gt="prefixes";class Hn{constructor(s,l,f,v){this.url=s,this.method=l,this.handler=f,this.timeout=v,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ir(u){if(!u)throw Fn()}function ci(u,s){return function l(f,v){const T=ce(u,v,s);return ir(null!==T),T}}function ts(u){return function s(l,f){let v;return v=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function Ri(){return new ur("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function as(){return new ur("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function Di(u){return new ur("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===l.getStatus()?function zr(u){return new ur("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):f,v.serverResponse=f.serverResponse,v}}function ns(u){const s=ts(u);return function l(f,v){let T=s(f,v);return 404===f.getStatus()&&(T=function os(u){return new ur("object-not-found","Object '"+u+"' does not exist.")}(u.path)),T.serverResponse=v.serverResponse,T}}function kn(u,s,l){const v=fr(s.fullServerUrl(),u.host,u._protocol),O=u.maxOperationRetryTime,Z=new Hn(v,"GET",ci(u,l),O);return Z.errorHandler=ns(s),Z}function ji(u,s,l,f,v){const T={};T.prefix=s.isRoot?"":s.path+"/",l&&l.length>0&&(T.delimiter=l),f&&(T.pageToken=f),v&&(T.maxResults=v);const Z=fr(s.bucketOnlyServerUrl(),u.host,u._protocol),xe=u.maxOperationRetryTime,pt=new Hn(Z,"GET",function Vr(u,s){return function l(f,v){const T=function Er(u,s,l){const f=co(l);return null===f?null:function Kn(u,s,l){const f={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[Gt])for(const v of l[Gt]){const T=v.replace(/\/$/,""),O=u._makeStorageReference(new En(s,T));f.prefixes.push(O)}if(l.items)for(const v of l.items){const T=u._makeStorageReference(new En(s,v.name));f.items.push(T)}return f}(u,s,f)}(u,s,v);return ir(null!==T),T}}(u,s.bucket),xe);return pt.urlParams=T,pt.errorHandler=ts(s),pt}function E(u,s,l){const f=Object.assign({},l);return f.fullPath=u.path,f.size=s.size(),f.contentType||(f.contentType=function Lt(u,s){return u&&u.contentType||s&&s.type()||"application/octet-stream"}(null,s)),f}class b{constructor(s,l,f,v){this.current=s,this.total=l,this.finalized=!!f,this.metadata=v||null}}function j(u,s){let l=null;try{l=u.getResponseHeader("X-Goog-Upload-Status")}catch(v){ir(!1)}return ir(!!l&&-1!==(s||["active"]).indexOf(l)),l}const cr={STATE_CHANGED:"state_changed"},Zn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wi(u){switch(u){case"running":case"pausing":case"canceling":return Zn.RUNNING;case"paused":return Zn.PAUSED;case"success":return Zn.SUCCESS;case"canceled":return Zn.CANCELED;default:return Zn.ERROR}}class qi{constructor(s,l,f){if(function et(u){return"function"==typeof u}(s)||null!=l||null!=f)this.next=s,this.error=null!=l?l:void 0,this.complete=null!=f?f:void 0;else{const T=s;this.next=T.next,this.error=T.error,this.complete=T.complete}}}function Ti(u){return(...s)=>{Promise.resolve().then(()=>u(...s))}}class rs extends class si{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pr.NO_ERROR,this.sendPromise_=new Promise(s=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pr.ABORT,s()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pr.NETWORK_ERROR,s()}),this.xhr_.addEventListener("load",()=>{s()})})}send(s,l,f,v){if(this.sent_)throw dn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,s,!0),void 0!==v)for(const T in v)v.hasOwnProperty(T)&&this.xhr_.setRequestHeader(T,v[T].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(s){return-1}}getResponse(){if(!this.sent_)throw dn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(s){return this.xhr_.getResponseHeader(s)}addUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",s)}removeUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",s)}}{initXhr(){this.xhr_.responseType="text"}}function vs(){return new rs}class Ki{constructor(s,l,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=s,this._blob=l,this._metadata=f,this._mappings=U(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=v=>{this._request=void 0,this._chunkMultiplier=1,v._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=v,this._transition("error"))},this._metadataErrorHandler=v=>{this._request=void 0,v._codeEquals("canceled")?this.completeTransitions_():(this._error=v,this._transition("error"))},this._promise=new Promise((v,T)=>{this._resolve=v,this._reject=T,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const s=this._transferred;return l=>this._updateProgress(s+l)}_shouldDoResumable(s){return s.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(s){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,f])=>{switch(this._state){case"running":s(l,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((s,l)=>{const f=function ie(u,s,l,f,v){const T=s.bucketOnlyServerUrl(),O=E(s,f,v),Z={name:O.fullPath},oe=fr(T,u.host,u._protocol),pt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":O.contentType,"Content-Type":"application/json; charset=utf-8"},bt=It(O,l),Sn=new Hn(oe,"POST",function mn(kr){let Wr;j(kr);try{Wr=kr.getResponseHeader("X-Goog-Upload-URL")}catch(To){ir(!1)}return ir(yt(Wr)),Wr},u.maxUploadRetryTime);return Sn.urlParams=Z,Sn.headers=pt,Sn.body=bt,Sn.errorHandler=ts(s),Sn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,vs,s,l);this._request=v,v.getPromise().then(T=>{this._request=void 0,this._uploadUrl=T,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const s=this._uploadUrl;this._resolveToken((l,f)=>{const v=function Tt(u,s,l,f){const oe=new Hn(l,"POST",function T(xe){const pt=j(xe,["active","final"]);let bt=null;try{bt=xe.getResponseHeader("X-Goog-Upload-Size-Received")}catch(mn){ir(!1)}bt||ir(!1);const Nt=Number(bt);return ir(!isNaN(Nt)),new b(Nt,f.size(),"final"===pt)},u.maxUploadRetryTime);return oe.headers={"X-Goog-Upload-Command":"query"},oe.errorHandler=ts(s),oe}(this._ref.storage,this._ref._location,s,this._blob),T=this._ref.storage._makeRequest(v,vs,l,f);this._request=T,T.getPromise().then(O=>{O=O,this._request=void 0,this._updateProgress(O.current),this._needToFetchStatus=!1,O.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const s=262144*this._chunkMultiplier,l=new b(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((v,T)=>{let O;try{O=function Dn(u,s,l,f,v,T,O,Z){const oe=new b(0,0);if(O?(oe.current=O.current,oe.total=O.total):(oe.current=0,oe.total=f.size()),f.size()!==oe.total)throw function Ie(){return new ur("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const xe=oe.total-oe.current;let pt=xe;v>0&&(pt=Math.min(pt,v));const bt=oe.current,Sn={"X-Goog-Upload-Command":pt===xe?"upload, finalize":"upload","X-Goog-Upload-Offset":`${oe.current}`},kr=f.slice(bt,bt+pt);if(null===kr)throw ht();const Ls=new Hn(l,"POST",function Wr(ao,yl){const $c=j(ao,["active","final"]),Np=oe.current+pt,Ds=f.size();let Eh;return Eh="final"===$c?ci(s,T)(ao,yl):null,new b(Np,Ds,"final"===$c,Eh)},s.maxUploadRetryTime);return Ls.headers=Sn,Ls.body=kr.uploadData(),Ls.progressCallback=Z||null,Ls.errorHandler=ts(u),Ls}(this._ref._location,this._ref.storage,f,this._blob,s,this._mappings,l,this._makeProgressCallback())}catch(oe){return this._error=oe,void this._transition("error")}const Z=this._ref.storage._makeRequest(O,vs,v,T);this._request=Z,Z.getPromise().then(oe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(oe.current),oe.finalized?(this._metadata=oe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((s,l)=>{const f=kn(this._ref.storage,this._ref._location,this._mappings),v=this._ref.storage._makeRequest(f,vs,s,l);this._request=v,v.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((s,l)=>{const f=function N(u,s,l,f,v){const T=s.bucketOnlyServerUrl(),O={"X-Goog-Upload-Protocol":"multipart"},oe=function Z(){let Ls="";for(let ao=0;ao<2;ao++)Ls+=Math.random().toString().slice(2);return Ls}();O["Content-Type"]="multipart/related; boundary="+oe;const xe=E(s,f,v),pt=It(xe,l),mn=ii.getBlob("--"+oe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pt+"\r\n--"+oe+"\r\nContent-Type: "+xe.contentType+"\r\n\r\n",f,"\r\n--"+oe+"--");if(null===mn)throw ht();const Sn={name:xe.fullPath},kr=fr(T,u.host,u._protocol),To=u.maxUploadRetryTime,Xs=new Hn(kr,"POST",ci(u,l),To);return Xs.urlParams=Sn,Xs.headers=O,Xs.body=mn.uploadData(),Xs.errorHandler=ts(s),Xs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),v=this._ref.storage._makeRequest(f,vs,s,l);this._request=v,v.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(s){const l=this._transferred;this._transferred=s,this._transferred!==l&&this._notifyObservers()}_transition(s){if(this._state!==s)switch(s){case"canceling":case"pausing":this._state=s,void 0!==this._request&&this._request.cancel();break;case"running":const l="paused"===this._state;this._state=s,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=s,this._notifyObservers();break;case"canceled":this._error=gi(),this._state=s,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const s=Wi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:s,metadata:this._metadata,task:this,ref:this._ref}}on(s,l,f,v){const T=new qi(l||void 0,f||void 0,v||void 0);return this._addObserver(T),()=>{this._removeObserver(T)}}then(s,l){return this._promise.then(s,l)}catch(s){return this.then(null,s)}_addObserver(s){this._observers.push(s),this._notifyObserver(s)}_removeObserver(s){const l=this._observers.indexOf(s);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let s=!0;switch(Wi(this._state)){case Zn.SUCCESS:Ti(this._resolve.bind(null,this.snapshot))();break;case Zn.CANCELED:case Zn.ERROR:Ti(this._reject.bind(null,this._error))();break;default:s=!1}s&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(s){switch(Wi(this._state)){case Zn.RUNNING:case Zn.PAUSED:s.next&&Ti(s.next.bind(s,this.snapshot))();break;case Zn.SUCCESS:s.complete&&Ti(s.complete.bind(s))();break;default:s.error&&Ti(s.error.bind(s,this._error))()}}resume(){const s="paused"===this._state||"pausing"===this._state;return s&&this._transition("running"),s}pause(){const s="running"===this._state;return s&&this._transition("pausing"),s}cancel(){const s="running"===this._state||"pausing"===this._state;return s&&this._transition("canceling"),s}}class mo{constructor(s,l){this._service=s,this._location=l instanceof En?l:En.makeFromUrl(l,s.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(s,l){return new mo(s,l)}get root(){const s=new En(this._location.bucket,"");return this._newRef(this._service,s)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vs(this._location.path)}get storage(){return this._service}get parent(){const s=function $i(u){if(0===u.length)return null;const s=u.lastIndexOf("/");return-1===s?"":u.slice(0,s)}(this._location.path);if(null===s)return null;const l=new En(this._location.bucket,s);return new mo(this._service,l)}_throwIfRoot(s){if(""===this._location.path)throw Mt(s)}}function xa(u,s,l){return Po.apply(this,arguments)}function Po(){return(Po=(0,zt.Z)(function*(u,s,l){const v=yield wl(u,{pageToken:l});s.prefixes.push(...v.prefixes),s.items.push(...v.items),null!=v.nextPageToken&&(yield xa(u,s,v.nextPageToken))})).apply(this,arguments)}function wl(u,s){null!=s&&"number"==typeof s.maxResults&&yn("options.maxResults",1,1e3,s.maxResults);const l=s||{},f=ji(u.storage,u._location,"/",l.pageToken,l.maxResults);return u.storage.makeRequestWithTokens(f,vs)}function Cl(u){u._throwIfRoot("getDownloadURL");const s=function V(u,s,l){const v=fr(s.fullServerUrl(),u.host,u._protocol),O=u.maxOperationRetryTime,Z=new Hn(v,"GET",function Jr(u,s){return function l(f,v){const T=ce(u,v,s);return ir(null!==T),function Ke(u,s,l,f){const v=co(s);if(null===v||!yt(v.downloadTokens))return null;const T=v.downloadTokens;if(0===T.length)return null;const O=encodeURIComponent;return T.split(",").map(xe=>{const bt=u.fullPath;return fr("/b/"+O(u.bucket)+"/o/"+O(bt),l,f)+ti({alt:"media",token:xe})})[0]}(T,v,u.host,u._protocol)}}(u,l),O);return Z.errorHandler=ns(s),Z}(u.storage,u._location,U());return u.storage.makeRequestWithTokens(s,vs).then(l=>{if(null===l)throw function Le(){return new ur("no-download-url","The given file does not have any download URLs.")}();return l})}function Ka(u,s){const l=function xs(u,s){const l=s.split("/").filter(f=>f.length>0).join("/");return 0===u.length?l:u+"/"+l}(u._location.path,s),f=new En(u._location.bucket,l);return new mo(u.storage,f)}function Hi(u,s){if(u instanceof zc){const l=u;if(null==l._bucket)throw function Qe(){return new ur("no-default-bucket","No default bucket found. Did you set the '"+lr+"' property when initializing the app?")}();const f=new mo(l,l._bucket);return null!=s?Hi(f,s):f}return void 0!==s?Ka(u,s):u}function ec(u,s){if(s&&function Rs(u){return/^[A-Za-z]+:\/\//.test(u)}(s)){if(u instanceof zc)return function No(u,s){return new mo(u,s)}(u,s);throw ot("To use ref(service, url), the first argument must be a Storage instance.")}return Hi(u,s)}function Ya(u,s){const l=null==s?void 0:s[lr];return null==l?null:En.makeFromBucketSpec(l,u)}class zc{constructor(s,l,f,v,T){this.app=s,this._authProvider=l,this._appCheckProvider=f,this._url=v,this._firebaseVersion=T,this._bucket=null,this._host=jr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=v?En.makeFromBucketSpec(v,this._host):Ya(this._host,this.app.options)}get host(){return this._host}set host(s){this._host=s,this._bucket=null!=this._url?En.makeFromBucketSpec(this._url,s):Ya(s,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(s){yn("time",0,Number.POSITIVE_INFINITY,s),this._maxUploadRetryTime=s}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(s){yn("time",0,Number.POSITIVE_INFINITY,s),this._maxOperationRetryTime=s}_getAuthToken(){var s=this;return(0,zt.Z)(function*(){if(s._overrideAuthToken)return s._overrideAuthToken;const l=s._authProvider.getImmediate({optional:!0});if(l){const f=yield l.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var s=this;return(0,zt.Z)(function*(){const l=s._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(s=>s.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(s){return new mo(this,s)}_makeRequest(s,l,f,v){if(this._deleted)return new jn(kt());{const T=function zs(u,s,l,f,v,T){const O=ti(u.urlParams),Z=u.url+O,oe=Object.assign({},u.headers);return function uo(u,s){s&&(u["X-Firebase-GMPID"]=s)}(oe,s),function es(u,s){null!==s&&s.length>0&&(u.Authorization="Firebase "+s)}(oe,l),function xo(u,s){u["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager")}(oe,T),function Ts(u,s){null!==s&&(u["X-Firebase-AppCheck"]=s)}(oe,f),new Qs(Z,u.method,oe,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,v)}(s,this._appId,f,v,l,this._firebaseVersion);return this._requests.add(T),T.getPromise().then(()=>this._requests.delete(T),()=>this._requests.delete(T)),T}}makeRequestWithTokens(s,l){var f=this;return(0,zt.Z)(function*(){const[v,T]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(s,l,v,T).getPromise()})()}}const Ma="@firebase/storage";function yo(u,s){return ec(u=(0,pe.m9)(u),s)}function Fo(u,{instanceIdentifier:s}){const l=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),v=u.getProvider("app-check-internal");return new zc(l,f,v,s,un.SDK_VERSION)}!function wu(){(0,un._registerComponent)(new xr.wA("storage",Fo,"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(Ma,"0.9.6",""),(0,un.registerVersion)(Ma,"0.9.6","esm2017")}();class Ks{constructor(s,l,f){this._delegate=s,this.task=l,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Al{constructor(s,l){this._delegate=s,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ks(this._delegate.snapshot,this,this._ref)}then(s,l){return this._delegate.then(f=>{if(s)return s(new Ks(f,this,this._ref))},l)}on(s,l,f,v){let T;return l&&(T="function"==typeof l?O=>l(new Ks(O,this,this._ref)):{next:l.next?O=>l.next(new Ks(O,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(s,T,f||void 0,v||void 0)}}class Jo{constructor(s,l){this._delegate=s,this._service=l}get prefixes(){return this._delegate.prefixes.map(s=>new bs(s,this._service))}get items(){return this._delegate.items.map(s=>new bs(s,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bs{constructor(s,l){this._delegate=s,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(s){const l=function ha(u,s){return Ka(u,s)}(this._delegate,s);return new bs(l,this.storage)}get root(){return new bs(this._delegate.root,this.storage)}get parent(){const s=this._delegate.parent;return null==s?null:new bs(s,this.storage)}put(s,l){return this._throwIfRoot("put"),new Al(function fs(u,s,l){return function bl(u,s,l){return u._throwIfRoot("uploadBytesResumable"),new Ki(u,new ii(s),l)}(u=(0,pe.m9)(u),s,l)}(this._delegate,s,l),this)}putString(s,l=Ei.RAW,f){this._throwIfRoot("putString");const v=Mo(l,s),T=Object.assign({},f);return null==T.contentType&&null!=v.contentType&&(T.contentType=v.contentType),new Al(new Ki(this._delegate,new ii(v.data,!0),T),this)}listAll(){return function Xo(u){return function qa(u){const s={prefixes:[],items:[]};return xa(u,s).then(()=>s)}(u=(0,pe.m9)(u))}(this._delegate).then(s=>new Jo(s,this.storage))}list(s){return function Es(u,s){return wl(u=(0,pe.m9)(u),s)}(this._delegate,s||void 0).then(l=>new Jo(l,this.storage))}getMetadata(){return function Sl(u){return function Ws(u){u._throwIfRoot("getMetadata");const s=kn(u.storage,u._location,U());return u.storage.makeRequestWithTokens(s,vs)}(u=(0,pe.m9)(u))}(this._delegate)}updateMetadata(s){return function Zo(u,s){return function Il(u,s){u._throwIfRoot("updateMetadata");const l=function F(u,s,l,f){const T=fr(s.fullServerUrl(),u.host,u._protocol),Z=It(l,f),xe=u.maxOperationRetryTime,pt=new Hn(T,"PATCH",ci(u,f),xe);return pt.headers={"Content-Type":"application/json; charset=utf-8"},pt.body=Z,pt.errorHandler=ns(s),pt}(u.storage,u._location,s,U());return u.storage.makeRequestWithTokens(l,vs)}(u=(0,pe.m9)(u),s)}(this._delegate,s)}getDownloadURL(){return function Oa(u){return Cl(u=(0,pe.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Qo(u){return function Dl(u){u._throwIfRoot("deleteObject");const s=function ae(u,s){const f=fr(s.fullServerUrl(),u.host,u._protocol),Z=new Hn(f,"DELETE",function O(oe,xe){},u.maxOperationRetryTime);return Z.successCodes=[200,204],Z.errorHandler=ns(s),Z}(u.storage,u._location);return u.storage.makeRequestWithTokens(s,vs)}(u=(0,pe.m9)(u))}(this._delegate)}_throwIfRoot(s){if(""===this._delegate._location.path)throw Mt(s)}}class xl{constructor(s,l){this.app=s,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(s){if(Ni(s))throw ot("ref() expected a child path but got a URL, use refFromURL instead.");return new bs(yo(this._delegate,s),this)}refFromURL(s){if(!Ni(s))throw ot("refFromURL() expected a full URL but got a child path, use ref() instead.");try{En.makeFromUrl(s,this._delegate.host)}catch(l){throw ot("refFromUrl() expected a valid full URL but got an invalid one.")}return new bs(yo(this._delegate,s),this)}setMaxUploadRetryTime(s){this._delegate.maxUploadRetryTime=s}setMaxOperationRetryTime(s){this._delegate.maxOperationRetryTime=s}useEmulator(s,l,f={}){!function _o(u,s,l,f={}){!function tc(u,s,l,f={}){u.host=`${s}:${l}`,u._protocol="http";const{mockUserToken:v}=f;v&&(u._overrideAuthToken="string"==typeof v?v:(0,pe.Sg)(v,u.app.options.projectId))}(u,s,l,f)}(this._delegate,s,l,f)}}function Ni(u){return/^[A-Za-z]+:\/\//.test(u)}function ps(u,{instanceIdentifier:s}){const l=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:s});return new xl(l,f)}!function pa(u){const s={TaskState:Zn,TaskEvent:cr,StringFormat:Ei,Storage:xl,Reference:bs};u.INTERNAL.registerComponent(new xr.wA("storage-compat",ps,"PUBLIC").setServiceProps(s).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.14")}(Ir.Z);var ea=L(440),Ml=L(127);function tn(u){const s=function Na(u){return new Li.y(s=>{const l=O=>s.next(O);l(u.snapshot);const T=u.on("state_changed",l);return u.then(O=>{l(O),s.complete()},O=>{l(u.snapshot),(O=>{s.error(O)})(O)}),function(){T()}}).pipe(function pi(u,s=Lr.P){return l=>l.lift(new Bi(u,s))}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>s,percentageChanges:()=>s.pipe((0,ri.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function mi(u){return{getDownloadURL:()=>(0,Or.of)(void 0).pipe(ar.fc,(0,Br.w)(()=>u.getDownloadURL()),ar.iC),getMetadata:()=>(0,Or.of)(void 0).pipe(ar.fc,(0,Br.w)(()=>u.getMetadata()),ar.iC),delete:()=>(0,Gr.D)(u.delete()),child:s=>mi(u.child(s)),updateMetadata:s=>(0,Gr.D)(u.updateMetadata(s)),put:(s,l)=>tn(u.put(s,l)),putString:(s,l,f)=>tn(u.putString(s,l,f)),list:s=>(0,Gr.D)(u.list(s)),listAll:()=>(0,Gr.D)(u.listAll())}}const vo=new X.OlP("angularfire2.storageBucket"),Os=new X.OlP("angularfire2.storage.maxUploadRetryTime"),Pn=new X.OlP("angularfire2.storage.maxOperationRetryTime"),Jn=new X.OlP("angularfire2.storage.use-emulator");let R=(()=>{class u{constructor(l,f,v,T,O,Z,oe,xe,pt,bt){const Nt=(0,fi.on)(l,O,f);this.storage=(0,fi.cc)(`${Nt.name}.storage.${v}`,"AngularFireStorage",Nt.name,()=>{const mn=O.runOutsideAngular(()=>Nt.storage(v||void 0)),Sn=pt;return Sn&&mn.useEmulator(...Sn),oe&&mn.setMaxUploadRetryTime(oe),xe&&mn.setMaxOperationRetryTime(xe),mn},[oe,xe])}ref(l){return mi(this.storage.ref(l))}refFromURL(l){return mi(this.storage.refFromURL(l))}upload(l,f,v){return mi(this.storage.ref(l)).put(f,v)}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(fi.Dh),X.LFG(fi.xv,8),X.LFG(vo,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(ar.HU),X.LFG(Os,8),X.LFG(Pn,8),X.LFG(Jn,8),X.LFG(ea.nm,8))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),w=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=X.oAB({type:u}),u.\u0275inj=X.cJS({}),u})(),M=(()=>{class u{constructor(){Ml.Z.registerVersion("angularfire",ar.q4.full,"gcs-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=X.oAB({type:u}),u.\u0275inj=X.cJS({providers:[R],imports:[w]}),u})();var z=L(6787),ue=L(2474),Pe=L(2014),Je=L(5778),Bt=L(826),xn=L(448);class Bn{constructor(s,l){this.observables=s,this.project=l}call(s,l){return l.subscribe(new Yr(s,this.observables,this.project))}}class Yr extends Bt.L{constructor(s,l,f){super(s),this.observables=l,this.project=f,this.toRespond=[];const v=l.length;this.values=new Array(v);for(let T=0;T<v;T++)this.toRespond.push(T);for(let T=0;T<v;T++)this.add((0,xn.D)(this,l[T],void 0,T))}notifyNext(s,l,f){this.values[f]=l;const v=this.toRespond;if(v.length>0){const T=v.indexOf(f);-1!==T&&v.splice(T,1)}}notifyComplete(){}_next(s){if(0===this.toRespond.length){const l=[s,...this.values];this.project?this._tryProject(l):this.destination.next(l)}}_tryProject(s){let l;try{l=this.project.apply(this,s)}catch(f){return void this.destination.error(f)}this.destination.next(l)}}class yi{constructor(s){this.predicate=s}call(s,l){return l.subscribe(new eo(s,this.predicate))}}class eo extends Vn.L{constructor(s,l){super(s),this.predicate=l,this.skipping=!0,this.index=0}_next(s){const l=this.destination;this.skipping&&this.tryCallPredicate(s),this.skipping||l.next(s)}tryCallPredicate(s){try{const l=this.predicate(s,this.index++);this.skipping=Boolean(l)}catch(l){this.destination.error(l)}}}L(8775);var sr=L(1877);const to="@firebase/database";let gs="";function Xn(u){gs=u}class ds{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,l){null==l?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,pe.Pz)(l))}get(s){const l=this.domStorage_.getItem(this.prefixedName_(s));return null==l?null:(0,pe.cI)(l)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class zl{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,l){null==l?delete this.cache_[s]:this.cache_[s]=l}get(s){return(0,pe.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const Ch=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){const s=window[u];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new ds(s)}}catch(s){}return new zl},ka=Ch("localStorage"),Xr=Ch("sessionStorage"),Wl=new sr.Yd("@firebase/database"),ws=function(){let u=1;return function(){return u++}}(),ql=function(u){const s=(0,pe.dS)(u),l=new pe.gQ;l.update(s);const f=l.digest();return pe.US.encodeByteArray(f)},Fa=function(...u){let s="";for(let l=0;l<u.length;l++){const f=u[l];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?s+=Fa.apply(null,f):s+="object"==typeof f?(0,pe.Pz)(f):f,s+=" "}return s};let is=null,ms=!0;const Ho=function(u,s){(0,pe.hu)(!s||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Wl.logLevel=sr.in.VERBOSE,is=Wl.log.bind(Wl),s&&Xr.set("logging_enabled",!0)):"function"==typeof u?is=u:(is=null,Xr.remove("logging_enabled"))},vr=function(...u){if(!0===ms&&(ms=!1,null===is&&!0===Xr.get("logging_enabled")&&Ho(!0)),is){const s=Fa.apply(null,u);is(s)}},ya=function(u){return function(...s){vr(u,...s)}},La=function(...u){const s="FIREBASE INTERNAL ERROR: "+Fa(...u);Wl.error(s)},ss=function(...u){const s=`FIREBASE FATAL ERROR: ${Fa(...u)}`;throw Wl.error(s),new Error(s)},ni=function(...u){const s="FIREBASE WARNING: "+Fa(...u);Wl.warn(s)},Us=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Ys="[MIN_NAME]",Eo="[MAX_NAME]",fn=function(u,s){if(u===s)return 0;if(u===Ys||s===Eo)return-1;if(s===Ys||u===Eo)return 1;{const l=Ja(u),f=Ja(s);return null!==l?null!==f?l-f==0?u.length-s.length:l-f:-1:null!==f?1:u<s?-1:1}},Qa=function(u,s){return u===s?0:u<s?-1:1},Ol=function(u,s){if(s&&u in s)return s[u];throw new Error("Missing required key ("+u+") in object: "+(0,pe.Pz)(s))},_a=function(u){if("object"!=typeof u||null===u)return(0,pe.Pz)(u);const s=[];for(const f in u)s.push(f);s.sort();let l="{";for(let f=0;f<s.length;f++)0!==f&&(l+=","),l+=(0,pe.Pz)(s[f]),l+=":",l+=_a(u[s[f]]);return l+="}",l},Si=function(u,s){const l=u.length;if(l<=s)return[u];const f=[];for(let v=0;v<l;v+=s)f.push(u.substring(v,v+s>l?l:v+s));return f};function ki(u,s){for(const l in u)u.hasOwnProperty(l)&&s(l,u[l])}const ho=function(u){(0,pe.hu)(!Us(u),"Invalid JSON number");const f=1023;let v,T,O,Z,oe;0===u?(T=0,O=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-f)?(Z=Math.min(Math.floor(Math.log(u)/Math.LN2),f),T=Z+f,O=Math.round(u*Math.pow(2,52-Z)-Math.pow(2,52))):(T=0,O=Math.round(u/Math.pow(2,-1074))));const xe=[];for(oe=52;oe;oe-=1)xe.push(O%2?1:0),O=Math.floor(O/2);for(oe=11;oe;oe-=1)xe.push(T%2?1:0),T=Math.floor(T/2);xe.push(v?1:0),xe.reverse();const pt=xe.join("");let bt="";for(oe=0;oe<64;oe+=8){let Nt=parseInt(pt.substr(oe,8),2).toString(16);1===Nt.length&&(Nt="0"+Nt),bt+=Nt}return bt.toLowerCase()},Bo=new RegExp("^-?(0*)\\d{1,10}$"),Kl=-2147483648,Yl=2147483647,Ja=function(u){if(Bo.test(u)){const s=Number(u);if(s>=Kl&&s<=Yl)return s}return null},va=function(u){try{u()}catch(s){setTimeout(()=>{throw ni("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},fo=function(u,s){const l=setTimeout(u,s);return"object"==typeof l&&l.unref&&l.unref(),l};class B{constructor(s,l){this.appName_=s,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(f=>this.appCheck=f)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((l,f)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(l,f):l(null)},0)})}addTokenChangeListener(s){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(f=>f.addTokenListener(s))}notifyForInvalidToken(){ni(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class G{constructor(s,l,f){this.appName_=s,this.firebaseOptions_=l,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(v=>this.auth_=v)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(l=>l&&"auth/token-not-initialized"===l.code?(vr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,f)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(l,f):l(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(l=>l.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(l=>l.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ni(s)}}let le=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const or=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ei="websocket",Ps="long_polling";class el{constructor(s,l,f,v,T=!1,O="",Z=!1){this.secure=l,this.namespace=f,this.webSocketOnly=v,this.nodeAdmin=T,this.persistenceKey=O,this.includeNamespaceInQueryParams=Z,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ka.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&ka.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function na(u,s,l){let f;if((0,pe.hu)("string"==typeof s,"typeof type must == string"),(0,pe.hu)("object"==typeof l,"typeof params must == object"),s===ei)f=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(s!==Ps)throw new Error("Unknown connection type: "+s);f=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function po(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const v=[];return ki(l,(T,O)=>{v.push(T+"="+O)}),f+v.join("&")}class bi{constructor(){this.counters_={}}incrementCounter(s,l=1){(0,pe.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=l}get(){return(0,pe.p$)(this.counters_)}}const ra={},ys={};function oi(u){const s=u.toString();return ra[s]||(ra[s]=new bi),ra[s]}class Ql{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,l){this.closeAfterResponse=s,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,l){for(this.pendingResponses[s]=l;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<f.length;++v)f[v]&&va(()=>{this.onMessage_(f[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class eu{constructor(s,l,f,v,T,O,Z){this.connId=s,this.repoInfo=l,this.applicationId=f,this.appCheckToken=v,this.authToken=T,this.transportSessionId=O,this.lastSessionId=Z,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ya(s),this.stats_=oi(l),this.urlFn=oe=>(this.appCheckToken&&(oe.ac=this.appCheckToken),na(l,Ps,oe))}open(s,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Ql(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,pe.Yr)()||"complete"===document.readyState)u();else{let s=!1;const l=function(){document.body?s||(s=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ia((...T)=>{const[O,Z,oe,xe,pt]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===O)this.id=Z,this.password=oe;else{if("close"!==O)throw new Error("Unrecognized command received: "+O);Z?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Z,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[O,Z]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(O,Z)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&or.test(location.hostname)&&(f.r="f");const v=this.urlFn(f);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eu.forceAllow_=!0}static forceDisallow(){eu.forceDisallow_=!0}static isAvailable(){return!((0,pe.Yr)()||!eu.forceAllow_&&(eu.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const l=(0,pe.Pz)(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=(0,pe.h$)(l),v=Si(f,1840);for(let T=0;T<v.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[T]),this.curSegmentNum++}addDisconnectPingFrame(s,l){if((0,pe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=s,f.pw=l,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const l=(0,pe.Pz)(s).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class ia{constructor(s,l,f,v){if(this.onDisconnect=f,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,pe.Yr)())this.commandCB=s,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=ws(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=ia.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const O="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(O),this.myIFrame.doc.close()}catch(Z){vr("frame writing exception"),Z.stack&&vr(Z.stack),vr(Z)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||vr("No IE domain setting required")}catch(l){const f=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,l){for(this.myID=s,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let l=this.urlFn(s),f="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const O=this.pendingSegs.shift();f=f+"&seg"+v+"="+O.seg+"&ts"+v+"="+O.ts+"&d"+v+"="+O.d,v++}return l+=f,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(s,l,f){this.pendingSegs.push({seg:s,ts:l,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(s,l){this.outstandingRequests.add(l);const f=()=>{this.outstandingRequests.delete(l),this.newRequest_()},v=setTimeout(f,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(v),f()})}addTag(s,l){(0,pe.Yr)()?this.doNodeLongPoll(s,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=s,f.onload=f.onreadystatechange=function(){const v=f.readyState;(!v||"loaded"===v||"complete"===v)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),l())},f.onerror=()=>{vr("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch(f){}},Math.floor(1))}}let qc=null;"undefined"!=typeof MozWebSocket?qc=MozWebSocket:"undefined"!=typeof WebSocket&&(qc=WebSocket);let Tu=(()=>{class u{constructor(l,f,v,T,O,Z,oe){this.connId=l,this.applicationId=v,this.appCheckToken=T,this.authToken=O,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ya(this.connId),this.stats_=oi(f),this.connURL=u.connectionURL_(f,Z,oe,T,v),this.nodeAdmin=f.nodeAdmin}static connectionURL_(l,f,v,T,O){const Z={v:"5"};return!(0,pe.Yr)()&&"undefined"!=typeof location&&location.hostname&&or.test(location.hostname)&&(Z.r="f"),f&&(Z.s=f),v&&(Z.ls=v),T&&(Z.ac=T),O&&(Z.p=O),na(l,ei,Z)}open(l,f){this.onDisconnect=f,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ka.set("previous_websocket_failure",!0);try{let v;if((0,pe.Yr)()){const O={headers:{"User-Agent":`Firebase/5/${gs}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(O.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(O.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Z=process.env,oe=0===this.connURL.indexOf("wss://")?Z.HTTPS_PROXY||Z.https_proxy:Z.HTTP_PROXY||Z.http_proxy;oe&&(O.proxy={origin:oe})}this.mySock=new qc(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const T=v.message||v.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const T=v.message||v.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(l=!0)}return!l&&null!==qc&&!u.forceDisallow_}static previouslyFailed(){return ka.isInMemoryStorage||!0===ka.get("previous_websocket_failure")}markConnectionHealthy(){ka.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const v=(0,pe.cI)(f);this.onMessage(v)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,pe.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const f=Number(l);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const f=l.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const v=this.extractFrameCount_(f);null!==v&&this.appendFrame_(v)}}send(l){this.resetKeepAlive();const f=(0,pe.Pz)(l);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const v=Si(f,16384);v.length>1&&this.sendString_(String(v.length));for(let T=0;T<v.length;T++)this.sendString_(v[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Nl=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[eu,Tu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const f=Tu&&Tu.isAvailable();let v=f&&!Tu.previouslyFailed();if(l.webSocketOnly&&(f||ni("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[Tu];else{const T=this.transports_=[];for(const O of u.ALL_TRANSPORTS)O&&O.isAvailable()&&T.push(O);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class kd{constructor(s,l,f,v,T,O,Z,oe,xe,pt){this.id=s,this.repoInfo_=l,this.applicationId_=f,this.appCheckToken_=v,this.authToken_=T,this.onMessage_=O,this.onReady_=Z,this.onDisconnect_=oe,this.onKill_=xe,this.lastSessionId=pt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ya("c:"+this.id+":"),this.transportManager_=new Nl(l),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,f)},Math.floor(0));const v=s.healthyTimeout||0;v>0&&(this.healthyTimeout_=fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return l=>{s===this.conn_?this.onConnectionLost_(l):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return l=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(l):s===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const l=s.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const l=Ol("t",s),f=Ol("d",s);if("c"===l)this.onSecondaryControl_(f);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const l=Ol("t",s),f=Ol("d",s);"c"===l?this.onControl_(f):"d"===l&&this.onDataMessage_(f)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const l=Ol("t",s);if("d"in s){const f=s.d;if("h"===l)this.onHandshake_(f);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(f):"r"===l?this.onReset_(f):"e"===l?La("Server Error: "+f):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):La("Unknown control packet command: "+l)}}onHandshake_(s){const l=s.ts,f=s.v,v=s.h;this.sessionId=s.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==f&&ni("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,f),fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,l){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wp{put(s,l,f,v){}merge(s,l,f,v){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,l,f){}onDisconnectMerge(s,l,f){}onDisconnectCancel(s,l){}reportStats(s){}}class xh{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,pe.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...l){if(Array.isArray(this.listeners_[s])){const f=[...this.listeners_[s]];for(let v=0;v<f.length;v++)f[v].callback.apply(f[v].context,l)}}on(s,l,f){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:l,context:f});const v=this.getInitialEvent(s);v&&l.apply(f,v)}off(s,l,f){this.validateEventType_(s);const v=this.listeners_[s]||[];for(let T=0;T<v.length;T++)if(v[T].callback===l&&(!f||f===v[T].context))return void v.splice(T,1)}validateEventType_(s){(0,pe.hu)(this.allowedEvents_.find(l=>l===s),"Unknown event: "+s)}}class Fd extends xh{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,pe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fd}getInitialEvent(s){return(0,pe.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class wi{constructor(s,l){if(void 0===l){this.pieces_=s.split("/");let f=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[f]=this.pieces_[v],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=l}toString(){let s="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(s+="/"+this.pieces_[l]);return s||"/"}}function di(){return new wi("")}function Hr(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function sa(u){return u.pieces_.length-u.pieceNum_}function _i(u){let s=u.pieceNum_;return s<u.pieces_.length&&s++,new wi(u.pieces_,s)}function Mh(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Su(u,s=0){return u.pieces_.slice(u.pieceNum_+s)}function wo(u){if(u.pieceNum_>=u.pieces_.length)return null;const s=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)s.push(u.pieces_[l]);return new wi(s,0)}function Ii(u,s){const l=[];for(let f=u.pieceNum_;f<u.pieces_.length;f++)l.push(u.pieces_[f]);if(s instanceof wi)for(let f=s.pieceNum_;f<s.pieces_.length;f++)l.push(s.pieces_[f]);else{const f=s.split("/");for(let v=0;v<f.length;v++)f[v].length>0&&l.push(f[v])}return new wi(l,0)}function Ur(u){return u.pieceNum_>=u.pieces_.length}function Ns(u,s){const l=Hr(u),f=Hr(s);if(null===l)return s;if(l===f)return Ns(_i(u),_i(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+u+")")}function Af(u,s){const l=Su(u,0),f=Su(s,0);for(let v=0;v<l.length&&v<f.length;v++){const T=fn(l[v],f[v]);if(0!==T)return T}return l.length===f.length?0:l.length<f.length?-1:1}function xf(u,s){if(sa(u)!==sa(s))return!1;for(let l=u.pieceNum_,f=s.pieceNum_;l<=u.pieces_.length;l++,f++)if(u.pieces_[l]!==s.pieces_[f])return!1;return!0}function vi(u,s){let l=u.pieceNum_,f=s.pieceNum_;if(sa(u)>sa(s))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==s.pieces_[f])return!1;++l,++f}return!0}class Rh{constructor(s,l){this.errorPrefix_=l,this.parts_=Su(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,pe.ug)(this.parts_[f]);cc(this)}}function cc(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+dc(u))}function dc(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Oh extends xh{constructor(){let s,l;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(l="visibilitychange",s="hidden"):void 0!==document.mozHidden?(l="mozvisibilitychange",s="mozHidden"):void 0!==document.msHidden?(l="msvisibilitychange",s="msHidden"):void 0!==document.webkitHidden&&(l="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const f=!document[s];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new Oh}getInitialEvent(s){return(0,pe.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const Au=1e3;let Jc,kl=(()=>{class u extends Wp{constructor(l,f,v,T,O,Z,oe,xe){if(super(),this.repoInfo_=l,this.applicationId_=f,this.onDataUpdate_=v,this.onConnectStatus_=T,this.onServerInfoUpdate_=O,this.authTokenProvider_=Z,this.appCheckTokenProvider_=oe,this.authOverride_=xe,this.id=u.nextPersistentConnectionId_++,this.log_=ya("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Au,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,xe&&!(0,pe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oh.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&Fd.getInstance().on("online",this.onOnline_,this)}sendRequest(l,f,v){const T=++this.requestNumber_,O={r:T,a:l,b:f};this.log_((0,pe.Pz)(O)),(0,pe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(O),v&&(this.requestCBHash_[T]=v)}get(l){this.initConnection_();const f=new pe.BH,v={p:l._path.toString(),q:l._queryObject},T={action:"g",request:v,onComplete:Z=>{const oe=Z.d;"ok"===Z.s?(this.onDataUpdate_(v.p,oe,!1,null),f.resolve(oe)):f.reject(oe)}};this.outstandingGets_.push(T),this.outstandingGetCount_++;const O=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const Z=this.outstandingGets_[O];void 0===Z||T!==Z||(delete this.outstandingGets_[O],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+O+" timed out on connection"),f.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(O),f.promise}listen(l,f,v,T){this.initConnection_();const O=l._queryIdentifier,Z=l._path.toString();this.log_("Listen called for "+Z+" "+O),this.listens.has(Z)||this.listens.set(Z,new Map),(0,pe.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,pe.hu)(!this.listens.get(Z).has(O),"listen() called twice for same path/queryId.");const oe={onComplete:T,hashFn:f,query:l,tag:v};this.listens.get(Z).set(O,oe),this.connected_&&this.sendListen_(oe)}sendGet_(l){const f=this.outstandingGets_[l];this.sendRequest("g",f.request,v=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(v)})}sendListen_(l){const f=l.query,v=f._path.toString(),T=f._queryIdentifier;this.log_("Listen on "+v+" for "+T);const O={p:v};l.tag&&(O.q=f._queryObject,O.t=l.tag),O.h=l.hashFn(),this.sendRequest("q",O,oe=>{const xe=oe.d,pt=oe.s;u.warnOnListenWarnings_(xe,f),(this.listens.get(v)&&this.listens.get(v).get(T))===l&&(this.log_("listen response",oe),"ok"!==pt&&this.removeListen_(v,T),l.onComplete&&l.onComplete(pt,xe))})}static warnOnListenWarnings_(l,f){if(l&&"object"==typeof l&&(0,pe.r3)(l,"w")){const v=(0,pe.DV)(l,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const T='".indexOn": "'+f._queryParams.getIndex().toString()+'"',O=f._path.toString();ni(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${O} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,pe.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,f=(0,pe.w9)(l)?"auth":"gauth",v={cred:l};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(f,v,T=>{const O=T.s,Z=T.d||"error";this.authToken_===l&&("ok"===O?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(O,Z))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const f=l.s,v=l.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,v)})}unlisten(l,f){const v=l._path.toString(),T=l._queryIdentifier;this.log_("Unlisten called for "+v+" "+T),(0,pe.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,T)&&this.connected_&&this.sendUnlisten_(v,T,l._queryObject,f)}sendUnlisten_(l,f,v,T){this.log_("Unlisten on "+l+" for "+f);const O={p:l};T&&(O.q=v,O.t=T),this.sendRequest("n",O)}onDisconnectPut(l,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,f,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:f,onComplete:v})}onDisconnectMerge(l,f,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,f,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:f,onComplete:v})}onDisconnectCancel(l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,f):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(l,f,v,T){const O={p:f,d:v};this.log_("onDisconnect "+l,O),this.sendRequest(l,O,Z=>{T&&setTimeout(()=>{T(Z.s,Z.d)},Math.floor(0))})}put(l,f,v,T){this.putInternal("p",l,f,v,T)}merge(l,f,v,T){this.putInternal("m",l,f,v,T)}putInternal(l,f,v,T,O){this.initConnection_();const Z={p:f,d:v};void 0!==O&&(Z.h=O),this.outstandingPuts_.push({action:l,request:Z,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(l){const f=this.outstandingPuts_[l].action,v=this.outstandingPuts_[l].request,T=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(f,v,O=>{this.log_(f+" response",O),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(O.s,O.d)})}reportStats(l){if(this.connected_){const f={c:l};this.log_("reportStats",f),this.sendRequest("s",f,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,pe.Pz)(l));const f=l.r,v=this.requestCBHash_[f];v&&(delete this.requestCBHash_[f],v(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,f){this.log_("handleServerMessage",l,f),"d"===l?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===l?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===l?this.onListenRevoked_(f.p,f.q):"ac"===l?this.onAuthRevoked_(f.s,f.d):"apc"===l?this.onAppCheckRevoked_(f.s,f.d):"sd"===l?this.onSecurityDebugPacket_(f):La("Unrecognized action received from server: "+(0,pe.Pz)(l)+"\nAre you using the latest client?")}onReady_(l,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,pe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Au,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Au,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Au),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-l);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,zt.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const f=l.onDataMessage_.bind(l),v=l.onReady_.bind(l),T=l.onRealtimeDisconnect_.bind(l),O=l.id+":"+u.nextConnectionId_++,Z=l.lastSessionId;let oe=!1,xe=null;const pt=function(){xe?xe.close():(oe=!0,T())};l.realtime_={close:pt,sendRequest:function(mn){(0,pe.hu)(xe,"sendRequest call when we're not connected not allowed."),xe.sendRequest(mn)}};const Nt=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[mn,Sn]=yield Promise.all([l.authTokenProvider_.getToken(Nt),l.appCheckTokenProvider_.getToken(Nt)]);oe?vr("getToken() completed but was canceled"):(vr("getToken() completed. Creating connection."),l.authToken_=mn&&mn.accessToken,l.appCheckToken_=Sn&&Sn.token,xe=new kd(O,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,f,v,T,kr=>{ni(kr+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},Z))}catch(mn){l.log_("Failed to get token: "+mn),oe||(l.repoInfo_.nodeAdmin&&ni(mn),pt())}}})()}interrupt(l){vr("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){vr("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,pe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Au,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const f=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const f=this.outstandingPuts_[l];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,f){let v;v=f?f.map(O=>_a(O)).join("$"):"default";const T=this.removeListen_(l,v);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(l,f){const v=new wi(l).toString();let T;if(this.listens.has(v)){const O=this.listens.get(v);T=O.get(f),O.delete(f),0===O.size&&this.listens.delete(v)}else T=void 0;return T}onAuthRevoked_(l,f){vr("Auth token revoked: "+l+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,f){vr("App check token revoked: "+l+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const f of l.values())this.sendListen_(f);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let f="js";(0,pe.Yr)()&&(f=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+f+"."+gs.replace(/\./g,"-")]=1,(0,pe.uI)()?l["framework.cordova"]=1:(0,pe.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=Fd.getInstance().currentlyOnline();return(0,pe.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class Yn{constructor(s,l){this.name=s,this.node=l}static Wrap(s,l){return new Yn(s,l)}}class Wn{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,l){const f=new Yn(Ys,s),v=new Yn(Ys,l);return 0!==this.compare(f,v)}minPost(){return Yn.MIN}}class Nh extends Wn{static get __EMPTY_NODE(){return Jc}static set __EMPTY_NODE(s){Jc=s}compare(s,l){return fn(s.name,l.name)}isDefinedOn(s){throw(0,pe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,l){return!1}minPost(){return Yn.MIN}maxPost(){return new Yn(Eo,Jc)}makePost(s,l){return(0,pe.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new Yn(s,Jc)}toString(){return".key"}}const no=new Nh;class fc{constructor(s,l,f,v,T=null){this.isReverse_=v,this.resultGenerator_=T,this.nodeStack_=[];let O=1;for(;!s.isEmpty();)if(s=s,O=l?f(s.key,l):1,v&&(O*=-1),O<0)s=this.isReverse_?s.left:s.right;else{if(0===O){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,s=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Rf,ks=(()=>{class u{constructor(l,f,v,T,O){this.key=l,this.value=f,this.color=null!=v?v:u.RED,this.left=null!=T?T:Io.EMPTY_NODE,this.right=null!=O?O:Io.EMPTY_NODE}copy(l,f,v,T,O){return new u(null!=l?l:this.key,null!=f?f:this.value,null!=v?v:this.color,null!=T?T:this.left,null!=O?O:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,f,v){let T=this;const O=v(l,T.key);return T=O<0?T.copy(null,null,null,T.left.insert(l,f,v),null):0===O?T.copy(null,f,null,null,null):T.copy(null,null,null,null,T.right.insert(l,f,v)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return Io.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,f){let v,T;if(v=this,f(l,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(l,f),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===f(l,v.key)){if(v.right.isEmpty())return Io.EMPTY_NODE;T=v.right.min_(),v=v.copy(T.key,T.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(l,f))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,f)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Io{constructor(s,l=Io.EMPTY_NODE){this.comparator_=s,this.root_=l}insert(s,l){return new Io(this.comparator_,this.root_.insert(s,l,this.comparator_).copy(null,null,ks.BLACK,null,null))}remove(s){return new Io(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,ks.BLACK,null,null))}get(s){let l,f=this.root_;for(;!f.isEmpty();){if(l=this.comparator_(s,f.key),0===l)return f.value;l<0?f=f.left:l>0&&(f=f.right)}return null}getPredecessorKey(s){let l,f=this.root_,v=null;for(;!f.isEmpty();){if(l=this.comparator_(s,f.key),0===l){if(f.left.isEmpty())return v?v.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}l<0?f=f.left:l>0&&(v=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new fc(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,l){return new fc(this.root_,s,this.comparator_,!1,l)}getReverseIteratorFrom(s,l){return new fc(this.root_,s,this.comparator_,!0,l)}getReverseIterator(s){return new fc(this.root_,null,this.comparator_,!0,s)}}function ed(u,s){return fn(u.name,s.name)}function xu(u,s){return fn(u,s)}Io.EMPTY_NODE=new class qp{copy(s,l,f,v,T){return this}insert(s,l,f){return new ks(s,l,null)}remove(s,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pc=function(u){return"number"==typeof u?"number:"+ho(u):"string:"+u},ro=function(u){if(u.isLeafNode()){const s=u.val();(0,pe.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,pe.r3)(s,".sv"),"Priority must be a string or number.")}else(0,pe.hu)(u===Rf||u.isEmpty(),"priority of unexpected type.");(0,pe.hu)(u===Rf||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ru,Mu,Zs,Va=(()=>{class u{constructor(l,f=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=f,this.lazyHash_=null,(0,pe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ro(this.priorityNode_)}static set __childrenNodeConstructor(l){ru=l}static get __childrenNodeConstructor(){return ru}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return Ur(l)?this:".priority"===Hr(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,f){return null}updateImmediateChild(l,f){return".priority"===l?this.updatePriority(f):f.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,f).updatePriority(this.priorityNode_)}updateChild(l,f){const v=Hr(l);return null===v?f:f.isEmpty()&&".priority"!==v?this:((0,pe.hu)(".priority"!==v||1===sa(l),".priority must be the last token in a path"),this.updateImmediateChild(v,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(_i(l),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,f){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+pc(this.priorityNode_.val())+":");const f=typeof this.value_;l+=f+":",l+="number"===f?ho(this.value_):this.value_,this.lazyHash_=ql(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,pe.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const f=typeof l.value_,v=typeof this.value_,T=u.VALUE_TYPE_ORDER.indexOf(f),O=u.VALUE_TYPE_ORDER.indexOf(v);return(0,pe.hu)(T>=0,"Unknown leaf type: "+f),(0,pe.hu)(O>=0,"Unknown leaf type: "+v),T===O?"object"===v?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:O-T}withIndex(){return this}isIndexed(){return!0}equals(l){if(l===this)return!0;if(l.isLeafNode()){const f=l;return this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Fi=new class Kp extends Wn{compare(s,l){const f=s.node.getPriority(),v=l.node.getPriority(),T=f.compareTo(v);return 0===T?fn(s.name,l.name):T}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,l){return!s.getPriority().equals(l.getPriority())}minPost(){return Yn.MIN}maxPost(){return new Yn(Eo,new Va("[PRIORITY-POST]",Zs))}makePost(s,l){const f=Mu(s);return new Yn(l,new Va("[PRIORITY-POST]",f))}toString(){return".priority"}},kh=Math.log(2);class oa{constructor(s){this.count=parseInt(Math.log(s+1)/kh,10),this.current_=this.count-1;const v=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&v}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const Fl=function(u,s,l,f){u.sort(s);const v=function(oe,xe){const pt=xe-oe;let bt,Nt;if(0===pt)return null;if(1===pt)return bt=u[oe],Nt=l?l(bt):bt,new ks(Nt,bt.node,ks.BLACK,null,null);{const mn=parseInt(pt/2,10)+oe,Sn=v(oe,mn),kr=v(mn+1,xe);return bt=u[mn],Nt=l?l(bt):bt,new ks(Nt,bt.node,ks.BLACK,Sn,kr)}},Z=function(oe){let xe=null,pt=null,bt=u.length;const Nt=function(Sn,kr){const Wr=bt-Sn,To=bt;bt-=Sn;const Xs=v(Wr+1,To),Ls=u[Wr],ao=l?l(Ls):Ls;mn(new ks(ao,Ls.node,kr,null,Xs))},mn=function(Sn){xe?(xe.left=Sn,xe=Sn):(pt=Sn,xe=Sn)};for(let Sn=0;Sn<oe.count;++Sn){const kr=oe.nextBitIsOne(),Wr=Math.pow(2,oe.count-(Sn+1));kr?Nt(Wr,ks.BLACK):(Nt(Wr,ks.BLACK),Nt(Wr,ks.RED))}return pt}(new oa(u.length));return new Io(f||s,Z)};let Bd;const Ua={};class Ea{constructor(s,l){this.indexes_=s,this.indexSet_=l}static get Default(){return(0,pe.hu)(Ua&&Fi,"ChildrenNode.ts has not been loaded"),Bd=Bd||new Ea({".priority":Ua},{".priority":Fi}),Bd}get(s){const l=(0,pe.DV)(this.indexes_,s);if(!l)throw new Error("No index defined for "+s);return l instanceof Io?l:null}hasIndex(s){return(0,pe.r3)(this.indexSet_,s.toString())}addIndex(s,l){(0,pe.hu)(s!==no,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let v=!1;const T=l.getIterator(Yn.Wrap);let Z,O=T.getNext();for(;O;)v=v||s.isDefinedOn(O.node),f.push(O),O=T.getNext();Z=v?Fl(f,s.getCompare()):Ua;const oe=s.toString(),xe=Object.assign({},this.indexSet_);xe[oe]=s;const pt=Object.assign({},this.indexes_);return pt[oe]=Z,new Ea(pt,xe)}addToIndexes(s,l){const f=(0,pe.UI)(this.indexes_,(v,T)=>{const O=(0,pe.DV)(this.indexSet_,T);if((0,pe.hu)(O,"Missing index implementation for "+T),v===Ua){if(O.isDefinedOn(s.node)){const Z=[],oe=l.getIterator(Yn.Wrap);let xe=oe.getNext();for(;xe;)xe.name!==s.name&&Z.push(xe),xe=oe.getNext();return Z.push(s),Fl(Z,O.getCompare())}return Ua}{const Z=l.get(s.name);let oe=v;return Z&&(oe=oe.remove(new Yn(s.name,Z))),oe.insert(s,s.node)}});return new Ea(f,this.indexSet_)}removeFromIndexes(s,l){const f=(0,pe.UI)(this.indexes_,v=>{if(v===Ua)return v;{const T=l.get(s.name);return T?v.remove(new Yn(s.name,T)):v}});return new Ea(f,this.indexSet_)}}let Ru,Un=(()=>{class u{constructor(l,f,v){this.children_=l,this.priorityNode_=f,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&ro(this.priorityNode_),this.children_.isEmpty()&&(0,pe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ru||(Ru=new u(new Io(xu),null,Ea.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ru}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const f=this.children_.get(l);return null===f?Ru:f}}getChild(l){const f=Hr(l);return null===f?this:this.getImmediateChild(f).getChild(_i(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,f){if((0,pe.hu)(f,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(f);{const v=new Yn(l,f);let T,O;f.isEmpty()?(T=this.children_.remove(l),O=this.indexMap_.removeFromIndexes(v,this.children_)):(T=this.children_.insert(l,f),O=this.indexMap_.addToIndexes(v,this.children_));const Z=T.isEmpty()?Ru:this.priorityNode_;return new u(T,Z,O)}}updateChild(l,f){const v=Hr(l);if(null===v)return f;{(0,pe.hu)(".priority"!==Hr(l)||1===sa(l),".priority must be the last token in a path");const T=this.getImmediateChild(v).updateChild(_i(l),f);return this.updateImmediateChild(v,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const f={};let v=0,T=0,O=!0;if(this.forEachChild(Fi,(Z,oe)=>{f[Z]=oe.val(l),v++,O&&u.INTEGER_REGEXP_.test(Z)?T=Math.max(T,Number(Z)):O=!1}),!l&&O&&T<2*v){const Z=[];for(const oe in f)Z[oe]=f[oe];return Z}return l&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+pc(this.getPriority().val())+":"),this.forEachChild(Fi,(f,v)=>{const T=v.hash();""!==T&&(l+=":"+f+":"+T)}),this.lazyHash_=""===l?"":ql(l)}return this.lazyHash_}getPredecessorChildName(l,f,v){const T=this.resolveIndex_(v);if(T){const O=T.getPredecessorKey(new Yn(l,f));return O?O.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const f=this.resolveIndex_(l);if(f){const v=f.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(l){const f=this.getFirstChildName(l);return f?new Yn(f,this.children_.get(f)):null}getLastChildName(l){const f=this.resolveIndex_(l);if(f){const v=f.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(l){const f=this.getLastChildName(l);return f?new Yn(f,this.children_.get(f)):null}forEachChild(l,f){const v=this.resolveIndex_(l);return v?v.inorderTraversal(T=>f(T.name,T.node)):this.children_.inorderTraversal(f)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,f){const v=this.resolveIndex_(f);if(v)return v.getIteratorFrom(l,T=>T);{const T=this.children_.getIteratorFrom(l.name,Yn.Wrap);let O=T.peek();for(;null!=O&&f.compare(O,l)<0;)T.getNext(),O=T.peek();return T}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,f){const v=this.resolveIndex_(f);if(v)return v.getReverseIteratorFrom(l,T=>T);{const T=this.children_.getReverseIteratorFrom(l.name,Yn.Wrap);let O=T.peek();for(;null!=O&&f.compare(O,l)>0;)T.getNext(),O=T.peek();return T}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===gc?-1:0}withIndex(l){if(l===no||this.indexMap_.hasIndex(l))return this;{const f=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,f)}}isIndexed(l){return l===no||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const f=l;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const v=this.getIterator(Fi),T=f.getIterator(Fi);let O=v.getNext(),Z=T.getNext();for(;O&&Z;){if(O.name!==Z.name||!O.node.equals(Z.node))return!1;O=v.getNext(),Z=T.getNext()}return null===O&&null===Z}return!1}return!1}}resolveIndex_(l){return l===no?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const gc=new class Vd extends Un{constructor(){super(new Io(xu),Un.EMPTY_NODE,Ea.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return Un.EMPTY_NODE}isEmpty(){return!1}};function hi(u,s=null){if(null===u)return Un.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(s=u[".priority"]),(0,pe.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Va(u,hi(s));if(u instanceof Array){let l=Un.EMPTY_NODE;return ki(u,(f,v)=>{if((0,pe.r3)(u,f)&&"."!==f.substring(0,1)){const T=hi(v);(T.isLeafNode()||!T.isEmpty())&&(l=l.updateImmediateChild(f,T))}}),l.updatePriority(hi(s))}{const l=[];let f=!1;if(ki(u,(O,Z)=>{if("."!==O.substring(0,1)){const oe=hi(Z);oe.isEmpty()||(f=f||!oe.getPriority().isEmpty(),l.push(new Yn(O,oe)))}}),0===l.length)return Un.EMPTY_NODE;const T=Fl(l,ed,O=>O.name,xu);if(f){const O=Fl(l,Fi.getCompare());return new Un(T,hi(s),new Ea({".priority":O},{".priority":Fi}))}return new Un(T,hi(s),Ea.Default)}}Object.defineProperties(Yn,{MIN:{value:new Yn(Ys,Un.EMPTY_NODE)},MAX:{value:new Yn(Eo,gc)}}),Nh.__EMPTY_NODE=Un.EMPTY_NODE,Va.__childrenNodeConstructor=Un,function Ai(u){Rf=u}(gc),function td(u){Zs=u}(gc),function iu(u){Mu=u}(hi);class nd extends Wn{constructor(s){super(),this.indexPath_=s,(0,pe.hu)(!Ur(s)&&".priority"!==Hr(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,l){const f=this.extractChild(s.node),v=this.extractChild(l.node),T=f.compareTo(v);return 0===T?fn(s.name,l.name):T}makePost(s,l){const f=hi(s),v=Un.EMPTY_NODE.updateChild(this.indexPath_,f);return new Yn(l,v)}maxPost(){const s=Un.EMPTY_NODE.updateChild(this.indexPath_,gc);return new Yn(Eo,s)}toString(){return Su(this.indexPath_,0).join("/")}}const Ou=new class rd extends Wn{compare(s,l){const f=s.node.compareTo(l.node);return 0===f?fn(s.name,l.name):f}isDefinedOn(s){return!0}indexedValueChanged(s,l){return!s.equals(l)}minPost(){return Yn.MIN}maxPost(){return Yn.MAX}makePost(s,l){const f=hi(s);return new Yn(l,f)}toString(){return".value"}},su="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Of=function(){let u=0;const s=[];return function(l){const f=l===u;let v;u=l;const T=new Array(8);for(v=7;v>=0;v--)T[v]=su.charAt(l%64),l=Math.floor(l/64);(0,pe.hu)(0===l,"Cannot push at time == 0");let O=T.join("");if(f){for(v=11;v>=0&&63===s[v];v--)s[v]=0;s[v]++}else for(v=0;v<12;v++)s[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)O+=su.charAt(s[v]);return(0,pe.hu)(20===O.length,"nextPushId: Length should be 20."),O}}(),Wo=function(u){if(u===""+Yl)return"-";const s=Ja(u);if(null!=s)return""+(s+1);const l=new Array(u.length);for(let O=0;O<l.length;O++)l[O]=u.charAt(O);if(l.length<786)return l.push("-"),l.join("");let f=l.length-1;for(;f>=0&&"z"===l[f];)f--;if(-1===f)return Eo;const T=su.charAt(su.indexOf(l[f])+1);return l[f]=T,l.slice(0,f+1).join("")},ou=function(u){if(u===""+Kl)return Ys;const s=Ja(u);if(null!=s)return""+(s-1);const l=new Array(u.length);for(let f=0;f<l.length;f++)l[f]=u.charAt(f);return"-"===l[l.length-1]?1===l.length?""+Yl:(delete l[l.length-1],l.join("")):(l[l.length-1]=su.charAt(su.indexOf(l[l.length-1])-1),l.join("")+"z".repeat(786-l.length))};function Fh(u){return{type:"value",snapshotNode:u}}function au(u,s){return{type:"child_added",snapshotNode:s,childName:u}}function mc(u,s){return{type:"child_removed",snapshotNode:s,childName:u}}function lu(u,s,l){return{type:"child_changed",snapshotNode:s,childName:u,oldSnap:l}}class $d{constructor(s){this.index_=s}updateChild(s,l,f,v,T,O){(0,pe.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Z=s.getImmediateChild(l);return Z.getChild(v).equals(f.getChild(v))&&Z.isEmpty()===f.isEmpty()||(null!=O&&(f.isEmpty()?s.hasChild(l)?O.trackChildChange(mc(l,Z)):(0,pe.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Z.isEmpty()?O.trackChildChange(au(l,f)):O.trackChildChange(lu(l,f,Z))),s.isLeafNode()&&f.isEmpty())?s:s.updateImmediateChild(l,f).withIndex(this.index_)}updateFullNode(s,l,f){return null!=f&&(s.isLeafNode()||s.forEachChild(Fi,(v,T)=>{l.hasChild(v)||f.trackChildChange(mc(v,T))}),l.isLeafNode()||l.forEachChild(Fi,(v,T)=>{if(s.hasChild(v)){const O=s.getImmediateChild(v);O.equals(T)||f.trackChildChange(lu(v,T,O))}else f.trackChildChange(au(v,T))})),l.withIndex(this.index_)}updatePriority(s,l){return s.isEmpty()?Un.EMPTY_NODE:s.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sl{constructor(s){this.indexedFilter_=new $d(s.getIndex()),this.index_=s.getIndex(),this.startPost_=sl.getStartPost_(s),this.endPost_=sl.getEndPost_(s)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){return this.index_.compare(this.getStartPost(),s)<=0&&this.index_.compare(s,this.getEndPost())<=0}updateChild(s,l,f,v,T,O){return this.matches(new Yn(l,f))||(f=Un.EMPTY_NODE),this.indexedFilter_.updateChild(s,l,f,v,T,O)}updateFullNode(s,l,f){l.isLeafNode()&&(l=Un.EMPTY_NODE);let v=l.withIndex(this.index_);v=v.updatePriority(Un.EMPTY_NODE);const T=this;return l.forEachChild(Fi,(O,Z)=>{T.matches(new Yn(O,Z))||(v=v.updateImmediateChild(O,Un.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,v,f)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const l=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),l)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const l=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),l)}return s.getIndex().maxPost()}}class ol{constructor(s){this.rangedFilter_=new sl(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft()}updateChild(s,l,f,v,T,O){return this.rangedFilter_.matches(new Yn(l,f))||(f=Un.EMPTY_NODE),s.getImmediateChild(l).equals(f)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,l,f,v,T,O):this.fullLimitUpdateChild_(s,l,f,T,O)}updateFullNode(s,l,f){let v;if(l.isLeafNode()||l.isEmpty())v=Un.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let T;v=Un.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let O=0;for(;T.hasNext()&&O<this.limit_;){const Z=T.getNext();let oe;if(oe=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Z)<=0:this.index_.compare(Z,this.rangedFilter_.getEndPost())<=0,!oe)break;v=v.updateImmediateChild(Z.name,Z.node),O++}}else{let T,O,Z,oe;if(v=l.withIndex(this.index_),v=v.updatePriority(Un.EMPTY_NODE),this.reverse_){oe=v.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),O=this.rangedFilter_.getStartPost();const bt=this.index_.getCompare();Z=(Nt,mn)=>bt(mn,Nt)}else oe=v.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),O=this.rangedFilter_.getEndPost(),Z=this.index_.getCompare();let xe=0,pt=!1;for(;oe.hasNext();){const bt=oe.getNext();!pt&&Z(T,bt)<=0&&(pt=!0),pt&&xe<this.limit_&&Z(bt,O)<=0?xe++:v=v.updateImmediateChild(bt.name,Un.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,v,f)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,l,f,v,T){let O;if(this.reverse_){const bt=this.index_.getCompare();O=(Nt,mn)=>bt(mn,Nt)}else O=this.index_.getCompare();const Z=s;(0,pe.hu)(Z.numChildren()===this.limit_,"");const oe=new Yn(l,f),xe=this.reverse_?Z.getFirstChild(this.index_):Z.getLastChild(this.index_),pt=this.rangedFilter_.matches(oe);if(Z.hasChild(l)){const bt=Z.getImmediateChild(l);let Nt=v.getChildAfterChild(this.index_,xe,this.reverse_);for(;null!=Nt&&(Nt.name===l||Z.hasChild(Nt.name));)Nt=v.getChildAfterChild(this.index_,Nt,this.reverse_);const mn=null==Nt?1:O(Nt,oe);if(pt&&!f.isEmpty()&&mn>=0)return null!=T&&T.trackChildChange(lu(l,f,bt)),Z.updateImmediateChild(l,f);{null!=T&&T.trackChildChange(mc(l,bt));const kr=Z.updateImmediateChild(l,Un.EMPTY_NODE);return null!=Nt&&this.rangedFilter_.matches(Nt)?(null!=T&&T.trackChildChange(au(Nt.name,Nt.node)),kr.updateImmediateChild(Nt.name,Nt.node)):kr}}return f.isEmpty()?s:pt&&O(xe,oe)>=0?(null!=T&&(T.trackChildChange(mc(xe.name,xe.node)),T.trackChildChange(au(l,f))),Z.updateImmediateChild(l,f).updateImmediateChild(xe.name,Un.EMPTY_NODE)):s}}class I{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,pe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,pe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ys}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,pe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,pe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Eo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,pe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fi}copy(){const s=new I;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function W(u,s,l){const f=u.copy();return f.startSet_=!0,void 0===s&&(s=null),f.indexStartValue_=s,null!=l?(f.startNameSet_=!0,f.indexStartName_=l):(f.startNameSet_=!1,f.indexStartName_=""),f}function rt(u,s,l){const f=u.copy();return f.endSet_=!0,void 0===s&&(s=null),f.indexEndValue_=s,void 0!==l?(f.endNameSet_=!0,f.indexEndName_=l):(f.endNameSet_=!1,f.indexEndName_=""),f}function pn(u,s){const l=u.copy();return l.index_=s,l}function wn(u){const s={};if(u.isDefault())return s;let l;return u.index_===Fi?l="$priority":u.index_===Ou?l="$value":u.index_===no?l="$key":((0,pe.hu)(u.index_ instanceof nd,"Unrecognized index type!"),l=u.index_.toString()),s.orderBy=(0,pe.Pz)(l),u.startSet_&&(s.startAt=(0,pe.Pz)(u.indexStartValue_),u.startNameSet_&&(s.startAt+=","+(0,pe.Pz)(u.indexStartName_))),u.endSet_&&(s.endAt=(0,pe.Pz)(u.indexEndValue_),u.endNameSet_&&(s.endAt+=","+(0,pe.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?s.limitToFirst=u.limit_:s.limitToLast=u.limit_),s}function tr(u){const s={};if(u.startSet_&&(s.sp=u.indexStartValue_,u.startNameSet_&&(s.sn=u.indexStartName_)),u.endSet_&&(s.ep=u.indexEndValue_,u.endNameSet_&&(s.en=u.indexEndName_)),u.limitSet_){s.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),s.vf=l}return u.index_!==Fi&&(s.i=u.index_.toString()),s}class $n extends Wp{constructor(s,l,f,v){super(),this.repoInfo_=s,this.onDataUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=v,this.log_=ya("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,l){return void 0!==l?"tag$"+l:((0,pe.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,l,f,v){const T=s._path.toString();this.log_("Listen called for "+T+" "+s._queryIdentifier);const O=$n.getListenId_(s,f),Z={};this.listens_[O]=Z;const oe=wn(s._queryParams);this.restRequest_(T+".json",oe,(xe,pt)=>{let bt=pt;if(404===xe&&(bt=null,xe=null),null===xe&&this.onDataUpdate_(T,bt,!1,f),(0,pe.DV)(this.listens_,O)===Z){let Nt;Nt=xe?401===xe?"permission_denied":"rest_error:"+xe:"ok",v(Nt,null)}})}unlisten(s,l){const f=$n.getListenId_(s,l);delete this.listens_[f]}get(s){const l=wn(s._queryParams),f=s._path.toString(),v=new pe.BH;return this.restRequest_(f+".json",l,(T,O)=>{let Z=O;404===T&&(Z=null,T=null),null===T?(this.onDataUpdate_(f,Z,!1,null),v.resolve(Z)):v.reject(new Error(Z))}),v.promise}refreshAuthToken(s){}restRequest_(s,l={},f){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,T])=>{v&&v.accessToken&&(l.auth=v.accessToken),T&&T.token&&(l.ac=T.token);const O=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,pe.xO)(l);this.log_("Sending REST request for "+O);const Z=new XMLHttpRequest;Z.onreadystatechange=()=>{if(f&&4===Z.readyState){this.log_("REST Response for "+O+" received. status:",Z.status,"response:",Z.responseText);let oe=null;if(Z.status>=200&&Z.status<300){try{oe=(0,pe.cI)(Z.responseText)}catch(xe){ni("Failed to parse JSON response for "+O+": "+Z.responseText)}f(null,oe)}else 401!==Z.status&&404!==Z.status&&ni("Got unsuccessful REST response for "+O+" Status: "+Z.status),f(Z.status);f=null}},Z.open("GET",O,!0),Z.send()})}}class Fs{constructor(){this.rootNode_=Un.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,l){this.rootNode_=this.rootNode_.updateChild(s,l)}}function Co(){return{value:null,children:new Map}}function al(u,s,l){if(Ur(s))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(s,l);else{const f=Hr(s);u.children.has(f)||u.children.set(f,Co()),al(u.children.get(f),s=_i(s),l)}}function Lh(u,s){if(Ur(s))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(Fi,(f,v)=>{al(u,new wi(f),v)}),Lh(u,s)}}if(u.children.size>0){const l=Hr(s);return s=_i(s),u.children.has(l)&&Lh(u.children.get(l),s)&&u.children.delete(l),0===u.children.size}return!0}function ll(u,s,l){null!==u.value?l(s,u.value):function jd(u,s){u.children.forEach((l,f)=>{s(f,l)})}(u,(f,v)=>{ll(v,new wi(s.toString()+"/"+f),l)})}class Bh{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),l=Object.assign({},s);return this.last_&&ki(this.last_,(f,v)=>{l[f]=l[f]-v}),this.last_=s,l}}class Vh{constructor(s,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Bh(s);const f=1e4+2e4*Math.random();fo(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const s=this.statsListener_.get(),l={};let f=!1;ki(s,(v,T)=>{T>0&&(0,pe.r3)(this.statsToReport_,v)&&(l[v]=T,f=!0)}),f&&this.server_.reportStats(l),fo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var aa=(()=>{return(u=aa||(aa={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",aa;var u})();function $h(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class jh{constructor(s,l,f){this.path=s,this.affectedTree=l,this.revert=f,this.type=aa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(Ur(this.path)){if(null!=this.affectedTree.value)return(0,pe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new wi(s));return new jh(di(),l,this.revert)}}return(0,pe.hu)(Hr(this.path)===s,"operationForChild called for unrelated child."),new jh(_i(this.path),this.affectedTree,this.revert)}}class yc{constructor(s,l){this.source=s,this.path=l,this.type=aa.LISTEN_COMPLETE}operationForChild(s){return Ur(this.path)?new yc(this.source,di()):new yc(this.source,_i(this.path))}}class _c{constructor(s,l,f){this.source=s,this.path=l,this.snap=f,this.type=aa.OVERWRITE}operationForChild(s){return Ur(this.path)?new _c(this.source,di(),this.snap.getImmediateChild(s)):new _c(this.source,_i(this.path),this.snap)}}class Pu{constructor(s,l,f){this.source=s,this.path=l,this.children=f,this.type=aa.MERGE}operationForChild(s){if(Ur(this.path)){const l=this.children.subtree(new wi(s));return l.isEmpty()?null:l.value?new _c(this.source,di(),l.value):new Pu(this.source,di(),l)}return(0,pe.hu)(Hr(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new Pu(this.source,_i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vc{constructor(s,l,f){this.node_=s,this.fullyInitialized_=l,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(Ur(s))return this.isFullyInitialized()&&!this.filtered_;const l=Hr(s);return this.isCompleteForChild(l)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class rm{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function Ft(u,s,l,f,v,T){const O=f.filter(Z=>Z.type===l);O.sort((Z,oe)=>function ul(u,s,l){if(null==s.childName||null==l.childName)throw(0,pe.g5)("Should only compare child_ events.");const f=new Yn(s.childName,s.snapshotNode),v=new Yn(l.childName,l.snapshotNode);return u.index_.compare(f,v)}(u,Z,oe)),O.forEach(Z=>{const oe=function uu(u,s,l){return"value"===s.type||"child_removed"===s.type||(s.prevName=l.getPredecessorChildName(s.childName,s.snapshotNode,u.index_)),s}(u,Z,T);v.forEach(xe=>{xe.respondsTo(Z.type)&&s.push(xe.createEvent(oe,u.query_))})})}function Hh(u,s){return{eventCache:u,serverCache:s}}function Nu(u,s,l,f){return Hh(new vc(s,l,f),u.serverCache)}function Ll(u,s,l,f){return Hh(u.eventCache,new vc(s,l,f))}function Nf(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function ba(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Gh;class Yi{constructor(s,l=(()=>(Gh||(Gh=new Io(Qa)),Gh))()){this.value=s,this.children=l}static fromObject(s){let l=new Yi(null);return ki(s,(f,v)=>{l=l.set(new wi(f),v)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,l){if(null!=this.value&&l(this.value))return{path:di(),value:this.value};if(Ur(s))return null;{const f=Hr(s),v=this.children.get(f);if(null!==v){const T=v.findRootMostMatchingPathAndValue(_i(s),l);return null!=T?{path:Ii(new wi(f),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(Ur(s))return this;{const l=Hr(s),f=this.children.get(l);return null!==f?f.subtree(_i(s)):new Yi(null)}}set(s,l){if(Ur(s))return new Yi(l,this.children);{const f=Hr(s),T=(this.children.get(f)||new Yi(null)).set(_i(s),l),O=this.children.insert(f,T);return new Yi(this.value,O)}}remove(s){if(Ur(s))return this.children.isEmpty()?new Yi(null):new Yi(null,this.children);{const l=Hr(s),f=this.children.get(l);if(f){const v=f.remove(_i(s));let T;return T=v.isEmpty()?this.children.remove(l):this.children.insert(l,v),null===this.value&&T.isEmpty()?new Yi(null):new Yi(this.value,T)}return this}}get(s){if(Ur(s))return this.value;{const l=Hr(s),f=this.children.get(l);return f?f.get(_i(s)):null}}setTree(s,l){if(Ur(s))return l;{const f=Hr(s),T=(this.children.get(f)||new Yi(null)).setTree(_i(s),l);let O;return O=T.isEmpty()?this.children.remove(f):this.children.insert(f,T),new Yi(this.value,O)}}fold(s){return this.fold_(di(),s)}fold_(s,l){const f={};return this.children.inorderTraversal((v,T)=>{f[v]=T.fold_(Ii(s,v),l)}),l(s,this.value,f)}findOnPath(s,l){return this.findOnPath_(s,di(),l)}findOnPath_(s,l,f){const v=!!this.value&&f(l,this.value);if(v)return v;if(Ur(s))return null;{const T=Hr(s),O=this.children.get(T);return O?O.findOnPath_(_i(s),Ii(l,T),f):null}}foreachOnPath(s,l){return this.foreachOnPath_(s,di(),l)}foreachOnPath_(s,l,f){if(Ur(s))return this;{this.value&&f(l,this.value);const v=Hr(s),T=this.children.get(v);return T?T.foreachOnPath_(_i(s),Ii(l,v),f):new Yi(null)}}foreach(s){this.foreach_(di(),s)}foreach_(s,l){this.children.inorderTraversal((f,v)=>{v.foreach_(Ii(s,f),l)}),this.value&&l(s,this.value)}foreachChild(s){this.children.inorderTraversal((l,f)=>{f.value&&s(l,f.value)})}}class Zi{constructor(s){this.writeTree_=s}static empty(){return new Zi(new Yi(null))}}function cu(u,s,l){if(Ur(s))return new Zi(new Yi(l));{const f=u.writeTree_.findRootMostValueAndPath(s);if(null!=f){const v=f.path;let T=f.value;const O=Ns(v,s);return T=T.updateChild(O,l),new Zi(u.writeTree_.set(v,T))}{const v=new Yi(l),T=u.writeTree_.setTree(s,v);return new Zi(T)}}}function Ec(u,s,l){let f=u;return ki(l,(v,T)=>{f=cu(f,Ii(s,v),T)}),f}function zh(u,s){if(Ur(s))return Zi.empty();{const l=u.writeTree_.setTree(s,new Yi(null));return new Zi(l)}}function cl(u,s){return null!=ku(u,s)}function ku(u,s){const l=u.writeTree_.findRootMostValueAndPath(s);return null!=l?u.writeTree_.get(l.path).getChild(Ns(l.path,s)):null}function Ff(u){const s=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Fi,(f,v)=>{s.push(new Yn(f,v))}):u.writeTree_.children.inorderTraversal((f,v)=>{null!=v.value&&s.push(new Yn(f,v.value))}),s}function $a(u,s){if(Ur(s))return u;{const l=ku(u,s);return new Zi(null!=l?new Yi(l):u.writeTree_.subtree(s))}}function zd(u){return u.writeTree_.isEmpty()}function ja(u,s){return bc(di(),u.writeTree_,s)}function bc(u,s,l){if(null!=s.value)return l.updateChild(u,s.value);{let f=null;return s.children.inorderTraversal((v,T)=>{".priority"===v?((0,pe.hu)(null!==T.value,"Priority writes must always be leaf nodes"),f=T.value):l=bc(Ii(u,v),T,l)}),!l.getChild(u).isEmpty()&&null!==f&&(l=l.updateChild(Ii(u,".priority"),f)),l}}function Fu(u,s){return Wh(s,u)}function Xp(u,s){if(u.snap)return vi(u.path,s);for(const l in u.children)if(u.children.hasOwnProperty(l)&&vi(Ii(u.path,l),s))return!0;return!1}function Qp(u){return u.visible}function Jp(u,s,l){let f=Zi.empty();for(let v=0;v<u.length;++v){const T=u[v];if(s(T)){const O=T.path;let Z;if(T.snap)vi(l,O)?(Z=Ns(l,O),f=cu(f,Z,T.snap)):vi(O,l)&&(Z=Ns(O,l),f=cu(f,di(),T.snap.getChild(Z)));else{if(!T.children)throw(0,pe.g5)("WriteRecord should have .snap or .children");if(vi(l,O))Z=Ns(l,O),f=Ec(f,Z,T.children);else if(vi(O,l))if(Z=Ns(O,l),Ur(Z))f=Ec(f,di(),T.children);else{const oe=(0,pe.DV)(T.children,Hr(Z));if(oe){const xe=oe.getChild(_i(Z));f=cu(f,di(),xe)}}}}}return f}function Vf(u,s,l,f,v){if(f||v){const T=$a(u.visibleWrites,s);return!v&&zd(T)?l:v||null!=l||cl(T,di())?ja(Jp(u.allWrites,function(xe){return(xe.visible||v)&&(!f||!~f.indexOf(xe.writeId))&&(vi(xe.path,s)||vi(s,xe.path))},s),l||Un.EMPTY_NODE):null}{const T=ku(u.visibleWrites,s);if(null!=T)return T;{const O=$a(u.visibleWrites,s);return zd(O)?l:null!=l||cl(O,di())?ja(O,l||Un.EMPTY_NODE):null}}}function Uf(u,s,l,f){return Vf(u.writeTree,u.treePath,s,l,f)}function wc(u,s){return function la(u,s,l){let f=Un.EMPTY_NODE;const v=ku(u.visibleWrites,s);if(v)return v.isLeafNode()||v.forEachChild(Fi,(T,O)=>{f=f.updateImmediateChild(T,O)}),f;if(l){const T=$a(u.visibleWrites,s);return l.forEachChild(Fi,(O,Z)=>{const oe=ja($a(T,new wi(O)),Z);f=f.updateImmediateChild(O,oe)}),Ff(T).forEach(O=>{f=f.updateImmediateChild(O.name,O.node)}),f}return Ff($a(u.visibleWrites,s)).forEach(O=>{f=f.updateImmediateChild(O.name,O.node)}),f}(u.writeTree,u.treePath,s)}function Ic(u,s,l,f){return function od(u,s,l,f,v){(0,pe.hu)(f||v,"Either existingEventSnap or existingServerSnap must exist");const T=Ii(s,l);if(cl(u.visibleWrites,T))return null;{const O=$a(u.visibleWrites,T);return zd(O)?v.getChild(l):ja(O,v.getChild(l))}}(u.writeTree,u.treePath,s,l,f)}function du(u,s){return function om(u,s){return ku(u.visibleWrites,s)}(u.writeTree,Ii(u.treePath,s))}function Dr(u,s,l){return function sm(u,s,l,f){const v=Ii(s,l),T=ku(u.visibleWrites,v);return null!=T?T:f.isCompleteForChild(l)?ja($a(u.visibleWrites,v),f.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,s,l)}function eg(u,s){return Wh(Ii(u.treePath,s),u.writeTree)}function Wh(u,s){return{treePath:u,writeTree:s}}class qh{constructor(){this.changeMap=new Map}trackChildChange(s){const l=s.type,f=s.childName;(0,pe.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,pe.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(f);if(v){const T=v.type;if("child_added"===l&&"child_removed"===T)this.changeMap.set(f,lu(f,s.snapshotNode,v.snapshotNode));else if("child_removed"===l&&"child_added"===T)this.changeMap.delete(f);else if("child_removed"===l&&"child_changed"===T)this.changeMap.set(f,mc(f,v.oldSnap));else if("child_changed"===l&&"child_added"===T)this.changeMap.set(f,au(f,s.snapshotNode));else{if("child_changed"!==l||"child_changed"!==T)throw(0,pe.g5)("Illegal combination of changes: "+s+" occurred after "+v);this.changeMap.set(f,lu(f,s.snapshotNode,v.oldSnap))}}else this.changeMap.set(f,s)}getChanges(){return Array.from(this.changeMap.values())}}const Ha=new class $f{getCompleteChild(s){return null}getChildAfterChild(s,l,f){return null}};class Cc{constructor(s,l,f=null){this.writes_=s,this.viewCache_=l,this.optCompleteServerCache_=f}getCompleteChild(s){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(s))return l.getNode().getImmediateChild(s);{const f=null!=this.optCompleteServerCache_?new vc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dr(this.writes_,s,f)}}getChildAfterChild(s,l,f){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ba(this.viewCache_),T=function am(u,s,l,f,v,T){return function ry(u,s,l,f,v,T,O){let Z;const oe=$a(u.visibleWrites,s),xe=ku(oe,di());if(null!=xe)Z=xe;else{if(null==l)return[];Z=ja(oe,l)}if(Z=Z.withIndex(O),Z.isEmpty()||Z.isLeafNode())return[];{const pt=[],bt=O.getCompare(),Nt=T?Z.getReverseIteratorFrom(f,O):Z.getIteratorFrom(f,O);let mn=Nt.getNext();for(;mn&&pt.length<v;)0!==bt(mn,f)&&pt.push(mn),mn=Nt.getNext();return pt}}(u.writeTree,u.treePath,s,l,f,v,T)}(this.writes_,v,l,1,f,s);return 0===T.length?null:T[0]}}function Hf(u,s,l,f,v,T){const O=s.eventCache;if(null!=du(f,l))return s;{let Z,oe;if(Ur(l))if((0,pe.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const xe=ba(s),bt=wc(f,xe instanceof Un?xe:Un.EMPTY_NODE);Z=u.filter.updateFullNode(s.eventCache.getNode(),bt,T)}else{const xe=Uf(f,ba(s));Z=u.filter.updateFullNode(s.eventCache.getNode(),xe,T)}else{const xe=Hr(l);if(".priority"===xe){(0,pe.hu)(1===sa(l),"Can't have a priority with additional path components");const pt=O.getNode();oe=s.serverCache.getNode();const bt=Ic(f,l,pt,oe);Z=null!=bt?u.filter.updatePriority(pt,bt):O.getNode()}else{const pt=_i(l);let bt;if(O.isCompleteForChild(xe)){oe=s.serverCache.getNode();const Nt=Ic(f,l,O.getNode(),oe);bt=null!=Nt?O.getNode().getImmediateChild(xe).updateChild(pt,Nt):O.getNode().getImmediateChild(xe)}else bt=Dr(f,xe,s.serverCache);Z=null!=bt?u.filter.updateChild(O.getNode(),xe,bt,pt,v,T):O.getNode()}}return Nu(s,Z,O.isFullyInitialized()||Ur(l),u.filter.filtersNodes())}}function Lu(u,s,l,f,v,T,O,Z){const oe=s.serverCache;let xe;const pt=O?u.filter:u.filter.getIndexedFilter();if(Ur(l))xe=pt.updateFullNode(oe.getNode(),f,null);else if(pt.filtersNodes()&&!oe.isFiltered()){const mn=oe.getNode().updateChild(l,f);xe=pt.updateFullNode(oe.getNode(),mn,null)}else{const mn=Hr(l);if(!oe.isCompleteForPath(l)&&sa(l)>1)return s;const Sn=_i(l),Wr=oe.getNode().getImmediateChild(mn).updateChild(Sn,f);xe=".priority"===mn?pt.updatePriority(oe.getNode(),Wr):pt.updateChild(oe.getNode(),mn,Wr,Sn,Ha,null)}const bt=Ll(s,xe,oe.isFullyInitialized()||Ur(l),pt.filtersNodes());return Hf(u,bt,l,v,new Cc(v,bt,T),Z)}function Gf(u,s,l,f,v,T,O){const Z=s.eventCache;let oe,xe;const pt=new Cc(v,s,T);if(Ur(l))xe=u.filter.updateFullNode(s.eventCache.getNode(),f,O),oe=Nu(s,xe,!0,u.filter.filtersNodes());else{const bt=Hr(l);if(".priority"===bt)xe=u.filter.updatePriority(s.eventCache.getNode(),f),oe=Nu(s,xe,Z.isFullyInitialized(),Z.isFiltered());else{const Nt=_i(l),mn=Z.getNode().getImmediateChild(bt);let Sn;if(Ur(Nt))Sn=f;else{const kr=pt.getCompleteChild(bt);Sn=null!=kr?".priority"===Mh(Nt)&&kr.getChild(wo(Nt)).isEmpty()?kr:kr.updateChild(Nt,f):Un.EMPTY_NODE}oe=mn.equals(Sn)?s:Nu(s,u.filter.updateChild(Z.getNode(),bt,Sn,Nt,pt,O),Z.isFullyInitialized(),u.filter.filtersNodes())}}return oe}function zf(u,s){return u.eventCache.isCompleteForChild(s)}function fu(u,s,l){return l.foreach((f,v)=>{s=s.updateChild(f,v)}),s}function ld(u,s,l,f,v,T,O,Z){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let xe,oe=s;xe=Ur(l)?f:new Yi(null).setTree(l,f);const pt=s.serverCache.getNode();return xe.children.inorderTraversal((bt,Nt)=>{if(pt.hasChild(bt)){const Sn=fu(0,s.serverCache.getNode().getImmediateChild(bt),Nt);oe=Lu(u,oe,new wi(bt),Sn,v,T,O,Z)}}),xe.children.inorderTraversal((bt,Nt)=>{const mn=!s.serverCache.isCompleteForChild(bt)&&void 0===Nt.value;if(!pt.hasChild(bt)&&!mn){const kr=fu(0,s.serverCache.getNode().getImmediateChild(bt),Nt);oe=Lu(u,oe,new wi(bt),kr,v,T,O,Z)}}),oe}class sy{constructor(s,l){this.query_=s,this.eventRegistrations_=[];const f=this.query_._queryParams,v=new $d(f.getIndex()),T=function g(u){return u.loadsAllData()?new $d(u.getIndex()):u.hasLimit()?new ol(u):new sl(u)}(f);this.processor_=function jf(u){return{filter:u}}(T);const O=l.serverCache,Z=l.eventCache,oe=v.updateFullNode(Un.EMPTY_NODE,O.getNode(),null),xe=T.updateFullNode(Un.EMPTY_NODE,Z.getNode(),null),pt=new vc(oe,O.isFullyInitialized(),v.filtersNodes()),bt=new vc(xe,Z.isFullyInitialized(),T.filtersNodes());this.viewCache_=Hh(bt,pt),this.eventGenerator_=new rm(this.query_)}get query(){return this.query_}}function ng(u,s){const l=ba(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!Ur(s)&&!l.getImmediateChild(Hr(s)).isEmpty())?l.getChild(s):null}function rg(u){return 0===u.eventRegistrations_.length}function oy(u,s,l){const f=[];if(l){(0,pe.hu)(null==s,"A cancel should cancel all event registrations.");const v=u.query._path;u.eventRegistrations_.forEach(T=>{const O=T.createCancelEvent(l,v);O&&f.push(O)})}if(s){let v=[];for(let T=0;T<u.eventRegistrations_.length;++T){const O=u.eventRegistrations_[T];if(O.matches(s)){if(s.hasAnyCallback()){v=v.concat(u.eventRegistrations_.slice(T+1));break}}else v.push(O)}u.eventRegistrations_=v}else u.eventRegistrations_=[];return f}function um(u,s,l,f){s.type===aa.MERGE&&null!==s.source.queryId&&((0,pe.hu)(ba(u.viewCache_),"We should always have a full cache before handling merges"),(0,pe.hu)(Nf(u.viewCache_),"Missing event cache, even though we have a server cache"));const v=u.viewCache_,T=function hu(u,s,l,f,v){const T=new qh;let O,Z;if(l.type===aa.OVERWRITE){const xe=l;xe.source.fromUser?O=Gf(u,s,xe.path,xe.snap,f,v,T):((0,pe.hu)(xe.source.fromServer,"Unknown source."),Z=xe.source.tagged||s.serverCache.isFiltered()&&!Ur(xe.path),O=Lu(u,s,xe.path,xe.snap,f,v,Z,T))}else if(l.type===aa.MERGE){const xe=l;xe.source.fromUser?O=function ad(u,s,l,f,v,T,O){let Z=s;return f.foreach((oe,xe)=>{const pt=Ii(l,oe);zf(s,Hr(pt))&&(Z=Gf(u,Z,pt,xe,v,T,O))}),f.foreach((oe,xe)=>{const pt=Ii(l,oe);zf(s,Hr(pt))||(Z=Gf(u,Z,pt,xe,v,T,O))}),Z}(u,s,xe.path,xe.children,f,v,T):((0,pe.hu)(xe.source.fromServer,"Unknown source."),Z=xe.source.tagged||s.serverCache.isFiltered(),O=ld(u,s,xe.path,xe.children,f,v,Z,T))}else if(l.type===aa.ACK_USER_WRITE){const xe=l;O=xe.revert?function Dc(u,s,l,f,v,T){let O;if(null!=du(f,l))return s;{const Z=new Cc(f,s,v),oe=s.eventCache.getNode();let xe;if(Ur(l)||".priority"===Hr(l)){let pt;if(s.serverCache.isFullyInitialized())pt=Uf(f,ba(s));else{const bt=s.serverCache.getNode();(0,pe.hu)(bt instanceof Un,"serverChildren would be complete if leaf node"),pt=wc(f,bt)}pt=pt,xe=u.filter.updateFullNode(oe,pt,T)}else{const pt=Hr(l);let bt=Dr(f,pt,s.serverCache);null==bt&&s.serverCache.isCompleteForChild(pt)&&(bt=oe.getImmediateChild(pt)),xe=null!=bt?u.filter.updateChild(oe,pt,bt,_i(l),Z,T):s.eventCache.getNode().hasChild(pt)?u.filter.updateChild(oe,pt,Un.EMPTY_NODE,_i(l),Z,T):oe,xe.isEmpty()&&s.serverCache.isFullyInitialized()&&(O=Uf(f,ba(s)),O.isLeafNode()&&(xe=u.filter.updateFullNode(xe,O,T)))}return O=s.serverCache.isFullyInitialized()||null!=du(f,di()),Nu(s,xe,O,u.filter.filtersNodes())}}(u,s,xe.path,f,v,T):function Bu(u,s,l,f,v,T,O){if(null!=du(v,l))return s;const Z=s.serverCache.isFiltered(),oe=s.serverCache;if(null!=f.value){if(Ur(l)&&oe.isFullyInitialized()||oe.isCompleteForPath(l))return Lu(u,s,l,oe.getNode().getChild(l),v,T,Z,O);if(Ur(l)){let xe=new Yi(null);return oe.getNode().forEachChild(no,(pt,bt)=>{xe=xe.set(new wi(pt),bt)}),ld(u,s,l,xe,v,T,Z,O)}return s}{let xe=new Yi(null);return f.foreach((pt,bt)=>{const Nt=Ii(l,pt);oe.isCompleteForPath(Nt)&&(xe=xe.set(pt,oe.getNode().getChild(Nt)))}),ld(u,s,l,xe,v,T,Z,O)}}(u,s,xe.path,xe.affectedTree,f,v,T)}else{if(l.type!==aa.LISTEN_COMPLETE)throw(0,pe.g5)("Unknown operation type: "+l.type);O=function tg(u,s,l,f,v){const T=s.serverCache;return Hf(u,Ll(s,T.getNode(),T.isFullyInitialized()||Ur(l),T.isFiltered()),l,f,Ha,v)}(u,s,l.path,f,T)}const oe=T.getChanges();return function qo(u,s,l){const f=s.eventCache;if(f.isFullyInitialized()){const v=f.getNode().isLeafNode()||f.getNode().isEmpty(),T=Nf(u);(l.length>0||!u.eventCache.isFullyInitialized()||v&&!f.getNode().equals(T)||!f.getNode().getPriority().equals(T.getPriority()))&&l.push(Fh(Nf(s)))}}(s,O,oe),{viewCache:O,changes:oe}}(u.processor_,v,s,l,f);return function qd(u,s){(0,pe.hu)(s.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,pe.hu)(s.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,T.viewCache),(0,pe.hu)(T.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=T.viewCache,Kd(u,T.changes,T.viewCache.eventCache.getNode(),null)}function Kd(u,s,l,f){return function Zp(u,s,l,f){const v=[],T=[];return s.forEach(O=>{"child_changed"===O.type&&u.index_.indexedValueChanged(O.oldSnap,O.snapshotNode)&&T.push(function Yp(u,s){return{type:"child_moved",snapshotNode:s,childName:u}}(O.childName,O.snapshotNode))}),Ft(u,v,"child_removed",s,f,l),Ft(u,v,"child_added",s,f,l),Ft(u,v,"child_moved",T,f,l),Ft(u,v,"child_changed",s,f,l),Ft(u,v,"value",s,f,l),v}(u.eventGenerator_,s,l,f?[f]:u.eventRegistrations_)}let Yd,Wf;class cm{constructor(){this.views=new Map}}function Xd(u,s,l,f){const v=s.source.queryId;if(null!==v){const T=u.views.get(v);return(0,pe.hu)(null!=T,"SyncTree gave us an op for an invalid query."),um(T,s,l,f)}{let T=[];for(const O of u.views.values())T=T.concat(um(O,s,l,f));return T}}function dm(u,s,l,f,v){const O=u.views.get(s._queryIdentifier);if(!O){let Z=Uf(l,v?f:null),oe=!1;Z?oe=!0:f instanceof Un?(Z=wc(l,f),oe=!1):(Z=Un.EMPTY_NODE,oe=!1);const xe=Hh(new vc(Z,oe,!1),new vc(f,v,!1));return new sy(s,xe)}return O}function hm(u){const s=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||s.push(l);return s}function Vu(u,s){let l=null;for(const f of u.views.values())l=l||ng(f,s);return l}function sg(u,s){return s._queryParams.loadsAllData()?Sc(u):u.views.get(s._queryIdentifier)}function Kh(u,s){return null!=sg(u,s)}function Do(u){return null!=Sc(u)}function Sc(u){for(const s of u.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let fm=1;class Yh{constructor(s){this.listenProvider_=s,this.syncPointTree_=new Yi(null),this.pendingWriteTree_=function iy(){return{visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Yf(u,s,l,f,v){return function Wd(u,s,l,f,v){(0,pe.hu)(f>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:s,snap:l,writeId:f,visible:v}),v&&(u.visibleWrites=cu(u.visibleWrites,s,l)),u.lastWriteId=f}(u.pendingWriteTree_,s,l,f,v),v?Bl(u,new _c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,l)):[]}function Uu(u,s,l=!1){const f=function Bf(u,s){for(let l=0;l<u.allWrites.length;l++){const f=u.allWrites[l];if(f.writeId===s)return f}return null}(u.pendingWriteTree_,s);if(function im(u,s){const l=u.allWrites.findIndex(Z=>Z.writeId===s);(0,pe.hu)(l>=0,"removeWrite called with nonexistent writeId.");const f=u.allWrites[l];u.allWrites.splice(l,1);let v=f.visible,T=!1,O=u.allWrites.length-1;for(;v&&O>=0;){const Z=u.allWrites[O];Z.visible&&(O>=l&&Xp(Z,f.path)?v=!1:vi(f.path,Z.path)&&(T=!0)),O--}return!!v&&(T?(function ny(u){u.visibleWrites=Jp(u.allWrites,Qp,di()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(f.snap?u.visibleWrites=zh(u.visibleWrites,f.path):ki(f.children,oe=>{u.visibleWrites=zh(u.visibleWrites,Ii(f.path,oe))}),!0))}(u.pendingWriteTree_,s)){let T=new Yi(null);return null!=f.snap?T=T.set(di(),!0):ki(f.children,O=>{T=T.set(new wi(O),!0)}),Bl(u,new jh(f.path,T,l))}return[]}function Qd(u,s,l){return Bl(u,new _c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,l))}function Ac(u,s,l,f){const v=s._path,T=u.syncPointTree_.get(v);let O=[];if(T&&("default"===s._queryIdentifier||Kh(T,s))){const Z=function Yy(u,s,l,f){const v=s._queryIdentifier,T=[];let O=[];const Z=Do(u);if("default"===v)for(const[oe,xe]of u.views.entries())O=O.concat(oy(xe,l,f)),rg(xe)&&(u.views.delete(oe),xe.query._queryParams.loadsAllData()||T.push(xe.query));else{const oe=u.views.get(v);oe&&(O=O.concat(oy(oe,l,f)),rg(oe)&&(u.views.delete(v),oe.query._queryParams.loadsAllData()||T.push(oe.query)))}return Z&&!Do(u)&&T.push(new(function ay(){return(0,pe.hu)(Yd,"Reference.ts has not been loaded"),Yd}())(s._repo,s._path)),{removed:T,events:O}}(T,s,l,f);(function Zd(u){return 0===u.views.size})(T)&&(u.syncPointTree_=u.syncPointTree_.remove(v));const oe=Z.removed;O=Z.events;const xe=-1!==oe.findIndex(bt=>bt._queryParams.loadsAllData()),pt=u.syncPointTree_.findOnPath(v,(bt,Nt)=>Do(Nt));if(xe&&!pt){const bt=u.syncPointTree_.subtree(v);if(!bt.isEmpty()){const Nt=function uy(u){return u.fold((s,l,f)=>{if(l&&Do(l))return[Sc(l)];{let v=[];return l&&(v=hm(l)),ki(f,(T,O)=>{v=v.concat(O)}),v}})}(bt);for(let mn=0;mn<Nt.length;++mn){const Sn=Nt[mn],kr=Sn.query,Wr=ag(u,Sn);u.listenProvider_.startListening(nh(kr),pd(u,kr),Wr.hashFn,Wr.onComplete)}}}!pt&&oe.length>0&&!f&&(xe?u.listenProvider_.stopListening(nh(s),null):oe.forEach(bt=>{const Nt=u.queryToTagMap.get(eh(bt));u.listenProvider_.stopListening(nh(bt),Nt)})),function Zy(u,s){for(let l=0;l<s.length;++l){const f=s[l];if(!f._queryParams.loadsAllData()){const v=eh(f),T=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(T)}}}(u,oe)}return O}function gu(u,s,l){const f=s._path;let v=null,T=!1;u.syncPointTree_.foreachOnPath(f,(bt,Nt)=>{const mn=Ns(bt,f);v=v||Vu(Nt,mn),T=T||Do(Nt)});let Z,O=u.syncPointTree_.get(f);O?(T=T||Do(O),v=v||Vu(O,di())):(O=new cm,u.syncPointTree_=u.syncPointTree_.set(f,O)),null!=v?Z=!0:(Z=!1,v=Un.EMPTY_NODE,u.syncPointTree_.subtree(f).foreachChild((Nt,mn)=>{const Sn=Vu(mn,di());Sn&&(v=v.updateImmediateChild(Nt,Sn))}));const oe=Kh(O,s);if(!oe&&!s._queryParams.loadsAllData()){const bt=eh(s);(0,pe.hu)(!u.queryToTagMap.has(bt),"View does not exist, but we have a tag");const Nt=function mm(){return fm++}();u.queryToTagMap.set(bt,Nt),u.tagToQueryMap.set(Nt,bt)}let pt=function ly(u,s,l,f,v,T){const O=dm(u,s,f,v,T);return u.views.has(s._queryIdentifier)||u.views.set(s._queryIdentifier,O),function lm(u,s){u.eventRegistrations_.push(s)}(O,l),function Ky(u,s){const l=u.viewCache_.eventCache,f=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Fi,(T,O)=>{f.push(au(T,O))}),l.isFullyInitialized()&&f.push(Fh(l.getNode())),Kd(u,f,l.getNode(),s)}(O,l)}(O,s,l,Fu(u.pendingWriteTree_,f),v,Z);if(!oe&&!T){const bt=sg(O,s);pt=pt.concat(function ym(u,s,l){const f=s._path,v=pd(u,s),T=ag(u,l),O=u.listenProvider_.startListening(nh(s),v,T.hashFn,T.onComplete),Z=u.syncPointTree_.subtree(f);if(v)(0,pe.hu)(!Do(Z.value),"If we're adding a query, it shouldn't be shadowed");else{const oe=Z.fold((xe,pt,bt)=>{if(!Ur(xe)&&pt&&Do(pt))return[Sc(pt).query];{let Nt=[];return pt&&(Nt=Nt.concat(hm(pt).map(mn=>mn.query))),ki(bt,(mn,Sn)=>{Nt=Nt.concat(Sn)}),Nt}});for(let xe=0;xe<oe.length;++xe){const pt=oe[xe];u.listenProvider_.stopListening(nh(pt),pd(u,pt))}}return O}(u,s,bt))}return pt}function dd(u,s,l){const v=u.pendingWriteTree_,T=u.syncPointTree_.findOnPath(s,(O,Z)=>{const xe=Vu(Z,Ns(O,s));if(xe)return xe});return Vf(v,s,T,l,!0)}function Bl(u,s){return fd(s,u.syncPointTree_,null,Fu(u.pendingWriteTree_,di()))}function fd(u,s,l,f){if(Ur(u.path))return Zf(u,s,l,f);{const v=s.get(di());null==l&&null!=v&&(l=Vu(v,di()));let T=[];const O=Hr(u.path),Z=u.operationForChild(O),oe=s.children.get(O);if(oe&&Z){const xe=l?l.getImmediateChild(O):null,pt=eg(f,O);T=T.concat(fd(Z,oe,xe,pt))}return v&&(T=T.concat(Xd(v,u,f,l))),T}}function Zf(u,s,l,f){const v=s.get(di());null==l&&null!=v&&(l=Vu(v,di()));let T=[];return s.children.inorderTraversal((O,Z)=>{const oe=l?l.getImmediateChild(O):null,xe=eg(f,O),pt=u.operationForChild(O);pt&&(T=T.concat(Zf(pt,Z,oe,xe)))}),v&&(T=T.concat(Xd(v,u,f,l))),T}function ag(u,s){const l=s.query,f=pd(u,l);return{hashFn:()=>(function Tc(u){return u.viewCache_.serverCache.getNode()}(s)||Un.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return f?function gm(u,s,l){const f=Zh(u,l);if(f){const v=th(f),T=v.path,O=v.queryId,Z=Ns(T,s);return js(u,T,new yc($h(O),Z))}return[]}(u,l._path,f):function pm(u,s){return Bl(u,new yc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(u,l._path);{const T=function Cu(u,s){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const f=new Error(u+" at "+s._path.toString()+": "+l);return f.code=u.toUpperCase(),f}(v,l);return Ac(u,l,null,T)}}}}function pd(u,s){const l=eh(s);return u.queryToTagMap.get(l)}function eh(u){return u._path.toString()+"$"+u._queryIdentifier}function Zh(u,s){return u.tagToQueryMap.get(s)}function th(u){const s=u.indexOf("$");return(0,pe.hu)(-1!==s&&s<u.length-1,"Bad queryKey."),{queryId:u.substr(s+1),path:new wi(u.substr(0,s))}}function js(u,s,l){const f=u.syncPointTree_.get(s);return(0,pe.hu)(f,"Missing sync point for query tag that we're tracking"),Xd(f,l,Fu(u.pendingWriteTree_,s),null)}function nh(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Kf(){return(0,pe.hu)(Wf,"Reference.ts has not been loaded"),Wf}())(u._repo,u._path):u}class lg{constructor(s){this.node_=s}getImmediateChild(s){const l=this.node_.getImmediateChild(s);return new lg(l)}node(){return this.node_}}class rh{constructor(s,l){this.syncTree_=s,this.path_=l}getImmediateChild(s){const l=Ii(this.path_,s);return new rh(this.syncTree_,l)}node(){return dd(this.syncTree_,this.path_)}}const ug=function(u,s,l){return u&&"object"==typeof u?((0,pe.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?ua(u[".sv"],s,l):"object"==typeof u[".sv"]?Xf(u[".sv"],s):void(0,pe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},ua=function(u,s,l){if("timestamp"===u)return l.timestamp;(0,pe.hu)(!1,"Unexpected server value: "+u)},Xf=function(u,s,l){u.hasOwnProperty("increment")||(0,pe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const f=u.increment;"number"!=typeof f&&(0,pe.hu)(!1,"Unexpected increment value: "+f);const v=s.node();if((0,pe.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return f;const O=v.getValue();return"number"!=typeof O?f:O+f},ih=function(u,s,l,f){return Qf(s,new rh(l,u),f)},Xh=function(u,s,l){return Qf(u,new lg(s),l)};function Qf(u,s,l){const f=u.getPriority().val(),v=ug(f,s.getImmediateChild(".priority"),l);let T;if(u.isLeafNode()){const O=u,Z=ug(O.getValue(),s,l);return Z!==O.getValue()||v!==O.getPriority().val()?new Va(Z,hi(v)):u}{const O=u;return T=O,v!==O.getPriority().val()&&(T=T.updatePriority(new Va(v))),O.forEachChild(Fi,(Z,oe)=>{const xe=Qf(oe,s.getImmediateChild(Z),l);xe!==oe&&(T=T.updateImmediateChild(Z,xe))}),T}}class sh{constructor(s="",l=null,f={children:{},childCount:0}){this.name=s,this.parent=l,this.node=f}}function Qh(u,s){let l=s instanceof wi?s:new wi(s),f=u,v=Hr(l);for(;null!==v;){const T=(0,pe.DV)(f.node.children,v)||{children:{},childCount:0};f=new sh(v,f,T),l=_i(l),v=Hr(l)}return f}function xc(u){return u.node.value}function Jh(u,s){u.node.value=s,Rc(u)}function Jf(u){return u.node.childCount>0}function ep(u,s){ki(u.node.children,(l,f)=>{s(new sh(l,u,f))})}function vm(u,s,l,f){l&&!f&&s(u),ep(u,v=>{vm(v,s,!0,f)}),l&&f&&s(u)}function Mc(u){return new wi(null===u.parent?u.name:Mc(u.parent)+"/"+u.name)}function Rc(u){null!==u.parent&&function dg(u,s,l){const f=function cy(u){return void 0===xc(u)&&!Jf(u)}(l),v=(0,pe.r3)(u.node.children,s);f&&v?(delete u.node.children[s],u.node.childCount--,Rc(u)):!f&&!v&&(u.node.children[s]=l.node,u.node.childCount++,Rc(u))}(u.parent,u.name,u)}const Em=/[\[\].#$\/\u0000-\u001F\u007F]/,bm=/[\[\].#$\u0000-\u001F\u007F]/,tp=10485760,np=function(u){return"string"==typeof u&&0!==u.length&&!Em.test(u)},Vl=function(u){return"string"==typeof u&&0!==u.length&&!bm.test(u)},$u=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!Us(u)||u&&"object"==typeof u&&(0,pe.r3)(u,".sv")},dl=function(u,s,l,f){f&&void 0===s||ju((0,pe.gK)(u,"value"),s,l)},ju=function(u,s,l){const f=l instanceof wi?new Rh(l,u):l;if(void 0===s)throw new Error(u+"contains undefined "+dc(f));if("function"==typeof s)throw new Error(u+"contains a function "+dc(f)+" with contents = "+s.toString());if(Us(s))throw new Error(u+"contains "+s.toString()+" "+dc(f));if("string"==typeof s&&s.length>tp/3&&(0,pe.ug)(s)>tp)throw new Error(u+"contains a string greater than "+tp+" utf8 bytes "+dc(f)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let v=!1,T=!1;if(ki(s,(O,Z)=>{if(".value"===O)v=!0;else if(".priority"!==O&&".sv"!==O&&(T=!0,!np(O)))throw new Error(u+" contains an invalid key ("+O+") "+dc(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function uc(u,s){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=(0,pe.ug)(s),cc(u)})(f,O),ju(u,Z,f),function Zc(u){const s=u.parts_.pop();u.byteLength_-=(0,pe.ug)(s),u.parts_.length>0&&(u.byteLength_-=1)}(f)}),v&&T)throw new Error(u+' contains ".value" child '+dc(f)+" in addition to actual children.")}},ef=function(u,s,l,f){if(f&&void 0===s)return;const v=(0,pe.gK)(u,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(v+" must be an object containing the children to replace.");const T=[];ki(s,(O,Z)=>{const oe=new wi(O);if(ju(v,Z,Ii(l,oe)),".priority"===Mh(oe)&&!$u(Z))throw new Error(v+"contains an invalid value for '"+oe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(oe)}),function(u,s){let l,f;for(l=0;l<s.length;l++){f=s[l];const T=Su(f);for(let O=0;O<T.length;O++)if((".priority"!==T[O]||O!==T.length-1)&&!np(T[O]))throw new Error(u+"contains an invalid key ("+T[O]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(Af);let v=null;for(l=0;l<s.length;l++){if(f=s[l],null!==v&&vi(v,f))throw new Error(u+"contains a path "+v.toString()+" that is ancestor of another path "+f.toString());v=f}}(v,T)},gd=function(u,s,l){if(!l||void 0!==s){if(Us(s))throw new Error((0,pe.gK)(u,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$u(s))throw new Error((0,pe.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},md=function(u,s,l,f){if(!(f&&void 0===l||np(l)))throw new Error((0,pe.gK)(u,s)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Oc=function(u,s,l,f){if(!(f&&void 0===l||Vl(l)))throw new Error((0,pe.gK)(u,s)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},wa=function(u,s){if(".info"===Hr(s))throw new Error(u+" failed = Can't modify data under /.info/")},hl=function(u,s){const l=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!np(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Vl(u)}(l))throw new Error((0,pe.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ip{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sp(u,s){let l=null;for(let f=0;f<s.length;f++){const v=s[f],T=v.getPath();null!==l&&!xf(T,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:T}),l.events.push(v)}l&&u.eventLists_.push(l)}function yd(u,s,l){sp(u,l),tf(u,f=>xf(f,s))}function Ia(u,s,l){sp(u,l),tf(u,f=>vi(f,s)||vi(s,f))}function tf(u,s){u.recursionDepth_++;let l=!0;for(let f=0;f<u.eventLists_.length;f++){const v=u.eventLists_[f];v&&(s(v.path)?(dy(u.eventLists_[f]),u.eventLists_[f]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}function dy(u){for(let s=0;s<u.events.length;s++){const l=u.events[s];if(null!==l){u.events[s]=null;const f=l.getEventRunner();is&&vr("event: "+l.toString()),va(f)}}}const op="repo_interrupt";class wm{constructor(s,l,f,v){this.repoInfo_=s,this.forceRestClient_=l,this.authTokenProvider_=f,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ip,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Co(),this.transactionQueueTree_=new sh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pc(u){const l=u.infoData_.getNode(new wi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Nc(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Pc(u)})}function pg(u,s,l,f,v){u.dataUpdateCount++;const T=new wi(s);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(s,l):l;let O=[];if(v)if(f){const oe=(0,pe.UI)(l,xe=>hi(xe));O=function cd(u,s,l,f){const v=Zh(u,f);if(v){const T=th(v),O=T.path,Z=T.queryId,oe=Ns(O,s),xe=Yi.fromObject(l);return js(u,O,new Pu($h(Z),oe,xe))}return[]}(u.serverSyncTree_,T,oe,v)}else{const oe=hi(l);O=function Jd(u,s,l,f){const v=Zh(u,f);if(null!=v){const T=th(v),O=T.path,Z=T.queryId,oe=Ns(O,s);return js(u,O,new _c($h(Z),oe,l))}return[]}(u.serverSyncTree_,T,oe,v)}else if(f){const oe=(0,pe.UI)(l,xe=>hi(xe));O=function og(u,s,l){const f=Yi.fromObject(l);return Bl(u,new Pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,f))}(u.serverSyncTree_,T,oe)}else{const oe=hi(l);O=Qd(u.serverSyncTree_,T,oe)}let Z=T;O.length>0&&(Z=bd(u,T)),Ia(u.eventQueue_,Z,O)}function gg(u,s){fl(u,"connected",s),!1===s&&function vg(u){Ga(u,"onDisconnectEvents");const s=Nc(u),l=Co();ll(u.onDisconnect_,di(),(v,T)=>{const O=ih(v,T,u.serverSyncTree_,s);al(l,v,O)});let f=[];ll(l,di(),(v,T)=>{f=f.concat(Qd(u.serverSyncTree_,v,T));const O=Eg(u,v);bd(u,O)}),u.onDisconnect_=Co(),Ia(u.eventQueue_,di(),f)}(u)}function fl(u,s,l){const f=new wi("/.info/"+s),v=hi(l);u.infoData_.updateSnapshot(f,v);const T=Qd(u.infoSyncTree_,f,v);Ia(u.eventQueue_,f,T)}function _d(u){return u.nextWriteId_++}function _g(u,s,l,f,v){Ga(u,"set",{path:s.toString(),value:l,priority:f});const T=Nc(u),O=hi(l,f),Z=dd(u.serverSyncTree_,s),oe=Xh(O,Z,T),xe=_d(u),pt=Yf(u.serverSyncTree_,s,oe,xe,!0);sp(u.eventQueue_,pt),u.server_.put(s.toString(),O.val(!0),(Nt,mn)=>{const Sn="ok"===Nt;Sn||ni("set at "+s+" failed: "+Nt);const kr=Uu(u.serverSyncTree_,xe,!Sn);Ia(u.eventQueue_,s,kr),pl(0,v,Nt,mn)});const bt=Eg(u,s);bd(u,bt),Ia(u.eventQueue_,bt,[])}function ap(u,s,l){u.server_.onDisconnectCancel(s.toString(),(f,v)=>{"ok"===f&&Lh(u.onDisconnect_,s),pl(0,l,f,v)})}function lp(u,s,l,f){const v=hi(l);u.server_.onDisconnectPut(s.toString(),v.val(!0),(T,O)=>{"ok"===T&&al(u.onDisconnect_,s,v),pl(0,f,T,O)})}function ah(u,s,l){let f;f=".info"===Hr(s._path)?Ac(u.infoSyncTree_,s,l):Ac(u.serverSyncTree_,s,l),yd(u.eventQueue_,s._path,f)}function rf(u){u.persistentConnection_&&u.persistentConnection_.interrupt(op)}function Ga(u,...s){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),vr(l,...s)}function pl(u,s,l,f){s&&va(()=>{if("ok"===l)s(null);else{const v=(l||"error").toUpperCase();let T=v;f&&(T+=": "+f);const O=new Error(T);O.code=v,s(O)}})}function kc(u,s,l){return dd(u.serverSyncTree_,s,l)||Un.EMPTY_NODE}function uh(u,s=u.transactionQueueTree_){if(s||ch(u,s),xc(s)){const l=Hu(u,s);(0,pe.hu)(l.length>0,"Sending zero length transaction queue"),l.every(v=>0===v.status)&&function Ul(u,s,l){const f=l.map(xe=>xe.currentWriteId),v=kc(u,s,f);let T=v;const O=v.hash();for(let xe=0;xe<l.length;xe++){const pt=l[xe];(0,pe.hu)(0===pt.status,"tryToSendTransactionQueue_: items in queue should all be run."),pt.status=1,pt.retryCount++;const bt=Ns(s,pt.path);T=T.updateChild(bt,pt.currentOutputSnapshotRaw)}const Z=T.val(!0),oe=s;u.server_.put(oe.toString(),Z,xe=>{Ga(u,"transaction put response",{path:oe.toString(),status:xe});let pt=[];if("ok"===xe){const bt=[];for(let Nt=0;Nt<l.length;Nt++)l[Nt].status=2,pt=pt.concat(Uu(u.serverSyncTree_,l[Nt].currentWriteId)),l[Nt].onComplete&&bt.push(()=>l[Nt].onComplete(null,!0,l[Nt].currentOutputSnapshotResolved)),l[Nt].unwatcher();ch(u,Qh(u.transactionQueueTree_,s)),uh(u,u.transactionQueueTree_),Ia(u.eventQueue_,s,pt);for(let Nt=0;Nt<bt.length;Nt++)va(bt[Nt])}else{if("datastale"===xe)for(let bt=0;bt<l.length;bt++)l[bt].status=3===l[bt].status?4:0;else{ni("transaction at "+oe.toString()+" failed: "+xe);for(let bt=0;bt<l.length;bt++)l[bt].status=4,l[bt].abortReason=xe}bd(u,s)}},O)}(u,Mc(s),l)}else Jf(s)&&ep(s,l=>{uh(u,l)})}function bd(u,s){const l=up(u,s),f=Mc(l);return function hy(u,s,l){if(0===s.length)return;const f=[];let v=[];const O=s.filter(Z=>0===Z.status).map(Z=>Z.currentWriteId);for(let Z=0;Z<s.length;Z++){const oe=s[Z],xe=Ns(l,oe.path);let bt,pt=!1;if((0,pe.hu)(null!==xe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===oe.status)pt=!0,bt=oe.abortReason,v=v.concat(Uu(u.serverSyncTree_,oe.currentWriteId,!0));else if(0===oe.status)if(oe.retryCount>=25)pt=!0,bt="maxretry",v=v.concat(Uu(u.serverSyncTree_,oe.currentWriteId,!0));else{const Nt=kc(u,oe.path,O);oe.currentInputSnapshot=Nt;const mn=s[Z].update(Nt.val());if(void 0!==mn){ju("transaction failed: Data returned ",mn,oe.path);let Sn=hi(mn);"object"==typeof mn&&null!=mn&&(0,pe.r3)(mn,".priority")||(Sn=Sn.updatePriority(Nt.getPriority()));const Wr=oe.currentWriteId,To=Nc(u),Xs=Xh(Sn,Nt,To);oe.currentOutputSnapshotRaw=Sn,oe.currentOutputSnapshotResolved=Xs,oe.currentWriteId=_d(u),O.splice(O.indexOf(Wr),1),v=v.concat(Yf(u.serverSyncTree_,oe.path,Xs,oe.currentWriteId,oe.applyLocally)),v=v.concat(Uu(u.serverSyncTree_,Wr,!0))}else pt=!0,bt="nodata",v=v.concat(Uu(u.serverSyncTree_,oe.currentWriteId,!0))}Ia(u.eventQueue_,l,v),v=[],pt&&(s[Z].status=2,setTimeout(s[Z].unwatcher,Math.floor(0)),s[Z].onComplete&&f.push("nodata"===bt?()=>s[Z].onComplete(null,!1,s[Z].currentInputSnapshot):()=>s[Z].onComplete(new Error(bt),!1,null)))}ch(u,u.transactionQueueTree_);for(let Z=0;Z<f.length;Z++)va(f[Z]);uh(u,u.transactionQueueTree_)}(u,Hu(u,l),f),f}function up(u,s){let l,f=u.transactionQueueTree_;for(l=Hr(s);null!==l&&void 0===xc(f);)f=Qh(f,l),l=Hr(s=_i(s));return f}function Hu(u,s){const l=[];return cp(u,s,l),l.sort((f,v)=>f.order-v.order),l}function cp(u,s,l){const f=xc(s);if(f)for(let v=0;v<f.length;v++)l.push(f[v]);ep(s,v=>{cp(u,v,l)})}function ch(u,s){const l=xc(s);if(l){let f=0;for(let v=0;v<l.length;v++)2!==l[v].status&&(l[f]=l[v],f++);l.length=f,Jh(s,l.length>0?l:void 0)}ep(s,f=>{ch(u,f)})}function Eg(u,s){const l=Mc(up(u,s)),f=Qh(u.transactionQueueTree_,s);return function cg(u,s,l){let f=l?u:u.parent;for(;null!==f;){if(s(f))return!0;f=f.parent}}(f,v=>{bg(u,v)}),bg(u,f),vm(f,v=>{bg(u,v)}),l}function bg(u,s){const l=xc(s);if(l){const f=[];let v=[],T=-1;for(let O=0;O<l.length;O++)3===l[O].status||(1===l[O].status?((0,pe.hu)(T===O-1,"All SENT items should be at beginning of queue."),T=O,l[O].status=3,l[O].abortReason="set"):((0,pe.hu)(0===l[O].status,"Unexpected transaction status in abort"),l[O].unwatcher(),v=v.concat(Uu(u.serverSyncTree_,l[O].currentWriteId,!0)),l[O].onComplete&&f.push(l[O].onComplete.bind(null,new Error("set"),!1,null))));-1===T?Jh(s,void 0):l.length=T+1,Ia(u.eventQueue_,Mc(s),v);for(let O=0;O<f.length;O++)va(f[O])}}const dp=function(u,s){const l=wg(u),f=l.namespace;return"firebase.com"===l.domain&&ss(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==l.domain&&ss("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ni("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new el(l.host,l.secure,f,"ws"===l.scheme||"wss"===l.scheme,s,"",f!==l.subdomain),path:new wi(l.pathString)}},wg=function(u){let s="",l="",f="",v="",T="",O=!0,Z="https",oe=443;if("string"==typeof u){let xe=u.indexOf("//");xe>=0&&(Z=u.substring(0,xe-1),u=u.substring(xe+2));let pt=u.indexOf("/");-1===pt&&(pt=u.length);let bt=u.indexOf("?");-1===bt&&(bt=u.length),s=u.substring(0,Math.min(pt,bt)),pt<bt&&(v=function za(u){let s="";const l=u.split("/");for(let f=0;f<l.length;f++)if(l[f].length>0){let v=l[f];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(T){}s+="/"+v}return s}(u.substring(pt,bt)));const Nt=function sf(u){const s={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const f=l.split("=");2===f.length?s[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):ni(`Invalid query segment '${l}' in query '${u}'`)}return s}(u.substring(Math.min(u.length,bt)));xe=s.indexOf(":"),xe>=0?(O="https"===Z||"wss"===Z,oe=parseInt(s.substring(xe+1),10)):xe=s.length;const mn=s.slice(0,xe);if("localhost"===mn.toLowerCase())l="localhost";else if(mn.split(".").length<=2)l=mn;else{const Sn=s.indexOf(".");f=s.substring(0,Sn).toLowerCase(),l=s.substring(Sn+1),T=f}"ns"in Nt&&(T=Nt.ns)}return{host:s,port:oe,domain:l,subdomain:f,secure:O,scheme:Z,pathString:v,namespace:T}};class Ig{constructor(s,l,f,v){this.eventType=s,this.eventRegistration=l,this.snapshot=f,this.prevName=v}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,pe.Pz)(this.snapshot.exportVal())}}class hp{constructor(s,l,f){this.eventRegistration=s,this.error=l,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Cg{constructor(s,l){this.snapshotCallback=s,this.cancelCallback=l}onValue(s,l){this.snapshotCallback.call(null,s,l)}onCancel(s){return(0,pe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class Dg{constructor(s,l){this._repo=s,this._path=l}cancel(){const s=new pe.BH;return ap(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){wa("OnDisconnect.remove",this._path);const s=new pe.BH;return lp(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){wa("OnDisconnect.set",this._path),dl("OnDisconnect.set",s,this._path,!1);const l=new pe.BH;return lp(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}setWithPriority(s,l){wa("OnDisconnect.setWithPriority",this._path),dl("OnDisconnect.setWithPriority",s,this._path,!1),gd("OnDisconnect.setWithPriority",l,!1);const f=new pe.BH;return function vd(u,s,l,f,v){const T=hi(l,f);u.server_.onDisconnectPut(s.toString(),T.val(!0),(O,Z)=>{"ok"===O&&al(u.onDisconnect_,s,T),pl(0,v,O,Z)})}(this._repo,this._path,s,l,f.wrapCallback(()=>{})),f.promise}update(s){wa("OnDisconnect.update",this._path),ef("OnDisconnect.update",s,this._path,!1);const l=new pe.BH;return function Dm(u,s,l,f){if((0,pe.xb)(l))return vr("onDisconnect().update() called with empty data.  Don't do anything."),void pl(0,f,"ok",void 0);u.server_.onDisconnectMerge(s.toString(),l,(v,T)=>{"ok"===v&&ki(l,(O,Z)=>{const oe=hi(Z);al(u.onDisconnect_,Ii(s,O),oe)}),pl(0,f,v,T)})}(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}}class ca{constructor(s,l,f,v){this._repo=s,this._path=l,this._queryParams=f,this._orderByCalled=v}get key(){return Ur(this._path)?null:Mh(this._path)}get ref(){return new Wa(this._repo,this._path)}get _queryIdentifier(){const s=tr(this._queryParams),l=_a(s);return"{}"===l?"default":l}get _queryObject(){return tr(this._queryParams)}isEqual(s){if(!((s=(0,pe.m9)(s))instanceof ca))return!1;const l=this._repo===s._repo,f=xf(this._path,s._path);return l&&f&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function bo(u){let s="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(s+="/"+encodeURIComponent(String(u.pieces_[l])));return s||"/"}(this._path)}}function fp(u,s){if(!0===u._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function Gu(u){let s=null,l=null;if(u.hasStart()&&(s=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===no){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Ys)throw new Error(f);if("string"!=typeof s)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==Eo)throw new Error(f);if("string"!=typeof l)throw new Error(v)}}else if(u.getIndex()===Fi){if(null!=s&&!$u(s)||null!=l&&!$u(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,pe.hu)(u.getIndex()instanceof nd||u.getIndex()===Ou,"unknown index type."),null!=s&&"object"==typeof s||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tg(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Wa extends ca{constructor(s,l){super(s,l,new I,!1)}get parent(){const s=wo(this._path);return null===s?null:new Wa(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class zu{constructor(s,l,f){this._node=s,this.ref=l,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const l=new wi(s),f=dh(this.ref,s);return new zu(this._node.getChild(l),f,Fi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,v)=>s(new zu(v,dh(this.ref,f),Fi)))}hasChild(s){const l=new wi(s);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pp(u,s){return(u=(0,pe.m9)(u))._checkNotDeleted("ref"),void 0!==s?dh(u._root,s):u._root}function Sg(u,s){(u=(0,pe.m9)(u))._checkNotDeleted("refFromURL");const l=dp(s,u._repo.repoInfo_.nodeAdmin);hl("refFromURL",l);const f=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&f.host!==u._repo.repoInfo_.host&&ss("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+u._repo.repoInfo_.host+")"),pp(u,l.path.toString())}function dh(u,s){return null===Hr((u=(0,pe.m9)(u))._path)?(l=s,l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Oc("child","path",l,!1)):Oc("child","path",s,!1),new Wa(u._repo,Ii(u._path,s));var l}function af(u,s){u=(0,pe.m9)(u),wa("set",u._path),dl("set",s,u._path,!1);const l=new pe.BH;return _g(u._repo,u._path,s,null,l.wrapCallback(()=>{})),l.promise}function Xy(u,s){ef("update",s,u._path,!1);const l=new pe.BH;return function Cm(u,s,l,f){Ga(u,"update",{path:s.toString(),value:l});let v=!0;const T=Nc(u),O={};if(ki(l,(Z,oe)=>{v=!1,O[Z]=ih(Ii(s,Z),hi(oe),u.serverSyncTree_,T)}),v)vr("update() called with empty data.  Don't do anything."),pl(0,f,"ok",void 0);else{const Z=_d(u),oe=function pu(u,s,l,f){!function Lf(u,s,l,f){(0,pe.hu)(f>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:s,children:l,writeId:f,visible:!0}),u.visibleWrites=Ec(u.visibleWrites,s,l),u.lastWriteId=f}(u.pendingWriteTree_,s,l,f);const v=Yi.fromObject(l);return Bl(u,new Pu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,v))}(u.serverSyncTree_,s,O,Z);sp(u.eventQueue_,oe),u.server_.merge(s.toString(),l,(xe,pt)=>{const bt="ok"===xe;bt||ni("update at "+s+" failed: "+xe);const Nt=Uu(u.serverSyncTree_,Z,!bt),mn=Nt.length>0?bd(u,s):s;Ia(u.eventQueue_,mn,Nt),pl(0,f,xe,pt)}),ki(l,xe=>{const pt=Eg(u,Ii(s,xe));bd(u,pt)}),Ia(u.eventQueue_,s,[])}}(u._repo,u._path,s,l.wrapCallback(()=>{})),l.promise}function Sm(u){return function yg(u,s){const l=function hd(u,s){const l=s._path;let f=null;u.syncPointTree_.foreachOnPath(l,(xe,pt)=>{const bt=Ns(xe,l);f=f||Vu(pt,bt)});let v=u.syncPointTree_.get(l);v?f=f||Vu(v,di()):(v=new cm,u.syncPointTree_=u.syncPointTree_.set(l,v));const T=null!=f,O=T?new vc(f,!0,!1):null;return function ud(u){return Nf(u.viewCache_)}(dm(v,s,Fu(u.pendingWriteTree_,s._path),T?O.getNode():Un.EMPTY_NODE,T))}(u.serverSyncTree_,s);return null!=l?Promise.resolve(l):u.server_.get(s).then(f=>{const v=hi(f).withIndex(s._queryParams.getIndex()),T=Qd(u.serverSyncTree_,s._path,v);return yd(u.eventQueue_,s._path,T),Promise.resolve(v)},f=>(Ga(u,"get for query "+(0,pe.Pz)(s)+" failed: "+f),Promise.reject(new Error(f))))}((u=(0,pe.m9)(u))._repo,u).then(s=>new zu(s,new Wa(u._repo,u._path),u._queryParams.getIndex()))}class lf{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,l){const f=l._queryParams.getIndex();return new Ig("value",this,new zu(s.snapshotNode,new Wa(l._repo,l._path),f))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new hp(this,s,l):null}matches(s){return s instanceof lf&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class wd{constructor(s,l){this.eventType=s,this.callbackContext=l}respondsTo(s){let l="children_added"===s?"child_added":s;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new hp(this,s,l):null}createEvent(s,l){(0,pe.hu)(null!=s.childName,"Child events should have a childName.");const f=dh(new Wa(l._repo,l._path),s.childName),v=l._queryParams.getIndex();return new Ig(s.type,this,new zu(s.snapshotNode,f,v),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof wd&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function hh(u,s,l,f,v){let T;if("object"==typeof f&&(T=void 0,v=f),"function"==typeof f&&(T=f),v&&v.onlyOnce){const oe=l,xe=(pt,bt)=>{ah(u._repo,u,Z),oe(pt,bt)};xe.userCallback=l.userCallback,xe.context=l.context,l=xe}const O=new Cg(l,T||void 0),Z="value"===s?new lf(O):new wd(s,O);return function nf(u,s,l){let f;f=".info"===Hr(s._path)?gu(u.infoSyncTree_,s,l):gu(u.serverSyncTree_,s,l),yd(u.eventQueue_,s._path,f)}(u._repo,u,Z),()=>ah(u._repo,u,Z)}function uf(u,s,l,f){return hh(u,"value",s,l,f)}function py(u,s,l,f){return hh(u,"child_added",s,l,f)}function cf(u,s,l,f){return hh(u,"child_changed",s,l,f)}function fh(u,s,l,f){return hh(u,"child_moved",s,l,f)}function yp(u,s,l,f){return hh(u,"child_removed",s,l,f)}function Wu(u,s,l){let f=null;const v=l?new Cg(l):null;"value"===s?f=new lf(v):s&&(f=new wd(s,v)),ah(u._repo,u,f)}class ml{}class _p extends ml{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){dl("endAt",this._value,s._path,!0);const l=rt(s._queryParams,this._value,this._key);if(Tg(l),Gu(l),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class Ag extends ml{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){dl("endBefore",this._value,s._path,!1);const l=function Ut(u,s,l){let f,v;return u.index_===no?("string"==typeof s&&(s=ou(s)),v=rt(u,s,l)):(f=null==l?Ys:ou(l),v=rt(u,s,f)),v.endBeforeSet_=!0,v}(s._queryParams,this._value,this._key);if(Tg(l),Gu(l),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class vp extends ml{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){dl("startAt",this._value,s._path,!0);const l=W(s._queryParams,this._value,this._key);if(Tg(l),Gu(l),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class Fc extends ml{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){dl("startAfter",this._value,s._path,!1);const l=function he(u,s,l){let f;if(u.index_===no)"string"==typeof s&&(s=Wo(s)),f=W(u,s,l);else{let v;v=null==l?Eo:Wo(l),f=W(u,s,v)}return f.startAfterSet_=!0,f}(s._queryParams,this._value,this._key);if(Tg(l),Gu(l),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class df extends ml{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ca(s._repo,s._path,function _(u,s){const l=u.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="l",l}(s._queryParams,this._limit),s._orderByCalled)}}class yy extends ml{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ca(s._repo,s._path,function A(u,s){const l=u.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="r",l}(s._queryParams,this._limit),s._orderByCalled)}}class mu extends ml{constructor(s){super(),this._path=s}_apply(s){fp(s,"orderByChild");const l=new wi(this._path);if(Ur(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new nd(l),v=pn(s._queryParams,f);return Gu(v),new ca(s._repo,s._path,v,!0)}}class Ko extends ml{_apply(s){fp(s,"orderByKey");const l=pn(s._queryParams,no);return Gu(l),new ca(s._repo,s._path,l,!0)}}class ff extends ml{_apply(s){fp(s,"orderByPriority");const l=pn(s._queryParams,Fi);return Gu(l),new ca(s._repo,s._path,l,!0)}}class bp extends ml{_apply(s){fp(s,"orderByValue");const l=pn(s._queryParams,Ou);return Gu(l),new ca(s._repo,s._path,l,!0)}}class gh extends ml{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){if(dl("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _p(this._value,this._key)._apply(new vp(this._value,this._key)._apply(s))}}function Yo(u,...s){let l=(0,pe.m9)(u);for(const f of s)l=f._apply(l);return l}(function ig(u){(0,pe.hu)(!Yd,"__referenceConstructor has already been defined"),Yd=u})(Wa),function qf(u){(0,pe.hu)(!Wf,"__referenceConstructor has already been defined"),Wf=u}(Wa);const yu={};function Vc(u,s,l,f,v){let T=f||u.options.databaseURL;void 0===T&&(u.options.projectId||ss("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vr("Using default host for project ",u.options.projectId),T=`${u.options.projectId}-default-rtdb.firebaseio.com`);let oe,xe,O=dp(T,v),Z=O.repoInfo;"undefined"!=typeof process&&process.env&&(xe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),xe?(oe=!0,T=`http://${xe}?ns=${Z.namespace}`,O=dp(T,v),Z=O.repoInfo):oe=!O.repoInfo.secure;const pt=v&&oe?new le(le.OWNER):new G(u.name,u.options,s);hl("Invalid Firebase Database URL",O),Ur(O.path)||ss("Database URL must point to the root of a Firebase Database (not including a child path).");const bt=function Am(u,s,l,f){let v=yu[s.name];v||(v={},yu[s.name]=v);let T=v[u.toURLString()];return T&&ss("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new wm(u,false,l,f),v[u.toURLString()]=T,T}(Z,u,pt,new B(u.name,l));return new Rg(bt,u)}class Rg{constructor(s,l){this._repoInternal=s,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Im(u,s,l){if(u.stats_=oi(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new $n(u.repoInfo_,(f,v,T,O)=>{pg(u,f,v,T,O)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>gg(u,!0),0);else{if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,pe.Pz)(l)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}u.persistentConnection_=new kl(u.repoInfo_,s,(f,v,T,O)=>{pg(u,f,v,T,O)},f=>{gg(u,f)},f=>{!function mg(u,s){ki(s,(l,f)=>{fl(u,l,f)})}(u,f)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(f=>{u.server_.refreshAuthToken(f)}),u.appCheckProvider_.addTokenChangeListener(f=>{u.server_.refreshAppCheckToken(f.token)}),u.statsReporter_=function Xl(u,s){const l=u.toString();return ys[l]||(ys[l]=s()),ys[l]}(u.repoInfo_,()=>new Vh(u.stats_,u.server_)),u.infoData_=new Fs,u.infoSyncTree_=new Yh({startListening:(f,v,T,O)=>{let Z=[];const oe=u.infoData_.getNode(f._path);return oe.isEmpty()||(Z=Qd(u.infoSyncTree_,f._path,oe),setTimeout(()=>{O("ok")},0)),Z},stopListening:()=>{}}),fl(u,"connected",!1),u.serverSyncTree_=new Yh({startListening:(f,v,T,O)=>(u.server_.listen(f,T,v,(Z,oe)=>{const xe=O(Z,oe);Ia(u.eventQueue_,f._path,xe)}),[]),stopListening:(f,v)=>{u.server_.unlisten(f,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wa(this._repo,di())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Mg(u,s){const l=yu[s];(!l||l[u.key]!==u)&&ss(`Database ${s}(${u.repoInfo_}) has already been deleted.`),rf(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&ss("Cannot call "+s+" on a deleted database.")}}function yh(){Nl.IS_TRANSPORT_INITIALIZED&&ni("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xm(){yh(),eu.forceDisallow()}function Mm(){yh(),Tu.forceDisallow(),eu.forceAllow()}function Pm(u,s){Ho(u,s)}const Dp={".sv":"timestamp"};class Sp{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}kl.prototype.simpleListen=function(u,s){this.sendRequest("q",{p:u},s)},kl.prototype.echo=function(u,s){this.sendRequest("echo",{d:u},s)},function Cp(u){Xn(un.SDK_VERSION),(0,un._registerComponent)(new xr.wA("database",(s,{instanceIdentifier:l})=>Vc(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(to,"0.13.0",u),(0,un.registerVersion)(to,"0.13.0","esm2017")}();const kg=new sr.Yd("@firebase/database-compat"),Ap=function(u){kg.warn("FIREBASE WARNING: "+u)};class by{constructor(s){this._delegate=s}cancel(s){(0,pe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,pe.Wj)("OnDisconnect.cancel","onComplete",s,!0);const l=this._delegate.cancel();return s&&l.then(()=>s(null),f=>s(f)),l}remove(s){(0,pe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,pe.Wj)("OnDisconnect.remove","onComplete",s,!0);const l=this._delegate.remove();return s&&l.then(()=>s(null),f=>s(f)),l}set(s,l){(0,pe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,pe.Wj)("OnDisconnect.set","onComplete",l,!0);const f=this._delegate.set(s);return l&&f.then(()=>l(null),v=>l(v)),f}setWithPriority(s,l,f){(0,pe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,pe.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const v=this._delegate.setWithPriority(s,l);return f&&v.then(()=>f(null),T=>f(T)),v}update(s,l){if((0,pe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const v={};for(let T=0;T<s.length;++T)v[""+T]=s[T];s=v,Ap("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,pe.Wj)("OnDisconnect.update","onComplete",l,!0);const f=this._delegate.update(s);return l&&f.then(()=>l(null),v=>l(v)),f}}class Qy{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return(0,pe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Uc{constructor(s,l){this._database=s,this._delegate=l}val(){return(0,pe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,pe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,pe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,pe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,pe.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),Oc("DataSnapshot.child","path",s,!1),new Uc(this._database,this._delegate.child(s))}hasChild(s){return(0,pe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Oc("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,pe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,pe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,pe.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(l=>s(new Uc(this._database,l)))}hasChildren(){return(0,pe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,pe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,pe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Da(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vo{constructor(s,l){this.database=s,this._delegate=l}on(s,l,f,v){var T;(0,pe.Dv)("Query.on",2,4,arguments.length),(0,pe.Wj)("Query.on","callback",l,!1);const O=Vo.getCancelAndContextArgs_("Query.on",f,v),Z=(xe,pt)=>{l.call(O.context,new Uc(this.database,xe),pt)};Z.userCallback=l,Z.context=O.context;const oe=null===(T=O.cancel)||void 0===T?void 0:T.bind(O.context);switch(s){case"value":return uf(this._delegate,Z,oe),l;case"child_added":return py(this._delegate,Z,oe),l;case"child_removed":return yp(this._delegate,Z,oe),l;case"child_changed":return cf(this._delegate,Z,oe),l;case"child_moved":return fh(this._delegate,Z,oe),l;default:throw new Error((0,pe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,l,f){if((0,pe.Dv)("Query.off",0,3,arguments.length),function(u,s,l){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,pe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,pe.Wj)("Query.off","callback",l,!0),(0,pe.lb)("Query.off","context",f,!0),l){const v=()=>{};v.userCallback=l,v.context=f,Wu(this._delegate,s,v)}else Wu(this._delegate,s)}get(){return Sm(this._delegate).then(s=>new Uc(this.database,s))}once(s,l,f,v){(0,pe.Dv)("Query.once",1,4,arguments.length),(0,pe.Wj)("Query.once","callback",l,!0);const T=Vo.getCancelAndContextArgs_("Query.once",f,v),O=new pe.BH,Z=(xe,pt)=>{const bt=new Uc(this.database,xe);l&&l.call(T.context,bt,pt),O.resolve(bt)};Z.userCallback=l,Z.context=T.context;const oe=xe=>{T.cancel&&T.cancel.call(T.context,xe),O.reject(xe)};switch(s){case"value":uf(this._delegate,Z,oe,{onlyOnce:!0});break;case"child_added":py(this._delegate,Z,oe,{onlyOnce:!0});break;case"child_removed":yp(this._delegate,Z,oe,{onlyOnce:!0});break;case"child_changed":cf(this._delegate,Z,oe,{onlyOnce:!0});break;case"child_moved":fh(this._delegate,Z,oe,{onlyOnce:!0});break;default:throw new Error((0,pe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return O.promise}limitToFirst(s){return(0,pe.Dv)("Query.limitToFirst",1,1,arguments.length),new Vo(this.database,Yo(this._delegate,function xg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new df(u)}(s)))}limitToLast(s){return(0,pe.Dv)("Query.limitToLast",1,1,arguments.length),new Vo(this.database,Yo(this._delegate,function hf(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yy(u)}(s)))}orderByChild(s){return(0,pe.Dv)("Query.orderByChild",1,1,arguments.length),new Vo(this.database,Yo(this._delegate,function Id(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Oc("orderByChild","path",u,!1),new mu(u)}(s)))}orderByKey(){return(0,pe.Dv)("Query.orderByKey",0,0,arguments.length),new Vo(this.database,Yo(this._delegate,function Ku(){return new Ko}()))}orderByPriority(){return(0,pe.Dv)("Query.orderByPriority",0,0,arguments.length),new Vo(this.database,Yo(this._delegate,function Ca(){return new ff}()))}orderByValue(){return(0,pe.Dv)("Query.orderByValue",0,0,arguments.length),new Vo(this.database,Yo(this._delegate,function ph(){return new bp}()))}startAt(s=null,l){return(0,pe.Dv)("Query.startAt",0,2,arguments.length),new Vo(this.database,Yo(this._delegate,function Ep(u=null,s){return md("startAt","key",s,!0),new vp(u,s)}(s,l)))}startAfter(s=null,l){return(0,pe.Dv)("Query.startAfter",0,2,arguments.length),new Vo(this.database,Yo(this._delegate,function my(u,s){return md("startAfter","key",s,!0),new Fc(u,s)}(s,l)))}endAt(s=null,l){return(0,pe.Dv)("Query.endAt",0,2,arguments.length),new Vo(this.database,Yo(this._delegate,function gy(u,s){return md("endAt","key",s,!0),new _p(u,s)}(s,l)))}endBefore(s=null,l){return(0,pe.Dv)("Query.endBefore",0,2,arguments.length),new Vo(this.database,Yo(this._delegate,function qu(u,s){return md("endBefore","key",s,!0),new Ag(u,s)}(s,l)))}equalTo(s,l){return(0,pe.Dv)("Query.equalTo",1,2,arguments.length),new Vo(this.database,Yo(this._delegate,function Lc(u,s){return md("equalTo","key",s,!0),new gh(u,s)}(s,l)))}toString(){return(0,pe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,pe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,pe.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof Vo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,l,f){const v={cancel:void 0,context:void 0};if(l&&f)v.cancel=l,(0,pe.Wj)(s,"cancel",v.cancel,!0),v.context=f,(0,pe.lb)(s,"context",v.context,!0);else if(l)if("object"==typeof l&&null!==l)v.context=l;else{if("function"!=typeof l)throw new Error((0,pe.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=l}return v}get ref(){return new Da(this.database,new Wa(this._delegate._repo,this._delegate._path))}}class Da extends Vo{constructor(s,l){super(s,new ca(l._repo,l._path,new I,!1)),this.database=s,this._delegate=l}getKey(){return(0,pe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,pe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new Da(this.database,dh(this._delegate,s))}getParent(){(0,pe.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new Da(this.database,s):null}getRoot(){return(0,pe.Dv)("Reference.root",0,0,arguments.length),new Da(this.database,this._delegate.root)}set(s,l){(0,pe.Dv)("Reference.set",1,2,arguments.length),(0,pe.Wj)("Reference.set","onComplete",l,!0);const f=af(this._delegate,s);return l&&f.then(()=>l(null),v=>l(v)),f}update(s,l){if((0,pe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const v={};for(let T=0;T<s.length;++T)v[""+T]=s[T];s=v,Ap("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wa("Reference.update",this._delegate._path),(0,pe.Wj)("Reference.update","onComplete",l,!0);const f=Xy(this._delegate,s);return l&&f.then(()=>l(null),v=>l(v)),f}setWithPriority(s,l,f){(0,pe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,pe.Wj)("Reference.setWithPriority","onComplete",f,!0);const v=function gl(u,s,l){if(wa("setWithPriority",u._path),dl("setWithPriority",s,u._path,!1),gd("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const f=new pe.BH;return _g(u._repo,u._path,s,l,f.wrapCallback(()=>{})),f.promise}(this._delegate,s,l);return f&&v.then(()=>f(null),T=>f(T)),v}remove(s){(0,pe.Dv)("Reference.remove",0,1,arguments.length),(0,pe.Wj)("Reference.remove","onComplete",s,!0);const l=function mp(u){return wa("remove",u._path),af(u,null)}(this._delegate);return s&&l.then(()=>s(null),f=>s(f)),l}transaction(s,l,f){(0,pe.Dv)("Reference.transaction",1,3,arguments.length),(0,pe.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,pe.Wj)("Reference.transaction","onComplete",l,!0),function(u,s,l,f){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,pe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const v=function Nm(u,s,l){var f;if(u=(0,pe.m9)(u),wa("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const v=null===(f=null==l?void 0:l.applyLocally)||void 0===f||f,T=new pe.BH,Z=uf(u,()=>{});return function lh(u,s,l,f,v,T){Ga(u,"transaction on "+s);const O={path:s,update:l,onComplete:f,status:null,order:ws(),applyLocally:T,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Z=kc(u,s,void 0);O.currentInputSnapshot=Z;const oe=O.update(Z.val());if(void 0===oe)O.unwatcher(),O.currentOutputSnapshotRaw=null,O.currentOutputSnapshotResolved=null,O.onComplete&&O.onComplete(null,!1,O.currentInputSnapshot);else{ju("transaction failed: Data returned ",oe,O.path),O.status=0;const xe=Qh(u.transactionQueueTree_,s),pt=xc(xe)||[];let bt;pt.push(O),Jh(xe,pt),"object"==typeof oe&&null!==oe&&(0,pe.r3)(oe,".priority")?(bt=(0,pe.DV)(oe,".priority"),(0,pe.hu)($u(bt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):bt=(dd(u.serverSyncTree_,s)||Un.EMPTY_NODE).getPriority().val();const Nt=Nc(u),mn=hi(oe,bt),Sn=Xh(mn,Z,Nt);O.currentOutputSnapshotRaw=mn,O.currentOutputSnapshotResolved=Sn,O.currentWriteId=_d(u);const kr=Yf(u.serverSyncTree_,s,Sn,O.currentWriteId,O.applyLocally);Ia(u.eventQueue_,s,kr),uh(u,u.transactionQueueTree_)}}(u._repo,u._path,s,(oe,xe,pt)=>{let bt=null;oe?T.reject(oe):(bt=new zu(pt,new Wa(u._repo,u._path),Fi),T.resolve(new Sp(xe,bt)))},Z,v),T.promise}(this._delegate,s,{applyLocally:f}).then(T=>new Qy(T.committed,new Uc(this.database,T.snapshot)));return l&&v.then(T=>l(null,T.committed,T.snapshot),T=>l(T,!1,null)),v}setPriority(s,l){(0,pe.Dv)("Reference.setPriority",1,2,arguments.length),(0,pe.Wj)("Reference.setPriority","onComplete",l,!0);const f=function Tm(u,s){u=(0,pe.m9)(u),wa("setPriority",u._path),gd("setPriority",s,!1);const l=new pe.BH;return _g(u._repo,Ii(u._path,".priority"),s,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,s);return l&&f.then(()=>l(null),v=>l(v)),f}push(s,l){(0,pe.Dv)("Reference.push",0,2,arguments.length),(0,pe.Wj)("Reference.push","onComplete",l,!0);const f=function fy(u,s){u=(0,pe.m9)(u),wa("push",u._path),dl("push",s,u._path,!0);const l=Pc(u._repo),f=Of(l),v=dh(u,f),T=dh(u,f);let O;return O=null!=s?af(T,s).then(()=>T):Promise.resolve(T),v.then=O.then.bind(O),v.catch=O.then.bind(O,void 0),v}(this._delegate,s),v=f.then(O=>new Da(this.database,O));l&&v.then(()=>l(null),O=>l(O));const T=new Da(this.database,f);return T.then=v.then.bind(v),T.catch=v.catch.bind(v,void 0),T}onDisconnect(){return wa("Reference.onDisconnect",this._delegate._path),new by(new Dg(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class xp{constructor(s,l){this._delegate=s,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xm,forceLongPolling:Mm}}useEmulator(s,l,f={}){!function Rm(u,s,l,f={}){(u=(0,pe.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&ss("Cannot call useEmulator() after instance has already been initialized.");const v=u._repoInternal;let T;if(v.repoInfo_.nodeAdmin)f.mockUserToken&&ss('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new le(le.OWNER);else if(f.mockUserToken){const O="string"==typeof f.mockUserToken?f.mockUserToken:(0,pe.Sg)(f.mockUserToken,u.app.options.projectId);T=new le(O)}!function mh(u,s,l,f){u.repoInfo_=new el(`${s}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),f&&(u.authTokenProvider_=f)}(v,s,l,T)}(this._delegate,s,l,f)}ref(s){if((0,pe.Dv)("database.ref",0,1,arguments.length),s instanceof Da){const l=Sg(this._delegate,s.toString());return new Da(this,l)}{const l=pp(this._delegate,s);return new Da(this,l)}}refFromURL(s){(0,pe.Dv)("database.refFromURL",1,1,arguments.length);const f=Sg(this._delegate,s);return new Da(this,f)}goOffline(){return(0,pe.Dv)("database.goOffline",0,0,arguments.length),function Om(u){(u=(0,pe.m9)(u))._checkNotDeleted("goOffline"),rf(u._repo)}(this._delegate)}goOnline(){return(0,pe.Dv)("database.goOnline",0,0,arguments.length),function Ip(u){(u=(0,pe.m9)(u))._checkNotDeleted("goOnline"),function Ed(u){u.persistentConnection_&&u.persistentConnection_.resume(op)}(u._repo)}(this._delegate)}}xp.ServerValue={TIMESTAMP:function Og(){return Dp}(),increment:u=>function Tp(u){return{".sv":{increment:u}}}(u)};var Cd=Object.freeze({__proto__:null,initStandalone:function wy({app:u,url:s,version:l,customAuthImpl:f,namespace:v,nodeAdmin:T=!1}){Xn(l);const O=new xr.zt("auth-internal",new xr.H0("database-standalone"));return O.setComponent(new xr.wA("auth-internal",()=>f,"PRIVATE")),{instance:new xp(Vc(u,O,void 0,s,T),u),namespace:v}}});const Lg=xp.ServerValue;!function Bg(u){u.INTERNAL.registerComponent(new xr.wA("database-compat",(s,{instanceIdentifier:l})=>{const f=s.getProvider("app-compat").getImmediate(),v=s.getProvider("database").getImmediate({identifier:l});return new xp(v,f)},"PUBLIC").setServiceProps({Reference:Da,Query:Vo,Database:xp,DataSnapshot:Uc,enableLogging:Pm,INTERNAL:Cd,ServerValue:Lg}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.0")}(Ir.Z);var _u=L(4941);function ai(u){return null==u}function Mp(u){return"function"==typeof u.set}function Ug(u,s){return Mp(s)?s:u.ref(s)}function _h(u,s){if(function Vg(u){return"string"==typeof u}(u))return s.stringCase();if(Mp(u))return s.firebaseCase();if(function Dd(u){return"function"==typeof u.exportVal}(u))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function gf(u,s,l="on",f=Lr.z){return new Li.y(v=>{let T=null;return T=u[l](s,(O,Z)=>{f.schedule(()=>{v.next({snapshot:O,prevKey:Z})}),"once"===l&&f.schedule(()=>v.complete())},O=>{f.schedule(()=>v.error(O))}),"on"===l?{unsubscribe(){null!=T&&u.off(s,T)}}:{unsubscribe(){}}}).pipe((0,ri.U)(v=>{const{snapshot:T,prevKey:O}=v;let Z=null;return T.exists()&&(Z=T.key),{type:s,payload:T,prevKey:O,key:Z}}),(0,ue.B)())}function Uo(u,s){const l=u.length;for(let f=0;f<l;f++)if(u[f].payload.key===s)return f;return-1}function km(u,s){const{payload:l,prevKey:f,key:v}=s,T=Uo(u,v),O=function $l(u,s){if(ai(s))return 0;{const l=Uo(u,s);return-1===l?u.length:l+1}}(u,f);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let Z=null;s.payload.forEach(oe=>{const xe={payload:oe,type:"value",prevKey:Z,key:oe.key};return Z=oe.key,u=[...u,xe],!1})}return u;case"child_added":if(T>-1){const Z=u[T-1];(Z&&Z.key||null)!==f&&(u=u.filter(oe=>oe.payload.key!==l.key)).splice(O,0,s)}else{if(null==f)return[s,...u];(u=u.slice()).splice(O,0,s)}return u;case"child_removed":return u.filter(Z=>Z.payload.key!==l.key);case"child_changed":return u.map(Z=>Z.payload.key===v?s:Z);case"child_moved":if(T>-1){const Z=u.splice(T,1)[0];return(u=u.slice()).splice(O,0,Z),u}return u;default:return u}}function $g(u){return(ai(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function vh(u,s,l){return function Is(u,s,l){return gf(u,"value","once",l).pipe((0,Br.w)(f=>{const v=[(0,Or.of)(f)];return s.forEach(T=>v.push(gf(u,T,"on",l))),(0,z.T)(...v).pipe((0,Pe.R)(km,[]))}),(0,Je.x)())}(u,s=$g(s),l)}function mf(u,s,l){const f=(s=$g(s)).map(v=>gf(u,v,"on",l));return(0,z.T)(...f)}function Cy(u,s){return function(f,v){return _h(f,{stringCase:()=>u.child(f)[s](v),firebaseCase:()=>f[s](v),snapshotCase:()=>f.ref[s](v)})}}function yf(u){return function(l){return l?_h(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function Gg(u,s){return function(){return gf(u,"value","on",s)}}const oo=new X.OlP("angularfire2.realtimeDatabaseURL"),_f=new X.OlP("angularfire2.database.use-emulator");let Rp=(()=>{class u{constructor(l,f,v,T,O,Z,oe,xe,pt,bt,Nt,mn,Sn,kr,Wr){this.schedulers=Z;const To=oe,Xs=(0,fi.on)(l,O,f);xe&&(0,_u.nw)(Xs,O,pt,Nt,mn,Sn,bt,kr),this.database=(0,fi.cc)(`${Xs.name}.database.${v}`,"AngularFireDatabase",Xs.name,()=>{const Ls=O.runOutsideAngular(()=>Xs.database(v||void 0));return To&&Ls.useEmulator(...To),Ls},[To])}list(l,f){const v=this.schedulers.ngZone.runOutsideAngular(()=>Ug(this.database,l));let T=v;return f&&(T=f(v)),function Cs(u,s){const l=s.schedulers.outsideAngular,f=s.schedulers.ngZone.run(()=>u.ref);return{query:u,update:Cy(f,"update"),set:Cy(f,"set"),push:v=>f.push(v),remove:yf(f),snapshotChanges:v=>vh(u,v,l).pipe(ar.iC),stateChanges:v=>mf(u,v,l).pipe(ar.iC),auditTrail:v=>function Iy(u,s,l){return function Hg(u,s,l){return function jg(u,s){return gf(u,"value","on",s).pipe((0,ri.U)(l=>{let f;return l.payload.forEach(v=>(f=v.key,!1)),{data:l,lastKeyToLoad:f}}))}(u,l).pipe(function Cr(...u){return s=>{let l;return"function"==typeof u[u.length-1]&&(l=u.pop()),s.lift(new Bn(u,l))}}(s),(0,ri.U)(([v,T])=>{const O=v.lastKeyToLoad,Z=T.map(oe=>oe.key);return{actions:T,lastKeyToLoad:O,loadedKeys:Z}}),function Zr(u){return s=>s.lift(new yi(u))}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,ri.U)(v=>v.actions))}(u,mf(u,s).pipe((0,Pe.R)((v,T)=>[...v,T],[])),l)}(u,v,l).pipe(ar.iC),valueChanges:(v,T)=>vh(u,v,l).pipe((0,ri.U)(Z=>Z.map(oe=>T&&T.idField?Object.assign(Object.assign({},oe.payload.val()),{[T.idField]:oe.key}):oe.payload.val())),ar.iC)}}(T,this)}object(l){return function Fm(u,s){return{query:u,snapshotChanges:()=>Gg(u,s.schedulers.outsideAngular)().pipe(ar.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>Gg(u,s.schedulers.outsideAngular)().pipe(ar.iC,(0,ri.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ug(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(fi.Dh),X.LFG(fi.xv,8),X.LFG(oo,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(ar.HU),X.LFG(_f,8),X.LFG(_u.zQ,8),X.LFG(_u.Qv,8),X.LFG(_u.L6,8),X.LFG(_u._Q,8),X.LFG(_u.rT,8),X.LFG(_u.lh,8),X.LFG(_u.f7,8),X.LFG(ea.nm,8))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),zg=(()=>{class u{constructor(){Ml.Z.registerVersion("angularfire",ar.q4.full,"rtdb-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=X.oAB({type:u}),u.\u0275inj=X.cJS({providers:[Rp]}),u})();var Op=L(4433);const Lm_firebase={apiKey:"AIzaSyBY3Sfork3oMSXgDsmymDelMcku9ctk3MA",authDomain:"harware-8f5e9.firebaseapp.com",projectId:"harware-8f5e9",storageBucket:"harware-8f5e9.appspot.com",messagingSenderId:"162423168685",appId:"1:162423168685:web:23de3cfbe4e6b35fcdb024",measurementId:"G-VECW99Z6VL"};var Pp=L(1328);let Zu=(()=>{class u{constructor(l,f){this.authService=l,this.router=f}canActivate(){const l=JSON.parse(localStorage.getItem("user")||"null");return!(!l||!l.emailVerified)||this.router.parseUrl("/login")}}return u.\u0275fac=function(l){return new(l||u)(X.LFG(Pp.u),X.LFG(Mi.F0))},u.\u0275prov=X.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Wg=[{path:"",loadChildren:()=>L.e(8388).then(L.bind(L,8388)).then(u=>u.IndexPageModule)},{path:"",loadChildren:()=>Promise.all([L.e(8592),L.e(4851)]).then(L.bind(L,4851)).then(u=>u.HomePageModule),canActivate:[Zu]},{path:"order",loadChildren:()=>Promise.all([L.e(8592),L.e(8838)]).then(L.bind(L,8838)).then(u=>u.OrderPageModule),canActivate:[Zu]},{path:"order-menu",loadChildren:()=>Promise.all([L.e(8592),L.e(2818)]).then(L.bind(L,2818)).then(u=>u.OrderMenuPageModule),canActivate:[Zu]},{path:"forgot",loadChildren:()=>Promise.all([L.e(8592),L.e(4479)]).then(L.bind(L,4479)).then(u=>u.ForgotPageModule)},{path:"products",loadChildren:()=>Promise.all([L.e(8592),L.e(1240)]).then(L.bind(L,1240)).then(u=>u.ProductsPageModule),canActivate:[Zu]},{path:"verify-email",loadChildren:()=>L.e(5640).then(L.bind(L,5640)).then(u=>u.VerifyEmailPageModule)},{path:"cart-modal",loadChildren:()=>L.e(1671).then(L.bind(L,1671)).then(u=>u.CartModalPageModule),canActivate:[Zu]},{path:"cart",loadChildren:()=>Promise.all([L.e(8592),L.e(5213)]).then(L.bind(L,5213)).then(u=>u.CartPageModule),canActivate:[Zu]},{path:"checkout",loadChildren:()=>Promise.all([L.e(8592),L.e(7313)]).then(L.bind(L,7313)).then(u=>u.CheckoutPageModule)},{path:"checkout",loadChildren:()=>Promise.all([L.e(8592),L.e(7313)]).then(L.bind(L,7313)).then(u=>u.CheckoutPageModule)}];let Dy=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=X.oAB({type:u}),u.\u0275inj=X.cJS({imports:[[Mi.Bz.forRoot(Wg,{preloadingStrategy:Mi.wm})],Mi.Bz]}),u})(),qg=(()=>{class u{constructor(){}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275cmp=X.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(l,f){1&l&&(X.TgZ(0,"ion-app"),X._UZ(1,"ion-router-outlet"),X.qZA())},directives:[Op.dr,Op.jP],styles:[""]}),u})();var Bm=L(520),Kg=L(4182);let jl=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=X.oAB({type:u,bootstrap:[qg]}),u.\u0275inj=X.cJS({providers:[{provide:Mi.wN,useClass:Op.r4}],imports:[[zn,Kg.u5,_u.ww,M,zg,fi.hO.initializeApp(Lm_firebase),Bm.JF,Op.Pc.forRoot(),Dy]]}),u})();(0,X.G48)(),On().bootstrapModule(jl).catch(u=>console.log(u))},5867:(Xt,lt,L)=>{"use strict";L.d(lt,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=L(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Xt,lt,L)=>{"use strict";L.d(lt,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Xt,lt,L)=>{"use strict";L.r(lt);var c=L(5861),X=L(3942),K=L(2090),Ve=L(9681),Oe=L(655),se=L(1877),Ce=L(4859);const ke=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ee=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new se.Yd("@firebase/auth");function we(I,...g){ft.logLevel<=se.in.ERROR&&ft.error(`Auth (${Ve.SDK_VERSION}): ${I}`,...g)}function ut(I,...g){throw Et(I,...g)}function wt(I,...g){return Et(I,...g)}function xt(I,g,_){const A=Object.assign(Object.assign({},Ee()),{[g]:_});return new K.LL("auth","Firebase",A).create(g,{appName:I.name})}function nt(I,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ut(I,"argument-error"),xt(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(I,...g){if("string"!=typeof I){const _=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(_,...A)}return Fe.create(I,...g)}function ve(I,g,..._){if(!I)throw Et(g,..._)}function Me(I){const g="INTERNAL ASSERTION FAILED: "+I;throw we(g),new Error(g)}function Te(I,g){I||Me(g)}const de=new Map;function ye(I){Te(I instanceof Function,"Expected a class definition");let g=de.get(I);return g?(Te(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,de.set(I,g),g)}function St(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function jt(){return"http:"===dt()||"https:"===dt()}function dt(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class st{constructor(g,_){this.shortDelay=g,this.longDelay=_,Te(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function at(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gt(I,g){Te(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Re{static initialize(g,_,A){this.fetchImpl=g,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vt=new st(3e4,6e4);function _t(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Wt(I,g,_,A){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(I,g,_,A,W={}){return Rn(I,W,(0,c.Z)(function*(){let he={},rt={};A&&("GET"===g?rt=A:he={body:JSON.stringify(A)});const Ut=(0,K.xO)(Object.assign({key:I.config.apiKey},rt)).slice(1),pn=yield I._getAdditionalHeaders();return pn["Content-Type"]="application/json",I.languageCode&&(pn["X-Firebase-Locale"]=I.languageCode),Re.fetch()(Sr(I,I.config.apiHost,_,Ut),Object.assign({method:g,headers:pn,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function Rn(I,g,_){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(I,g,_){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},Xe),g);try{const W=new zn(I),he=yield Promise.race([_(),W.promise]);W.clearNetworkTimeout();const rt=yield he.json();if("needConfirmation"in rt)throw nr(I,"account-exists-with-different-credential",rt);if(he.ok&&!("errorMessage"in rt))return rt;{const Ut=he.ok?rt.errorMessage:rt.error.message,[pn,wn]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw nr(I,"credential-already-in-use",rt);if("EMAIL_EXISTS"===pn)throw nr(I,"email-already-in-use",rt);if("USER_DISABLED"===pn)throw nr(I,"user-disabled",rt);const tr=A[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw xt(I,tr,wn);ut(I,tr)}}catch(W){if(W instanceof K.ZR)throw W;ut(I,"network-request-failed")}})).apply(this,arguments)}function cn(I,g,_,A){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(I,g,_,A,W={}){const he=yield Wt(I,g,_,A,W);return"mfaPendingCredential"in he&&ut(I,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Sr(I,g,_,A){const W=`${g}${_}?${A}`;return I.config.emulator?gt(I.config,W):`${I.config.apiScheme}://${W}`}class zn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(wt(this.auth,"network-request-failed")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(I,g,_){const A={appName:I.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const W=wt(I,g,A);return W.customData._tokenResponse=_,W}function Fr(){return(Fr=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rr(I,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qn(I,g){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function mt(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function qt(){return(qt=(0,c.Z)(function*(I,g=!1){const _=(0,K.m9)(I),A=yield _.getIdToken(g),W=Ht(A);ve(W&&W.exp&&W.auth_time&&W.iat,_.auth,"internal-error");const he="object"==typeof W.firebase?W.firebase:void 0,rt=null==he?void 0:he.sign_in_provider;return{claims:W,token:A,authTime:mt(At(W.auth_time)),issuedAtTime:mt(At(W.iat)),expirationTime:mt(At(W.exp)),signInProvider:rt||null,signInSecondFactor:(null==he?void 0:he.sign_in_second_factor)||null}})).apply(this,arguments)}function At(I){return 1e3*Number(I)}function Ht(I){const[g,_,A]=I.split(".");if(void 0===g||void 0===_||void 0===A)return we("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,K.tV)(_);return W?JSON.parse(W):(we("Failed to decode base64 JWT payload"),null)}catch(W){return we("Caught error parsing JWT payload as JSON",W),null}}function ln(I,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(A){throw A instanceof K.ZR&&bn(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}function bn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Qr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const W=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),A)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Ar{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=mt(this.lastLoginAt),this.creationTime=mt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wr(I){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(I){var g;const _=I.auth,A=yield I.getIdToken(),W=yield ln(I,qn(_,{idToken:A}));ve(null==W?void 0:W.users.length,_,"internal-error");const he=W.users[0];I._notifyReloadListener(he);const rt=(null===(g=he.providerUserInfo)||void 0===g?void 0:g.length)?$e(he.providerUserInfo):[],Ut=Pt(I.providerData,rt),tr=!!I.isAnonymous&&!(I.email&&he.passwordHash||(null==Ut?void 0:Ut.length)),$n={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Ut,metadata:new Ar(he.createdAt,he.lastLoginAt),isAnonymous:tr};Object.assign(I,$n)})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(I){const g=(0,K.m9)(I);yield wr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Pt(I,g){return[...I.filter(A=>!g.some(W=>W.providerId===A.providerId)),...g]}function $e(I){return I.map(g=>{var{providerId:_}=g,A=(0,Oe._T)(g,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Yt(){return(Yt=(0,c.Z)(function*(I,g){const _=yield Rn(I,{},(0,c.Z)(function*(){const A=(0,K.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:W,apiKey:he}=I.config,rt=Sr(I,W,"/v1/token",`key=${he}`),Ut=yield I._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(rt,{method:"POST",headers:Ut,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ve(g.idToken,"internal-error"),ve(void 0!==g.idToken,"internal-error"),ve(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function an(I){const g=Ht(I);return ve(g,"internal-error"),ve(void 0!==g.exp,"internal-error"),ve(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var A=this;return(0,c.Z)(function*(){return ve(!A.accessToken||A.refreshToken,g,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var A=this;return(0,c.Z)(function*(){const{accessToken:W,refreshToken:he,expiresIn:rt}=yield function ct(I,g){return Yt.apply(this,arguments)}(g,_);A.updateTokensAndExpiration(W,he,Number(rt))})()}updateTokensAndExpiration(g,_,A){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,_){const{refreshToken:A,accessToken:W,expirationTime:he}=_,rt=new Zt;return A&&(ve("string"==typeof A,"internal-error",{appName:g}),rt.refreshToken=A),W&&(ve("string"==typeof W,"internal-error",{appName:g}),rt.accessToken=W),he&&(ve("number"==typeof he,"internal-error",{appName:g}),rt.expirationTime=he),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return Me("not implemented")}}function gn(I,g){ve("string"==typeof I||void 0===I,"internal-error",{appName:g})}class Mn{constructor(g){var{uid:_,auth:A,stsTokenManager:W}=g,he=(0,Oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new Ar(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,c.Z)(function*(){const A=yield ln(_,_.stsTokenManager.getToken(_.auth,g));return ve(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(g){return function De(I){return qt.apply(this,arguments)}(this,g)}reload(){return function He(I){return qe.apply(this,arguments)}(this)}_assign(g){this!==g&&(ve(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Mn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var A=this;return(0,c.Z)(function*(){let W=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),W=!0),_&&(yield wr(A)),yield A.auth._persistUserIfCurrent(A),W&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,c.Z)(function*(){const _=yield g.getIdToken();return yield ln(g,function rn(I,g){return Fr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var A,W,he,rt,Ut,pn,wn,tr;const $n=null!==(A=_.displayName)&&void 0!==A?A:void 0,Fs=null!==(W=_.email)&&void 0!==W?W:void 0,Co=null!==(he=_.phoneNumber)&&void 0!==he?he:void 0,al=null!==(rt=_.photoURL)&&void 0!==rt?rt:void 0,Lh=null!==(Ut=_.tenantId)&&void 0!==Ut?Ut:void 0,ll=null!==(pn=_._redirectEventId)&&void 0!==pn?pn:void 0,jd=null!==(wn=_.createdAt)&&void 0!==wn?wn:void 0,Bh=null!==(tr=_.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:Hd,emailVerified:Gd,isAnonymous:Pf,providerData:Vh,stsTokenManager:aa}=_;ve(Hd&&aa,g,"internal-error");const Uh=Zt.fromJSON(this.name,aa);ve("string"==typeof Hd,g,"internal-error"),gn($n,g.name),gn(Fs,g.name),ve("boolean"==typeof Gd,g,"internal-error"),ve("boolean"==typeof Pf,g,"internal-error"),gn(Co,g.name),gn(al,g.name),gn(Lh,g.name),gn(ll,g.name),gn(jd,g.name),gn(Bh,g.name);const sd=new Mn({uid:Hd,auth:g,email:Fs,emailVerified:Gd,displayName:$n,isAnonymous:Pf,photoURL:al,phoneNumber:Co,tenantId:Lh,stsTokenManager:Uh,createdAt:jd,lastLoginAt:Bh});return Vh&&Array.isArray(Vh)&&(sd.providerData=Vh.map($h=>Object.assign({},$h))),ll&&(sd._redirectEventId=ll),sd}static _fromIdTokenResponse(g,_,A=!1){return(0,c.Z)(function*(){const W=new Zt;W.updateFromServerResponse(_);const he=new Mn({uid:_.localId,auth:g,stsTokenManager:W,isAnonymous:A});return yield wr(he),he})()}}const Tn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,A){var W=this;return(0,c.Z)(function*(){W.storage[_]=A})()}_get(_){var A=this;return(0,c.Z)(function*(){const W=A.storage[_];return void 0===W?null:W})()}_remove(_){var A=this;return(0,c.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return I.type="NONE",I})();function hr(I,g,_){return`firebase:${I}:${g}:${_}`}class $r{constructor(g,_,A){this.persistence=g,this.auth=_,this.userKey=A;const{config:W,name:he}=this.auth;this.fullUserKey=hr(this.userKey,W.apiKey,he),this.fullPersistenceKey=hr("persistence",W.apiKey,he),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Mn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,c.Z)(function*(){if(_.persistence===g)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,A="authUser"){return(0,c.Z)(function*(){if(!_.length)return new $r(ye(Tn),g,A);const W=(yield Promise.all(_.map(function(){var wn=(0,c.Z)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let he=W[0]||ye(Tn);const rt=hr(A,g.config.apiKey,g.name);let Ut=null;for(const wn of _)try{const tr=yield wn._get(rt);if(tr){const $n=Mn._fromJSON(g,tr);wn!==he&&(Ut=$n),he=wn;break}}catch(tr){}const pn=W.filter(wn=>wn._shouldAllowMigration);return he._shouldAllowMigration&&pn.length?(he=pn[0],Ut&&(yield he._set(rt,Ut.toJSON())),yield Promise.all(_.map(function(){var wn=(0,c.Z)(function*(tr){if(tr!==he)try{yield tr._remove(rt)}catch($n){}});return function(tr){return wn.apply(this,arguments)}}())),new $r(he,g,A)):new $r(he,g,A)})()}}function xi(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Or(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(fi(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Vn(g))return"Blackberry";if(Lr(g))return"Webos";if(Mi(g))return"Safari";if((g.includes("chrome/")||Li(g))&&!g.includes("edge/"))return"Chrome";if(Gr(g))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function fi(I=(0,K.z$)()){return/firefox\//i.test(I)}function Mi(I=(0,K.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Li(I=(0,K.z$)()){return/crios\//i.test(I)}function Or(I=(0,K.z$)()){return/iemobile/i.test(I)}function Gr(I=(0,K.z$)()){return/android/i.test(I)}function Vn(I=(0,K.z$)()){return/blackberry/i.test(I)}function Lr(I=(0,K.z$)()){return/webos/i.test(I)}function pi(I=(0,K.z$)()){return/iphone|ipad|ipod/i.test(I)}function ri(I=(0,K.z$)()){return pi(I)||Gr(I)||Lr(I)||Vn(I)||/windows phone/i.test(I)||Or(I)}function ar(I,g=[]){let _;switch(I){case"Browser":_=xi((0,K.z$)());break;case"Worker":_=`${xi((0,K.z$)())}-${I}`;break;default:_=I}const A=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ve.SDK_VERSION}/${A}`}class Ir{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const A=he=>new Promise((rt,Ut)=>{try{rt(g(he))}catch(pn){Ut(pn)}});A.onAbort=_,this.queue.push(A);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===g)return;const A=[];try{for(const W of _.queue)yield W(g),W.onAbort&&A.push(W.onAbort)}catch(W){A.reverse();for(const he of A)try{he()}catch(rt){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:W.message})}})()}}class zt{constructor(g,_,A){this.app=g,this.heartbeatServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pe(this),this.idTokenSubscription=new pe(this),this.beforeStateQueue=new Ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,_){var A=this;return _&&(this._popupRedirectResolver=ye(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var W,he;if(!A._deleted&&(A.persistenceManager=yield $r.create(A,g),!A._deleted)){if(null===(W=A._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(rt){}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(he=A.currentUser)||void 0===he?void 0:he.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,c.Z)(function*(){var A;const W=yield _.assertedPersistence.getCurrentUser();let he=W,rt=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ut=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,pn=null==he?void 0:he._redirectEventId,wn=yield _.tryRedirectSignIn(g);(!Ut||Ut===pn)&&(null==wn?void 0:wn.user)&&(he=wn.user,rt=!0)}if(!he)return _.directlySetCurrentUser(null);if(!he._redirectEventId){if(rt)try{yield _.beforeStateQueue.runMiddleware(he)}catch(Ut){he=W,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ut))}return he?_.reloadAndSetCurrentUserOrClear(he):_.directlySetCurrentUser(null)}return ve(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===he._redirectEventId?_.directlySetCurrentUser(he):_.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(g){var _=this;return(0,c.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(W){yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,c.Z)(function*(){try{yield wr(g)}catch(A){if("auth/network-request-failed"!==A.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ge(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){const A=g?(0,K.m9)(g):null;return A&&ve(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(g,_=!1){var A=this;return(0,c.Z)(function*(){if(!A._deleted)return g&&ve(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,c.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ye(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new K.LL("auth","Firebase",g())}onAuthStateChanged(g,_,A){return this.registerStateListener(this.authStateSubscription,g,_,A)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,A){return this.registerStateListener(this.idTokenSubscription,g,_,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var A=this;return(0,c.Z)(function*(){const W=yield A.getOrInitRedirectPersistenceManager(_);return null===g?W.removeCurrentUser():W.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const A=g&&ye(g)||_._popupRedirectResolver;ve(A,_,"argument-error"),_.redirectPersistenceManager=yield $r.create(_,[ye(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,c.Z)(function*(){var A,W;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===g?_._currentUser:(null===(W=_.redirectUser)||void 0===W?void 0:W._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,c.Z)(function*(){if(g===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,A,W){if(this._deleted)return()=>{};const he="function"==typeof _?_:_.next.bind(_),rt=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(rt,this,"internal-error"),rt.then(()=>he(this.currentUser)),"function"==typeof _?g.addObserver(_,A,W):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var _;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const W=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return W&&(A["X-Firebase-Client"]=W),A})()}}function un(I){return(0,K.m9)(I)}class pe{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,K.ne)(_=>this.observer=_)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jr(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function li(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class ur{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Me("not implemented")}_getIdTokenResponse(g){return Me("not implemented")}_linkToIdToken(g,_){return Me("not implemented")}_getReauthenticationResolver(g){return Me("not implemented")}}function Pr(I,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:resetPassword",_t(I,g))})).apply(this,arguments)}function os(I,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function as(I,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:update",_t(I,g))})).apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithPassword",_t(I,g))})).apply(this,arguments)}function gi(I,g){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:sendOobCode",_t(I,g))})).apply(this,arguments)}function ge(I,g){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(I,g){return gi(I,g)})).apply(this,arguments)}function ht(I,g){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(I,g){return gi(I,g)})).apply(this,arguments)}function Le(I,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(I,g){return gi(I,g)})).apply(this,arguments)}function kt(I,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(I,g){return gi(I,g)})).apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithEmailLink",_t(I,g))})).apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithEmailLink",_t(I,g))})).apply(this,arguments)}class Qn extends ur{constructor(g,_,A,W=null){super("password",A),this._email=g,this._password=_,this._tenantId=W}static _fromEmailAndPassword(g,_){return new Qn(g,_,"password")}static _fromEmailAndCode(g,_,A=null){return new Qn(g,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function zr(I,g){return Oi.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Rt(I,g){return dn.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ut(g,"internal-error")}})()}_linkToIdToken(g,_){var A=this;return(0,c.Z)(function*(){switch(A.signInMethod){case"password":return os(g,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function En(I,g){return jn.apply(this,arguments)}(g,{idToken:_,email:A._email,oobCode:A._password});default:ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function qr(I,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithIdp",_t(I,g))})).apply(this,arguments)}class Ze extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ze(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ut("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:W}=_,he=(0,Oe._T)(_,["providerId","signInMethod"]);if(!A||!W)return null;const rt=new Ze(A,W);return rt.idToken=he.idToken||void 0,rt.accessToken=he.accessToken||void 0,rt.secret=he.secret,rt.nonce=he.nonce,rt.pendingToken=he.pendingToken||null,rt}_getIdTokenResponse(g){return qr(g,this.buildRequest())}_linkToIdToken(g,_){const A=this.buildRequest();return A.idToken=_,qr(g,A)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,qr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,K.xO)(_)}return g}}function yt(I,g){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:sendVerificationCode",_t(I,g))})).apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithPhoneNumber",_t(I,g))})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(I,g){const _=yield cn(I,"POST","/v1/accounts:signInWithPhoneNumber",_t(I,g));if(_.temporaryProof)throw nr(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const pr={USER_NOT_FOUND:"user-not-found"};function Ji(){return(Ji=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithPhoneNumber",_t(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),pr)})).apply(this,arguments)}class es extends ur{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new es({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new es({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function en(I,g){return yn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function fr(I,g){return ti.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Qs(I,g){return Ji.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:A,verificationCode:W}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:A,code:W}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:A,phoneNumber:W,temporaryProof:he}=g;return A||_||W||he?new es({verificationId:_,verificationCode:A,phoneNumber:W,temporaryProof:he}):null}}class Ts{constructor(g){var _,A,W,he,rt,Ut;const pn=(0,K.zd)((0,K.pd)(g)),wn=null!==(_=pn.apiKey)&&void 0!==_?_:null,tr=null!==(A=pn.oobCode)&&void 0!==A?A:null,$n=function xo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=pn.mode)&&void 0!==W?W:null);ve(wn&&tr&&$n,"argument-error"),this.apiKey=wn,this.operation=$n,this.code=tr,this.continueUrl=null!==(he=pn.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(rt=pn.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(Ut=pn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(g){const _=function uo(I){const g=(0,K.zd)((0,K.pd)(I)).link,_=g?(0,K.zd)((0,K.pd)(g)).deep_link_id:null,A=(0,K.zd)((0,K.pd)(I)).deep_link_id;return(A?(0,K.zd)((0,K.pd)(A)).link:null)||A||_||g||I}(g);try{return new Ts(_)}catch(A){return null}}}let $o=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,A){return Qn._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const W=Ts.parseLink(A);return ve(W,"argument-error"),Qn._fromEmailAndCode(_,W.code,W.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Pi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Bs extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ls extends Bs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ve("providerId"in _&&"signInMethod"in _,"argument-error"),Ze._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ve(g.idToken||g.accessToken,"argument-error"),Ze._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ls.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ls.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:W,pendingToken:he,nonce:rt,providerId:Ut}=g;if(!A&&!W&&!_&&!he||!Ut)return null;try{return new ls(Ut)._credential({idToken:_,accessToken:A,nonce:rt,pendingToken:he})}catch(pn){return null}}}let Ei=(()=>{class I extends Bs{constructor(){super("facebook.com")}static credential(_){return Ze._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(A){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),so=(()=>{class I extends Bs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Ze._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:W}=_;if(!A&&!W)return null;try{return I.credential(A,W)}catch(he){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Mo=(()=>{class I extends Bs{constructor(){super("github.com")}static credential(_){return Ze._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(A){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ss extends ur{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return qr(g,this.buildRequest())}_linkToIdToken(g,_){const A=this.buildRequest();return A.idToken=_,qr(g,A)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,qr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:W,pendingToken:he}=_;return A&&W&&he&&A===W?new Ss(A,he):null}static _create(g,_){return new Ss(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class us extends Pi{constructor(g){ve(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return us.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return us.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ss.fromJSON(g);return ve(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:A}=g;if(!_||!A)return null;try{return Ss._create(A,_)}catch(W){return null}}}let Ui=(()=>{class I extends Bs{constructor(){super("twitter.com")}static credential(_,A){return Ze._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:W}=_;if(!A||!W)return null;try{return I.credential(A,W)}catch(he){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ui(I,g){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signUp",_t(I,g))})).apply(this,arguments)}class ii{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,A,W=!1){return(0,c.Z)(function*(){const he=yield Mn._fromIdTokenResponse(g,A,W),rt=co(A);return new ii({user:he,providerId:rt,_tokenResponse:A,operationType:_})})()}static _forOperation(g,_,A){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const W=co(A);return new ii({user:g,providerId:W,_tokenResponse:A,operationType:_})})()}}function co(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function xs(){return(xs=(0,c.Z)(function*(I){var g;const _=un(I);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new ii({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield ui(_,{returnSecureToken:!0}),W=yield ii._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class Vs extends K.ZR{constructor(g,_,A,W){var he;super(_.code,_.message),this.operationType=A,this.user=W,Object.setPrototypeOf(this,Vs.prototype),this.customData={appName:g.name,tenantId:null!==(he=g.tenantId)&&void 0!==he?he:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,_,A,W){return new Vs(g,_,A,W)}}function cs(I,g,_,A){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Vs._fromErrorAndOperation(I,he,g,A):he})}function Kr(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Rr(){return(Rr=(0,c.Z)(function*(I,g){const _=(0,K.m9)(I);yield $(!0,_,g);const{providerUserInfo:A}=yield rr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),W=Kr(A||[]);return _.providerData=_.providerData.filter(he=>W.has(he.providerId)),W.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function U(I,g){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(I,g,_=!1){const A=yield ln(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return ii._forOperation(I,"link",A)})).apply(this,arguments)}function $(I,g,_){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(I,g,_){yield wr(g);const W=!1===I?"provider-already-linked":"no-such-provider";ve(Kr(g.providerData).has(_)===I,g.auth,W)})).apply(this,arguments)}function Ke(I,g){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(I,g,_=!1){const{auth:A}=I,W="reauthenticate";try{const he=yield ln(I,cs(A,W,g,I),_);ve(he.idToken,A,"internal-error");const rt=Ht(he.idToken);ve(rt,A,"internal-error");const{sub:Ut}=rt;return ve(I.uid===Ut,A,"user-mismatch"),ii._forOperation(I,W,he)}catch(he){throw"auth/user-not-found"===(null==he?void 0:he.code)&&ut(A,"user-mismatch"),he}})).apply(this,arguments)}function Gt(I,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(I,g,_=!1){const A="signIn",W=yield cs(I,A,g),he=yield ii._fromIdTokenResponse(I,A,W);return _||(yield I._updateCurrentUser(he.user)),he})).apply(this,arguments)}function Kn(I,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(I,g){return Gt(un(I),g)})).apply(this,arguments)}function Hn(I,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(I,g){const _=(0,K.m9)(I);return yield $(!1,_,g.providerId),U(_,g)})).apply(this,arguments)}function ci(I,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(I,g){return Ke((0,K.m9)(I),g)})).apply(this,arguments)}function Jr(I,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(I,g){return cn(I,"POST","/v1/accounts:signInWithCustomToken",_t(I,g))})).apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(I,g){const _=un(I),A=yield Jr(_,{token:g,returnSecureToken:!0}),W=yield ii._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class ji{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?H._fromServerResponse(g,_):ut(g,"internal-error")}}class H extends ji{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new H(_)}}function V(I,g,_){var A;ve((null===(A=_.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),ve(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ve(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ve(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function ae(){return(ae=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I),W={requestType:"PASSWORD_RESET",email:g};_&&V(A,W,_),yield ht(A,W)})).apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(I,g,_){yield Pr((0,K.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function b(){return(b=(0,c.Z)(function*(I,g){yield as((0,K.m9)(I),{oobCode:g})})).apply(this,arguments)}function j(I,g){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(I,g){const _=(0,K.m9)(I),A=yield Pr(_,{oobCode:g}),W=A.requestType;switch(ve(W,_,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(A.mfaInfo,_,"internal-error");default:ve(A.email,_,"internal-error")}let he=null;return A.mfaInfo&&(he=ji._fromServerResponse(un(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:he},operation:W}})).apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(I,g){const{data:_}=yield j((0,K.m9)(I),g);return _.email})).apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(I,g,_){const A=un(I),W=yield ui(A,{returnSecureToken:!0,email:g,password:_}),he=yield ii._fromIdTokenResponse(A,"signIn",W);return yield A._updateCurrentUser(he.user),he})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I),W={requestType:"EMAIL_SIGNIN",email:g};ve(_.handleCodeInApp,A,"argument-error"),_&&V(A,W,_),yield Le(A,W)})).apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I),W=$o.credentialWithLink(g,_||St());return ve(W._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Kn(A,W)})).apply(this,arguments)}function rs(I,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:createAuthUri",_t(I,g))})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(I,g){const A={identifier:g,continueUri:jt()?St():"http://localhost"},{signinMethods:W}=yield rs((0,K.m9)(I),A);return W||[]})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(I,g){const _=(0,K.m9)(I),W={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&V(_.auth,W,g);const{email:he}=yield ge(_.auth,W);he!==I.email&&(yield I.reload())})).apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&V(A.auth,he,_);const{email:rt}=yield kt(A.auth,he);rt!==I.email&&(yield I.reload())})).apply(this,arguments)}function _l(I,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(I,g){return Wt(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bl(){return(bl=(0,c.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const A=(0,K.m9)(I),he={idToken:yield A.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},rt=yield ln(A,_l(A.auth,he));A.displayName=rt.displayName||null,A.photoURL=rt.photoUrl||null;const Ut=A.providerData.find(({providerId:pn})=>"password"===pn);Ut&&(Ut.displayName=A.displayName,Ut.photoURL=A.photoURL),yield A._updateTokensIfNecessary(rt)})).apply(this,arguments)}function xa(I,g,_){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(I,g,_){const{auth:A}=I,he={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(he.email=g),_&&(he.password=_);const rt=yield ln(I,os(A,he));yield I._updateTokensIfNecessary(rt,!0)})).apply(this,arguments)}class Ws{constructor(g,_,A={}){this.isNewUser=g,this.providerId=_,this.profile=A}}class Il extends Ws{constructor(g,_,A,W){super(g,_,A),this.username=W}}class Cl extends Ws{constructor(g,_){super(g,"facebook.com",_)}}class Dl extends Il{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ka extends Ws{constructor(g,_){super(g,"google.com",_)}}class Rs extends Il{constructor(g,_,A){super(g,"twitter.com",_,A)}}function No(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function wl(I){var g,_;if(!I)return null;const{providerId:A}=I,W=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},he=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&(null==I?void 0:I.idToken)){const rt=null===(_=null===(g=Ht(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(rt)return new Ws(he,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!A)return null;switch(A){case"facebook.com":return new Cl(he,W);case"github.com":return new Dl(he,W);case"google.com":return new Ka(he,W);case"twitter.com":return new Rs(he,W,I.screenName||null);case"custom":case"anonymous":return new Ws(he,null);default:return new Ws(he,A,W)}}(_)}class ko{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new ko("enroll",g)}static _fromMfaPendingCredential(g){return new ko("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,A;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return ko._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(A=g.multiFactorSession)||void 0===A?void 0:A.idToken)return ko._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ra{constructor(g,_,A){this.session=g,this.hints=_,this.signInResolver=A}static _fromError(g,_){const A=un(g),W=_.customData._serverResponse,he=(W.mfaInfo||[]).map(Ut=>ji._fromServerResponse(A,Ut));ve(W.mfaPendingCredential,A,"internal-error");const rt=ko._fromMfaPendingCredential(W.mfaPendingCredential);return new Ra(rt,he,function(){var Ut=(0,c.Z)(function*(pn){const wn=yield pn._process(A,rt);delete W.mfaInfo,delete W.mfaPendingCredential;const tr=Object.assign(Object.assign({},W),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(_.operationType){case"signIn":const $n=yield ii._fromIdTokenResponse(A,_.operationType,tr);return yield A._updateCurrentUser($n.user),$n;case"reauthenticate":return ve(_.user,A,"internal-error"),ii._forOperation(_.user,_.operationType,tr);default:ut(A,"internal-error")}});return function(pn){return Ut.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,c.Z)(function*(){return _.signInResolver(g)})()}}function Sl(I,g){return Wt(I,"POST","/v2/accounts/mfaEnrollment:start",_t(I,g))}class Xo{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>ji._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new Xo(g)}getSession(){var g=this;return(0,c.Z)(function*(){return ko._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var A=this;return(0,c.Z)(function*(){const W=g,he=yield A.getSession(),rt=yield ln(A.user,W._process(A.user.auth,he,_));return yield A.user._updateTokensIfNecessary(rt),A.user.reload()})()}unenroll(g){var _=this;return(0,c.Z)(function*(){const A="string"==typeof g?g:g.uid,W=yield _.user.getIdToken(),he=yield ln(_.user,function Es(I,g){return Wt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(I,g))}(_.user.auth,{idToken:W,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:rt})=>rt!==A),yield _.user._updateTokensIfNecessary(he);try{yield _.user.reload()}catch(rt){if("auth/user-token-expired"!==rt.code)throw rt}})()}}const Oa=new WeakMap,yo="__sak";class ha{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(yo,"1"),this.storage.removeItem(yo),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fo=(()=>{class I extends ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bu(){const I=(0,K.z$)();return Mi(I)||pi(I)}()&&function Br(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=ri(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const W=this.storage.getItem(A),he=this.localCache[A];W!==he&&_(A,he,W)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((Ut,pn,wn)=>{this.notifyListeners(Ut,wn)});const W=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(W);if(_.newValue!==Ut)null!==_.newValue?this.storage.setItem(W,_.newValue):this.storage.removeItem(W);else if(this.localCache[W]===_.newValue&&!A)return}const he=()=>{const Ut=this.storage.getItem(W);!A&&this.localCache[W]===Ut||this.notifyListeners(W,Ut)},rt=this.storage.getItem(W);!function Xi(){return(0,K.w1)()&&10===document.documentMode}()||rt===_.newValue||_.newValue===_.oldValue?he():setTimeout(he,10)}notifyListeners(_,A){this.localCache[_]=A;const W=this.listeners[_];if(W)for(const he of Array.from(W))he(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var W=()=>super._set,he=this;return(0,c.Z)(function*(){yield W().call(he,_,A),he.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,W=this;return(0,c.Z)(function*(){const he=yield A().call(W,_);return W.localCache[_]=JSON.stringify(he),he})()}_remove(_){var A=()=>super._remove,W=this;return(0,c.Z)(function*(){yield A().call(W,_),delete W.localCache[_]})()}}return I.type="LOCAL",I})(),Ks=(()=>{class I extends ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return I.type="SESSION",I})();let Jo=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(he=>he.isListeningto(_));if(A)return A;const W=new I(_);return this.receivers.push(W),W}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,c.Z)(function*(){const W=_,{eventId:he,eventType:rt,data:Ut}=W.data,pn=A.handlersMap[rt];if(!(null==pn?void 0:pn.size))return;W.ports[0].postMessage({status:"ack",eventId:he,eventType:rt});const wn=Array.from(pn).map(function(){var $n=(0,c.Z)(function*(Fs){return Fs(W.origin,Ut)});return function(Fs){return $n.apply(this,arguments)}}()),tr=yield function Al(I){return Promise.all(I.map(function(){var g=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return g.apply(this,arguments)}}()))}(wn);W.ports[0].postMessage({status:"done",eventId:he,eventType:rt,response:tr})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function bs(I="",g=10){let _="";for(let A=0;A<g;A++)_+=Math.floor(10*Math.random());return I+_}class xl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,A=50){var W=this;return(0,c.Z)(function*(){const he="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let rt,Ut;return new Promise((pn,wn)=>{const tr=bs("",20);he.port1.start();const $n=setTimeout(()=>{wn(new Error("unsupported_event"))},A);Ut={messageChannel:he,onMessage(Fs){const Co=Fs;if(Co.data.eventId===tr)switch(Co.data.status){case"ack":clearTimeout($n),rt=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),pn(Co.data.response);break;default:clearTimeout($n),clearTimeout(rt),wn(new Error("invalid_response"))}}},W.handlers.add(Ut),he.port1.addEventListener("message",Ut.onMessage),W.target.postMessage({eventType:g,eventId:tr,data:_},[he.port2])}).finally(()=>{Ut&&W.removeMessageHandler(Ut)})})()}}function Ni(){return window}function Pa(){return void 0!==Ni().WorkerGlobalScope&&"function"==typeof Ni().importScripts}function ps(){return(ps=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Ml="firebaseLocalStorageDb",tn="firebaseLocalStorage",mi="fbase_key";class vo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Os(I,g){return I.transaction([tn],g?"readwrite":"readonly").objectStore(tn)}function Jn(){const I=indexedDB.open(Ml,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(tn,{keyPath:mi})}catch(W){_(W)}}),I.addEventListener("success",(0,c.Z)(function*(){const A=I.result;A.objectStoreNames.contains(tn)?g(A):(A.close(),yield function Pn(){const I=indexedDB.deleteDatabase(Ml);return new vo(I).toPromise()}(),g(yield Jn()))}))})}function R(I,g,_){return S.apply(this,arguments)}function S(){return(S=(0,c.Z)(function*(I,g,_){const A=Os(I,!0).put({[mi]:g,value:_});return new vo(A).toPromise()})).apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(I,g){const _=Os(I,!1).get(g),A=yield new vo(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function z(I,g){const _=Os(I,!0).delete(g);return new vo(_).toPromise()}const Bt=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield Jn()),_.db})()}_withRetries(_){var A=this;return(0,c.Z)(function*(){let W=0;for(;;)try{const he=yield A._openDb();return yield _(he)}catch(he){if(W++>3)throw he;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Pa()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Jo._getInstance(function ea(){return Pa()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,c.Z)(function*(W,he){return{keyProcessed:(yield _._poll()).includes(he.key)}});return function(W,he){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,c.Z)(function*(W,he){return["keyChanged"]});return function(W,he){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var A,W;if(_.activeServiceWorker=yield function Iu(){return ps.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new xl(_.activeServiceWorker);const he=yield _.sender._send("ping",{},800);!he||(null===(A=he[0])||void 0===A?void 0:A.fulfilled)&&(null===(W=he[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,c.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function pa(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Jn();return yield R(_,yo,"1"),yield z(_,yo),!0}catch(_){}return!1})()}_withPendingWrite(_){var A=this;return(0,c.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var W=this;return(0,c.Z)(function*(){return W._withPendingWrite((0,c.Z)(function*(){return yield W._withRetries(he=>R(he,_,A)),W.localCache[_]=A,W.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,c.Z)(function*(){const W=yield A._withRetries(he=>function w(I,g){return M.apply(this,arguments)}(he,_));return A.localCache[_]=W,W})()}_remove(_){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(W=>z(W,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const A=yield _._withRetries(rt=>{const Ut=Os(rt,!1).getAll();return new vo(Ut).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const W=[],he=new Set;for(const{fbase_key:rt,value:Ut}of A)he.add(rt),JSON.stringify(_.localCache[rt])!==JSON.stringify(Ut)&&(_.notifyListeners(rt,Ut),W.push(rt));for(const rt of Object.keys(_.localCache))_.localCache[rt]&&!he.has(rt)&&(_.notifyListeners(rt,null),W.push(rt));return W})()}notifyListeners(_,A){this.localCache[_]=A;const W=this.listeners[_];if(W)for(const he of Array.from(W))he(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function xn(I,g){return Wt(I,"POST","/v2/accounts/mfaSignIn:start",_t(I,g))}function Yr(){return(Yr=(0,c.Z)(function*(I){return(yield Wt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yi(I){return new Promise((g,_)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=g,A.onerror=W=>{const he=wt("internal-error");he.customData=W,_(he)},A.type="text/javascript",A.charset="UTF-8",function Zr(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(A)})}function eo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const to=1e12;class ma{constructor(g){this.auth=g,this.counter=to,this._widgets=new Map}render(g,_){const A=this.counter;return this._widgets.set(A,new gs(g,this.auth.name,_||{})),this.counter++,A}reset(g){var _;const A=g||to;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(g){var _;return(null===(_=this._widgets.get(g||to))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,c.Z)(function*(){var A;return null===(A=_._widgets.get(g||to))||void 0===A||A.execute(),""})()}}class gs{constructor(g,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof g?document.getElementById(g):g;ve(W,"argument-error",{appName:_}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xn(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ds=eo("rcb"),zl=new st(3e4,6e4);class ka{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ni().grecaptcha}load(g,_=""){return ve(function Xr(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ni().grecaptcha):new Promise((A,W)=>{const he=Ni().setTimeout(()=>{W(wt(g,"network-request-failed"))},zl.get());Ni()[ds]=()=>{Ni().clearTimeout(he),delete Ni()[ds];const Ut=Ni().grecaptcha;if(!Ut)return void W(wt(g,"internal-error"));const pn=Ut.render;Ut.render=(wn,tr)=>{const $n=pn(wn,tr);return this.counter++,$n},this.hostLanguage=_,A(Ut)},yi(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:ds,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(he),W(wt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Ni().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wl{load(g){return(0,c.Z)(function*(){return new ma(g)})()}clearedOneInstance(){}}const ws="recaptcha",ql={theme:"light",type:"image"};class Fa{constructor(g,_=Object.assign({},ql),A){this.parameters=_,this.type=ws,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(A),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof g?document.getElementById(g):g;ve(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wl:new ka,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(_)||new Promise(he=>{const rt=Ut=>{!Ut||(g.tokenChangeListeners.delete(rt),he(Ut))};g.tokenChangeListeners.add(rt),g.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof g)g(_);else if("string"==typeof g){const A=Ni()[g];"function"==typeof A&&A(_)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ve(jt()&&!Pa(),g.auth,"internal-error"),yield function is(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Bn(I){return Yr.apply(this,arguments)}(g.auth);ve(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ms{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=es._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function vr(){return(vr=(0,c.Z)(function*(I,g,_){const A=un(I),W=yield Rl(A,g,(0,K.m9)(_));return new ms(W,he=>Kn(A,he))})).apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I);yield $(!1,A,"phone");const W=yield Rl(A.auth,g,(0,K.m9)(_));return new ms(W,he=>Hn(A,he))})).apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I),W=yield Rl(A.auth,g,(0,K.m9)(_));return new ms(W,he=>ci(A,he))})).apply(this,arguments)}function Rl(I,g,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(I,g,_){var A;const W=yield _.verify();try{let he;if(ve("string"==typeof W,I,"argument-error"),ve(_.type===ws,I,"argument-error"),he="string"==typeof g?{phoneNumber:g}:g,"session"in he){const rt=he.session;if("phoneNumber"in he)return ve("enroll"===rt.type,I,"internal-error"),(yield Sl(I,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ve("signin"===rt.type,I,"internal-error");const Ut=(null===(A=he.multiFactorHint)||void 0===A?void 0:A.uid)||he.multiFactorUid;return ve(Ut,I,"missing-multi-factor-info"),(yield xn(I,{mfaPendingCredential:rt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield yt(I,{phoneNumber:he.phoneNumber,recaptchaToken:W});return rt}}finally{_._reset()}})).apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(I,g){yield U((0,K.m9)(I),g)})).apply(this,arguments)}let Eo=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=un(_)}verifyPhoneNumber(_,A){return Rl(this.auth,_,(0,K.m9)(A))}static credential(_,A){return es._fromVerification(_,A)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:W}=_;return A&&W?es._fromTokenResponse(A,W):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function fn(I,g){return g?ye(g):(ve(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Qa extends ur{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return qr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return qr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return qr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Ol(I){return Gt(I.auth,new Qa(I),I.bypassAuthState)}function _a(I){const{auth:g,user:_}=I;return ve(_,g,"internal-error"),Ke(_,new Qa(I),I.bypassAuthState)}function Si(I){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(I){const{auth:g,user:_}=I;return ve(_,g,"internal-error"),U(_,new Qa(I),I.bypassAuthState)})).apply(this,arguments)}class ho{constructor(g,_,A,W,he=!1){this.auth=g,this.resolver=A,this.user=W,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,c.Z)(function*(A,W){g.pendingPromise={resolve:A,reject:W};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(he){g.reject(he)}});return function(A,W){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,c.Z)(function*(){const{urlResponse:A,sessionId:W,postBody:he,tenantId:rt,error:Ut,type:pn}=g;if(Ut)return void _.reject(Ut);const wn={auth:_.auth,requestUri:A,sessionId:W,tenantId:rt||void 0,postBody:he||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(pn)(wn))}catch(tr){_.reject(tr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ol;case"linkViaPopup":case"linkViaRedirect":return Si;case"reauthViaPopup":case"reauthViaRedirect":return _a;default:ut(this.auth,"internal-error")}}resolve(g){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dh=new st(2e3,1e4);function Cu(){return(Cu=(0,c.Z)(function*(I,g,_){const A=un(I);nt(I,g,Pi);const W=fn(A,_);return new va(A,"signInViaPopup",g,W).executeNotNull()})).apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I);nt(A.auth,g,Pi);const W=fn(A.auth,_);return new va(A.auth,"reauthViaPopup",g,W,A).executeNotNull()})).apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I);nt(A.auth,g,Pi);const W=fn(A.auth,_);return new va(A.auth,"linkViaPopup",g,W,A).executeNotNull()})).apply(this,arguments)}let va=(()=>{class I extends ho{constructor(_,A,W,he,rt){super(_,A,he,rt),this.provider=W,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const A=yield _.execute();return ve(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,c.Z)(function*(){Te(1===_.filter.length,"Popup operations only handle one event");const A=bs();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(W=>{_.reject(W)}),_.resolver._isIframeWebStorageSupported(_.auth,W=>{W||_.reject(wt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,W;this.pollId=(null===(W=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(wt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Dh.get())};_()}}return I.currentPopupAction=null,I})();const fo=new Map;class B extends ho{constructor(g,_,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,c.Z)(function*(){let A=fo.get(_.auth._key());if(!A){try{const he=(yield function G(I,g){return le.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;A=()=>Promise.resolve(he)}catch(W){A=()=>Promise.reject(W)}fo.set(_.auth._key(),A)}return _.bypassAuthState||fo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,A=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(A,g);if("unknown"!==g.type){if(g.eventId){const W=yield A.auth._redirectUserForId(g.eventId);if(W)return A.user=W,_().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function le(){return(le=(0,c.Z)(function*(I,g){const _=or(g),A=hn(I);if(!(yield A._isAvailable()))return!1;const W="true"===(yield A._get(_));return yield A._remove(_),W})).apply(this,arguments)}function Be(I,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(I,g){return hn(I)._set(or(g),"true")})).apply(this,arguments)}function on(I,g){fo.set(I._key(),g)}function hn(I){return ye(I._redirectPersistence)}function or(I){return hr("pendingRedirect",I.config.apiKey,I.name)}function dr(){return(dr=(0,c.Z)(function*(I,g,_){const A=un(I);nt(I,g,Pi);const W=fn(A,_);return yield Be(W,A),W._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I);nt(A.auth,g,Pi);const W=fn(A.auth,_);yield Be(W,A.auth);const he=yield Ql(A);return W._openRedirect(A.auth,g,"reauthViaRedirect",he)})).apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(I,g,_){const A=(0,K.m9)(I);nt(A.auth,g,Pi);const W=fn(A.auth,_);yield $(!1,A,g.providerId),yield Be(W,A.auth);const he=yield Ql(A);return W._openRedirect(A.auth,g,"linkViaRedirect",he)})).apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(I,g){return yield un(I)._initializationPromise,oi(I,g,!1)})).apply(this,arguments)}function oi(I,g){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(I,g,_=!1){const A=un(I),W=fn(A,g),rt=yield new B(A,W,_).execute();return rt&&!_&&(delete rt.user._redirectEventId,yield A._persistUserIfCurrent(rt.user),yield A._setRedirectUser(null,g)),rt})).apply(this,arguments)}function Ql(I){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(I){const g=bs(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Pl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(_=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function nc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tl(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var A;if(g.error&&!tl(g)){const W=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(wt(this.auth,W))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const A=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rd(g))}saveEventToCache(g){this.cachedEventUids.add(Rd(g)),this.lastProcessedEventTime=Date.now()}}function Rd(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function tl({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function rc(I){return Od.apply(this,arguments)}function Od(){return(Od=(0,c.Z)(function*(I,g={}){return Wt(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Du=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$s=/^https?/;function Cf(){return(Cf=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield rc(I);for(const _ of g)try{if(Th(_))return}catch(A){}ut(I,"unauthorized-domain")})).apply(this,arguments)}function Th(I){const g=St(),{protocol:_,hostname:A}=new URL(g);if(I.startsWith("chrome-extension://")){const rt=new URL(I);return""===rt.hostname&&""===A?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&rt.hostname===A}if(!$s.test(_))return!1;if(Du.test(I))return A===I;const W=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(A)}const Sh=new st(3e4,6e4);function Gp(){const I=Ni().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Pd=null;function eu(I){return Pd=Pd||function zp(I){return new Promise((g,_)=>{var A,W,he;function rt(){Gp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Gp(),_(wt(I,"network-request-failed"))},timeout:Sh.get()})}if(null===(W=null===(A=Ni().gapi)||void 0===A?void 0:A.iframes)||void 0===W?void 0:W.Iframe)g(gapi.iframes.getContext());else{if(!(null===(he=Ni().gapi)||void 0===he?void 0:he.load)){const Ut=eo("iframefcb");return Ni()[Ut]=()=>{gapi.load?rt():_(wt(I,"network-request-failed"))},yi(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(pn=>_(pn))}rt()}}).catch(g=>{throw Pd=null,g})}(I),Pd}const ia=new st(5e3,15e3),qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nl(I){const g=I.config;ve(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?gt(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,A={apiKey:g.apiKey,appName:I.name,v:Ve.SDK_VERSION},W=Tu.get(I.config.apiHost);W&&(A.eid=W);const he=I._getFrameworks();return he.length&&(A.fw=he.join(",")),`${_}?${(0,K.xO)(A).slice(1)}`}function nl(){return nl=(0,c.Z)(function*(I){const g=yield eu(I),_=Ni().gapi;return ve(_,I,"internal-error"),g.open({where:document.body,url:Nl(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qc,dontclear:!0},A=>new Promise(function(){var W=(0,c.Z)(function*(he,rt){yield A.restyle({setHideOnLeave:!1});const Ut=wt(I,"network-request-failed"),pn=Ni().setTimeout(()=>{rt(Ut)},ia.get());function wn(){Ni().clearTimeout(pn),he(A)}A.ping(wn).then(wn,()=>{rt(Ut)})});return function(he,rt){return W.apply(this,arguments)}}()))}),nl.apply(this,arguments)}const Df={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Go{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function rl(I,g,_,A,W,he){ve(I.config.authDomain,I,"auth-domain-config-required"),ve(I.config.apiKey,I,"invalid-api-key");const rt={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:A,v:Ve.SDK_VERSION,eventId:W};if(g instanceof Pi){g.setDefaultLanguage(I.languageCode),rt.providerId=g.providerId||"",(0,K.xb)(g.getCustomParameters())||(rt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[pn,wn]of Object.entries(he||{}))rt[pn]=wn}if(g instanceof Bs){const pn=g.getScopes().filter(wn=>""!==wn);pn.length>0&&(rt.scopes=pn.join(","))}I.tenantId&&(rt.tid=I.tenantId);const Ut=rt;for(const pn of Object.keys(Ut))void 0===Ut[pn]&&delete Ut[pn];return`${function Sf({config:I}){return I.emulator?gt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,K.xO)(Ut).slice(1)}`}const kd="webStorageSupport";class Ld extends class Fd{constructor(g){this.factorId=g}_process(g,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,A);case"signin":return this._finalizeSignIn(g,_.credential);default:return Me("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ld(g)}_finalizeEnroll(g,_,A){return function Zo(I,g){return Wt(I,"POST","/v2/accounts/mfaEnrollment:finalize",_t(I,g))}(g,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Cr(I,g){return Wt(I,"POST","/v2/accounts/mfaSignIn:finalize",_t(I,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lc=(()=>{class I{constructor(){}static assertion(_){return Ld._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var wi="@firebase/auth";class Hr{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(A=>{var W;g((null===(W=A)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bo(){return window}function Ii(){return(Ii=(0,c.Z)(function*(I,g,_){var A;const{BuildInfo:W}=bo();Te(g.sessionId,"AuthEvent did not contain a session ID");const he=yield uc(g.sessionId),rt={};return pi()?rt.ibi=W.packageName:Gr()?rt.apn=W.packageName:ut(I,"operation-not-supported-in-this-environment"),W.displayName&&(rt.appDisplayName=W.displayName),rt.sessionId=he,rl(I,_,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,rt)})).apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(I){const{BuildInfo:g}=bo(),_={};pi()?_.iosBundleId=g.packageName:Gr()?_.androidPackageName=g.packageName:ut(I,"operation-not-supported-in-this-environment"),yield rc(I,_)})).apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(I,g,_){const{cordova:A}=bo();let W=()=>{};try{yield new Promise((he,rt)=>{let Ut=null;function pn(){var $n;he();const Fs=null===($n=A.plugins.browsertab)||void 0===$n?void 0:$n.close;"function"==typeof Fs&&Fs(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function wn(){Ut||(Ut=window.setTimeout(()=>{rt(wt(I,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===(null==document?void 0:document.visibilityState)&&wn()}g.addPassiveListener(pn),document.addEventListener("resume",wn,!1),Gr()&&document.addEventListener("visibilitychange",tr,!1),W=()=>{g.removePassiveListener(pn),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",tr,!1),Ut&&window.clearTimeout(Ut)}})}finally{W()}})).apply(this,arguments)}function uc(I){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(I){const g=cc(I),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(W=>W.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cc(I){if(Te(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),_=new Uint8Array(g);for(let A=0;A<I.length;A++)_[A]=I.charCodeAt(A);return _}!function _i(I){(0,Ve._registerComponent)(new Ce.wA("auth",(g,{options:_})=>{const A=g.getProvider("app").getImmediate(),W=g.getProvider("heartbeat"),{apiKey:he,authDomain:rt}=A.options;return((Ut,pn)=>{ve(he&&!he.includes(":"),"invalid-api-key",{appName:Ut.name}),ve(!(null==rt?void 0:rt.includes(":")),"argument-error",{appName:Ut.name});const wn={apiKey:he,authDomain:rt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(I)},tr=new zt(Ut,pn,wn);return function Ye(I,g){const _=(null==g?void 0:g.persistence)||[],A=(Array.isArray(_)?_:[_]).map(ye);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(tr,_),tr})(A,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,A)=>{g.getProvider("auth-internal").initialize()})),(0,Ve._registerComponent)(new Ce.wA("auth-internal",g=>{const _=un(g.getProvider("auth").getImmediate());return new Hr(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)(wi,"0.20.2",function sa(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Ve.registerVersion)(wi,"0.20.2","esm2017")}("Browser");class Oh extends Pl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function nu(I){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(I){const g=yield il()._get(hc(I));return g&&(yield il()._remove(hc(I))),g})).apply(this,arguments)}function Ph(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const A=Math.floor(Math.random()*g.length);I.push(g.charAt(A))}return I.join("")}function il(){return ye(Fo)}function hc(I){return hr("authEvent",I.config.apiKey,I.name)}function Wn(I){if(!(null==I?void 0:I.includes("?")))return{};const[g,..._]=I.split("?");return(0,K.zd)(_.join("?"))}function fc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wt("no-auth-event")}}function xu(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function Ai(I=(0,K.z$)()){return!("file:"!==xu()&&"ionic:"!==xu()&&"capacitor:"!==xu()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mu(){try{const I=self.localStorage,g=bs();if(I)return I.setItem(g,"1"),I.removeItem(g),!function Va(I=(0,K.z$)()){return function ro(){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ru(I=(0,K.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,K.hl)()}catch(I){return Zs()&&(0,K.hl)()}return!1}function Zs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function iu(){return(function Rf(){return"http:"===xu()||"https:"===xu()}()||(0,K.ru)()||Ai())&&!function pc(){return(0,K.b$)()||(0,K.UG)()}()&&Mu()&&!Zs()}function td(){return Ai()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,c.Z)(function*(){return!!td()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const oa={LOCAL:"local",NONE:"none",SESSION:"session"},Fl=ve,Bd="persistence";function Ea(I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(I){yield I._initializationPromise;const g=Vd(),_=hr(Bd,I.config.apiKey,I.name);g&&g.setItem(_,I._getPersistence())})).apply(this,arguments)}function Vd(){var I;try{return(null===(I=function kh(){return"undefined"!=typeof window?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch(g){return null}}const gc=ve;class zo{constructor(){this.browserResolver=ye(class Wp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=oi,this._overrideRedirectResult=on}_openPopup(g,_,A,W){var he=this;return(0,c.Z)(function*(){var rt;Te(null===(rt=he.eventManagers[g._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const Ut=rl(g,_,A,St(),W);return function Tf(I,g,_,A=500,W=600){const he=Math.max((window.screen.availHeight-W)/2,0).toString(),rt=Math.max((window.screen.availWidth-A)/2,0).toString();let Ut="";const pn=Object.assign(Object.assign({},Df),{width:A.toString(),height:W.toString(),top:he,left:rt}),wn=(0,K.z$)().toLowerCase();_&&(Ut=Li(wn)?"_blank":_),fi(wn)&&(g=g||"http://localhost",pn.scrollbars="yes");const tr=Object.entries(pn).reduce((Fs,[Co,al])=>`${Fs}${Co}=${al},`,"");if(function zi(I=(0,K.z$)()){var g;return pi(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(wn)&&"_self"!==Ut)return function ac(I,g){const _=document.createElement("a");_.href=I,_.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(g||"",Ut),new Go(null);const $n=window.open(g||"",Ut,tr);ve($n,I,"popup-blocked");try{$n.focus()}catch(Fs){}return new Go($n)}(g,Ut,bs())})()}_openRedirect(g,_,A,W){var he=this;return(0,c.Z)(function*(){return yield he._originValidation(g),function fa(I){Ni().location.href=I}(rl(g,_,A,St(),W)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:W,promise:he}=this.eventManagers[_];return W?Promise.resolve(W):(Te(he,"If manager is not set, promise should be"),he)}const A=this.initAndGetManager(g);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(g){var _=this;return(0,c.Z)(function*(){const A=yield function Kc(I){return nl.apply(this,arguments)}(g),W=new Pl(g);return A.register("authEvent",he=>(ve(null==he?void 0:he.authEvent,g,"invalid-auth-event"),{status:W.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:W},_.iframes[g._key()]=A,W})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(kd,{type:kd},W=>{var he;const rt=null===(he=null==W?void 0:W[0])||void 0===he?void 0:he[kd];void 0!==rt&&_(!!rt),ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Hp(I){return Cf.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ri()||Mi()||pi()}}),this.cordovaResolver=ye(class Nh{constructor(){this._redirectPersistence=Ks,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oi,this._overrideRedirectResult=on}_initialize(g){var _=this;return(0,c.Z)(function*(){const A=g._key();let W=_.eventManagers.get(A);return W||(W=new Oh(g),_.eventManagers.set(A,W),_.attachCallbackListeners(g,W)),W})()}_openPopup(g){ut(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,A,W){var he=this;return(0,c.Z)(function*(){!function Rh(I){var g,_,A,W,he,rt,Ut,pn,wn,tr;const $n=bo();ve("function"==typeof(null===(g=null==$n?void 0:$n.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(void 0!==(null===(_=null==$n?void 0:$n.BuildInfo)||void 0===_?void 0:_.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve("function"==typeof(null===(he=null===(W=null===(A=null==$n?void 0:$n.cordova)||void 0===A?void 0:A.plugins)||void 0===W?void 0:W.browsertab)||void 0===he?void 0:he.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(pn=null===(Ut=null===(rt=null==$n?void 0:$n.cordova)||void 0===rt?void 0:rt.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===pn?void 0:pn.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(tr=null===(wn=null==$n?void 0:$n.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===tr?void 0:tr.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const rt=yield he._initialize(g);yield rt.initialized(),rt.resetRedirect(),function Dt(){fo.clear()}(),yield he._originValidation(g);const Ut=function Au(I,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Ph(),postBody:null,tenantId:I.tenantId,error:wt(I,"no-auth-event")}}(g,A,W);yield function Xc(I,g){return il()._set(hc(I),g)}(g,Ut);const pn=yield function wo(I,g,_){return Ii.apply(this,arguments)}(g,Ut,_),wn=yield function Af(I){const{cordova:g}=bo();return new Promise(_=>{g.plugins.browsertab.isAvailable(A=>{let W=null;A?g.plugins.browsertab.openUrl(I):W=g.InAppBrowser.open(I,function Bi(I=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),_(W)})})}(pn);return function xf(I,g,_){return vi.apply(this,arguments)}(g,rt,wn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ur(I){return Ns.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:A,handleOpenURL:W,BuildInfo:he}=bo(),rt=setTimeout((0,c.Z)(function*(){yield nu(g),_.onEvent(fc())}),500),Ut=function(){var tr=(0,c.Z)(function*($n){clearTimeout(rt);const Fs=yield nu(g);let Co=null;Fs&&(null==$n?void 0:$n.url)&&(Co=function Mf(I,g){var _,A;const W=function Yn(I){const g=Wn(I),_=g.link?decodeURIComponent(g.link):void 0,A=Wn(_).link,W=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Wn(W).link||W||A||_||I}(g);if(W.includes("/__/auth/callback")){const he=Wn(W),rt=he.firebaseError?function kl(I){try{return JSON.parse(I)}catch(g){return null}}(decodeURIComponent(he.firebaseError)):null,Ut=null===(A=null===(_=null==rt?void 0:rt.code)||void 0===_?void 0:_.split("auth/"))||void 0===A?void 0:A[1],pn=Ut?wt(Ut):null;return pn?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:W,postBody:null}}return null}(Fs,$n.url)),_.onEvent(Co||fc())});return function(Fs){return tr.apply(this,arguments)}}();void 0!==A&&"function"==typeof A.subscribe&&A.subscribe(null,Ut);const pn=W,wn=`${he.packageName.toLowerCase()}://`;bo().handleOpenURL=function(){var tr=(0,c.Z)(function*($n){if($n.toLowerCase().startsWith(wn)&&Ut({url:$n}),"function"==typeof pn)try{pn($n)}catch(Fs){console.error(Fs)}});return function($n){return tr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ks,this._completeRedirectFn=oi,this._overrideRedirectResult=on}_initialize(g){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,A,W){var he=this;return(0,c.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._openPopup(g,_,A,W)})()}_openRedirect(g,_,A,W){var he=this;return(0,c.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._openRedirect(g,_,A,W)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return td()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const _=yield function Kp(){return Fi.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function hi(I){return I.unwrap()}function rd(I){return su(I)}function su(I){const{_tokenResponse:g}=I instanceof K.ZR?I.customData:I;if(!g)return null;if(!(I instanceof K.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Eo.credentialFromResult(I);const _=g.providerId;if(!_||"password"===_)return null;let A;switch(_){case"google.com":A=so;break;case"facebook.com":A=Ei;break;case"github.com":A=Mo;break;case"twitter.com":A=Ui;break;default:const{oauthIdToken:W,oauthAccessToken:he,oauthTokenSecret:rt,pendingToken:Ut,nonce:pn}=g;return he||rt||W||Ut?Ut?_.startsWith("saml.")?Ss._create(_,Ut):Ze._fromParams({providerId:_,signInMethod:_,pendingToken:Ut,idToken:W,accessToken:he}):new ls(_).credential({idToken:W,accessToken:he,rawNonce:pn}):null}return I instanceof K.ZR?A.credentialFromError(I):A.credentialFromResult(I)}function go(I,g){return g.catch(_=>{throw _ instanceof K.ZR&&function Ou(I,g){var _;const A=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Of(I,function fs(I,g){var _;const A=(0,K.m9)(I),W=g;return ve(g.customData.operationType,A,"argument-error"),ve(null===(_=W.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),Ra._fromError(A,W)}(I,g));else if(A){const W=su(g),he=g;W&&(he.credential=W,he.tenantId=A.tenantId||void 0,he.email=A.email||void 0,he.phoneNumber=A.phoneNumber||void 0)}}(I,_),_}).then(_=>{const W=_.user;return{operationType:_.operationType,credential:rd(_),additionalUserInfo:No(_),user:Wo.getOrCreate(W)}})}function id(I,g){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,c.Z)(function*(I,g){const _=yield g;return{verificationId:_.verificationId,confirm:A=>go(I,_.confirm(A))}})).apply(this,arguments)}class Of{constructor(g,_){this.resolver=_,this.auth=function nd(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return go(hi(this.auth),this.resolver.resolveSignIn(g))}}class Wo{constructor(g){this._delegate=g,this.multiFactor=function Qo(I){const g=(0,K.m9)(I);return Oa.has(g)||Oa.set(g,Xo._fromUser(g)),Oa.get(g)}(g)}static getOrCreate(g){return Wo.USER_MAP.has(g)||Wo.USER_MAP.set(g,new Wo(g)),Wo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,c.Z)(function*(){return go(_.auth,Hn(_._delegate,g))})()}linkWithPhoneNumber(g,_){var A=this;return(0,c.Z)(function*(){return id(A.auth,function ya(I,g,_){return La.apply(this,arguments)}(A._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,c.Z)(function*(){return go(_.auth,function Yl(I,g,_){return Ja.apply(this,arguments)}(_._delegate,g,zo))})()}linkWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield Ea(un(_.auth)),function po(I,g,_){return function na(I,g,_){return bi.apply(this,arguments)}(I,g,_)}(_._delegate,g,zo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,c.Z)(function*(){return go(_.auth,ci(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return id(this.auth,function ss(I,g,_){return ni.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return go(this.auth,function Bo(I,g,_){return Kl.apply(this,arguments)}(this._delegate,g,zo))}reauthenticateWithRedirect(g){var _=this;return(0,c.Z)(function*(){return yield Ea(un(_.auth)),function ei(I,g,_){return function Ps(I,g,_){return el.apply(this,arguments)}(I,g,_)}(_._delegate,g,zo)})()}sendEmailVerification(g){return function Aa(I,g){return Gl.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,c.Z)(function*(){return yield function jo(I,g){return Rr.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Ju(I,g){return xa((0,K.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function qa(I,g){return xa((0,K.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function ta(I,g){return Ys.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function El(I,g){return bl.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Ki(I,g,_){return mo.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wo.USER_MAP=new WeakMap;const ou=ve;let Fh=(()=>{class I{constructor(_,A){if(this.app=_,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:W}=_.options;ou(W,"invalid-api-key",{appName:_.name}),ou(W,"invalid-api-key",{appName:_.name});const he="undefined"!=typeof window?zo:void 0;this._delegate=A.initialize({options:{persistence:mc(W,_.name),popupRedirectResolver:he}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,A){!function xr(I,g,_){const A=un(I);ve(A._canInitEmulator,A,"emulator-config-failed"),ve(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const W=!!(null==_?void 0:_.disableWarnings),he=jr(g),{host:rt,port:Ut}=function lr(I){const g=jr(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(A);if(W){const he=W[1];return{host:he,port:li(A.substr(he.length+1))}}{const[he,rt]=A.split(":");return{host:he,port:li(rt)}}}(g);A.config.emulator={url:`${he}//${rt}${null===Ut?"":`:${Ut}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:rt,port:Ut,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Mr(){function I(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,_,A)}applyActionCode(_){return function N(I,g){return b.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return j(this._delegate,_)}confirmPasswordReset(_,A){return function Lt(I,g,_){return E.apply(this,arguments)}(this._delegate,_,A)}createUserWithEmailAndPassword(_,A){var W=this;return(0,c.Z)(function*(){return go(W._delegate,function Dn(I,g,_){return cr.apply(this,arguments)}(W._delegate,_,A))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Oo(I,g){return Js.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ti(I,g){const _=Ts.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){ou(iu(),_._delegate,"operation-not-supported-in-this-environment");const A=yield function ra(I,g){return ys.apply(this,arguments)}(_._delegate,zo);return A?go(_._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function ks(I,g){un(I)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,A,W){const{next:he,error:rt,complete:Ut}=au(_,A,W);return this._delegate.onAuthStateChanged(he,rt,Ut)}onIdTokenChanged(_,A,W){const{next:he,error:rt,complete:Ut}=au(_,A,W);return this._delegate.onIdTokenChanged(he,rt,Ut)}sendSignInLinkToEmail(_,A){return function Wi(I,g,_){return qi.apply(this,arguments)}(this._delegate,_,A)}sendPasswordResetEmail(_,A){return function F(I,g,_){return ae.apply(this,arguments)}(this._delegate,_,A||void 0)}setPersistence(_){var A=this;return(0,c.Z)(function*(){let W;switch(function Ua(I,g){Fl(Object.values(oa).includes(g),I,"invalid-persistence-type"),(0,K.b$)()?Fl(g!==oa.SESSION,I,"unsupported-persistence-type"):(0,K.UG)()?Fl(g===oa.NONE,I,"unsupported-persistence-type"):Zs()?Fl(g===oa.NONE||g===oa.LOCAL&&(0,K.hl)(),I,"unsupported-persistence-type"):Fl(g===oa.NONE||Mu(),I,"unsupported-persistence-type")}(A._delegate,_),_){case oa.SESSION:W=Ks;break;case oa.LOCAL:W=(yield ye(Bt)._isAvailable())?Bt:Fo;break;case oa.NONE:W=Tn;break;default:return ut("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(W)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return go(this._delegate,function $i(I){return xs.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return go(this._delegate,Kn(this._delegate,_))}signInWithCustomToken(_){return go(this._delegate,function ns(I,g){return kn.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,A){return go(this._delegate,function Zn(I,g,_){return Kn((0,K.m9)(I),$o.credential(g,_))}(this._delegate,_,A))}signInWithEmailLink(_,A){return go(this._delegate,function Ms(I,g,_){return si.apply(this,arguments)}(this._delegate,_,A))}signInWithPhoneNumber(_,A){return id(this._delegate,function Ho(I,g,_){return vr.apply(this,arguments)}(this._delegate,_,A))}signInWithPopup(_){var A=this;return(0,c.Z)(function*(){return ou(iu(),A._delegate,"operation-not-supported-in-this-environment"),go(A._delegate,function Lo(I,g,_){return Cu.apply(this,arguments)}(A._delegate,_,zo))})()}signInWithRedirect(_){var A=this;return(0,c.Z)(function*(){return ou(iu(),A._delegate,"operation-not-supported-in-this-environment"),yield Ea(A._delegate),function er(I,g,_){return function Nr(I,g,_){return dr.apply(this,arguments)}(I,g,_)}(A._delegate,_,zo)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Tt(I,g){return sn.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=oa,I})();function au(I,g,_){let A=I;"function"!=typeof I&&({next:A,error:g,complete:_}=I);const W=A;return{next:rt=>W(rt&&Wo.getOrCreate(rt)),error:g,complete:_}}function mc(I,g){const _=function Un(I,g){const _=Vd();if(!_)return[];const A=hr(Bd,I,g);switch(_.getItem(A)){case oa.NONE:return[Tn];case oa.LOCAL:return[Bt,Ks];case oa.SESSION:return[Ks];default:return[]}}(I,g);if("undefined"!=typeof self&&!_.includes(Bt)&&_.push(Bt),"undefined"!=typeof window)for(const A of[Fo,Ks])_.includes(A)||_.push(A);return _.includes(Tn)||_.push(Tn),_}class lu{constructor(){this.providerId="phone",this._delegate=new Eo(hi(X.Z.auth()))}static credential(g,_){return Eo.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}lu.PHONE_SIGN_IN_METHOD=Eo.PHONE_SIGN_IN_METHOD,lu.PROVIDER_ID=Eo.PROVIDER_ID;const Yp=ve;class $d{constructor(g,_,A=X.Z.app()){var W;Yp(null===(W=A.options)||void 0===W?void 0:W.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Fa(g,_,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ol(I){I.INTERNAL.registerComponent(new Ce.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new Fh(_,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$o,FacebookAuthProvider:Ei,GithubAuthProvider:Mo,GoogleAuthProvider:so,OAuthProvider:ls,SAMLAuthProvider:us,PhoneAuthProvider:lu,PhoneMultiFactorGenerator:lc,RecaptchaVerifier:$d,TwitterAuthProvider:Ui,Auth:Fh,AuthCredential:ur,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.2.15")}(X.Z)},591:(Xt,lt,L)=>{"use strict";L.d(lt,{X:()=>K});var c=L(8929),X=L(5279);class K extends c.xQ{constructor(Oe){super(),this._value=Oe}get value(){return this.getValue()}_subscribe(Oe){const se=super._subscribe(Oe);return se&&!se.closed&&Oe.next(this._value),se}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X.N;return this._value}next(Oe){super.next(this._value=Oe)}}},2916:(Xt,lt,L)=>{"use strict";L.d(lt,{y:()=>me});var c=L(3489),K=L(7668),Ve=L(3292),se=L(3821),Ce=L(5379);var ee=L(2830);let me=(()=>{class fe{constructor(ke){this._isScalar=!1,ke&&(this._subscribe=ke)}lift(ke){const Ee=new fe;return Ee.source=this,Ee.operator=ke,Ee}subscribe(ke,Ee,Fe){const{operator:je}=this,ft=function Oe(fe,ze,ke){if(fe){if(fe instanceof c.L)return fe;if(fe[K.b])return fe[K.b]()}return fe||ze||ke?new c.L(fe,ze,ke):new c.L(Ve.c)}(ke,Ee,Fe);if(ft.add(je?je.call(ft,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!ft.syncErrorThrowable?this._subscribe(ft):this._trySubscribe(ft)),ee.v.useDeprecatedSynchronousErrorHandling&&ft.syncErrorThrowable&&(ft.syncErrorThrowable=!1,ft.syncErrorThrown))throw ft.syncErrorValue;return ft}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ee){ee.v.useDeprecatedSynchronousErrorHandling&&(ke.syncErrorThrown=!0,ke.syncErrorValue=Ee),function X(fe){for(;fe;){const{closed:ze,destination:ke,isStopped:Ee}=fe;if(ze||Ee)return!1;fe=ke&&ke instanceof c.L?ke:null}return!0}(ke)?ke.error(Ee):console.warn(Ee)}}forEach(ke,Ee){return new(Ee=ne(Ee))((Fe,je)=>{let ft;ft=this.subscribe(we=>{try{ke(we)}catch(ut){je(ut),ft&&ft.unsubscribe()}},je,Fe)})}_subscribe(ke){const{source:Ee}=this;return Ee&&Ee.subscribe(ke)}[se.L](){return this}pipe(...ke){return 0===ke.length?this:function be(fe){return 0===fe.length?Ce.y:1===fe.length?fe[0]:function(ke){return fe.reduce((Ee,Fe)=>Fe(Ee),ke)}}(ke)(this)}toPromise(ke){return new(ke=ne(ke))((Ee,Fe)=>{let je;this.subscribe(ft=>je=ft,ft=>Fe(ft),()=>Ee(je))})}}return fe.create=ze=>new fe(ze),fe})();function ne(fe){if(fe||(fe=ee.v.Promise||Promise),!fe)throw new Error("no Promise impl found");return fe}},3292:(Xt,lt,L)=>{"use strict";L.d(lt,{c:()=>K});var c=L(2830),X=L(2782);const K={closed:!0,next(Ve){},error(Ve){if(c.v.useDeprecatedSynchronousErrorHandling)throw Ve;(0,X.z)(Ve)},complete(){}}},826:(Xt,lt,L)=>{"use strict";L.d(lt,{L:()=>X});var c=L(3489);class X extends c.L{notifyNext(Ve,Oe,se,Ce,_e){this.destination.next(Oe)}notifyError(Ve,Oe){this.destination.error(Ve)}notifyComplete(Ve){this.destination.complete()}}},8929:(Xt,lt,L)=>{"use strict";L.d(lt,{Yc:()=>Ce,xQ:()=>_e});var c=L(2916),X=L(3489),K=L(2654),Ve=L(5279),Oe=L(5283),se=L(7668);class Ce extends X.L{constructor(me){super(me),this.destination=me}}let _e=(()=>{class ee extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new Ce(this)}lift(ne){const fe=new be(this,this);return fe.operator=ne,fe}next(ne){if(this.closed)throw new Ve.N;if(!this.isStopped){const{observers:fe}=this,ze=fe.length,ke=fe.slice();for(let Ee=0;Ee<ze;Ee++)ke[Ee].next(ne)}}error(ne){if(this.closed)throw new Ve.N;this.hasError=!0,this.thrownError=ne,this.isStopped=!0;const{observers:fe}=this,ze=fe.length,ke=fe.slice();for(let Ee=0;Ee<ze;Ee++)ke[Ee].error(ne);this.observers.length=0}complete(){if(this.closed)throw new Ve.N;this.isStopped=!0;const{observers:ne}=this,fe=ne.length,ze=ne.slice();for(let ke=0;ke<fe;ke++)ze[ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ne){if(this.closed)throw new Ve.N;return super._trySubscribe(ne)}_subscribe(ne){if(this.closed)throw new Ve.N;return this.hasError?(ne.error(this.thrownError),K.w.EMPTY):this.isStopped?(ne.complete(),K.w.EMPTY):(this.observers.push(ne),new Oe.W(this,ne))}asObservable(){const ne=new c.y;return ne.source=this,ne}}return ee.create=(me,ne)=>new be(me,ne),ee})();class be extends _e{constructor(me,ne){super(),this.destination=me,this.source=ne}next(me){const{destination:ne}=this;ne&&ne.next&&ne.next(me)}error(me){const{destination:ne}=this;ne&&ne.error&&this.destination.error(me)}complete(){const{destination:me}=this;me&&me.complete&&this.destination.complete()}_subscribe(me){const{source:ne}=this;return ne?this.source.subscribe(me):K.w.EMPTY}}},5283:(Xt,lt,L)=>{"use strict";L.d(lt,{W:()=>X});var c=L(2654);class X extends c.w{constructor(Ve,Oe){super(),this.subject=Ve,this.subscriber=Oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ve=this.subject,Oe=Ve.observers;if(this.subject=null,!Oe||0===Oe.length||Ve.isStopped||Ve.closed)return;const se=Oe.indexOf(this.subscriber);-1!==se&&Oe.splice(se,1)}}},3489:(Xt,lt,L)=>{"use strict";L.d(lt,{L:()=>Ce});var c=L(7043),X=L(3292),K=L(2654),Ve=L(7668),Oe=L(2830),se=L(2782);class Ce extends K.w{constructor(ee,me,ne){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!ee){this.destination=X.c;break}if("object"==typeof ee){ee instanceof Ce?(this.syncErrorThrowable=ee.syncErrorThrowable,this.destination=ee,ee.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,ee));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,ee,me,ne)}}[Ve.b](){return this}static create(ee,me,ne){const fe=new Ce(ee,me,ne);return fe.syncErrorThrowable=!1,fe}next(ee){this.isStopped||this._next(ee)}error(ee){this.isStopped||(this.isStopped=!0,this._error(ee))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ee){this.destination.next(ee)}_error(ee){this.destination.error(ee),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ee}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ee,this}}class _e extends Ce{constructor(ee,me,ne,fe){super(),this._parentSubscriber=ee;let ze,ke=this;(0,c.m)(me)?ze=me:me&&(ze=me.next,ne=me.error,fe=me.complete,me!==X.c&&(ke=Object.create(me),(0,c.m)(ke.unsubscribe)&&this.add(ke.unsubscribe.bind(ke)),ke.unsubscribe=this.unsubscribe.bind(this))),this._context=ke,this._next=ze,this._error=ne,this._complete=fe}next(ee){if(!this.isStopped&&this._next){const{_parentSubscriber:me}=this;Oe.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable?this.__tryOrSetError(me,this._next,ee)&&this.unsubscribe():this.__tryOrUnsub(this._next,ee)}}error(ee){if(!this.isStopped){const{_parentSubscriber:me}=this,{useDeprecatedSynchronousErrorHandling:ne}=Oe.v;if(this._error)ne&&me.syncErrorThrowable?(this.__tryOrSetError(me,this._error,ee),this.unsubscribe()):(this.__tryOrUnsub(this._error,ee),this.unsubscribe());else if(me.syncErrorThrowable)ne?(me.syncErrorValue=ee,me.syncErrorThrown=!0):(0,se.z)(ee),this.unsubscribe();else{if(this.unsubscribe(),ne)throw ee;(0,se.z)(ee)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ee}=this;if(this._complete){const me=()=>this._complete.call(this._context);Oe.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,me),this.unsubscribe()):(this.__tryOrUnsub(me),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ee,me){try{ee.call(this._context,me)}catch(ne){if(this.unsubscribe(),Oe.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,se.z)(ne)}}__tryOrSetError(ee,me,ne){if(!Oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{me.call(this._context,ne)}catch(fe){return Oe.v.useDeprecatedSynchronousErrorHandling?(ee.syncErrorValue=fe,ee.syncErrorThrown=!0,!0):((0,se.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ee}=this;this._context=null,this._parentSubscriber=null,ee.unsubscribe()}}},2654:(Xt,lt,L)=>{"use strict";L.d(lt,{w:()=>se});var c=L(6688),X=L(7830),K=L(7043);const Oe=(()=>{function _e(be){return Error.call(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((ee,me)=>`${me+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be,this}return _e.prototype=Object.create(Error.prototype),_e})();class se{constructor(be){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,be&&(this._ctorUnsubscribe=!0,this._unsubscribe=be)}unsubscribe(){let be;if(this.closed)return;let{_parentOrParents:ee,_ctorUnsubscribe:me,_unsubscribe:ne,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof se)ee.remove(this);else if(null!==ee)for(let ze=0;ze<ee.length;++ze)ee[ze].remove(this);if((0,K.m)(ne)){me&&(this._unsubscribe=void 0);try{ne.call(this)}catch(ze){be=ze instanceof Oe?Ce(ze.errors):[ze]}}if((0,c.k)(fe)){let ze=-1,ke=fe.length;for(;++ze<ke;){const Ee=fe[ze];if((0,X.K)(Ee))try{Ee.unsubscribe()}catch(Fe){be=be||[],Fe instanceof Oe?be=be.concat(Ce(Fe.errors)):be.push(Fe)}}}if(be)throw new Oe(be)}add(be){let ee=be;if(!be)return se.EMPTY;switch(typeof be){case"function":ee=new se(be);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof se)){const fe=ee;ee=new se,ee._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+be+" added to Subscription.")}let{_parentOrParents:me}=ee;if(null===me)ee._parentOrParents=this;else if(me instanceof se){if(me===this)return ee;ee._parentOrParents=[me,this]}else{if(-1!==me.indexOf(this))return ee;me.push(this)}const ne=this._subscriptions;return null===ne?this._subscriptions=[ee]:ne.push(ee),ee}remove(be){const ee=this._subscriptions;if(ee){const me=ee.indexOf(be);-1!==me&&ee.splice(me,1)}}}var _e;function Ce(_e){return _e.reduce((be,ee)=>be.concat(ee instanceof Oe?ee.errors:ee),[])}se.EMPTY=((_e=new se).closed=!0,_e)},2830:(Xt,lt,L)=>{"use strict";L.d(lt,{v:()=>X});let c=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const Ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ve.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=K},get useDeprecatedSynchronousErrorHandling(){return c}}},1177:(Xt,lt,L)=>{"use strict";L.d(lt,{IY:()=>Ve,Ds:()=>se,ft:()=>_e});var c=L(3489),X=L(2916),K=L(9249);class Ve extends c.L{constructor(ee){super(),this.parent=ee}_next(ee){this.parent.notifyNext(ee)}_error(ee){this.parent.notifyError(ee),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends c.L{notifyNext(ee){this.destination.next(ee)}notifyError(ee){this.destination.error(ee)}notifyComplete(){this.destination.complete()}}function _e(be,ee){if(ee.closed)return;if(be instanceof X.y)return be.subscribe(ee);let me;try{me=(0,K.s)(be)(ee)}catch(ne){ee.error(ne)}return me}},1762:(Xt,lt,L)=>{"use strict";L.d(lt,{c:()=>Oe,N:()=>se});var c=L(8929),X=L(2916),K=L(2654),Ve=L(4327);class Oe extends X.y{constructor(me,ne){super(),this.source=me,this.subjectFactory=ne,this._refCount=0,this._isComplete=!1}_subscribe(me){return this.getSubject().subscribe(me)}getSubject(){const me=this._subject;return(!me||me.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let me=this._connection;return me||(this._isComplete=!1,me=this._connection=new K.w,me.add(this.source.subscribe(new Ce(this.getSubject(),this))),me.closed&&(this._connection=null,me=K.w.EMPTY)),me}refCount(){return(0,Ve.x)()(this)}}const se=(()=>{const ee=Oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}}})();class Ce extends c.Yc{constructor(me,ne){super(me),this.connectable=ne}_error(me){this._unsubscribe(),super._error(me)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const me=this.connectable;if(me){this.connectable=null;const ne=me._connection;me._refCount=0,me._subject=null,me._connection=null,ne&&ne.unsubscribe()}}}},1221:(Xt,lt,L)=>{"use strict";L.d(lt,{z:()=>Ve});var c=L(1086),X=L(9146);function Ve(...Oe){return function K(){return(0,X.J)(1)}()((0,c.of)(...Oe))}},8896:(Xt,lt,L)=>{"use strict";L.d(lt,{E:()=>X,c:()=>K});var c=L(2916);const X=new c.y(Oe=>Oe.complete());function K(Oe){return Oe?function Ve(Oe){return new c.y(se=>Oe.schedule(()=>se.complete()))}(Oe):X}},5254:(Xt,lt,L)=>{"use strict";L.d(lt,{D:()=>ke});var c=L(2916),X=L(9249),K=L(2654),Ve=L(3821),Ce=L(6454),_e=L(5430),me=L(8955),ne=L(8515);function ke(Ee,Fe){return Fe?function ze(Ee,Fe){if(null!=Ee){if(function ee(Ee){return Ee&&"function"==typeof Ee[Ve.L]}(Ee))return function Oe(Ee,Fe){return new c.y(je=>{const ft=new K.w;return ft.add(Fe.schedule(()=>{const we=Ee[Ve.L]();ft.add(we.subscribe({next(ut){ft.add(Fe.schedule(()=>je.next(ut)))},error(ut){ft.add(Fe.schedule(()=>je.error(ut)))},complete(){ft.add(Fe.schedule(()=>je.complete()))}}))})),ft})}(Ee,Fe);if((0,me.t)(Ee))return function se(Ee,Fe){return new c.y(je=>{const ft=new K.w;return ft.add(Fe.schedule(()=>Ee.then(we=>{ft.add(Fe.schedule(()=>{je.next(we),ft.add(Fe.schedule(()=>je.complete()))}))},we=>{ft.add(Fe.schedule(()=>je.error(we)))}))),ft})}(Ee,Fe);if((0,ne.z)(Ee))return(0,Ce.r)(Ee,Fe);if(function fe(Ee){return Ee&&"function"==typeof Ee[_e.hZ]}(Ee)||"string"==typeof Ee)return function be(Ee,Fe){if(!Ee)throw new Error("Iterable cannot be null");return new c.y(je=>{const ft=new K.w;let we;return ft.add(()=>{we&&"function"==typeof we.return&&we.return()}),ft.add(Fe.schedule(()=>{we=Ee[_e.hZ](),ft.add(Fe.schedule(function(){if(je.closed)return;let ut,wt;try{const xt=we.next();ut=xt.value,wt=xt.done}catch(xt){return void je.error(xt)}wt?je.complete():(je.next(ut),this.schedule())}))})),ft})}(Ee,Fe)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,Fe):Ee instanceof c.y?Ee:new c.y((0,X.s)(Ee))}},3009:(Xt,lt,L)=>{"use strict";L.d(lt,{n:()=>Ve});var c=L(2916),X=L(3650),K=L(6454);function Ve(Oe,se){return se?(0,K.r)(Oe,se):new c.y((0,X.V)(Oe))}},6787:(Xt,lt,L)=>{"use strict";L.d(lt,{T:()=>Oe});var c=L(2916),X=L(2866),K=L(9146),Ve=L(3009);function Oe(...se){let Ce=Number.POSITIVE_INFINITY,_e=null,be=se[se.length-1];return(0,X.K)(be)?(_e=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(Ce=se.pop())):"number"==typeof be&&(Ce=se.pop()),null===_e&&1===se.length&&se[0]instanceof c.y?se[0]:(0,K.J)(Ce)((0,Ve.n)(se,_e))}},1086:(Xt,lt,L)=>{"use strict";L.d(lt,{of:()=>Ve});var c=L(2866),X=L(3009),K=L(6454);function Ve(...Oe){let se=Oe[Oe.length-1];return(0,c.K)(se)?(Oe.pop(),(0,K.r)(Oe,se)):(0,X.n)(Oe)}},1737:(Xt,lt,L)=>{"use strict";L.d(lt,{_:()=>X});var c=L(2916);function X(Ve,Oe){return new c.y(Oe?se=>Oe.schedule(K,0,{error:Ve,subscriber:se}):se=>se.error(Ve))}function K({error:Ve,subscriber:Oe}){Oe.error(Ve)}},7221:(Xt,lt,L)=>{"use strict";L.d(lt,{K:()=>X});var c=L(1177);function X(Oe){return function(Ce){const _e=new K(Oe),be=Ce.lift(_e);return _e.caught=be}}class K{constructor(se){this.selector=se}call(se,Ce){return Ce.subscribe(new Ve(se,this.selector,this.caught))}}class Ve extends c.Ds{constructor(se,Ce,_e){super(se),this.selector=Ce,this.caught=_e}error(se){if(!this.isStopped){let Ce;try{Ce=this.selector(se,this.caught)}catch(ee){return void super.error(ee)}this._unsubscribeAndRecycle();const _e=new c.IY(this);this.add(_e);const be=(0,c.ft)(Ce,_e);be!==_e&&this.add(be)}}}},1406:(Xt,lt,L)=>{"use strict";L.d(lt,{b:()=>X});var c=L(1709);function X(K,Ve){return(0,c.zg)(K,Ve,1)}},7314:(Xt,lt,L)=>{"use strict";L.d(lt,{d:()=>X});var c=L(3489);function X(Oe=null){return se=>se.lift(new K(Oe))}class K{constructor(se){this.defaultValue=se}call(se,Ce){return Ce.subscribe(new Ve(se,this.defaultValue))}}class Ve extends c.L{constructor(se,Ce){super(se),this.defaultValue=Ce,this.isEmpty=!0}_next(se){this.isEmpty=!1,this.destination.next(se)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Xt,lt,L)=>{"use strict";L.d(lt,{x:()=>X});var c=L(3489);function X(Oe,se){return Ce=>Ce.lift(new K(Oe,se))}class K{constructor(se,Ce){this.compare=se,this.keySelector=Ce}call(se,Ce){return Ce.subscribe(new Ve(se,this.compare,this.keySelector))}}class Ve extends c.L{constructor(se,Ce,_e){super(se),this.keySelector=_e,this.hasKey=!1,"function"==typeof Ce&&(this.compare=Ce)}compare(se,Ce){return se===Ce}_next(se){let Ce;try{const{keySelector:be}=this;Ce=be?be(se):se}catch(be){return this.destination.error(be)}let _e=!1;if(this.hasKey)try{const{compare:be}=this;_e=be(this.key,Ce)}catch(be){return this.destination.error(be)}else this.hasKey=!0;_e||(this.key=Ce,this.destination.next(se))}}},2198:(Xt,lt,L)=>{"use strict";L.d(lt,{h:()=>X});var c=L(3489);function X(Oe,se){return function(_e){return _e.lift(new K(Oe,se))}}class K{constructor(se,Ce){this.predicate=se,this.thisArg=Ce}call(se,Ce){return Ce.subscribe(new Ve(se,this.predicate,this.thisArg))}}class Ve extends c.L{constructor(se,Ce,_e){super(se),this.predicate=Ce,this.thisArg=_e,this.count=0}_next(se){let Ce;try{Ce=this.predicate.call(this.thisArg,se,this.count++)}catch(_e){return void this.destination.error(_e)}Ce&&this.destination.next(se)}}},7224:(Xt,lt,L)=>{"use strict";L.d(lt,{P:()=>Ce});var c=L(4450),X=L(2198),K=L(2986),Ve=L(7314),Oe=L(4907),se=L(5379);function Ce(_e,be){const ee=arguments.length>=2;return me=>me.pipe(_e?(0,X.h)((ne,fe)=>_e(ne,fe,me)):se.y,(0,K.q)(1),ee?(0,Ve.d)(be):(0,Oe.T)(()=>new c.K))}},4850:(Xt,lt,L)=>{"use strict";L.d(lt,{U:()=>X});var c=L(3489);function X(Oe,se){return function(_e){if("function"!=typeof Oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _e.lift(new K(Oe,se))}}class K{constructor(se,Ce){this.project=se,this.thisArg=Ce}call(se,Ce){return Ce.subscribe(new Ve(se,this.project,this.thisArg))}}class Ve extends c.L{constructor(se,Ce,_e){super(se),this.project=Ce,this.count=0,this.thisArg=_e||this}_next(se){let Ce;try{Ce=this.project.call(this.thisArg,se,this.count++)}catch(_e){return void this.destination.error(_e)}this.destination.next(Ce)}}},9146:(Xt,lt,L)=>{"use strict";L.d(lt,{J:()=>K});var c=L(1709),X=L(5379);function K(Ve=Number.POSITIVE_INFINITY){return(0,c.zg)(X.y,Ve)}},1709:(Xt,lt,L)=>{"use strict";L.d(lt,{zg:()=>Ve});var c=L(4850),X=L(5254),K=L(1177);function Ve(_e,be,ee=Number.POSITIVE_INFINITY){return"function"==typeof be?me=>me.pipe(Ve((ne,fe)=>(0,X.D)(_e(ne,fe)).pipe((0,c.U)((ze,ke)=>be(ne,ze,fe,ke))),ee)):("number"==typeof be&&(ee=be),me=>me.lift(new Oe(_e,ee)))}class Oe{constructor(be,ee=Number.POSITIVE_INFINITY){this.project=be,this.concurrent=ee}call(be,ee){return ee.subscribe(new se(be,this.project,this.concurrent))}}class se extends K.Ds{constructor(be,ee,me=Number.POSITIVE_INFINITY){super(be),this.project=ee,this.concurrent=me,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(be){this.active<this.concurrent?this._tryNext(be):this.buffer.push(be)}_tryNext(be){let ee;const me=this.index++;try{ee=this.project(be,me)}catch(ne){return void this.destination.error(ne)}this.active++,this._innerSub(ee)}_innerSub(be){const ee=new K.IY(this),me=this.destination;me.add(ee);const ne=(0,K.ft)(be,ee);ne!==ee&&me.add(ne)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(be){this.destination.next(be)}notifyComplete(){const be=this.buffer;this.active--,be.length>0?this._next(be.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Xt,lt,L)=>{"use strict";L.d(lt,{ht:()=>be,QV:()=>Ce});var c=L(3489),X=L(8896),K=L(1086),Ve=L(1737);class se{constructor(ne,fe,ze){this.kind=ne,this.value=fe,this.error=ze,this.hasValue="N"===ne}observe(ne){switch(this.kind){case"N":return ne.next&&ne.next(this.value);case"E":return ne.error&&ne.error(this.error);case"C":return ne.complete&&ne.complete()}}do(ne,fe,ze){switch(this.kind){case"N":return ne&&ne(this.value);case"E":return fe&&fe(this.error);case"C":return ze&&ze()}}accept(ne,fe,ze){return ne&&"function"==typeof ne.next?this.observe(ne):this.do(ne,fe,ze)}toObservable(){switch(this.kind){case"N":return(0,K.of)(this.value);case"E":return(0,Ve._)(this.error);case"C":return(0,X.c)()}throw new Error("unexpected notification kind value")}static createNext(ne){return void 0!==ne?new se("N",ne):se.undefinedValueNotification}static createError(ne){return new se("E",void 0,ne)}static createComplete(){return se.completeNotification}}function Ce(me,ne=0){return function(ze){return ze.lift(new _e(me,ne))}}se.completeNotification=new se("C"),se.undefinedValueNotification=new se("N",void 0);class _e{constructor(ne,fe=0){this.scheduler=ne,this.delay=fe}call(ne,fe){return fe.subscribe(new be(ne,this.scheduler,this.delay))}}class be extends c.L{constructor(ne,fe,ze=0){super(ne),this.scheduler=fe,this.delay=ze}static dispatch(ne){const{notification:fe,destination:ze}=ne;fe.observe(ze),this.unsubscribe()}scheduleMessage(ne){this.destination.add(this.scheduler.schedule(be.dispatch,this.delay,new ee(ne,this.destination)))}_next(ne){this.scheduleMessage(se.createNext(ne))}_error(ne){this.scheduleMessage(se.createError(ne)),this.unsubscribe()}_complete(){this.scheduleMessage(se.createComplete()),this.unsubscribe()}}class ee{constructor(ne,fe){this.notification=ne,this.destination=fe}}},4327:(Xt,lt,L)=>{"use strict";L.d(lt,{x:()=>X});var c=L(3489);function X(){return function(se){return se.lift(new K(se))}}class K{constructor(se){this.connectable=se}call(se,Ce){const{connectable:_e}=this;_e._refCount++;const be=new Ve(se,_e),ee=Ce.subscribe(be);return be.closed||(be.connection=_e.connect()),ee}}class Ve extends c.L{constructor(se,Ce){super(se),this.connectable=Ce}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const Ce=se._refCount;if(Ce<=0)return void(this.connection=null);if(se._refCount=Ce-1,Ce>1)return void(this.connection=null);const{connection:_e}=this,be=se._connection;this.connection=null,be&&(!_e||be===_e)&&be.unsubscribe()}}},2014:(Xt,lt,L)=>{"use strict";L.d(lt,{R:()=>X});var c=L(3489);function X(Oe,se){let Ce=!1;return arguments.length>=2&&(Ce=!0),function(be){return be.lift(new K(Oe,se,Ce))}}class K{constructor(se,Ce,_e=!1){this.accumulator=se,this.seed=Ce,this.hasSeed=_e}call(se,Ce){return Ce.subscribe(new Ve(se,this.accumulator,this.seed,this.hasSeed))}}class Ve extends c.L{constructor(se,Ce,_e,be){super(se),this.accumulator=Ce,this._seed=_e,this.hasSeed=be,this.index=0}get seed(){return this._seed}set seed(se){this.hasSeed=!0,this._seed=se}_next(se){if(this.hasSeed)return this._tryNext(se);this.seed=se,this.destination.next(se)}_tryNext(se){const Ce=this.index++;let _e;try{_e=this.accumulator(this.seed,se,Ce)}catch(be){this.destination.error(be)}this.seed=_e,this.destination.next(_e)}}},2474:(Xt,lt,L)=>{"use strict";L.d(lt,{B:()=>Ce});var c=L(1762);class K{constructor(be,ee){this.subjectFactory=be,this.selector=ee}call(be,ee){const{selector:me}=this,ne=this.subjectFactory(),fe=me(ne).subscribe(be);return fe.add(ee.subscribe(ne)),fe}}var Ve=L(4327),Oe=L(8929);function se(){return new Oe.xQ}function Ce(){return _e=>(0,Ve.x)()(function X(_e,be){return function(me){let ne;if(ne="function"==typeof _e?_e:function(){return _e},"function"==typeof be)return me.lift(new K(ne,be));const fe=Object.create(me,c.N);return fe.source=me,fe.subjectFactory=ne,fe}}(se)(_e))}},1059:(Xt,lt,L)=>{"use strict";L.d(lt,{O:()=>K});var c=L(1221),X=L(2866);function K(...Ve){const Oe=Ve[Ve.length-1];return(0,X.K)(Oe)?(Ve.pop(),se=>(0,c.z)(Ve,se,Oe)):se=>(0,c.z)(Ve,se)}},8915:(Xt,lt,L)=>{"use strict";L.d(lt,{R:()=>Fe});var c=L(2916);let X=1;const K=Promise.resolve(),Ve={};function Oe(ft){return ft in Ve&&(delete Ve[ft],!0)}const se={setImmediate(ft){const we=X++;return Ve[we]=!0,K.then(()=>Oe(we)&&ft()),we},clearImmediate(ft){Oe(ft)}};var _e=L(6686),ee=L(2268);const fe=new class me extends ee.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:ut}=this;let wt,xt=-1,nt=ut.length;we=we||ut.shift();do{if(wt=we.execute(we.state,we.delay))break}while(++xt<nt&&(we=ut.shift()));if(this.active=!1,wt){for(;++xt<nt&&(we=ut.shift());)we.unsubscribe();throw wt}}}(class be extends _e.o{constructor(we,ut){super(we,ut),this.scheduler=we,this.work=ut}requestAsyncId(we,ut,wt=0){return null!==wt&&wt>0?super.requestAsyncId(we,ut,wt):(we.actions.push(this),we.scheduled||(we.scheduled=se.setImmediate(we.flush.bind(we,null))))}recycleAsyncId(we,ut,wt=0){if(null!==wt&&wt>0||null===wt&&this.delay>0)return super.recycleAsyncId(we,ut,wt);0===we.actions.length&&(se.clearImmediate(ut),we.scheduled=void 0)}});var ze=L(6688);class Ee extends c.y{constructor(we,ut=0,wt=fe){super(),this.source=we,this.delayTime=ut,this.scheduler=wt,(!function ke(ft){return!(0,ze.k)(ft)&&ft-parseFloat(ft)+1>=0}(ut)||ut<0)&&(this.delayTime=0),(!wt||"function"!=typeof wt.schedule)&&(this.scheduler=fe)}static create(we,ut=0,wt=fe){return new Ee(we,ut,wt)}static dispatch(we){const{source:ut,subscriber:wt}=we;return this.add(ut.subscribe(wt))}_subscribe(we){return this.scheduler.schedule(Ee.dispatch,this.delayTime,{source:this.source,subscriber:we})}}function Fe(ft,we=0){return function(wt){return wt.lift(new je(ft,we))}}class je{constructor(we,ut){this.scheduler=we,this.delay=ut}call(we,ut){return new Ee(ut,this.delay,this.scheduler).subscribe(we)}}},7545:(Xt,lt,L)=>{"use strict";L.d(lt,{w:()=>Ve});var c=L(4850),X=L(5254),K=L(1177);function Ve(Ce,_e){return"function"==typeof _e?be=>be.pipe(Ve((ee,me)=>(0,X.D)(Ce(ee,me)).pipe((0,c.U)((ne,fe)=>_e(ee,ne,me,fe))))):be=>be.lift(new Oe(Ce))}class Oe{constructor(_e){this.project=_e}call(_e,be){return be.subscribe(new se(_e,this.project))}}class se extends K.Ds{constructor(_e,be){super(_e),this.project=be,this.index=0}_next(_e){let be;const ee=this.index++;try{be=this.project(_e,ee)}catch(me){return void this.destination.error(me)}this._innerSub(be)}_innerSub(_e){const be=this.innerSubscription;be&&be.unsubscribe();const ee=new K.IY(this),me=this.destination;me.add(ee),this.innerSubscription=(0,K.ft)(_e,ee),this.innerSubscription!==ee&&me.add(this.innerSubscription)}_complete(){const{innerSubscription:_e}=this;(!_e||_e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(_e){this.destination.next(_e)}}},2986:(Xt,lt,L)=>{"use strict";L.d(lt,{q:()=>Ve});var c=L(3489),X=L(4231),K=L(8896);function Ve(Ce){return _e=>0===Ce?(0,K.c)():_e.lift(new Oe(Ce))}class Oe{constructor(_e){if(this.total=_e,this.total<0)throw new X.W}call(_e,be){return be.subscribe(new se(_e,this.total))}}class se extends c.L{constructor(_e,be){super(_e),this.total=be,this.count=0}_next(_e){const be=this.total,ee=++this.count;ee<=be&&(this.destination.next(_e),ee===be&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Xt,lt,L)=>{"use strict";L.d(lt,{b:()=>Ve});var c=L(3489);function X(){}var K=L(7043);function Ve(Ce,_e,be){return function(me){return me.lift(new Oe(Ce,_e,be))}}class Oe{constructor(_e,be,ee){this.nextOrObserver=_e,this.error=be,this.complete=ee}call(_e,be){return be.subscribe(new se(_e,this.nextOrObserver,this.error,this.complete))}}class se extends c.L{constructor(_e,be,ee,me){super(_e),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=ee||X,this._tapComplete=me||X,(0,K.m)(be)?(this._context=this,this._tapNext=be):be&&(this._context=be,this._tapNext=be.next||X,this._tapError=be.error||X,this._tapComplete=be.complete||X)}_next(_e){try{this._tapNext.call(this._context,_e)}catch(be){return void this.destination.error(be)}this.destination.next(_e)}_error(_e){try{this._tapError.call(this._context,_e)}catch(be){return void this.destination.error(be)}this.destination.error(_e)}_complete(){try{this._tapComplete.call(this._context)}catch(_e){return void this.destination.error(_e)}return this.destination.complete()}}},4907:(Xt,lt,L)=>{"use strict";L.d(lt,{T:()=>K});var c=L(4450),X=L(3489);function K(Ce=se){return _e=>_e.lift(new Ve(Ce))}class Ve{constructor(_e){this.errorFactory=_e}call(_e,be){return be.subscribe(new Oe(_e,this.errorFactory))}}class Oe extends X.L{constructor(_e,be){super(_e),this.errorFactory=be,this.hasValue=!1}_next(_e){this.hasValue=!0,this.destination.next(_e)}_complete(){if(this.hasValue)return this.destination.complete();{let _e;try{_e=this.errorFactory()}catch(be){_e=be}this.destination.error(_e)}}}function se(){return new c.K}},6454:(Xt,lt,L)=>{"use strict";L.d(lt,{r:()=>K});var c=L(2916),X=L(2654);function K(Ve,Oe){return new c.y(se=>{const Ce=new X.w;let _e=0;return Ce.add(Oe.schedule(function(){_e!==Ve.length?(se.next(Ve[_e++]),se.closed||Ce.add(this.schedule())):se.complete()})),Ce})}},6686:(Xt,lt,L)=>{"use strict";L.d(lt,{o:()=>K});var c=L(2654);class X extends c.w{constructor(Oe,se){super()}schedule(Oe,se=0){return this}}class K extends X{constructor(Oe,se){super(Oe,se),this.scheduler=Oe,this.work=se,this.pending=!1}schedule(Oe,se=0){if(this.closed)return this;this.state=Oe;const Ce=this.id,_e=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(_e,Ce,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(_e,this.id,se),this}requestAsyncId(Oe,se,Ce=0){return setInterval(Oe.flush.bind(Oe,this),Ce)}recycleAsyncId(Oe,se,Ce=0){if(null!==Ce&&this.delay===Ce&&!1===this.pending)return se;clearInterval(se)}execute(Oe,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(Oe,se);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,se){let _e,Ce=!1;try{this.work(Oe)}catch(be){Ce=!0,_e=!!be&&be||new Error(be)}if(Ce)return this.unsubscribe(),_e}_unsubscribe(){const Oe=this.id,se=this.scheduler,Ce=se.actions,_e=Ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_e&&Ce.splice(_e,1),null!=Oe&&(this.id=this.recycleAsyncId(se,Oe,null)),this.delay=null}}},2268:(Xt,lt,L)=>{"use strict";L.d(lt,{v:()=>X});let c=(()=>{class K{constructor(Oe,se=K.now){this.SchedulerAction=Oe,this.now=se}schedule(Oe,se=0,Ce){return new this.SchedulerAction(this,Oe).schedule(Ce,se)}}return K.now=()=>Date.now(),K})();class X extends c{constructor(Ve,Oe=c.now){super(Ve,()=>X.delegate&&X.delegate!==this?X.delegate.now():Oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ve,Oe=0,se){return X.delegate&&X.delegate!==this?X.delegate.schedule(Ve,Oe,se):super.schedule(Ve,Oe,se)}flush(Ve){const{actions:Oe}=this;if(this.active)return void Oe.push(Ve);let se;this.active=!0;do{if(se=Ve.execute(Ve.state,Ve.delay))break}while(Ve=Oe.shift());if(this.active=!1,se){for(;Ve=Oe.shift();)Ve.unsubscribe();throw se}}}},353:(Xt,lt,L)=>{"use strict";L.d(lt,{z:()=>K,P:()=>Ve});var c=L(6686);const K=new(L(2268).v)(c.o),Ve=K},341:(Xt,lt,L)=>{"use strict";L.d(lt,{c:()=>se,N:()=>Oe});var c=L(6686),K=L(2268);const Oe=new class Ve extends K.v{}(class X extends c.o{constructor(_e,be){super(_e,be),this.scheduler=_e,this.work=be}schedule(_e,be=0){return be>0?super.schedule(_e,be):(this.delay=be,this.state=_e,this.scheduler.flush(this),this)}execute(_e,be){return be>0||this.closed?super.execute(_e,be):this._execute(_e,be)}requestAsyncId(_e,be,ee=0){return null!==ee&&ee>0||null===ee&&this.delay>0?super.requestAsyncId(_e,be,ee):_e.flush(this)}}),se=Oe},5430:(Xt,lt,L)=>{"use strict";L.d(lt,{hZ:()=>X});const X=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Xt,lt,L)=>{"use strict";L.d(lt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Xt,lt,L)=>{"use strict";L.d(lt,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Xt,lt,L)=>{"use strict";L.d(lt,{W:()=>X});const X=(()=>{function K(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return K.prototype=Object.create(Error.prototype),K})()},4450:(Xt,lt,L)=>{"use strict";L.d(lt,{K:()=>X});const X=(()=>{function K(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return K.prototype=Object.create(Error.prototype),K})()},5279:(Xt,lt,L)=>{"use strict";L.d(lt,{N:()=>X});const X=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},2782:(Xt,lt,L)=>{"use strict";function c(X){setTimeout(()=>{throw X},0)}L.d(lt,{z:()=>c})},5379:(Xt,lt,L)=>{"use strict";function c(X){return X}L.d(lt,{y:()=>c})},6688:(Xt,lt,L)=>{"use strict";L.d(lt,{k:()=>c});const c=Array.isArray||(X=>X&&"number"==typeof X.length)},8515:(Xt,lt,L)=>{"use strict";L.d(lt,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},7043:(Xt,lt,L)=>{"use strict";function c(X){return"function"==typeof X}L.d(lt,{m:()=>c})},7830:(Xt,lt,L)=>{"use strict";function c(X){return null!==X&&"object"==typeof X}L.d(lt,{K:()=>c})},8955:(Xt,lt,L)=>{"use strict";function c(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}L.d(lt,{t:()=>c})},2866:(Xt,lt,L)=>{"use strict";function c(X){return X&&"function"==typeof X.schedule}L.d(lt,{K:()=>c})},9249:(Xt,lt,L)=>{"use strict";L.d(lt,{s:()=>me});var c=L(3650),X=L(2782),Ve=L(5430),se=L(3821),_e=L(8515),be=L(8955),ee=L(7830);const me=ne=>{if(ne&&"function"==typeof ne[se.L])return(ne=>fe=>{const ze=ne[se.L]();if("function"!=typeof ze.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ze.subscribe(fe)})(ne);if((0,_e.z)(ne))return(0,c.V)(ne);if((0,be.t)(ne))return(ne=>fe=>(ne.then(ze=>{fe.closed||(fe.next(ze),fe.complete())},ze=>fe.error(ze)).then(null,X.z),fe))(ne);if(ne&&"function"==typeof ne[Ve.hZ])return(ne=>fe=>{const ze=ne[Ve.hZ]();for(;;){let ke;try{ke=ze.next()}catch(Ee){return fe.error(Ee),fe}if(ke.done){fe.complete();break}if(fe.next(ke.value),fe.closed)break}return"function"==typeof ze.return&&fe.add(()=>{ze.return&&ze.return()}),fe})(ne);{const ze=`You provided ${(0,ee.K)(ne)?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ze)}}},3650:(Xt,lt,L)=>{"use strict";L.d(lt,{V:()=>c});const c=X=>K=>{for(let Ve=0,Oe=X.length;Ve<Oe&&!K.closed;Ve++)K.next(X[Ve]);K.complete()}},448:(Xt,lt,L)=>{"use strict";L.d(lt,{D:()=>Oe});var c=L(3489);class X extends c.L{constructor(Ce,_e,be){super(),this.parent=Ce,this.outerValue=_e,this.outerIndex=be,this.index=0}_next(Ce){this.parent.notifyNext(this.outerValue,Ce,this.outerIndex,this.index++,this)}_error(Ce){this.parent.notifyError(Ce,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var K=L(9249),Ve=L(2916);function Oe(se,Ce,_e,be,ee=new X(se,_e,be)){if(!ee.closed)return Ce instanceof Ve.y?Ce.subscribe(ee):(0,K.s)(Ce)(ee)}},863:(Xt,lt,L)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function X(K){if(!L.o(c,K))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+K+"'");throw se.code="MODULE_NOT_FOUND",se});var Ve=c[K],Oe=Ve[0];return Promise.all(Ve.slice(1).map(L.e)).then(()=>L(Oe))}X.keys=()=>Object.keys(c),X.id=863,Xt.exports=X},655:(Xt,lt,L)=>{"use strict";function Ve(Te,de){var ye={};for(var Ue in Te)Object.prototype.hasOwnProperty.call(Te,Ue)&&de.indexOf(Ue)<0&&(ye[Ue]=Te[Ue]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Ue=Object.getOwnPropertySymbols(Te);Ye<Ue.length;Ye++)de.indexOf(Ue[Ye])<0&&Object.prototype.propertyIsEnumerable.call(Te,Ue[Ye])&&(ye[Ue[Ye]]=Te[Ue[Ye]])}return ye}function Oe(Te,de,ye,Ue){var jt,Ye=arguments.length,St=Ye<3?de:null===Ue?Ue=Object.getOwnPropertyDescriptor(de,ye):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(Te,de,ye,Ue);else for(var dt=Te.length-1;dt>=0;dt--)(jt=Te[dt])&&(St=(Ye<3?jt(St):Ye>3?jt(de,ye,St):jt(de,ye))||St);return Ye>3&&St&&Object.defineProperty(de,ye,St),St}function _e(Te,de,ye,Ue){return new(ye||(ye=Promise))(function(St,jt){function dt(st){try{Ge(Ue.next(st))}catch(gt){jt(gt)}}function at(st){try{Ge(Ue.throw(st))}catch(gt){jt(gt)}}function Ge(st){st.done?St(st.value):function Ye(St){return St instanceof ye?St:new ye(function(jt){jt(St)})}(st.value).then(dt,at)}Ge((Ue=Ue.apply(Te,de||[])).next())})}L.d(lt,{_T:()=>Ve,gn:()=>Oe,mG:()=>_e})},9808:(Xt,lt,L)=>{"use strict";L.d(lt,{mr:()=>ft,ez:()=>Ro,H9:()=>Bs,K0:()=>Ce,JJ:()=>$o,Do:()=>ut,V_:()=>ee,Ye:()=>wt,S$:()=>Fe,mk:()=>Di,sg:()=>zr,O5:()=>Q,PC:()=>dn,tP:()=>En,b0:()=>we,lw:()=>_e,EM:()=>xs,JF:()=>Rr,PM:()=>As,w_:()=>se,bD:()=>Ss,q:()=>K,Mx:()=>os,HT:()=>Oe});var c=L(5e3);let X=null;function K(){return X}function Oe(U){X||(X=U)}class se{}const Ce=new c.OlP("DocumentToken");let _e=(()=>{class U{historyGo($){throw new Error("Not implemented")}}return U.\u0275fac=function($){return new($||U)},U.\u0275prov=c.Yz7({token:U,factory:function(){return function be(){return(0,c.LFG)(me)}()},providedIn:"platform"}),U})();const ee=new c.OlP("Location Initialized");let me=(()=>{class U extends _e{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState($){const ce=K().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",$,!1),()=>ce.removeEventListener("popstate",$)}onHashChange($){const ce=K().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",$,!1),()=>ce.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,ce,Ke){ne()?this._history.pushState($,ce,Ke):this.location.hash=Ke}replaceState($,ce,Ke){ne()?this._history.replaceState($,ce,Ke):this.location.hash=Ke}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return U.\u0275fac=function($){return new($||U)(c.LFG(Ce))},U.\u0275prov=c.Yz7({token:U,factory:function(){return function fe(){return new me((0,c.LFG)(Ce))}()},providedIn:"platform"}),U})();function ne(){return!!window.history.pushState}function ze(U,re){if(0==U.length)return re;if(0==re.length)return U;let $=0;return U.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?U+re.substring(1):1==$?U+re:U+"/"+re}function ke(U){const re=U.match(/#|\?|$/),$=re&&re.index||U.length;return U.slice(0,$-("/"===U[$-1]?1:0))+U.slice($)}function Ee(U){return U&&"?"!==U[0]?"?"+U:U}let Fe=(()=>{class U{historyGo($){throw new Error("Not implemented")}}return U.\u0275fac=function($){return new($||U)},U.\u0275prov=c.Yz7({token:U,factory:function(){return function je(U){const re=(0,c.LFG)(Ce).location;return new we((0,c.LFG)(_e),re&&re.origin||"")}()},providedIn:"root"}),U})();const ft=new c.OlP("appBaseHref");let we=(()=>{class U extends Fe{constructor($,ce){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ze(this._baseHref,$)}path($=!1){const ce=this._platformLocation.pathname+Ee(this._platformLocation.search),Ke=this._platformLocation.hash;return Ke&&$?`${ce}${Ke}`:ce}pushState($,ce,Ke,It){const Gt=this.prepareExternalUrl(Ke+Ee(It));this._platformLocation.pushState($,ce,Gt)}replaceState($,ce,Ke,It){const Gt=this.prepareExternalUrl(Ke+Ee(It));this._platformLocation.replaceState($,ce,Gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ce,Ke;null===(Ke=(ce=this._platformLocation).historyGo)||void 0===Ke||Ke.call(ce,$)}}return U.\u0275fac=function($){return new($||U)(c.LFG(_e),c.LFG(ft,8))},U.\u0275prov=c.Yz7({token:U,factory:U.\u0275fac}),U})(),ut=(()=>{class U extends Fe{constructor($,ce){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl($){const ce=ze(this._baseHref,$);return ce.length>0?"#"+ce:ce}pushState($,ce,Ke,It){let Gt=this.prepareExternalUrl(Ke+Ee(It));0==Gt.length&&(Gt=this._platformLocation.pathname),this._platformLocation.pushState($,ce,Gt)}replaceState($,ce,Ke,It){let Gt=this.prepareExternalUrl(Ke+Ee(It));0==Gt.length&&(Gt=this._platformLocation.pathname),this._platformLocation.replaceState($,ce,Gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ce,Ke;null===(Ke=(ce=this._platformLocation).historyGo)||void 0===Ke||Ke.call(ce,$)}}return U.\u0275fac=function($){return new($||U)(c.LFG(_e),c.LFG(ft,8))},U.\u0275prov=c.Yz7({token:U,factory:U.\u0275fac}),U})(),wt=(()=>{class U{constructor($,ce){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const Ke=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=ke(Et(Ke)),this._platformStrategy.onPopState(It=>{this._subject.emit({url:this.path(!0),pop:!0,state:It.state,type:It.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,ce=""){return this.path()==this.normalize($+Ee(ce))}normalize($){return U.stripTrailingSlash(function nt(U,re){return U&&re.startsWith(U)?re.substring(U.length):re}(this._baseHref,Et($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,ce="",Ke=null){this._platformStrategy.pushState(Ke,"",$,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ee(ce)),Ke)}replaceState($,ce="",Ke=null){this._platformStrategy.replaceState(Ke,"",$,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ee(ce)),Ke)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var ce,Ke;null===(Ke=(ce=this._platformStrategy).historyGo)||void 0===Ke||Ke.call(ce,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners($="",ce){this._urlChangeListeners.forEach(Ke=>Ke($,ce))}subscribe($,ce,Ke){return this._subject.subscribe({next:$,error:ce,complete:Ke})}}return U.normalizeQueryParams=Ee,U.joinWithSlash=ze,U.stripTrailingSlash=ke,U.\u0275fac=function($){return new($||U)(c.LFG(Fe),c.LFG(_e))},U.\u0275prov=c.Yz7({token:U,factory:function(){return function xt(){return new wt((0,c.LFG)(Fe),(0,c.LFG)(_e))}()},providedIn:"root"}),U})();function Et(U){return U.replace(/\/index.html$/,"")}const ve={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Percent=1]="Percent",Me[Me.Currency=2]="Currency",Me[Me.Scientific=3]="Scientific",Me))(),Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Group=1]="Group",Ye[Ye.List=2]="List",Ye[Ye.PercentSign=3]="PercentSign",Ye[Ye.PlusSign=4]="PlusSign",Ye[Ye.MinusSign=5]="MinusSign",Ye[Ye.Exponential=6]="Exponential",Ye[Ye.SuperscriptingExponent=7]="SuperscriptingExponent",Ye[Ye.PerMille=8]="PerMille",Ye[Ye.Infinity=9]="Infinity",Ye[Ye.NaN=10]="NaN",Ye[Ye.TimeSeparator=11]="TimeSeparator",Ye[Ye.CurrencyDecimal=12]="CurrencyDecimal",Ye[Ye.CurrencyGroup=13]="CurrencyGroup",Ye))();function Wt(U,re){const $=(0,c.cg1)(U),ce=$[c.wAp.NumberSymbols][re];if(void 0===ce){if(re===Ye.CurrencyDecimal)return $[c.wAp.NumberSymbols][Ye.Decimal];if(re===Ye.CurrencyGroup)return $[c.wAp.NumberSymbols][Ye.Group]}return ce}function vn(U,re){return(0,c.cg1)(U)[c.wAp.NumberFormats][re]}const Gr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ar(U,re,$,ce,Ke,It,Gt=!1){let Cn="",Kn=!1;if(isFinite(U)){let Er=function jr(U){let ce,Ke,It,Gt,Cn,re=Math.abs(U)+"",$=0;for((Ke=re.indexOf("."))>-1&&(re=re.replace(".","")),(It=re.search(/e/i))>0?(Ke<0&&(Ke=It),Ke+=+re.slice(It+1),re=re.substring(0,It)):Ke<0&&(Ke=re.length),It=0;"0"===re.charAt(It);It++);if(It===(Cn=re.length))ce=[0],Ke=1;else{for(Cn--;"0"===re.charAt(Cn);)Cn--;for(Ke-=It,ce=[],Gt=0;It<=Cn;It++,Gt++)ce[Gt]=Number(re.charAt(It))}return Ke>22&&(ce=ce.splice(0,21),$=Ke-1,Ke=1),{digits:ce,exponent:$,integerLen:Ke}}(U);Gt&&(Er=function xr(U){if(0===U.digits[0])return U;const re=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===re?U.digits.push(0,0):1===re&&U.digits.push(0),U.integerLen+=2),U}(Er));let Hn=re.minInt,ir=re.minFrac,ci=re.maxFrac;if(It){const ji=It.match(Gr);if(null===ji)throw new Error(`${It} is not a valid digit info`);const H=ji[1],V=ji[3],F=ji[5];null!=H&&(Hn=li(H)),null!=V&&(ir=li(V)),null!=F?ci=li(F):null!=V&&ir>ci&&(ci=ir)}!function lr(U,re,$){if(re>$)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${$}).`);let ce=U.digits,Ke=ce.length-U.integerLen;const It=Math.min(Math.max(re,Ke),$);let Gt=It+U.integerLen,Cn=ce[Gt];if(Gt>0){ce.splice(Math.max(U.integerLen,Gt));for(let ir=Gt;ir<ce.length;ir++)ce[ir]=0}else{Ke=Math.max(0,Ke),U.integerLen=1,ce.length=Math.max(1,Gt=It+1),ce[0]=0;for(let ir=1;ir<Gt;ir++)ce[ir]=0}if(Cn>=5)if(Gt-1<0){for(let ir=0;ir>Gt;ir--)ce.unshift(0),U.integerLen++;ce.unshift(1),U.integerLen++}else ce[Gt-1]++;for(;Ke<Math.max(0,It);Ke++)ce.push(0);let Kn=0!==It;const Er=re+U.integerLen,Hn=ce.reduceRight(function(ir,ci,Vr,Jr){return Jr[Vr]=(ci+=ir)<10?ci:ci-10,Kn&&(0===Jr[Vr]&&Vr>=Er?Jr.pop():Kn=!1),ci>=10?1:0},0);Hn&&(ce.unshift(Hn),U.integerLen++)}(Er,ir,ci);let Vr=Er.digits,Jr=Er.integerLen;const ts=Er.exponent;let ns=[];for(Kn=Vr.every(ji=>!ji);Jr<Hn;Jr++)Vr.unshift(0);for(;Jr<0;Jr++)Vr.unshift(0);Jr>0?ns=Vr.splice(Jr,Vr.length):(ns=Vr,Vr=[0]);const kn=[];for(Vr.length>=re.lgSize&&kn.unshift(Vr.splice(-re.lgSize,Vr.length).join(""));Vr.length>re.gSize;)kn.unshift(Vr.splice(-re.gSize,Vr.length).join(""));Vr.length&&kn.unshift(Vr.join("")),Cn=kn.join(Wt($,ce)),ns.length&&(Cn+=Wt($,Ke)+ns.join("")),ts&&(Cn+=Wt($,Ye.Exponential)+"+"+ts)}else Cn=Wt($,Ye.Infinity);return Cn=U<0&&!Kn?re.negPre+Cn+re.negSuf:re.posPre+Cn+re.posSuf,Cn}function pe(U,re="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=U.split(";"),Ke=ce[0],It=ce[1],Gt=-1!==Ke.indexOf(".")?Ke.split("."):[Ke.substring(0,Ke.lastIndexOf("0")+1),Ke.substring(Ke.lastIndexOf("0")+1)],Cn=Gt[0],Kn=Gt[1]||"";$.posPre=Cn.substr(0,Cn.indexOf("#"));for(let Hn=0;Hn<Kn.length;Hn++){const ir=Kn.charAt(Hn);"0"===ir?$.minFrac=$.maxFrac=Hn+1:"#"===ir?$.maxFrac=Hn+1:$.posSuf+=ir}const Er=Cn.split(",");if($.gSize=Er[1]?Er[1].length:0,$.lgSize=Er[2]||Er[1]?(Er[2]||Er[1]).length:0,It){const Hn=Ke.length-$.posPre.length-$.posSuf.length,ir=It.indexOf("#");$.negPre=It.substr(0,ir).replace(/'/g,""),$.negSuf=It.substr(ir+Hn).replace(/'/g,"")}else $.negPre=re+$.posPre,$.negSuf=$.posSuf;return $}function li(U){const re=parseInt(U);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+U);return re}function os(U,re){re=encodeURIComponent(re);for(const $ of U.split(";")){const ce=$.indexOf("="),[Ke,It]=-1==ce?[$,""]:[$.slice(0,ce),$.slice(ce+1)];if(Ke.trim()===re)return decodeURIComponent(It)}return null}let Di=(()=>{class U{constructor($,ce,Ke,It){this._iterableDiffers=$,this._keyValueDiffers=ce,this._ngEl=Ke,this._renderer=It,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),$.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),$.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),$.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(ce=>this._toggleClass(ce,!0)):Object.keys($).forEach(ce=>this._toggleClass(ce,!!$[ce])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(ce=>this._toggleClass(ce,!1)):Object.keys($).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass($,ce){($=$.trim())&&$.split(/\s+/g).forEach(Ke=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Ke):this._renderer.removeClass(this._ngEl.nativeElement,Ke)})}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class Ri{constructor(re,$,ce,Ke){this.$implicit=re,this.ngForOf=$,this.index=ce,this.count=Ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class U{constructor($,ce,Ke){this._viewContainer=$,this._template=ce,this._differs=Ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ce=this._viewContainer;$.forEachOperation((Ke,It,Gt)=>{if(null==Ke.previousIndex)ce.createEmbeddedView(this._template,new Ri(Ke.item,this._ngForOf,-1,-1),null===Gt?void 0:Gt);else if(null==Gt)ce.remove(null===It?void 0:It);else if(null!==It){const Cn=ce.get(It);ce.move(Cn,Gt),Oi(Cn,Ke)}});for(let Ke=0,It=ce.length;Ke<It;Ke++){const Cn=ce.get(Ke).context;Cn.index=Ke,Cn.count=It,Cn.ngForOf=this._ngForOf}$.forEachIdentityChange(Ke=>{Oi(ce.get(Ke.currentIndex),Ke)})}static ngTemplateContextGuard($,ce){return!0}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function Oi(U,re){U.context.$implicit=re.item}let Q=(()=>{class U{constructor($,ce){this._viewContainer=$,this._context=new ge,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Qe("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Qe("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ce){return!0}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.s_b),c.Y36(c.Rgc))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class ge{constructor(){this.$implicit=null,this.ngIf=null}}function Qe(U,re){if(re&&!re.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,c.AaK)(re)}'.`)}let dn=(()=>{class U{constructor($,ce,Ke){this._ngEl=$,this._differs=ce,this._renderer=Ke,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,ce){const[Ke,It]=$.split(".");null!=(ce=null!=ce&&It?`${ce}${It}`:ce)?this._renderer.setStyle(this._ngEl.nativeElement,Ke,ce):this._renderer.removeStyle(this._ngEl.nativeElement,Ke)}_applyChanges($){$.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),$.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),$.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),U})(),En=(()=>{class U{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const ce=this._viewContainerRef;this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ce.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.s_b))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),U})();function Qn(U,re){return new c.vHH(2100,"")}let $o=(()=>{class U{constructor($){this._locale=$}transform($,ce,Ke){if(!ls($))return null;Ke=Ke||this._locale;try{return function un(U,re,$){return ar(U,pe(vn(re,Me.Decimal),Wt(re,Ye.MinusSign)),re,Ye.Group,Ye.Decimal,$)}(Ei($),Ke,ce)}catch(It){throw Qn()}}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.soG,16))},U.\u0275pipe=c.Yjl({name:"number",type:U,pure:!0}),U})(),Bs=(()=>{class U{constructor($,ce="USD"){this._locale=$,this._defaultCurrencyCode=ce}transform($,ce=this._defaultCurrencyCode,Ke="symbol",It,Gt){if(!ls($))return null;Gt=Gt||this._locale,"boolean"==typeof Ke&&(Ke=Ke?"symbol":"code");let Cn=ce||this._defaultCurrencyCode;"code"!==Ke&&(Cn="symbol"===Ke||"symbol-narrow"===Ke?function qn(U,re,$="en"){const ce=function On(U){return(0,c.cg1)(U)[c.wAp.Currencies]}($)[U]||ve[U]||[],Ke=ce[1];return"narrow"===re&&"string"==typeof Ke?Ke:ce[0]||U}(Cn,"symbol"===Ke?"wide":"narrow",Gt):Ke);try{return function Ir(U,re,$,ce,Ke){const Gt=pe(vn(re,Me.Currency),Wt(re,Ye.MinusSign));return Gt.minFrac=function mt(U){let re;const $=ve[U];return $&&(re=$[2]),"number"==typeof re?re:2}(ce),Gt.maxFrac=Gt.minFrac,ar(U,Gt,re,Ye.CurrencyGroup,Ye.CurrencyDecimal,Ke).replace("\xa4",$).replace("\xa4","").trim()}(Ei($),Gt,Cn,ce,It)}catch(Kn){throw Qn()}}}return U.\u0275fac=function($){return new($||U)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},U.\u0275pipe=c.Yjl({name:"currency",type:U,pure:!0}),U})();function ls(U){return!(null==U||""===U||U!=U)}function Ei(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}let Ro=(()=>{class U{}return U.\u0275fac=function($){return new($||U)},U.\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({}),U})();const Ss="browser";function As(U){return"server"===U}let xs=(()=>{class U{}return U.\u0275prov=(0,c.Yz7)({token:U,providedIn:"root",factory:()=>new Vs((0,c.LFG)(Ce),window)}),U})();class Vs{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function Kr(U,re){const $=U.getElementById(re)||U.getElementsByName(re)[0];if($)return $;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const ce=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Ke=ce.currentNode;for(;Ke;){const It=Ke.shadowRoot;if(It){const Gt=It.getElementById(re)||It.querySelector(`[name="${re}"]`);if(Gt)return Gt}Ke=ce.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=re)}}scrollToElement(re){const $=re.getBoundingClientRect(),ce=$.left+this.window.pageXOffset,Ke=$.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(ce-It[0],Ke-It[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch(re){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(re){return!1}}}function cs(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Rr{}},520:(Xt,lt,L)=>{"use strict";L.d(lt,{eN:()=>Ye,JF:()=>_r,WM:()=>ee});var c=L(9808),X=L(5e3),K=L(1086),Ve=L(2916),Oe=L(1406),se=L(2198),Ce=L(4850);class _e{}class be{}class ee{constructor(We){this.normalizedNames=new Map,this.lazyUpdate=null,We?this.lazyInit="string"==typeof We?()=>{this.headers=new Map,We.split("\n").forEach(De=>{const qt=De.indexOf(":");if(qt>0){const At=De.slice(0,qt),Ht=At.toLowerCase(),an=De.slice(qt+1).trim();this.maybeSetNormalizedName(At,Ht),this.headers.has(Ht)?this.headers.get(Ht).push(an):this.headers.set(Ht,[an])}})}:()=>{this.headers=new Map,Object.keys(We).forEach(De=>{let qt=We[De];const At=De.toLowerCase();"string"==typeof qt&&(qt=[qt]),qt.length>0&&(this.headers.set(At,qt),this.maybeSetNormalizedName(De,At))})}:this.headers=new Map}has(We){return this.init(),this.headers.has(We.toLowerCase())}get(We){this.init();const De=this.headers.get(We.toLowerCase());return De&&De.length>0?De[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(We){return this.init(),this.headers.get(We.toLowerCase())||null}append(We,De){return this.clone({name:We,value:De,op:"a"})}set(We,De){return this.clone({name:We,value:De,op:"s"})}delete(We,De){return this.clone({name:We,value:De,op:"d"})}maybeSetNormalizedName(We,De){this.normalizedNames.has(De)||this.normalizedNames.set(De,We)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(We=>this.applyUpdate(We)),this.lazyUpdate=null))}copyFrom(We){We.init(),Array.from(We.headers.keys()).forEach(De=>{this.headers.set(De,We.headers.get(De)),this.normalizedNames.set(De,We.normalizedNames.get(De))})}clone(We){const De=new ee;return De.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,De.lazyUpdate=(this.lazyUpdate||[]).concat([We]),De}applyUpdate(We){const De=We.name.toLowerCase();switch(We.op){case"a":case"s":let qt=We.value;if("string"==typeof qt&&(qt=[qt]),0===qt.length)return;this.maybeSetNormalizedName(We.name,De);const At=("a"===We.op?this.headers.get(De):void 0)||[];At.push(...qt),this.headers.set(De,At);break;case"d":const Ht=We.value;if(Ht){let an=this.headers.get(De);if(!an)return;an=an.filter(ln=>-1===Ht.indexOf(ln)),0===an.length?(this.headers.delete(De),this.normalizedNames.delete(De)):this.headers.set(De,an)}else this.headers.delete(De),this.normalizedNames.delete(De)}}forEach(We){this.init(),Array.from(this.normalizedNames.keys()).forEach(De=>We(this.normalizedNames.get(De),this.headers.get(De)))}}class me{encodeKey(We){return ke(We)}encodeValue(We){return ke(We)}decodeKey(We){return decodeURIComponent(We)}decodeValue(We){return decodeURIComponent(We)}}const fe=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ke(mt){return encodeURIComponent(mt).replace(fe,(We,De)=>{var qt;return null!==(qt=ze[De])&&void 0!==qt?qt:We})}function Ee(mt){return`${mt}`}class Fe{constructor(We={}){if(this.updates=null,this.cloneFrom=null,this.encoder=We.encoder||new me,We.fromString){if(We.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ne(mt,We){const De=new Map;return mt.length>0&&mt.replace(/^\?/,"").split("&").forEach(At=>{const Ht=At.indexOf("="),[an,ln]=-1==Ht?[We.decodeKey(At),""]:[We.decodeKey(At.slice(0,Ht)),We.decodeValue(At.slice(Ht+1))],Ln=De.get(an)||[];Ln.push(ln),De.set(an,Ln)}),De}(We.fromString,this.encoder)}else We.fromObject?(this.map=new Map,Object.keys(We.fromObject).forEach(De=>{const qt=We.fromObject[De];this.map.set(De,Array.isArray(qt)?qt:[qt])})):this.map=null}has(We){return this.init(),this.map.has(We)}get(We){this.init();const De=this.map.get(We);return De?De[0]:null}getAll(We){return this.init(),this.map.get(We)||null}keys(){return this.init(),Array.from(this.map.keys())}append(We,De){return this.clone({param:We,value:De,op:"a"})}appendAll(We){const De=[];return Object.keys(We).forEach(qt=>{const At=We[qt];Array.isArray(At)?At.forEach(Ht=>{De.push({param:qt,value:Ht,op:"a"})}):De.push({param:qt,value:At,op:"a"})}),this.clone(De)}set(We,De){return this.clone({param:We,value:De,op:"s"})}delete(We,De){return this.clone({param:We,value:De,op:"d"})}toString(){return this.init(),this.keys().map(We=>{const De=this.encoder.encodeKey(We);return this.map.get(We).map(qt=>De+"="+this.encoder.encodeValue(qt)).join("&")}).filter(We=>""!==We).join("&")}clone(We){const De=new Fe({encoder:this.encoder});return De.cloneFrom=this.cloneFrom||this,De.updates=(this.updates||[]).concat(We),De}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(We=>this.map.set(We,this.cloneFrom.map.get(We))),this.updates.forEach(We=>{switch(We.op){case"a":case"s":const De=("a"===We.op?this.map.get(We.param):void 0)||[];De.push(Ee(We.value)),this.map.set(We.param,De);break;case"d":if(void 0===We.value){this.map.delete(We.param);break}{let qt=this.map.get(We.param)||[];const At=qt.indexOf(Ee(We.value));-1!==At&&qt.splice(At,1),qt.length>0?this.map.set(We.param,qt):this.map.delete(We.param)}}}),this.cloneFrom=this.updates=null)}}class ft{constructor(){this.map=new Map}set(We,De){return this.map.set(We,De),this}get(We){return this.map.has(We)||this.map.set(We,We.defaultValue()),this.map.get(We)}delete(We){return this.map.delete(We),this}has(We){return this.map.has(We)}keys(){return this.map.keys()}}function ut(mt){return"undefined"!=typeof ArrayBuffer&&mt instanceof ArrayBuffer}function wt(mt){return"undefined"!=typeof Blob&&mt instanceof Blob}function xt(mt){return"undefined"!=typeof FormData&&mt instanceof FormData}class Et{constructor(We,De,qt,At){let Ht;if(this.url=De,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=We.toUpperCase(),function we(mt){switch(mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==qt?qt:null,Ht=At):Ht=qt,Ht&&(this.reportProgress=!!Ht.reportProgress,this.withCredentials=!!Ht.withCredentials,Ht.responseType&&(this.responseType=Ht.responseType),Ht.headers&&(this.headers=Ht.headers),Ht.context&&(this.context=Ht.context),Ht.params&&(this.params=Ht.params)),this.headers||(this.headers=new ee),this.context||(this.context=new ft),this.params){const an=this.params.toString();if(0===an.length)this.urlWithParams=De;else{const ln=De.indexOf("?");this.urlWithParams=De+(-1===ln?"?":ln<De.length-1?"&":"")+an}}else this.params=new Fe,this.urlWithParams=De}serializeBody(){return null===this.body?null:ut(this.body)||wt(this.body)||xt(this.body)||function nt(mt){return"undefined"!=typeof URLSearchParams&&mt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:wt(this.body)?this.body.type||null:ut(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(We={}){var De;const qt=We.method||this.method,At=We.url||this.url,Ht=We.responseType||this.responseType,an=void 0!==We.body?We.body:this.body,ln=void 0!==We.withCredentials?We.withCredentials:this.withCredentials,Ln=void 0!==We.reportProgress?We.reportProgress:this.reportProgress;let bn=We.headers||this.headers,Qr=We.params||this.params;const Ar=null!==(De=We.context)&&void 0!==De?De:this.context;return void 0!==We.setHeaders&&(bn=Object.keys(We.setHeaders).reduce((wr,Se)=>wr.set(Se,We.setHeaders[Se]),bn)),We.setParams&&(Qr=Object.keys(We.setParams).reduce((wr,Se)=>wr.set(Se,We.setParams[Se]),Qr)),new Et(qt,At,an,{params:Qr,headers:bn,context:Ar,reportProgress:Ln,responseType:Ht,withCredentials:ln})}}var ve=(()=>((ve=ve||{})[ve.Sent=0]="Sent",ve[ve.UploadProgress=1]="UploadProgress",ve[ve.ResponseHeader=2]="ResponseHeader",ve[ve.DownloadProgress=3]="DownloadProgress",ve[ve.Response=4]="Response",ve[ve.User=5]="User",ve))();class Me{constructor(We,De=200,qt="OK"){this.headers=We.headers||new ee,this.status=void 0!==We.status?We.status:De,this.statusText=We.statusText||qt,this.url=We.url||null,this.ok=this.status>=200&&this.status<300}}class Te extends Me{constructor(We={}){super(We),this.type=ve.ResponseHeader}clone(We={}){return new Te({headers:We.headers||this.headers,status:void 0!==We.status?We.status:this.status,statusText:We.statusText||this.statusText,url:We.url||this.url||void 0})}}class de extends Me{constructor(We={}){super(We),this.type=ve.Response,this.body=void 0!==We.body?We.body:null}clone(We={}){return new de({body:void 0!==We.body?We.body:this.body,headers:We.headers||this.headers,status:void 0!==We.status?We.status:this.status,statusText:We.statusText||this.statusText,url:We.url||this.url||void 0})}}class ye extends Me{constructor(We){super(We,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${We.url||"(unknown url)"}`:`Http failure response for ${We.url||"(unknown url)"}: ${We.status} ${We.statusText}`,this.error=We.error||null}}function Ue(mt,We){return{body:We,headers:mt.headers,context:mt.context,observe:mt.observe,params:mt.params,reportProgress:mt.reportProgress,responseType:mt.responseType,withCredentials:mt.withCredentials}}let Ye=(()=>{class mt{constructor(De){this.handler=De}request(De,qt,At={}){let Ht;if(De instanceof Et)Ht=De;else{let Ln,bn;Ln=At.headers instanceof ee?At.headers:new ee(At.headers),At.params&&(bn=At.params instanceof Fe?At.params:new Fe({fromObject:At.params})),Ht=new Et(De,qt,void 0!==At.body?At.body:null,{headers:Ln,context:At.context,params:bn,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials})}const an=(0,K.of)(Ht).pipe((0,Oe.b)(Ln=>this.handler.handle(Ln)));if(De instanceof Et||"events"===At.observe)return an;const ln=an.pipe((0,se.h)(Ln=>Ln instanceof de));switch(At.observe||"body"){case"body":switch(Ht.responseType){case"arraybuffer":return ln.pipe((0,Ce.U)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ln.body}));case"blob":return ln.pipe((0,Ce.U)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof Blob))throw new Error("Response is not a Blob.");return Ln.body}));case"text":return ln.pipe((0,Ce.U)(Ln=>{if(null!==Ln.body&&"string"!=typeof Ln.body)throw new Error("Response is not a string.");return Ln.body}));default:return ln.pipe((0,Ce.U)(Ln=>Ln.body))}case"response":return ln;default:throw new Error(`Unreachable: unhandled observe type ${At.observe}}`)}}delete(De,qt={}){return this.request("DELETE",De,qt)}get(De,qt={}){return this.request("GET",De,qt)}head(De,qt={}){return this.request("HEAD",De,qt)}jsonp(De,qt){return this.request("JSONP",De,{params:(new Fe).append(qt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,qt={}){return this.request("OPTIONS",De,qt)}patch(De,qt,At={}){return this.request("PATCH",De,Ue(At,qt))}post(De,qt,At={}){return this.request("POST",De,Ue(At,qt))}put(De,qt,At={}){return this.request("PUT",De,Ue(At,qt))}}return mt.\u0275fac=function(De){return new(De||mt)(X.LFG(_e))},mt.\u0275prov=X.Yz7({token:mt,factory:mt.\u0275fac}),mt})();class St{constructor(We,De){this.next=We,this.interceptor=De}handle(We){return this.interceptor.intercept(We,this.next)}}const jt=new X.OlP("HTTP_INTERCEPTORS");let dt=(()=>{class mt{intercept(De,qt){return qt.handle(De)}}return mt.\u0275fac=function(De){return new(De||mt)},mt.\u0275prov=X.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const Wt=/^\)\]\}',?\n/;let Rn=(()=>{class mt{constructor(De){this.xhrFactory=De}handle(De){if("JSONP"===De.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ve.y(qt=>{const At=this.xhrFactory.build();if(At.open(De.method,De.urlWithParams),De.withCredentials&&(At.withCredentials=!0),De.headers.forEach((Se,He)=>At.setRequestHeader(Se,He.join(","))),De.headers.has("Accept")||At.setRequestHeader("Accept","application/json, text/plain, */*"),!De.headers.has("Content-Type")){const Se=De.detectContentTypeHeader();null!==Se&&At.setRequestHeader("Content-Type",Se)}if(De.responseType){const Se=De.responseType.toLowerCase();At.responseType="json"!==Se?Se:"text"}const Ht=De.serializeBody();let an=null;const ln=()=>{if(null!==an)return an;const Se=At.statusText||"OK",He=new ee(At.getAllResponseHeaders()),qe=function vn(mt){return"responseURL"in mt&&mt.responseURL?mt.responseURL:/^X-Request-URL:/m.test(mt.getAllResponseHeaders())?mt.getResponseHeader("X-Request-URL"):null}(At)||De.url;return an=new Te({headers:He,status:At.status,statusText:Se,url:qe}),an},Ln=()=>{let{headers:Se,status:He,statusText:qe,url:Pt}=ln(),$e=null;204!==He&&($e=void 0===At.response?At.responseText:At.response),0===He&&(He=$e?200:0);let ct=He>=200&&He<300;if("json"===De.responseType&&"string"==typeof $e){const Yt=$e;$e=$e.replace(Wt,"");try{$e=""!==$e?JSON.parse($e):null}catch(Zt){$e=Yt,ct&&(ct=!1,$e={error:Zt,text:$e})}}ct?(qt.next(new de({body:$e,headers:Se,status:He,statusText:qe,url:Pt||void 0})),qt.complete()):qt.error(new ye({error:$e,headers:Se,status:He,statusText:qe,url:Pt||void 0}))},bn=Se=>{const{url:He}=ln(),qe=new ye({error:Se,status:At.status||0,statusText:At.statusText||"Unknown Error",url:He||void 0});qt.error(qe)};let Qr=!1;const Ar=Se=>{Qr||(qt.next(ln()),Qr=!0);let He={type:ve.DownloadProgress,loaded:Se.loaded};Se.lengthComputable&&(He.total=Se.total),"text"===De.responseType&&!!At.responseText&&(He.partialText=At.responseText),qt.next(He)},wr=Se=>{let He={type:ve.UploadProgress,loaded:Se.loaded};Se.lengthComputable&&(He.total=Se.total),qt.next(He)};return At.addEventListener("load",Ln),At.addEventListener("error",bn),At.addEventListener("timeout",bn),At.addEventListener("abort",bn),De.reportProgress&&(At.addEventListener("progress",Ar),null!==Ht&&At.upload&&At.upload.addEventListener("progress",wr)),At.send(Ht),qt.next({type:ve.Sent}),()=>{At.removeEventListener("error",bn),At.removeEventListener("abort",bn),At.removeEventListener("load",Ln),At.removeEventListener("timeout",bn),De.reportProgress&&(At.removeEventListener("progress",Ar),null!==Ht&&At.upload&&At.upload.removeEventListener("progress",wr)),At.readyState!==At.DONE&&At.abort()}})}}return mt.\u0275fac=function(De){return new(De||mt)(X.LFG(c.JF))},mt.\u0275prov=X.Yz7({token:mt,factory:mt.\u0275fac}),mt})();const In=new X.OlP("XSRF_COOKIE_NAME"),cn=new X.OlP("XSRF_HEADER_NAME");class On{}let Sr=(()=>{class mt{constructor(De,qt,At){this.doc=De,this.platform=qt,this.cookieName=At,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const De=this.doc.cookie||"";return De!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(De,this.cookieName),this.lastCookieString=De),this.lastToken}}return mt.\u0275fac=function(De){return new(De||mt)(X.LFG(c.K0),X.LFG(X.Lbi),X.LFG(In))},mt.\u0275prov=X.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),zn=(()=>{class mt{constructor(De,qt){this.tokenService=De,this.headerName=qt}intercept(De,qt){const At=De.url.toLowerCase();if("GET"===De.method||"HEAD"===De.method||At.startsWith("http://")||At.startsWith("https://"))return qt.handle(De);const Ht=this.tokenService.getToken();return null!==Ht&&!De.headers.has(this.headerName)&&(De=De.clone({headers:De.headers.set(this.headerName,Ht)})),qt.handle(De)}}return mt.\u0275fac=function(De){return new(De||mt)(X.LFG(On),X.LFG(cn))},mt.\u0275prov=X.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),nr=(()=>{class mt{constructor(De,qt){this.backend=De,this.injector=qt,this.chain=null}handle(De){if(null===this.chain){const qt=this.injector.get(jt,[]);this.chain=qt.reduceRight((At,Ht)=>new St(At,Ht),this.backend)}return this.chain.handle(De)}}return mt.\u0275fac=function(De){return new(De||mt)(X.LFG(be),X.LFG(X.zs3))},mt.\u0275prov=X.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),rr=(()=>{class mt{static disable(){return{ngModule:mt,providers:[{provide:zn,useClass:dt}]}}static withOptions(De={}){return{ngModule:mt,providers:[De.cookieName?{provide:In,useValue:De.cookieName}:[],De.headerName?{provide:cn,useValue:De.headerName}:[]]}}}return mt.\u0275fac=function(De){return new(De||mt)},mt.\u0275mod=X.oAB({type:mt}),mt.\u0275inj=X.cJS({providers:[zn,{provide:jt,useExisting:zn,multi:!0},{provide:On,useClass:Sr},{provide:In,useValue:"XSRF-TOKEN"},{provide:cn,useValue:"X-XSRF-TOKEN"}]}),mt})(),_r=(()=>{class mt{}return mt.\u0275fac=function(De){return new(De||mt)},mt.\u0275mod=X.oAB({type:mt}),mt.\u0275inj=X.cJS({providers:[Ye,{provide:_e,useClass:nr},Rn,{provide:be,useExisting:Rn}],imports:[[rr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),mt})()},5e3:(Xt,lt,L)=>{"use strict";L.d(lt,{deG:()=>zl,tb:()=>mE,AFp:()=>hE,ip1:()=>dE,CZH:()=>xv,hGG:()=>aI,z2F:()=>Fv,sBO:()=>zw,Sil:()=>Dw,_Vd:()=>S_,EJc:()=>Iw,SBq:()=>jy,qLn:()=>rd,vpe:()=>Ih,tBr:()=>oi,XFs:()=>rn,OlP:()=>ds,zs3:()=>za,ZZ4:()=>jv,aQg:()=>Hv,soG:()=>Rv,YKP:()=>I0,h0i:()=>Jm,PXZ:()=>Lw,R0b:()=>xd,FiY:()=>Xl,Lbi:()=>gE,g9A:()=>pE,Qsj:()=>bb,FYo:()=>_0,JOm:()=>W,tp0:()=>Jl,Rgc:()=>Wy,dDg:()=>EE,q4F:()=>E0,GfV:()=>v0,s_b:()=>M_,ifc:()=>At,eFA:()=>IE,G48:()=>Gw,Gpc:()=>me,X6Q:()=>Hw,_c5:()=>oI,VLi:()=>Nw,c2e:()=>yE,zSh:()=>lp,wAp:()=>gr,vHH:()=>ke,cg1:()=>Gm,kL8:()=>Up,dqk:()=>bn,sIi:()=>df,CqO:()=>Kg,QGY:()=>qg,F4k:()=>Bm,RDi:()=>cs,AaK:()=>_e,qOj:()=>fh,TTD:()=>ls,_Bn:()=>g0,xp6:()=>eg,uIk:()=>bp,ekj:()=>Ef,Suo:()=>H0,Xpm:()=>gn,lG2:()=>Mi,Yz7:()=>Xe,cJS:()=>_t,oAB:()=>$r,Yjl:()=>Li,Y36:()=>yf,_UZ:()=>zg,GkF:()=>Wg,BQk:()=>Zu,ynx:()=>Pp,qZA:()=>Rp,TgZ:()=>_f,EpF:()=>Dy,n5z:()=>Bn,LFG:()=>ei,$8M:()=>Zr,$Z:()=>Cs,NdJ:()=>jl,CRH:()=>G0,oxw:()=>T,ALo:()=>P0,xi3:()=>N0,gM2:()=>k0,Hsn:()=>oe,F$t:()=>Z,Q6J:()=>Gg,s9C:()=>xe,MGl:()=>pt,WLB:()=>S0,iGM:()=>$0,MAs:()=>Cp,CHM:()=>j,LSH:()=>no,YNc:()=>Ip,W1O:()=>K0,_uU:()=>My,Oqu:()=>Hc,hij:()=>$m,AsE:()=>Ad,lnq:()=>Ry,Gf:()=>j0});var c=L(8929),X=L(2654),K=L(2916),Ve=L(6787),Oe=L(2474);function se(n){for(let r in n)if(n[r]===se)return r;throw Error("Could not find renamed property on target object.")}function Ce(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function _e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function be(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ee=se({__forward_ref__:se});function me(n){return n.__forward_ref__=me,n.toString=function(){return _e(this())},n}function ne(n){return fe(n)?n():n}function fe(n){return"function"==typeof n&&n.hasOwnProperty(ee)&&n.__forward_ref__===me}class ke extends Error{constructor(r,o){super(function Ee(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function wt(n,r){const o=r?` in ${r}`:"";throw new ke(-201,`No provider for ${je(n)} found${o}`)}function at(n,r){null==n&&function Ge(n,r,o,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${o} ${d} ${r} <=Actual]`))}(r,n,null,"!=")}function Xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _t(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wt(n){return vn(n,On)||vn(n,zn)}function vn(n,r){return n.hasOwnProperty(r)?n[r]:null}function cn(n){return n&&(n.hasOwnProperty(Sr)||n.hasOwnProperty(nr))?n[Sr]:null}const On=se({\u0275prov:se}),Sr=se({\u0275inj:se}),zn=se({ngInjectableDef:se}),nr=se({ngInjectorDef:se});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let Fr;function _r(n){const r=Fr;return Fr=n,r}function qn(n,r,o){const d=Wt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&rn.Optional?null:void 0!==r?r:void wt(_e(n),"Injector")}function mt(n){return{toString:n}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),At=(()=>{return(n=At||(At={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",At;var n})();const Ht="undefined"!=typeof globalThis&&globalThis,an="undefined"!=typeof window&&window,ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=Ht||"undefined"!=typeof global&&global||an||ln,wr={},Se=[],He=se({\u0275cmp:se}),qe=se({\u0275dir:se}),Pt=se({\u0275pipe:se}),$e=se({\u0275mod:se}),ct=se({\u0275fac:se}),Yt=se({__NG_ELEMENT_ID__:se});let Zt=0;function gn(n){return mt(()=>{const o={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||At.Emulated,id:"c",styles:n.styles||Se,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.directives,y=n.features,D=n.pipes;return d.id+=Zt++,d.inputs=fi(n.inputs,o),d.outputs=fi(n.outputs),y&&y.forEach(x=>x(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(mr):null,d.pipeDefs=D?()=>("function"==typeof D?D():D).map(Tn):null,d})}function mr(n){return Or(n)||function Gr(n){return n[qe]||null}(n)}function Tn(n){return function Vn(n){return n[Pt]||null}(n)}const hr={};function $r(n){return mt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(hr[n.id]=n.type),r})}function fi(n,r){if(null==n)return wr;const o={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),o[p]=d,r&&(r[p]=y)}return o}const Mi=gn;function Li(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Or(n){return n[He]||null}function Lr(n,r){const o=n[$e]||null;if(!o&&!0===r)throw new Error(`Type ${_e(n)} does not have '\u0275mod' property.`);return o}const Q=19;function Ie(n){return Array.isArray(n)&&"object"==typeof n[1]}function Le(n){return Array.isArray(n)&&!0===n[1]}function ot(n){return 0!=(8&n.flags)}function kt(n){return 2==(2&n.flags)}function Mt(n){return 1==(1&n.flags)}function Rt(n){return null!==n.template}function dn(n){return 0!=(512&n[2])}function Pi(n,r){return n.hasOwnProperty(ct)?n[ct]:null}class Bs{constructor(r,o,d){this.previousValue=r,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function ls(){return Ei}function Ei(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mo),so}function so(){const n=Ss(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===wr)n.previous=r;else for(let d in r)o[d]=r[d];n.current=null,this.ngOnChanges(r)}}function Mo(n,r,o,d){const p=Ss(n)||function Vi(n,r){return n[Ro]=r}(n,{previous:wr,current:null}),y=p.current||(p.current={}),D=p.previous,x=this.declaredInputs[o],k=D[x];y[x]=new Bs(k&&k.currentValue,r,D===wr),n[d]=r}ls.ngInherit=!0;const Ro="__ngSimpleChanges__";function Ss(n){return n[Ro]||null}let Vs;function cs(n){Vs=n}function Rr(n){return!!n.listen}const U={createRenderer:(n,r)=>function Kr(){return void 0!==Vs?Vs:"undefined"!=typeof document?document:void 0}()};function $(n){for(;Array.isArray(n);)n=n[0];return n}function It(n,r){return $(r[n])}function Gt(n,r){return $(r[n.index])}function Kn(n,r){return n.data[r]}function Er(n,r){return n[r]}function Hn(n,r){const o=r[n];return Ie(o)?o:o[0]}function ir(n){return 4==(4&n[2])}function ci(n){return 128==(128&n[2])}function Jr(n,r){return null==r?null:n[r]}function ts(n){n[18]=0}function ns(n,r){n[5]+=r;let o=n,d=n[3];for(;null!==d&&(1===r&&1===o[5]||-1===r&&0===o[5]);)d[5]+=r,o=d,d=d[3]}const kn={lFrame:wl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ae(){return kn.bindingsEnabled}function N(){return kn.lFrame.lView}function b(){return kn.lFrame.tView}function j(n){return kn.lFrame.contextLView=n,n[8]}function ie(){let n=Tt();for(;null!==n&&64===n.type;)n=n.parent;return n}function Tt(){return kn.lFrame.currentTNode}function Dn(n,r){const o=kn.lFrame;o.currentTNode=n,o.isParent=r}function cr(){return kn.lFrame.isParent}function Zn(){kn.lFrame.isParent=!1}function Ti(){return kn.isInCheckNoChangesMode}function Ms(n){kn.isInCheckNoChangesMode=n}function si(){const n=kn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function rs(){return kn.lFrame.bindingIndex}function Oo(){return kn.lFrame.bindingIndex++}function Js(n){const r=kn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Ki(n,r){const o=kn.lFrame;o.bindingIndex=o.bindingRootIndex=n,_l(r)}function _l(n){kn.lFrame.currentDirectiveIndex=n}function El(){return kn.lFrame.currentQueryIndex}function bl(n){kn.lFrame.currentQueryIndex=n}function Ju(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function qa(n,r,o){if(o&rn.SkipSelf){let p=r,y=n;for(;!(p=p.parent,null!==p||o&rn.Host||(p=Ju(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;r=p,n=y}const d=kn.lFrame=Po();return d.currentTNode=r,d.lView=n,!0}function xa(n){const r=Po(),o=n[1];kn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Po(){const n=kn.lFrame,r=null===n?null:n.child;return null===r?wl(n):r}function wl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ws(){const n=kn.lFrame;return kn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Il=Ws;function Cl(){const n=Ws();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rs(){return kn.lFrame.selectedIndex}function No(n){kn.lFrame.selectedIndex=n}function Hi(){const n=kn.lFrame;return Kn(n.tView,n.selectedIndex)}function Tl(n,r){for(let o=r.directiveStart,d=r.directiveEnd;o<d;o++){const y=n.data[o].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:q,ngOnDestroy:te}=y;D&&(n.contentHooks||(n.contentHooks=[])).push(-o,D),x&&((n.contentHooks||(n.contentHooks=[])).push(o,x),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,x)),k&&(n.viewHooks||(n.viewHooks=[])).push(-o,k),q&&((n.viewHooks||(n.viewHooks=[])).push(o,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,q)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(o,te)}}function Xa(n,r,o){fs(n,r,3,o)}function ko(n,r,o,d){(3&n[2])===o&&fs(n,r,o,d)}function Ra(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function fs(n,r,o,d){const y=null!=d?d:-1,D=r.length-1;let x=0;for(let k=void 0!==d?65535&n[18]:0;k<D;k++)if("number"==typeof r[k+1]){if(x=r[k],null!=d&&x>=d)break}else r[k]<0&&(n[18]+=65536),(x<y||-1==y)&&(Sl(n,o,r,k),n[18]=(4294901760&n[18])+k+2),k++}function Sl(n,r,o,d){const p=o[d]<0,y=o[d+1],x=n[p?-o[d]:o[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(x)}finally{}}}else try{y.call(x)}finally{}}class Es{constructor(r,o,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function qs(n,r,o){const d=Rr(n);let p=0;for(;p<o.length;){const y=o[p];if("number"==typeof y){if(0!==y)break;p++;const D=o[p++],x=o[p++],k=o[p++];d?n.setAttribute(r,x,k,D):r.setAttributeNS(D,x,k)}else{const D=y,x=o[++p];wu(D)?d&&n.setProperty(r,D,x):d?n.setAttribute(r,D,x):r.setAttribute(D,x),p++}}return p}function Fo(n){return 3===n||4===n||6===n}function wu(n){return 64===n.charCodeAt(0)}function Ks(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?o=p:0===o||Al(n,o,p,null,-1===o||2===o?r[++d]:null)}}return n}function Al(n,r,o,d,p){let y=0,D=n.length;if(-1===r)D=-1;else for(;y<n.length;){const x=n[y++];if("number"==typeof x){if(x===r){D=-1;break}if(x>r){D=y-1;break}}}for(;y<n.length;){const x=n[y];if("number"==typeof x)break;if(x===o){if(null===d)return void(null!==p&&(n[y+1]=p));if(d===n[y+1])return void(n[y+2]=p)}y++,null!==d&&y++,null!==p&&y++}-1!==D&&(n.splice(D,0,r),y=D+1),n.splice(y++,0,o),null!==d&&n.splice(y++,0,d),null!==p&&n.splice(y++,0,p)}function Jo(n){return-1!==n}function bs(n){return 32767&n}function Ni(n,r){let o=function xl(n){return n>>16}(n),d=r;for(;o>0;)d=d[15],o--;return d}let fa=!0;function Pa(n){const r=fa;return fa=n,r}let ea=0;function Na(n,r){const o=mi(n,r);if(-1!==o)return o;const d=r[1];d.firstCreatePass&&(n.injectorIndex=r.length,tn(d.data,n),tn(r,null),tn(d.blueprint,null));const p=vo(n,r),y=n.injectorIndex;if(Jo(p)){const D=bs(p),x=Ni(p,r),k=x[1].data;for(let q=0;q<8;q++)r[y+q]=x[D+q]|k[D+q]}return r[y+8]=p,y}function tn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function mi(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function vo(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,d=null,p=r;for(;null!==p;){const y=p[1],D=y.type;if(d=2===D?y.declTNode:1===D?p[6]:null,null===d)return-1;if(o++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return-1}function Os(n,r,o){!function Ml(n,r,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(Yt)&&(d=o[Yt]),null==d&&(d=o[Yt]=ea++);const p=255&d;r.data[n+(p>>5)]|=1<<p}(n,r,o)}function Jn(n,r,o){if(o&rn.Optional)return n;wt(r,"NodeInjector")}function R(n,r,o,d){if(o&rn.Optional&&void 0===d&&(d=null),0==(o&(rn.Self|rn.Host))){const p=n[9],y=_r(void 0);try{return p?p.get(r,d,o&rn.Optional):qn(r,d,o&rn.Optional)}finally{_r(y)}}return Jn(d,r,o)}function S(n,r,o,d=rn.Default,p){if(null!==n){const y=function Je(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Yt)?n[Yt]:void 0;return"number"==typeof r?r>=0?255&r:M:r}(o);if("function"==typeof y){if(!qa(r,n,d))return d&rn.Host?Jn(p,o,d):R(r,o,d,p);try{const D=y(d);if(null!=D||d&rn.Optional)return D;wt(o)}finally{Il()}}else if("number"==typeof y){let D=null,x=mi(n,r),k=-1,q=d&rn.Host?r[16][6]:null;for((-1===x||d&rn.SkipSelf)&&(k=-1===x?vo(n,r):r[x+8],-1!==k&&xn(d,!1)?(D=r[1],x=bs(k),r=Ni(k,r)):x=-1);-1!==x;){const te=r[1];if(Bt(y,x,te.data)){const Ae=z(x,r,o,D,d,q);if(Ae!==w)return Ae}k=r[x+8],-1!==k&&xn(d,r[1].data[x+8]===q)&&Bt(y,x,r)?(D=te,x=bs(k),r=Ni(k,r)):x=-1}}}return R(r,o,d,p)}const w={};function M(){return new Cr(ie(),N())}function z(n,r,o,d,p,y){const D=r[1],x=D.data[n+8],te=ue(x,D,o,null==d?kt(x)&&fa:d!=D&&0!=(3&x.type),p&rn.Host&&y===x);return null!==te?Pe(r,D,te,x):w}function ue(n,r,o,d,p){const y=n.providerIndexes,D=r.data,x=1048575&y,k=n.directiveStart,te=y>>20,tt=p?x+te:n.directiveEnd;for(let Ct=d?x:x+te;Ct<tt;Ct++){const Kt=D[Ct];if(Ct<k&&o===Kt||Ct>=k&&Kt.type===o)return Ct}if(p){const Ct=D[k];if(Ct&&Rt(Ct)&&Ct.type===o)return k}return null}function Pe(n,r,o,d){let p=n[o];const y=r.data;if(function Xo(n){return n instanceof Es}(p)){const D=p;D.resolving&&function ft(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ke(-200,`Circular dependency in DI detected for ${n}${o}`)}(je(y[o]));const x=Pa(D.canSeeViewProviders);D.resolving=!0;const k=D.injectImpl?_r(D.injectImpl):null;qa(n,d,rn.Default);try{p=n[o]=D.factory(void 0,y,n,d),r.firstCreatePass&&o>=d.directiveStart&&function Za(n,r,o){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:y}=r.type.prototype;if(d){const D=Ei(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,D),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,D)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,p),y&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,y))}(o,y[o],r)}finally{null!==k&&_r(k),Pa(x),D.resolving=!1,Il()}}return p}function Bt(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function xn(n,r){return!(n&rn.Self||n&rn.Host&&r)}class Cr{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,d){return S(this._tNode,this._lView,r,d,o)}}function Bn(n){return mt(()=>{const r=n.prototype.constructor,o=r[ct]||Yr(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const y=p[ct]||Yr(p);if(y&&y!==o)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Yr(n){return fe(n)?()=>{const r=Yr(ne(n));return r&&r()}:Pi(n)}function Zr(n){return function Pn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const d=o.length;let p=0;for(;p<d;){const y=o[p];if(Fo(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<d&&"string"==typeof o[p];)p++;else{if(y===r)return o[p+1];p+=2}}}return null}(ie(),n)}const eo="__parameters__";function ma(n,r,o){return mt(()=>{const d=function to(n){return function(...o){if(n){const d=n(...o);for(const p in d)this[p]=d[p]}}}(r);function p(...y){if(this instanceof p)return d.apply(this,y),this;const D=new p(...y);return x.annotation=D,x;function x(k,q,te){const Ae=k.hasOwnProperty(eo)?k[eo]:Object.defineProperty(k,eo,{value:[]})[eo];for(;Ae.length<=te;)Ae.push(null);return(Ae[te]=Ae[te]||[]).push(D),k}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class ds{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Xe({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zl=new ds("AnalyzeForEntryComponents");function ss(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let d=n[o];Array.isArray(d)?(r===n&&(r=n.slice(0,o)),ss(d,r)):r!==n&&r.push(d)}return r}function ni(n,r){n.forEach(o=>Array.isArray(o)?ni(o,r):r(o))}function Rl(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Us(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ta(n,r){const o=[];for(let d=0;d<n;d++)o.push(r);return o}function Si(n,r,o){let d=ho(n,r);return d>=0?n[1|d]=o:(d=~d,function fn(n,r,o,d){let p=n.length;if(p==r)n.push(o,d);else if(1===p)n.push(d,n[0]),n[0]=o;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=o,n[r+1]=d}}(n,d,r,o)),d}function ki(n,r){const o=ho(n,r);if(o>=0)return n[1|o]}function ho(n,r){return function Lo(n,r,o){let d=0,p=n.length>>o;for(;p!==d;){const y=d+(p-d>>1),D=n[y<<o];if(r===D)return y<<o;D>r?p=y:d=y+1}return~(p<<o)}(n,r,1)}const G={},le="__NG_DI_FLAG__",Be="ngTempTokenPath",Dt=/\n/gm,hn="__source",or=se({provide:String,useValue:se});let er;function Nr(n){const r=er;return er=n,r}function dr(n,r=rn.Default){if(void 0===er)throw new ke(203,"");return null===er?qn(n,void 0,r):er.get(n,r&rn.Optional?null:void 0,r)}function ei(n,r=rn.Default){return(function rr(){return Fr}()||dr)(ne(n),r)}const el=ei;function po(n){const r=[];for(let o=0;o<n.length;o++){const d=ne(n[o]);if(Array.isArray(d)){if(0===d.length)throw new ke(900,"");let p,y=rn.Default;for(let D=0;D<d.length;D++){const x=d[D],k=bi(x);"number"==typeof k?-1===k?p=x.token:y|=k:p=x}r.push(ei(p,y))}else r.push(ei(d))}return r}function na(n,r){return n[le]=r,n.prototype[le]=r,n}function bi(n){return n[le]}const oi=na(ma("Inject",n=>({token:n})),-1),Xl=na(ma("Optional"),8),Jl=na(ma("SkipSelf"),4);class Yc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ba(n){return n instanceof Yc?n.changingThisBreaksApplicationSecurity:n}const sa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function no(n){const r=function pc(){const n=N();return n&&n[12]}();return r?r.sanitize(Wn.URL,n)||"":function rl(n,r){const o=function Sf(n){return n instanceof Yc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?Ba(n):function bo(n){return(n=String(n)).match(sa)||n.match(Mh)?n:"unsafe:"+n}(Fe(n))}const Mu="__ngContext__";function Zs(n,r){n[Mu]=r}function td(n){const r=function iu(n){return n[Mu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function zo(n){return n.ngOriginalError}function nd(n,...r){n.error(...r)}class rd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),d=function hi(n){return n&&n.ngErrorLogger||nd}(r);d(this._console,"ERROR",r),o&&d(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&zo(r);for(;o&&zo(o);)o=zo(o);return o||null}}const mc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function ol(n){return n instanceof Function?n():n}var W=(()=>((W=W||{})[W.Important=1]="Important",W[W.DashCase=2]="DashCase",W))();function rt(n,r){return undefined(n,r)}function wn(n){const r=n[3];return Le(r)?r[3]:r}function Fs(n){return al(n[13])}function Co(n){return al(n[4])}function al(n){for(;null!==n&&!Le(n);)n=n[4];return n}function ll(n,r,o,d,p){if(null!=d){let y,D=!1;Le(d)?y=d:Ie(d)&&(D=!0,d=d[0]);const x=$(d);0===n&&null!==o?null==p?ul(r,o,x):uu(r,o,x,p||null,!0):1===n&&null!==o?uu(r,o,x,p||null,!0):2===n?function ku(n,r,o){const d=Ll(n,r);d&&function Nu(n,r,o,d){Rr(n)?n.removeChild(r,o,d):r.removeChild(o)}(n,d,r,o)}(r,x,D):3===n&&r.destroyNode(x),null!=y&&function bc(n,r,o,d,p){const y=o[7];y!==$(o)&&ll(r,n,d,y,p);for(let x=10;x<o.length;x++){const k=o[x];$a(k[1],k,n,r,d,y)}}(r,n,y,o,p)}}function Gd(n,r,o){if(Rr(n))return n.createElement(r,o);{const d=null!==o?function xs(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===d?n.createElement(r):n.createElementNS(d,r)}}function jh(n,r){const o=n[9],d=o.indexOf(r),p=r[3];1024&r[2]&&(r[2]&=-1025,ns(p,-1)),o.splice(d,1)}function yc(n,r){if(n.length<=10)return;const o=10+r,d=n[o];if(d){const p=d[17];null!==p&&p!==n&&jh(p,d),r>0&&(n[o-1][4]=d[4]);const y=Us(n,10+r);!function Pf(n,r){$a(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const D=y[Q];null!==D&&D.detachView(y[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function _c(n,r){if(!(256&r[2])){const o=r[11];Rr(o)&&o.destroyNode&&$a(n,r,o,3,null,null),function Uh(n){let r=n[13];if(!r)return Pu(n[1],n);for(;r;){let o=null;if(Ie(r))o=r[13];else{const d=r[10];d&&(o=d)}if(!o){for(;r&&!r[4]&&r!==n;)Ie(r)&&Pu(r[1],r),r=r[3];null===r&&(r=n),Ie(r)&&Pu(r[1],r),o=r&&r[4]}r=o}}(r)}}function Pu(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function rm(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let d=0;d<o.length;d+=2){const p=r[o[d]];if(!(p instanceof Es)){const y=o[d+1];if(Array.isArray(y))for(let D=0;D<y.length;D+=2){const x=p[y[D]],k=y[D+1];try{k.call(x)}finally{}}else try{y.call(p)}finally{}}}}(n,r),function vc(n,r){const o=n.cleanup,d=r[7];let p=-1;if(null!==o)for(let y=0;y<o.length-1;y+=2)if("string"==typeof o[y]){const D=o[y+1],x="function"==typeof D?D(r):$(r[D]),k=d[p=o[y+2]],q=o[y+3];"boolean"==typeof q?x.removeEventListener(o[y],k,q):q>=0?d[p=q]():d[p=-q].unsubscribe(),y+=2}else{const D=d[p=o[y+1]];o[y].call(D)}if(null!==d){for(let y=p+1;y<d.length;y++)d[y]();r[7]=null}}(n,r),1===r[1].type&&Rr(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Le(r[3])){o!==r[3]&&jh(o,r);const d=r[Q];null!==d&&d.detachView(n)}}}function Zp(n,r,o){return function Ft(n,r,o){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return o[0];if(2&d.flags){const p=n.data[d.directiveStart].encapsulation;if(p===At.None||p===At.Emulated)return null}return Gt(d,o)}(n,r.parent,o)}function uu(n,r,o,d,p){Rr(n)?n.insertBefore(r,o,d,p):r.insertBefore(o,d,p)}function ul(n,r,o){Rr(n)?n.appendChild(r,o):r.appendChild(o)}function Hh(n,r,o,d,p){null!==d?uu(n,r,o,d,p):ul(n,r,o)}function Ll(n,r){return Rr(n)?n.parentNode(r):r.parentNode}function ba(n,r,o){return kf(n,r,o)}let kf=function Gh(n,r,o){return 40&n.type?Gt(n,o):null};function cu(n,r,o,d){const p=Zp(n,d,r),y=r[11],x=ba(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(o))for(let k=0;k<o.length;k++)Hh(y,p,o[k],x,!1);else Hh(y,p,o,x,!1)}function Ec(n,r){if(null!==r){const o=r.type;if(3&o)return Gt(r,n);if(4&o)return cl(-1,n[r.index]);if(8&o){const d=r.child;if(null!==d)return Ec(n,d);{const p=n[r.index];return Le(p)?cl(-1,p):$(p)}}if(32&o)return rt(r,n)()||$(n[r.index]);{const d=zh(n,r);return null!==d?Array.isArray(d)?d[0]:Ec(wn(n[16]),d):Ec(n,r.next)}}return null}function zh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function cl(n,r){const o=10+n+1;if(o<r.length){const d=r[o],p=d[1].firstChild;if(null!==p)return Ec(d,p)}return r[7]}function Ff(n,r,o,d,p,y,D){for(;null!=o;){const x=d[o.index],k=o.type;if(D&&0===r&&(x&&Zs($(x),d),o.flags|=4),64!=(64&o.flags))if(8&k)Ff(n,r,o.child,d,p,y,!1),ll(r,n,p,x,y);else if(32&k){const q=rt(o,d);let te;for(;te=q();)ll(r,n,p,te,y);ll(r,n,p,x,y)}else 16&k?ja(n,r,d,o,p,y):ll(r,n,p,x,y);o=D?o.projectionNext:o.next}}function $a(n,r,o,d,p,y){Ff(o,d,n.firstChild,r,p,y,!1)}function ja(n,r,o,d,p,y){const D=o[16],k=D[6].projection[d.projection];if(Array.isArray(k))for(let q=0;q<k.length;q++)ll(r,n,p,k[q],y);else Ff(n,r,k,D[3],p,y,!0)}function Wd(n,r,o){Rr(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function Lf(n,r,o){Rr(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function Bf(n,r,o){let d=n.length;for(;;){const p=n.indexOf(r,o);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const y=r.length;if(p+y===d||n.charCodeAt(p+y)<=32)return p}o=p+1}}const Xp="ng-template";function ny(n,r,o){let d=0;for(;d<n.length;){let p=n[d++];if(o&&"class"===p){if(p=n[d],-1!==Bf(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function Qp(n){return 4===n.type&&n.value!==Xp}function Jp(n,r,o){return r===(4!==n.type||o?n.value:Xp)}function Vf(n,r,o){let d=4;const p=n.attrs||[],y=function ry(n){for(let r=0;r<n.length;r++)if(Fo(n[r]))return r;return n.length}(p);let D=!1;for(let x=0;x<r.length;x++){const k=r[x];if("number"!=typeof k){if(!D)if(4&d){if(d=2|1&d,""!==k&&!Jp(n,k,o)||""===k&&1===r.length){if(la(d))return!1;D=!0}}else{const q=8&d?k:r[++x];if(8&d&&null!==n.attrs){if(!ny(n.attrs,q,o)){if(la(d))return!1;D=!0}continue}const Ae=od(8&d?"class":k,p,Qp(n),o);if(-1===Ae){if(la(d))return!1;D=!0;continue}if(""!==q){let tt;tt=Ae>y?"":p[Ae+1].toLowerCase();const Ct=8&d?tt:null;if(Ct&&-1!==Bf(Ct,q,0)||2&d&&q!==tt){if(la(d))return!1;D=!0}}}}else{if(!D&&!la(d)&&!la(k))return!1;if(D&&la(k))continue;D=!1,d=k|1&d}}return la(d)||D}function la(n){return 0==(1&n)}function od(n,r,o,d){if(null===r)return-1;let p=0;if(d||!o){let y=!1;for(;p<r.length;){const D=r[p];if(D===n)return p;if(3===D||6===D)y=!0;else{if(1===D||2===D){let x=r[++p];for(;"string"==typeof x;)x=r[++p];continue}if(4===D)break;if(0===D){p+=4;continue}}p+=y?1:2}return-1}return function iy(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const d=n[o];if("number"==typeof d)return-1;if(d===r)return o;o++}return-1}(r,n)}function sm(n,r,o=!1){for(let d=0;d<r.length;d++)if(Vf(n,r[d],o))return!0;return!1}function Uf(n,r){e:for(let o=0;o<r.length;o++){const d=r[o];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function wc(n,r){return n?":not("+r.trim()+")":r}function Ic(n){let r=n[0],o=1,d=2,p="",y=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&d){const x=n[++o];p+="["+D+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+D:4&d&&(p+=" "+D);else""!==p&&!la(D)&&(r+=wc(y,p),p=""),d=D,y=y||!la(d);o++}return""!==p&&(r+=wc(y,p)),r}const Dr={};function eg(n){Wh(b(),N(),Rs()+n,Ti())}function Wh(n,r,o,d){if(!d)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&Xa(r,y,o)}else{const y=n.preOrderHooks;null!==y&&ko(r,y,0,o)}No(o)}function $f(n,r){return n<<17|r<<2}function Ha(n){return n>>17&32767}function qd(n){return 2|n}function hu(n){return(131068&n)>>2}function qo(n,r){return-131069&n|r<<2}function Lu(n){return 1|n}function gm(n,r){const o=n.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const p=o[d],y=o[d+1];if(-1!==y){const D=n.data[y];bl(p),D.contentQueries(2,r[y],y)}}}function cd(n,r,o,d,p,y,D,x,k,q){const te=r.blueprint.slice();return te[0]=p,te[2]=140|d,ts(te),te[3]=te[15]=n,te[8]=o,te[10]=D||n&&n[10],te[11]=x||n&&n[11],te[12]=k||n&&n[12]||null,te[9]=q||n&&n[9]||null,te[6]=y,te[16]=2==r.type?n[16]:te,te}function gu(n,r,o,d,p){let y=n.data[r];if(null===y)y=function dd(n,r,o,d,p){const y=Tt(),D=cr(),k=n.data[r]=function lg(n,r,o,d,p,y){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?y:y&&y.parent,o,r,d,p);return null===n.firstChild&&(n.firstChild=k),null!==y&&(D?null==y.child&&null!==k.parent&&(y.child=k):null===y.next&&(y.next=k)),k}(n,r,o,d,p),function Aa(){return kn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=o,y.value=d,y.attrs=p;const D=function sn(){const n=kn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();y.injectorIndex=null===D?-1:D.injectorIndex}return Dn(y,!0),y}function hd(n,r,o,d){if(0===o)return-1;const p=r.length;for(let y=0;y<o;y++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function Bl(n,r,o){xa(r);try{const d=n.viewQuery;null!==d&&oh(1,d,o);const p=n.template;null!==p&&ag(n,r,p,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gm(n,r),n.staticViewQueries&&oh(2,n.viewQuery,o);const y=n.components;null!==y&&function Jd(n,r){for(let o=0;o<r.length;o++)fg(n,r[o])}(r,y)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[2]&=-5,Cl()}}function fd(n,r,o,d){const p=r[2];if(256==(256&p))return;xa(r);const y=Ti();try{ts(r),function vs(n){return kn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ag(n,r,o,2,d);const D=3==(3&p);if(!y)if(D){const q=n.preOrderCheckHooks;null!==q&&Xa(r,q,null)}else{const q=n.preOrderHooks;null!==q&&ko(r,q,0,null),Ra(r,0)}if(function gd(n){for(let r=Fs(n);null!==r;r=Co(r)){if(!r[2])continue;const o=r[9];for(let d=0;d<o.length;d++){const p=o[d],y=p[3];0==(1024&p[2])&&ns(y,1),p[2]|=1024}}}(r),function ef(n){for(let r=Fs(n);null!==r;r=Co(r))for(let o=10;o<r.length;o++){const d=r[o],p=d[1];ci(d)&&fd(p,d,p.template,d[8])}}(r),null!==n.contentQueries&&gm(n,r),!y)if(D){const q=n.contentCheckHooks;null!==q&&Xa(r,q)}else{const q=n.contentHooks;null!==q&&ko(r,q,1),Ra(r,1)}!function pm(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const p=o[d];if(p<0)No(~p);else{const y=p,D=o[++d],x=o[++d];Ki(D,y),x(2,r[y])}}}finally{No(-1)}}(n,r);const x=n.components;null!==x&&function Ac(n,r){for(let o=0;o<r.length;o++)md(n,r[o])}(r,x);const k=n.viewQuery;if(null!==k&&oh(2,k,d),!y)if(D){const q=n.viewCheckHooks;null!==q&&Xa(r,q)}else{const q=n.viewHooks;null!==q&&ko(r,q,2),Ra(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),y||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,ns(r[3],-1))}finally{Cl()}}function Zf(n,r,o,d){const p=r[10],y=!Ti(),D=ir(r);try{y&&!D&&p.begin&&p.begin(),D&&Bl(n,r,d),fd(n,r,o,d)}finally{y&&!D&&p.end&&p.end()}}function ag(n,r,o,d,p){const y=Rs(),D=2&d;try{No(-1),D&&r.length>20&&Wh(n,r,20,Ti()),o(d,p)}finally{No(y)}}function pd(n,r,o){if(ot(r)){const p=r.directiveEnd;for(let y=r.directiveStart;y<p;y++){const D=n.data[y];D.contentQueries&&D.contentQueries(1,o[y],y)}}}function eh(n,r,o){!ae()||(function ep(n,r,o,d){const p=o.directiveStart,y=o.directiveEnd;n.firstCreatePass||Na(o,r),Zs(d,r);const D=o.initialInputs;for(let x=p;x<y;x++){const k=n.data[x],q=Rt(k);q&&np(r,o,k);const te=Pe(r,n,x,o);Zs(te,r),null!==D&&$u(0,x-p,te,k,0,D),q&&(Hn(o.index,r)[8]=te)}}(n,r,o,Gt(o,r)),128==(128&o.flags)&&function vm(n,r,o){const d=o.directiveStart,p=o.directiveEnd,D=o.index,x=function mo(){return kn.lFrame.currentDirectiveIndex}();try{No(D);for(let k=d;k<p;k++){const q=n.data[k],te=r[k];_l(k),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&cg(q,te)}}finally{No(-1),_l(x)}}(n,r,o))}function Zh(n,r,o=Gt){const d=r.localNames;if(null!==d){let p=r.index+1;for(let y=0;y<d.length;y+=2){const D=d[y+1],x=-1===D?o(r,n):n[D];n[p++]=x}}}function th(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=js(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function js(n,r,o,d,p,y,D,x,k,q){const te=20+d,Ae=te+p,tt=function uy(n,r){const o=[];for(let d=0;d<r;d++)o.push(d<n?null:Dr);return o}(te,Ae),Ct="function"==typeof q?q():q;return tt[1]={type:n,blueprint:tt,template:o,queries:null,viewQuery:x,declTNode:r,data:tt.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:k,consts:Ct,incompleteFirstPass:!1}}function ym(n,r,o,d){const p=Pc(r);null===o?p.push(d):(p.push(o),n.firstCreatePass&&Nc(n).push(d,p.length-1))}function rh(n,r,o){for(let d in n)if(n.hasOwnProperty(d)){const p=n[d];(o=null===o?{}:o).hasOwnProperty(d)?o[d].push(r,p):o[d]=[r,p]}return o}function ua(n,r,o,d,p,y,D,x){const k=Gt(r,o);let te,q=r.inputs;!x&&null!=q&&(te=q[d])?(mg(n,o,te,d,p),kt(r)&&function Xf(n,r){const o=Hn(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(d=function ug(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=D?D(p,r.value||"",d):p,Rr(y)?y.setProperty(k,d,p):wu(d)||(k.setProperty?k.setProperty(d,p):k[d]=p))}function Jh(n,r,o,d){let p=!1;if(ae()){const y=function Mc(n,r,o){const d=n.directiveRegistry;let p=null;if(d)for(let y=0;y<d.length;y++){const D=d[y];sm(o,D.selectors,!1)&&(p||(p=[]),Os(Na(o,r),n,D.type),Rt(D)?(Rc(n,o),p.unshift(D)):p.push(D))}return p}(n,r,o),D=null===d?null:{"":-1};if(null!==y){p=!0,bm(o,n.data.length,y.length);for(let te=0;te<y.length;te++){const Ae=y[te];Ae.providersResolver&&Ae.providersResolver(Ae)}let x=!1,k=!1,q=hd(n,r,y.length,null);for(let te=0;te<y.length;te++){const Ae=y[te];o.mergedAttrs=Ks(o.mergedAttrs,Ae.hostAttrs),tp(n,o,r,q,Ae),Em(q,Ae,D),null!==Ae.contentQueries&&(o.flags|=8),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(o.flags|=128);const tt=Ae.type.prototype;!x&&(tt.ngOnChanges||tt.ngOnInit||tt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),x=!0),!k&&(tt.ngOnChanges||tt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),k=!0),q++}!function _m(n,r){const d=r.directiveEnd,p=n.data,y=r.attrs,D=[];let x=null,k=null;for(let q=r.directiveStart;q<d;q++){const te=p[q],Ae=te.inputs,tt=null===y||Qp(r)?null:dl(Ae,y);D.push(tt),x=rh(Ae,q,x),k=rh(te.outputs,q,k)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=16),x.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=D,r.inputs=x,r.outputs=k}(n,o)}D&&function dg(n,r,o){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const y=o[r[p+1]];if(null==y)throw new ke(-301,!1);d.push(r[p],y)}}}(o,d,D)}return o.mergedAttrs=Ks(o.mergedAttrs,o.attrs),p}function Jf(n,r,o,d,p,y){const D=y.hostBindings;if(D){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const k=~r.index;(function cy(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(x)!=k&&x.push(k),x.push(d,p,D)}}function cg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Rc(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Em(n,r,o){if(o){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)o[r.exportAs[d]]=n;Rt(r)&&(o[""]=n)}}function bm(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function tp(n,r,o,d,p){n.data[d]=p;const y=p.factory||(p.factory=Pi(p.type)),D=new Es(y,Rt(p),null);n.blueprint[d]=D,o[d]=D,Jf(n,r,0,d,hd(n,o,p.hostVars,Dr),p)}function np(n,r,o){const d=Gt(r,n),p=th(o),y=n[10],D=hl(n,cd(n,p,null,o.onPush?64:16,d,r,y,y.createRenderer(d,o),null,null));n[r.index]=D}function Vl(n,r,o,d,p,y){const D=Gt(n,r);!function hg(n,r,o,d,p,y,D){if(null==y)Rr(n)?n.removeAttribute(r,p,o):r.removeAttribute(p);else{const x=null==D?Fe(y):D(y,d||"",p);Rr(n)?n.setAttribute(r,p,x,o):o?r.setAttributeNS(o,p,x):r.setAttribute(p,x)}}(r[11],D,y,n.value,o,d,p)}function $u(n,r,o,d,p,y){const D=y[r];if(null!==D){const x=d.setInput;for(let k=0;k<D.length;){const q=D[k++],te=D[k++],Ae=D[k++];null!==x?d.setInput(o,Ae,q,te):o[te]=Ae}}}function dl(n,r){let o=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===o&&(o=[]),o.push(p,n[p],r[d+1])),d+=2}else d+=2;else d+=4}return o}function rp(n,r,o,d){return new Array(n,!0,!1,r,null,0,d,o,null,null)}function md(n,r){const o=Hn(r,n);if(ci(o)){const d=o[1];80&o[2]?fd(d,o,d.template,o[8]):o[5]>0&&Oc(o)}}function Oc(n){for(let d=Fs(n);null!==d;d=Co(d))for(let p=10;p<d.length;p++){const y=d[p];if(1024&y[2]){const D=y[1];fd(D,y,D.template,y[8])}else y[5]>0&&Oc(y)}const o=n[1].components;if(null!==o)for(let d=0;d<o.length;d++){const p=Hn(o[d],n);ci(p)&&p[5]>0&&Oc(p)}}function fg(n,r){const o=Hn(r,n),d=o[1];(function wa(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(d,o),Bl(d,o,o[8])}function hl(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function ip(n){for(;n;){n[2]|=64;const r=wn(n);if(dn(n)&&!r)return n;n=r}return null}function Ia(n,r,o){const d=r[10];d.begin&&d.begin();try{fd(n,r,n.template,o)}catch(p){throw gg(r,p),p}finally{d.end&&d.end()}}function tf(n){!function yd(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],d=td(o),p=d[1];Zf(p,d,p.template,o)}}(n[8])}function oh(n,r,o){bl(0),r(n,o)}const Im=(()=>Promise.resolve(null))();function Pc(n){return n[7]||(n[7]=[])}function Nc(n){return n.cleanup||(n.cleanup=[])}function gg(n,r){const o=n[9],d=o?o.get(rd,null):null;d&&d.handleError(r)}function mg(n,r,o,d,p){for(let y=0;y<o.length;){const D=o[y++],x=o[y++],k=r[D],q=n.data[D];null!==q.setInput?q.setInput(k,p,d,x):k[x]=p}}function fl(n,r,o){const d=It(r,n);!function Bh(n,r,o){Rr(n)?n.setValue(r,o):r.textContent=o}(n[11],d,o)}function _d(n,r,o){let d=o?n.styles:null,p=o?n.classes:null,y=0;if(null!==r)for(let D=0;D<r.length;D++){const x=r[D];"number"==typeof x?y=x:1==y?p=be(p,x):2==y&&(d=be(d,x+": "+r[++D]+";"))}o?n.styles=d:n.stylesWithoutHost=d,o?n.classes=p:n.classesWithoutHost=p}const vg=new ds("INJECTOR",-1);class ap{get(r,o=G){if(o===G){const d=new Error(`NullInjectorError: No provider for ${_e(r)}!`);throw d.name="NullInjectorError",d}return o}}const lp=new ds("Set Injector scope."),vd={},Dm={};let nf;function ah(){return void 0===nf&&(nf=new ap),nf}function rf(n,r=null,o=null,d){const p=Ed(n,r,o,d);return p._resolveInjectorDefTypes(),p}function Ed(n,r=null,o=null,d){return new Ga(n,o,r||ah(),d)}class Ga{constructor(r,o,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];o&&ni(o,x=>this.processProvider(x,r,o)),ni([r],x=>this.processInjectorType(x,[],y)),this.records.set(vg,Ul(void 0,this));const D=this.records.get(lp);this.scope=null!=D?D.value:null,this.source=p||("object"==typeof r?null:_e(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=G,d=rn.Default){this.assertNotDestroyed();const p=Nr(this),y=_r(void 0);try{if(!(d&rn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const k=function bg(n){return"function"==typeof n||"object"==typeof n&&n instanceof ds}(r)&&Wt(r);x=k&&this.injectableDefInScope(k)?Ul(pl(r),vd):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(d&rn.Self?ah():this.parent).get(r,o=d&rn.Optional&&o===G?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Be]=D[Be]||[]).unshift(_e(r)),p)throw D;return function ra(n,r,o,d){const p=n[Be];throw r[hn]&&p.unshift(r[hn]),n.message=function ys(n,r,o,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let p=_e(r);if(Array.isArray(r))p=r.map(_e).join(" -> ");else if("object"==typeof r){let y=[];for(let D in r)if(r.hasOwnProperty(D)){let x=r[D];y.push(D+":"+("string"==typeof x?JSON.stringify(x):_e(x)))}p=`{${y.join(", ")}}`}return`${o}${d?"("+d+")":""}[${p}]: ${n.replace(Dt,"\n  ")}`}("\n"+n.message,p,o,d),n.ngTokenPath=p,n[Be]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{_r(y),Nr(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,p)=>r.push(_e(p))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(r,o,d){if(!(r=ne(r)))return!1;let p=cn(r);const y=null==p&&r.ngModule||void 0,D=void 0===y?r:y,x=-1!==d.indexOf(D);if(void 0!==y&&(p=cn(y)),null==p)return!1;if(null!=p.imports&&!x){let te;d.push(D);try{ni(p.imports,Ae=>{this.processInjectorType(Ae,o,d)&&(void 0===te&&(te=[]),te.push(Ae))})}finally{}if(void 0!==te)for(let Ae=0;Ae<te.length;Ae++){const{ngModule:tt,providers:Ct}=te[Ae];ni(Ct,Kt=>this.processProvider(Kt,tt,Ct||Se))}}this.injectorDefTypes.add(D);const k=Pi(D)||(()=>new D);this.records.set(D,Ul(k,vd));const q=p.providers;if(null!=q&&!x){const te=r;ni(q,Ae=>this.processProvider(Ae,te,q))}return void 0!==y&&void 0!==r.providers}processProvider(r,o,d){let p=Hu(r=ne(r))?r:ne(r&&r.provide);const y=function kc(n,r,o){return bd(n)?Ul(void 0,n.useValue):Ul(uh(n),vd)}(r);if(Hu(r)||!0!==r.multi)this.records.get(p);else{let D=this.records.get(p);D||(D=Ul(void 0,vd,!0),D.factory=()=>po(D.multi),this.records.set(p,D)),p=r,D.multi.push(r)}this.records.set(p,y)}hydrate(r,o){return o.value===vd&&(o.value=Dm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Eg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ne(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function pl(n){const r=Wt(n),o=null!==r?r.factory:Pi(n);if(null!==o)return o;if(n instanceof ds)throw new ke(204,!1);if(n instanceof Function)return function lh(n){const r=n.length;if(r>0)throw ta(r,"?"),new ke(204,!1);const o=function Rn(n){const r=n&&(n[On]||n[zn]);if(r){const o=function In(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ke(204,!1)}function uh(n,r,o){let d;if(Hu(n)){const p=ne(n);return Pi(p)||pl(p)}if(bd(n))d=()=>ne(n.useValue);else if(function up(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...po(n.deps||[]));else if(function hy(n){return!(!n||!n.useExisting)}(n))d=()=>ei(ne(n.useExisting));else{const p=ne(n&&(n.useClass||n.provide));if(!function ch(n){return!!n.deps}(n))return Pi(p)||pl(p);d=()=>new p(...po(n.deps))}return d}function Ul(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function bd(n){return null!==n&&"object"==typeof n&&or in n}function Hu(n){return"function"==typeof n}let za=(()=>{class n{static create(o,d){var p;if(Array.isArray(o))return rf({name:""},d,o,"");{const y=null!==(p=o.name)&&void 0!==p?p:"";return rf({name:y},o.parent,o.providers,y)}}}return n.THROW_IF_NOT_FOUND=G,n.NULL=new ap,n.\u0275prov=Xe({token:n,providedIn:"any",factory:()=>ei(vg)}),n.__NG_ELEMENT_ID__=-1,n})();function uf(n,r){Tl(td(n)[1],ie())}function fh(n){let r=function cf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const d=[n];for(;r;){let p;if(Rt(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ke(903,"");p=r.\u0275dir}if(p){if(o){d.push(p);const D=n;D.inputs=Wu(n.inputs),D.declaredInputs=Wu(n.declaredInputs),D.outputs=Wu(n.outputs);const x=p.hostBindings;x&&gy(n,x);const k=p.viewQuery,q=p.contentQueries;if(k&&ml(n,k),q&&_p(n,q),Ce(n.inputs,p.inputs),Ce(n.declaredInputs,p.declaredInputs),Ce(n.outputs,p.outputs),Rt(p)&&p.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let D=0;D<y.length;D++){const x=y[D];x&&x.ngInherit&&x(n),x===fh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function yp(n){let r=0,o=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Ks(p.hostAttrs,o=Ks(o,p.hostAttrs))}}(d)}function Wu(n){return n===wr?{}:n===Se?[]:n}function ml(n,r){const o=n.viewQuery;n.viewQuery=o?(d,p)=>{r(d,p),o(d,p)}:r}function _p(n,r){const o=n.contentQueries;n.contentQueries=o?(d,p,y)=>{r(d,p,y),o(d,p,y)}:r}function gy(n,r){const o=n.hostBindings;n.hostBindings=o?(d,p)=>{r(d,p),o(d,p)}:r}let Ep=null;function Fc(){if(!Ep){const n=bn.Symbol;if(n&&n.iterator)Ep=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const d=r[o];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ep=d)}}}return Ep}function df(n){return!!hf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fc()in n)}function hf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mu(n,r,o){return n[r]=o}function Ko(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Ku(n,r,o,d){const p=Ko(n,r,o);return Ko(n,r+1,d)||p}function bp(n,r,o,d){const p=N();return Ko(p,Oo(),r)&&(b(),Vl(Hi(),p,n,r,o,d)),bp}function gh(n,r,o,d){return Ko(n,Oo(),o)?r+Fe(o)+d:Dr}function Yo(n,r,o,d,p,y,D,x){const q=function ff(n,r,o,d,p){const y=Ku(n,r,o,d);return Ko(n,r+2,p)||y}(n,rs(),o,p,D);return Js(3),q?r+Fe(o)+d+Fe(p)+y+Fe(D)+x:Dr}function Ip(n,r,o,d,p,y,D,x){const k=N(),q=b(),te=n+20,Ae=q.firstCreatePass?function Om(n,r,o,d,p,y,D,x,k){const q=r.consts,te=gu(r,n,4,D||null,Jr(q,x));Jh(r,o,te,Jr(q,k)),Tl(r,te);const Ae=te.tViews=js(2,te,d,p,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,q);return null!==r.queries&&(r.queries.template(r,te),Ae.queries=r.queries.embeddedTView(te)),te}(te,q,k,r,o,d,p,y,D):q.data[te];Dn(Ae,!1);const tt=k[11].createComment("");cu(q,k,tt,Ae),Zs(tt,k),hl(k,k[te]=rp(tt,k,tt,Ae)),Mt(Ae)&&eh(q,k,Ae),null!=D&&Zh(k,Ae,x)}function Cp(n){return Er(function qi(){return kn.lFrame.contextLView}(),20+n)}function yf(n,r=rn.Default){const o=N();return null===o?ei(n,r):S(ie(),o,ne(n),r)}function Cs(){throw new Error("invalid")}function Gg(n,r,o){const d=N();return Ko(d,Oo(),r)&&ua(b(),Hi(),d,n,r,d[11],o,!1),Gg}function Fm(n,r,o,d,p){const D=p?"class":"style";mg(n,o,r.inputs[D],D,d)}function _f(n,r,o,d){const p=N(),y=b(),D=20+n,x=p[11],k=p[D]=Gd(x,r,function Ma(){return kn.lFrame.currentNamespace}()),q=y.firstCreatePass?function oo(n,r,o,d,p,y,D){const x=r.consts,q=gu(r,n,2,p,Jr(x,y));return Jh(r,o,q,Jr(x,D)),null!==q.attrs&&_d(q,q.attrs,!1),null!==q.mergedAttrs&&_d(q,q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,q),q}(D,y,p,0,r,o,d):y.data[D];Dn(q,!0);const te=q.mergedAttrs;null!==te&&qs(x,k,te);const Ae=q.classes;null!==Ae&&Lf(x,k,Ae);const tt=q.styles;return null!==tt&&Wd(x,k,tt),64!=(64&q.flags)&&cu(y,p,k,q),0===function H(){return kn.lFrame.elementDepthCount}()&&Zs(k,p),function V(){kn.lFrame.elementDepthCount++}(),Mt(q)&&(eh(y,p,q),pd(y,q,p)),null!==d&&Zh(p,q),_f}function Rp(){let n=ie();cr()?Zn():(n=n.parent,Dn(n,!1));const r=n;!function F(){kn.lFrame.elementDepthCount--}();const o=b();return o.firstCreatePass&&(Tl(o,n),ot(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ha(n){return 0!=(16&n.flags)}(r)&&Fm(o,r,N(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function bu(n){return 0!=(32&n.flags)}(r)&&Fm(o,r,N(),r.stylesWithoutHost,!1),Rp}function zg(n,r,o,d){return _f(n,r,o,d),Rp(),zg}function Pp(n,r,o){const d=N(),p=b(),y=n+20,D=p.firstCreatePass?function Lm(n,r,o,d,p){const y=r.consts,D=Jr(y,d),x=gu(r,n,8,"ng-container",D);return null!==D&&_d(x,D,!0),Jh(r,o,x,Jr(y,p)),null!==r.queries&&r.queries.elementStart(r,x),x}(y,p,d,r,o):p.data[y];Dn(D,!0);const x=d[y]=d[11].createComment("");return cu(p,d,x,D),Zs(x,d),Mt(D)&&(eh(p,d,D),pd(p,D,d)),null!=o&&Zh(d,D),Pp}function Zu(){let n=ie();const r=b();return cr()?Zn():(n=n.parent,Dn(n,!1)),r.firstCreatePass&&(Tl(r,n),ot(n)&&r.queries.elementEnd(n)),Zu}function Wg(n,r,o){return Pp(n,r,o),Zu(),Wg}function Dy(){return N()}function qg(n){return!!n&&"function"==typeof n.then}function Bm(n){return!!n&&"function"==typeof n.subscribe}const Kg=Bm;function jl(n,r,o,d){const p=N(),y=b(),D=ie();return function l(n,r,o,d,p,y,D,x){const k=Mt(d),te=n.firstCreatePass&&Nc(n),Ae=r[8],tt=Pc(r);let Ct=!0;if(3&d.type||x){const An=Gt(d,r),Gn=x?x(An):An,Jt=tt.length,yr=x?Ci=>x($(Ci[d.index])):d.index;if(Rr(o)){let Ci=null;if(!x&&k&&(Ci=function s(n,r,o,d){const p=n.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const D=p[y];if(D===o&&p[y+1]===d){const x=r[7],k=p[y+2];return x.length>k?x[k]:null}"string"==typeof D&&(y+=2)}return null}(n,r,p,d.index)),null!==Ci)(Ci.__ngLastListenerFn__||Ci).__ngNextListenerFn__=y,Ci.__ngLastListenerFn__=y,Ct=!1;else{y=v(d,r,Ae,y,!1);const _s=o.listen(Gn,p,y);tt.push(y,_s),te&&te.push(p,yr,Jt,Jt+1)}}else y=v(d,r,Ae,y,!0),Gn.addEventListener(p,y,D),tt.push(y),te&&te.push(p,yr,Jt,D)}else y=v(d,r,Ae,y,!1);const Kt=d.outputs;let _n;if(Ct&&null!==Kt&&(_n=Kt[p])){const An=_n.length;if(An)for(let Gn=0;Gn<An;Gn+=2){const Qu=r[_n[Gn]][_n[Gn+1]].subscribe(y),nm=tt.length;tt.push(y,Qu),te&&te.push(p,d.index,nm,-(nm+1))}}}(y,p,p[11],D,n,r,!!o,d),jl}function f(n,r,o,d){try{return!1!==o(d)}catch(p){return gg(n,p),!1}}function v(n,r,o,d,p){return function y(D){if(D===Function)return d;const x=2&n.flags?Hn(n.index,r):r;0==(32&r[2])&&ip(x);let k=f(r,0,d,D),q=y.__ngNextListenerFn__;for(;q;)k=f(r,0,q,D)&&k,q=q.__ngNextListenerFn__;return p&&!1===k&&(D.preventDefault(),D.returnValue=!1),k}}function T(n=1){return function Dl(n){return(kn.lFrame.contextLView=function Ka(n,r){for(;n>0;)r=r[15],n--;return r}(n,kn.lFrame.contextLView))[8]}(n)}function O(n,r){let o=null;const d=function om(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let p=0;p<r.length;p++){const y=r[p];if("*"!==y){if(null===d?sm(n,y,!0):Uf(d,y))return p}else o=p}return o}function Z(n){const r=N()[16][6];if(!r.projection){const d=r.projection=ta(n?n.length:1,null),p=d.slice();let y=r.child;for(;null!==y;){const D=n?O(y,n):0;null!==D&&(p[D]?p[D].projectionNext=y:d[D]=y,p[D]=y),y=y.next}}}function oe(n,r=0,o){const d=N(),p=b(),y=gu(p,20+n,16,null,o||null);null===y.projection&&(y.projection=r),Zn(),64!=(64&y.flags)&&function zd(n,r,o){ja(r[11],0,r,o,Zp(n,o,r),ba(o.parent||r[6],o,r))}(p,d,y)}function xe(n,r,o){return pt(n,"",r,"",o),xe}function pt(n,r,o,d,p){const y=N(),D=gh(y,r,o,d);return D!==Dr&&ua(b(),Hi(),y,n,D,y[11],p,!1),pt}function $c(n,r,o,d,p){const y=n[o+1],D=null===r;let x=d?Ha(y):hu(y),k=!1;for(;0!==x&&(!1===k||D);){const te=n[x+1];Np(n[x],r)&&(k=!0,n[x+1]=d?Lu(te):qd(te)),x=d?Ha(te):hu(te)}k&&(n[o+1]=d?qd(y):Lu(y))}function Np(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ho(n,r)>=0}function Ef(n,r){return function Xu(n,r,o,d){const p=N(),y=b(),D=Js(2);y.firstUpdatePass&&function r_(n,r,o,d){const p=n.data;if(null===p[o+1]){const y=p[Rs()],D=function n_(n,r){return r>=n.expandoStartIndex}(n,o);(function u_(n,r){return 0!=(n.flags&(r?16:32))})(y,d)&&null===r&&!D&&(r=!1),r=function i_(n,r,o,d){const p=function vl(n){const r=kn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(o=Zg(o=Sy(null,n,r,o,d),r.attrs,d),y=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==p)if(o=Sy(p,n,r,o,d),null===y){let k=function U_(n,r,o){const d=o?r.classBindings:r.styleBindings;if(0!==hu(d))return n[Ha(d)]}(n,r,d);void 0!==k&&Array.isArray(k)&&(k=Sy(null,n,r,k[1],d),k=Zg(k,r.attrs,d),function $_(n,r,o,d){n[Ha(o?r.classBindings:r.styleBindings)]=d}(n,r,d,k))}else y=function s_(n,r,o){let d;const p=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<p;y++)d=Zg(d,n[y].hostAttrs,o);return Zg(d,r.attrs,o)}(n,r,d)}return void 0!==y&&(d?r.residualClasses=y:r.residualStyles=y),o}(p,y,r,d),function ao(n,r,o,d,p,y){let D=y?r.classBindings:r.styleBindings,x=Ha(D),k=hu(D);n[d]=o;let te,q=!1;if(Array.isArray(o)){const Ae=o;te=Ae[1],(null===te||ho(Ae,te)>0)&&(q=!0)}else te=o;if(p)if(0!==k){const tt=Ha(n[x+1]);n[d+1]=$f(tt,x),0!==tt&&(n[tt+1]=qo(n[tt+1],d)),n[x+1]=function jf(n,r){return 131071&n|r<<17}(n[x+1],d)}else n[d+1]=$f(x,0),0!==x&&(n[x+1]=qo(n[x+1],d)),x=d;else n[d+1]=$f(k,0),0===x?x=d:n[k+1]=qo(n[k+1],d),k=d;q&&(n[d+1]=qd(n[d+1])),$c(n,te,d,!0),$c(n,te,d,!1),function yl(n,r,o,d,p){const y=p?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&ho(y,r)>=0&&(o[d+1]=Lu(o[d+1]))}(r,te,n,d,y),D=$f(x,k),y?r.classBindings=D:r.styleBindings=D}(p,y,r,o,D,d)}}(y,n,D,d),r!==Dr&&Ko(p,D,r)&&function xy(n,r,o,d,p,y,D,x){if(!(3&r.type))return;const k=n.data,q=k[x+1];Lp(function Hf(n){return 1==(1&n)}(q)?l_(k,r,o,p,hu(q),D):void 0)||(Lp(y)||function Cc(n){return 2==(2&n)}(q)&&(y=l_(k,null,o,p,x,D)),function Fu(n,r,o,d,p){const y=Rr(n);if(r)p?y?n.addClass(o,d):o.classList.add(d):y?n.removeClass(o,d):o.classList.remove(d);else{let D=-1===d.indexOf("-")?void 0:W.DashCase;if(null==p)y?n.removeStyle(o,d,D):o.style.removeProperty(d);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),D|=W.Important),y?n.setStyle(o,d,p,D):o.style.setProperty(d,p,x?"important":"")}}}(d,D,It(Rs(),o),p,y))}(y,y.data[Rs()],p,p[11],n,p[D+1]=function Um(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=_e(Ba(n)))),n}(r,o),d,D)}(n,r,null,!0),Ef}function Sy(n,r,o,d,p){let y=null;const D=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<D&&(y=r[x],d=Zg(d,y.hostAttrs,p),y!==n);)x++;return null!==n&&(o.directiveStylingLast=x),d}function Zg(n,r,o){const d=o?1:2;let p=-1;if(null!==r)for(let y=0;y<r.length;y++){const D=r[y];"number"==typeof D?p=D:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Si(n,D,!!o||r[++y]))}return void 0===n?null:n}function l_(n,r,o,d,p,y){const D=null===r;let x;for(;p>0;){const k=n[p],q=Array.isArray(k),te=q?k[1]:k,Ae=null===te;let tt=o[p+1];tt===Dr&&(tt=Ae?Se:void 0);let Ct=Ae?ki(tt,d):te===d?tt:void 0;if(q&&!Lp(Ct)&&(Ct=ki(k,d)),Lp(Ct)&&(x=Ct,D))return x;const Kt=n[p+1];p=D?Ha(Kt):hu(Kt)}if(null!==r){let k=y?r.residualClasses:r.residualStyles;null!=k&&(x=ki(k,d))}return x}function Lp(n){return void 0!==n}function My(n,r=""){const o=N(),d=b(),p=n+20,y=d.firstCreatePass?gu(d,p,1,r,null):d.data[p],D=o[p]=function jd(n,r){return Rr(n)?n.createText(r):n.createTextNode(r)}(o[11],r);cu(d,o,D,y),Dn(y,!1)}function Hc(n){return $m("",n,""),Hc}function $m(n,r,o){const d=N(),p=gh(d,n,r,o);return p!==Dr&&fl(d,Rs(),p),$m}function Ad(n,r,o,d,p){const y=N(),D=function Lc(n,r,o,d,p,y){const x=Ku(n,rs(),o,p);return Js(2),x?r+Fe(o)+d+Fe(p)+y:Dr}(y,n,r,o,d,p);return D!==Dr&&fl(y,Rs(),D),Ad}function Ry(n,r,o,d,p,y,D){const x=N(),k=Yo(x,n,r,o,d,p,y,D);return k!==Dr&&fl(x,Rs(),k),Ry}const wh=void 0;var Eu=["en",[["a","p"],["AM","PM"],wh],[["AM","PM"],wh,wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wh,"{1} 'at' {0}",wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bf(n){const o=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let So={};function Gm(n){const r=function $p(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Ta(r);if(o)return o;const d=r.split("-")[0];if(o=Ta(d),o)return o;if("en"===d)return Eu;throw new Error(`Missing locale data for the locale "${n}".`)}function Up(n){return Gm(n)[gr.PluralCase]}function Ta(n){return n in So||(So[n]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[n]),So[n]}var gr=(()=>((gr=gr||{})[gr.LocaleId=0]="LocaleId",gr[gr.DayPeriodsFormat=1]="DayPeriodsFormat",gr[gr.DayPeriodsStandalone=2]="DayPeriodsStandalone",gr[gr.DaysFormat=3]="DaysFormat",gr[gr.DaysStandalone=4]="DaysStandalone",gr[gr.MonthsFormat=5]="MonthsFormat",gr[gr.MonthsStandalone=6]="MonthsStandalone",gr[gr.Eras=7]="Eras",gr[gr.FirstDayOfWeek=8]="FirstDayOfWeek",gr[gr.WeekendRange=9]="WeekendRange",gr[gr.DateFormat=10]="DateFormat",gr[gr.TimeFormat=11]="TimeFormat",gr[gr.DateTimeFormat=12]="DateTimeFormat",gr[gr.NumberSymbols=13]="NumberSymbols",gr[gr.NumberFormats=14]="NumberFormats",gr[gr.CurrencyCode=15]="CurrencyCode",gr[gr.CurrencySymbol=16]="CurrencySymbol",gr[gr.CurrencyName=17]="CurrencyName",gr[gr.Currencies=18]="Currencies",gr[gr.Directionality=19]="Directionality",gr[gr.PluralCase=20]="PluralCase",gr[gr.ExtraData=21]="ExtraData",gr))();const Gc="en-US";let nv=Gc;function uv(n,r,o,d,p){if(n=ne(n),Array.isArray(n))for(let y=0;y<n.length;y++)uv(n[y],r,o,d,p);else{const y=b(),D=N();let x=Hu(n)?n:ne(n.provide),k=uh(n);const q=ie(),te=1048575&q.providerIndexes,Ae=q.directiveStart,tt=q.providerIndexes>>20;if(Hu(n)||!n.multi){const Ct=new Es(k,p,yf),Kt=dv(x,r,p?te:te+tt,Ae);-1===Kt?(Os(Na(q,D),y,x),cv(y,n,r.length),r.push(x),q.directiveStart++,q.directiveEnd++,p&&(q.providerIndexes+=1048576),o.push(Ct),D.push(Ct)):(o[Kt]=Ct,D[Kt]=Ct)}else{const Ct=dv(x,r,te+tt,Ae),Kt=dv(x,r,te,te+tt),_n=Ct>=0&&o[Ct],An=Kt>=0&&o[Kt];if(p&&!An||!p&&!_n){Os(Na(q,D),y,x);const Gn=function gb(n,r,o,d,p){const y=new Es(n,o,yf);return y.multi=[],y.index=r,y.componentProviders=0,p0(y,p,d&&!o),y}(p?pb:fb,o.length,p,d,k);!p&&An&&(o[Kt].providerFactory=Gn),cv(y,n,r.length,0),r.push(x),q.directiveStart++,q.directiveEnd++,p&&(q.providerIndexes+=1048576),o.push(Gn),D.push(Gn)}else cv(y,n,Ct>-1?Ct:Kt,p0(o[p?Kt:Ct],k,!p&&d));!p&&d&&An&&o[Kt].componentProviders++}}}function cv(n,r,o,d){const p=Hu(r),y=function cp(n){return!!n.useClass}(r);if(p||y){const k=(y?ne(r.useClass):r).prototype.ngOnDestroy;if(k){const q=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const te=q.indexOf(o);-1===te?q.push(o,[d,k]):q[te+1].push(d,k)}else q.push(o,k)}}}function p0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function dv(n,r,o,d){for(let p=o;p<d;p++)if(r[p]===n)return p;return-1}function fb(n,r,o,d){return hv(this.multi,[])}function pb(n,r,o,d){const p=this.multi;let y;if(this.providerFactory){const D=this.providerFactory.componentProviders,x=Pe(o,o[1],this.providerFactory.index,d);y=x.slice(0,D),hv(p,y);for(let k=D;k<x.length;k++)y.push(x[k])}else y=[],hv(p,y);return y}function hv(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function g0(n,r=[]){return o=>{o.providersResolver=(d,p)=>function hb(n,r,o){const d=b();if(d.firstCreatePass){const p=Rt(n);uv(o,d.data,d.blueprint,p,!0),uv(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class m0{}class _b{resolveComponentFactory(r){throw function yb(n){const r=Error(`No component factory found for ${_e(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let S_=(()=>{class n{}return n.NULL=new _b,n})();function vb(){return Qm(ie(),N())}function Qm(n,r){return new jy(Gt(n,r))}let jy=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=vb,n})();function Eb(n){return n instanceof jy?n.nativeElement:n}class _0{}let bb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ib(){const n=N(),o=Hn(ie().index,n);return function wb(n){return n[11]}(Ie(o)?o:n)}(),n})(),Cb=(()=>{class n{}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const E0=new v0("13.2.7"),fv={};function A_(n,r,o,d,p=!1){for(;null!==o;){const y=r[o.index];if(null!==y&&d.push($(y)),Le(y))for(let x=10;x<y.length;x++){const k=y[x],q=k[1].firstChild;null!==q&&A_(k[1],k,q,d)}const D=o.type;if(8&D)A_(n,r,o.child,d);else if(32&D){const x=rt(o,r);let k;for(;k=x();)d.push(k)}else if(16&D){const x=zh(r,o);if(Array.isArray(x))d.push(...x);else{const k=wn(r[16]);A_(k[1],k,x,d,!0)}}o=p?o.projectionNext:o.next}return d}class Hy{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return A_(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Le(r)){const o=r[8],d=o?o.indexOf(this):-1;d>-1&&(yc(r,d),Us(o,d))}this._attachedToViewContainer=!1}_c(this._lView[1],this._lView)}onDestroy(r){ym(this._lView[1],this._lView,null,r)}markForCheck(){ip(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ia(this._lView[1],this._lView,this.context)}checkNoChanges(){!function dy(n,r,o){Ms(!0);try{Ia(n,r,o)}finally{Ms(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aa(n,r){$a(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=r}}class Db extends Hy{constructor(r){super(r),this._view=r}detectChanges(){tf(this._view)}checkNoChanges(){!function op(n){Ms(!0);try{tf(n)}finally{Ms(!1)}}(this._view)}get context(){return null}}class b0 extends S_{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Or(r);return new pv(o,this.ngModule)}}function w0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class pv extends m0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function du(n){return n.map(Ic).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(r,o,d,p){const y=(p=p||this.ngModule)?function Sb(n,r){return{get:(o,d,p)=>{const y=n.get(o,fv,p);return y!==fv||d===fv?y:r.get(o,d,p)}}}(r,p.injector):r,D=y.get(_0,U),x=y.get(Cb,null),k=D.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",te=d?function mm(n,r,o){if(Rr(n))return n.selectRootElement(r,o===At.ShadowDom);let d="string"==typeof r?n.querySelector(r):r;return d.textContent="",d}(k,d,this.componentDef.encapsulation):Gd(D.createRenderer(null,this.componentDef),q,function Tb(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(q)),Ae=this.componentDef.onPush?576:528,tt=function hh(n,r){return{components:[],scheduler:n||mc,clean:Im,playerHandler:r||null,flags:0}}(),Ct=js(0,null,null,1,0,null,null,null,null,null),Kt=cd(null,Ct,tt,Ae,null,null,D,k,x,y);let _n,An;xa(Kt);try{const Gn=function lf(n,r,o,d,p,y){const D=o[1];o[20]=n;const k=gu(D,20,2,"#host",null),q=k.mergedAttrs=r.hostAttrs;null!==q&&(_d(k,q,!0),null!==n&&(qs(p,n,q),null!==k.classes&&Lf(p,n,k.classes),null!==k.styles&&Wd(p,n,k.styles)));const te=d.createRenderer(n,r),Ae=cd(o,th(r),null,r.onPush?64:16,o[20],k,d,te,y||null,null);return D.firstCreatePass&&(Os(Na(k,o),D,r.type),Rc(D,k),bm(k,o.length,1)),hl(o,Ae),o[20]=Ae}(te,this.componentDef,Kt,D,k);if(te)if(d)qs(k,te,["ng-version",E0.full]);else{const{attrs:Jt,classes:yr}=function am(n){const r=[],o=[];let d=1,p=2;for(;d<n.length;){let y=n[d];if("string"==typeof y)2===p?""!==y&&r.push(y,n[++d]):8===p&&o.push(y);else{if(!la(p))break;p=y}d++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Jt&&qs(k,te,Jt),yr&&yr.length>0&&Lf(k,te,yr.join(" "))}if(An=Kn(Ct,20),void 0!==o){const Jt=An.projection=[];for(let yr=0;yr<this.ngContentSelectors.length;yr++){const Ci=o[yr];Jt.push(null!=Ci?Array.from(Ci):null)}}_n=function wd(n,r,o,d,p){const y=o[1],D=function xc(n,r,o){const d=ie();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),tp(n,d,r,hd(n,r,1,null),o));const p=Pe(r,n,d.directiveStart,d);Zs(p,r);const y=Gt(d,r);return y&&Zs(y,r),p}(y,o,r);if(d.components.push(D),n[8]=D,p&&p.forEach(k=>k(D,r)),r.contentQueries){const k=ie();r.contentQueries(1,D,k.directiveStart)}const x=ie();return!y.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(No(x.index),Jf(o[1],x,0,x.directiveStart,x.directiveEnd,r),cg(r,D)),D}(Gn,this.componentDef,Kt,tt,[uf]),Bl(Ct,Kt,null)}finally{Cl()}return new xb(this.componentType,_n,Qm(An,Kt),Kt,An)}}class xb extends class mb{}{constructor(r,o,d,p,y){super(),this.location=d,this._rootLView=p,this._tNode=y,this.instance=o,this.hostView=this.changeDetectorRef=new Db(p),this.componentType=r}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Jm{}class I0{}const ey=new Map;class T0 extends Jm{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b0(this);const d=Lr(r);this._bootstrapComponents=ol(d.bootstrap),this._r3Injector=Ed(r,o,[{provide:Jm,useValue:this},{provide:S_,useValue:this.componentFactoryResolver}],_e(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=za.THROW_IF_NOT_FOUND,d=rn.Default){return r===za||r===Jm||r===vg?this:this._r3Injector.get(r,o,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class gv extends I0{constructor(r){super(),this.moduleType=r,null!==Lr(r)&&function Rb(n){const r=new Set;!function o(d){const p=Lr(d,!0),y=p.id;null!==y&&(function C0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${_e(r)} vs ${_e(r.name)}`)}(y,ey.get(y),d),ey.set(y,d));const D=ol(p.imports);for(const x of D)r.has(x)||(r.add(x),o(x))}(n)}(r)}create(r){return new T0(this.moduleType,r)}}function S0(n,r,o,d,p){return x0(N(),si(),n,r,o,d,p)}function Gy(n,r){const o=n[r];return o===Dr?void 0:o}function x0(n,r,o,d,p,y,D){const x=r+o;return Ku(n,x,p,y)?mu(n,x+2,D?d.call(D,p,y):d(p,y)):Gy(n,x+2)}function R0(n,r,o,d,p,y,D,x,k){const q=r+o;return function Ca(n,r,o,d,p,y){const D=Ku(n,r,o,d);return Ku(n,r+2,p,y)||D}(n,q,p,y,D,x)?mu(n,q+4,k?d.call(k,p,y,D,x):d(p,y,D,x)):Gy(n,q+4)}function P0(n,r){const o=b();let d;const p=n+20;o.firstCreatePass?(d=function $b(n,r){if(r)for(let o=r.length-1;o>=0;o--){const d=r[o];if(n===d.name)return d}}(r,o.pipeRegistry),o.data[p]=d,d.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(p,d.onDestroy)):d=o.data[p];const y=d.factory||(d.factory=Pi(d.type)),D=_r(yf);try{const x=Pa(!1),k=y();return Pa(x),function Pm(n,r,o,d){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=d}(o,N(),p,k),k}finally{_r(D)}}function N0(n,r,o,d){const p=n+20,y=N(),D=Er(y,p);return zy(y,p)?x0(y,si(),r,D.transform,o,d,D):D.transform(o,d)}function k0(n,r,o,d,p,y){const D=n+20,x=N(),k=Er(x,D);return zy(x,D)?R0(x,si(),r,k.transform,o,d,p,y,k):k.transform(o,d,p,y)}function zy(n,r){return n[1].data[r].pure}function mv(n){return r=>{setTimeout(n,void 0,r)}}const Ih=class zb extends c.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,d){var p,y,D;let x=r,k=o||(()=>null),q=d;if(r&&"object"==typeof r){const Ae=r;x=null===(p=Ae.next)||void 0===p?void 0:p.bind(Ae),k=null===(y=Ae.error)||void 0===y?void 0:y.bind(Ae),q=null===(D=Ae.complete)||void 0===D?void 0:D.bind(Ae)}this.__isAsync&&(k=mv(k),x&&(x=mv(x)),q&&(q=mv(q)));const te=super.subscribe({next:x,error:k,complete:q});return r instanceof X.w&&r.add(te),te}};function Wb(){return this._results[Fc()]()}class yv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Fc(),d=yv.prototype;d[o]||(d[o]=Wb)}get changes(){return this._changes||(this._changes=new Ih)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const d=this;d.dirty=!1;const p=ss(r);(this._changesDetected=!function La(n,r,o){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],y=r[d];if(o&&(p=o(p),y=o(y)),y!==p)return!1}return!0}(d._results,p,o))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yb,n})();const qb=Wy,Kb=class extends qb{constructor(r,o,d){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(r){const o=this._declarationTContainer.tViews,d=cd(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Q];return null!==y&&(d[Q]=y.createEmbeddedView(o)),Bl(o,d,r),new Hy(d)}};function Yb(){return x_(ie(),N())}function x_(n,r){return 4&n.type?new Kb(r,n,Qm(n,r)):null}let M_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zb,n})();function Zb(){return B0(ie(),N())}const Xb=M_,F0=class extends Xb{constructor(r,o,d){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=d}get element(){return Qm(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const r=vo(this._hostTNode,this._hostLView);if(Jo(r)){const o=Ni(r,this._hostLView),d=bs(r);return new Cr(o[1].data[d+8],o)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=L0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,d){const p=r.createEmbeddedView(o||{});return this.insert(p,d),p}createComponent(r,o,d,p,y){const D=r&&!function vr(n){return"function"==typeof n}(r);let x;if(D)x=o;else{const Ae=o||{};x=Ae.index,d=Ae.injector,p=Ae.projectableNodes,y=Ae.ngModuleRef}const k=D?r:new pv(Or(r)),q=d||this.parentInjector;if(!y&&null==k.ngModule){const tt=(D?q:this.parentInjector).get(Jm,null);tt&&(y=tt)}const te=k.create(q,p,void 0,y);return this.insert(te.hostView,x),te}insert(r,o){const d=r._lView,p=d[1];if(function Vr(n){return Le(n[3])}(d)){const te=this.indexOf(r);if(-1!==te)this.detach(te);else{const Ae=d[3],tt=new F0(Ae,Ae[6],Ae[3]);tt.detach(tt.indexOf(r))}}const y=this._adjustIndex(o),D=this._lContainer;!function sd(n,r,o,d){const p=10+d,y=o.length;d>0&&(o[p-1][4]=r),d<y-10?(r[4]=o[p],Rl(o,10+d,r)):(o.push(r),r[4]=null),r[3]=o;const D=r[17];null!==D&&o!==D&&function $h(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(D,r);const x=r[Q];null!==x&&x.insertView(n),r[2]|=128}(p,d,D,y);const x=cl(y,D),k=d[11],q=Ll(k,D[7]);return null!==q&&function Vh(n,r,o,d,p,y){d[0]=p,d[6]=r,$a(n,d,o,1,p,y)}(p,D[6],k,d,q,x),r.attachToViewContainerRef(),Rl(_v(D),y,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=L0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),d=yc(this._lContainer,o);d&&(Us(_v(this._lContainer),o),_c(d[1],d))}detach(r){const o=this._adjustIndex(r,-1),d=yc(this._lContainer,o);return d&&null!=Us(_v(this._lContainer),o)?new Hy(d):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function L0(n){return n[8]}function _v(n){return n[8]||(n[8]=[])}function B0(n,r){let o;const d=r[n.index];if(Le(d))o=d;else{let p;if(8&n.type)p=$(d);else{const y=r[11];p=y.createComment("");const D=Gt(n,r);uu(y,Ll(y,D),p,function Nf(n,r){return Rr(n)?n.nextSibling(r):r.nextSibling}(y,D),!1)}r[n.index]=o=rp(d,r,p,n),hl(r,o)}return new F0(o,n,r)}class vv{constructor(r){this.queryList=r,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ev{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const d=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let y=0;y<d;y++){const D=o.getByIndex(y);p.push(this.queries[D.indexInDeclarationView].clone())}return new Ev(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==q0(r,o).matches&&this.queries[o].setDirty()}}class V0{constructor(r,o,d=null){this.predicate=r,this.flags=o,this.read=d}}class bv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let d=0;d<this.length;d++){const p=null!==o?o.length:0,y=this.getByIndex(d).embeddedTView(r,p);y&&(y.indexInDeclarationView=d,null!==o?o.push(y):o=[y])}return null!==o?new bv(o):null}template(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class wv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new wv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const y=d[p];this.matchTNodeWithReadOption(r,o,ew(o,y)),this.matchTNodeWithReadOption(r,o,ue(o,r,y,!1,!1))}else d===Wy?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ue(o,r,d,!1,!1))}matchTNodeWithReadOption(r,o,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===jy||p===M_||p===Wy&&4&o.type)this.addMatch(o.index,-2);else{const y=ue(o,r,p,!1,!1);null!==y&&this.addMatch(o.index,y)}else this.addMatch(o.index,d)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function ew(n,r){const o=n.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===r)return o[d+1];return null}function nw(n,r,o,d){return-1===o?function tw(n,r){return 11&n.type?Qm(n,r):4&n.type?x_(n,r):null}(r,n):-2===o?function rw(n,r,o){return o===jy?Qm(r,n):o===Wy?x_(r,n):o===M_?B0(r,n):void 0}(n,r,d):Pe(n,n[1],o,r)}function U0(n,r,o,d){const p=r[Q].queries[d];if(null===p.matches){const y=n.data,D=o.matches,x=[];for(let k=0;k<D.length;k+=2){const q=D[k];x.push(q<0?null:nw(r,y[q],D[k+1],o.metadata.read))}p.matches=x}return p.matches}function Iv(n,r,o,d){const p=n.queries.getByIndex(o),y=p.matches;if(null!==y){const D=U0(n,r,p,o);for(let x=0;x<y.length;x+=2){const k=y[x];if(k>0)d.push(D[x/2]);else{const q=y[x+1],te=r[-k];for(let Ae=10;Ae<te.length;Ae++){const tt=te[Ae];tt[17]===tt[3]&&Iv(tt[1],tt,q,d)}if(null!==te[9]){const Ae=te[9];for(let tt=0;tt<Ae.length;tt++){const Ct=Ae[tt];Iv(Ct[1],Ct,q,d)}}}}}return d}function $0(n){const r=N(),o=b(),d=El();bl(d+1);const p=q0(o,d);if(n.dirty&&ir(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const y=p.crossesNgTemplate?Iv(o,r,d,[]):U0(o,r,p,d);n.reset(y,Eb),n.notifyOnChanges()}return!0}return!1}function j0(n,r,o){const d=b();d.firstCreatePass&&(W0(d,new V0(n,r,o),-1),2==(2&r)&&(d.staticViewQueries=!0)),z0(d,N(),r)}function H0(n,r,o,d){const p=b();if(p.firstCreatePass){const y=ie();W0(p,new V0(r,o,d),y.index),function sw(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(p,n),2==(2&o)&&(p.staticContentQueries=!0)}z0(p,N(),o)}function G0(){return function iw(n,r){return n[Q].queries[r].queryList}(N(),El())}function z0(n,r,o){const d=new yv(4==(4&o));ym(n,r,d,d.destroy),null===r[Q]&&(r[Q]=new Ev),r[Q].queries.push(new vv(d))}function W0(n,r,o){null===n.queries&&(n.queries=new bv),n.queries.track(new wv(r,o))}function q0(n,r){return n.queries.getByIndex(r)}function K0(n,r){return x_(n,r)}function P_(...n){}const dE=new ds("Application Initializer");let xv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=P_,this.reject=P_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(qg(y))o.push(y);else if(Kg(y)){const D=new Promise((x,k)=>{y.subscribe({complete:x,error:k})});o.push(D)}}Promise.all(o).then(()=>{d()}).catch(p=>{this.reject(p)}),0===o.length&&d(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ei(dE,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hE=new ds("AppId",{providedIn:"root",factory:function fE(){return`${Mv()}${Mv()}${Mv()}`}});function Mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pE=new ds("Platform Initializer"),gE=new ds("Platform ID"),mE=new ds("appBootstrapListener");let yE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Rv=new ds("LocaleId",{providedIn:"root",factory:()=>el(Rv,rn.Optional|rn.SkipSelf)||function ww(){return"undefined"!=typeof $localize&&$localize.locale||Gc}()}),Iw=new ds("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Dw=(()=>{class n{compileModuleSync(o){return new gv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),y=ol(Lr(o).declarations).reduce((D,x)=>{const k=Or(x);return k&&D.push(new pv(k)),D},[]);return new Cw(d,y)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sw=(()=>Promise.resolve(0))();function Ov(n){"undefined"==typeof Zone?Sw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xd{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ih(!1),this.onMicrotaskEmpty=new Ih(!1),this.onStable=new Ih(!1),this.onError=new Ih(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&o,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Aw(){let n=bn.requestAnimationFrame,r=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Rw(n){const r=()=>{!function Mw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Nv(n),n.isCheckStableRunning=!0,Pv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Nv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,p,y,D,x)=>{try{return _E(n),o.invokeTask(p,y,D,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),vE(n)}},onInvoke:(o,d,p,y,D,x,k)=>{try{return _E(n),o.invoke(p,y,D,x,k)}finally{n.shouldCoalesceRunChangeDetection&&r(),vE(n)}},onHasTask:(o,d,p,y)=>{o.hasTask(p,y),d===p&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,Nv(n),Pv(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,d,p,y)=>(o.handleError(p,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,d){return this._inner.run(r,o,d)}runTask(r,o,d,p){const y=this._inner,D=y.scheduleEventTask("NgZoneEvent: "+p,r,xw,P_,P_);try{return y.runTask(D,o,d)}finally{y.cancelTask(D)}}runGuarded(r,o,d){return this._inner.runGuarded(r,o,d)}runOutsideAngular(r){return this._outer.run(r)}}const xw={};function Pv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Nv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _E(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vE(n){n._nesting--,Pv(n)}class Ow{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ih,this.onMicrotaskEmpty=new Ih,this.onStable=new Ih,this.onError=new Ih}run(r,o,d){return r.apply(o,d)}runGuarded(r,o,d){return r.apply(o,d)}runOutsideAngular(r){return r()}runTask(r,o,d,p){return r.apply(o,d)}}let EE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xd.assertNotInAngularZone(),Ov(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ov(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,p){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==y),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:y,updateCb:p})}whenStable(o,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,d,p){return[]}}return n.\u0275fac=function(o){return new(o||n)(ei(xd))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),bE=(()=>{class n{constructor(){this._applications=new Map,kv.addToWindow(this)}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return kv.findTestabilityInTree(this,o,d)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class Pw{addToWindow(r){}findTestabilityInTree(r,o,d){return null}}function Nw(n){kv=n}let Md,kv=new Pw;const wE=new ds("AllowMultipleToken");class Lw{constructor(r,o){this.name=r,this.token=o}}function IE(n,r,o=[]){const d=`Platform: ${r}`,p=new ds(d);return(y=[])=>{let D=CE();if(!D||D.injector.get(wE,!1))if(n)n(o.concat(y).concat({provide:p,useValue:!0}));else{const x=o.concat(y).concat({provide:p,useValue:!0},{provide:lp,useValue:"platform"});!function Bw(n){if(Md&&!Md.destroyed&&!Md.injector.get(wE,!1))throw new ke(400,"");Md=n.get(DE);const r=n.get(pE,null);r&&r.forEach(o=>o())}(za.create({providers:x,name:d}))}return function Vw(n){const r=CE();if(!r)throw new ke(401,"");return r}()}}function CE(){return Md&&!Md.destroyed?Md:null}let DE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const x=function Uw(n,r){let o;return o="noop"===n?new Ow:("zone.js"===n?void 0:n)||new xd({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),k=[{provide:xd,useValue:x}];return x.run(()=>{const q=za.create({providers:k,parent:this.injector,name:o.moduleType.name}),te=o.create(q),Ae=te.injector.get(rd,null);if(!Ae)throw new ke(402,"");return x.runOutsideAngular(()=>{const tt=x.onError.subscribe({next:Ct=>{Ae.handleError(Ct)}});te.onDestroy(()=>{Lv(this._modules,te),tt.unsubscribe()})}),function $w(n,r,o){try{const d=o();return qg(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}(Ae,x,()=>{const tt=te.injector.get(xv);return tt.runInitializers(),tt.donePromise.then(()=>(function rv(n){at(n,"Expected localeId to be defined"),"string"==typeof n&&(nv=n.toLowerCase().replace(/_/g,"-"))}(te.injector.get(Rv,Gc)||Gc),this._moduleDoBootstrap(te),te))})})}bootstrapModule(o,d=[]){const p=TE({},d);return function kw(n,r,o){const d=new gv(o);return Promise.resolve(d)}(0,0,o).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(o){const d=o.injector.get(Fv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new ke(403,"");o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ei(za))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function TE(n,r){return Array.isArray(r)?r.reduce(TE,n):Object.assign(Object.assign({},n),r)}let Fv=(()=>{class n{constructor(o,d,p,y,D){this._zone=o,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=y,this._initStatus=D,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new K.y(q=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{q.next(this._stable),q.complete()})}),k=new K.y(q=>{let te;this._zone.runOutsideAngular(()=>{te=this._zone.onStable.subscribe(()=>{xd.assertNotInAngularZone(),Ov(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,q.next(!0))})})});const Ae=this._zone.onUnstable.subscribe(()=>{xd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{q.next(!1)}))});return()=>{te.unsubscribe(),Ae.unsubscribe()}});this.isStable=(0,Ve.T)(x,k.pipe((0,Oe.B)()))}bootstrap(o,d){if(!this._initStatus.done)throw new ke(405,"");let p;p=o instanceof m0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(p.componentType);const y=function Fw(n){return n.isBoundToModule}(p)?void 0:this._injector.get(Jm),x=p.create(za.NULL,[],d||p.selector,y),k=x.location.nativeElement,q=x.injector.get(EE,null),te=q&&x.injector.get(bE);return q&&te&&te.registerApplication(k,q),x.onDestroy(()=>{this.detachView(x.hostView),Lv(this.components,x),te&&te.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;Lv(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(mE,[]).concat(this._bootstrapListeners).forEach(p=>p(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(ei(xd),ei(za),ei(rd),ei(S_),ei(xv))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lv(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let AE=!0,xE=!1;function Hw(){return xE=!0,AE}function Gw(){if(xE)throw new Error("Cannot enable prod mode after platform setup.");AE=!1}let zw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();function Ww(n){return function qw(n,r,o){if(kt(n)&&!o){const d=Hn(n.index,r);return new Hy(d,d)}return 47&n.type?new Hy(r[16],r):null}(ie(),N(),16==(16&n))}class PE{constructor(){}supports(r){return df(r)}create(r){return new Jw(r)}}const Qw=(n,r)=>r;class Jw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Qw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,d=this._removalsHead,p=0,y=null;for(;o||d;){const D=!d||o&&o.currentIndex<kE(d,p,y)?o:d,x=kE(D,p,y),k=D.currentIndex;if(D===d)p--,d=d._nextRemoved;else if(o=o._next,null==D.previousIndex)p++;else{y||(y=[]);const q=x-p,te=k-p;if(q!=te){for(let tt=0;tt<q;tt++){const Ct=tt<y.length?y[tt]:y[tt]=0,Kt=Ct+tt;te<=Kt&&Kt<q&&(y[tt]=Ct+1)}y[D.previousIndex]=te-q}}x!==k&&r(D,x,k)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!df(r))throw new ke(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,y,D,o=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)y=r[x],D=this._trackByFn(x,y),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,y,D,x)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,D,x),d=!0),o=o._next}else p=0,function yy(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Fc()]();let d;for(;!(d=o.next()).done;)r(d.value)}}(r,x=>{D=this._trackByFn(p,x),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,x,D,p)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,D,p),d=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,d,p){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,y,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,y,p)):r=this._addAfter(new eI(o,d),y,p),r}_verifyReinsertion(r,o,d,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?r=this._reinsertAfter(y,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,y=r._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(r,o,d),this._addToMoves(r,d),r}_moveAfter(r,o,d){return this._unlink(r),this._insertAfter(r,o,d),this._addToMoves(r,d),r}_addAfter(r,o,d){return this._insertAfter(r,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,d){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new NE),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,d=r._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class eI{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const o=r._prevDup,d=r._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class NE{constructor(){this.map=new Map}put(r){const o=r.trackById;let d=this.map.get(o);d||(d=new tI,this.map.set(o,d)),d.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kE(n,r,o){const d=n.previousIndex;if(null===d)return d;let p=0;return o&&d<o.length&&(p=o[d]),d+r+p}class FE{constructor(){}supports(r){return r instanceof Map||hf(r)}create(){return new nI}}class nI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||hf(r)))throw new ke(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const y=this._getOrCreateRecordForKey(p,d);o=this._insertBeforeOrAppend(o,y)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const d=r._prev;return o._next=r,o._prev=d,r._prev=o,d&&(d._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const y=p._prev,D=p._next;return y&&(y._next=D),D&&(D._prev=y),p._next=null,p._prev=null,p}const d=new rI(r);return this._records.set(r,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(d=>o(r[d],d))}}class rI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LE(){return new jv([new PE])}let jv=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(null!=d){const p=d.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||LE()),deps:[[n,new Jl,new Xl]]}}find(o){const d=this.factories.find(p=>p.supports(o));if(null!=d)return d;throw new ke(901,"")}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:LE}),n})();function BE(){return new Hv([new FE])}let Hv=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(d){const p=d.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||BE()),deps:[[n,new Jl,new Xl]]}}find(o){const d=this.factories.find(y=>y.supports(o));if(d)return d;throw new ke(901,"")}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:BE}),n})();const oI=IE(null,"core",[{provide:gE,useValue:"unknown"},{provide:DE,deps:[za]},{provide:bE,deps:[]},{provide:yE,deps:[]}]);let aI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ei(Fv))},n.\u0275mod=$r({type:n}),n.\u0275inj=_t({}),n})()},4182:(Xt,lt,L)=>{"use strict";L.d(lt,{on:()=>ce,u5:()=>Jr,JU:()=>ne,a5:()=>nr,JJ:()=>qn,JL:()=>br,F:()=>ge,On:()=>En,UX:()=>ts,Q7:()=>U,_Y:()=>jn});var c=L(5e3),X=L(9808),K=L(2916),Ve=L(6688),Oe=L(4850),se=L(7830),Ce=L(5254);function be(H,V){return new K.y(F=>{const ae=H.length;if(0===ae)return void F.complete();const Lt=new Array(ae);let E=0,N=0;for(let b=0;b<ae;b++){const j=(0,Ce.D)(H[b]);let ie=!1;F.add(j.subscribe({next:Tt=>{ie||(ie=!0,N++),Lt[b]=Tt},error:Tt=>F.error(Tt),complete:()=>{E++,(E===ae||!ie)&&(N===ae&&F.next(V?V.reduce((Tt,sn,Dn)=>(Tt[sn]=Lt[Dn],Tt),{}):Lt),F.complete())}}))}})}let ee=(()=>{class H{constructor(F,ae){this._renderer=F,this._elementRef=ae,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(F,ae){this._renderer.setProperty(this._elementRef.nativeElement,F,ae)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return H.\u0275fac=function(F){return new(F||H)(c.Y36(c.Qsj),c.Y36(c.SBq))},H.\u0275dir=c.lG2({type:H}),H})(),me=(()=>{class H extends ee{}return H.\u0275fac=function(){let V;return function(ae){return(V||(V=c.n5z(H)))(ae||H)}}(),H.\u0275dir=c.lG2({type:H,features:[c.qOj]}),H})();const ne=new c.OlP("NgValueAccessor"),ke={provide:ne,useExisting:(0,c.Gpc)(()=>je),multi:!0},Fe=new c.OlP("CompositionEventMode");let je=(()=>{class H extends ee{constructor(F,ae,Lt){super(F,ae),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ee(){const H=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return H.\u0275fac=function(F){return new(F||H)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Fe,8))},H.\u0275dir=c.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,ae){1&F&&c.NdJ("input",function(E){return ae._handleInput(E.target.value)})("blur",function(){return ae.onTouched()})("compositionstart",function(){return ae._compositionStart()})("compositionend",function(E){return ae._compositionEnd(E.target.value)})},features:[c._Bn([ke]),c.qOj]}),H})();function ft(H){return null==H||0===H.length}const ut=new c.OlP("NgValidators"),wt=new c.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Me(H){return ft(H.value)?{required:!0}:null}function de(H){return ft(H.value)||xt.test(H.value)?null:{email:!0}}function St(H){return null}function jt(H){return null!=H}function dt(H){const V=(0,c.QGY)(H)?(0,Ce.D)(H):H;return(0,c.CqO)(V),V}function at(H){let V={};return H.forEach(F=>{V=null!=F?Object.assign(Object.assign({},V),F):V}),0===Object.keys(V).length?null:V}function Ge(H,V){return V.map(F=>F(H))}function gt(H){return H.map(V=>function st(H){return!H.validate}(V)?V:F=>V.validate(F))}function Xe(H){return null!=H?function Re(H){if(!H)return null;const V=H.filter(jt);return 0==V.length?null:function(F){return at(Ge(F,V))}}(gt(H)):null}function _t(H){return null!=H?function Vt(H){if(!H)return null;const V=H.filter(jt);return 0==V.length?null:function(F){return function _e(...H){if(1===H.length){const V=H[0];if((0,Ve.k)(V))return be(V,null);if((0,se.K)(V)&&Object.getPrototypeOf(V)===Object.prototype){const F=Object.keys(V);return be(F.map(ae=>V[ae]),F)}}if("function"==typeof H[H.length-1]){const V=H.pop();return be(H=1===H.length&&(0,Ve.k)(H[0])?H[0]:H,null).pipe((0,Oe.U)(F=>V(...F)))}return be(H,null)}(Ge(F,V).map(dt)).pipe((0,Oe.U)(at))}}(gt(H)):null}function Wt(H,V){return null===H?[V]:Array.isArray(H)?[...H,V]:[H,V]}function In(H){return H?Array.isArray(H)?H:[H]:[]}function cn(H,V){return Array.isArray(H)?H.includes(V):H===V}function On(H,V){const F=In(V);return In(H).forEach(Lt=>{cn(F,Lt)||F.push(Lt)}),F}function Sr(H,V){return In(V).filter(F=>!cn(H,F))}class zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Xe(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=_t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,F){return!!this.control&&this.control.hasError(V,F)}getError(V,F){return this.control?this.control.getError(V,F):null}}class nr extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rn extends zn{get formDirective(){return null}get path(){return null}}class Fr{constructor(V){this._cd=V}is(V){var F,ae,Lt;return"submitted"===V?!!(null===(F=this._cd)||void 0===F?void 0:F.submitted):!!(null===(Lt=null===(ae=this._cd)||void 0===ae?void 0:ae.control)||void 0===Lt?void 0:Lt[V])}}let qn=(()=>{class H extends Fr{constructor(F){super(F)}}return H.\u0275fac=function(F){return new(F||H)(c.Y36(nr,2))},H.\u0275dir=c.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,ae){2&F&&c.ekj("ng-untouched",ae.is("untouched"))("ng-touched",ae.is("touched"))("ng-pristine",ae.is("pristine"))("ng-dirty",ae.is("dirty"))("ng-valid",ae.is("valid"))("ng-invalid",ae.is("invalid"))("ng-pending",ae.is("pending"))},features:[c.qOj]}),H})(),br=(()=>{class H extends Fr{constructor(F){super(F)}}return H.\u0275fac=function(F){return new(F||H)(c.Y36(rn,10))},H.\u0275dir=c.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,ae){2&F&&c.ekj("ng-untouched",ae.is("untouched"))("ng-touched",ae.is("touched"))("ng-pristine",ae.is("pristine"))("ng-dirty",ae.is("dirty"))("ng-valid",ae.is("valid"))("ng-invalid",ae.is("invalid"))("ng-pending",ae.is("pending"))("ng-submitted",ae.is("submitted"))},features:[c.qOj]}),H})();function $e(H,V){gn(H,V),V.valueAccessor.writeValue(H.value),function mr(H,V){V.valueAccessor.registerOnChange(F=>{H._pendingValue=F,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&hr(H,V)})}(H,V),function $r(H,V){const F=(ae,Lt)=>{V.valueAccessor.writeValue(ae),Lt&&V.viewToModelUpdate(ae)};H.registerOnChange(F),V._registerOnDestroy(()=>{H._unregisterOnChange(F)})}(H,V),function Tn(H,V){V.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&hr(H,V),"submit"!==H.updateOn&&H.markAsTouched()})}(H,V),function Zt(H,V){if(V.valueAccessor.setDisabledState){const F=ae=>{V.valueAccessor.setDisabledState(ae)};H.registerOnDisabledChange(F),V._registerOnDestroy(()=>{H._unregisterOnDisabledChange(F)})}}(H,V)}function Yt(H,V){H.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(V)})}function gn(H,V){const F=function vn(H){return H._rawValidators}(H);null!==V.validator?H.setValidators(Wt(F,V.validator)):"function"==typeof F&&H.setValidators([F]);const ae=function Rn(H){return H._rawAsyncValidators}(H);null!==V.asyncValidator?H.setAsyncValidators(Wt(ae,V.asyncValidator)):"function"==typeof ae&&H.setAsyncValidators([ae]);const Lt=()=>H.updateValueAndValidity();Yt(V._rawValidators,Lt),Yt(V._rawAsyncValidators,Lt)}function hr(H,V){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function zi(H,V){const F=H.indexOf(V);F>-1&&H.splice(F,1)}const Br="VALID",ar="INVALID",Ir="PENDING",zt="DISABLED";function pe(H){return(li(H)?H.validators:H)||null}function xr(H){return Array.isArray(H)?Xe(H):H||null}function jr(H,V){return(li(V)?V.asyncValidators:H)||null}function lr(H){return Array.isArray(H)?_t(H):H||null}function li(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const ur=H=>H instanceof zr;function Fn(H){return(H=>H instanceof Ri)(H)?H.value:H.getRawValue()}function os(H,V){const F=ur(H),ae=H.controls;if(!(F?Object.keys(ae):ae).length)throw new c.vHH(1e3,"");if(!ae[V])throw new c.vHH(1001,"")}function Di(H,V){ur(H),H._forEachChild((ae,Lt)=>{if(void 0===V[Lt])throw new c.vHH(1002,"")})}class as{constructor(V,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=F,this._composedValidatorFn=xr(this._rawValidators),this._composedAsyncValidatorFn=lr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Br}get invalid(){return this.status===ar}get pending(){return this.status==Ir}get disabled(){return this.status===zt}get enabled(){return this.status!==zt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=xr(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=lr(V)}addValidators(V){this.setValidators(On(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(On(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Sr(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Sr(V,this._rawAsyncValidators))}hasValidator(V){return cn(this._rawValidators,V)}hasAsyncValidator(V){return cn(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=Ir,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const F=this._parentMarkedDirty(V.onlySelf);this.status=zt,this.errors=null,this._forEachChild(ae=>{ae.disable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:F})),this._onDisabledChange.forEach(ae=>ae(!0))}enable(V={}){const F=this._parentMarkedDirty(V.onlySelf);this.status=Br,this._forEachChild(ae=>{ae.enable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:F})),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Br||this.status===Ir)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zt:Br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=Ir,this._hasOwnPendingAsyncValidator=!0;const F=dt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,F={}){this.errors=V,this._updateControlsErrors(!1!==F.emitEvent)}get(V){return function un(H,V,F){if(null==V||(Array.isArray(V)||(V=V.split(F)),Array.isArray(V)&&0===V.length))return null;let ae=H;return V.forEach(Lt=>{ae=ur(ae)?ae.controls.hasOwnProperty(Lt)?ae.controls[Lt]:null:(H=>H instanceof Oi)(ae)&&ae.at(Lt)||null}),ae}(this,V,".")}getError(V,F){const ae=F?this.get(F):this;return ae&&ae.errors?ae.errors[V]:null}hasError(V,F){return!!this.getError(V,F)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?zt:this.errors?ar:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ir)?Ir:this._anyControlsHaveStatus(ar)?ar:Br}_anyControlsHaveStatus(V){return this._anyControls(F=>F.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_isBoxedValue(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){li(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ri extends as{constructor(V=null,F,ae){super(pe(F),jr(ae,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),li(F)&&F.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(V)?V.value:V)}setValue(V,F={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(V,F={}){this.setValue(V,F)}reset(V=this.defaultValue,F={}){this._applyFormState(V),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){zi(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){zi(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){this._isBoxedValue(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}}class zr extends as{constructor(V,F,ae){super(pe(F),jr(ae,F)),this.controls=V,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,F){return this.controls[V]?this.controls[V]:(this.controls[V]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(V,F,ae={}){this.registerControl(V,F),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(V,F={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(V,F,ae={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],F&&this.registerControl(V,F),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,F={}){Di(this,V),Object.keys(V).forEach(ae=>{os(this,ae),this.controls[ae].setValue(V[ae],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(V,F={}){null!=V&&(Object.keys(V).forEach(ae=>{this.controls[ae]&&this.controls[ae].patchValue(V[ae],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(V={},F={}){this._forEachChild((ae,Lt)=>{ae.reset(V[Lt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(V,F,ae)=>(V[ae]=Fn(F),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(F,ae)=>!!ae._syncPendingControls()||F);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(F=>{const ae=this.controls[F];ae&&V(ae,F)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const F of Object.keys(this.controls)){const ae=this.controls[F];if(this.contains(F)&&V(ae))return!0}return!1}_reduceValue(){return this._reduceChildren({},(V,F,ae)=>((F.enabled||this.disabled)&&(V[ae]=F.value),V))}_reduceChildren(V,F){let ae=V;return this._forEachChild((Lt,E)=>{ae=F(ae,Lt,E)}),ae}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Oi extends as{constructor(V,F,ae){super(pe(F),jr(ae,F)),this.controls=V,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[V]}push(V,F={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(V,F,ae={}){this.controls.splice(V,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(V,F={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(V,F,ae={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),F&&(this.controls.splice(V,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,F={}){Di(this,V),V.forEach((ae,Lt)=>{os(this,Lt),this.at(Lt).setValue(ae,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(V,F={}){null!=V&&(V.forEach((ae,Lt)=>{this.at(Lt)&&this.at(Lt).patchValue(ae,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(V=[],F={}){this._forEachChild((ae,Lt)=>{ae.reset(V[Lt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(V=>Fn(V))}clear(V={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_syncPendingControls(){let V=this.controls.reduce((F,ae)=>!!ae._syncPendingControls()||F,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((F,ae)=>{V(F,ae)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(F=>F.enabled&&V(F))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}}const gi={provide:rn,useExisting:(0,c.Gpc)(()=>ge)},Q=(()=>Promise.resolve(null))();let ge=(()=>{class H extends rn{constructor(F,ae){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new zr({},Xe(F),_t(ae))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){Q.then(()=>{const ae=this._findContainer(F.path);F.control=ae.registerControl(F.name,F.control),$e(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){Q.then(()=>{const ae=this._findContainer(F.path);ae&&ae.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){Q.then(()=>{const ae=this._findContainer(F.path),Lt=new zr({});(function xi(H,V){gn(H,V)})(Lt,F),ae.registerControl(F.name,Lt),Lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){Q.then(()=>{const ae=this._findContainer(F.path);ae&&ae.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ae){Q.then(()=>{this.form.get(F.path).setValue(ae)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,function pi(H,V){H._syncPendingControls(),V.forEach(F=>{const ae=F.control;"submit"===ae.updateOn&&ae._pendingChange&&(F.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return H.\u0275fac=function(F){return new(F||H)(c.Y36(ut,10),c.Y36(wt,10))},H.\u0275dir=c.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,ae){1&F&&c.NdJ("submit",function(E){return ae.onSubmit(E)})("reset",function(){return ae.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([gi]),c.qOj]}),H})();const Rt={provide:nr,useExisting:(0,c.Gpc)(()=>En)},dn=(()=>Promise.resolve(null))();let En=(()=>{class H extends nr{constructor(F,ae,Lt,E,N){super(),this._changeDetectorRef=N,this.control=new Ri,this._registered=!1,this.update=new c.vpe,this._parent=F,this._setValidators(ae),this._setAsyncValidators(Lt),this.valueAccessor=function Bi(H,V){if(!V)return null;let F,ae,Lt;return Array.isArray(V),V.forEach(E=>{E.constructor===je?F=E:function Lr(H){return Object.getPrototypeOf(H.constructor)===me}(E)?ae=E:Lt=E}),Lt||ae||F||null}(0,E)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const ae=F.name.previousValue;this.formDirective.removeControl({name:ae,path:this._getPath(ae)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),function Vn(H,V){if(!H.hasOwnProperty("model"))return!1;const F=H.model;return!!F.isFirstChange()||!Object.is(V,F.currentValue)}(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$e(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){dn.then(()=>{var ae;this.control.setValue(F,{emitViewToModelChange:!1}),null===(ae=this._changeDetectorRef)||void 0===ae||ae.markForCheck()})}_updateDisabled(F){const ae=F.isDisabled.currentValue,Lt=""===ae||ae&&"false"!==ae;dn.then(()=>{var E;Lt&&!this.control.disabled?this.control.disable():!Lt&&this.control.disabled&&this.control.enable(),null===(E=this._changeDetectorRef)||void 0===E||E.markForCheck()})}_getPath(F){return this._parent?function Pt(H,V){return[...V.path,H]}(F,this._parent):[F]}}return H.\u0275fac=function(F){return new(F||H)(c.Y36(rn,9),c.Y36(ut,10),c.Y36(wt,10),c.Y36(ne,10),c.Y36(c.sBO,8))},H.\u0275dir=c.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Rt]),c.qOj,c.TTD]}),H})(),jn=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275dir=c.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})(),Ze=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})();const fr=new c.OlP("NgModelWithFormControlWarning");let $i=(()=>{class H{constructor(){this._validator=St}ngOnChanges(F){if(this.inputName in F){const ae=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ae),this._validator=this._enabled?this.createValidator(ae):St,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275dir=c.lG2({type:H,features:[c.TTD]}),H})();const jo={provide:ut,useExisting:(0,c.Gpc)(()=>U),multi:!0};let U=(()=>{class H extends $i{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=F=>function ii(H){return null!=H&&!1!==H&&"false"!=`${H}`}(F),this.createValidator=F=>Me}enabled(F){return F}}return H.\u0275fac=function(){let V;return function(ae){return(V||(V=c.n5z(H)))(ae||H)}}(),H.\u0275dir=c.lG2({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,ae){2&F&&c.uIk("required",ae._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([jo]),c.qOj]}),H})();const $={provide:ut,useExisting:(0,c.Gpc)(()=>ce),multi:!0};let ce=(()=>{class H extends $i{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=F=>""===F||!0===F||"true"===F,this.createValidator=F=>de}enabled(F){return F}}return H.\u0275fac=function(){let V;return function(ae){return(V||(V=c.n5z(H)))(ae||H)}}(),H.\u0275dir=c.lG2({type:H,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([$]),c.qOj]}),H})(),Vr=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[Ze]]}),H})(),Jr=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[Vr]}),H})(),ts=(()=>{class H{static withConfig(F){return{ngModule:H,providers:[{provide:fr,useValue:F.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[Vr]}),H})()},7145:(Xt,lt,L)=>{"use strict";L.d(lt,{gz:()=>ot,y6:()=>cs,OD:()=>Sr,eC:()=>ln,wm:()=>qs,wN:()=>Ya,F0:()=>Es,rH:()=>Qo,Bz:()=>fa,Hx:()=>Xi});var c=L(5e3),X=L(2866),K=L(6688),Ve=L(826),Oe=L(448),se=L(3009);const Ce={};class be{constructor(S){this.resultSelector=S}call(S,w){return w.subscribe(new ee(S,this.resultSelector))}}class ee extends Ve.L{constructor(S,w){super(S),this.resultSelector=w,this.active=0,this.values=[],this.observables=[]}_next(S){this.values.push(Ce),this.observables.push(S)}_complete(){const S=this.observables,w=S.length;if(0===w)this.destination.complete();else{this.active=w,this.toRespond=w;for(let M=0;M<w;M++)this.add((0,Oe.D)(this,S[M],void 0,M))}}notifyComplete(S){0==(this.active-=1)&&this.destination.complete()}notifyNext(S,w,M){const z=this.values,Pe=this.toRespond?z[M]===Ce?--this.toRespond:this.toRespond:0;z[M]=w,0===Pe&&(this.resultSelector?this._tryResultSelector(z):this.destination.next(z.slice()))}_tryResultSelector(S){let w;try{w=this.resultSelector.apply(this,S)}catch(M){return void this.destination.error(M)}this.destination.next(w)}}var me=L(2916),ne=L(5254),fe=L(8896);function ze(R){return new me.y(S=>{let w;try{w=R()}catch(z){return void S.error(z)}return(w?(0,ne.D)(w):(0,fe.c)()).subscribe(S)})}var ke=L(1086),Ee=L(591),Fe=L(1737),je=L(4450),ft=L(1221),we=L(1762),ut=L(8929),wt=L(2198),xt=L(3489),nt=L(4231);function Et(R){return function(w){return 0===R?(0,fe.c)():w.lift(new ve(R))}}class ve{constructor(S){if(this.total=S,this.total<0)throw new nt.W}call(S,w){return w.subscribe(new Me(S,this.total))}}class Me extends xt.L{constructor(S,w){super(S),this.total=w,this.ring=new Array,this.count=0}_next(S){const w=this.ring,M=this.total,z=this.count++;w.length<M?w.push(S):w[z%M]=S}_complete(){const S=this.destination;let w=this.count;if(w>0){const M=this.count>=this.total?this.total:this.count,z=this.ring;for(let ue=0;ue<M;ue++){const Pe=w++%M;S.next(z[Pe])}}S.complete()}}var Te=L(4907),de=L(7314),ye=L(5379),Ye=L(2654);class jt{constructor(S){this.callback=S}call(S,w){return w.subscribe(new dt(S,this.callback))}}class dt extends xt.L{constructor(S,w){super(S),this.add(new Ye.w(w))}}var at=L(4850),Ge=L(7545),st=L(2986),gt=L(1059),Re=L(2014),Xe=L(7221),Vt=L(1406),_t=L(7224),Wt=L(1709),vn=L(2868),Rn=L(4327),In=L(9146),cn=L(9808);class On{constructor(S,w){this.id=S,this.url=w}}class Sr extends On{constructor(S,w,M="imperative",z=null){super(S,w),this.navigationTrigger=M,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zn extends On{constructor(S,w,M){super(S,w),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nr extends On{constructor(S,w,M){super(S,w),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rn extends On{constructor(S,w,M){super(S,w),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fr extends On{constructor(S,w,M,z){super(S,w),this.urlAfterRedirects=M,this.state=z}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends On{constructor(S,w,M,z){super(S,w),this.urlAfterRedirects=M,this.state=z}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _r extends On{constructor(S,w,M,z,ue){super(S,w),this.urlAfterRedirects=M,this.state=z,this.shouldActivate=ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qn extends On{constructor(S,w,M,z){super(S,w),this.urlAfterRedirects=M,this.state=z}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends On{constructor(S,w,M,z){super(S,w),this.urlAfterRedirects=M,this.state=z}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class We{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class De{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(S,w,M){this.routerEvent=S,this.position=w,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class Ln{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w[0]:w}return null}getAll(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function bn(R){return new Ln(R)}const Qr="ngNavigationCancelingError";function Ar(R){const S=Error("NavigationCancelingError: "+R);return S[Qr]=!0,S}function Se(R,S,w){const M=w.path.split("/");if(M.length>R.length||"full"===w.pathMatch&&(S.hasChildren()||M.length<R.length))return null;const z={};for(let ue=0;ue<M.length;ue++){const Pe=M[ue],Je=R[ue];if(Pe.startsWith(":"))z[Pe.substring(1)]=Je;else if(Pe!==Je.path)return null}return{consumed:R.slice(0,M.length),posParams:z}}function qe(R,S){const w=R?Object.keys(R):void 0,M=S?Object.keys(S):void 0;if(!w||!M||w.length!=M.length)return!1;let z;for(let ue=0;ue<w.length;ue++)if(z=w[ue],!Pt(R[z],S[z]))return!1;return!0}function Pt(R,S){if(Array.isArray(R)&&Array.isArray(S)){if(R.length!==S.length)return!1;const w=[...R].sort(),M=[...S].sort();return w.every((z,ue)=>M[ue]===z)}return R===S}function $e(R){return Array.prototype.concat.apply([],R)}function ct(R){return R.length>0?R[R.length-1]:null}function Zt(R,S){for(const w in R)R.hasOwnProperty(w)&&S(R[w],w)}function gn(R){return(0,c.CqO)(R)?R:(0,c.QGY)(R)?(0,ne.D)(Promise.resolve(R)):(0,ke.of)(R)}const mr={exact:function xi(R,S,w){if(!Bi(R.segments,S.segments)||!Or(R.segments,S.segments,w)||R.numberOfChildren!==S.numberOfChildren)return!1;for(const M in S.children)if(!R.children[M]||!xi(R.children[M],S.children[M],w))return!1;return!0},subset:Mi},Tn={exact:function $r(R,S){return qe(R,S)},subset:function fi(R,S){return Object.keys(S).length<=Object.keys(R).length&&Object.keys(S).every(w=>Pt(R[w],S[w]))},ignored:()=>!0};function hr(R,S,w){return mr[w.paths](R.root,S.root,w.matrixParams)&&Tn[w.queryParams](R.queryParams,S.queryParams)&&!("exact"===w.fragment&&R.fragment!==S.fragment)}function Mi(R,S,w){return Li(R,S,S.segments,w)}function Li(R,S,w,M){if(R.segments.length>w.length){const z=R.segments.slice(0,w.length);return!(!Bi(z,w)||S.hasChildren()||!Or(z,w,M))}if(R.segments.length===w.length){if(!Bi(R.segments,w)||!Or(R.segments,w,M))return!1;for(const z in S.children)if(!R.children[z]||!Mi(R.children[z],S.children[z],M))return!1;return!0}{const z=w.slice(0,R.segments.length),ue=w.slice(R.segments.length);return!!(Bi(R.segments,z)&&Or(R.segments,z,M)&&R.children[ln])&&Li(R.children[ln],S,ue,M)}}function Or(R,S,w){return S.every((M,z)=>Tn[w](R[z].parameters,M.parameters))}class Gr{constructor(S,w,M){this.root=S,this.queryParams=w,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return Br.serialize(this)}}class Vn{constructor(S,w){this.segments=S,this.children=w,this.parent=null,Zt(w,(M,z)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class Lr{constructor(S,w){this.path=S,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return li(this)}}function Bi(R,S){return R.length===S.length&&R.every((w,M)=>w.path===S[M].path)}class Xi{}class ri{parse(S){const w=new zr(S);return new Gr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(S){const w=`/${Ir(S.root,!0)}`,M=function ur(R){const S=Object.keys(R).map(w=>{const M=R[w];return Array.isArray(M)?M.map(z=>`${un(w)}=${un(z)}`).join("&"):`${un(w)}=${un(M)}`}).filter(w=>!!w);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${w}${M}${"string"==typeof S.fragment?`#${function pe(R){return encodeURI(R)}(S.fragment)}`:""}`}}const Br=new ri;function ar(R){return R.segments.map(S=>li(S)).join("/")}function Ir(R,S){if(!R.hasChildren())return ar(R);if(S){const w=R.children[ln]?Ir(R.children[ln],!1):"",M=[];return Zt(R.children,(z,ue)=>{ue!==ln&&M.push(`${ue}:${Ir(z,!1)}`)}),M.length>0?`${w}(${M.join("//")})`:w}{const w=function zi(R,S){let w=[];return Zt(R.children,(M,z)=>{z===ln&&(w=w.concat(S(M,z)))}),Zt(R.children,(M,z)=>{z!==ln&&(w=w.concat(S(M,z)))}),w}(R,(M,z)=>z===ln?[Ir(R.children[ln],!1)]:[`${z}:${Ir(M,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[ln]?`${ar(R)}/${w[0]}`:`${ar(R)}/(${w.join("//")})`}}function zt(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(R){return zt(R).replace(/%3B/gi,";")}function xr(R){return zt(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jr(R){return decodeURIComponent(R)}function lr(R){return jr(R.replace(/\+/g,"%20"))}function li(R){return`${xr(R.path)}${function Mr(R){return Object.keys(R).map(S=>`;${xr(S)}=${xr(R[S])}`).join("")}(R.parameters)}`}const Pr=/^[^\/()?;=#]+/;function Fn(R){const S=R.match(Pr);return S?S[0]:""}const os=/^[^=?&#]+/,as=/^[^&#]+/;class zr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(S.length>0||Object.keys(w).length>0)&&(M[ln]=new Vn(S,w)),M}parseSegment(){const S=Fn(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new Lr(jr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const w=Fn(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const z=Fn(this.remaining);z&&(M=z,this.capture(M))}S[jr(w)]=jr(M)}parseQueryParam(S){const w=function Di(R){const S=R.match(os);return S?S[0]:""}(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const Pe=function Ri(R){const S=R.match(as);return S?S[0]:""}(this.remaining);Pe&&(M=Pe,this.capture(M))}const z=lr(w),ue=lr(M);if(S.hasOwnProperty(z)){let Pe=S[z];Array.isArray(Pe)||(Pe=[Pe],S[z]=Pe),Pe.push(ue)}else S[z]=ue}parseParens(S){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Fn(this.remaining),z=this.remaining[M.length];if("/"!==z&&")"!==z&&";"!==z)throw new Error(`Cannot parse url '${this.url}'`);let ue;M.indexOf(":")>-1?(ue=M.substr(0,M.indexOf(":")),this.capture(ue),this.capture(":")):S&&(ue=ln);const Pe=this.parseChildren();w[ue]=1===Object.keys(Pe).length?Pe[ln]:new Vn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class Oi{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const w=this.pathFromRoot(S);return w.length>1?w[w.length-2]:null}children(S){const w=gi(S,this._root);return w?w.children.map(M=>M.value):[]}firstChild(S){const w=gi(S,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(S){const w=Q(S,this._root);return w.length<2?[]:w[w.length-2].children.map(z=>z.value).filter(z=>z!==S)}pathFromRoot(S){return Q(S,this._root).map(w=>w.value)}}function gi(R,S){if(R===S.value)return S;for(const w of S.children){const M=gi(R,w);if(M)return M}return null}function Q(R,S){if(R===S.value)return[S];for(const w of S.children){const M=Q(R,w);if(M.length)return M.unshift(S),M}return[]}class ge{constructor(S,w){this.value=S,this.children=w}toString(){return`TreeNode(${this.value})`}}function Qe(R){const S={};return R&&R.children.forEach(w=>S[w.value.outlet]=w),S}class ht extends Oi{constructor(S,w){super(S),this.snapshot=w,En(this,S)}toString(){return this.snapshot.toString()}}function Ie(R,S){const w=function Le(R,S){const Pe=new Rt([],{},{},"",{},ln,S,null,R.root,-1,{});return new dn("",new ge(Pe,[]))}(R,S),M=new Ee.X([new Lr("",{})]),z=new Ee.X({}),ue=new Ee.X({}),Pe=new Ee.X({}),Je=new Ee.X(""),Bt=new ot(M,z,Pe,Je,ue,ln,S,w.root);return Bt.snapshot=w.root,new ht(new ge(Bt,[]),w)}class ot{constructor(S,w,M,z,ue,Pe,Je,Bt){this.url=S,this.params=w,this.queryParams=M,this.fragment=z,this.data=ue,this.outlet=Pe,this.component=Je,this._futureSnapshot=Bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(S=>bn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(S=>bn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kt(R,S="emptyOnly"){const w=R.pathFromRoot;let M=0;if("always"!==S)for(M=w.length-1;M>=1;){const z=w[M],ue=w[M-1];if(z.routeConfig&&""===z.routeConfig.path)M--;else{if(ue.component)break;M--}}return function Mt(R){return R.reduce((S,w)=>({params:Object.assign(Object.assign({},S.params),w.params),data:Object.assign(Object.assign({},S.data),w.data),resolve:Object.assign(Object.assign({},S.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(M))}class Rt{constructor(S,w,M,z,ue,Pe,Je,Bt,xn,Cr,Bn){this.url=S,this.params=w,this.queryParams=M,this.fragment=z,this.data=ue,this.outlet=Pe,this.component=Je,this.routeConfig=Bt,this._urlSegment=xn,this._lastPathIndex=Cr,this._resolve=Bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dn extends Oi{constructor(S,w){super(w),this.url=S,En(this,w)}toString(){return jn(this._root)}}function En(R,S){S.value._routerState=R,S.children.forEach(w=>En(R,w))}function jn(R){const S=R.children.length>0?` { ${R.children.map(jn).join(", ")} } `:"";return`${R.value}${S}`}function Qn(R){if(R.snapshot){const S=R.snapshot,w=R._futureSnapshot;R.snapshot=w,qe(S.queryParams,w.queryParams)||R.queryParams.next(w.queryParams),S.fragment!==w.fragment&&R.fragment.next(w.fragment),qe(S.params,w.params)||R.params.next(w.params),function He(R,S){if(R.length!==S.length)return!1;for(let w=0;w<R.length;++w)if(!qe(R[w],S[w]))return!1;return!0}(S.url,w.url)||R.url.next(w.url),qe(S.data,w.data)||R.data.next(w.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function qr(R,S){const w=qe(R.params,S.params)&&function pi(R,S){return Bi(R,S)&&R.every((w,M)=>qe(w.parameters,S[M].parameters))}(R.url,S.url);return w&&!(!R.parent!=!S.parent)&&(!R.parent||qr(R.parent,S.parent))}function et(R,S,w){if(w&&R.shouldReuseRoute(S.value,w.value.snapshot)){const M=w.value;M._futureSnapshot=S.value;const z=function Ze(R,S,w){return S.children.map(M=>{for(const z of w.children)if(R.shouldReuseRoute(M.value,z.value.snapshot))return et(R,M,z);return et(R,M)})}(R,S,w);return new ge(M,z)}{if(R.shouldAttach(S.value)){const ue=R.retrieve(S.value);if(null!==ue){const Pe=ue.route;return Pe.value._futureSnapshot=S.value,Pe.children=S.children.map(Je=>et(R,Je)),Pe}}const M=function yt(R){return new ot(new Ee.X(R.url),new Ee.X(R.params),new Ee.X(R.queryParams),new Ee.X(R.fragment),new Ee.X(R.data),R.outlet,R.component,R)}(S.value),z=S.children.map(ue=>et(R,ue));return new ge(M,z)}}function en(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function yn(R){return"object"==typeof R&&null!=R&&R.outlets}function fr(R,S,w,M,z){let ue={};if(M&&Zt(M,(Je,Bt)=>{ue[Bt]=Array.isArray(Je)?Je.map(xn=>`${xn}`):`${Je}`}),R===S)return new Gr(w,ue,z);const Pe=ti(R,S,w);return new Gr(Pe,ue,z)}function ti(R,S,w){const M={};return Zt(R.children,(z,ue)=>{M[ue]=z===S?w:ti(z,S,w)}),new Vn(R.segments,M)}class pr{constructor(S,w,M){if(this.isAbsolute=S,this.numberOfDoubleDots=w,this.commands=M,S&&M.length>0&&en(M[0]))throw new Error("Root segment cannot have matrix parameters");const z=M.find(yn);if(z&&z!==ct(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ji{constructor(S,w,M){this.segmentGroup=S,this.processChildren=w,this.index=M}}function Ts(R,S,w){if(R||(R=new Vn([],{})),0===R.segments.length&&R.hasChildren())return zs(R,S,w);const M=function $o(R,S,w){let M=0,z=S;const ue={match:!1,pathIndex:0,commandIndex:0};for(;z<R.segments.length;){if(M>=w.length)return ue;const Pe=R.segments[z],Je=w[M];if(yn(Je))break;const Bt=`${Je}`,xn=M<w.length-1?w[M+1]:null;if(z>0&&void 0===Bt)break;if(Bt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!Ei(Bt,xn,Pe))return ue;M+=2}else{if(!Ei(Bt,{},Pe))return ue;M++}z++}return{match:!0,pathIndex:z,commandIndex:M}}(R,S,w),z=w.slice(M.commandIndex);if(M.match&&M.pathIndex<R.segments.length){const ue=new Vn(R.segments.slice(0,M.pathIndex),{});return ue.children[ln]=new Vn(R.segments.slice(M.pathIndex),R.children),zs(ue,0,z)}return M.match&&0===z.length?new Vn(R.segments,{}):M.match&&!R.hasChildren()?Pi(R,S,w):M.match?zs(R,0,z):Pi(R,S,w)}function zs(R,S,w){if(0===w.length)return new Vn(R.segments,{});{const M=function uo(R){return yn(R[0])?R[0].outlets:{[ln]:R}}(w),z={};return Zt(M,(ue,Pe)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(z[Pe]=Ts(R.children[Pe],S,ue))}),Zt(R.children,(ue,Pe)=>{void 0===M[Pe]&&(z[Pe]=ue)}),new Vn(R.segments,z)}}function Pi(R,S,w){const M=R.segments.slice(0,S);let z=0;for(;z<w.length;){const ue=w[z];if(yn(ue)){const Bt=Bs(ue.outlets);return new Vn(M,Bt)}if(0===z&&en(w[0])){M.push(new Lr(R.segments[S].path,ls(w[0]))),z++;continue}const Pe=yn(ue)?ue.outlets[ln]:`${ue}`,Je=z<w.length-1?w[z+1]:null;Pe&&Je&&en(Je)?(M.push(new Lr(Pe,ls(Je))),z+=2):(M.push(new Lr(Pe,{})),z++)}return new Vn(M,{})}function Bs(R){const S={};return Zt(R,(w,M)=>{"string"==typeof w&&(w=[w]),null!==w&&(S[M]=Pi(new Vn([],{}),0,w))}),S}function ls(R){const S={};return Zt(R,(w,M)=>S[M]=`${w}`),S}function Ei(R,S,w){return R==w.path&&qe(S,w.parameters)}class Mo{constructor(S,w,M,z){this.routeReuseStrategy=S,this.futureState=w,this.currState=M,this.forwardEvent=z}activate(S){const w=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,M,S),Qn(this.futureState.root),this.activateChildRoutes(w,M,S)}deactivateChildRoutes(S,w,M){const z=Qe(w);S.children.forEach(ue=>{const Pe=ue.value.outlet;this.deactivateRoutes(ue,z[Pe],M),delete z[Pe]}),Zt(z,(ue,Pe)=>{this.deactivateRouteAndItsChildren(ue,M)})}deactivateRoutes(S,w,M){const z=S.value,ue=w?w.value:null;if(z===ue)if(z.component){const Pe=M.getContext(z.outlet);Pe&&this.deactivateChildRoutes(S,w,Pe.children)}else this.deactivateChildRoutes(S,w,M);else ue&&this.deactivateRouteAndItsChildren(w,M)}deactivateRouteAndItsChildren(S,w){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,w):this.deactivateRouteAndOutlet(S,w)}detachAndStoreRouteSubtree(S,w){const M=w.getContext(S.value.outlet),z=M&&S.value.component?M.children:w,ue=Qe(S);for(const Pe of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Pe],z);if(M&&M.outlet){const Pe=M.outlet.detach(),Je=M.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Pe,route:S,contexts:Je})}}deactivateRouteAndOutlet(S,w){const M=w.getContext(S.value.outlet),z=M&&S.value.component?M.children:w,ue=Qe(S);for(const Pe of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Pe],z);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(S,w,M){const z=Qe(w);S.children.forEach(ue=>{this.activateRoutes(ue,z[ue.value.outlet],M),this.forwardEvent(new Ht(ue.value.snapshot))}),S.children.length&&this.forwardEvent(new qt(S.value.snapshot))}activateRoutes(S,w,M){const z=S.value,ue=w?w.value:null;if(Qn(z),z===ue)if(z.component){const Pe=M.getOrCreateContext(z.outlet);this.activateChildRoutes(S,w,Pe.children)}else this.activateChildRoutes(S,w,M);else if(z.component){const Pe=M.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Je=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Pe.children.onOutletReAttached(Je.contexts),Pe.attachRef=Je.componentRef,Pe.route=Je.route.value,Pe.outlet&&Pe.outlet.attach(Je.componentRef,Je.route.value),Qn(Je.route.value),this.activateChildRoutes(S,null,Pe.children)}else{const Je=function Ro(R){for(let S=R.parent;S;S=S.parent){const w=S.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(z.snapshot),Bt=Je?Je.module.componentFactoryResolver:null;Pe.attachRef=null,Pe.route=z,Pe.resolver=Bt,Pe.outlet&&Pe.outlet.activateWith(z,Bt),this.activateChildRoutes(S,null,Pe.children)}}else this.activateChildRoutes(S,null,M)}}class Ss{constructor(S,w){this.routes=S,this.module=w}}function Vi(R){return"function"==typeof R}function Ui(R){return R instanceof Gr}const $i=Symbol("INITIAL_VALUE");function xs(){return(0,Ge.w)(R=>function _e(...R){let S,w;return(0,X.K)(R[R.length-1])&&(w=R.pop()),"function"==typeof R[R.length-1]&&(S=R.pop()),1===R.length&&(0,K.k)(R[0])&&(R=R[0]),(0,se.n)(R,w).lift(new be(S))}(R.map(S=>S.pipe((0,st.q)(1),(0,gt.O)($i)))).pipe((0,Re.R)((S,w)=>{let M=!1;return w.reduce((z,ue,Pe)=>z!==$i?z:(ue===$i&&(M=!0),M||!1!==ue&&Pe!==w.length-1&&!Ui(ue)?z:ue),S)},$i),(0,wt.h)(S=>S!==$i),(0,at.U)(S=>Ui(S)?S:!0===S),(0,st.q)(1)))}class Vs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cs,this.attachRef=null}}class cs{constructor(){this.contexts=new Map}onChildOutletCreated(S,w){const M=this.getOrCreateContext(S);M.outlet=w,this.contexts.set(S,M)}onChildOutletDestroyed(S){const w=this.getContext(S);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let w=this.getContext(S);return w||(w=new Vs,this.contexts.set(S,w)),w}getContext(S){return this.contexts.get(S)||null}}let Kr=(()=>{class R{constructor(w,M,z,ue,Pe){this.parentContexts=w,this.location=M,this.resolver=z,this.changeDetector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=ue||ln,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,M){this.activated=w,this._activatedRoute=M,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Pe=(M=M||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),Je=this.parentContexts.getOrCreateContext(this.name).children,Bt=new jo(w,Je,this.location.injector);this.activated=this.location.createComponent(Pe,this.location.length,Bt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(w){return new(w||R)(c.Y36(cs),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},R.\u0275dir=c.lG2({type:R,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),R})();class jo{constructor(S,w,M){this.route=S,this.childContexts=w,this.parent=M}get(S,w){return S===ot?this.route:S===cs?this.childContexts:this.parent.get(S,w)}}let Rr=(()=>{class R{}return R.\u0275fac=function(w){return new(w||R)},R.\u0275cmp=c.Xpm({type:R,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,M){1&w&&c._UZ(0,"router-outlet")},directives:[Kr],encapsulation:2}),R})();function U(R,S=""){for(let w=0;w<R.length;w++){const M=R[w];re(M,$(S,M))}}function re(R,S){R.children&&U(R.children,S)}function $(R,S){return S?R||S.path?R&&!S.path?`${R}/`:!R&&S.path?S.path:`${R}/${S.path}`:"":R}function ce(R){const S=R.children&&R.children.map(ce),w=S?Object.assign(Object.assign({},R),{children:S}):Object.assign({},R);return!w.component&&(S||w.loadChildren)&&w.outlet&&w.outlet!==ln&&(w.component=Rr),w}function Ke(R){return R.outlet||ln}function It(R,S){const w=R.filter(M=>Ke(M)===S);return w.push(...R.filter(M=>Ke(M)!==S)),w}const Gt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cn(R,S,w){var M;if(""===S.path)return"full"===S.pathMatch&&(R.hasChildren()||w.length>0)?Object.assign({},Gt):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const ue=(S.matcher||Se)(w,R,S);if(!ue)return Object.assign({},Gt);const Pe={};Zt(ue.posParams,(Bt,xn)=>{Pe[xn]=Bt.path});const Je=ue.consumed.length>0?Object.assign(Object.assign({},Pe),ue.consumed[ue.consumed.length-1].parameters):Pe;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:w.slice(ue.consumed.length),parameters:Je,positionalParamSegments:null!==(M=ue.posParams)&&void 0!==M?M:{}}}function Kn(R,S,w,M,z="corrected"){if(w.length>0&&function ir(R,S,w){return w.some(M=>Vr(R,S,M)&&Ke(M)!==ln)}(R,w,M)){const Pe=new Vn(S,function Hn(R,S,w,M){const z={};z[ln]=M,M._sourceSegment=R,M._segmentIndexShift=S.length;for(const ue of w)if(""===ue.path&&Ke(ue)!==ln){const Pe=new Vn([],{});Pe._sourceSegment=R,Pe._segmentIndexShift=S.length,z[Ke(ue)]=Pe}return z}(R,S,M,new Vn(w,R.children)));return Pe._sourceSegment=R,Pe._segmentIndexShift=S.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===w.length&&function ci(R,S,w){return w.some(M=>Vr(R,S,M))}(R,w,M)){const Pe=new Vn(R.segments,function Er(R,S,w,M,z,ue){const Pe={};for(const Je of M)if(Vr(R,w,Je)&&!z[Ke(Je)]){const Bt=new Vn([],{});Bt._sourceSegment=R,Bt._segmentIndexShift="legacy"===ue?R.segments.length:S.length,Pe[Ke(Je)]=Bt}return Object.assign(Object.assign({},z),Pe)}(R,S,w,M,R.children,z));return Pe._sourceSegment=R,Pe._segmentIndexShift=S.length,{segmentGroup:Pe,slicedSegments:w}}const ue=new Vn(R.segments,R.children);return ue._sourceSegment=R,ue._segmentIndexShift=S.length,{segmentGroup:ue,slicedSegments:w}}function Vr(R,S,w){return(!(R.hasChildren()||S.length>0)||"full"!==w.pathMatch)&&""===w.path}function Jr(R,S,w,M){return!!(Ke(R)===M||M!==ln&&Vr(S,w,R))&&("**"===R.path||Cn(S,R,w).matched)}function ts(R,S,w){return 0===S.length&&!R.children[w]}class ns{constructor(S){this.segmentGroup=S||null}}class kn{constructor(S){this.urlTree=S}}function ji(R){return(0,Fe._)(new ns(R))}function H(R){return(0,Fe._)(new kn(R))}class Lt{constructor(S,w,M,z,ue){this.configLoader=w,this.urlSerializer=M,this.urlTree=z,this.config=ue,this.allowRedirects=!0,this.ngModule=S.get(c.h0i)}apply(){const S=Kn(this.urlTree.root,[],[],this.config).segmentGroup,w=new Vn(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,w,ln).pipe((0,at.U)(ue=>this.createUrlTree(N(ue),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Xe.K)(ue=>{if(ue instanceof kn)return this.allowRedirects=!1,this.match(ue.urlTree);throw ue instanceof ns?this.noMatchError(ue):ue}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,ln).pipe((0,at.U)(z=>this.createUrlTree(N(z),S.queryParams,S.fragment))).pipe((0,Xe.K)(z=>{throw z instanceof ns?this.noMatchError(z):z}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,w,M){const z=S.segments.length>0?new Vn([],{[ln]:S}):S;return new Gr(z,w,M)}expandSegmentGroup(S,w,M,z){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(S,w,M).pipe((0,at.U)(ue=>new Vn([],ue))):this.expandSegment(S,M,w,M.segments,z,!0)}expandChildren(S,w,M){const z=[];for(const ue of Object.keys(M.children))"primary"===ue?z.unshift(ue):z.push(ue);return(0,ne.D)(z).pipe((0,Vt.b)(ue=>{const Pe=M.children[ue],Je=It(w,ue);return this.expandSegmentGroup(S,Je,Pe,ue).pipe((0,at.U)(Bt=>({segment:Bt,outlet:ue})))}),(0,Re.R)((ue,Pe)=>(ue[Pe.outlet]=Pe.segment,ue),{}),function Ue(R,S){const w=arguments.length>=2;return M=>M.pipe(R?(0,wt.h)((z,ue)=>R(z,ue,M)):ye.y,Et(1),w?(0,de.d)(S):(0,Te.T)(()=>new je.K))}())}expandSegment(S,w,M,z,ue,Pe){return(0,ne.D)(M).pipe((0,Vt.b)(Je=>this.expandSegmentAgainstRoute(S,w,M,Je,z,ue,Pe).pipe((0,Xe.K)(xn=>{if(xn instanceof ns)return(0,ke.of)(null);throw xn}))),(0,_t.P)(Je=>!!Je),(0,Xe.K)((Je,Bt)=>{if(Je instanceof je.K||"EmptyError"===Je.name)return ts(w,z,ue)?(0,ke.of)(new Vn([],{})):ji(w);throw Je}))}expandSegmentAgainstRoute(S,w,M,z,ue,Pe,Je){return Jr(z,w,ue,Pe)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(S,w,z,ue,Pe):Je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,w,M,z,ue,Pe):ji(w):ji(w)}expandSegmentAgainstRouteUsingRedirect(S,w,M,z,ue,Pe){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,M,z,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,w,M,z,ue,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,w,M,z){const ue=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?H(ue):this.lineralizeSegments(M,ue).pipe((0,Wt.zg)(Pe=>{const Je=new Vn(Pe,{});return this.expandSegment(S,Je,w,Pe,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,w,M,z,ue,Pe){const{matched:Je,consumedSegments:Bt,remainingSegments:xn,positionalParamSegments:Cr}=Cn(w,z,ue);if(!Je)return ji(w);const Bn=this.applyRedirectCommands(Bt,z.redirectTo,Cr);return z.redirectTo.startsWith("/")?H(Bn):this.lineralizeSegments(z,Bn).pipe((0,Wt.zg)(Yr=>this.expandSegment(S,w,M,Yr.concat(xn),Pe,!1)))}matchSegmentAgainstRoute(S,w,M,z,ue){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,ke.of)(M._loadedConfig):this.configLoader.load(S.injector,M)).pipe((0,at.U)(Bn=>(M._loadedConfig=Bn,new Vn(z,{})))):(0,ke.of)(new Vn(z,{}));const{matched:Pe,consumedSegments:Je,remainingSegments:Bt}=Cn(w,M,z);return Pe?this.getChildConfig(S,M,z).pipe((0,Wt.zg)(Cr=>{const Bn=Cr.module,Yr=Cr.routes,{segmentGroup:Zr,slicedSegments:yi}=Kn(w,Je,Bt,Yr),eo=new Vn(Zr.segments,Zr.children);if(0===yi.length&&eo.hasChildren())return this.expandChildren(Bn,Yr,eo).pipe((0,at.U)(ma=>new Vn(Je,ma)));if(0===Yr.length&&0===yi.length)return(0,ke.of)(new Vn(Je,{}));const ga=Ke(M)===ue;return this.expandSegment(Bn,eo,Yr,yi,ga?ln:ue,!0).pipe((0,at.U)(to=>new Vn(Je.concat(to.segments),to.children)))})):ji(w)}getChildConfig(S,w,M){return w.children?(0,ke.of)(new Ss(w.children,S)):w.loadChildren?void 0!==w._loadedConfig?(0,ke.of)(w._loadedConfig):this.runCanLoadGuards(S.injector,w,M).pipe((0,Wt.zg)(z=>z?this.configLoader.load(S.injector,w).pipe((0,at.U)(ue=>(w._loadedConfig=ue,ue))):function F(R){return(0,Fe._)(Ar(`Cannot load children because the guard of the route "path: '${R.path}'" returned false`))}(w))):(0,ke.of)(new Ss([],S))}runCanLoadGuards(S,w,M){const z=w.canLoad;if(!z||0===z.length)return(0,ke.of)(!0);const ue=z.map(Pe=>{const Je=S.get(Pe);let Bt;if(function ui(R){return R&&Vi(R.canLoad)}(Je))Bt=Je.canLoad(w,M);else{if(!Vi(Je))throw new Error("Invalid CanLoad guard");Bt=Je(w,M)}return gn(Bt)});return(0,ke.of)(ue).pipe(xs(),(0,vn.b)(Pe=>{if(!Ui(Pe))return;const Je=Ar(`Redirecting to "${this.urlSerializer.serialize(Pe)}"`);throw Je.url=Pe,Je}),(0,at.U)(Pe=>!0===Pe))}lineralizeSegments(S,w){let M=[],z=w.root;for(;;){if(M=M.concat(z.segments),0===z.numberOfChildren)return(0,ke.of)(M);if(z.numberOfChildren>1||!z.children[ln])return(0,Fe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S.redirectTo}'`));z=z.children[ln]}}applyRedirectCommands(S,w,M){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),S,M)}applyRedirectCreatreUrlTree(S,w,M,z){const ue=this.createSegmentGroup(S,w.root,M,z);return new Gr(ue,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(S,w){const M={};return Zt(S,(z,ue)=>{if("string"==typeof z&&z.startsWith(":")){const Je=z.substring(1);M[ue]=w[Je]}else M[ue]=z}),M}createSegmentGroup(S,w,M,z){const ue=this.createSegments(S,w.segments,M,z);let Pe={};return Zt(w.children,(Je,Bt)=>{Pe[Bt]=this.createSegmentGroup(S,Je,M,z)}),new Vn(ue,Pe)}createSegments(S,w,M,z){return w.map(ue=>ue.path.startsWith(":")?this.findPosParam(S,ue,z):this.findOrReturn(ue,M))}findPosParam(S,w,M){const z=M[w.path.substring(1)];if(!z)throw new Error(`Cannot redirect to '${S}'. Cannot find '${w.path}'.`);return z}findOrReturn(S,w){let M=0;for(const z of w){if(z.path===S.path)return w.splice(M),z;M++}return S}}function N(R){const S={};for(const M of Object.keys(R.children)){const ue=N(R.children[M]);(ue.segments.length>0||ue.hasChildren())&&(S[M]=ue)}return function E(R){if(1===R.numberOfChildren&&R.children[ln]){const S=R.children[ln];return new Vn(R.segments.concat(S.segments),S.children)}return R}(new Vn(R.segments,S))}class j{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class ie{constructor(S,w){this.component=S,this.route=w}}function Tt(R,S,w){const M=R._root;return Zn(M,S?S._root:null,w,[M.value])}function Dn(R,S,w){const M=function cr(R){if(!R)return null;for(let S=R.parent;S;S=S.parent){const w=S.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(S);return(M?M.module.injector:w).get(R)}function Zn(R,S,w,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Qe(S);return R.children.forEach(Pe=>{(function Wi(R,S,w,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const ue=R.value,Pe=S?S.value:null,Je=w?w.getContext(R.value.outlet):null;if(Pe&&ue.routeConfig===Pe.routeConfig){const Bt=function qi(R,S,w){if("function"==typeof w)return w(R,S);switch(w){case"pathParamsChange":return!Bi(R.url,S.url);case"pathParamsOrQueryParamsChange":return!Bi(R.url,S.url)||!qe(R.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qr(R,S)||!qe(R.queryParams,S.queryParams);default:return!qr(R,S)}}(Pe,ue,ue.routeConfig.runGuardsAndResolvers);Bt?z.canActivateChecks.push(new j(M)):(ue.data=Pe.data,ue._resolvedData=Pe._resolvedData),Zn(R,S,ue.component?Je?Je.children:null:w,M,z),Bt&&Je&&Je.outlet&&Je.outlet.isActivated&&z.canDeactivateChecks.push(new ie(Je.outlet.component,Pe))}else Pe&&Ti(S,Je,z),z.canActivateChecks.push(new j(M)),Zn(R,null,ue.component?Je?Je.children:null:w,M,z)})(Pe,ue[Pe.value.outlet],w,M.concat([Pe.value]),z),delete ue[Pe.value.outlet]}),Zt(ue,(Pe,Je)=>Ti(Pe,w.getContext(Je),z)),z}function Ti(R,S,w){const M=Qe(R),z=R.value;Zt(M,(ue,Pe)=>{Ti(ue,z.component?S?S.children.getContext(Pe):null:S,w)}),w.canDeactivateChecks.push(new ie(z.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,z))}class Ki{}function mo(R){return new me.y(S=>S.error(R))}class vl{constructor(S,w,M,z,ue,Pe){this.rootComponentType=S,this.config=w,this.urlTree=M,this.url=z,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=Pe}recognize(){const S=Kn(this.urlTree.root,[],[],this.config.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,S,ln);if(null===w)return null;const M=new Rt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new ge(M,w),ue=new dn(this.url,z);return this.inheritParamsAndData(ue._root),ue}inheritParamsAndData(S){const w=S.value,M=kt(w,this.paramsInheritanceStrategy);w.params=Object.freeze(M.params),w.data=Object.freeze(M.data),S.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(S,w,M){return 0===w.segments.length&&w.hasChildren()?this.processChildren(S,w):this.processSegment(S,w,w.segments,M)}processChildren(S,w){const M=[];for(const ue of Object.keys(w.children)){const Pe=w.children[ue],Je=It(S,ue),Bt=this.processSegmentGroup(Je,Pe,ue);if(null===Bt)return null;M.push(...Bt)}const z=qa(M);return function El(R){R.sort((S,w)=>S.value.outlet===ln?-1:w.value.outlet===ln?1:S.value.outlet.localeCompare(w.value.outlet))}(z),z}processSegment(S,w,M,z){for(const ue of S){const Pe=this.processSegmentAgainstRoute(ue,w,M,z);if(null!==Pe)return Pe}return ts(w,M,z)?[]:null}processSegmentAgainstRoute(S,w,M,z){if(S.redirectTo||!Jr(S,w,M,z))return null;let ue,Pe=[],Je=[];if("**"===S.path){const Zr=M.length>0?ct(M).parameters:{};ue=new Rt(M,Zr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ws(S),Ke(S),S.component,S,Po(w),wl(w)+M.length,Il(S))}else{const Zr=Cn(w,S,M);if(!Zr.matched)return null;Pe=Zr.consumedSegments,Je=Zr.remainingSegments,ue=new Rt(Pe,Zr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ws(S),Ke(S),S.component,S,Po(w),wl(w)+Pe.length,Il(S))}const Bt=function bl(R){return R.children?R.children:R.loadChildren?R._loadedConfig.routes:[]}(S),{segmentGroup:xn,slicedSegments:Cr}=Kn(w,Pe,Je,Bt.filter(Zr=>void 0===Zr.redirectTo),this.relativeLinkResolution);if(0===Cr.length&&xn.hasChildren()){const Zr=this.processChildren(Bt,xn);return null===Zr?null:[new ge(ue,Zr)]}if(0===Bt.length&&0===Cr.length)return[new ge(ue,[])];const Bn=Ke(S)===z,Yr=this.processSegment(Bt,xn,Cr,Bn?ln:z);return null===Yr?null:[new ge(ue,Yr)]}}function Ju(R){const S=R.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function qa(R){const S=[],w=new Set;for(const M of R){if(!Ju(M)){S.push(M);continue}const z=S.find(ue=>M.value.routeConfig===ue.value.routeConfig);void 0!==z?(z.children.push(...M.children),w.add(z)):S.push(M)}for(const M of w){const z=qa(M.children);S.push(new ge(M.value,z))}return S.filter(M=>!w.has(M))}function Po(R){let S=R;for(;S._sourceSegment;)S=S._sourceSegment;return S}function wl(R){let S=R,w=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,w+=S._segmentIndexShift?S._segmentIndexShift:0;return w-1}function Ws(R){return R.data||{}}function Il(R){return R.resolve||{}}function No(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}function ec(R){return(0,Ge.w)(S=>{const w=R(S);return w?(0,ne.D)(w).pipe((0,at.U)(()=>S)):(0,ke.of)(S)})}class Ya{}class zc extends class tc{shouldDetach(S){return!1}store(S,w){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,w){return S.routeConfig===w.routeConfig}}{}const Ma=new c.OlP("ROUTES");class Za{constructor(S,w,M,z){this.injector=S,this.compiler=w,this.onLoadStartListener=M,this.onLoadEndListener=z}load(S,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const z=this.loadModuleFactory(w.loadChildren).pipe((0,at.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Pe=ue.create(S);return new Ss($e(Pe.injector.get(Ma,void 0,c.XFs.Self|c.XFs.Optional)).map(ce),Pe)}),(0,Xe.K)(ue=>{throw w._loader$=void 0,ue}));return w._loader$=new we.c(z,()=>new ut.xQ).pipe((0,Rn.x)()),w._loader$}loadModuleFactory(S){return gn(S()).pipe((0,Wt.zg)(w=>w instanceof c.YKP?(0,ke.of)(w):(0,ne.D)(this.compiler.compileModuleAsync(w))))}}class Xa{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,w){return S}}function ko(R){throw R}function Ra(R,S,w){return S.parse("/")}function fs(R,S){return(0,ke.of)(null)}const Sl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Es=(()=>{class R{constructor(w,M,z,ue,Pe,Je,Bt){this.rootComponentType=w,this.urlSerializer=M,this.rootContexts=z,this.location=ue,this.config=Bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ut.xQ,this.errorHandler=ko,this.malformedUriErrorHandler=Ra,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fs,afterPreactivation:fs},this.urlHandlingStrategy=new Xa,this.routeReuseStrategy=new zc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Pe.get(c.h0i),this.console=Pe.get(c.c2e);const Bn=Pe.get(c.R0b);this.isNgZoneEnabled=Bn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(Bt),this.currentUrlTree=function Mn(){return new Gr(new Vn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Za(Pe,Je,Yr=>this.triggerEvent(new mt(Yr)),Yr=>this.triggerEvent(new We(Yr))),this.routerState=Ie(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const M=this.events;return w.pipe((0,wt.h)(z=>0!==z.id),(0,at.U)(z=>Object.assign(Object.assign({},z),{extractedUrl:this.urlHandlingStrategy.extract(z.rawUrl)})),(0,Ge.w)(z=>{let ue=!1,Pe=!1;return(0,ke.of)(z).pipe((0,vn.b)(Je=>{this.currentNavigation={id:Je.id,initialUrl:Je.currentRawUrl,extractedUrl:Je.extractedUrl,trigger:Je.source,extras:Je.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ge.w)(Je=>{const Bt=this.browserUrlTree.toString(),xn=!this.navigated||Je.extractedUrl.toString()!==Bt||Bt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xn)&&this.urlHandlingStrategy.shouldProcessUrl(Je.rawUrl))return Oa(Je.source)&&(this.browserUrlTree=Je.extractedUrl),(0,ke.of)(Je).pipe((0,Ge.w)(Bn=>{const Yr=this.transitions.getValue();return M.next(new Sr(Bn.id,this.serializeUrl(Bn.extractedUrl),Bn.source,Bn.restoredState)),Yr!==this.transitions.getValue()?fe.E:Promise.resolve(Bn)}),function b(R,S,w,M){return(0,Ge.w)(z=>function ae(R,S,w,M,z){return new Lt(R,S,w,M,z).apply()}(R,S,w,z.extractedUrl,M).pipe((0,at.U)(ue=>Object.assign(Object.assign({},z),{urlAfterRedirects:ue}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vn.b)(Bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Bn.urlAfterRedirects})}),function Cl(R,S,w,M,z){return(0,Wt.zg)(ue=>function _l(R,S,w,M,z="emptyOnly",ue="legacy"){try{const Pe=new vl(R,S,w,M,z,ue).recognize();return null===Pe?mo(new Ki):(0,ke.of)(Pe)}catch(Pe){return mo(Pe)}}(R,S,ue.urlAfterRedirects,w(ue.urlAfterRedirects),M,z).pipe((0,at.U)(Pe=>Object.assign(Object.assign({},ue),{targetSnapshot:Pe}))))}(this.rootComponentType,this.config,Bn=>this.serializeUrl(Bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vn.b)(Bn=>{if("eager"===this.urlUpdateStrategy){if(!Bn.extras.skipLocationChange){const Zr=this.urlHandlingStrategy.merge(Bn.urlAfterRedirects,Bn.rawUrl);this.setBrowserUrl(Zr,Bn)}this.browserUrlTree=Bn.urlAfterRedirects}const Yr=new Fr(Bn.id,this.serializeUrl(Bn.extractedUrl),this.serializeUrl(Bn.urlAfterRedirects),Bn.targetSnapshot);M.next(Yr)}));if(xn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Yr,extractedUrl:Zr,source:yi,restoredState:eo,extras:ga}=Je,sr=new Sr(Yr,this.serializeUrl(Zr),yi,eo);M.next(sr);const to=Ie(Zr,this.rootComponentType).snapshot;return(0,ke.of)(Object.assign(Object.assign({},Je),{targetSnapshot:to,urlAfterRedirects:Zr,extras:Object.assign(Object.assign({},ga),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Je.rawUrl,Je.resolve(null),fe.E}),ec(Je=>{const{targetSnapshot:Bt,id:xn,extractedUrl:Cr,rawUrl:Bn,extras:{skipLocationChange:Yr,replaceUrl:Zr}}=Je;return this.hooks.beforePreactivation(Bt,{navigationId:xn,appliedUrlTree:Cr,rawUrlTree:Bn,skipLocationChange:!!Yr,replaceUrl:!!Zr})}),(0,vn.b)(Je=>{const Bt=new rr(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Bt)}),(0,at.U)(Je=>Object.assign(Object.assign({},Je),{guards:Tt(Je.targetSnapshot,Je.currentSnapshot,this.rootContexts)})),function Ms(R,S){return(0,Wt.zg)(w=>{const{targetSnapshot:M,currentSnapshot:z,guards:{canActivateChecks:ue,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===ue.length?(0,ke.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function si(R,S,w,M){return(0,ne.D)(R).pipe((0,Wt.zg)(z=>function Gl(R,S,w,M,z){const ue=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,ke.of)(!0);const Pe=ue.map(Je=>{const Bt=Dn(Je,S,z);let xn;if(function co(R){return R&&Vi(R.canDeactivate)}(Bt))xn=gn(Bt.canDeactivate(R,S,w,M));else{if(!Vi(Bt))throw new Error("Invalid CanDeactivate guard");xn=gn(Bt(R,S,w,M))}return xn.pipe((0,_t.P)())});return(0,ke.of)(Pe).pipe(xs())}(z.component,z.route,w,S,M)),(0,_t.P)(z=>!0!==z,!0))}(Pe,M,z,R).pipe((0,Wt.zg)(Je=>Je&&function us(R){return"boolean"==typeof R}(Je)?function rs(R,S,w,M){return(0,ne.D)(S).pipe((0,Vt.b)(z=>(0,ft.z)(function Oo(R,S){return null!==R&&S&&S(new De(R)),(0,ke.of)(!0)}(z.route.parent,M),function vs(R,S){return null!==R&&S&&S(new At(R)),(0,ke.of)(!0)}(z.route,M),function Aa(R,S,w){const M=S[S.length-1],ue=S.slice(0,S.length-1).reverse().map(Pe=>function sn(R){const S=R.routeConfig?R.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:R,guards:S}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>ze(()=>{const Je=Pe.guards.map(Bt=>{const xn=Dn(Bt,Pe.node,w);let Cr;if(function ii(R){return R&&Vi(R.canActivateChild)}(xn))Cr=gn(xn.canActivateChild(M,R));else{if(!Vi(xn))throw new Error("Invalid CanActivateChild guard");Cr=gn(xn(M,R))}return Cr.pipe((0,_t.P)())});return(0,ke.of)(Je).pipe(xs())}));return(0,ke.of)(ue).pipe(xs())}(R,z.path,w),function Js(R,S,w){const M=S.routeConfig?S.routeConfig.canActivate:null;if(!M||0===M.length)return(0,ke.of)(!0);const z=M.map(ue=>ze(()=>{const Pe=Dn(ue,S,w);let Je;if(function As(R){return R&&Vi(R.canActivate)}(Pe))Je=gn(Pe.canActivate(S,R));else{if(!Vi(Pe))throw new Error("Invalid CanActivate guard");Je=gn(Pe(S,R))}return Je.pipe((0,_t.P)())}));return(0,ke.of)(z).pipe(xs())}(R,z.route,w))),(0,_t.P)(z=>!0!==z,!0))}(M,ue,R,S):(0,ke.of)(Je)),(0,at.U)(Je=>Object.assign(Object.assign({},w),{guardsResult:Je})))})}(this.ngModule.injector,Je=>this.triggerEvent(Je)),(0,vn.b)(Je=>{if(Ui(Je.guardsResult)){const xn=Ar(`Redirecting to "${this.serializeUrl(Je.guardsResult)}"`);throw xn.url=Je.guardsResult,xn}const Bt=new _r(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot,!!Je.guardsResult);this.triggerEvent(Bt)}),(0,wt.h)(Je=>!!Je.guardsResult||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,""),!1)),ec(Je=>{if(Je.guards.canActivateChecks.length)return(0,ke.of)(Je).pipe((0,vn.b)(Bt=>{const xn=new qn(Bt.id,this.serializeUrl(Bt.extractedUrl),this.serializeUrl(Bt.urlAfterRedirects),Bt.targetSnapshot);this.triggerEvent(xn)}),(0,Ge.w)(Bt=>{let xn=!1;return(0,ke.of)(Bt).pipe(function Dl(R,S){return(0,Wt.zg)(w=>{const{targetSnapshot:M,guards:{canActivateChecks:z}}=w;if(!z.length)return(0,ke.of)(w);let ue=0;return(0,ne.D)(z).pipe((0,Vt.b)(Pe=>function Ka(R,S,w,M){return function Rs(R,S,w,M){const z=No(R);if(0===z.length)return(0,ke.of)({});const ue={};return(0,ne.D)(z).pipe((0,Wt.zg)(Pe=>function Hi(R,S,w,M){const z=Dn(R,S,M);return gn(z.resolve?z.resolve(S,w):z(S,w))}(R[Pe],S,w,M).pipe((0,vn.b)(Je=>{ue[Pe]=Je}))),Et(1),(0,Wt.zg)(()=>No(ue).length===z.length?(0,ke.of)(ue):fe.E))}(R._resolve,R,S,M).pipe((0,at.U)(ue=>(R._resolvedData=ue,R.data=Object.assign(Object.assign({},R.data),kt(R,w).resolve),null)))}(Pe.route,M,R,S)),(0,vn.b)(()=>ue++),Et(1),(0,Wt.zg)(Pe=>ue===z.length?(0,ke.of)(w):fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vn.b)({next:()=>xn=!0,complete:()=>{xn||(this.restoreHistory(Bt),this.cancelNavigationTransition(Bt,"At least one route resolver didn't emit any value."))}}))}),(0,vn.b)(Bt=>{const xn=new br(Bt.id,this.serializeUrl(Bt.extractedUrl),this.serializeUrl(Bt.urlAfterRedirects),Bt.targetSnapshot);this.triggerEvent(xn)}))}),ec(Je=>{const{targetSnapshot:Bt,id:xn,extractedUrl:Cr,rawUrl:Bn,extras:{skipLocationChange:Yr,replaceUrl:Zr}}=Je;return this.hooks.afterPreactivation(Bt,{navigationId:xn,appliedUrlTree:Cr,rawUrlTree:Bn,skipLocationChange:!!Yr,replaceUrl:!!Zr})}),(0,at.U)(Je=>{const Bt=function Qi(R,S,w){const M=et(R,S._root,w?w._root:void 0);return new ht(M,S)}(this.routeReuseStrategy,Je.targetSnapshot,Je.currentRouterState);return Object.assign(Object.assign({},Je),{targetRouterState:Bt})}),(0,vn.b)(Je=>{this.currentUrlTree=Je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Je.urlAfterRedirects,Je.rawUrl),this.routerState=Je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Je),this.browserUrlTree=Je.urlAfterRedirects)}),((R,S,w)=>(0,at.U)(M=>(new Mo(S,M.targetRouterState,M.currentRouterState,w).activate(R),M)))(this.rootContexts,this.routeReuseStrategy,Je=>this.triggerEvent(Je)),(0,vn.b)({next(){ue=!0},complete(){ue=!0}}),function St(R){return S=>S.lift(new jt(R))}(()=>{var Je;ue||Pe||this.cancelNavigationTransition(z,`Navigation ID ${z.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Je=this.currentNavigation)||void 0===Je?void 0:Je.id)===z.id&&(this.currentNavigation=null)}),(0,Xe.K)(Je=>{if(Pe=!0,function wr(R){return R&&R[Qr]}(Je)){const Bt=Ui(Je.url);Bt||(this.navigated=!0,this.restoreHistory(z,!0));const xn=new nr(z.id,this.serializeUrl(z.extractedUrl),Je.message);M.next(xn),Bt?setTimeout(()=>{const Cr=this.urlHandlingStrategy.merge(Je.url,this.rawUrlTree),Bn={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Oa(z.source)};this.scheduleNavigation(Cr,"imperative",null,Bn,{resolve:z.resolve,reject:z.reject,promise:z.promise})},0):z.resolve(!1)}else{this.restoreHistory(z,!0);const Bt=new rn(z.id,this.serializeUrl(z.extractedUrl),Je);M.next(Bt);try{z.resolve(this.errorHandler(Je))}catch(xn){z.reject(xn)}}return fe.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const M="popstate"===w.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var z;const ue={replaceUrl:!0},Pe=(null===(z=w.state)||void 0===z?void 0:z.navigationId)?w.state:null;if(Pe){const Bt=Object.assign({},Pe);delete Bt.navigationId,delete Bt.\u0275routerPageId,0!==Object.keys(Bt).length&&(ue.state=Bt)}const Je=this.parseUrl(w.url);this.scheduleNavigation(Je,M,Pe,ue)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){U(w),this.config=w.map(ce),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,M={}){const{relativeTo:z,queryParams:ue,fragment:Pe,queryParamsHandling:Je,preserveFragment:Bt}=M,xn=z||this.routerState.root,Cr=Bt?this.currentUrlTree.fragment:Pe;let Bn=null;switch(Je){case"merge":Bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ue);break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=ue||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),function $t(R,S,w,M,z){if(0===w.length)return fr(S.root,S.root,S.root,M,z);const ue=function Qs(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new pr(!0,0,R);let S=0,w=!1;const M=R.reduce((z,ue,Pe)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const Je={};return Zt(ue.outlets,(Bt,xn)=>{Je[xn]="string"==typeof Bt?Bt.split("/"):Bt}),[...z,{outlets:Je}]}if(ue.segmentPath)return[...z,ue.segmentPath]}return"string"!=typeof ue?[...z,ue]:0===Pe?(ue.split("/").forEach((Je,Bt)=>{0==Bt&&"."===Je||(0==Bt&&""===Je?w=!0:".."===Je?S++:""!=Je&&z.push(Je))}),z):[...z,ue]},[]);return new pr(w,S,M)}(w);if(ue.toRoot())return fr(S.root,S.root,new Vn([],{}),M,z);const Pe=function es(R,S,w){if(R.isAbsolute)return new Ji(S.root,!0,0);if(-1===w.snapshot._lastPathIndex){const ue=w.snapshot._urlSegment;return new Ji(ue,ue===S.root,0)}const M=en(R.commands[0])?0:1;return function xo(R,S,w){let M=R,z=S,ue=w;for(;ue>z;){if(ue-=z,M=M.parent,!M)throw new Error("Invalid number of '../'");z=M.segments.length}return new Ji(M,!1,z-ue)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+M,R.numberOfDoubleDots)}(ue,S,R),Je=Pe.processChildren?zs(Pe.segmentGroup,Pe.index,ue.commands):Ts(Pe.segmentGroup,Pe.index,ue.commands);return fr(S.root,Pe.segmentGroup,Je,M,z)}(xn,this.currentUrlTree,w,Bn,null!=Cr?Cr:null)}navigateByUrl(w,M={skipLocationChange:!1}){const z=Ui(w)?w:this.parseUrl(w),ue=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ue,"imperative",null,M)}navigate(w,M={skipLocationChange:!1}){return function Xo(R){for(let S=0;S<R.length;S++){const w=R[S];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${S}`)}}(w),this.navigateByUrl(this.createUrlTree(w,M),M)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let M;try{M=this.urlSerializer.parse(w)}catch(z){M=this.malformedUriErrorHandler(z,this.urlSerializer,w)}return M}isActive(w,M){let z;if(z=!0===M?Object.assign({},Sl):!1===M?Object.assign({},Zo):M,Ui(w))return hr(this.currentUrlTree,w,z);const ue=this.parseUrl(w);return hr(this.currentUrlTree,ue,z)}removeEmptyProps(w){return Object.keys(w).reduce((M,z)=>{const ue=w[z];return null!=ue&&(M[z]=ue),M},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new zn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,M,z,ue,Pe){var Je,Bt;if(this.disposed)return Promise.resolve(!1);let xn,Cr,Bn;Pe?(xn=Pe.resolve,Cr=Pe.reject,Bn=Pe.promise):Bn=new Promise((yi,eo)=>{xn=yi,Cr=eo});const Yr=++this.navigationId;let Zr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(z=this.location.getState()),Zr=z&&z.\u0275routerPageId?z.\u0275routerPageId:ue.replaceUrl||ue.skipLocationChange?null!==(Je=this.browserPageId)&&void 0!==Je?Je:0:(null!==(Bt=this.browserPageId)&&void 0!==Bt?Bt:0)+1):Zr=0,this.setTransition({id:Yr,targetPageId:Zr,source:M,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:ue,resolve:xn,reject:Cr,promise:Bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bn.catch(yi=>Promise.reject(yi))}setBrowserUrl(w,M){const z=this.urlSerializer.serialize(w),ue=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(z)||M.extras.replaceUrl?this.location.replaceState(z,"",ue):this.location.go(z,"",ue)}restoreHistory(w,M=!1){var z,ue;if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)||0===Pe?this.currentUrlTree===(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)&&0===Pe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,M){const z=new nr(w.id,this.serializeUrl(w.extractedUrl),M);this.triggerEvent(z),w.resolve(!1)}generateNgRouterState(w,M){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:M}:{navigationId:w}}}return R.\u0275fac=function(w){c.$Z()},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();function Oa(R){return"imperative"!==R}let Qo=(()=>{class R{constructor(w,M,z,ue,Pe){this.router=w,this.route=M,this.tabIndexAttribute=z,this.renderer=ue,this.el=Pe,this.commands=null,this.onChanges=new ut.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const M=this.renderer,z=this.el.nativeElement;null!==w?M.setAttribute(z,"tabindex",w):M.removeAttribute(z,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:ha(this.skipLocationChange),replaceUrl:ha(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ha(this.preserveFragment)})}}return R.\u0275fac=function(w){return new(w||R)(c.Y36(Es),c.Y36(ot),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},R.\u0275dir=c.lG2({type:R,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,M){1&w&&c.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),R})();function ha(R){return""===R||!!R}class Wc{}class qs{preload(S,w){return w().pipe((0,Xe.K)(()=>(0,ke.of)(null)))}}class Fo{preload(S,w){return(0,ke.of)(null)}}let wu=(()=>{class R{constructor(w,M,z,ue){this.router=w,this.injector=z,this.preloadingStrategy=ue,this.loader=new Za(z,M,Bt=>w.triggerEvent(new mt(Bt)),Bt=>w.triggerEvent(new We(Bt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(w=>w instanceof zn),(0,Vt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(c.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,M){const z=[];for(const ue of M)if(ue.loadChildren&&!ue.canLoad&&ue._loadedConfig){const Pe=ue._loadedConfig;z.push(this.processRoutes(Pe.module,Pe.routes))}else ue.loadChildren&&!ue.canLoad?z.push(this.preloadConfig(w,ue)):ue.children&&z.push(this.processRoutes(w,ue.children));return(0,ne.D)(z).pipe((0,In.J)(),(0,at.U)(ue=>{}))}preloadConfig(w,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,ke.of)(M._loadedConfig):this.loader.load(w.injector,M)).pipe((0,Wt.zg)(ue=>(M._loadedConfig=ue,this.processRoutes(ue.module,ue.routes)))))}}return R.\u0275fac=function(w){return new(w||R)(c.LFG(Es),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Wc))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})(),Ks=(()=>{class R{constructor(w,M,z={}){this.router=w,this.viewportScroller=M,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof zn&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof an&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,M){this.router.triggerEvent(new an(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return R.\u0275fac=function(w){c.$Z()},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();const Jo=new c.OlP("ROUTER_CONFIGURATION"),bs=new c.OlP("ROUTER_FORROOT_GUARD"),xl=[cn.Ye,{provide:Xi,useClass:ri},{provide:Es,useFactory:function ea(R,S,w,M,z,ue,Pe={},Je,Bt){const xn=new Es(null,R,S,w,M,z,$e(ue));return Je&&(xn.urlHandlingStrategy=Je),Bt&&(xn.routeReuseStrategy=Bt),function Ml(R,S){R.errorHandler&&(S.errorHandler=R.errorHandler),R.malformedUriErrorHandler&&(S.malformedUriErrorHandler=R.malformedUriErrorHandler),R.onSameUrlNavigation&&(S.onSameUrlNavigation=R.onSameUrlNavigation),R.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=R.paramsInheritanceStrategy),R.relativeLinkResolution&&(S.relativeLinkResolution=R.relativeLinkResolution),R.urlUpdateStrategy&&(S.urlUpdateStrategy=R.urlUpdateStrategy),R.canceledNavigationResolution&&(S.canceledNavigationResolution=R.canceledNavigationResolution)}(Pe,xn),Pe.enableTracing&&xn.events.subscribe(Cr=>{var Bn,Yr;null===(Bn=console.group)||void 0===Bn||Bn.call(console,`Router Event: ${Cr.constructor.name}`),console.log(Cr.toString()),console.log(Cr),null===(Yr=console.groupEnd)||void 0===Yr||Yr.call(console)}),xn},deps:[Xi,cs,cn.Ye,c.zs3,c.Sil,Ma,Jo,[class Tl{},new c.FiY],[Ya,new c.FiY]]},cs,{provide:ot,useFactory:function Na(R){return R.routerState.root},deps:[Es]},wu,Fo,qs,{provide:Jo,useValue:{enableTracing:!1}}];function Ni(){return new c.PXZ("Router",Es)}let fa=(()=>{class R{constructor(w,M){}static forRoot(w,M){return{ngModule:R,providers:[xl,pa(w),{provide:bs,useFactory:ps,deps:[[Es,new c.FiY,new c.tp0]]},{provide:Jo,useValue:M||{}},{provide:cn.S$,useFactory:Iu,deps:[cn.lw,[new c.tBr(cn.mr),new c.FiY],Jo]},{provide:Ks,useFactory:Pa,deps:[Es,cn.EM,Jo]},{provide:Wc,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:Fo},{provide:c.PXZ,multi:!0,useFactory:Ni},[tn,{provide:c.ip1,multi:!0,useFactory:mi,deps:[tn]},{provide:Os,useFactory:vo,deps:[tn]},{provide:c.tb,multi:!0,useExisting:Os}]]}}static forChild(w){return{ngModule:R,providers:[pa(w)]}}}return R.\u0275fac=function(w){return new(w||R)(c.LFG(bs,8),c.LFG(Es,8))},R.\u0275mod=c.oAB({type:R}),R.\u0275inj=c.cJS({}),R})();function Pa(R,S,w){return w.scrollOffset&&S.setOffset(w.scrollOffset),new Ks(R,S,w)}function Iu(R,S,w={}){return w.useHash?new cn.Do(R,S):new cn.b0(R,S)}function ps(R){return"guarded"}function pa(R){return[{provide:c.deG,multi:!0,useValue:R},{provide:Ma,multi:!0,useValue:R}]}let tn=(()=>{class R{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ut.xQ}appInitializer(){return this.injector.get(cn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const z=new Promise(Je=>M=Je),ue=this.injector.get(Es),Pe=this.injector.get(Jo);return"disabled"===Pe.initialNavigation?(ue.setUpLocationChangeListener(),M(!0)):"enabled"===Pe.initialNavigation||"enabledBlocking"===Pe.initialNavigation?(ue.hooks.afterPreactivation=()=>this.initNavigation?(0,ke.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),ue.initialNavigation()):M(!0),z})}bootstrapListener(w){const M=this.injector.get(Jo),z=this.injector.get(wu),ue=this.injector.get(Ks),Pe=this.injector.get(Es),Je=this.injector.get(c.z2F);w===Je.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&Pe.initialNavigation(),z.setUpPreloading(),ue.init(),Pe.resetRootComponentType(Je.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return R.\u0275fac=function(w){return new(w||R)(c.LFG(c.zs3))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();function mi(R){return R.appInitializer.bind(R)}function vo(R){return R.bootstrapListener.bind(R)}const Os=new c.OlP("Router Initializer")},3942:(Xt,lt,L)=>{"use strict";L.d(lt,{Z:()=>ke});var c=L(2090),X=L(4859),K=L(9681),Ve=L(1877);class Oe{constructor(Fe,je){this._delegate=Fe,this.firebase=je,(0,K._addComponent)(Fe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Fe,je=K._DEFAULT_ENTRY_NAME){var ft;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(Fe);return!we.isInitialized()&&"EXPLICIT"===(null===(ft=we.getComponent())||void 0===ft?void 0:ft.instantiationMode)&&we.initialize(),we.getImmediate({identifier:je})}_removeServiceInstance(Fe,je=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(je)}_addComponent(Fe){(0,K._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,K._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function be(){const Ee=function _e(Ee){const Fe={},je={__esModule:!0,initializeApp:function ut(Et,ve={}){const Me=K.initializeApp(Et,ve);if((0,c.r3)(Fe,Me.name))return Fe[Me.name];const Te=new Ee(Me,je);return Fe[Me.name]=Te,Te},app:we,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function xt(Et){const ve=Et.name,Me=ve.replace("-compat","");if(K._registerComponent(Et)&&"PUBLIC"===Et.type){const Te=(de=we())=>{if("function"!=typeof de[Me])throw Ce.create("invalid-app-argument",{appName:ve});return de[Me]()};void 0!==Et.serviceProps&&(0,c.ZB)(Te,Et.serviceProps),je[Me]=Te,Ee.prototype[Me]=function(...de){return this._getService.bind(this,ve).apply(this,Et.multipleInstances?de:[])}}return"PUBLIC"===Et.type?je[Me]:null},removeApp:function ft(Et){delete Fe[Et]},useAsService:function nt(Et,ve){return"serverAuth"===ve?null:ve},modularAPIs:K}};function we(Et){if(!(0,c.r3)(Fe,Et=Et||K._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Et});return Fe[Et]}return je.default=je,Object.defineProperty(je,"apps",{get:function wt(){return Object.keys(Fe).map(Et=>Fe[Et])}}),we.App=Ee,je}(Oe);return Ee.INTERNAL=Object.assign(Object.assign({},Ee.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Fe(je){(0,c.ZB)(Ee,je)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ee}(),me=new Ve.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ee=self.firebase.SDK_VERSION;Ee&&Ee.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=ee;!function ze(Ee){(0,K.registerVersion)("@firebase/app-compat","0.1.26",Ee)}()},9681:(Xt,lt,L)=>{"use strict";L.r(lt),L.d(lt,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>On,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Re,_addOrOverwriteComponent:()=>Xe,_apps:()=>st,_clearComponents:()=>vn,_components:()=>gt,_getProvider:()=>_t,_registerComponent:()=>Vt,_removeServiceInstance:()=>Wt,deleteApp:()=>rn,getApp:()=>zn,getApps:()=>nr,initializeApp:()=>Sr,onLog:()=>_r,registerVersion:()=>rr,setLogLevel:()=>qn});var c=L(5861),X=L(4859),K=L(1877),Ve=L(2090),Oe=L(8766);class se{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Yt=>{if(function Ce($e){const ct=$e.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(Yt)){const Zt=Yt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(Yt=>Yt).join(" ")}}const _e="@firebase/app",ee=new K.Yd("@firebase/app"),at="[DEFAULT]",Ge={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,gt=new Map;function Re($e,ct){try{$e.container.addComponent(ct)}catch(Yt){ee.debug(`Component ${ct.name} failed to register with FirebaseApp ${$e.name}`,Yt)}}function Xe($e,ct){$e.container.addOrOverwriteComponent(ct)}function Vt($e){const ct=$e.name;if(gt.has(ct))return ee.debug(`There were multiple attempts to register component ${ct}.`),!1;gt.set(ct,$e);for(const Yt of st.values())Re(Yt,$e);return!0}function _t($e,ct){const Yt=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return Yt&&Yt.triggerHeartbeat(),$e.container.getProvider(ct)}function Wt($e,ct,Yt=at){_t($e,ct).clearInstance(Yt)}function vn(){gt.clear()}const In=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class cn{constructor(ct,Yt,Zt){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Yt),this._name=Yt.name,this._automaticDataCollectionEnabled=Yt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const On="9.8.2";function Sr($e,ct={}){"object"!=typeof ct&&(ct={name:ct});const Yt=Object.assign({name:at,automaticDataCollectionEnabled:!1},ct),Zt=Yt.name;if("string"!=typeof Zt||!Zt)throw In.create("bad-app-name",{appName:String(Zt)});const gn=st.get(Zt);if(gn){if((0,Ve.vZ)($e,gn.options)&&(0,Ve.vZ)(Yt,gn.config))return gn;throw In.create("duplicate-app",{appName:Zt})}const Mn=new X.H0(Zt);for(const Tn of gt.values())Mn.addComponent(Tn);const mr=new cn($e,Yt,Mn);return st.set(Zt,mr),mr}function zn($e=at){const ct=st.get($e);if(!ct)throw In.create("no-app",{appName:$e});return ct}function nr(){return Array.from(st.values())}function rn($e){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*($e){const ct=$e.name;st.has(ct)&&(st.delete(ct),yield Promise.all($e.container.getProviders().map(Yt=>Yt.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function rr($e,ct,Yt){var Zt;let gn=null!==(Zt=Ge[$e])&&void 0!==Zt?Zt:$e;Yt&&(gn+=`-${Yt}`);const Mn=gn.match(/\s|\//),mr=ct.match(/\s|\//);if(Mn||mr){const Tn=[`Unable to register library "${gn}" with version "${ct}":`];return Mn&&Tn.push(`library name "${gn}" contains illegal characters (whitespace or "/")`),Mn&&mr&&Tn.push("and"),mr&&Tn.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void ee.warn(Tn.join(" "))}Vt(new X.wA(`${gn}-version`,()=>({library:gn,version:ct}),"VERSION"))}function _r($e,ct){if(null!==$e&&"function"!=typeof $e)throw In.create("invalid-log-argument");(0,K.Am)($e,ct)}function qn($e){(0,K.Ub)($e)}const We="firebase-heartbeat-store";let De=null;function qt(){return De||(De=(0,Oe.X3)("firebase-heartbeat-database",1,{upgrade:($e,ct)=>{0===ct&&$e.createObjectStore(We)}}).catch($e=>{throw In.create("storage-open",{originalErrorMessage:$e.message})})),De}function Ht(){return(Ht=(0,c.Z)(function*($e){try{return(yield qt()).transaction(We).objectStore(We).get(Ln($e))}catch(ct){throw In.create("storage-get",{originalErrorMessage:ct.message})}})).apply(this,arguments)}function an($e,ct){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*($e,ct){try{const Zt=(yield qt()).transaction(We,"readwrite");return yield Zt.objectStore(We).put(ct,Ln($e)),Zt.done}catch(Yt){throw In.create("storage-set",{originalErrorMessage:Yt.message})}})).apply(this,arguments)}function Ln($e){return`${$e.name}!${$e.options.appId}`}class Ar{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Yt=this.container.getProvider("app").getImmediate();this._storage=new He(Yt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var ct=this;return(0,c.Z)(function*(){const Zt=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=wr();if(null===ct._heartbeatsCache&&(ct._heartbeatsCache=yield ct._heartbeatsCachePromise),ct._heartbeatsCache.lastSentHeartbeatDate!==gn&&!ct._heartbeatsCache.heartbeats.some(Mn=>Mn.date===gn))return ct._heartbeatsCache.heartbeats.push({date:gn,agent:Zt}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(Mn=>{const mr=new Date(Mn.date).valueOf();return Date.now()-mr<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache)})()}getHeartbeatsHeader(){var ct=this;return(0,c.Z)(function*(){if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null===ct._heartbeatsCache||0===ct._heartbeatsCache.heartbeats.length)return"";const Yt=wr(),{heartbeatsToSend:Zt,unsentEntries:gn}=function Se($e,ct=1024){const Yt=[];let Zt=$e.slice();for(const gn of $e){const Mn=Yt.find(mr=>mr.agent===gn.agent);if(Mn){if(Mn.dates.push(gn.date),qe(Yt)>ct){Mn.dates.pop();break}}else if(Yt.push({agent:gn.agent,dates:[gn.date]}),qe(Yt)>ct){Yt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:Yt,unsentEntries:Zt}}(ct._heartbeatsCache.heartbeats),Mn=(0,Ve.L)(JSON.stringify({version:2,heartbeats:Zt}));return ct._heartbeatsCache.lastSentHeartbeatDate=Yt,gn.length>0?(ct._heartbeatsCache.heartbeats=gn,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),Mn})()}}function wr(){return(new Date).toISOString().substring(0,10)}class He{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,c.Z)(function*(){return(yield ct._canUseIndexedDBPromise)&&(yield function At($e){return Ht.apply(this,arguments)}(ct.app))||{heartbeats:[]}})()}overwrite(ct){var Yt=this;return(0,c.Z)(function*(){var Zt;if(yield Yt._canUseIndexedDBPromise){const Mn=yield Yt.read();return an(Yt.app,{lastSentHeartbeatDate:null!==(Zt=ct.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Mn.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Yt=this;return(0,c.Z)(function*(){var Zt;if(yield Yt._canUseIndexedDBPromise){const Mn=yield Yt.read();return an(Yt.app,{lastSentHeartbeatDate:null!==(Zt=ct.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...ct.heartbeats]})}})()}}function qe($e){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Pt($e){Vt(new X.wA("platform-logger",ct=>new se(ct),"PRIVATE")),Vt(new X.wA("heartbeat",ct=>new Ar(ct),"PRIVATE")),rr(_e,"0.7.25",$e),rr(_e,"0.7.25","esm2017"),rr("fire-js","")}("")},4859:(Xt,lt,L)=>{"use strict";L.d(lt,{wA:()=>K,H0:()=>_e,zt:()=>Oe});var c=L(5861),X=L(2090);class K{constructor(ee,me,ne){this.name=ee,this.instanceFactory=me,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ve="[DEFAULT]";class Oe{constructor(ee,me){this.name=ee,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const me=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(me)){const ne=new X.BH;if(this.instancesDeferred.set(me,ne),this.isInitialized(me)||this.shouldAutoInitialize())try{const fe=this.getOrInitializeService({instanceIdentifier:me});fe&&ne.resolve(fe)}catch(fe){}}return this.instancesDeferred.get(me).promise}getImmediate(ee){var me;const ne=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),fe=null!==(me=null==ee?void 0:ee.optional)&&void 0!==me&&me;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ze){if(fe)return null;throw ze}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ce(be){return"EAGER"===be.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(me){}for(const[me,ne]of this.instancesDeferred.entries()){const fe=this.normalizeInstanceIdentifier(me);try{const ze=this.getOrInitializeService({instanceIdentifier:fe});ne.resolve(ze)}catch(ze){}}}}clearInstance(ee=Ve){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,c.Z)(function*(){const me=Array.from(ee.instances.values());yield Promise.all([...me.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...me.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ve){return this.instances.has(ee)}getOptions(ee=Ve){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:me={}}=ee,ne=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const fe=this.getOrInitializeService({instanceIdentifier:ne,options:me});for(const[ze,ke]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ze)&&ke.resolve(fe);return fe}onInit(ee,me){var ne;const fe=this.normalizeInstanceIdentifier(me),ze=null!==(ne=this.onInitCallbacks.get(fe))&&void 0!==ne?ne:new Set;ze.add(ee),this.onInitCallbacks.set(fe,ze);const ke=this.instances.get(fe);return ke&&ee(ke,fe),()=>{ze.delete(ee)}}invokeOnInitCallbacks(ee,me){const ne=this.onInitCallbacks.get(me);if(ne)for(const fe of ne)try{fe(ee,me)}catch(ze){}}getOrInitializeService({instanceIdentifier:ee,options:me={}}){let ne=this.instances.get(ee);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(be=ee,be===Ve?void 0:be),options:me}),this.instances.set(ee,ne),this.instancesOptions.set(ee,me),this.invokeOnInitCallbacks(ne,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ne)}catch(fe){}var be;return ne||null}normalizeInstanceIdentifier(ee=Ve){return this.component?this.component.multipleInstances?ee:Ve:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const me=this.getProvider(ee.name);if(me.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);me.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const me=new Oe(ee,this);return this.providers.set(ee,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(Xt,lt,L)=>{"use strict";L.d(lt,{in:()=>X,Yd:()=>Ce,Ub:()=>_e,Am:()=>be});const c=[];var X=(()=>{return(ee=X||(X={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",X;var ee})();const K={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Ve=X.INFO,Oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},se=(ee,me,...ne)=>{if(me<ee.logLevel)return;const fe=(new Date).toISOString(),ze=Oe[me];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[ze](`[${fe}]  ${ee.name}:`,...ne)};class Ce{constructor(me){this.name=me,this._logLevel=Ve,this._logHandler=se,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in X))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?K[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...me),this._logHandler(this,X.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...me),this._logHandler(this,X.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,X.INFO,...me),this._logHandler(this,X.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,X.WARN,...me),this._logHandler(this,X.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...me),this._logHandler(this,X.ERROR,...me)}}function _e(ee){c.forEach(me=>{me.setLogLevel(ee)})}function be(ee,me){for(const ne of c){let fe=null;me&&me.level&&(fe=K[me.level]),ne.userLogHandler=null===ee?null:(ze,ke,...Ee)=>{const Fe=Ee.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch(ft){return null}}).filter(je=>je).join(" ");ke>=(null!=fe?fe:ze.logLevel)&&ee({level:X[ke].toLowerCase(),message:Fe,args:Ee,type:ze.name})}}}},8766:(Xt,lt,L)=>{"use strict";L.d(lt,{Lj:()=>ut,X3:()=>we});var c=L(5861);let K,Ve;const Ce=new WeakMap,_e=new WeakMap,be=new WeakMap,ee=new WeakMap,me=new WeakMap;let ze={get(ve,Me,Te){if(ve instanceof IDBTransaction){if("done"===Me)return _e.get(ve);if("objectStoreNames"===Me)return ve.objectStoreNames||be.get(ve);if("store"===Me)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return je(ve[Me])},set:(ve,Me,Te)=>(ve[Me]=Te,!0),has:(ve,Me)=>ve instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in ve};function Fe(ve){return"function"==typeof ve?function Ee(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Me){return ve.apply(ft(this),Me),je(Ce.get(this))}:function(...Me){return je(ve.apply(ft(this),Me))}:function(Me,...Te){const de=ve.call(ft(this),Me,...Te);return be.set(de,Me.sort?Me.sort():[Me]),je(de)}}(ve):(ve instanceof IDBTransaction&&function fe(ve){if(_e.has(ve))return;const Me=new Promise((Te,de)=>{const ye=()=>{ve.removeEventListener("complete",Ue),ve.removeEventListener("error",Ye),ve.removeEventListener("abort",Ye)},Ue=()=>{Te(),ye()},Ye=()=>{de(ve.error||new DOMException("AbortError","AbortError")),ye()};ve.addEventListener("complete",Ue),ve.addEventListener("error",Ye),ve.addEventListener("abort",Ye)});_e.set(ve,Me)}(ve),((ve,Me)=>Me.some(Te=>ve instanceof Te))(ve,function Oe(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,ze):ve)}function je(ve){if(ve instanceof IDBRequest)return function ne(ve){const Me=new Promise((Te,de)=>{const ye=()=>{ve.removeEventListener("success",Ue),ve.removeEventListener("error",Ye)},Ue=()=>{Te(je(ve.result)),ye()},Ye=()=>{de(ve.error),ye()};ve.addEventListener("success",Ue),ve.addEventListener("error",Ye)});return Me.then(Te=>{Te instanceof IDBCursor&&Ce.set(Te,ve)}).catch(()=>{}),me.set(Me,ve),Me}(ve);if(ee.has(ve))return ee.get(ve);const Me=Fe(ve);return Me!==ve&&(ee.set(ve,Me),me.set(Me,ve)),Me}const ft=ve=>me.get(ve);function we(ve,Me,{blocked:Te,upgrade:de,blocking:ye,terminated:Ue}={}){const Ye=indexedDB.open(ve,Me),St=je(Ye);return de&&Ye.addEventListener("upgradeneeded",jt=>{de(je(Ye.result),jt.oldVersion,jt.newVersion,je(Ye.transaction))}),Te&&Ye.addEventListener("blocked",()=>Te()),St.then(jt=>{Ue&&jt.addEventListener("close",()=>Ue()),ye&&jt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),St}function ut(ve,{blocked:Me}={}){const Te=indexedDB.deleteDatabase(ve);return Me&&Te.addEventListener("blocked",()=>Me()),je(Te).then(()=>{})}const wt=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],nt=new Map;function Et(ve,Me){if(!(ve instanceof IDBDatabase)||Me in ve||"string"!=typeof Me)return;if(nt.get(Me))return nt.get(Me);const Te=Me.replace(/FromIndex$/,""),de=Me!==Te,ye=xt.includes(Te);if(!(Te in(de?IDBIndex:IDBObjectStore).prototype)||!ye&&!wt.includes(Te))return;const Ue=function(){var Ye=(0,c.Z)(function*(St,...jt){const dt=this.transaction(St,ye?"readwrite":"readonly");let at=dt.store;return de&&(at=at.index(jt.shift())),(yield Promise.all([at[Te](...jt),ye&&dt.done]))[0]});return function(jt){return Ye.apply(this,arguments)}}();return nt.set(Me,Ue),Ue}!function ke(ve){ze=ve(ze)}(ve=>jE($E({},ve),{get:(Me,Te,de)=>Et(Me,Te)||ve.get(Me,Te,de),has:(Me,Te)=>!!Et(Me,Te)||ve.has(Me,Te)}))},5861:(Xt,lt,L)=>{"use strict";function c(K,Ve,Oe,se,Ce,_e,be){try{var ee=K[_e](be),me=ee.value}catch(ne){return void Oe(ne)}ee.done?Ve(me):Promise.resolve(me).then(se,Ce)}function X(K){return function(){var Ve=this,Oe=arguments;return new Promise(function(se,Ce){var _e=K.apply(Ve,Oe);function be(me){c(_e,se,Ce,be,ee,"next",me)}function ee(me){c(_e,se,Ce,be,ee,"throw",me)}be(void 0)})}}L.d(lt,{Z:()=>X})}},Xt=>{Xt(Xt.s=3214)}]);